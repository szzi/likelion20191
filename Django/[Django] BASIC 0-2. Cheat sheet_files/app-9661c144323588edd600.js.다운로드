!function(e){function t(t){for(var n,i,l=t[0],s=t[1],u=t[2],d=0,p=[];d<l.length;d++)i=l[d],o[i]&&p.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(c&&c(t);p.length;)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,l=1;l<r.length;l++){var s=r[l];0!==o[s]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={1:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(){return Promise.resolve()},i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=s;a.push(["jbcS",0,2]),r()}({"+575":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a,i=r("LvDl"),l=r("cBa6"),s=r("D2XV"),u=r("njgS"),c=r("pxbK"),d=r("5/h/"),p=r("6BTz"),f=r("GJWe"),h=r("njgS"),m=r("nFzZ"),y=r("IdIf"),g=r("RgmA"),v=r("g90h"),b=r("O+wX"),w=r("622O"),S=r("m5ks"),_=r("O+wX"),k=r("oRaq");!function(e){e[e.Text=0]="Text",e[e.UserMention=1]="UserMention",e[e.PageMention=2]="PageMention",e[e.DateMention=3]="DateMention",e[e.Link=4]="Link"}(a=t.TokenType||(t.TokenType={})),t.toSelectValue=function(e,t,r){void 0===r&&(r=!0);var n=R(e).find(function(e){return e.type===a.Text&&(!r||Boolean(t.find(function(t){return y.groupValuesEqual(t.value,e.value)})))});if(n)return n.value},t.fromSelectValue=function(e){return B([{type:a.Text,value:e}])},t.toMultiSelectValue=function(e,t,r){void 0===r&&(r=!0);var n=R(e).filter(function(e){return e.type===a.Text&&(!r||Boolean(t.find(function(t){return y.groupValuesEqual(t.value,e.value)})))}).map(function(e){return e.value});return i.uniq(n)},t.fromMultiSelectValue=function(e){return e?B(e.map(function(e){return{type:a.Text,value:e}})):[]},t.toCheckboxValue=function(e){return l.getTextWithoutTokens(e)===u.checkboxYesValue},t.fromCheckboxValue=function(e){return e?l.createTextValue(u.checkboxYesValue):l.createTextValue(u.checkboxNoValue)},t.toDateValue=function(e){var t=R(e).find(function(e){return e.type===a.DateMention});if(t)return t.data;var r=l.getTextWithoutTokens(e);return s.parseDateTimeRangeString(r)},t.fromDateValue=function(e){return e?[l.createMentionToken(["d",e])]:[]},t.toPersonValue=function(e){var t=R(e).filter(function(e){return e.type===a.UserMention});return i.uniq(t.map(function(e){return e.data}))},t.fromPersonValue=function(e){return B(e.map(function(e){return{type:a.UserMention,data:e}}))},t.toRelationValue=function(e){var t=R(e).filter(function(e){return e.type===a.PageMention});return i.uniq(t.map(function(e){return e.data}))},t.fromRelationValue=function(e){return B(e.map(function(e){return{type:a.PageMention,data:e}}))},t.toNumberValue=function(e){var t=l.getTextWithoutTokens(e),r=p.parseNumber(t);if(!isNaN(r))return r},t.fromNumberValue=function(e){return i.isNumber(e)&&!isNaN(e)?l.createTextValue(e.toString()):[]},t.toFileValue=function(e){var t=R(e).filter(function(e){return e.type===a.Link});return i.uniqBy(t,function(e){return e.data})},t.fromFileValue=function(e){return B(e)},t.toUrlValue=function(e){return R(e).filter(function(e){return e.type===a.Text||e.type===a.Link}).map(function(e){return e.type===a.Link?e.data:e.value})[0]},t.fromUrlValue=function(e){return e?B([{type:a.Link,value:e,data:e}]):[]},t.valueIsEmpty=function(e){var r=t.toEmptyValues(e);return 0===r.length||!r.some(function(e){return!e})},t.toEmptyValues=function(e){return t.toEnumValues(e).map(function(e){return 0===e.length||!e.some(function(e){return Boolean(e)})})},t.toEnumValues=function(e){var t=e.property,r=e.schema[t];return r?E[r.type](e):[]};var C=function(e){var t=e.block,r=e.property,n=e.getRecordValue,o=e.userTimeZone,a=(t.properties||{})[r],i=f.renderTextAsString({textValue:a,getRecordValue:n,userTimeZone:o});return i?[[i]]:[[]]},E={text:C,relation:function(e){var r=e.block,n=e.property,o=(r.properties||{})[n],a=t.toRelationValue(o);return a.length>0?[a]:[[]]},url:C,checkbox:function(e){var r=e.block,n=e.property,o=(r.properties||{})[n];return[[t.toCheckboxValue(o)?u.checkboxYesValue:u.checkboxNoValue]]},select:function(e){var r=e.block,n=e.property,o=e.schema[n];if(o&&"select"===o.type){var a=(r.properties||{})[n],i=o.options||[],l=t.toSelectValue(a,i);if(l)return[[l]]}return[[]]},multi_select:function(e){var r=e.block,n=e.property,o=e.schema[n];if(o&&"multi_select"===o.type){var a=(r.properties||{})[n],i=o.options||[],l=t.toMultiSelectValue(a,i);if(l.length>0)return[l]}return[[]]},person:function(e){var r=e.block,n=e.property,o=(r.properties||{})[n],a=t.toPersonValue(o);return a.length>0?[a]:[[]]},number:function(e){var r=e.block,n=e.property,o=(r.properties||{})[n],a=t.toNumberValue(o);return"number"==typeof a?[[a.toString()]]:[[]]},date:function(e){var r=e.block,n=e.property,o=e.userTimeZone,a=(r.properties||{})[n],i=t.toDateValue(a);return i?[[_.formatPersistedDate({value:i,userTimeZone:o})]]:[[]]},file:function(e){var r=e.block,n=e.property,o=(r.properties||{})[n],a=t.toFileValue(o);return a.length>0?[a.map(function(e){return e.data})]:[[]]},email:C,phone_number:C,formula:function(e){var t=e.block,r=e.property,n=e.schema,o=e.getRecordValue,a=e.userTimeZone,i=k.toFormulaValue({property:r,schema:n,block:t,getRecordValue:o,userTimeZone:a,depth:0});return"string"==typeof i?[[i]]:"number"==typeof i?[[i.toString()]]:"boolean"==typeof i?[[i?u.checkboxYesValue:u.checkboxNoValue]]:s.isPersistedDate(i)?[[_.formatPersistedDate({value:i,userTimeZone:a})]]:[[]]},title:C,created_time:function(e){var t=e.block,r=e.userTimeZone;return t.created_time?[[_.formatPersistedDate({value:s.dateTime(t.created_time,r),userTimeZone:r})]]:[[]]},created_by:function(e){var t=e.block;return t.created_by?[[t.created_by]]:[[]]},last_edited_time:function(e){var t=e.block,r=e.userTimeZone;return t.last_edited_time?[[_.formatPersistedDate({value:s.dateTime(t.last_edited_time,r),userTimeZone:r})]]:[[]]},last_edited_by:function(e){var t=e.block;return t.last_edited_by?[[t.last_edited_by]]:[[]]},rollup:function(e){var r=e.block,n=e.property,o=e.schema,a=e.getRecordValue,l=e.userTimeZone,s=o[n];if(s&&"rollup"===s.type){var u=S.getRollupPropertyData({property:n,schema:o,getRecordValue:a});if(!u)return[[]];if(!s.aggregation){var c=S.getRollupRelatedRecords({property:n,schema:o,block:r,getRecordValue:a}).map(function(e){return t.toEnumValues({block:e,property:u.targetProperty,schema:u.targetCollectionSchema,getRecordValue:a,userTimeZone:l})});return i.flatten(c)}var d=S.computeRollupAggregationValue({property:n,schema:o,block:r,getRecordValue:a,userTimeZone:l});if("number"==typeof d)return[[d.toString()]]}return[[]]}};t.toBooleanValues=function(e){var t=e.property,r=e.schema[t];return r?x[r.type](e):[]};var P=function(e){var r=e.block,n=e.property,o=(r.properties||{})[n];return[t.toCheckboxValue(o)]},x={text:P,email:P,phone_number:P,title:P,relation:P,url:P,checkbox:P,select:P,multi_select:P,person:P,number:P,date:P,file:P,created_time:P,created_by:P,last_edited_time:P,last_edited_by:P,formula:function(e){var t=e.block,r=e.property,n=e.schema,o=e.getRecordValue,a=e.userTimeZone;return[!0===k.toFormulaValue({property:r,schema:n,block:t,getRecordValue:o,userTimeZone:a,depth:0})]},rollup:function(e){var r=e.block,n=e.property,o=e.schema,a=e.getRecordValue,l=e.userTimeZone,s=S.getRollupPropertyData({property:n,schema:o,getRecordValue:a});if(!s)return[];var u=S.getRollupRelatedRecords({property:n,schema:o,block:r,getRecordValue:a}).map(function(e){return t.toBooleanValues({block:e,property:s.targetProperty,schema:s.targetCollectionSchema,getRecordValue:a,userTimeZone:l})});return i.flatten(u)}};t.toNumberValues=function(e){var t=e.property,r=e.schema[t];return r?O[r.type](e):[]};var T=function(e){var r=e.block,n=e.property,o=(r.properties||{})[n],a=t.toNumberValue(o);return"number"==typeof a?[a]:[]},O={text:T,email:T,phone_number:T,title:T,relation:T,url:T,checkbox:T,select:T,multi_select:T,person:T,number:T,date:function(e){var r=e.block,n=e.property,o=e.userTimeZone,a=(r.properties||{})[n],i=t.toDateValue(a);return i?[s.timeStamp(i,o)]:[]},file:T,created_time:function(e){var t=e.block;return t.created_time?[t.created_time]:[]},created_by:T,last_edited_time:function(e){var t=e.block;return t.last_edited_time?[t.last_edited_time]:[]},last_edited_by:T,formula:function(e){var t=e.block,r=e.property,n=e.schema,o=e.getRecordValue,a=e.userTimeZone,i=k.toFormulaValue({property:r,schema:n,block:t,getRecordValue:o,userTimeZone:a,depth:0});return"number"==typeof i?[i]:s.isPersistedDate(i)?[s.timeStamp(i,a)]:[]},rollup:function(e){var r=e.block,n=e.property,o=e.schema,a=e.getRecordValue,l=e.userTimeZone,s=o[n];if(!s||"rollup"!==s.type)return[];var u=S.getRollupPropertyData({property:n,schema:o,getRecordValue:a});if(!u)return[];if(!s.aggregation){var c=S.getRollupRelatedRecords({property:n,schema:o,block:r,getRecordValue:a}).map(function(e){return t.toNumberValues({block:e,property:u.targetProperty,schema:u.targetCollectionSchema,getRecordValue:a,userTimeZone:l})});return i.flatten(c)}var d=S.computeRollupAggregationValue({property:n,schema:o,block:r,getRecordValue:a,userTimeZone:l});return"number"==typeof d?[d]:[]}};t.toDateValues=function(e){var t=e.property,r=e.schema[t];return r?I[r.type](e):[]};var M=function(e){var r=e.block,n=e.property,o=(r.properties||{})[n],a=t.toDateValue(o);return a?[a]:[]},I={text:M,email:M,phone_number:M,title:M,relation:M,url:M,checkbox:M,select:M,multi_select:M,person:M,number:M,date:M,file:M,created_time:function(e){var t=e.block,r=e.userTimeZone;return t.created_time?[s.dateTime(t.created_time,r)]:[]},created_by:M,last_edited_time:function(e){var t=e.block,r=e.userTimeZone;return t.last_edited_time?[s.dateTime(t.last_edited_time,r)]:[]},last_edited_by:M,formula:function(e){var t=e.block,r=e.property,n=e.schema,o=e.getRecordValue,a=e.userTimeZone,i=k.toFormulaValue({property:r,schema:n,block:t,getRecordValue:o,userTimeZone:a,depth:0});return s.isPersistedDate(i)?[i]:[]},rollup:function(e){var r=e.block,n=e.property,o=e.schema,a=e.getRecordValue,l=e.userTimeZone,u=o[n];if(!u||"rollup"!==u.type)return[];var c=S.getRollupPropertyData({property:n,schema:o,getRecordValue:a});if(!c)return[];if(!u.aggregation){var d=S.getRollupRelatedRecords({property:n,schema:o,block:r,getRecordValue:a}).map(function(e){return t.toDateValues({block:e,property:c.targetProperty,schema:c.targetCollectionSchema,getRecordValue:a,userTimeZone:l})});return i.flatten(d)}var p=S.computeRollupAggregationValue({property:n,schema:o,block:r,getRecordValue:a,userTimeZone:l});return"number"==typeof p?[s.dateTime(p,l)]:[]}};t.toExportStringValue=function(e){var t=e.schema,r=e.property,o=e.block,a=t[r],i=(o.properties||{})[r]||[];if(a){var l=D[a.type];if(l)return l(n({textValue:i,propertySchema:a},e))}};var A=function(e){var t=e.textValue,r=e.getRecordValue,n=e.userTimeZone;return f.renderTextAsString({textValue:t,getRecordValue:r,userTimeZone:n})},D={title:A,text:A,select:function(e){var r=e.textValue,n=e.propertySchema.options||[];return t.toSelectValue(r,n)},multi_select:function(e){var r=e.textValue,n=e.propertySchema.options||[],o=t.toMultiSelectValue(r,n);return o.sort(),o.join(",")},relation:function(e){var r=e.textValue,n=t.toRelationValue(r).map(function(e){return"https://www.notion.so/"+v.withoutDashes(e)});return n.sort(),n.join(", ")},rollup:S.toExportStringValue,url:function(e){var r=e.textValue;return t.toUrlValue(r)},email:function(e){var r=e.textValue;return t.toUrlValue(r)},phone_number:function(e){var r=e.textValue;return t.toUrlValue(r)},checkbox:function(e){var r=e.textValue;return t.toCheckboxValue(r)?h.checkboxYesValue:h.checkboxNoValue},person:function(e){var r=e.textValue,n=e.getRecordValue,o=t.toPersonValue(r),a=m.compact(o.map(function(e){var t=n("notion_user",e);if(t)return d.getFullName(t)}));return a.sort(),a.join(",")},number:function(e){var r=e.textValue,n=t.toNumberValue(r);if(void 0!==n)return n.toString()},date:function(e){var r=e.textValue,n=e.userTimeZone,o=e.propertySchema,a=t.toDateValue(r),i=o,l=i.date_format,s=i.time_format;if(a)return b.formatPersistedDate({value:a,date_format:l,time_format:s,userTimeZone:n})},file:function(e){var r=t.toFileValue(e.textValue).map(function(t){if(t.data&&e.exportedFilePaths&&e.secureFileS3Url&&w.isSecureFileUrl(t.data,e.secureFileS3Url)){var r=w.getS3UrlExportPath(t.data);if(r)return r}return t.data});return r.sort(),r.join(",")},formula:function(e){var t=e.property,r=e.schema,n=e.block,o=e.getRecordValue,a=e.userTimeZone,i=c.evaluateFormula({schema:r,property:t,block:n,getRecordValue:o,userTimeZone:a,depth:0});return"boolean"==typeof i?i?h.checkboxYesValue:h.checkboxNoValue:"number"==typeof i?i.toString():s.isPersistedDate(i)?b.formatPersistedDate({value:i,userTimeZone:a}):i},created_time:function(e){var t=e.block,r=e.userTimeZone;if(t.created_time)return b.formatPersistedDate({value:s.dateTime(t.created_time,r),userTimeZone:r})},last_edited_time:function(e){var t=e.block,r=e.userTimeZone;if(t.last_edited_time)return b.formatPersistedDate({value:s.dateTime(t.last_edited_time,r),userTimeZone:r})},created_by:function(e){var t=e.block,r=e.getRecordValue;if(t.created_by){var n=r("notion_user",t.created_by);if(n)return d.getFullName(n)}},last_edited_by:function(e){var t=e.block,r=e.getRecordValue;if(t.last_edited_by){var n=r("notion_user",t.last_edited_by);if(n)return d.getFullName(n)}}};t.toSortPropertyValue=function(e){var t=e.schema,r=e.property,o=e.block,a=t[r],i=(o.properties||{})[r]||[];if(a){var l=L[a.type];if(l)return l(n({textValue:i,propertySchema:a},e))}};var L={title:function(e){var t=e.textValue,r=e.getRecordValue,n=e.userTimeZone;return f.renderTextAsString({textValue:t,getRecordValue:r,userTimeZone:n}).toLowerCase()},text:function(e){var t=e.textValue,r=e.getRecordValue,n=e.userTimeZone;return f.renderTextAsString({textValue:t,getRecordValue:r,userTimeZone:n}).toLowerCase()},select:function(e){var r=e.textValue,n=e.propertySchema.options||[],o=t.toSelectValue(r,n),a=n.findIndex(function(e){return y.groupValuesEqual(e.value,o)});if(a>=0)return a},multi_select:function(e){var r=e.textValue,n=e.propertySchema.options||[],o=t.toSelectValue(r,n),a=n.findIndex(function(e){return y.groupValuesEqual(e.value,o)});if(a>=0)return a},relation:function(e){var r=e.textValue,n=e.getRecordValue,o=t.toRelationValue(r);return m.compact(o.map(function(e){var t=n("block",e);return t&&t.properties&&t.properties.title?l.getTextWithoutTokens(t.properties.title).replace(/,/g,""):""})).join(" ")},rollup:S.toSortValue,url:function(e){var r=e.textValue;return t.toUrlValue(r)},email:function(e){var r=e.textValue;return t.toUrlValue(r)},phone_number:function(e){var r=e.textValue;return t.toUrlValue(r)},checkbox:function(e){var r=e.textValue;return!!t.toCheckboxValue(r)},person:function(e){var r=e.textValue,n=e.getRecordValue,o=t.toPersonValue(r);return m.compact(o.map(function(e){var t=n("notion_user",e);return t?d.getFullName(t):""})).join(" ")},number:function(e){var r=e.textValue;return t.toNumberValue(r)},date:function(e){var r=e.textValue,n=e.userTimeZone,o=t.toDateValue(r);if(o)return s.timeStamp(o,n)},file:function(e){var t=e.textValue;return l.getTextWithoutTokens(t)},formula:function(e){var t=e.property,r=e.schema,n=e.block,o=e.getRecordValue,a=e.userTimeZone;return c.formulaToSortValue({schema:r,property:t,block:n,getRecordValue:o,userTimeZone:a,depth:0})},created_time:function(e){return e.block.created_time},last_edited_time:function(e){return e.block.last_edited_time},created_by:function(e){var t=e.block,r=e.getRecordValue,n=t.created_by;if(n){var o=r("notion_user",n);if(o)return d.getFullName(o)}},last_edited_by:function(e){var t=e.block,r=e.getRecordValue,n=t.last_edited_by;if(n){var o=r("notion_user",n);if(o)return d.getFullName(o)}}};function R(e){var t,r,n,i,s=l.getUnstyledTextValue(e),u=[];try{for(var c=o(s),d=c.next();!d.done;d=c.next()){var p=d.value;if(l.isMentionToken(p)){var f=l.getTokenAnnotations(p),h=l.findPageAnnotation(f),m=l.findUserAnnotation(f),y=l.findDateAnnotation(f);if(h){var g=l.getPageAnnotationData(h);v.isUUIDWithDashes(g)&&u.push({type:a.PageMention,data:g})}else if(m){var b=l.getUserAnnotationData(m);v.isUUIDWithDashes(b)&&u.push({type:a.UserMention,data:b})}else if(y){var w=l.getDateAnnotationData(y);u.push({type:a.DateMention,data:w})}}else if(l.isAnnotatedTextToken(p)){var S=l.getTokenValue(p),_=(f=l.getTokenAnnotations(p),l.findLinkAnnotation(f));if(_){var k=l.getLinkAnnotationData(_);u.push({type:a.Link,value:S,data:k||""})}}else{var C=(S=l.getTokenValue(p)).split(",");try{for(var E=o(C),P=E.next();!P.done;P=E.next()){var x=P.value.trim();x.length>0&&u.push({type:a.Text,value:x})}}catch(e){n={error:e}}finally{try{P&&!P.done&&(i=E.return)&&i.call(E)}finally{if(n)throw n.error}}}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return u}function B(e){var t=e.map(function(e){return e.type===a.PageMention?l.createMentionToken(["p",e.data]):e.type===a.UserMention?l.createMentionToken(["u",e.data]):e.type===a.Link?l.createToken(e.value,[["a",e.data]]):e.type===a.DateMention?l.createMentionToken(["d",e.data]):l.createToken(e.value)}),r=g.default(t,function(){return l.createToken(",")});return l.normalizeTextValue(r)}t.toTokens=R,t.fromTextTokens=B},"+DAh":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("2Ig/");t.default=new n.default},"+LO1":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("bkwR"),s=r("r8oj"),u=r("HSWF"),c=r("E5KU"),d=r("AXh+"),p=r("6BPK"),f=r("VAix"),h=r("74/9"),m=r("pQrc"),y=r("nFzZ"),g=r("Cycz"),v=r("QSw5"),b=r("QcDD"),w=r("qDOf"),S=r("T1hA"),_=r("+UXM"),k=r("r8MX"),C=r("szb2"),E=r("ogob"),P=r("nfLz"),x=r("g90h"),T=r("+fkW"),O=r("HTHG"),M=r("HTHG");t.identifyUser=function(e,r,n){return void 0===n&&(n=w.default.verboseAnalytics),o(this,void 0,void 0,function(){var o,i;return a(this,function(a){switch(a.label){case 0:return[4,t.initializeAnalyticsSettings()];case 1:return o=a.sent(),i=M.getCurrentSpaceIds().map(x.getAnalyticsId),P.identifyUser({userId:e,traits:r,settings:o}),E.identifyUser({userId:e,traits:r,spaceIds:i}),n&&c.log("identify:",JSON.stringify(r)),[2]}})})},t.deidentifyCurrentUser=function(e){return void 0===e&&(e=w.default.verboseAnalytics),o(this,void 0,void 0,function(){return a(this,function(t){return E.deidentifyUser(),e&&c.log("deidentify user"),[2]})})},t.identifyWorkspace=function(){return o(this,void 0,void 0,function(){var e,t;return a(this,function(r){switch(r.label){case 0:return[4,k.default.waitUntilLoaded()];case 1:return r.sent(),[4,B()];case 2:return e=r.sent(),P.identifyWorkspace({companiesData:e}),(t=L())&&E.identifyWorkspace({spaceData:t}),[2]}})})},t.track=function(e,r,i){return void 0===i&&(i=w.default.verboseAnalytics),o(this,void 0,void 0,function(){var o,l,s,u;return a(this,function(a){switch(a.label){case 0:return o=I(),[4,t.initializeAnalyticsSettings()];case 1:return a.sent(),S.default.isLoggedIn()&&b.default.state.currentBlockStore?[4,b.default.waitUntil(function(){return Boolean(b.default.state.currentBlockStore&&b.default.state.currentBlockStore.isReady)})]:[3,4];case 2:return a.sent(),b.default.state.currentSpaceStore?[4,k.default.waitUntilLoaded()]:[3,4];case 3:a.sent(),a.label=4;case 4:return l=L(),s=f.default(n({},r,A(),o,l,R(),D())),u=l&&l.space_id?l.space_id:void 0,P.track({eventName:e,eventData:s}),E.track({eventName:e,eventData:s,spaceId:u}),i&&c.log("track:%c "+e,"font-weight: bold;",JSON.stringify(s)),[2]}})})},t.setDeviceFingerprintData=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){return e={},u.getFingerprintId()||setTimeout(function(){p.get(e,function(e){var t=e.map(function(e){return e.value}),r=p.x64hash128(t.join(""),31);u.setFingerprintId(r)})},500),[2]})})};var I=function(){var e=u.getReferralUserId();return{is_desktop:s.default.isElectron,is_mobile:s.default.isMobile,is_cordova:s.default.isCordova,is_react_native:s.default.isReactNative,is_ios:s.default.isIOS,is_logged_in:S.default.isLoggedIn(),unique_id:u.getFingerprintId()||"not_defined",tags:u.getSessionAnalyticsTags(),referral_user_id:e?x.getAnalyticsId(e):void 0,pathname:document.location?document.location.pathname:"",referer:document.referrer}},A=function(){var e=b.default.state.currentSpaceViewStore;if(e){var t=e.getValue();if(t)return{notify_desktop:t.notify_desktop,notify_email:t.notify_email,notify_mobile:t.notify_mobile}}return{}},D=function(){var e=b.default.state.userSettingsStore;if(e){var t=e.getValue();if(t){var r={app_version:s.default.version,desktop_app_version:s.default.desktopAppVersion,mobile_app_version:s.default.mobileAppVersion},o={};if(t.settings){var a=t.settings;o={user_persona:a.persona,user_source:a.source,user_type:a.type,user_use_case:a.use_case,time_zone:a.time_zone,locale:a.locale,signup_time:a.signup_time,used_desktop_web_app:a.used_desktop_web_app,used_mobile_web_app:a.used_mobile_web_app,used_mac_app:a.used_mac_app,used_windows_app:a.used_windows_app,used_ios_app:a.used_ios_app,used_android_app:a.used_android_app}}return i.omitBy(n({},r,o),i.isUndefined)}}},L=function(){var e=k.default.state,t=e.data,r=e.spaceId,n=b.default.state,o=n.userStore,a=n.currentSpaceStore;if(r&&o&&a&&t){var l=T.default.getPublicSpaceData(r),s=g.isSubscribed(t),u=g.getMembers(t).length||0,c=a.getValue(),d=c?c.domain:l?l.domain:void 0,p=c&&c.email_domains?c.email_domains:void 0,f=O.getCurrentPageId(),h=g.getUsagePercent(t),m=i.isNumber(h)&&NaN!==h&&h!==1/0?h:0;return{space_name:j(o),subscription_tier:g.getCurrentSubscriptionTier(),page_id:f?x.getAnalyticsId(f):void 0,space_id:x.getAnalyticsId(r),space_is_subscribed:s,space_member_count:u,space_block_usage:g.getBlockUsage(t),space_block_usage_over_limit:g.isOverBlockLimit(t),space_role:a.getRole(),space_block_usage_percent:m,space_created_time:l?l.createdTime:void 0,available_credit:t.availableCredit,space_domain:d||"not_defined",space_email_domains:p}}},R=function(){var e=C.default.state,t=e.open?e.target:b.default.state.currentBlockStore;if(t){var r=d.getMostPermissiveBlockPermissions(t).map(function(e){return e.permissionItem}),n=r.find(function(e){return"public_permission"===e.type}),o=r.find(function(e){return"space_permission"===e.type}),a=r.filter(function(e){return"user_permission"===e.type&&"reader"===e.role}),i=r.filter(function(e){return"user_permission"===e.type&&("editor"===e.role||"read_and_write"===e.role)}),l=t.getValue();return{page_id:t.id,page_public_role:n?n.role:"not_defined",page_space_role:o?o.role:"not_defined",page_all_collaborator_count:i.length+a.length,page_editor_collaborator_count:i.length,page_read_only_collaborator_count:a.length,page_current_user_role:t.getRole(),page_is_peek:C.default.state.open,page_copied_from:l&&l.copied_from?x.getAnalyticsId(l.copied_from):void 0,page_is_template:t.isTemplate()}}},B=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,i;return a(this,function(a){switch(a.label){case 0:return e=b.default.state,t=e.userRootStore,r=e.userStore,n=L(),r&&t&&n?[4,Promise.all([t.load(),r.load()])]:[3,4];case 1:return a.sent(),o=t.getSpaceViewStores(),[4,Promise.all(o.map(function(e){return e.load()}))];case 2:return a.sent(),i=y.compact(o.map(function(e){return e.getSpaceStore()})),[4,Promise.all(i.map(function(e){return e.load()}))];case 3:return a.sent(),[2,y.compact(i.map(function(e){var t=e.getValue();if(t){var o=x.getAnalyticsId(t.id);if(o===n.space_id){var a=k.default.state.data,i={id:n.space_id,name:j(r),size:e.getPermissionItems().length,is_subscribed:n.space_is_subscribed,is_beta:Boolean(t.beta_enabled)};return a&&"subscribed_admin"===a.type&&(i.plan=a.plan),n.space_created_time&&(i.company_created_at=n.space_created_time),i}return i={id:o,name:j(r),size:e.getPermissionItems().length}}}))];case 4:return[2,[]]}})})};t.initializeAnalyticsSettings=v.memoizeResolved(function(){return o(this,void 0,void 0,function(){var e,t,r,n,o;return a(this,function(a){switch(a.label){case 0:return e=_.default.get("analyticsSettings"),t=S.default.state.userId,e&&t&&e.user_id!==t&&(e=void 0),r=l.getUserAnalyticsSettings({platform:s.default.isElectron?"desktop":s.default.isReactNative||s.default.isCordova?"mobile":"web"}),e?[3,2]:[4,r];case 1:"success"===(n=a.sent()).type&&(e=n.data),a.label=2;case 2:if(!e)throw new Error("No analytics settings found.");return w.default.setState(e),(o=w.default.state).isIntercomEnabled&&P.initialize(o),o.isAmplitudeEnabled&&E.initialize(),r.then(function(e){"success"===e.type&&_.default.set("analyticsSettings",e.data)}),[2,e]}})})});var j=function(e){var t=e.getValue();return t&&h.default(t.email)?m.default(t.email):t?t.email:void 0}},"+P8o":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("Sb6f"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{style:t.style},this.renderImage(),this.renderTitle(),this.renderPrice(),this.props.button,this.renderFeatures())},t.prototype.renderImage=function(){var e=this.props,t=e.image,r=e.isSmallScreen;if(t)return i.createElement("img",{src:this.props.image,style:a({height:120,marginTop:r?24:0,marginBottom:r?8:18},this.props.imageStyle)})},t.prototype.renderTitle=function(){var e=this.props,t=e.isSettings,r=e.isSmallScreen,n=e.title;return i.createElement("div",{style:{display:r?"flex":"block",fontSize:t?20:24,fontWeight:s.default.fontWeight.bold,lineHeight:1.2,paddingLeft:t?0:16,alignItems:"center",marginBottom:r?4:0}},n)},t.prototype.renderPrice=function(){var e=this.props,t=e.price,r=e.caption,n=e.isSettings,o=e.isSmallScreen;return i.createElement("div",{style:{display:"flex",alignItems:"center",height:o?"none":50,marginTop:o?8:0,paddingLeft:n?0:16}},t&&i.createElement("div",{style:{fontSize:n?28:36,lineHeight:1,marginRight:8}},t),r&&i.createElement("div",{style:{fontSize:n?12:14,color:this.theme.mediumTextColor,lineHeight:"120%"}},r))},t.prototype.renderFeatures=function(){var e=this.props.isSettings;if(this.props.features)return i.createElement("div",{style:{flexGrow:1,alignSelf:"stretch",marginTop:e?12:24,padding:e?"4px 12px 10px":"8px 16px 24px",fontSize:e?12:16,color:this.theme.mediumTextColor,background:this.theme.sidebarBackground,borderRadius:3}},this.props.features.map(function(t,r){return i.createElement("div",{style:{marginTop:e?6:10},key:r},t)}))},t.style={display:"flex",flexDirection:"column",alignItems:"flex-start",flex:1},t}(l.default);t.default=u},"+UXM":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("cDZm");t.default=new n.default("LocalPreferenceStore3",!1)},"+fFR":function(e,t,r){"use strict";function n(){return navigator.languages?navigator.languages.map(function(e){return e.toLowerCase()}):navigator.language?[navigator.language.toLowerCase()]:navigator.userLanguage?[navigator.userLanguage.toLowerCase()]:[]}Object.defineProperty(t,"__esModule",{value:!0}),t.getUserLanguageCodes=n,t.getUserShortLanguageCodes=function(){return n().map(function(e){return e.split("-")[0]})},t.rightToLeftLanguages=["ar","az","he","fa","ur"]},"+fkW":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("LEzx"),u=r("+UXM"),c=r("bkwR"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fetchSpaceIds=new Set,t.fetchedSpaceIds=new Set,t.publicSpaceDataMap={},t.fetch=function(){return a(t,void 0,void 0,function(){var e,t,r,n,o,a,s,d,p=this;return i(this,function(i){switch(i.label){case 0:if(r=Array.from(this.fetchSpaceIds.values()),this.fetchSpaceIds.clear(),!(r.length>0))return[3,2];try{for(n=l(r),o=n.next();!o.done;o=n.next())a=o.value,this.fetchedSpaceIds.add(a),(s=u.default.get(this.getLocalKey(a)))&&this.setPublicSpaceData(a,s)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return[4,c.getPublicSpaceData({spaceIds:r})];case 1:"success"===(d=i.sent()).type&&d.data.results.forEach(function(e,t){if(e){var n=r[t];p.setPublicSpaceData(n,e),u.default.set(p.getLocalKey(n),e)}}),i.label=2;case 2:return[2]}})})},t}return o(t,e),t.prototype.getInitialState=function(){return{}},t.prototype.getPublicSpaceData=function(e,t){return void 0===t&&(t=!1),t&&(this.fetchSpaceIds.delete(e),this.fetchedSpaceIds.delete(e)),this.fetchSpaceIds.has(e)||this.fetchedSpaceIds.has(e)||(this.fetchSpaceIds.add(e),setImmediate(this.fetch)),this.publicSpaceDataMap[e]},t.prototype.setPublicSpaceData=function(e,t){this.publicSpaceDataMap[e]=t,this.emit()},t.prototype.getLocalKey=function(e){return t.localKeyPrefix+":"+e},t.localKeyPrefix="PublicSpaceData",t}(s.default);t.default=new d},"+ftx":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"google_token",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,token:n.default.String,google_user_id:n.default.String}};t.default=o},"+jeX":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("LvDl"),c=r("mF3+"),d=r("Fo9m"),p=r("r8oj"),f=r("KcXv"),h=r("bFnu"),m=r("n8tN"),y=r("IwFn"),g=r("SGmk"),v=r("OWVv"),b=r("6fCZ"),w=r("cBa6"),S=r("MBf9"),_=r("vX3W"),k=r("dsG5"),C=r("6rsX"),E=r("unoy"),P=r("i8i4"),x=r("BRCg"),T=r("MeYt"),O=r("622O"),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.caption=function(){t.handleEditCaption()},t.handleEditCaption=function(){return i(t,void 0,void 0,function(){var e;return l(this,function(t){return e=this.props.store.getPropertyStore("caption"),C.edit({store:this.props.store}),E.setSelectionAtEnd({store:e}),[2]})})},t.handleOpenMenu=function(){if(t.canEdit()){var e=P.findDOMNode(t);if(e&&e instanceof Element){var r=e.getBoundingClientRect();_.show({originRect:r,originGap:0,isSmallWidth:!0,showArrow:!0,title:"File",currentTab:"file",tabs:[{type:"file",onUpload:t.handleUpload},{type:"embed",buttonText:"Embed File",inputPlaceholder:"Paste a file link...",caption:"Supports links to PDFs, Google Docs, Google Sheets, Google Maps, CodePen...",onChange:function(e){_.clear(),S.createAndCommit(function(r){d.updateSource({store:t.props.store,source:e,name:void 0,size:void 0,transaction:r})})}}]})}}},t.handleMouseEnter=function(e){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(e){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t.handleClick=function(){k.openSource({store:t.props.store})},t.handleUpload=function(e){var r=t.props.store;S.createAndCommit(function(e){d.updateSource({store:t.props.store,source:void 0,name:void 0,size:void 0,transaction:e})}),d.uploadFile({store:r,file:e})},t.fileUploadStore=t.createComputedStore(function(){return x.default.getKeyState(x.default.getBlockKey(t.props.store.id))}),t}return o(t,e),t.prototype.handleCreated=function(){this.edit()},t.prototype.edit=function(){this.handleOpenMenu()},t.prototype.activate=function(){this.handleOpenMenu()},t.prototype.replace=function(){this.handleOpenMenu()},t.prototype.renderPersisted=function(){var e=this.getSource();return e?this.renderFile(e):this.renderUploader()},t.prototype.renderFile=function(e){var r=this.props.store.getProperties(),n=w.getTextWithoutTokens(r&&r.title),o=w.getTextWithoutTokens(r&&r.size),a=(this.stores.mouseStore.state.mouseEntered||p.default.isMobile)&&this.canEdit()&&s.createElement(b.default,{style:{marginRight:4},store:this.props.store,fadeIn:!0});return s.createElement("div",null,s.createElement("div",{onMouseMove:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:{display:"flex"}},s.createElement(T.default,{style:this.getStyle(),onClick:this.handleClick},s.createElement(v.default,{style:t.innerStyle,left:c.default.file(),leftStyle:t.fileIconStyle,alignment:v.Alignment.Center,right:a},s.createElement("div",{style:{display:"flex",alignItems:"baseline"}},s.createElement("div",{style:t.nameStyle},O.getFileDisplayName({title:n,source:e})),o&&s.createElement(y.default,{style:{marginLeft:6,whiteSpace:"nowrap"}},o)))),this.renderDiscussion()),this.renderCaption())},t.prototype.renderUploader=function(){var e=this,t=this.props.disabled,r=this.fileUploadStore.state;return s.createElement("div",{onMouseMove:function(){return e.stores.mouseStore.setState(a({},e.stores.mouseStore.state,{mouseEntered:!0}))},onMouseLeave:function(){return e.stores.mouseStore.setState(a({},e.stores.mouseStore.state,{mouseEntered:!1}))},style:{display:"flex"}},s.createElement(g.default,{disabled:t,iconSvg:c.default.file,right:(this.stores.mouseStore.state.mouseEntered||p.default.isMobile)&&this.canEdit()&&s.createElement(b.default,{store:this.props.store,fadeIn:!0}),isLoading:Boolean(r),progressPercent:r?r.progressPercent:0,file:r?r.file:void 0,name:r?r.name:void 0,size:r?r.size:void 0,onClick:this.handleOpenMenu},"Upload or Embed a File"),this.renderDiscussion())},t.prototype.getSource=function(){var e=this.props.store.getProperties(),t=e&&e.source,r=w.getText(t);return this.props.store.getFormat().display_source||r},t.prototype.getStyle=function(){var e=u.omit(this.getBlockColorStyle(),["fontSize","lineHeight"]);return a({flexGrow:1,minWidth:0,borderRadius:3},e)},t.stores={mouseStore:h.default},t.innerStyle={paddingTop:f.itemStyle.paddingTop,paddingBottom:f.itemStyle.paddingBottom,paddingLeft:f.itemStyle.paddingLeft},t.downloadLinkStyle={display:"block"},t.nameStyle={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},t.fileIconStyle={width:"1.35em",height:"1.35em"},t}(m.default);t.default=M},"+mWT":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=r("LvDl"),s=r("BJyN"),u=r("mjq6");function c(e,t){return s.filterActionSections(e,function(e){return d(e,t)})}function d(e,t){return!e.validators||e.validators.every(function(e){return e(t)})}function p(e,t){return i(e.split(" "),[t]).join(" ")}t.fuzzyMatchActions=function(e,t,r){var a,i,s,d,f,h,m=r.trim().toLowerCase();if(!m)return c(e,t);var y=function(e){return e.map(function(e){return n({},e,{actions:e.actions.map(function(t){var r=t.searchName&&p(e.searchTitle||e.title||"",t.searchName);return n({},t,{name:p(e.title||"",t.name),searchName:r})})})})}(c(function(e,t){var r,a,i=[],l=function(e){var r,a,l=n({},e,{actions:[]}),s=function(r){var a,s;if(r.subActions){var u=r.subActions(t).map(function(t){return n({},t,{key:e.key+" "+r.key+" "+t.key,title:t.title||r.name,searchTitle:[r.searchName||r.name,t.searchTitle||t.title].filter(Boolean).join(" ")})});try{for(var c=o(u),d=c.next();!d.done;d=c.next()){var p=d.value;i.push(p)}}catch(e){a={error:e}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}}else l.actions.push(r)};try{for(var u=o(e.actions),c=u.next();!c.done;c=u.next()){var d=c.value;s(d)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}l.actions.length&&i.push(l)};try{for(var s=o(e),u=s.next();!u.done;u=s.next()){var c=u.value;l(c)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}return i}(e,t),t)),g=[],v=new Map;try{for(var b=o(y),w=b.next();!w.done;w=b.next()){var S=w.value;try{for(var _=o(S.actions),k=_.next();!k.done;k=_.next()){var C=k.value;v.set(C,S),g.push(C)}}catch(e){s={error:e}}finally{try{k&&!k.done&&(d=_.return)&&d.call(_)}finally{if(s)throw s.error}}}}catch(e){a={error:e}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(a)throw a.error}}var E=u.default(m,g,function(e){return e.searchName||e.name}),P=l.groupBy(E,function(e){var t=v.get(e);if(t)return t.title}),x=[];try{for(var T=o(Object.keys(P)),O=T.next();!O.done;O=T.next()){var M=P[O.value];(S=v.get(M[0]))&&x.push(n({},S,{actions:M}))}}catch(e){f={error:e}}finally{try{O&&!O.done&&(h=T.return)&&h.call(T)}finally{if(f)throw f.error}}return x},t.validateAction=d},"+pmu":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("aBKD"),s=r("4NII"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return s.default()?a.createElement("div",{style:t.mobileWrapStyle},a.createElement("div",{style:{width:"145%",flexShrink:0}},this.renderDesktopScreenshot()),a.createElement("div",{style:{width:24,flexShrink:0}})):a.createElement("div",{style:t.desktopWrapStyle},this.renderDesktopScreenshot())},t.prototype.renderDesktopScreenshot=function(){return a.createElement(l.default,{format:l.default.Format.Safari,aspectRatio:.602},a.createElement("img",{style:{width:"100%"},src:this.props.screenshot}))},t.desktopWrapStyle={position:"relative",maxWidth:"100%",width:960,marginBottom:42},t.mobileWrapStyle={display:"flex",paddingBottom:24,width:"100vw",overflow:"auto",WebkitOverflowScrolling:"touch",paddingLeft:24},t}(i.default);t.default=u},"/0g+":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("r8oj"),l=r("wpmu"),s=r("bkwR"),u=r("VBxf"),c=r("sdlW"),d=r("jZoB"),p=r("MBf9"),f=r("6SEd"),h=r("hbKx"),m=r("H4VD"),y=r("lufz"),g=r("FUUC"),v=r("BLi8"),b=r("y6Dp"),w=r("FcJC"),S=r("G4cA"),_=r("QcDD"),k=r("5ma9");t.restoreBlocks=function(e){var t,r,n=e.blocks,o=e.transaction,s=_.default.state.currentSpaceStore;if(s){var u=s.getPagesStore();try{for(var p=a(n),S=p.next();!S.done;S=p.next()){var k=S.value;if(v.default.state.excludePages.add(k.id),v.default.emit(),k.getParentTable()===g.default.table)d.append({parent:u,append:k,transaction:o});else if(k.getParentTable()===f.default.table){var C=k.getParentCollectionStore();if(C){var E=h.getPathStores(C);if(!h.pathIsAlive(E)){var P=E.find(function(e){return e instanceof l.default&&e.isCollectionView()});P&&(d.append({parent:u,append:P,transaction:o}),c.setPagePermissionsToPrivate({blocks:[P],transaction:o}))}y.setParent({childStore:k,parentStore:C,alive:!0,transaction:o}),k.isTemplate()&&d.append({parent:C.getTemplatePagesStore(),append:k,transaction:o})}}else{var x=k.getParentBlockStore();if(x){E=h.getPathStores(x);if(h.pathIsAlive(E)){var T=x.getContentStore(),O=l.default.createChildStore(T,k.id);d.append({parent:T,append:O,transaction:o})}else d.append({parent:u,append:k,transaction:o}),c.setPagePermissionsToPrivate({blocks:[k],transaction:o})}}}}catch(e){t={error:e}}finally{try{S&&!S.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}n[0]&&(m.navigateToBlock({store:n[0]}),i.default.isMobile&&w.close())}b.trackRestoreTrashPage()},t.deleteBlocks=function(e){return n(this,void 0,void 0,function(){var t,r,n,i,u,c,p,f;return o(this,function(o){switch(o.label){case 0:n=e.blocks,i=e.transaction;try{for(u=a(n),c=u.next();!c.done;c=u.next())p=c.value,(f=p.getParentStore())&&(f instanceof l.default?d.remove({parent:f.getContentStore(),remove:p,transaction:i}):f instanceof S.default&&d.remove({parent:f.getPagesStore(),remove:p,transaction:i}),y.setParent({parentStore:f,childStore:p,alive:!1,transaction:i}))}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return[4,s.deleteBlocks({blockIds:n.map(function(e){return e.id}),permanentlyDelete:!1})];case 1:return o.sent(),[2]}})})},t.permanentlyDeleteBlocks=function(e){var t=this;u.showDialog({message:"Are you sure you want to delete this page permanently?",showCancel:!0,keepFocus:!1,items:[{label:"Yes. Delete this page",color:"red",onAccept:function(){return n(t,void 0,void 0,function(){var t,r,n,i,l,u,c;return o(this,function(o){switch(o.label){case 0:n=e.blocks,i=p.create();try{for(l=a(n),u=l.next();!u.done;u=l.next())c=u.value,v.default.state.excludePages.add(c.id),v.default.emit()}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return[4,s.deleteBlocks({blockIds:n.map(function(e){return e.id}),permanentlyDelete:!0})];case 1:return o.sent(),[4,k.refreshUserSharedPages()];case 2:return o.sent(),m.navigateAwayIfCurrentPage({blocks:n}),p.commit({transaction:i}),b.trackDeleteTrashPage(),[2]}})})}}]})}},"/6eU":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("EVoB"),s=r("NOLh"),u=r("t+pW"),c=r("VyA+"),d=r("F9et"),p=r("fHgN"),f=r("enKW"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastOpenState=!1,t.renderOverlay=function(){var e=t.props,r=e.open,n=e.keepFocus;return i.createElement(c.default,{capture:r,onEsc:t.props.onDismiss},i.createElement(s.default,{isVisible:r,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},useCompositeLayer:!0,onAnimationEnd:t.handleAnimationEnd,springConfig:{opacity:{stiffness:50,damping:5,precision:.005}},render:function(){return i.createElement(d.default,{capture:Boolean(n),render:function(e){return i.createElement("div",a({style:t.getStyle()},e,{className:t.props.className}),i.createElement("div",{style:t.getBackgroundStyle(),onClick:t.props.onDismiss}),i.createElement(s.default,{isVisible:r,animationStyle:{scale:1},enterAnimationStyle:{scale:.97},exitAnimationStyle:{scale:.97},useCompositeLayer:!0,springConfig:{scale:{stiffness:50,damping:3.8,precision:.001}},render:function(){return i.createElement("div",{style:a({position:"relative",zIndex:1,boxShadow:f.getShadow({elevation:5,color:t.theme.shadowColor,opacity:t.theme.shadowOpacity}),borderRadius:3,background:t.theme.contentBackground},t.props.innerStyle)},t.renderChildren())}}))}})}}))},t.handleAnimationEnd=function(){t.props.open?t.stores.store.setState({open:!0,openAnimationCompleted:!0,closeAnimationCompleted:!0}):t.stores.store.setState({open:!1,openAnimationCompleted:!0,closeAnimationCompleted:!0})},t}return o(t,e),t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t);var r=t.open;!this.lastOpenState&&r?(this.stores.store.setState({open:!0,openAnimationCompleted:!1,closeAnimationCompleted:!0}),t.onOpen&&t.onOpen()):this.lastOpenState&&!r&&this.stores.store.setState({open:!0,openAnimationCompleted:!0,closeAnimationCompleted:!1}),this.lastOpenState=r},t.prototype.renderComponent=function(){return i.createElement(p.default,{open:this.stores.store.state.open,render:this.renderOverlay,zIndex:this.props.overlayZIndex,origin:this.props.origin})},t.prototype.renderChildren=function(){var e=this.stores.store,t=this.props,r=t.render,n=t.preventHideChildrenWhileOpening;return e.state.openAnimationCompleted||n?r():void 0},t.prototype.getStyle=function(){return a({width:"100vw",height:"100vh",position:"fixed",top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:this.props.open?"auto":"none"},this.props.style)},t.prototype.getBackgroundStyle=function(){return{position:"absolute",top:0,left:0,bottom:0,right:0,background:this.theme.modalBackground}},t.stores={store:l.default},t}(u.default);t.default=h},"/8Ho":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){var t,r,a=this;this.responseMap={},this.handleRecieveChannel=function(e){return n(a,void 0,void 0,function(){var t,r,n,a,l;return o(this,function(o){switch(o.label){case 0:return"request"!==(r=JSON.parse(e)).type?[3,3]:this.receiveHandlers[r.name]?[4,(t=this.receiveHandlers)[r.name].apply(t,i(r.args))]:[3,2];case 1:n=o.sent(),a={id:r.id,type:"response",name:r.name,result:n},this.sendChannel(JSON.stringify(a)),o.label=2;case 2:return[3,4];case 3:"response"===r.type&&this.responseMap[r.id]&&(l=this.responseMap[r.id],delete this.responseMap[r.id],l(r.result)),o.label=4;case 4:return[2]}})})},this.sendChannel=e.sendChannel,this.receiveChannel=e.receiveChannel,this.receiveHandlers=e.receiveHandlers;var s={},u=function(e){s[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=(Math.random()*Math.pow(10,16)).toString(),o=new Promise(function(e){a.responseMap[n]=e}),i={id:n,type:"request",name:e,args:t};return a.sendChannel(JSON.stringify(i)),o}};try{for(var c=l(e.sendCapabilities),d=c.next();!d.done;d=c.next()){u(d.value)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}this.api=s,this.receiveChannel.addListener(this.handleRecieveChannel)}return e.prototype.destroy=function(){this.receiveChannel.removeListener(this.handleRecieveChannel)},e}();t.EventBasedApi=s},"/H8L":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{loginEmail:""}},t}(r("LEzx").default);t.default=a},"/IOv":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("STAJ"),c=r("r8oj"),d=r("n8tN"),p=r("g8hj"),f=r("1fP1"),h=r("PAkL"),m=r("cxCj"),y=r("wlCD"),g=r("ttM1"),v=r("M64d"),b=r("XDBA"),w=r("tzV5"),S=r("RvCr"),_=r("y6Dp"),k=r("MBf9"),C=r("IdIf"),E=r("AOw3"),P=r("EZe4"),x=r("FmD2"),T=r("ikHm"),O=r("NPnS"),M=r("wF3w"),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.groupCollectionStoreMap=new Map,t.renderGroupHeader=function(e,r){var n=t.props,o=n.schema,a=n.collectionViewLocalStore,i=n.format,l=n.query,u=n.disabled;return s.createElement(O.default,{key:e.value||"undefined",currentGroups:r,groupFormat:e,query:l,schema:o,format:i,collectionViewLocalStore:a,instanceCollectionStore:t.getGroupCollectionStore(e.value),disabled:u||!t.canEdit(),locked:t.isLocked(),hidden:!1,isPopup:!1})},t.renderGroup=function(e,r,n){var o=t.props,a=o.store,i=o.collectionViewLocalStore,l=o.isFullScreen,c=o.collectionViewScrollStore,d=o.query,p=o.schema,f=o.format,m=o.disabled,y=o.blockPropertyValueOverlayStore,g=0!==u.filter(function(e){return e.hidden},t.getCurrentGroups()).length;return s.createElement(h.default,{store:a,key:C.getGroupId(e),query:d,schema:p,format:f,groupFormat:e,instanceCollectionStore:t.getGroupCollectionStore(e?e.value:void 0),collectionViewLocalStore:i,collectionViewScrollStore:c,isFullScreen:l,isInPeekRenderer:t.props.isInPeekRenderer,disabled:m||!t.canEdit(),isLast:n&&!g,blockPropertyValueOverlayStore:y})},t.renderHiddenGroup=function(e){var r=t.props,n=r.collectionViewLocalStore,o=r.query,a=r.schema,i=r.format,l=r.disabled,u=r.blockPropertyValueOverlayStore,c=t.getCurrentGroups(),d=b.getAggregationData(o,"board",n.getCurrentAggregationValueResult(),e,void 0);return s.createElement(m.default,{key:C.getGroupId(e),query:o,schema:a,format:i,groupFormat:e,aggregation:d.aggregation,aggregationResult:d.aggregationResult,currentGroups:c,collectionViewLocalStore:n,disabled:l||!t.canEdit(),locked:t.isLocked(),blockPropertyValueOverlayStore:u,instanceCollectionStore:t.getGroupCollectionStore(e.value)})},t.handleGroupReorder=function(e,r){var n=t.props.collectionViewLocalStore,o=t.getCurrentGroups(),a=o.filter(function(t){return e.indexOf(C.getGroupId(t))<0}),i=o.filter(function(t){return e.indexOf(C.getGroupId(t))>=0}),s=u.sortBy(function(t){var r=e.indexOf(C.getGroupId(t));return r>=0?r:1/0},i),c=r?l(a,s):l(s,a);k.createAndCommit(function(e){S.updateGroups({collectionViewLocalStore:n,newGroups:c,transaction:e})}),_.trackConfigureView({view_type:"board",action:r?"board_reorder_hidden_groups":"board_reorder_groups"})},t.handleBoardAddGroupButtonAccept=function(e){var r=t.props.collectionViewLocalStore,n=k.create();if(e.newBoardGroups&&S.updateGroups({collectionViewLocalStore:r,newGroups:e.newBoardGroups,transaction:n}),e.newSchema){var o=t.props.collectionViewLocalStore.state.collectionStore;o&&w.updateCollection({collectionStore:o,update:{schema:e.newSchema},transaction:n})}k.commit({transaction:n})},t.handleEditorMouseDown=function(e){c.default.isMobile||P.default({event:e,context:P.EventContext.EditorMouseDown,callback:function(){e.preventDefault(),x.startRectangularSelection({target:e.target,startX:e.clientX,startY:e.clientY,showSelectionRect:!0,preventSelectStores:[t.props.store]})}})},t.handleHeaderMount=function(e){t.headerEl=e},t.handleScrollStoreChange=function(){var e=t.props,r=e.collectionViewScrollStore,n=e.isInPeekRenderer,o=r.state.offsetTop;t.headerEl&&(n?t.headerEl.style.transform=null:(t.headerEl.style.transform="translate3D(0, "+o+"px, 0)",t.headerEl.style.zIndex=T.fixedCollectionHeader.toString(),t.headerEl.style.borderTop=0!==o?"none":"1px solid "+t.theme.darkDividerColor))},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),t.collectionViewScrollStore.addListener(this.handleScrollStoreChange)},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),this.props.collectionViewScrollStore.removeListener(this.handleScrollStoreChange)},t.prototype.didMount=function(){e.prototype.didMount.call(this),this.handleScrollStoreChange()},t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t);var r=t.query,n=t.store;!r.group_by&&n.getValue()&&n.canEdit()&&this.updateOrCreateGroupedProperty(t)},t.prototype.renderPersisted=function(){if(this.props.query.group_by)return this.renderBoard()},t.prototype.renderBoard=function(){var e=this,r=this.props,n=r.store,o=r.isFullScreen,i=this.getCurrentGroups(),l=i.filter(function(e){return!e.hidden}),u=i.filter(function(e){return e.hidden});return v.default(function(r){return s.createElement("div",{style:e.getBoardStyle()},s.createElement(E.default,a({style:e.getColumnsWrapStyle(),store:n,shouldShowHalo:!o,canSelect:!o,onMouseDown:e.handleEditorMouseDown,analyticsName:"board"},r),e.renderHeader(i,l,u),e.renderBoardGroups(l),u.length>0&&e.renderHiddenGroups(u),e.canEdit()&&!e.isLocked()&&s.createElement("div",{style:t.addGroupButtonPlaceholderStyle})),e.renderLoadingSpinner())})},t.prototype.renderHeader=function(e,t,r){var n=this,o=t.map(function(e){return C.getGroupId(e)});return s.createElement("div",{style:this.getHeaderStyle(),ref:this.handleHeaderMount},c.default.isMobile||this.isLocked()?o.map(function(r,o){return n.renderGroupHeader(t[o],e)}):s.createElement(p.default,{direction:p.DraggableListDirection.Horizontal,keys:o,renderKey:function(r,o){return n.renderGroupHeader(t[o],e)},onDrop:function(e){return n.handleGroupReorder(e,!1)}}),r.length>0&&s.createElement("div",{style:this.getHiddenGroupsCaptionStyle()},"Hidden Columns"),this.canEdit()&&!this.isLocked()&&this.renderAddGroupButton())},t.prototype.renderBoardGroups=function(e){var t=this,r=e.map(function(e){return C.getGroupId(e)});return s.createElement("div",{style:p.default.horizontalStyle},r.map(function(n,o){var a=r.length-1===o;return t.renderGroup(e[o],o,a)}))},t.prototype.renderHiddenGroups=function(e){var r=this,n=this.canEdit(),o=e.map(function(e){return C.getGroupId(e)});return s.createElement("div",{style:t.hiddenGroupsWrapStyle},e.length>0&&(!n||c.default.isMobile||this.isLocked()?s.createElement("div",null,e.map(this.renderHiddenGroup)):s.createElement(p.default,{direction:p.DraggableListDirection.Vertical,keys:o,renderKey:function(t,n){return r.renderHiddenGroup(e[n])},onDrop:function(e){return r.handleGroupReorder(e,!0)}})))},t.prototype.renderAddGroupButton=function(){var e=this.props,r=e.query,n=e.schema;if(r.group_by){var o=this.getCurrentGroups();return s.createElement("div",{style:t.addGroupButtonWrapStyle},s.createElement(f.default,{groupBy:r.group_by,schema:n,boardGroups:o,onAccept:this.handleBoardAddGroupButtonAccept,parentStore:this.props.store}))}},t.prototype.renderLoadingSpinner=function(){var e=this.props.collectionViewLocalStore.state.isLoading;return s.createElement(g.default,{show:e,showDelay:500,showHold:200,render:function(e){return e?s.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},s.createElement(y.default,{style:{margin:8,width:18,height:18}})):void 0}})},t.prototype.getCurrentGroups=function(){var e=this.props.format;return e&&e.board_groups||[]},t.prototype.getGroupCollectionStore=function(e){var t=this.props.collectionStore,r=e||"undefined",n=this.groupCollectionStoreMap.get(r);return n||(n=t.clone(),this.groupCollectionStoreMap.set(r,n)),n.recordStoreParentStore=t,n},t.prototype.updateOrCreateGroupedProperty=function(e){var t=e.query,r=e.schema,n=e.collectionViewLocalStore,o=e.collectionStore,i=e.collectionViewStore;k.createAndCommit(function(e){var l,s=b.findGroupableProperty(r);if(!s){s=M.default();l=u.assoc(s,{name:"Status",type:"select",options:[]},r)}var c=a({},t,{group_by:s});w.updateCollectionView({collectionViewLocalStore:n,collectionViewStore:i,update:{query:c},transaction:e}),l&&w.updateCollection({collectionStore:o,update:{schema:l},transaction:e})})},t.prototype.isLocked=function(){return this.props.store.isLocked()},t.prototype.getBoardStyle=function(){return{paddingLeft:this.props.paddingLeft,paddingRight:this.props.paddingRight,float:"left",minWidth:"100%"}},t.prototype.getHeaderStyle=function(){return{position:"absolute",background:this.theme.contentBackground,height:h.default.headerHeight,zIndex:T.fixedCollectionHeader,display:"flex",width:"100%",borderTop:"1px solid "+this.theme.darkDividerColor,boxShadow:"-3px 0 0 "+this.theme.contentBackground,paddingTop:4}},t.prototype.getColumnsWrapStyle=function(){return{display:"flex",position:"relative",flexGrow:1,paddingBottom:this.props.paddingBottom}},t.prototype.getHiddenGroupsCaptionStyle=function(){return{width:220,flexShrink:0,display:"flex",alignItems:"center",marginLeft:4,fontSize:14,color:this.theme.lightTextColor,background:this.theme.contentBackground}},t.hiddenGroupsWrapStyle={width:220,flexShrink:0,marginTop:h.default.headerHeight},t.addGroupButtonWrapStyle={width:180,whiteSpace:"nowrap",flexShrink:0,display:"flex",alignItems:"center"},t.addGroupButtonPlaceholderStyle={width:180,flexShrink:0},t}(d.default);t.default=I},"/LoX":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("r1Zr"),u=r("KcXv"),c=r("n8tN"),d=r("NOvk"),p=r("3DNc"),f=r("Dime"),h=r("OWVv"),m=r("fJHT"),y=r("+575"),g=r("MBf9"),v=r("sjR4"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCheckboxClick=function(e){t.toggleChecked()},t}return o(t,e),t.prototype.activate=function(){this.toggleChecked()},t.prototype.renderPersisted=function(){return i.createElement(h.default,{style:this.getStyle(),left:this.renderCheckbox(),leftStyle:{paddingRight:2},childrenStyle:{display:"flex",flexDirection:"column"}},i.createElement("div",{style:{display:"flex"}},this.renderTitle(),this.renderDiscussion(d.default.discussionIndicatorStyle)),!this.props.hideContent&&this.renderContent())},t.prototype.renderCheckbox=function(){return p.default({checked:this.isChecked(),onClick:this.handleCheckboxClick,disabled:!this.canEdit(),size:16})},t.prototype.renderTitle=function(){var e=u.itemStyle,t=e.paddingTop,r=e.paddingBottom;return i.createElement(m.default,{style:this.getTitleStyle(),placeholderStyle:{paddingTop:t,paddingBottom:r},disabled:this.props.disabled,store:this.props.store.getBlockTitleStore(),placeholder:"To-do"})},t.prototype.renderContent=function(){var e=this.props.disabled;return i.createElement(f.default,{disabled:e,store:this.props.store.getContentStore()})},t.prototype.isChecked=function(){var e=this.props.store.getProperties();return!!e&&y.toCheckboxValue(e.checked)},t.prototype.toggleChecked=function(){var e;this.canEdit()&&(e=l.includes(v.default.state.stores,this.props.store)?v.default.state.stores:[this.props.store],this.isChecked()?g.createAndCommit(function(t){s.uncheck({blocks:e,transaction:t})}):g.createAndCommit(function(t){s.check({blocks:e,transaction:t})}))},t.prototype.getStyle=function(){return a({paddingLeft:u.itemStyle.paddingLeft},this.getBlockColorStyle(),this.props.style)},t.prototype.getTitleStyle=function(){return a({},h.defaultTitleStyle,{width:void 0,flexGrow:1},this.isChecked()&&{textDecoration:"line-through",opacity:.375})},t}(c.default);t.default=b},"/OOg":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("r8oj"),s=r("R9mH"),u=r("ooa+"),c=r("yeum"),d=r("DlEO"),p=r("62KP"),f=r("T1hA"),h=r("H4VD"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.didMount=function(){f.default.isLoggedIn()&&h.navigate({url:"/",redirect:!0})},t.prototype.renderComponent=function(){var e=this.stores.loginPermissionsStore;return l.default.isElectron?a.createElement(c.default,{loginStore:d.default,loginPermissionsStore:e}):l.default.isReactNative||l.default.isCordova?a.createElement(u.default,{loginStore:d.default,loginPermissionsStore:e}):a.createElement(s.default,{isSignup:this.props.isSignup})},t.stores={loginPermissionsStore:p.default},t}(i.default);t.default=m},"/RgW":function(e,t){},"/Tx6":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("KcXv"),s=r("n8tN"),u=r("fJHT"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){var e=this.props.disabled;return i.createElement("div",{style:this.getStyle()},i.createElement(u.default,{style:t.innerStyle,placeholderStyle:{left:t.innerStyle.paddingLeft,width:"auto",right:t.innerStyle.paddingLeft},disabled:e,store:this.props.store.getBlockTitleStore(),placeholder:"Empty Quote"}),this.renderDiscussion())},t.prototype.getStyle=function(){return a({fontSize:"1.2em"},l.itemStyle,this.getBlockColorStyle(),{display:"flex"},this.props.style)},t.innerStyle={borderLeft:"3px solid currentColor",paddingLeft:"0.9em",paddingRight:"0.9em"},t}(s.default);t.default=c},"/U3w":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=function(e){var t=e.key,r=e.render,n=e.zIndex,o=e.useCompositeLayer,a=e.renderEvents,i=e.overlayContainerStore,l={render:r,zIndex:n,renderEvents:a,useCompositeLayer:o};i.state.overlays[t]||(i.state.overlays[t]=l,i.emit())},t.remove=function(e){var t=e.key,r=e.overlayContainerStore;r.state.overlays[t]&&(delete r.state.overlays[t],r.emit())}},"/YYm":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("Wvka"),a=r("A9TN"),i=r("vTDQ"),l=r("QcDD"),s=r("+UXM");t.default=function(e){var t,r=(e=n({fullyQualified:!0},e)).store,u=e.collectionViewId,c=e.showMoveTo,d=e.saveParent;if(u)t=u;else if(r&&r.isCollectionView()){var p=s.default.get(i.default.getLocalViewPreferenceKey(r.id));if(p)t=p;else{var f=r.getCollectionViewStores();f[0]&&(t=f[0].id)}}var h=l.default.state.currentSpaceStore;return o.default({pageId:r&&r.id,pageValue:r&&r.getValue(),spaceValue:h&&h.getValue(),scrollToBlockId:e.scrollToBlockId,peekViewBlockId:e.peekViewBlockId,collectionViewId:t,discussionId:e.discussionId,baseUrl:e.fullyQualified?a.default.baseURL:void 0,showMoveTo:c,saveParent:d})}},"/Zir":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("KcXv"),s=r("zmp8"),u=r("wldR"),c=r("mKpc"),d=r("yLOv"),p=r("7M94"),f=r("r8oj"),h=r("X6Ne"),m=r("WWez"),y=r("4NII"),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.didMount=function(){var e=document.documentElement;e&&e.classList.add(p.frontPage)},t.prototype.willMountOrUpdate=function(){h.shouldDisableScroll()?document.body.classList.contains("disable-scroll")||document.body.classList.add("disable-scroll"):document.body.classList.contains("disable-scroll")&&document.body.classList.remove("disable-scroll")},t.prototype.willUnmount=function(){document.body.classList.contains("disable-scroll")&&document.body.classList.remove("disable-scroll");var e=document.documentElement;e&&e.classList.contains(p.frontPage)&&e.classList.remove(p.frontPage)},t.prototype.renderComponent=function(){var e=this;return i.createElement(m.default,{analyticsName:this.props.analyticsName,render:function(){return i.createElement("div",{style:e.getWrapStyle()},i.createElement("main",{style:t.style},i.createElement(d.default,{hideProductLink:e.props.hideProductLink,hidePricingLink:e.props.hidePricingLink,hideMobileLink:e.props.hideMobileLink,hideDesktopLink:e.props.hideDesktopLink,hideEvernoteLink:e.props.hideEvernoteLink,hideLoginLink:e.props.hideLoginLink,hideLoginLinkDivier:e.props.hideLoginLinkDivier,analyticsName:e.props.analyticsName,signupInputAndButtonWidth:e.props.signupInputAndButtonWidth}),e.props.children,i.createElement(c.default,null)))}})},t.prototype.getWrapStyle=function(){return{overflowX:f.default.isMobile?"visible":"hidden"}},t.style=a({},l.baseStyle,{background:s.default.frontBackground,color:s.default.FrontColor,fontSize:17,lineHeight:1.4,paddingTop:y.default()?90:120,paddingLeft:30,paddingRight:30,maxWidth:"100%",width:960,margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",WebkitFontSmoothing:"antialiased"}),t}(u.default);t.default=g},"/dq7":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("wldR"),l=r("fzF3"),s=r("y6Dp"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.useCaseRotationTimeInterval=3500,t.handleIndexClick=function(e){t.stores.store.setState(a({},t.stores.store.state,{index:e})),t.useCaseRotationTimeout&&clearTimeout(t.useCaseRotationTimeout),s.trackClickFrontPageGalleryItem({from:t.props.analyticsFrom,index:e})},t.goToNextUseCase=function(){var e=t.stores.store.state.index+1;e===t.props.itemsCount&&(e=0),t.stores.store.setState(a({},t.stores.store.state,{index:e})),t.continueRotateUseCases()},t.continueRotateUseCases=function(){t.useCaseRotationTimeout&&clearTimeout(t.useCaseRotationTimeout),t.useCaseRotationTimeout=setTimeout(t.goToNextUseCase,t.useCaseRotationTimeInterval)},t}return o(t,e),t.prototype.willMount=function(){this.continueRotateUseCases()},t.prototype.willUnmount=function(){clearTimeout(this.useCaseRotationTimeout)},t.prototype.renderComponent=function(){var e=this.stores.store.state.index;return this.props.render({currentIndex:e,setIndex:this.handleIndexClick})},t.stores={store:l.default},t}(i.default);t.default=u},"/lZ2":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("KcXv"),s=r("n8tN"),u=r("wlCD"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){return i.createElement("div",{style:t.wrapStyle},i.createElement("div",{style:t.style},i.createElement(u.default,null)))},t.style={minHeight:"1.5em",display:"flex",alignItems:"center"},t.wrapStyle=a({},l.itemStyle),t}(s.default);t.default=c},"/mqF":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var a=r("sjR4"),i=r("y6Dp"),l=r("6rsX"),s=r("unoy"),u=r("nFzZ"),c=r("qpkC"),d=r("VBxf"),p=r("q2qQ"),f=r("qHvo"),h=r("AmMh");t.cancelDrag=function(){f.default.state.isDragging&&(f.default.reset(),l.setPhase({phase:a.SelectionPhase.Selected}))},t.completeDrag=function(e){if(f.default.state.isDragging){var r=f.default.state.currentDropZone,n=f.default.state.draggedStores,o=e.optionKey;if(r){var a=h.default.findSelectableFromStore(r.store);a&&a.props.onSelectableDrop&&a.props.onSelectableDrop({droppedDirection:r.direction,droppedStores:n,duplicate:o})}i.trackEditorDrag({draggedTypes:u.compact(n.map(function(e){return e.getType()})),from:e.analyticsFrom,asCopy:o}),t.cancelDrag()}},t.completeNativeDrag=function(e){var r=e.files,n=e.analyticsFrom;e.transaction;if(f.default.state.isDragging){var o=f.default.state.currentDropZone;if(o){var a=h.default.findSelectableFromStore(o.store);a&&a.props.onNativeDrop&&a.props.onNativeDrop({files:r,droppedDirection:o.direction})}i.trackEditorDrag({draggedTypes:[],from:n,asCopy:!1}),t.cancelDrag()}},t.continueDrag=function(e){f.default.state.isDragging&&(s.clear(),f.default.setState(n({},f.default.state,e)))},t.startDrag=function(e){if(f.default.state.isDragging)return!1;var t=e.startX,r=e.startY,o=e.stores,i=e.isNativeDrag;s.clear();var u=h.default.getRectFromStore(o[0]);return f.default.setState(n({},f.default.state,{isDragging:!0,startX:t,startY:r,currentX:t,currentY:r,offsetX:t-(u&&u.left||0),offsetY:r-(u&&u.top||0),draggedStores:o,isNativeDrag:i})),l.setPhase({phase:a.SelectionPhase.Selected}),!0},t.createOrMove=function(e){var t=e.droppedStores,r=e.duplicate,n=e.transaction;return u.compact(t.map(function(e){if(h.default.findSelectableFromStore(e)){if(r){var t=o(c.duplicateBlock({store:e,addCopyName:!0,transaction:n}),2),a=t[0];return t[1].then(function(e){e&&d.showError({error:e})}),a}return p.remove({store:e,transaction:n})}return e}))}},"/uT/":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("qqdV"),s=r("6Ydq"),u=r("KcXv"),c=r("tP7q"),d=r("zmp8"),p=r("A9TN"),f=r("qQqH"),h=r("SuX3"),m=r("wldR"),y=r("PfMi"),g=r("XiLu"),v=r("J36v"),b=r("mnyC"),w=r("E16d"),S=r("ToVy"),_=r("15Ub"),k=r("UC1o"),C=r("QcHx"),E=r("OIfF"),P=r("uwoq"),x=r("eoiX"),T=r("/OOg"),O=r("Bpt7"),M=r("RAxL"),I=r("lP6X"),A=r("mN4y"),D=r("YUWc"),L=r("uux+"),R=r("97xd"),B=r("Ueby"),j=r("ErXr"),V=r("0g+O"),F=r("5Nka"),N=r("IYZQ"),U=r("Ng05"),W=r("5e7j"),z=r("r8oj"),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.didCatchError=!1,t}return o(t,e),t.prototype.componentDidCatch=function(e,t){s.log({level:"error",from:"Router",type:"ClientCrash",error:e,data:t}),this.didCatchError=!0,this.forceUpdate()},t.prototype.renderComponent=function(){return this.didCatchError?i.createElement("div",{style:t.reactErrorStyle},i.createElement("img",{src:F.default.images.reactErrorPng,width:32}),i.createElement("div",{style:t.reactErrorMessageStyle},i.createElement("div",null,"Oops! Something went wrong."),i.createElement("div",null,"Please refresh and try again or"," ",i.createElement(N.default,{onClick:this.openIntercomMessages},"chat with us"),".")),i.createElement(U.default,{isLarge:!0,onClick:function(){return window.location.reload()}},"Refresh")):i.createElement(_.default,null,this.renderRoute())},t.prototype.renderRoute=function(){var e=P.default.state;if(z.default.isNative&&c.nonNativeRoutes[e.route.name])return i.createElement(E.default,null);if("root"===e.route.name)return i.createElement(g.default,{route:e.route});if("googleAuthCallback"===e.route.name)return i.createElement(y.default,{callbackType:e.route.callbackType,encryptedToken:e.route.encryptedToken,code:e.route.code,error:e.route.error});if("loginWithEmailCallback"===e.route.name)return i.createElement(b.default,{state:e.route.state,password:e.route.password,isSignup:e.route.isSignup,redirectURL:e.route.redirectURL});if("nativeRedirect"===e.route.name)return i.createElement(S.default,{redirect:e.route.redirect});if("logout"===e.route.name)return i.createElement(w.default,null);if("login"===e.route.name)return i.createElement(T.default,{isSignup:!1});if("signup"===e.route.name)return i.createElement(T.default,{isSignup:!0});if("product"===e.route.name)return i.createElement(L.default,null);if("pricing"===e.route.name)return i.createElement(D.default,null);if("about"===e.route.name)return i.createElement(O.default,null);if("evernote"===e.route.name)return i.createElement(W.default,null);if("web-clipper"===e.route.name)return i.createElement(I.default,null);if("toolsAndCraftEpisode1"===e.route.name)return i.createElement(R.default,null);if("toolsAndCraftEpisode2"===e.route.name)return i.createElement(B.default,null);if("toolsAndCraftEpisode3"===e.route.name)return i.createElement(j.default,null);if("toolsAndCraft"===e.route.name)return i.createElement(V.default,null);if("joinUsRedirect"===e.route.name)return i.createElement(C.default,{to:l.joinUs});if("whyRedirect"===e.route.name)return i.createElement(C.default,{to:l.about});if("templatesRedirect"===e.route.name)return i.createElement(C.default,{to:l.templatesPage});if("guideRedirect"===e.route.name)return i.createElement(C.default,{to:l.guides.guides});if("desktop"===e.route.name)return i.createElement(M.default,null);if("mobile"===e.route.name)return i.createElement(A.default,null);if("androidRedirect"===e.route.name)return i.createElement(C.default,{to:l.mobile});if("unsubscribe"===e.route.name)return i.createElement(x.default,{payload:e.route.payload});if("onboarding"===e.route.name)return i.createElement(k.default,null);if("upcomingInvoice"===e.route.name)return i.createElement(v.default,{route:e.route});if("invoiceById"===e.route.name)return i.createElement(v.default,{route:e.route});if("invoiceRedirect"===e.route.name)return i.createElement(C.default,{to:"/"});if("uiDoc"===e.route.name)return i.createElement(C.default,{to:"/"});if("admin"===e.route.name){if(p.default.isAdminMode){var t=f.default(Promise.resolve().then(function(){return r("i8kP")}));return i.createElement(t,null)}return i.createElement(C.default,{to:"/"})}return"page"===e.route.name||"space"===e.route.name?i.createElement(h.default,{routerState:e}):"unknown"===e.route.name?i.createElement(C.default,{to:"/"}):void 0},t.prototype.openIntercomMessages=function(){"undefined"!=typeof Intercom&&Intercom("showNewMessage")},t.reactErrorStyle=a({width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingBottom:100},u.baseStyle),t.reactErrorMessageStyle={fontSize:14,textAlign:"center",marginTop:6,marginBottom:12,color:d.default.uiGray},t}(m.default);t.default=H},"/wWF":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LEzx"),i=r("bK/N"),l=function(e){function t(){var t=e.call(this)||this;return t.updateFromElectronState=function(){var e=i.fullscreen.get();void 0!==e&&t.setState({isFullScreen:e})},i.fullscreen.addListener(t.updateFromElectronState),t.updateFromElectronState(),t}return o(t,e),t.prototype.getInitialState=function(){return{isFullScreen:!1}},t}(a.default);t.default=new l},0:function(e,t){},"03VN":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{query:"",limit:20}},t}(r("LEzx").default);t.default=a},"0689":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{editing:!1}},t}(r("LEzx").default);t.default=a},"09Jm":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,n=0;do{r=e+" "+ ++n}while(!t(r));return r}},"0DtT":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("ijm6"),s=r("r8oj"),u=r("t+pW"),c=r("wXH4"),d=r("fJHT"),p=r("gbGO"),f=r("5k6+"),h=r("unoy"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPopupContent=function(){return i.createElement(y,null)},t}return o(t,e),t.prototype.renderComponent=function(){var e=f.default.state,t=e.blockStore,r=e.originRect;return i.createElement(c.default,{popupType:s.default.isMobile?c.default.PopupType.SlideUp:c.default.PopupType.Popup,open:Boolean(t),originRect:r,placementToOrigin:c.default.Placement.Bottom,alignmentToOrigin:c.default.Alignment.Center,originGap:4,onDismiss:l.close,render:this.renderPopupContent})},t}(u.default),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.didMount=function(){var e=f.default.state.blockStore;if(e){var t=e.getTitleStore();t&&h.selectAllText({store:t,canSelectAllBlocks:!1})}},t.prototype.renderComponent=function(){var e=f.default.state.blockStore;if(e){var t,r=e.getTitleStore();if(r)return t=s.default.isMobile?{menuType:p.default.MenuType.ActionSheet}:{menuType:p.default.MenuType.Popup,width:380},i.createElement(p.default,a({},t),i.createElement("div",{style:this.getWrapStyle()},i.createElement(d.default,{store:r,disabled:!e.canEdit(),onEsc:l.close,onEnter:l.close,disableSlashCommands:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,placeholder:"Untitled",style:this.getInputStyle()})))}},t.prototype.getWrapStyle=function(){return{display:"flex",alignItems:"center",color:this.theme.regularTextColor,fontSize:"13px",padding:"4px 8px"}},t.prototype.getInputStyle=function(){return{display:"flex",alignItems:"center",flexGrow:1,fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10,width:"100%",borderRadius:3,boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,cursor:"text",position:"relative"}},t}(u.default);t.default=m},"0GcB":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{mode:"light"}},t}(r("LEzx").default);t.default=new a},"0KcA":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("Sb6f"),s=r("zmp8"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("div",{style:{alignSelf:"center",marginBottom:8,padding:"1px 3px",background:s.default.red,color:s.default.white,borderRadius:3,marginLeft:6,fontSize:9,lineHeight:1.3,textTransform:"uppercase",fontWeight:l.default.fontWeight.semibold,letterSpacing:.5}},"New")},t}(i.default);t.default=u},"0Kw5":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("r8oj"),s=r("7B1i"),u=r("/YYm"),c=r("wldR"),d=r("CTEM"),p=r("S26v"),f=r("622O"),h=r("di7S"),m=r("bK/N"),y=r("AXh+"),g=r("QcDD"),v=r("Wae9"),b=r("uwoq"),w=r("A9TN"),S=r("5Nka"),_=r("enHn"),k=r("GJWe"),C=r("D2XV"),E=r("bPtJ"),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateBrowserState=function(){var e=t.computedStore.state;if(e){var r=e.url,n=e.title,o=e.iconEmoji,i=e.iconImage;n&&document.title!==n&&(document.title=n),r&&p.removeBaseUrl(r)!==p.removeBaseUrl(window.location.href)&&window.history.replaceState(window.history.state,void 0,r);var l=document.querySelector("link[rel='shortcut icon']");if(l){var u="local"===w.default.env?S.default.images.faviconLocalIco:"development"===w.default.env?S.default.images.faviconDevIco:S.default.images.faviconIco;if(o){if(o!==t.lastSetIconString){var c=s.default(o);l.href=c,t.lastSetIconString=o}}else if(i){var d=i.icon,f=a(i,["icon"]),y=h.getImageProxyUrl({url:d,width:100,permissionRecord:f,baseUrl:w.default.baseURL,fullyQualified:!1});y!==t.lastSetIconString&&(t.lastSetIconString=y,_.default.awaitRecordTransaction(f.table,f.id).then(function(){l.href=y}))}else u!==t.lastSetIconString&&(l.href=u,t.lastSetIconString=u)}m.electronApi&&m.electronApi.setWindowTitle&&m.electronApi.setWindowTitle(n||"Untitled")}},t.updateBrowserStateDebounced=i.debounce(t.updateBrowserState,500),t.computedStore=t.createComputedStore(function(){var e=g.default.state.currentBlockStore;if(e&&e.state.ready&&!l.default.isMobile&&!l.default.isElectron){var t=b.default.state.route;if("page"===t.name&&t.blockId===e.id){var r,n=v.default.state.results.map(function(e){return e.unread.mentions}).reduce(function(e,t){return e+t},0),o=e.getTitleStore();o&&(r=(k.renderTextAsString({textValue:o.getValue(),userTimeZone:C.currentTimeZone,getRecordValue:function(t,r){return E.createRecordStore(e,t,r).getValue()}})||"Untitled").slice(0,100),y.userHasPermissionViaPublicAccess(e)||(n>9?r="(9+) "+r:n>0&&(r="("+n+") "+r)));var a,i,s=u.default({store:e,fullyQualified:!1,scrollToBlockId:t.scrollToBlockId,peekViewBlockId:t.peekViewBlockId,collectionViewId:t.collectionViewId,discussionId:t.discussionId,showMoveTo:t.showMoveTo,saveParent:t.saveParent}),c=e.getIcon();return c&&d.default(c.icon)?a=c.icon:c&&f.shouldProxyImageUrl(c.icon)&&(i=c),{title:r,url:s,iconEmoji:a,iconImage:i}}}}),t}return o(t,e),t.prototype.willMountOrUpdate=function(){this.computedStore.state,this.updateBrowserStateDebounced()},t.prototype.willUnmount=function(){document.title="Notion – The all-in-one workspace for your notes, tasks, wikis, and databases."},t}(c.default);t.default=P},"0Osm":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("GRWW");t.default=new n.default},"0QAI":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r("LvDl"),u=r("njgS"),c=r("IdIf"),d=r("HRSx"),p=r("+575"),f=r("Yf5i"),h=r("ODIo"),m=r("nFzZ"),y=r("D2XV"),g=r("hfHo"),v=r("j76I"),b=r("oRaq"),w=r("cDc9"),S=r("GJWe");t.initializeQuery=function(e){var t,r,n,o,i=e.collectionValue,s=e.query,c=e.loader,d=e.getRecordValue,p=e.pageSort,h=u.getNormalizedSchema(i),y={},g=(s.sort||[]).map(function(e){return O({schema:h,property:e.property,direction:e.direction,getRecordValue:d,userTimeZone:c.userTimeZone})});if(g.reverse(),"table"===c.type){var v=[];if(s.aggregate)try{for(var b=a(s.aggregate),w=b.next();!w.done;w=b.next()){var S=w.value,k=f.initializeIncrementalAggregation(S.aggregation_type);k&&v.push(k)}}catch(e){t={error:e}}finally{try{w&&!w.done&&(r=b.return)&&r.call(b)}finally{if(t)throw t.error}}return{type:"table",resultSortMap:y,blockIds:[],sorts:l([M(),I(p)],g),incrementalAggregationResults:v,total:0}}if("board"===c.type){var C=c.groups;if(s.group_by){var E=h[s.group_by];if(E&&(_(C,void 0)||C.push({property:s.group_by,type:E.type,hidden:!1}),u.isSelectType(E))){var P=E.options||[];try{for(var x=a(P),T=x.next();!T.done;T=x.next()){var A=T.value;_(C,A.value)||C.push({property:s.group_by,type:E.type,value:A.value,hidden:!1})}}catch(e){n={error:e}}finally{try{T&&!T.done&&(o=x.return)&&o.call(x)}finally{if(n)throw n.error}}}}for(var D=[],L=0;L<C.length;L++){var R={value:C[L].value,blockIds:[],total:0};if(D.push(R),s.aggregate&&s.aggregate[0]){S=s.aggregate[0];R.incrementalAggregationResult=f.initializeIncrementalAggregation(S.aggregation_type)}}return{type:"board",resultSortMap:y,sorts:l([M(),I(p)],g),groupQueryStates:D,total:0}}return{type:"calendar",items:[],sorts:m.compact(l([M(),O({schema:h,property:"title",direction:"ascending",getRecordValue:d,userTimeZone:c.userTimeZone}),s.calendar_by?O({schema:h,property:s.calendar_by,direction:"ascending",getRecordValue:d,userTimeZone:c.userTimeZone}):void 0],g)),resultSortMap:y,noDateTotal:0,total:0}},t.incrementQuery=function(e,t,r){var n,o,i=t.collectionValue,l=t.query,s=t.loader,c=t.userId,d=t.getRecordValue;if(e&&e.alive&&e.id&&e.parent_id===i.id&&!e.is_template){var m=u.getNormalizedSchema(i);if("table"===s.type&&"table"===r.type){if(s.query&&!A({block:e,query:s.query,getRecordValue:d,userTimeZone:s.userTimeZone,schema:m}))return;if(!h.blockPassesFilters({block:e,filterOperator:l.filter_operator||"and",filters:l.filter||[],schema:m,getRecordValue:d,userId:c,userTimeZone:s.userTimeZone}))return;var g=r.blockIds,v=r.incrementalAggregationResults;if(l.aggregate)for(var b=0;b<l.aggregate.length;b++){var w=l.aggregate[b],S=v[b];S&&w.property&&f.incrementIncrementalAggregation({property:w.property,incrementalResult:S,schema:m,block:e,getRecordValue:d,userTimeZone:s.userTimeZone})}g.push(e.id),r.total++}else if("board"===s.type&&"board"===r.type){if(s.query&&!A({block:e,query:s.query,getRecordValue:d,userTimeZone:s.userTimeZone,schema:m}))return;if(!h.blockPassesFilters({block:e,filterOperator:l.filter_operator||"and",filters:l.filter||[],schema:m,getRecordValue:d,userId:c,userTimeZone:s.userTimeZone}))return;if(!l.group_by)return;var _=s.groups,C=r.groupQueryStates,E=k({schema:m,block:e,getRecordValue:d,query:l,groups:_,boardGroupQueryStates:C,userTimeZone:s.userTimeZone});try{for(var P=a(E),x=P.next();!x.done;x=P.next()){var T=x.value,O=_[T],M=C[T];if(l.aggregate&&l.aggregate[0]&&M.incrementalAggregationResult){w=l.aggregate[0];f.incrementIncrementalAggregation({property:w.property,incrementalResult:M.incrementalAggregationResult,schema:m,block:e,getRecordValue:d,userTimeZone:s.userTimeZone})}O&&O.hidden||M.blockIds.push(e.id),M.total++}}catch(e){n={error:e}}finally{try{x&&!x.done&&(o=P.return)&&o.call(P)}finally{if(n)throw n.error}}r.total++}else if("calendar"===s.type&&"calendar"===r.type){if(!l.calendar_by)return;var I=p.toDateValues({property:l.calendar_by,schema:m,block:e,getRecordValue:d,userTimeZone:s.userTimeZone})[0];if(I||r.noDateTotal++,s.query&&!A({block:e,query:s.query,getRecordValue:d,userTimeZone:s.userTimeZone,schema:m}))return;if(!h.blockPassesFilters({block:e,filterOperator:l.filter_operator||"and",filters:l.filter||[],schema:m,getRecordValue:d,userId:c,userTimeZone:s.userTimeZone}))return;var D=I&&y.getMomentRange(I,s.userTimeZone);if(!(I&&D&&y.rangeIntersects(s.dateRangeStart,s.dateRangeEnd,D.start.valueOf(),D.end?D.end.valueOf():void 0)))return;var L=r.items,R={id:e.id,start:D.start,end:D.end,includeTime:"datetime"===I.type||"datetimerange"===I.type,timeZone:"datetime"===I.type||"datetimerange"===I.type?I.time_zone:void 0};L.push(R),r.total++}var B=r.sorts.map(function(t){return t.getValue(e)});r.resultSortMap[e.id]=B}},t.completeQuery=function(e,t){var r=e.query,n=e.loader,o=t.resultSortMap,a=t.sorts;if("table"===n.type&&"table"===t.type){var i=n.limit,l=t.blockIds,s=t.incrementalAggregationResults,u=t.total,c=x(l,a,o).slice(0,i),d=[];if(r.aggregate)for(var p=0;p<r.aggregate.length;p++){var h=r.aggregate[p],v=s[p],b=f.completeIncrementalAggregation(v);d.push({id:h.id,value:b})}return{type:"table",blockIds:c,aggregationResults:d,total:u}}if("board"===n.type&&"board"===t.type){var w=n.limit,S=t.groupQueryStates;u=t.total;return{type:"board",groupResults:S.map(function(e){var t=e.blockIds,n=e.value,i=e.total,l=e.incrementalAggregationResult,s={value:n,blockIds:x(t,a,o).slice(0,w),total:i};if(r.aggregate&&r.aggregate[0]&&l){var u=f.completeIncrementalAggregation(l);s.aggregationResult={id:r.aggregate[0].id,value:u}}return s}),total:u}}if("calendar"===n.type&&"calendar"===t.type){var _=n.dateRangeStart,k=n.dateRangeEnd,E=n.userTimeZone,P=n.userLocale,T=n.startDayOfWeek,O=t.items,M=(u=t.total,y.getMomentStartOfWeek(g.default(_).locale(P).tz(E),T)),I=y.getMomentEndOfWeek(g.default(k).locale(P).tz(E),T),A=[],D=M.clone(),L=function(){var e=y.getMomentEndOfWeek(D.clone(),T),t={},r=O.filter(function(t){return y.rangeIntersects(D.valueOf(),e.valueOf(),t.start.valueOf(),t.end?t.end.valueOf():void 0)}),n=r.map(function(e){return e.id}),i=x(n,a,o),l=m.compact(i.map(function(e){return r.find(function(t){return t.id===e})})).map(function(r){var n=r.id,o=r.start,a=r.end,i=r.includeTime,l=r.timeZone,s=o.clone().startOf("day"),u=g.default.max(D,s),c=u.diff(D,"days"),d=1;if(a){var p=a.clone().endOf("day");d=g.default.min(e,p).diff(u,"days")+1}var f=C(c,d,t);return{id:n,start:o.valueOf(),end:a?a.valueOf():void 0,row:f,includeTime:i,timeZone:l}});A.push({start:D.valueOf(),end:e.valueOf(),items:l}),D=y.getMomentStartOfWeek(D.clone().add(1,"week").add(1,"day"),T)};do{L()}while(D.isBefore(I));return{type:"calendar",weeks:A,noDateTotal:t.noDateTotal,total:u}}throw new Error("Invalid state.")},t.valueIsInGroup=function(e,t,r){var n=r&&r.properties?r.properties:{},o=t[e.property];if(!o)return!1;var a=n[e.property];if("select"===o.type){var i=o.options||[],l=p.toSelectValue(a,i);return e.value?c.groupValuesEqual(e.value,l):!i.find(function(e){return c.groupValuesEqual(e.value,l)})}if("multi_select"===o.type){var s=o.options||[],u=p.toMultiSelectValue(a,s);return e.value?u.findIndex(function(t){return c.groupValuesEqual(t,e.value)})>=0:!u.find(function(e){return Boolean(s.find(function(t){return c.groupValuesEqual(e,t.value)}))})}if("person"===o.type){var d=p.toPersonValue(a);return e.value?d.indexOf(e.value)>=0:0===d.length}return!1};var _=function(e,t){var r,n;try{for(var o=a(e),i=o.next();!i.done;i=o.next()){var l=i.value;if(c.groupValuesEqual(l.value,t))return l}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return null},k=function(e){var r,n,o=e.schema,i=e.block,l=(e.getRecordValue,e.query),s=e.groups,u=e.boardGroupQueryStates;e.userTimeZone;if(l.group_by){for(var c=[],d=0;d<s.length;d++){var h=s[d];t.valueIsInGroup(h,o,i)&&c.push(d)}var m=o[l.group_by];if(m&&"person"===m.type){var y=(i.properties||{})[l.group_by],g=p.toPersonValue(y);try{for(var v=a(g),b=v.next();!b.done;b=v.next()){var w=b.value;if(!_(s,w)){var S={property:l.group_by,type:m.type,value:w,hidden:!1};s.push(S),c.push(s.length-1);var k={value:S.value,blockIds:[],total:0};if(u.push(k),l.aggregate&&l.aggregate[0]){var C=l.aggregate[0];k.incrementalAggregationResult=f.initializeIncrementalAggregation(C.aggregation_type)}}}}catch(e){r={error:e}}finally{try{b&&!b.done&&(n=v.return)&&n.call(v)}finally{if(r)throw r.error}}}return c}return[0]},C=function(e,t,r){for(var n=0;;){for(var o=!1,a=0;a<t;a++)E(r,e+a,n)&&(o=!0);if(!o)break;n++}for(a=0;a<t;a++)P(r,e+a,n);return n},E=function(e,t,r){return Boolean(e[r]&&e[r][t])},P=function(e,t,r){e[r]||(e[r]={}),e[r][t]=!0};t.getAllBlockIdsFromResult=function(e){return"table"===e.type?e.blockIds:"board"===e.type?s.union.apply(null,e.groupResults.map(function(e){return e.blockIds})):s.union.apply(null,e.weeks.map(function(e){return e.items.map(function(e){return e.id})}))};var x=function(e,r,n){var o=s.clone(e);return o.sort(function(e,o){for(var a=r.length-1;a>=0;a--){var i=r[a],l=n[e][a],s=n[o][a],u=t.compareSortValues(l,s,i.descending);if(0!==u)return u}return 0}),o};t.compareSortValues=function(e,t,r){var n=T(e),o=T(t);return n&&!o?1:o&&!n?-1:void 0!==e&&void 0!==t&&e>t?r?-1:1:void 0!==e&&void 0!==t&&e<t?r?1:-1:0};var T=function(e){return m.isNotDefined(e)||""===e},O=function(e){var t=e.schema,r=e.property,n=e.direction,o=e.getRecordValue,a=e.userTimeZone;return{getValue:function(e){return p.toSortPropertyValue({property:r,schema:t,block:e,getRecordValue:o,userTimeZone:a})},descending:"descending"===n}},M=function(){return{getValue:function(e){return e.created_time},descending:!0}},I=function(e){return{getValue:function(t){var r=e.findIndex(function(e){return t.id===e});if(r>=0)return r},descending:!1}},A=function(e){var t=e.block,r=e.query,n=e.getRecordValue,o=e.userTimeZone,a=e.schema;if(t.properties){var i=Object.keys(a);return Boolean(i.find(function(e){return!(!t.properties||!t.properties[e])&&S.renderTextAsString({textValue:t.properties[e],getRecordValue:n,userTimeZone:o}).toLowerCase().indexOf(r.trim().toLowerCase())>=0}))}return!1};function D(e,t){return void 0===t&&(t=new w.default),n(this,void 0,void 0,function(){var r,n,a,i,c,d,p,f,h,y,g,v,w;return o(this,function(o){switch(o.label){case 0:return r=e.collectionId,n=e.schema,a=e.property,i=e.loadRecordValue,(c=n[a])?(d={collectionId:r,property:a,type:c.type},t.has(d)?[2,[d]]:(t.add(d),c?"formula"!==c.type?[3,2]:(p=m.compact(b.getFormulaDependencies(c.formula).map(function(e){var t=n[e];if(t)return{collectionId:r,property:e,type:t.type}})),[4,Promise.all(p.map(function(e){var o=e.property;return D({collectionId:r,schema:n,property:o,loadRecordValue:i},t)}))]):[3,5])):[2,[]];case 1:return w=o.sent(),[2,s.uniqBy(l(p,s.flatten(w)),function(e){return""+e.collectionId+e.property})];case 2:return"rollup"===c.type&&c.relation_property&&c.target_property&&((f=n[c.relation_property])&&"relation"===f.type&&f.collection_id)?(h=f.collection_id,[4,i("collection",h)]):[3,5];case 3:return y=o.sent(),g=y?u.getNormalizedSchema(y):{},v={collectionId:r,property:c.relation_property,type:f.type},[4,D({collectionId:h,schema:g,property:c.target_property,loadRecordValue:i},t)];case 4:return w=o.sent(),[2,s.uniqBy(l([v],w),function(e){return""+e.collectionId+e.property})];case 5:return[2,[]]}})})}t.getPostgresQueryFilter=function(e,t){var r,n,o={includeProperties:{},excludeProperties:{}},i=e.filter||[];if(i.find(function(e){return"is_empty"===e.comparator||"is_not_empty"===e.comparator}))return o;if(i.length>1&&"or"===e.filter_operator)return o;try{for(var l=a(i),s=l.next();!s.done;s=l.next()){var u=s.value;"person"===u.type&&"me"===u.value_type&&"enum_contains"===u.comparator&&t?o.includeProperties[u.property]=t.id:"person"===u.type&&"me"===u.value_type&&"enum_does_not_contain"===u.comparator&&t?o.excludeProperties[u.property]=t.id:"string"!=typeof u.value||"relation"!==u.type&&"url"!==u.type&&"select"!==u.type&&"multi_select"!==u.type&&"person"!==u.type&&"file"!==u.type&&"email"!==u.type&&"phone_number"!==u.type||"string_is"!==u.comparator&&"string_contains"!==u.comparator&&"string_starts_with"!==u.comparator&&"string_ends_with"!==u.comparator&&"enum_is"!==u.comparator&&"enum_contains"!==u.comparator?"string"!=typeof u.value||"relation"!==u.type&&"url"!==u.type&&"select"!==u.type&&"multi_select"!==u.type&&"person"!==u.type&&"file"!==u.type&&"email"!==u.type&&"phone_number"!==u.type||"string_does_not_contain"!==u.comparator||(o.excludeProperties[u.property]=u.value):o.includeProperties[u.property]=u.value}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},t.contentCoverRenderBlockCount=6,t.contentCoverMaxLoadAmount=15,t.getCollectionRecordDependencies=function(e,r,n){var o,i,l,s,u,c,f,h,m=[],y=e.value;if(y.parent_table&&y.parent_id&&m.push({table:y.parent_table,id:y.parent_id}),"block"===e.table){var g=e.value;if(g&&"collection"===g.parent_table){var v=g.parent_id;if(n&&g.content){var b=g.content.slice(0,t.contentCoverMaxLoadAmount);try{for(var w=a(b),S=w.next();!S.done;S=w.next()){var _=S.value;m.push({table:d.default.table,id:_})}}catch(e){o={error:e}}finally{try{S&&!S.done&&(i=w.return)&&i.call(w)}finally{if(o)throw o.error}}}if(r.find(function(e){return e.collectionId===v&&"created_by"===e.type})&&g&&g.created_by&&m.push({table:"notion_user",id:g.created_by}),r.find(function(e){return e.collectionId===v&&"last_edited_by"===e.type})&&g&&g.last_edited_by&&m.push({table:"notion_user",id:g.last_edited_by}),g&&g.properties)try{for(var k=a(r),C=k.next();!C.done;C=k.next()){var E=C.value;if(E.collectionId===v){var P=p.toRelationValue(g.properties[E.property]);try{for(var x=a(P),T=x.next();!T.done;T=x.next()){var O=T.value;m.push({table:"block",id:O})}}catch(e){u={error:e}}finally{try{T&&!T.done&&(c=x.return)&&c.call(x)}finally{if(u)throw u.error}}var M=p.toPersonValue(g.properties[E.property]);try{for(var I=a(M),A=I.next();!A.done;A=I.next()){var D=A.value;m.push({table:"notion_user",id:D})}}catch(e){f={error:e}}finally{try{A&&!A.done&&(h=I.return)&&h.call(I)}finally{if(f)throw f.error}}}}}catch(e){l={error:e}}finally{try{C&&!C.done&&(s=k.return)&&s.call(k)}finally{if(l)throw l.error}}}}return m},t.getCollectionPropertyDependencies=D,t.loadRelatedRecordsForCollectionQuery=function(e){return n(this,void 0,void 0,function(){var r,i,l,s,u,c,p,f,h,m,y,g,b,S,_,k,C,E,P,x,T,O,M,I,A,L,R,B,j,V,F,N,U,W,z,H,q,G,Z=this;return o(this,function(Y){switch(Y.label){case 0:y=e.collectionId,g=e.blocks,b=e.schema,S=e.loadContentCover,_=e.query,k=e.recordMap,C=e.loadRecordValue,E=e.loadAllProperties;try{for(P=a(g),x=P.next();!x.done;x=P.next())T=x.value,v.setRecordMap(k,d.default.table,T.id,T)}catch(e){r={error:e}}finally{try{x&&!x.done&&(i=P.return)&&i.call(P)}finally{if(r)throw r.error}}if(O=new Set,_){if(_.filter)try{for(M=a(_.filter),I=M.next();!I.done;I=M.next())A=I.value,O.add(A.property)}catch(e){l={error:e}}finally{try{I&&!I.done&&(s=M.return)&&s.call(M)}finally{if(l)throw l.error}}if(_.sort)try{for(L=a(_.sort),R=L.next();!R.done;R=L.next())B=R.value,O.add(B.property)}catch(e){u={error:e}}finally{try{R&&!R.done&&(c=L.return)&&c.call(L)}finally{if(u)throw u.error}}if(_.aggregate)try{for(j=a(_.aggregate),V=j.next();!V.done;V=j.next())(F=V.value).property&&O.add(F.property)}catch(e){p={error:e}}finally{try{V&&!V.done&&(f=j.return)&&f.call(j)}finally{if(p)throw p.error}}_.group_by&&O.add(_.group_by),_.calendar_by&&O.add(_.calendar_by)}if(E)try{for(N=a(Object.keys(b)),U=N.next();!U.done;U=N.next())W=U.value,O.add(W)}catch(e){h={error:e}}finally{try{U&&!U.done&&(m=N.return)&&m.call(N)}finally{if(h)throw h.error}}return z=function(e,t){return n(Z,void 0,void 0,function(){var r,n;return o(this,function(o){switch(o.label){case 0:return(n=v.getRecordMap(k,e,t))?[3,2]:[4,C(e,t)];case 1:n=o.sent(),o.label=2;case 2:return r=n,v.setRecordMap(k,e,t,r),[2,r]}})})},H=new w.default,[4,Promise.all(Array.from(O.values()).map(function(e){return n(Z,void 0,void 0,function(){var t,r,n,i,l,s,u,c;return o(this,function(o){switch(o.label){case 0:return(n=b[e])?(i={collectionId:y,property:e,type:n.type},[4,D({collectionId:y,schema:b,property:e,loadRecordValue:z})]):[3,2];case 1:l=o.sent(),H.add(i);try{for(s=a(l),u=s.next();!u.done;u=s.next())c=u.value,H.add(c)}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}o.label=2;case 2:return[2]}})})}))];case 1:return Y.sent(),q=[],v.forEachRecordMap(k,function(e){var t=e.table,r=e.id;q.push({table:t,id:r})}),G=H.entries(),[4,v.generateRecursiveRecordMapAsync({requests:q,recurFn:function(e){return t.getCollectionRecordDependencies(e,G,S)},loadRecordValue:C,recordMap:k})];case 2:return Y.sent(),[2]}})})}},"0Qt7":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("pxbK"),u=r("9OwC"),c=r("STAJ"),d=r("YUnZ"),p=r("Sb6f"),f=r("nFzZ"),h=r("nFzZ"),m=r("0GcB"),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.entry;if(e){var r=e.description,n=e.name,o=e.examples,a=s.highlightFormulaText((o||[]).join("\n")),l=this.renderSyntax();return i.createElement("div",null,i.createElement("h1",{style:t.headerStyle},n),i.createElement("p",{style:t.textStyle},r),i.createElement("p",{style:t.textStyle},i.createElement("b",null,"Syntax")),i.createElement("pre",{style:this.getCodeStyle()},c.intersperse(function(e){return i.createElement("br",{key:l.length+e})},l.map(function(e){return function(t){return e}})).map(function(e,t){return e(t)})),i.createElement("p",{style:t.textStyle},i.createElement("b",null,"Examples")),i.createElement("pre",{style:this.getCodeStyle(),dangerouslySetInnerHTML:{__html:a}}))}return i.createElement("div",null)},t.prototype.renderSyntax=function(){var e=this.props.entry;if(!e)return[];var t=e.name,r=e.category;return r===u.Category.property?[i.createElement("span",{key:0},"prop(",s.escapeProperty(t),")")]:r===u.Category.constant?[i.createElement("span",{key:0},t)]:r===u.Category.function?this.getFunctionSyntax(e):r===u.Category.operator?this.getOperatorSyntax(e):[]},t.prototype.getFunctionSyntax=function(e){var r=e.name;return t.getSignatureNames(e).map(function(e,t){var n=e.variadic,o=e.arity;return n?i.createElement("span",{key:t},r,"(",i.createElement("i",null,n),"...)"):i.createElement("span",{key:t},r,"(",c.intersperse(function(e){return i.createElement("span",{key:e},", ")},o.map(function(e,t){return function(t){return i.createElement("i",{key:t},e)}})).map(function(e,t){return e(t)}),")")})},t.prototype.getOperatorSyntax=function(e){var r=e.operator;return f.compact(t.getSignatureNames(e).map(function(e,t){var n=e.arity;if(1===n.length){var o=a(n,1)[0];return i.createElement("span",{key:-t-1},r," ",i.createElement("i",null,o))}if(2===n.length){var l=a(n,2),s=l[0],u=l[1];return i.createElement("span",{key:-t-1},i.createElement("i",null,s)," ",r," ",i.createElement("i",null,u))}if(3===n.length){var c=a(n,3),d=(s=c[0],u=c[1],c[2]);return i.createElement("span",{key:-t-1},i.createElement("i",null,s)," ? ",i.createElement("i",null,u)," : ",i.createElement("i",null,d))}}).concat(this.getFunctionSyntax(e)))},t.getSignatureNames=function(e){var r=e.name,n=e.signatures;return"if"===r?[{arity:["boolean","value","value"]}]:"format"===r||"unaryPlus"===r?[{arity:["value"]}]:"equal"===r||"unequal"===r?[{arity:["value","value"]}]:n.map(function(e){var r=e.arity,n=e.variadic;return{variadic:n?t.typeNameMap[n]:void 0,arity:r?h.compact(r.map(function(e){return t.typeNameMap[e]})):[]}})},t.prototype.getCodeStyle=function(){return{paddingTop:6,paddingBottom:8,paddingLeft:10,paddingRight:10,overflowX:"scroll",background:"light"===m.default.state.mode?d(this.theme.sidebarBackground).darken(.1).css():d(this.theme.sidebarBackground).brighten(.2).css(),borderRadius:3,fontSize:13,margin:0,fontFamily:p.default.fontFamily.mono,lineHeight:1.4}},t.typeNameMap={checkbox:"boolean",number:"number",text:"text",date:"date"},t.headerStyle={fontSize:20,margin:0,lineHeight:1,marginTop:4,marginBottom:12},t.textStyle={marginTop:8,marginBottom:8,fontSize:13,lineHeight:1.4},t}(l.default);t.default=y},"0Xty":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.title?this.props.title[0]:"",t=this.props.size*(this.props.isLarge?1:.888);return a.createElement("div",{style:{borderRadius:3,width:Math.round(t),height:Math.round(t),background:this.theme.mediumIconColor,color:this.theme.regularInvertedTextColor,textTransform:"uppercase",display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement("div",{style:{lineHeight:1,fontSize:.6875*t,height:.6875*t}},e))},t}(r("t+pW").default);t.default=i},"0YG6":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("LvDl"),c=r("STAJ"),d=r("t+pW"),p=r("tvfY"),f=r("pqiZ"),h=r("bsBB"),m=r("mF3+"),y=r("Oy36"),g=r("KyHi"),v=r("i3uR"),b=r("wXH4"),w=r("MBf9"),S=r("sdlW"),_=r("ox2z"),k=r("2Y+N"),C=r("WgIs"),E=r("gbGO"),P=r("VBxf"),x=r("g4rC"),T=r("bTAb"),O=r("Pl3d"),M=r("4HCU"),I=r("f0kS"),A=r("nFzZ"),D=r("W3at"),L=r("lUWv"),R=r("5/h/"),B=r("zTdN"),j=r("NOLh"),V=r("bFnu"),F=r("x4bP"),N=r("EZe4"),U=r("V9q8"),W=r("VyA+"),z=r("meF8"),H=r("mjq6"),q=r("Sb6f"),G=r("y6Dp"),Z=r("CTEM"),Y=r("iICV"),K=r("Ng05"),J=r("lCCU"),Q=r("d9nj"),X=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderUser=function(e){var t=r.props,n=t.store,o=t.group,u=t.disabled;return s.createElement("div",{key:e.id,style:{display:"flex",alignItems:"center"}},s.createElement(h.default,{userValue:e,format:h.default.Format.Default,style:{paddingRight:6,minHeight:34},avatarSize:24}),!u&&s.createElement(Q.default,{onClick:function(){return i(r,void 0,void 0,function(){var t,r,i;return l(this,function(l){switch(l.label){case 0:return[4,P.confirmUserAction({message:"Are you sure you want to remove this member?",acceptLabel:"Yes"})];case 1:return l.sent()&&(t=o.user_ids||[],r=t.filter(function(t){return t!==e.id}),i=a({},o,{user_ids:r}),w.createAndCommit(function(e){S.updatePermissionGroup({spaceStore:n,group:i,transaction:e})}),G.trackPermissionGroupRemoveMember()),[2]}})})}},"Remove"))},r.renderActionMenu=function(){var e={key:"action_menu",render:function(e){return s.createElement(k.default,a({},e))},items:[{key:"rename",render:function(e){return s.createElement(_.default,a({},e,{title:"Rename"}))},action:r.handleRename},{key:"delete",render:function(e){return s.createElement(_.default,a({},e,{title:"Delete"}))},action:r.handleDelete}]};return s.createElement(E.default,{menuType:E.default.MenuType.Popup},s.createElement(C.default,{initialFocus:0,sections:[e],onAccept:function(e){r.stores.actionMenuButtonPopupStore.reset()}}))},r.renderAddMemberMenu=function(){var e=r.props.store,t=r.stores.spacePermissionGroupStore.state,n=t.userInputValue,o=t.temporaryUserIds,i={request:n,performRequest:function(e){return M.searchSpaceUsers(e,!0)},render:r.renderAddMemberResults},l=o.map(function(t){return s.createElement(L.default,{key:t,userId:t,format:L.default.Format.Medium,showRemoveButton:!0,onClickRemove:function(){var e=o.filter(function(e){return e!==t});r.stores.spacePermissionGroupStore.setState(a({},r.stores.spacePermissionGroupStore.state,{temporaryUserIds:e}))},shouldShrink:!0,isSingle:!1,parentStore:e})});return s.createElement(E.default,{menuType:E.default.MenuType.Popup,header:s.createElement(D.default,{focus:!0,disabled:!1,focusAfterAnimation:!0,format:D.default.Format.Group,tokens:l,placeholder:"Search for a person...",onRemoveLastToken:r.handleTokenInputMenuItemRemoveLastToken,value:n,onChange:r.handleTokenInputMenuItemChange,right:s.createElement(K.default,{isLarge:!0,onClick:r.handleAddDoneClick},"Add")})},s.createElement(O.default,a({},i)))},r.renderAddMemberResults=function(e,t){var n=r.props,o=n.store,i=n.group,l=t||[],u=r.stores.spacePermissionGroupStore.state.temporaryUserIds,d=A.compact(l.map(function(e){return e.userId})),f=i.user_ids||[],h=d.filter(function(e){return f.indexOf(e)<0&&u.indexOf(e)<0});if(0===h.length)return s.createElement(k.default,null,s.createElement(B.default,{title:"No results"}));var m={key:"user_menu",render:function(e){return s.createElement(k.default,a({},e))},items:h.map(function(e){var t=p.default.createChildStore(o,e).getValue();return{key:e,render:function(e){return s.createElement(I.default,a({},e,{user:t}))},action:function(){var t=c.append(e,u);r.stores.spacePermissionGroupStore.setState(a({},r.stores.spacePermissionGroupStore.state,{temporaryUserIds:t,userInputValue:""}))}}})};return s.createElement(C.default,{initialFocus:0,sections:[m]})},r.handleMouseEnter=function(e){r.stores.mouseStore.setState(a({},r.stores.mouseStore.state,{mouseEntered:!0}))},r.handleMouseLeave=function(e){r.stores.mouseStore.setState(a({},r.stores.mouseStore.state,{mouseEntered:!1}))},r.handleMouseDown=function(e){U.closestNode(e.target,function(e){return e&&e.classList&&e.classList.contains(t.dragHandleClass)})||N.captureEditorMouseDown(e)},r.handleIconChange=function(e){var t=r.props,n=t.store,o=t.group,i=a({},o,{icon:e});w.createAndCommit(function(e){S.updatePermissionGroup({spaceStore:n,group:i,transaction:e})}),G.trackPermissionGroupSetIcon({is_emoji:Z.default(e)})},r.handleRename=function(){var e=r.props,t=e.group,n=e.spacePermissionsSettingsStore;n.setState(a({},n.state,{editingNameGroupId:t.id,groupNameInputValue:t.name||""})),r.stores.actionMenuButtonPopupStore.setState(a({},r.stores.actionMenuButtonPopupStore.state,{open:!1})),G.trackPermissionGroupRename()},r.handleDelete=function(){return i(r,void 0,void 0,function(){var e,t,r,n;return l(this,function(o){switch(o.label){case 0:return e=this.props,t=e.store,r=e.group,this.stores.actionMenuButtonPopupStore.setState(a({},this.stores.actionMenuButtonPopupStore.state,{open:!1})),[4,P.confirmUserAction({message:"Are you sure you want to delete this group? Any pages that are private to this group will be transferred to you.",acceptLabel:"Yes"})];case 1:return o.sent()?(n=w.create(),[4,S.deletePermissionGroup({spaceStore:t,group:r,transaction:n})]):[3,3];case 2:o.sent(),w.commit({transaction:n}),G.trackPermissionGroupDelete(),o.label=3;case 3:return[2]}})})},r.handleNameChange=function(e){r.props.spacePermissionsSettingsStore.setState(a({},r.props.spacePermissionsSettingsStore.state,{groupNameInputValue:e}))},r.handleNameCancel=function(){var e=r.props.spacePermissionsSettingsStore;e.setState(a({},e.state,{editingNameGroupId:void 0,groupNameInputValue:""}))},r.handleNameAccept=function(){var e=r.props,t=e.store,n=e.group,o=e.spacePermissionsSettingsStore,i=o.state,l=i.editingNameGroupId,s=i.groupNameInputValue;if(l===n.id){if(s!==n.name){var u=a({},n,{name:s});w.createAndCommit(function(e){S.updatePermissionGroup({spaceStore:t,group:u,transaction:e})})}o.setState(a({},o.state,{editingNameGroupId:void 0,groupNameInputValue:""}))}},r.handleTokenInputMenuItemRemoveLastToken=function(){var e=r.stores.spacePermissionGroupStore.state.temporaryUserIds,t=e.slice(0,e.length-1);r.stores.spacePermissionGroupStore.setState(a({},r.stores.spacePermissionGroupStore.state,{temporaryUserIds:t}))},r.handleTokenInputMenuItemChange=function(e){r.stores.spacePermissionGroupStore.setState(a({},r.stores.spacePermissionGroupStore.state,{userInputValue:e.target.value}))},r.handleAddDoneClick=function(){var e=r.props,t=e.store,n=e.group,o=r.stores.spacePermissionGroupStore.state.temporaryUserIds,i=n.user_ids||[],l=u.union(i,o),s=a({},n,{user_ids:l});w.createAndCommit(function(e){S.updatePermissionGroup({spaceStore:t,group:s,transaction:e})}),r.stores.spacePermissionGroupStore.reset(),r.stores.addMemberButtonPopupStore.setState(a({},r.stores.addMemberButtonPopupStore.state,{open:!1})),G.trackPermissionGroupAddMembers({add_member_count:o.length})},r.handleAddMemberButtonPopupClose=function(){r.stores.spacePermissionGroupStore.reset()},r}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,r=e.store,n=e.group,o=e.spacePermissionsSettingsStore,i=e.disabled,l=o.state.groupsFilter,c=n.name||"Untitled",d=n.user_ids||[],h=r.getValue(),g=h&&h.permissions?h.permissions:[],w=d.filter(function(e){return Boolean(g.find(function(t){return"user_permission"===t.type&&t.user_id===e}))}),S=A.compact(w.map(function(e){return p.default.createChildStore(r,e).getValue()})),_=u.sortBy(S,function(e){return R.getSearchName(e)}),k=l?H.default(l,_,function(e){return R.getSearchName(e)}):_,C=this.stores.mouseStore.state.mouseEntered&&!Y.default.state.isKeyboardMode&&!i,E=o.state,P=E.editingNameGroupId,x=E.groupNameInputValue;return s.createElement("div",{style:{marginBottom:36,fontSize:14,width:"100%"},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown},s.createElement("div",{style:{display:"flex"}},s.createElement(j.default,{isVisible:!0,animationStyle:{opacity:C?1:0},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},render:function(){return s.createElement("div",{style:{marginLeft:-24,marginRight:4},className:t.dragHandleClass},s.createElement(F.default,{hideClickMessage:!0}))}}),i?s.createElement(y.default,{disabled:!0,icon:n.icon?{table:r.table,id:r.id,icon:n.icon}:void 0,size:22,isEmptyPage:!1,title:c,style:{marginLeft:3,marginRight:3}}):s.createElement(y.default,{disabled:!1,bucket:"public",icon:n.icon?{table:r.table,id:r.id,icon:n.icon}:void 0,size:22,isEmptyPage:!1,title:c,onChange:this.handleIconChange,style:{marginLeft:3,marginRight:3}}),P===n.id?s.createElement(W.default,{capture:!0,onEsc:this.handleNameCancel},s.createElement(z.default,{style:{marginLeft:4,cursor:"text",fontWeight:q.default.fontWeight.semibold},placeholderStyle:{marginLeft:4,cursor:"text",color:this.theme.lightTextColor,fontWeight:q.default.fontWeight.semibold},placeholder:"Untitled",focus:!0,value:x,onChange:this.handleNameChange,onBlur:this.handleNameAccept,onSubmit:this.handleNameAccept})):s.createElement(Q.default,{isSmall:!0,style:{fontWeight:q.default.fontWeight.semibold,marginLeft:-2,marginTop:-1},onClick:this.handleRename,disabled:i},c),d.length>0&&s.createElement("div",{style:{alignItems:"center",marginLeft:8,color:this.theme.mediumTextColor}},d.length," member",1!==d.length?"s":""),s.createElement("div",{style:{flexGrow:1}}),!i&&s.createElement(v.default,{popupType:b.PopupType.Popup,render:this.renderActionMenu,buttonPopupStore:this.stores.actionMenuButtonPopupStore,renderOrigin:function(e){return s.createElement(J.default,a({icon:m.default.dots},e))}})),s.createElement(f.default,{size:12}),k.map(this.renderUser),!i&&s.createElement(v.default,{popupType:b.PopupType.Popup,render:this.renderAddMemberMenu,buttonPopupStore:this.stores.addMemberButtonPopupStore,onClose:this.handleAddMemberButtonPopupClose,style:{width:400},renderOrigin:function(e){return s.createElement(Q.default,a({isGray:!0,icon:m.default.plus,style:{marginTop:4}},e),"Add a member")}}))},t.dragHandleClass="drag_handle",t.stores={spacePermissionGroupStore:g.default,actionMenuButtonPopupStore:x.default,addMemberButtonPopupStore:x.default,autocompleteStore:T.default,mouseStore:V.default},t}(d.default);t.default=X},"0bRt":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r("q1tI"),s=r("t+pW"),u=r("SR/M"),c=r("2m/B"),d=r("LeVO"),p=r("uSCg"),f=r("gbGO"),h=r("enKW"),m=r("zmp8");!function(e){e[e.Insert=0]="Insert",e[e.TurnInto=1]="TurnInto"}(i||(i={}));var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderMenuItem=function(e){return l.createElement(u.default,a({},p.default(e||{},t.props),{title:l.createElement("div",{style:{display:"flex",alignItems:"center"}},t.props.title),icon:t.createIconWithThumbnail(t.props.thumbnail),caption:t.isInsertFormat()&&t.props.description}))},t.renderTooltip=function(){return t.props.tooltipPhoto?l.createElement("div",{style:{width:140,marginTop:4,marginBottom:4}},l.createElement("div",{style:{width:"100%",height:100,borderRadius:3,backgroundImage:"url("+t.props.tooltipPhoto+")",backgroundSize:"cover",marginBottom:6}}),l.createElement("div",{style:{whiteSpace:"normal",lineHeight:1.4}},t.props.description)):t.props.description},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return this.context.isMobile?this.renderMenuItem():l.createElement(d.default,{renderTooltip:this.renderTooltip,placement:d.default.Placement.Right,delayThreshold:0,render:function(t){return e.renderMenuItem(t)}})},t.prototype.createIconWithThumbnail=function(e){var t=this.isInsertFormat();return l.createElement(c.default,{src:e,style:{display:"block",width:t?46:22,height:t?46:22,borderRadius:3,flexGrow:0,flexShrink:0,boxShadow:h.getShadow({elevation:0,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity}),background:m.default.white}})},t.prototype.isInsertFormat=function(){return this.props.format===i.Insert},t.Format=i,t.contextTypes=a({},f.menuContextTypes),t}(s.default);t.default=y},"0eZC":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("GId0"),o=r("VMJe");t.getReactNativeDeviceInfo=function(){var e=window[n.reactNativeDeviceInfoKey];return e?{reactNativeAppVersion:e.appVersion,reactNativeDeviceModel:e.deviceModel,reactNativeDeviceId:e.deviceId,reactNativeSystemVersion:e.systemVersion,reactNativeAndroidApiLevel:e.androidApiLevel,reactNativeDeviceBrand:e.deviceBrand,reactNativeDeviceManufacturer:e.deviceManufacturer,reactNativeDeviceCarrier:e.deviceCarrier,reactNativeDeviceCountry:e.deviceCountry,reactNativeDeviceName:e.deviceName,reactNativeFreeDiskStorageBytes:e.freeDiskStorageBytes}:{}},t.isIPhoneX=function(){var e=window[n.reactNativeDeviceInfoKey];return!!e&&e.deviceModel.startsWith("iPhone X")},t.getMobileVersion=function(){var e=window[n.reactNativeDeviceInfoKey];if(e)return o.parseVersion(e.appVersion)}},"0g+O":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("IdSf"),s=r("/Zir"),u=r("F6Yi"),c=r("Sb6f"),d=r("mF3+"),p=r("enKW"),f=r("zmp8"),h=r("5Nka"),m=r("qqdV"),y=r("4NII"),g=r("WDpx"),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(g.default,{title:t.title},a.createElement(s.default,{hideProductLink:!0,hidePricingLink:!0,hideDesktopLink:!0,hideMobileLink:!0,hideLoginLink:!0,hideEvernoteLink:!0,hideLoginLinkDivier:!0,analyticsName:"tools-and-craft"},this.renderHeader(),this.renderEpisodes(),a.createElement(u.default,null)))},t.prototype.renderHeader=function(){return a.createElement("div",{style:{maxWidth:580,width:"100%",paddingTop:y.default()?72:120,marginBottom:y.default()?24:16,textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center"}},a.createElement("div",{style:{fontFamily:c.default.fontFamily.serif,fontWeight:c.default.fontWeight.bold,fontSize:y.default()?40:88,lineHeight:1}},"Tools & Craft"),a.createElement("div",{style:{fontSize:y.default()?22:26,marginTop:8,fontFamily:c.default.fontFamily.serif}},"Conversations with the engineers, inventors, and designers who shaped computing as we know it."),a.createElement("div",{style:{fontSize:20,marginTop:20,display:"flex",flexDirection:"column"}},a.createElement(l.default,{centerAlign:!0,external:!0,href:t.youtubeURL,innerStyle:t.headerActionLinkStyle},"Subscribe on YouTube"),a.createElement(l.default,{centerAlign:!0,external:!0,href:t.podcastURL,innerStyle:t.headerActionLinkStyle},"Listen to podcast"),a.createElement(l.default,{centerAlign:!0,external:!0,href:t.devonTwitterURL,innerStyle:t.headerActionLinkStyle},"Follow @DevonZuegel"),a.createElement(l.default,{centerAlign:!0,external:!0,href:m.notionTwitter,innerStyle:t.headerActionLinkStyle},"Follow @NotionHQ")))},t.prototype.renderEpisodes=function(){return a.createElement("div",{style:{maxWidth:780,width:"100%",marginBottom:y.default()?24:56,display:"flex",flexWrap:"wrap",justifyContent:"space-between"}},this.renderEpisode({interviewee:"Ted Nelson",episode:"Episode 03",subtitle:a.createElement("div",null,"Creator of Project Xanadu"),portraitImg:h.default.front.toolsAndCraft.ted.tedIllustrationPng,previewImg:h.default.front.toolsAndCraft.ted.tedPreviewPng,url:m.tedNelson,isComingSoon:!1,description:a.createElement("div",null,a.createElement(l.default,{centerAlign:!0,href:m.tedNelson,innerStyle:t.headerActionLinkStyle,style:{fontSize:20,marginTop:16}},"Watch episode (46:16)"),a.createElement(l.default,{centerAlign:!0,external:!0,href:t.podcastEpisode3URL,innerStyle:t.headerActionLinkStyle,style:{fontSize:20}},"Listen to episode (46:16)"),a.createElement("p",null,"Ted Nelson is the founding designer of Xanadu, the first hypertext project. Xanadu's influence on the internet as we know it today is unmistakable. Ted coined the word \"hypertext\" for to describe non-sequential writing, and his vision for digital technology only starts with this idea of clickable links. Ted's ideas have influenced projects ranging from Objective C to the original WWW to entire political philosophies about the role computing tools should play in our lives."))}),this.renderEpisode({interviewee:"Stu Card",episode:"Episode 02",subtitle:a.createElement("div",null,"Designer of the mouse"),url:m.stuCard,portraitImg:h.default.front.toolsAndCraft.stu.stuIllustrationPng,previewImg:h.default.front.toolsAndCraft.stu.stuPreviewPng,description:a.createElement("div",null,a.createElement(l.default,{centerAlign:!0,href:m.stuCard,innerStyle:t.headerActionLinkStyle,style:{fontSize:20,marginTop:16}},"Watch episode (44:04)"),a.createElement(l.default,{centerAlign:!0,external:!0,href:t.podcastEpisode2URL,innerStyle:t.headerActionLinkStyle,style:{fontSize:20}},"Listen to episode (44:04)"),a.createElement("p",null,"Stu Card began work in Human Computer Interaction before it even had a name. His was the first PhD in the discipline, and Stu has made fundamental contributions to HCI including the design of Engelbart's mouse and Information Foraging theory."),a.createElement("p",null,'In his work at Xerox PARC and beyond, Stu has always emphasized "theories with a purpose", the idea that academic HCI theories should have practical value and be incorporated into practice.'))}),this.renderEpisode({interviewee:"Andy Hertzfeld",episode:"Episode 01",subtitle:a.createElement("div",null,"Architect of the original Macintosh"),url:m.andyHertzfeld,portraitImg:h.default.front.toolsAndCraft.andy.andyIllustrationPng,previewImg:h.default.front.toolsAndCraft.andy.andyPreviewPng,description:a.createElement("div",null,a.createElement(l.default,{centerAlign:!0,href:m.andyHertzfeld,innerStyle:t.headerActionLinkStyle,style:{fontSize:20,marginTop:16}},"Watch episode (13:12)"),a.createElement(l.default,{centerAlign:!0,external:!0,href:t.podcastEpisode1URL,innerStyle:t.headerActionLinkStyle,style:{fontSize:20}},"Listen to episode (13:12)"),a.createElement("p",null,"Welcome to the first episode of ",a.createElement("i",null,"Tools & Craft"),"! We spoke with Andy Hertzfeld, a member of the team that built the original Macintosh."),a.createElement("p",null,"We’ve all seen the legendary Apple keynotes and how personal computing has transformed the way we live and work, but what I was really interested to learn from Andy was what it was like to shape that vision from scratch."))}))},t.prototype.renderEpisode=function(e){var t,r=a.createElement("div",{style:{position:"relative",borderRadius:4,boxShadow:p.default.frontMediumShadow}},a.createElement("img",{src:""+e.previewImg,style:{width:"100%",minHeight:120,display:"block",borderRadius:4,objectFit:"cover"}}),a.createElement("div",{style:{display:"flex",alignItems:"center",padding:32,position:"absolute",width:"100%",height:"100%",top:0,left:0}},d.default.triangle({height:32,width:32,fill:f.default.white,marginRight:12,transform:"rotate(90deg)",opacity:e.isComingSoon?0:1}),a.createElement("div",{style:{color:f.default.white,fontWeight:c.default.fontWeight.bold,flex:1,textAlign:"center"}},e.isComingSoon?"Coming soon":"Watch episode")));return t=e.url?a.createElement(l.default,{href:e.url},r):r,a.createElement("div",{style:{maxWidth:360,margin:12,fontSize:20}},a.createElement("img",{src:e.portraitImg,style:{maxWidth:"100%",marginBottom:8}}),a.createElement("div",{style:{fontFamily:c.default.fontFamily.serif,fontSize:18,lineHeight:1,marginBottom:16}},e.episode),a.createElement("div",{style:{fontFamily:c.default.fontFamily.serif,fontWeight:c.default.fontWeight.bold,fontSize:y.default()?34:40,lineHeight:1}},e.interviewee),a.createElement("div",{style:{marginTop:10,marginBottom:16,fontFamily:c.default.fontFamily.serif,fontSize:21}},e.subtitle),t,a.createElement("div",{style:{color:f.default.FrontBaseGrayTextColor,fontSize:15,marginBottom:16}},e.description))},t.podcastURL="http://anchor.fm/tools-and-craft",t.devonTwitterURL="https://twitter.com/devonzuegel",t.youtubeURL="https://www.youtube.com/channel/UCoSvlWS5XcwaSzIcbuJ-Ysg?disable_polymer=true",t.podcastEpisode1URL="https://anchor.fm/tools-and-craft/episodes/Interview-with-Andy-Hertzfeld-e1uhnt/a-a4lhq6",t.podcastEpisode2URL="https://anchor.fm/tools-and-craft/episodes/Interview-with-Stu-Card-e1vgak",t.podcastEpisode3URL="https://anchor.fm/tools-and-craft/episodes/Interview-with-Ted-Nelson-e33b86",t.title="Tools & Craft - Conversations with the engineers, inventors, and designers who shaped computing as we know it.",t.headerActionLinkStyle={padding:3,margin:1,borderRadius:3,color:f.default.red,textDecoration:"underline"},t}(i.default);t.default=v},"0hFN":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("t+pW"),u=r("LeVO"),c=r("bPtJ"),d=r("5/h/"),p=r("hfHo"),f=r("2Y+N"),h=r("ZQ9l"),m=r("DNfA"),y=r("r8oj"),g=r("zmp8"),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.getMetaData();if(e){var t=e.createdBy,r=e.createdTime,n=e.lastEditedBy,o=e.lastEditedTime;if(t&&r&&n&&o)return i.createElement(f.default,{topBorder:!this.props.isPageMoreButton,disableDesktopPadding:this.props.isPageMoreButton},i.createElement(h.default,{style:this.getMenuItemStyle(),title:this.renderAuthorInfo(t,r,n,o)}))}},t.prototype.renderAuthorInfo=function(e,r,n,o){var l=this;return i.createElement(u.default,{placement:m.Placement.Right,render:function(e){return i.createElement("div",a({},e,{style:t.wrapStyle}),"Last Edited by ",n,i.createElement("br",null),o)},renderTooltip:function(){return l.renderTooltip(e,r,n,o)}})},t.prototype.renderTooltip=function(e,t,r,n){return i.createElement(l.Fragment,null,i.createElement("div",null,"Last Edited by ",i.createElement("b",null,r),i.createElement("br",null),i.createElement("span",{style:this.getTimeStyle()},n)),i.createElement("div",{style:{marginTop:2}},"Created by ",i.createElement("b",null,e),i.createElement("br",null),i.createElement("span",{style:this.getTimeStyle()},t)))},t.prototype.getMetaData=function(){var e=this.props.store.getValue();if(e){var t=e.created_by,r=e.created_time,n=e.last_edited_by,o=e.last_edited_time;if(t&&r&&o&&n){var a=d.getFullName(c.createRecordStore(this.props.store,d.default.table,t).getValue()),i=p.default(r).calendar(),l=d.getFullName(c.createRecordStore(this.props.store,d.default.table,n).getValue()),s=p.default(o).calendar();if("Anonymous"===a||"Anonymous"===l)return;return{createdBy:a,createdTime:i,lastEditedBy:l,lastEditedTime:s}}}},t.prototype.getMenuItemStyle=function(){var e=y.default.isMobile;return{lineHeight:1.6,color:this.theme.lightTextColor,boxShadow:e?"0 1px 0 "+this.theme.regularDividerColor:"",background:e?this.theme.popoverBackground:g.default.transparent,fontSize:e?14:12,paddingTop:e?8:this.props.isPageMoreButton?0:2,paddingBottom:e?8:this.props.isPageMoreButton?10:2}},t.prototype.getTimeStyle=function(){return{color:this.theme.mediumInvertedTextColor}},t.wrapStyle={cursor:"default",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t}(s.default);t.default=v},"0ke/":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{upgradeModalOpen:!1}},t}(r("LEzx").default);t.default=a},"0lPs":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u,c=r("q1tI"),d=r("ovOe"),p=r("LvDl"),f=r("q1tI"),h=r("bkwR"),m=r("kyq3"),y=r("wldR"),g=r("yNyh"),v=r("g90h"),b=r("5zFd"),w=r("SR/M"),S=r("IwFn"),_=r("hvW1"),k=r("Sb6f"),C=r("3DNc"),E=r("IULH"),P=r("/6eU"),x=r("aZ00"),T=r("Ma8p");!function(e){e[e.String=0]="String",e[e.Number=1]="Number",e[e.Boolean=2]="Boolean",e[e.Options=3]="Options",e[e.StringArray=4]="StringArray"}(u=t.AdminAPIRequestType||(t.AdminAPIRequestType={}));var O=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderKey=function(e,n){var o,i=r.stores.store,s=i.state.inputValues[n];if(e.type===u.String)o=c.createElement(g.default,{value:"string"==typeof s?s:"",onChange:function(e){i.state.inputValues[n]=e.target.value,i.emit()},onSubmit:r.handleSubmit});else if(e.type===u.StringArray)o=c.createElement(g.default,{textarea:!0,value:"string"==typeof s?s:"",onChange:function(e){i.state.inputValues[n]=e.target.value,i.emit()},onSubmit:r.handleSubmit});else if(e.type===u.Number)o=c.createElement(g.default,{type:"number",value:"number"==typeof s?s.toString():"",onChange:function(e){i.state.inputValues[n]=parseInt(e.target.value),i.emit()},onSubmit:r.handleSubmit});else if(e.type===u.Options){var d=l([t.undefinedKey],e.options),f={menuTitle:n,items:d,selectedItem:s,onSelect:function(e){i.state.inputValues[n]=e===t.undefinedKey?void 0:e,i.emit()},getKey:function(e){return e},renderItem:function(e){return c.createElement(w.default,a({},e,{title:e.value===t.undefinedKey?"Empty":e.value}))},renderOrigin:function(e){return c.createElement(E.default,a({isLarge:!0,style:{marginBottom:8}},e),s||"Empty")}};o=c.createElement(b.default,a({},f))}else e.type===u.Boolean&&(o=c.createElement(C.default,{checked:Boolean(s),size:20,onClick:function(e){i.state.inputValues[n]=!Boolean(s),i.emit()}}));return c.createElement("div",{key:n},c.createElement("div",{style:{marginTop:12,marginBottom:4}},p.startCase(n)),e.comment&&c.createElement(S.default,{style:{marginTop:4,marginBottom:8}},e.comment),o)},r.handleSubmit=function(){var e,t,n=r.stores.store,o=r.props,a=o.name,i=o.schema,l=n.state.inputValues,c={};try{for(var d=s(Object.keys(l)),f=d.next();!f.done;f=d.next()){var m=f.value,y=l[m],g=i[m];g&&(p.isString(y)&&g.type===u.StringArray?c[m]=y.split("\n"):p.isString(y)&&v.isUUIDWithoutDashes(y)?c[m]=v.withDashes(y):c[m]=y)}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}_.display({message:"Loading..."}),h[a](c).then(function(e){_.close(),n.setState({inputValues:{},response:e})})},r.handleModalDismiss=function(){r.stores.store.reset()},r.handleReactJsonSelect=function(e){"string"==typeof e.value?x.copyString({stringValue:e.value}):x.copyString({stringValue:JSON.stringify(e.value)})},r}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=this.props,n=r.name,o=r.schema,a=r.description,i=r.style,l=r.emoji,s=r.isDestructive,u=this.stores.store.state.response;return c.createElement("div",{style:i},c.createElement("div",{style:t.headerStyle},c.createElement(T.default,{size:24,emoji:l}),c.createElement("span",{style:{marginLeft:4}},p.startCase(n))),a&&c.createElement(S.default,null,a),p.map(o,this.renderKey),c.createElement(E.default,{style:{marginTop:8,marginBottom:8},isLarge:!0,onClick:this.handleSubmit,isRed:s},"Submit"),c.createElement(P.default,{open:Boolean(u),innerStyle:t.modalStyle,onDismiss:this.handleModalDismiss,render:function(){if(u)return"success"===u.type?c.createElement(f.Fragment,null,c.createElement("div",{style:t.responseTypeStyle},"Success"),c.createElement(S.default,{style:{marginBottom:8}},"Click on a value to copy it into your clipboard."),c.createElement(d.default,{src:u.data,displayDataTypes:!1,onAdd:!1,onEdit:!1,onDelete:!1,collapsed:!1,enableClipboard:!1,onSelect:e.handleReactJsonSelect})):c.createElement(f.Fragment,null,c.createElement("div",{style:t.responseTypeStyle},"Error"),c.createElement("div",null,u.body.message))}}))},t.undefinedKey="__undefined",t.stores={store:m.default},t.headerStyle={fontWeight:k.default.fontWeight.bold,fontSize:20,display:"flex",alignItems:"center",marginBottom:6},t.responseTypeStyle={fontWeight:k.default.fontWeight.bold,fontSize:18,marginBottom:8},t.modalStyle={width:"calc(100% - 120px)",height:"calc(100% - 120px)",padding:24,fontSize:"1.2em",overflow:"scroll"},t}(y.default);t.default=O},"0lqH":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u,c=r("q1tI"),d=r("17x9"),p=r("LvDl"),f=r("STAJ"),h=r("r8oj"),m=r("MeYt"),y=r("lCCU"),g=r("bxQm"),v=r("prF1"),b=r("WMG3"),w=r("SR/M"),S=r("i3uR"),_=r("3DNc"),k=r("fB7H"),C=r("gbGO"),E=r("WgIs"),P=r("lUWv"),x=r("1y3T"),T=r("Oy36"),O=r("8t63"),M=r("oAn+"),I=r("2Y+N"),A=r("AOw3"),D=r("DrHl"),L=r("t+pW"),R=r("LeVO"),B=r("QcDD"),j=r("ouJW"),V=r("wpmu"),F=r("g4rC"),N=r("bjn0"),U=r("bFnu"),W=r("wS9/"),z=r("/YYm"),H=r("EZe4"),q=r("w5u6"),G=r("y6Dp"),Z=r("wweX"),Y=r("cu5z"),K=r("IzPW"),J=r("njgS"),Q=r("tzV5"),X=r("oWRT"),$=r("D2XV"),ee=r("F1uM"),te=r("dP7y"),re=r("6BTz"),ne=r("+575"),oe=r("N34Z"),ae=r("7TLZ"),ie=r("m5ks"),le=r("X6Ne"),se=r("MBf9"),ue=r("S26v"),ce=r("nFzZ"),de=r("bPtJ"),pe=r("VMJe"),fe=r("nFzZ"),he=r("Hl/2"),me=r("wXH4"),ye=r("7Q97"),ge=r("mF3+"),ve=r("Sb6f"),be=r("IdSf"),we=r("CCCS");!function(e){e[e.Table=0]="Table",e[e.Board=1]="Board",e[e.Calendar=2]="Calendar",e[e.Page=3]="Page",e[e.ListView=4]="ListView",e[e.GalleryView=5]="GalleryView"}(u=t.BlockPropertyValueFormat||(t.BlockPropertyValueFormat={}));var Se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registries=[j.default],t.renderNumberFormatMenu=function(){var e;return e=h.default.isMobile?{menuType:C.default.MenuType.ActionSheet}:{menuType:C.default.MenuType.Popup},c.createElement(C.default,a({},e),c.createElement(E.default,{initialFocus:0,sections:[{key:0,render:function(e){return c.createElement(I.default,a({},e))},items:t.getNumberFormatMenuItems()}]}))},t.handleEditButtonClick=function(){return i(t,void 0,void 0,function(){var e,t,r,n,o,i,s,c;return l(this,function(l){switch(l.label){case 0:return e=this.props,t=e.onClick,r=e.property,n=e.format,(o=this.getType())?"checkbox"!==o?[3,1]:(i=this.getPropertyValue(),s=ne.toCheckboxValue(i),(c=this.getPropertyStore())&&se.createAndCommit(function(e){oe.setValue({store:c,value:ne.fromCheckboxValue(!s),transaction:e})}),G.trackEditBlockProperty({block_id:c.id,property:r,property_type:o,from:n===u.Table?"table":"page_properties"}),[3,4]):[2];case 1:return-1===J.noPropertyValueOverlayTypes.indexOf(o)?(this.stores.mouseStore.setState(a({},this.stores.mouseStore.state,{mouseEntered:!1})),h.default.isReactNative||h.default.isCordova?he.mobilePopupStyles[o]!==me.PopupType.Popup?[3,3]:(le.scrollIntoView({component:this,revealBottom:!0,paddingToTopEdge:4,paddingToBottomEdge:320+W.default.measurePaddingBottom()}),[4,q.default.afterNextFlush()]):[3,3]):[3,4];case 2:l.sent(),l.label=3;case 3:Z.open({blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,store:this.props.store,property:this.props.property,format:this.props.format}),l.label=4;case 4:return t&&t(),[2]}})})},t.handleNumberFormatChange=function(e){var r=t.props,n=r.store,o=r.property,i=r.schema,l=f.lensPath([o,"number_format"]),s=f.set(l,e,i),u=n.getParentCollectionStore();u&&se.createAndCommit(function(e){Q.updateCollection({collectionStore:u,update:{schema:s},transaction:e})}),t.stores.numberFormatButtonPopupStore.setState(a({},t.stores.numberFormatButtonPopupStore.state,{open:!1}))},t.handleTitleLinkClick=function(){G.trackExpandBlock({is_peek:!0,from:"table"})},t.handleContextMenu=function(e){var r=t.props.onContextMenu;r&&H.default({event:e,context:H.EventContext.EditorContextMenu,callback:function(){r(e)}})},t.handleMouseMove=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t.handleNativeDrop=function(e){Z.open({blockPropertyValueOverlayStore:t.props.blockPropertyValueOverlayStore,store:t.props.store,property:t.props.property,format:t.props.format,uploadFiles:e.files})},t.getRecordValue=function(e,r){return de.createRecordStore(t.props.store,e,r).getValue()},t}return o(t,e),t.prototype.getContextVerticalScroller=function(){return this.context.verticalScroller},t.prototype.getContextHorizontalScroller=function(){return this.context.horizontalScroller},t.prototype.openNumberFormat=function(){this.stores.numberFormatButtonPopupStore.setState({open:!0})},t.prototype.renderComponent=function(){return this.isTable()?this.renderTableProperty():this.isPage()?this.renderPageProperty():this.isBoard()?this.renderBoardProperty():this.isMobileCalendar()?this.renderMobileBoardProperty():this.isDesktopCalendar()?this.renderCalendarProperty():this.isGallery()?this.renderGalleryProperty():this.isListView()?this.renderListViewProperty():void 0},t.prototype.renderTableProperty=function(){return this.isLinkType()?this.renderLinkType():this.isNumberType()?this.renderNumberType():this.isReadOnlyType()?this.renderReadOnlyType():this.isDroppableType()?this.renderDroppableType():this.isRollup()?this.renderRollupType():this.renderButtonType()},t.prototype.renderPageProperty=function(){return this.isDroppableType()?this.renderDroppableType():this.isEmpty()?this.renderEmptyPageProperty():this.renderTableProperty()},t.prototype.renderBoardProperty=function(){return c.createElement("div",{style:this.getCardPropertyStyle(),onContextMenu:this.handleContextMenu},this.renderValue())},t.prototype.renderMobileBoardProperty=function(){return c.createElement("div",{style:this.getMobileCardPropertyStyle()},this.renderValue())},t.prototype.renderCalendarProperty=function(){return c.createElement("div",{style:t.calendarPropertyStyle,onContextMenu:this.handleContextMenu},this.renderValue())},t.prototype.renderGalleryProperty=function(){return c.createElement("div",{style:this.getGalleryPropertyStyle(),onContextMenu:this.handleContextMenu},this.renderValue())},t.prototype.renderListViewProperty=function(){var e=this.getType(),t="person"===e||"created_by"===e||"last_edited_by"===e,r="select"===e||"multi_select"===e,n=this.isLinkType();if(!this.isEmpty()){if(n){if("url"===e&&!this.getLinkHref())return;return c.createElement("div",{style:a({},this.getListPropertyStyle(),{marginLeft:h.default.isMobile?0:8,marginRight:h.default.isMobile?4:0})},this.renderListViewLinkValue())}return c.createElement("div",{style:a({},this.getListPropertyStyle(),t&&{minWidth:"none"},r&&{flexShrink:0})},this.renderValue())}},t.prototype.renderListViewLinkValue=function(){var e=this,r=this.getType(),n=this.getLinkHref(),o=this.getDomainName(),i=r&&t.navigateButton[r];if(i){var l=i.icon,s=i.tooltip;return o&&n?c.createElement(R.default,{renderTooltip:function(){return s},render:function(t){return c.createElement(v.default,a({href:e.getLinkHref(),external:e.getLinkExternal(),style:{minWidth:0}},t),c.createElement(g.default,{style:{display:"flex"}},l({width:12,height:12,fill:e.theme.mediumIconColor,marginTop:2,marginRight:4}),c.createElement("span",{style:e.getLinkTextStyle()},o||"")))}}):void 0}},t.prototype.renderEmptyPageProperty=function(){return c.createElement(m.default,{style:a({},this.getCellStyle(),{color:this.theme.lightTextColor}),onClick:this.handleEditButtonClick,onContextMenu:this.handleContextMenu},"Empty")},t.prototype.renderLinkType=function(){var e=this.props.property;if(h.default.isMobile&&"title"===e)return c.createElement("div",{style:this.getLinkCellWrapStyle()},c.createElement(v.default,{href:this.getLinkHref(),external:this.getLinkExternal(),style:a({},this.getCellStyle(),{borderRadius:0,margin:0,textDecoration:"none"})},this.renderValue()));var t=this.getMouseEntered()||h.default.isMobile;return c.createElement("div",{style:a({},this.getLinkCellWrapStyle(),{position:t?"relative":void 0}),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu},c.createElement(m.default,{style:this.getCellStyle(),onClick:this.handleEditButtonClick},this.renderValue()),t&&this.renderNavigateButton())},t.prototype.renderNumberType=function(){var e=this.stores.numberFormatButtonPopupStore,r=this.getMouseEntered(),n=this.isTable(),o=e.state.open||r||h.default.isMobile;return c.createElement("div",{style:a({},n?t.numberCellWrapStyle:t.numberCellWrapPagePropertyStyle,o&&{position:"relative"}),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu},n&&o&&!this.props.locked&&!this.props.disabled&&this.renderNumberFormatEditButton(),c.createElement(m.default,{style:a({},this.getCellStyle(),n?t.numberTableCellStyle:t.numberPagePropertyStyle),onClick:this.handleEditButtonClick},this.renderValue()),!n&&o&&this.renderNumberFormatEditButton())},t.prototype.renderButtonType=function(){return c.createElement(m.default,{style:this.getCellStyle(),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu,onClick:this.handleEditButtonClick,disabled:this.props.disabled&&"checkbox"===this.getType()},this.renderValue())},t.prototype.renderRollupType=function(){var e=this.isTable(),r=this.props,n=r.schema[r.property],o=n&&"rollup"===n.type&&n.aggregation;return c.createElement("div",{style:a({display:"flex"},this.isPage()&&{flex:1}),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu},c.createElement(m.default,{style:a({},this.getCellStyle(),o&&(e?a({},t.numberTableCellStyle,{paddingTop:5}):t.numberPagePropertyStyle)),onClick:this.handleEditButtonClick},this.renderValue()))},t.prototype.renderDroppableType=function(){var e=this.props,t=e.disabled,r=e.store;return this.clonedStore||(this.clonedStore=r.clone()),c.createElement(A.default,{store:this.clonedStore,canNativeDropOnto:!t,onNativeDrop:this.handleNativeDrop,style:{width:this.isPage()?"100%":"auto"},analyticsName:"file_property",shouldShowDropZone:!0},this.isEmpty()&&this.isPage()?this.renderEmptyPageProperty():this.renderButtonType())},t.prototype.renderReadOnlyType=function(){return c.createElement("div",{style:this.getCellStyle(),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu,onClick:H.captureEditorClick},this.renderValue())},t.prototype.renderValue=function(){var e=this.props,t=e.schema[e.property];if(t)return"title"===t.type?this.renderTitle():"text"===t.type?this.renderText():"relation"===t.type?this.renderRelation(t):"checkbox"===t.type?this.renderCheckbox():"select"===t.type?this.renderSelect(t):"multi_select"===t.type?this.renderMultiSelect(t):"person"===t.type?this.renderPerson():"number"===t.type?this.renderNumber(t):"date"===t.type?this.renderDate(t):"file"===t.type?this.renderFile():"url"===t.type||"email"===t.type||"phone_number"===t.type?this.renderLinkText():"created_by"===t.type?this.renderCreatedBy():"created_time"===t.type?this.renderCreatedTime():"last_edited_by"===t.type?this.renderLastEditedBy():"last_edited_time"===t.type?this.renderLastEditedTime():"formula"===t.type?this.renderFormula():"rollup"===t.type?this.renderRollup(t):void 0},t.prototype.renderTitle=function(){var e=this.props.store,r=this.getPropertyValue(),n=e.hasIcon()||!e.isEmptyPage(),o=ae.getNumberOfUnresolvedComments(e);return[n&&c.createElement(T.default,{key:"icon",disabled:!0,icon:e.getIcon(),isEmptyPage:!1,style:t.titleIconStyle,size:20}),c.createElement("span",{style:this.getTitleStyle(),key:"value"},K.renderText({textValue:r,parentStore:this.props.store,disableStyleAnnotations:!0,disabled:!0,theme:this.theme})),o>0&&c.createElement("span",{key:"discussion-indicator",style:this.getDiscussionIndicatorStyle()},ge.default.speechBubble({width:14,height:14,marginRight:4,fill:this.theme.mediumIconColor}),o)]},t.prototype.renderText=function(){var e=this.getPropertyValue(),r=c.createElement("span",{style:this.getBaseTextStyle()},K.renderText({textValue:e,parentStore:this.props.store,disableStyleAnnotations:!1,disabled:!0,theme:this.theme}));return this.isListView()?c.createElement("div",{style:t.listViewTextWrapStyle},r):r},t.prototype.renderLinkText=function(){var e=this.getPropertyValue();if(this.isBoard()||this.isGallery()){var t=this.getDomainName();return c.createElement(be.default,{href:this.getLinkHref(),style:{display:"inline-flex"},innerStyle:{flexShrink:1,width:"none",padding:"0 4px",marginLeft:-4,borderRadius:3}},c.createElement("span",{style:this.getLinkTextStyle()},t||""))}t=ne.toUrlValue(e);return c.createElement("span",{style:this.getLinkTextStyle()},t||"")},t.prototype.renderNumber=function(e){var t=this.getPropertyValue(),r=ne.toNumberValue(t),n=e.number_format||re.defaultNumberFormat;if(!p.isNaN(r)&&!ce.isNotDefined(r))return c.createElement("span",{style:this.getBaseTextStyle()},re.formatNumber(r,n))},t.prototype.renderCheckbox=function(){var e=this.getPropertyValue(),r=ne.toCheckboxValue(e),n=this.isBoard()||this.isMobileCalendar(),o=this.isDesktopCalendar()||this.isDesktopGallery();if(!n&&!o)return c.createElement(_.default,{checked:r,disabled:!0,size:16,checkSize:12});var a=this.props,i=a.property,l=a.schema[i];if(l){var s=l.name;return c.createElement("div",{style:t.cardCheckboxWrapStyle},c.createElement(_.default,{checked:r,disabled:!0,size:o?12:16,checkSize:o?8:12}),c.createElement("div",{style:t.cardCheckboxNameStyle},s))}},t.prototype.renderSelect=function(e){var t=this.getPropertyValue(),r=e.options||[],n=ne.toSelectValue(t,r);if(n)return c.createElement("div",{style:this.getTokenWrapStyle()},c.createElement(D.default,{key:n,value:n,options:r,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,shouldShrink:this.isPage()||this.isBoard()||this.isMobileCalendar()||this.isListView()}))},t.prototype.renderMultiSelect=function(e){var t=this,r=this.getPropertyValue(),n=e.options||[],o=ne.toMultiSelectValue(r,n);if(o.length>0)return c.createElement("div",{style:this.getTokenWrapStyle()},o.map(function(e){return c.createElement(D.default,{key:e,value:e,options:n,showRemoveButton:!1,format:t.getTokenFormat(),isSingle:!1,shouldShrink:t.isPage()||t.isBoard()||t.isMobileCalendar()})}))},t.prototype.renderPerson=function(){var e=this,t=this.getPropertyValue(),r=ne.toPersonValue(t);if(this.isListView()&&r.reverse(),r.length>0)return c.createElement("div",{style:this.getTokenWrapStyle()},r.map(function(t){return c.createElement(P.default,{key:t,userId:t,showRemoveButton:!1,format:e.getTokenFormat(),isSingle:!1,parentStore:e.props.store})}))},t.prototype.renderRelation=function(e){var r,n,o=this.props.blockPropertyValueOverlayStore,a=this.getPropertyValue(),i=ne.toRelationValue(a),l=i.slice(0,t.renderRelationTokenLimit),u=[];try{for(var d=s(l),p=d.next();!p.done;p=d.next()){var f=p.value,h=V.default.createChildStore(this.props.store,f).getValue();h&&h.parent_id===e.collection_id&&u.push(c.createElement(O.default,{key:f,format:this.getTokenFormat(),blockId:f,shouldWrap:this.isTable()&&this.shouldWrap(),isSingle:!1,shouldShrink:this.isBoard(),parentStore:this.props.store,blockPropertyValueOverlayStore:o}))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return c.createElement("div",{style:this.getTokenWrapStyle()},u,i.length>t.renderRelationTokenLimit&&c.createElement(M.default,{count:i.length-t.renderRelationTokenLimit,format:this.getTokenFormat(),isPage:this.isPage()}))},t.prototype.renderRollup=function(e){var r=this.props,n=r.property,o=r.schema,i=r.store,l=r.format,s=r.blockPropertyValueOverlayStore,u=i.getValue();if(e.relation_property&&u){var d=u.properties||{},f=o[e.relation_property],h=ne.toRelationValue(d[e.relation_property]);if(f&&"relation"===f.type&&f.collection_id){var m=N.default.createChildStore(i,f.collection_id).getValue();if(m){var y=J.getNormalizedSchema(m),g=e.target_property||"title",v=y[g];if(v){if(!e.aggregation){var w={title:this.getTokenWrapStyle(),number:Y.textCellPaddingVertical,file:this.getFileTokenWrapStyle(),text:Y.textCellPaddingVertical,checkbox:{paddingBottom:this.isPage()?t.cellHeight/4:0},person:this.getTokenWrapStyle(),url:Y.textCellPaddingVertical,email:Y.textCellPaddingVertical,phone_number:Y.textCellPaddingVertical,select:this.getTokenWrapStyle(),multi_select:this.getTokenWrapStyle(),date:Y.textCellPaddingVertical,created_by:this.getTokenWrapStyle(),created_time:this.getBaseTextStyle(),last_edited_by:this.getTokenWrapStyle(),last_edited_time:this.getBaseTextStyle(),relation:this.getTokenWrapStyle(),rollup:void 0,formula:Y.textCellPaddingVertical},S=h.map(function(e){return V.default.createChildStore(i,e)}).filter(function(e){var t=e.getValue();return t&&t.parent_id===m.id});return c.createElement("div",{style:a({},w[v.type||"relation"],{display:"flex",flexWrap:this.shouldWrap()||this.isBoard()?"wrap":"nowrap"})},c.createElement(b.default,{stores:S,property:g,schema:y,format:l,blockPropertyValueOverlayStore:s,parentStore:i,wrap:this.shouldWrap()}))}var _=ie.computeRollupAggregationValue({block:u,property:n,schema:o,getRecordValue:this.getRecordValue,userTimeZone:$.currentTimeZone});if(void 0!==_&&!isNaN(_)){var k=re.getAggregationNumberFormat(e,e.aggregation),C=re.formatNumber(p.round(_,3),k);return c.createElement("span",{style:this.getBaseTextStyle()},C)}}}}}},t.prototype.renderDate=function(e){var t=this.getPropertyValue(),r=ne.toDateValue(t),n=e&&e.time_format?e.time_format:$.defaultTimeFormat,o=e&&e.date_format?e.date_format:$.defaultDateFormat;if(r)return c.createElement(k.default,{value:r,dateFormat:o,timeFormat:n,style:a({},this.getBaseTextStyle(),this.isListView()&&{fontSize:12,color:this.theme.mediumTextColor})})},t.prototype.renderFile=function(){var e=this,r=this.getPropertyValue(),n=ne.toFileValue(r);if(n.length>0)return c.createElement("div",{style:this.getFileTokenWrapStyle()},n.map(function(r){var n=r.data||r.value,o=r.value||r.data;return ee.isImageURL({url:n})?c.createElement(x.default,{key:n,url:n,permissionRecord:{table:e.props.store.table,id:e.props.store.id},width:20,render:function(t,r){if(r)return c.createElement("img",{key:n,src:r,style:e.getFileImageStyle()})}}):c.createElement("div",{style:a({},e.getFileStyle(),e.isDesktopCalendar()&&{height:14,display:"inline-flex"}),key:n},c.createElement("span",{style:t.fileTitleStyle},o))}))},t.prototype.renderFormula=function(){var e=this.props,t=e.property,r=e.store,n=e.schema;return c.createElement(we.default,{property:t,store:r,schema:n,isDesktopCalendar:this.isDesktopCalendar(),style:this.getBaseTextStyle()})},t.prototype.renderCreatedTime=function(){var e=this.props.store.getValue(),t=e&&e.created_time,r=this.isListView();if(t){var n=$.dateTime(t,$.currentTimeZone);return c.createElement(k.default,{value:n,dateFormat:r?"relative":"MMM DD, YYYY",timeFormat:r?void 0:"h:mm A",style:a({},this.getBaseTextStyle(),r&&{fontSize:12,color:this.theme.mediumTextColor})})}},t.prototype.renderCreatedBy=function(){var e=this.props.store.getValue(),t=e&&e.created_by;if(t){var r={type:ne.TokenType.UserMention,data:t};return c.createElement("div",{style:this.getTokenWrapStyle()},c.createElement(P.default,{key:r.data,userId:r.data,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,parentStore:this.props.store}))}},t.prototype.renderLastEditedTime=function(){var e=this.props.store.getValue(),t=e&&e.last_edited_time,r=this.isListView();if(t){var n=$.dateTime(t,$.currentTimeZone);return c.createElement(k.default,{value:n,dateFormat:r?"relative":"MMM DD, YYYY",timeFormat:r?void 0:"h:mm A",style:a({},this.getBaseTextStyle(),r&&{fontSize:12,color:this.theme.mediumTextColor})})}},t.prototype.renderLastEditedBy=function(){var e=this.props.store.getValue(),t=e&&e.last_edited_by;if(t){var r={type:ne.TokenType.UserMention,data:t};return c.createElement("div",{style:this.getTokenWrapStyle()},c.createElement(P.default,{key:r.data,userId:r.data,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,parentStore:this.props.store}))}},t.prototype.renderNavigateButton=function(){var e=this,r=this.getType();if(h.default.isCordova&&h.default.isIOS&&("email"===r||"phone_number"===r)){var n=X.getMobileVersion();if(!n||!pe.isEqualVersion(n,[0,0,0])&&(pe.isEqualVersion(n,[0,3,7])||pe.isLessThanVersion(n,[0,3,7])))return}var o=this.getLinkHref(),i=r&&t.navigateButton[r];if(i){var l=i.icon,s=i.tooltip;if(o)return c.createElement(R.default,{renderTooltip:function(){return s},render:function(t){return c.createElement(v.default,a({href:o,metaHref:e.getLinkClickHref(),style:{position:"absolute",right:6,top:4},external:e.getLinkExternal(),onClick:"title"===r?e.handleTitleLinkClick:void 0},t),c.createElement(y.default,{icon:l,hasBackground:!0,showShadow:!0,caption:"title"===r&&"Open"}))}})}},t.prototype.renderNumberFormatEditButton=function(){var e=this.stores.numberFormatButtonPopupStore,r=this.isTable();return c.createElement(S.default,{popupType:h.default.isMobile?S.default.PopupType.SlideUp:S.default.PopupType.Popup,buttonPopupStore:e,style:{width:200},renderOrigin:function(e){return c.createElement(y.default,a({icon:ge.default.collectionNumberType,hasBackground:!0,showShadow:!0,style:r?t.leftNumberTypeButtonStyle:t.rightNumberTypeButtonStyle},e))},render:this.renderNumberFormatMenu})},t.prototype.renderNumberFormatMenuItem=function(e,t){return c.createElement(w.default,a({},t,{title:J.getDisplayName(e)}))},t.prototype.getNumberFormatMenuItems=function(){var e=this;return re.numberFormatOptions.map(function(t){return{key:t,render:function(r){return e.renderNumberFormatMenuItem(t,r)},action:function(){return e.handleNumberFormatChange(t)}}})},t.prototype.getPropertyStore=function(){var e=this.props,t=e.store,r=e.property;return t.getPropertyStore(r)},t.prototype.getPropertyValue=function(){var e=this.props,t=e.store,r=e.property;return t.getProperties()[r]},t.prototype.isLinkType=function(){var e=this.props,t=e.schema[e.property];if(t&&"formula"===t.type){var r=t.formula;return r&&f.contains(r.result_type,J.linkUITypes)}return t&&f.contains(t.type,J.linkUITypes)},t.prototype.isNumberType=function(){var e=this.props,t=e.schema[e.property];if(t&&"formula"===t.type){var r=t.formula;return Boolean(r&&"number"===r.result_type)}return t&&"number"===t.type},t.prototype.isReadOnlyType=function(){var e=this.getType();return f.contains(e,J.metadataTypes)},t.prototype.isDroppableType=function(){return"file"===this.getType()},t.prototype.getLinkHref=function(){var e=this.props.store,t=this.getType();if("title"===t)return z.default({store:e,fullyQualified:!1});if("url"===t){var r=this.getPropertyValue();if(o=ne.toUrlValue(r)){var n=te.find(o);if(n&&n[0]&&n[0].href)return n[0].href}}else if("phone_number"===t){r=this.getPropertyValue();if(o=ne.toUrlValue(r))return"tel:"+o.trim().replace(/\s/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\-/g,"").replace(/\./g,"")}else if("email"===t){var o;r=this.getPropertyValue();if(o=ne.toUrlValue(r))return"mailto:"+o}},t.prototype.getLinkClickHref=function(){var e=this.props.store;if("title"===this.getType()&&!h.default.isMobile){var t=B.default.state.currentBlockStore;if(t)return z.default({store:t,fullyQualified:!1,peekViewBlockId:e.id})}},t.prototype.getLinkExternal=function(){return"title"!==this.getType()},t.prototype.isEmpty=function(){var e=this.props,t=e.store,r=e.schema,n=e.property,o=t.getValue();return!o||ne.valueIsEmpty({block:o,property:n,schema:r,getRecordValue:this.getRecordValue,userTimeZone:$.currentTimeZone})},t.prototype.isTable=function(){return this.props.format===u.Table},t.prototype.isBoard=function(){return this.props.format===u.Board},t.prototype.isDesktopCalendar=function(){var e=this.props.format;return!h.default.isMobile&&e===u.Calendar},t.prototype.isMobileCalendar=function(){var e=this.props.format;return h.default.isMobile&&e===u.Calendar},t.prototype.isPage=function(){return this.props.format===u.Page},t.prototype.isListView=function(){return this.props.format===u.ListView},t.prototype.isGallery=function(){return this.props.format===u.GalleryView},t.prototype.isDesktopGallery=function(){var e=this.props.format;return!h.default.isMobile&&e===u.GalleryView},t.prototype.isMobileGallery=function(){var e=this.props.format;return h.default.isMobile&&e===u.GalleryView},t.prototype.getType=function(){var e=this.props,t=e.schema[e.property];if(t)return t.type},t.prototype.getMouseEntered=function(){var e=this.props.forceMouseEntered;return fe.isNotDefined(e)?this.stores.mouseStore.state.mouseEntered:e},t.prototype.shouldWrap=function(){var e=this.props.tableWrap,t=this.isPage();return e||t},t.prototype.getTokenFormat=function(){return this.isMobileCalendar()?ye.TokenFormat.Medium:this.isDesktopCalendar()||this.isDesktopGallery()?ye.TokenFormat.ExtraSmall:this.isBoard()?ye.TokenFormat.Small:this.isListView()||this.isMobileGallery()?ye.TokenFormat.Inline:ye.TokenFormat.Medium},t.prototype.isCheckBoxType=function(){var e=this.props,t=e.schema[e.property];if(t&&"formula"===t.type){var r=t.formula;return r&&"checkbox"===r.result_type}return t&&"checkbox"===t.type},t.prototype.isRollup=function(){return"rollup"===this.getType()},t.prototype.getDomainName=function(){var e=this.getType(),t=this.getPropertyValue(),r=ne.toUrlValue(t);if("url"===e){var n=ue.parse(r).hostname;return n?n.replace(/^www./i,""):r}return r},t.prototype.getCellStyle=function(){var e=this.props.width,r=this.getType(),n=this.isTable(),o=this.shouldWrap(),i=this.isCheckBoxType(),l="select"===r||"multi_select"===r,s="file"===r,u="relation"===r,c="rollup"===r,d="person"===r||"created_by"===r||"last_edited_by"===r,p=this.isDroppableType(),f=a({fontSize:Y.fontSize,overflow:"hidden"},!(this.isEmpty()&&this.isPage())&&(l||d||s||u||c)&&{paddingTop:0,paddingBottom:0},i?this.getCheckboxCellStyle():t.cellLeftPaddingStyle);return n?a({display:"block",width:e,borderRight:this.props.disableTableBorderRight||this.props.isLast&&(this.props.disabled||this.props.locked)?"none":"1px solid "+this.theme.regularDividerColor,whiteSpace:o?"normal":"nowrap",minHeight:t.cellHeight},!o&&{height:t.cellHeight},Y.textCellPaddings,p&&{height:"100%"},f):a({display:this.isLinkType()?"inline-block":"flex",alignItems:"center",borderRadius:3,width:"100%",minHeight:t.cellHeight+2},Y.textPagePropertyPaddings,f)},t.prototype.getCardPropertyStyle=function(){var e=this.getType();return{paddingLeft:10,paddingRight:10,paddingBottom:e&&{title:0,text:4,number:4,date:4,created_time:4,last_edited_time:4,url:6,email:6,phone_number:6,select:0,multi_select:0,person:0,created_by:0,last_edited_by:0,relation:0,checkbox:4,file:4,formula:4}[e],fontSize:12}},t.prototype.getMobileCardPropertyStyle=function(){var e=this.getType();return{paddingBottom:e&&{title:0,text:4,number:4,date:4,created_time:4,last_edited_time:4,url:6,email:6,phone_number:6,select:0,multi_select:0,person:0,created_by:0,last_edited_by:0,relation:0,checkbox:4,file:4,formula:4}[e],fontSize:14}},t.prototype.getListPropertyStyle=function(){var e=h.default.isMobile;return{display:"flex",alignItems:"center",fontSize:14,marginLeft:e?0:14,marginRight:e?8:0,minWidth:20,height:e?30:0}},t.prototype.getGalleryPropertyStyle=function(){var e=this.getType(),t="text"===e||"url"===e;return a({display:"flex",alignItems:"center",fontSize:h.default.isMobile?14:12,height:24,whiteSpace:"nowrap"},t&&{paddingRight:8})},t.prototype.getLinkCellWrapStyle=function(){return this.isTable()?{display:"flex"}:{display:"flex",height:"100%",flex:"auto"}},t.prototype.getCheckboxCellStyle=function(){return this.isTable()?t.checkboxCellStyle:t.checkboxPagePropertyStyle},t.prototype.getTokenWrapStyle=function(){var e=this.getType();return this.isBoard()||this.isMobileCalendar()?{display:"flex",flexWrap:"wrap"}:this.isTable()?{display:"flex",flexWrap:this.shouldWrap()?"wrap":"nowrap",paddingTop:this.shouldWrap()&&"relation"===e?5:7,paddingBottom:1}:this.isPage()?{display:"flex",flexWrap:"wrap",paddingTop:8,paddingBottom:2}:this.isDesktopCalendar()||this.isGallery()?{display:"flex",minWidth:0}:this.isListView()?a({display:"flex",minWidth:0},("person"===e||"created_by"===e||"last_edited_by"===e)&&{paddingRight:5,flexDirection:"row-reverse"},("select"===e||"multi_select"===e)&&{marginRight:-6},"relation"===e&&{marginRight:-12}):void 0},t.prototype.getBaseTextStyle=function(){var e=this.shouldWrap();return this.isTable()?{lineHeight:1.5,whiteSpace:e?"pre-wrap":"nowrap",wordBreak:e?"break-word":"normal",pointerEvents:"none"}:this.isDesktopCalendar()||this.isListView()||this.isGallery()?{lineHeight:1.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}:{lineHeight:1.5,wordBreak:"break-word",whiteSpace:"pre-wrap",pointerEvents:"none"}},t.prototype.getLinkUnderlineStyle=function(){return{backgroundImage:"linear-gradient(\n\t\t\tto right,\n\t\t\t"+this.theme.darkDividerColor+" 0%,\n\t\t\t"+this.theme.darkDividerColor+" 100%\n\t\t)",backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}},t.prototype.getLinkTextStyle=function(){return a({},this.getBaseTextStyle(),this.getLinkUnderlineStyle())},t.prototype.getTitleStyle=function(){return a({},this.getLinkTextStyle(),{fontWeight:ve.default.fontWeight.medium,whiteSpace:this.shouldWrap()?"normal":"nowrap"})},t.prototype.getDiscussionIndicatorStyle=function(){return{display:"inline-flex",alignItems:"center",color:this.theme.lightTextColor,fontSize:12,fontWeight:ve.default.fontWeight.semibold,marginLeft:8,verticalAlign:"text-top"}},t.prototype.getFileTokenWrapStyle=function(){return this.isDesktopCalendar()||this.isGallery()?{display:"flex",minWidth:0}:this.isListView()?{overflow:"hidden"}:{display:"flex",alignContent:"flex-start",flexWrap:this.shouldWrap()?"wrap":"nowrap",paddingTop:4,paddingBottom:4}},t.prototype.getFileImageStyle=function(){return{maxHeight:this.isDesktopCalendar()||this.isGallery()?18:24,marginRight:6}},t.prototype.getFileStyle=function(){return{display:"flex",alignItems:"center",whiteSpace:"nowrap",maxWidth:120,height:18,borderRadius:3,background:this.theme.selectColors.default,paddingLeft:6,paddingRight:6,overflow:"hidden",marginRight:6,marginTop:3,marginBottom:3,paddingBottom:1}},t.Format=u,t.stores={numberFormatButtonPopupStore:F.default,rollupAggregationButtonPopupStore:F.default,mouseStore:U.default},t.contextTypes={verticalScroller:d.any,horizontalScroller:d.any},t.renderRelationTokenLimit=10,t.navigateButton={title:{icon:ge.default.openAsPageThick,tooltip:"Open as Page"},email:{icon:ge.default.typesEmail,tooltip:"Send Email"},phone_number:{icon:ge.default.typesPhoneNumber,tooltip:"Call"},url:{icon:ge.default.typesUrl,tooltip:"Open Link"}},t.cellHeight=32,t.calendarPropertyStyle={display:"flex",alignItems:"center",fontSize:12,height:20,whiteSpace:"nowrap"},t.cellLeftPaddingStyle={paddingLeft:8},t.numberCellWrapStyle={display:"flex"},t.numberCellWrapPagePropertyStyle={display:"flex",height:"100%",flex:"auto"},t.numberTableCellStyle={textAlign:"right",paddingRight:t.cellLeftPaddingStyle.paddingLeft},t.numberPagePropertyStyle=a({},t.cellLeftPaddingStyle),t.checkboxCellStyle=a({justifyContent:"center"},Y.checkboxCellPaddings),t.checkboxPagePropertyStyle=a({},t.cellLeftPaddingStyle,{justifyContent:"flex-start"},Y.checkboxPagePropertyPaddings),t.listViewTextWrapStyle={maxWidth:180,overflow:"hidden",textOverflow:"ellipsis"},t.titleIconStyle={display:"inline-block",verticalAlign:"text-top",marginBottom:-1,marginRight:4},t.fileTitleStyle={textOverflow:"ellipsis",overflow:"hidden"},t.leftNumberTypeButtonStyle={position:"absolute",top:4,left:5},t.rightNumberTypeButtonStyle={position:"absolute",top:4,right:6},t.cardCheckboxWrapStyle={display:"flex",alignItems:"center"},t.cardCheckboxNameStyle={marginLeft:6},t}(L.default);t.default=Se},"0oyA":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("i8i4"),i=r("r8oj"),l=r("LEzx"),s=r("E5KU"),u=r("nFzZ"),c=function(e){function t(){var t=e.call(this)||this;return t.shortcutMap={enter:["enter","shift+enter"],commandEnter:["command+enter"],commandShiftEnter:["command+shift+enter"],commandSlash:["command+/"],delete:["delete"],space:["space"],backspace:["backspace"],esc:["esc"],left:u.compact(["left","shift+left","command+left","command+shift+left","ctrl+left","ctrl+shift+left",i.default.isLinux?void 0:"alt+left",i.default.isLinux?void 0:"alt+shift+left"]),right:u.compact(["right","shift+right","command+right","command+shift+right","ctrl+right","ctrl+shift+right",i.default.isLinux?void 0:"alt+right",i.default.isLinux?void 0:"alt+shift+right"]),up:u.compact(["up","shift+up","alt+up","alt+shift+up","command+up",i.default.isMac?"ctrl+p":void 0]),down:u.compact(["down","shift+down","alt+down","alt+shift+down","command+down",i.default.isMac?"ctrl+n":void 0]),moveUp:["command+shift+up"],moveDown:["command+shift+down"],untab:["shift+tab"],tab:["tab"],home:["home","shift+home"],end:["end","shift+end"],selectAll:["command+a"],redo:["command+shift+z","command+y"],undo:["command+z"],toggleUnderline:["command+shift+u"],toggleHighlight:["command+shift+h"],toggleBold:["command+b"],toggleItalics:["command+i"],toggleCode:["command+e"],toggleStrike:["command+shift+s"],duplicate:["command+d"],cut:["command+x"],copy:["command+c"],paste:["command+v"],openLinkMenu:["command+k"],goBack:["command+["],goForward:["command+]"],goUp:["command+u"],quickFind:["command+p"],search:["command+f"],goToBeginningOfLine:["ctrl+a","ctrl+shift+a"],goToEndOfLine:["ctrl+e","ctrl+shift+e"],goForwardOneChar:["ctrl+f","ctrl+shift+f"],goBackwardOneChar:["ctrl+b","ctrl+shift+b"],comment:["command+shift+m"],caption:["command+alt+m"],rename:["command+shift+r"],copyLinkToCurrentPage:["command+l"],toggleSidebar:["command+\\"],zoomIn:["command+="],zoomOut:["command+-"],settings:["command+,"],newPage:["command+n"],backbutton:["backbutton"],toggleDarkMode:["command+shift+l"],openFile:["command+o"],moveTo:["command+shift+p"],toggleAllToggles:["command+alt+t"],switchSpaces:["command+1","command+2","command+3","command+4","command+5","command+6","command+7","command+8","command+9"],turnIntoType:i.default.isMac?["command+alt+0","command+alt+1","command+alt+2","command+alt+3","command+alt+4","command+alt+5","command+alt+6","command+alt+7","command+alt+8","command+alt+9"]:["command+shift+0","command+shift+1","command+shift+2","command+shift+3","command+shift+4","command+shift+5","command+shift+6","command+shift+7","command+shift+8","command+shift+9"],keypress:["keypress"]},t}return o(t,e),t.prototype.getInitialState=function(){return{stack:[]}},t.prototype.logDebugState=function(){s.log(this.state.stack.map(function(e){return{shortcuts:e.shortcuts,node:a.findDOMNode(e.listener)}}))},t}(l.default);t.default=new c},"0zNc":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isDragging:!1,disableVerticalEdgeScroll:!1,disableHorizontalEdgeScroll:!1}},t}(r("LEzx").default);t.default=new a},1:function(e,t){},"12Wr":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("r8oj"),u=r("wS9/"),c=r("Sb6f"),d=r("enKW"),p=r("zmp8"),f=r("MeYt"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{className:this.props.className,style:a({},t.wrapStyle,{paddingTop:u.default.paddingTop})},i.createElement("div",{style:a({},this.getTopbarStyle(),{paddingLeft:u.default.paddingLeft,paddingRight:u.default.paddingRight})},i.createElement("div",{style:t.leftStyle},i.createElement(f.default,{mobileFeedback:!0,style:t.leftRightButtonStyle,onClick:this.props.onClickLeft,disabled:this.props.leftDisabled},this.props.left)),i.createElement("div",{style:t.titleStyle},this.props.title),i.createElement("div",{style:t.rightStyle},i.createElement(f.default,{mobileFeedback:!0,style:t.leftRightButtonStyle,onClick:this.props.onClickRight,disabled:this.props.rightDisabled},this.props.right))),this.props.children)},t.prototype.getTopbarStyle=function(){var e=this.theme.shadowColor,t=this.theme.shadowOpacity;return{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"center",flexGrow:0,flexShrink:0,height:44,boxShadow:s.default.isAndroid&&this.props.headerShadow?d.getTopbarAndroidShadow(e,t):"0 1px 0 "+this.theme.regularDividerColor,fontSize:16,color:this.theme.regularTextColor,zIndex:3}},t.wrapStyle={display:"flex",flexDirection:"column",height:"100vh"},t.leftStyle={display:"flex",alignItems:"center",flex:1},t.rightStyle={display:"flex",alignItems:"center",justifyContent:"flex-end",flex:1},t.titleStyle={flex:1,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:c.default.fontWeight.semibold,whiteSpace:"nowrap"},t.leftRightButtonStyle={display:"flex",alignItems:"center",height:"100%",paddingLeft:16,paddingRight:16,fontWeight:c.default.fontWeight.medium,color:p.default.blue},t}(l.default);t.default=h},"15Ub":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("oqYu"),s=r("oWRT"),u=r("r8oj"),c=r("+LO1"),d=r("KcXv"),p=r("7M94"),f=r("t+pW"),h=r("ruBJ"),m=r("4ngq"),y=r("RwQy"),g=r("YV9r"),v=r("9Mjy"),b=r("VBxf"),w=r("bK/N"),S=r("A9TN"),_=r("tP7q"),k=r("S26v"),C=r("8dfn"),E=r("VpJM"),P=r("ikHm"),x=r("4E30"),T=r("5ma9"),O=r("3+tx"),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMount=function(){if(T.initialize(),l.hideSplashscreen(),s.hideSplashscreen(),u.default.isMobile){var e=document.body.parentElement;e&&e.classList.add(p.mobile)}if(c.initializeAnalyticsSettings(),u.default.isElectronMac){var t=w.getAppPath();t&&(t.startsWith("/Volumes/Notion Installer")||t.startsWith("/Volumes/Notion Dev Installer"))&&b.showMessage({message:"Hello 👋. Please move the Notion.app into the /Applications folder for the auto-updater to work."})}},t.prototype.didMount=function(){"external"===_.parseRoute({url:window.location.href,isMobile:u.default.isMobile,baseUrl:S.default.baseURL,protocol:S.default.protocol,currentUrl:window.location.href}).name&&b.showDialog({message:"Mismatch between origin and baseUrl (dev).",showCancel:!1,keepFocus:!1,items:[{label:"Okay",onAccept:function(){var e=k.setBaseUrl({relativeUrl:k.removeBaseUrl(window.location.href),baseUrl:S.default.baseURL}),t=k.parse(e);t.protocol=k.parse(window.location.href).protocol,window.location.href=k.format(t)}}]})},t.prototype.renderComponent=function(){var e="light"===this.theme.mode?p.notionLightTheme:p.notionDarkTheme;return i.createElement("div",{style:this.getStyle(),className:["notion-app-inner",e].join(" ")},i.createElement(g.default,{key:"AppUpdateListener"}),i.createElement(v.default,{key:"ElectronLogglyDataListener"}),this.props.children,i.createElement(m.default,{store:C.default,zIndex:P.overlayContainer}),i.createElement(m.default,{store:E.default,zIndex:P.electronOverlayContainer}),i.createElement(h.default,null),i.createElement(y.default,null),i.createElement(x.default,null),i.createElement(O.default,null))},t.prototype.getStyle=function(){var e;return a({},d.baseStyle,((e={color:this.theme.regularTextColor}).WebkitFontSmoothing="auto",e))},t}(f.default);t.default=M},"1BD/":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{searchQuery:"",selection:new Set}},t}(r("LEzx").default);t.default=a},"1FKp":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r("LvDl"),u=r("6Ydq"),c=r("+DAh"),d=r("bkwR"),p=r("T1hA"),f=r("VBxf"),h=r("Fe7V");t.handleSubmitTransaction=function(e){return n(this,void 0,void 0,function(){var t,r,n,i,g,v,b,w,S,_,k,C;return o(this,function(o){switch(o.label){case 0:return t=e.tasks,r=e.onComplete,n=e.onRetryLater,i=function(e){var t,r,n=[],o=[];try{for(var i=a(e),s=i.next();!s.done;s=i.next()){var u=s.value,c=l(o,u.operations);if(JSON.stringify(c).length>=y)return 0===n.length&&(n.push(u),o=c),{submitTasks:n,submitOperations:o};n.push(u),o=c}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return{submitTasks:n,submitOperations:o}}(t),g=i.submitTasks,v=i.submitOperations,[4,d.submitTransaction({operations:v})];case 1:if("success"===(b=o.sent()).type)r(null,g);else{if(u.log({level:"error",from:"transactionActions",type:"ClientTransactionError",error:b,data:{operations:v,userId:p.default.state.userId}}),413===b.status){for(u.log({level:"error",from:"transactionActions",type:"ClientTransaction413Error",error:b,data:{userId:p.default.state.userId}}),w=JSON.stringify(v),S=Math.ceil(w.length/y),_=0;_<S;_++)u.log({level:"error",from:"transactionActions",type:"ClientTransaction413ErrorRecovey",error:b,data:{userId:p.default.state.userId,chunkTotal:S,chunkIndex:_,operationChunk:w.slice(_*y,(_+1)*y)}});f.showError({error:new Error("Sorry, that request was too large 😩 Try import instead?")})}s.includes(m,b.status)?(k=function(){r(b.error,g)},C=s.uniqBy(v,"id"),Promise.all(s.map(C,function(e){var t=e.id,r=e.table;return h.forceFetchRemoteRecord({recordCacheStore:c.default,id:t,table:r})})).then(k).catch(k)):n()}return[2]}})})};var m=[400,413],y=1e5},"1Imc":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{email:"",password:"",showEmail:!1,sentPasswordState:void 0,showPermissions:!1,emailInputFocused:!1}},t}(r("LEzx").default);t.default=a},"1P/O":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t.prototype.setOpen=function(e,t){var r;this.setState(a({},this.state,((r={})[e]=t,r)))},t.prototype.toggle=function(e){var t;this.setState(a({},this.state,((t={})[e]=!this.isOpen(e),t)))},t.prototype.isOpen=function(e){return!!this.state[e]},t}(r("LEzx").default);t.default=new i},"1QGs":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("hfHo"),l=r("wpmu"),s=r("/mqF"),u=r("N34Z"),c=r("RvCr"),d=r("+575"),p=r("rTCD"),f=r("x0lk"),h=r("D2XV"),m=r("AmMh");t.handleDropOntoDay=function(e){var t,r,a=e.droppedStores,i=e.collectionStore,l=e.duplicate,p=e.calendarBy,f=e.startOfDay,m=e.transaction,y=e.collectionViewLocalStore,g=s.createOrMove({droppedStores:a,duplicate:l,transaction:m});try{for(var v=o(g),b=v.next();!b.done;b=v.next()){var w=b.value,S=w.getPropertyStore(p),_=d.toDateValue(S.getValue())||h.today(h.currentTimeZone),k=h.convertToTimezone(_,h.currentTimeZone),C=f.format(h.persistedDateFormat),E=void 0;if("date"===k.type||"datetime"===k.type)E=n({},k,{start_date:C});else{var P=h.getMomentRange(k,h.currentTimeZone);if(!P.end)return;var x=n({},k,{start_date:C}),T=h.getMomentRange(x,h.currentTimeZone).start.diff(P.start,"days"),O=P.end.add(T,"days").format(h.persistedDateFormat);E=n({},k,{start_date:C,end_date:O})}var M=h.convertToTimezone(E,h.getPersistedTimezone(_)||h.currentTimeZone),I=d.fromDateValue(M);c.addBlockToGroup({store:w,collectionStore:i,collectionViewLocalStore:y,coerce:!0,transaction:m}),u.setValue({store:S,value:I,transaction:m})}}catch(e){t={error:e}}finally{try{b&&!b.done&&(r=v.return)&&r.call(v)}finally{if(t)throw t.error}}},t.startDrag=function(e){var t=e.calendarStore,r=e.direction,n=e.target;t.setState({isDragging:!0,dayStoreMap:t.state.dayStoreMap,currentlyScrolledMonth:t.state.currentlyScrolledMonth,target:n,direction:r})},t.continueDrag=function(e){var t=e.calendarStore,r=e.x,o=e.y,l=e.calendarBy,s=t.state;if(s.isDragging){var u=d.toDateValue(s.target.getPropertyStore(l).getValue());if(!u)return;var c=h.convertToTimezone(u,h.currentTimeZone),y=s.temporaryValue||u,g=h.convertToTimezone(y,h.currentTimeZone),v=[];s.dayStoreMap.forEach(function(e,t){v.push({store:e,timestamp:t})});var b=v.find(function(e){var t=e.store,n=m.default.getRectFromStore(t);return Boolean(n&&f.within(n,r,o))}),w=void 0;if(b){var S=i.default(b.timestamp),_=S.clone().endOf("day"),k=S.format(h.persistedDateFormat);if(c){var C=h.getMomentRange(c,h.currentTimeZone);if(s.direction===p.CalendarDragDirection.Left)if(C.start.isBetween(S,_,void 0,"[]"))w=c;else{var E=void 0;E="datetimerange"===c.type?n({},c,{start_date:k,end_date:c.end_date}):"daterange"===c.type?n({},c,{start_date:k,end_date:c.end_date}):"datetime"===c.type?{type:"datetimerange",start_date:k,start_time:c.start_time,end_date:c.start_date,end_time:c.start_time,time_zone:c.time_zone,reminder:c.reminder}:{type:"daterange",start_date:k,end_date:c.start_date,reminder:c.reminder};var P=h.getMomentRange(E,h.currentTimeZone);w=!C.end&&P.start.isAfter(C.start)||C.end&&P.start.isAfter(C.end)?g:E}else if(C.end?i.default(C.end).isBetween(S,_,void 0,"[]"):C.start.isBetween(S,_,void 0,"[]"))w=c;else{var x=void 0;x="date"===c.type?n({},c,{type:"daterange",end_date:k}):"datetime"===c.type?n({},c,{type:"datetimerange",end_date:k,end_time:"00:00"}):n({},c,{end_date:k});var T=h.getMomentRange(x,h.currentTimeZone);w=T.end&&T.end.isBefore(T.start)?g:x}}}if(w&&!a.isEqual(g,w)){var O=h.convertToTimezone(w,h.getPersistedTimezone(y)||h.currentTimeZone);t.setState(n({},s,{temporaryValue:O}))}}},t.completeDrag=function(e){var t=e.calendarStore,r=e.calendarBy,n=e.transaction,o=t.state;if(o.isDragging&&o.temporaryValue){var a=d.fromDateValue(o.temporaryValue);u.setValue({store:o.target.getPropertyStore(r),value:a,transaction:n}),t.setState({isDragging:!1,dayStoreMap:t.state.dayStoreMap,currentlyScrolledMonth:t.state.currentlyScrolledMonth})}},t.cancelDrag=function(e){var t=e.calendarStore;t.state.isDragging&&t.setState({isDragging:!1,dayStoreMap:t.state.dayStoreMap,currentlyScrolledMonth:t.state.currentlyScrolledMonth})},t.addBlockToView=function(e){var t,r=e.store,n=e.collectionStore,o=e.collectionViewLocalStore,a=e.startDayOfWeek,l=e.transaction,s=o.state.dateRangeStart,p=o.getNormalizedQuery();if(p&&p.calendar_by){var f,m=p.calendar_by,y=h.getMomentEndOfWeek(i.default(s),a),g=y.startOf("month"),v=y.endOf("month"),b=i.default().startOf("day");return f=b.isBetween(g,v,void 0,"[]")?h.date(b.valueOf(),h.currentTimeZone):h.date(h.getMomentStartOfWeek(i.default(s),a).valueOf(),h.currentTimeZone),u.updateValue({store:r.getPropertiesStore(),data:(t={},t[m]=d.fromDateValue(f),t),transaction:l}),c.addBlockToGroup({store:r,collectionStore:n,collectionViewLocalStore:o,coerce:!0,transaction:l}),r}},t.createBlockInDay=function(e){var t,r=e.calendarBy,n=e.collectionStore,o=e.collectionViewLocalStore,a=e.startOfDay,i=e.transaction,l=u.createBlock({type:"page",recordCacheStore:n.recordCacheStore,transaction:i}),s=d.fromDateValue(h.date(a.valueOf(),h.currentTimeZone));return u.updateValue({store:l.getPropertiesStore(),data:(t={},t[r]=s,t),transaction:i}),c.addBlockToGroup({store:l,collectionStore:n,collectionViewLocalStore:o,coerce:!0,transaction:i}),l},t.handleInsertAfter=function(e){var t,r,n=e.collectionStore,a=e.calendarBy,i=e.store,s=e.insertStores,d=e.collectionViewLocalStore,p=e.transaction,f=i.getPropertyStore(a).getValue();try{for(var h=o(s),m=h.next();!m.done;m=h.next()){var y=m.value;c.addBlockToGroup({store:y,collectionStore:n,collectionViewLocalStore:d,coerce:!0,transaction:p}),u.setValue({store:y.getPropertyStore(a),value:f,transaction:p})}}catch(e){t={error:e}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}return s.map(function(e){return l.default.createChildStore(n,e.id)})}},"1Qd2":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("t+pW"),l=r("wpmu"),s=r("Oy36"),u=r("OxuQ"),c=r("mF3+"),d=r("G414"),p=r("G4cA"),f=r("HSWF"),h=r("QcDD"),m=r("Sb6f"),y=r("MeYt"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleParentClick=function(e){d.open({blocks:[t.props.store],analyticsFrom:"quick_add",onAccept:t.handleMoveToAccept})},t.handleMoveToAccept=function(e){var r=h.default.state.currentSpaceStore;r&&t.props.saveParent&&f.setQuickAddParent(r.id,e)},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.store.getParentStore();if(e){var t=e.getIcon();return a.createElement(y.default,{mobileFeedback:!0,style:this.getStyle(),onClick:this.handleParentClick},a.createElement("span",{style:{color:this.theme.mediumTextColor,marginRight:8}},"Add to"," "),a.createElement(s.default,{disabled:!0,icon:t,isEmptyPage:e instanceof l.default&&e.isEmptyPage(),title:e instanceof p.default?e.getName():void 0,size:24,style:{marginRight:4}}),a.createElement(u.default,{style:{fontWeight:m.default.fontWeight.semibold},store:e}),c.default.chevronDown({marginLeft:4,width:10,fill:this.theme.lightTextColor}))}},t.prototype.getStyle=function(){return{display:"flex",alignItems:"center",flexShrink:0,height:44,paddingLeft:12,fontSize:14,lineHeight:1.2,background:this.theme.contentBackground,boxShadow:"0 1px 0 "+this.theme.regularDividerColor}},t}(i.default);t.default=g},"1VxR":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("LvDl"),c=r("r8oj"),d=r("t+pW"),p=r("p9gS"),f=r("nFzZ"),h=r("Pl3d"),m=r("bkwR"),y=r("hU3F"),g=r("wlCD"),v=r("cYwG"),b=r("7TLZ"),w=r("bPtJ"),S=r("mcFc"),_=S,k=r("QcDD"),C=r("vJXr"),E=r("JuT7"),P=r("5Nka"),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderRequest=function(e,r,n){var o=k.default.state.currentSpaceStore;if(!o||e)return s.createElement("div",{style:t.errorStyle()},"Something went wrong.");if(!r)return s.createElement("div",{style:t.getContentStyle()},t.renderSpinner());var a=r.map(function(e){return w.createRecordStore(o,S.default.table,e)}),i=f.compact(a.map(function(e){var t=e.getValue(),r=b.getActivityStore(e);if(t&&!t.invalid&&r){var n=r.getValue();if(n&&!n.invalid)return{activity:n,notification:t}}}));return t.renderActivities(r,i,n)},t.handleActivityEmit=function(){t.stores.checkpoint.set(Math.random())},t.handleActivityEmitThrottled=u.throttle(t.handleActivityEmit,1e3),t.handleNotificationEmit=f.ignoreFirst0(t.handleActivityEmitThrottled),t}return o(t,e),t.prototype.willMount=function(){this.startMessageListeners()},t.prototype.willUnmount=function(){this.stopMessageListeners()},t.prototype.renderComponent=function(){return C.default.state.online?this.renderOnline():this.renderOffline()},t.prototype.renderOffline=function(){return s.createElement("div",{style:this.getContentStyle()},s.createElement("div",{style:{marginTop:64,textAlign:"center"}},s.createElement("img",{src:P.default.images.updatesEmptyStatePng,width:32}),s.createElement("div",{style:{fontSize:14,color:this.theme.mediumTextColor,marginTop:4}},"Please go online to view updates.")))},t.prototype.renderOnline=function(){var e=this,t=k.default.state,r=t.userStore,n=t.currentSpaceStore;if(r&&n){var o=n.id,a=this.stores.size.get(),u=this.stores.checkpoint.get(),c=this.props.mentions;return s.createElement(h.default,{throttle:1e3,request:{spaceId:o,size:a,mentions:c,checkpoint:u},performRequest:function(t){var r=t.spaceId,n=t.size,o=t.mentions;return i(e,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,m.getNotificationLog({spaceId:r,size:n,mentions:o})];case 1:if("failed"===(e=t.sent()).type)throw e.error;return[2,e.data.notificationIds]}})})},render:this.renderRequest})}},t.prototype.renderActivities=function(e,t,r){var n=this,o=this.stores.size.get(),a=k.default.state.currentSpaceStore;if(a)return s.createElement("div",{style:this.getContentStyle()},s.createElement("div",null,0===t.length&&this.props.empty,t.map(function(e,t,r){var o=e.activity,i=e.notification,l=r.length-1===t;return s.createElement(p.default,{key:o.id,activity:o,rootStore:a,isLast:l,unread:!i.read,unvisited:!i.visited,analyticsContext:n.props.analyticsContext,isTopbarUpdatesMenu:!1,source:"notifications"})})),s.createElement(v.default,{onChange:function(t){t<200&&r&&e&&e.length>=o&&n.stores.size.set(e.length+20)}},!r&&this.renderSpinner()))},t.prototype.renderSpinner=function(){return s.createElement("div",{style:t.spinnerWrapStyle},s.createElement(g.default,null))},t.prototype.startMessageListeners=function(){var e=k.default.state.userStore;if(e){var t=_.getMessageKey(e.id);this.notificationListenerReference=E.default.addListener(t,this.handleNotificationEmit,void 0)}},t.prototype.stopMessageListeners=function(){this.notificationListenerReference&&(E.default.removeListener(this.notificationListenerReference),this.notificationListenerReference=void 0)},t.prototype.getContentStyle=function(){return{minHeight:c.default.isMobile?void 0:"75vh",paddingTop:c.default.isAndroid?12:0,paddingBottom:12}},t.prototype.errorStyle=function(){return a({},this.getContentStyle(),{paddingLeft:16,paddingRight:16,paddingTop:24,color:this.theme.mediumTextColor,fontSize:c.default.isMobile?16:14,textAlign:"center"})},t.stores={size:y.default.of(20),checkpoint:y.default.of(Math.random())},t.spinnerWrapStyle={display:"flex",alignItems:"center",justifyContent:"center",paddingTop:12,paddingBottom:12},t}(d.default);t.default=x},"1XJz":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("t+pW"),c=r("A9TN"),d=r("nM47"),p=r("q1tI"),f=r("SL5/"),h=r("rro0"),m=r("6BTz"),y=r("Cycz"),g=r("VBxf"),v=r("Sb6f"),b=r("Vw2h"),w=r("QcDD"),S=r("toub"),_=r("Ng05"),k=r("IULH"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleModalClose=function(){var e=t.props.onClose;e&&e()},t.handleUseCardClick=function(){t.stores.store.setState(a({},t.stores.store.state,{temporaryBillingType:"charge_automatically"}))},t.handleSendInvoiceClick=function(){t.stores.store.setState(a({},t.stores.store.state,{temporaryBillingType:"send_invoice"}))},t.handleMonthlyBillingClick=function(){t.stores.store.setState(a({},t.stores.store.state,{temporaryBillingInterval:"month"}))},t.handleYearlyBillingClick=function(){t.stores.store.setState(a({},t.stores.store.state,{temporaryBillingInterval:"year"}))},t.handleUpgradeAccept=function(){return i(t,void 0,void 0,function(){var e,t,r,n,o,i,s,u,p,f;return l(this,function(l){switch(l.label){case 0:return e=this.props,t=e.spaceStore,r=e.productId,n=e.onClose,o=this.getCurrentFormBillingType(),i=this.getCurrentFormBillingEmail(),s=this.getCurrentFormBillingInterval(),u=this.getCurrentFormCreditAmount(),i?"charge_automatically"!==o?[3,2]:[4,d.openStripePopup({name:"Notion "+y.getProductName(r),panelLabel:"Subscribe",email:i})]:[2];case 1:p=l.sent(),l.label=2;case 2:return f=r===c.default.pricing.personal.productId?"year"===s?"personal_yearly_48":"personal_monthly_5":r===c.default.pricing.team.productId?"year"===s?"team_yearly_96":"team_monthly_10":"year"===s?"enterprise_yearly_240":"enterprise_monthly_25",[4,d.updateSubscription({spaceStore:t,plan:f,stripeToken:p,billing:o,billingEmail:i,creditAmount:u})];case 3:return l.sent(),"send_invoice"===o&&g.showError({error:new Error("Please check your email for the invoice.")}),n&&n(),S.default.setState(a({},S.default.state,{currentTab:"billing"})),[2]}})})},t.handleUseCreditAmountInputChange=function(e){var r=t.stores.store;r.setState(a({},r.state,{temporaryUseCreditCents:e}))},t}return o(t,e),t.prototype.renderComponent=function(){return s.createElement("div",{style:this.getModalStyle()},this.renderBillingIntervalSection(),this.renderCreditSection(),this.renderPaymentMethodSection(),this.renderControls())},t.prototype.renderBillingIntervalSection=function(){var e=this.props.productId,r=this.getRenderData(),n=r.yearlyUnitPrice,o=r.monthlyUnitPrice,a=this.getCurrentFormBillingInterval(),i=Math.round(100*(1-n/(12*o)));return s.createElement(p.Fragment,null,s.createElement("div",{style:t.subheaderStyle},s.createElement("div",{style:this.getNumberStyle()},"1"),s.createElement("div",null,"Billing Interval")),s.createElement("div",{style:{marginLeft:40}},s.createElement(h.default,{title:"Yearly — Save "+i+"%",caption:s.createElement(p.Fragment,null,m.formatHumanReadableCurrency(n/12,"dollar")," ",e!==c.default.pricing.personal.productId&&"per member ","per month"),isSelected:"year"===a,onClick:this.handleYearlyBillingClick}),s.createElement(h.default,{title:"Monthly",caption:s.createElement(p.Fragment,null,m.formatHumanReadableCurrency(o,"dollar")," ",e!==c.default.pricing.personal.productId&&"per member ","per month"),isSelected:"month"===a,onClick:this.handleMonthlyBillingClick})))},t.prototype.renderCreditSection=function(){var e=this.props.data.availableCredit,r=this.getRenderData(),n=r.planAmount,o=r.creditAmount;return e>0?s.createElement(p.Fragment,null,s.createElement("div",{style:a({},t.subheaderStyle,{marginTop:24})},s.createElement("div",{style:this.getNumberStyle()},"2"),s.createElement("div",null,"Use Notion Credit —"," ",m.formatHumanReadableCurrency(e,"dollar")," available")),s.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:40,fontSize:14}},s.createElement("div",{style:{width:"100%",color:this.theme.mediumTextColor}},"How much credit would you like to use?"),s.createElement(b.default,{availableCredit:e,onChange:this.handleUseCreditAmountInputChange}),s.createElement("div",{style:{whiteSpace:"nowrap",marginLeft:8}},"/ ",m.formatHumanReadableCurrency(e,"dollar"))),o>n&&s.createElement("div",{style:{marginLeft:40,marginTop:12,fontSize:12,color:this.theme.mediumTextColor}},"You're using more credit than needed right now, so we'll apply the difference (",s.createElement("b",null,m.formatHumanReadableCurrency(o-n,"dollar")),") as an account balance towards your future invoices.")):s.createElement(p.Fragment,null,s.createElement("div",{style:a({},t.subheaderStyle,{marginTop:24})},s.createElement("div",{style:a({},this.getNumberStyle(),{opacity:.5})},"2"),s.createElement("div",{style:{color:this.theme.lightTextColor}},"No Credit Available")))},t.prototype.renderPaymentMethodSection=function(){var e=this.getCurrentFormBillingType(),r=this.getRenderData().payAmount;return s.createElement(p.Fragment,null,s.createElement("div",{style:a({},t.subheaderStyle,{marginTop:24})},s.createElement("div",{style:this.getNumberStyle()},"3"),s.createElement("div",null,"Payment Method")),s.createElement("div",{style:{marginLeft:40}},s.createElement(h.default,{title:"Pay with Card",caption:"Credit or debit card",isSelected:"charge_automatically"===e,onClick:this.handleUseCardClick}),s.createElement(h.default,{title:"ACH or Wire Transfer",caption:"Receive an invoice via email",isSelected:"charge_automatically"!==e,onClick:this.handleSendInvoiceClick})),0===r&&s.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:40,fontSize:12,fontWeight:v.default.fontWeight.bold}},"Note: We still require your payment information in case you're out of credit during the next billing cycle. We will send you an email 7 days before charging you."))},t.prototype.renderControls=function(){return s.createElement("div",{style:{borderTop:"\n\t\t\t\t\t\t1px solid "+this.theme.regularDividerColor+"\n\t\t\t\t\t",marginTop:24}},s.createElement("div",{style:{fontSize:14,paddingTop:18,paddingBottom:18,color:this.theme.mediumTextColor}},this.renderCalculationDescription()),s.createElement("div",{style:{display:"flex"}},s.createElement("div",{style:{fontSize:36,lineHeight:1}},m.formatHumanReadableCurrency(this.getRenderData().payAmount,"dollar")),s.createElement("div",{style:{fontSize:12,color:this.theme.mediumTextColor,marginLeft:8,alignSelf:"flex-end"}},"total"),s.createElement(k.default,{isLarge:!0,onClick:this.handleModalClose,style:{marginLeft:"auto",marginRight:12,minWidth:90}},"Cancel"),s.createElement(_.default,{isLarge:!0,style:{minWidth:90},onClick:this.handleUpgradeAccept},"Pay")))},t.prototype.renderCalculationDescription=function(){var e=this.props.productId,t=this.getRenderData(),r=t.yearlyUnitPrice,n=t.monthlyUnitPrice,o=t.creditAmount,a=this.getCurrentFormBillingInterval(),i=this.getMemberCount();return e===c.default.pricing.personal.productId?s.createElement(p.Fragment,null,"You will be charged"," ",s.createElement("b",{style:{color:this.theme.regularTextColor}},m.formatHumanReadableCurrency("year"===a?r/12:n,"dollar")," ","per month"),"year"===a&&s.createElement(p.Fragment,null,", times"," ",s.createElement("b",{style:{color:this.theme.regularTextColor}},"12 months")),o>0&&s.createElement(p.Fragment,null,", minus ",s.createElement("b",{style:{color:this.theme.regularTextColor}},m.formatHumanReadableCurrency(o,"dollar")," credit")),"."):s.createElement(p.Fragment,null,"You will be charged for"," ",s.createElement("b",{style:{color:this.theme.regularTextColor}},m.formatHumanReadableCurrency("year"===a?r/12:n,"dollar")," ","per member")," ","per month for"," ",s.createElement("b",{style:{color:this.theme.regularTextColor}},i," member",i>1?"s":""),"year"===a&&s.createElement(p.Fragment,null,", times ",s.createElement("b",{style:{color:this.theme.regularTextColor}},"12 months")),o>0&&s.createElement(p.Fragment,null,", minus ",s.createElement("b",{style:{color:this.theme.regularTextColor}},m.formatHumanReadableCurrency(o,"dollar")," credit")),".")},t.prototype.getRenderData=function(){var e,t,r,n=this.props.productId,o=this.getCurrentFormBillingInterval(),a=this.getMemberCount(),i=this.getCurrentFormCreditAmount();return n===c.default.pricing.personal.productId?(e=c.default.pricing.personal.yearlyPrice,t=c.default.pricing.personal.monthlyPrice,r="year"===o?e:t):n===c.default.pricing.team.productId?(e=c.default.pricing.team.yearlyPricePerMember,t=c.default.pricing.team.monthlyPricePerMember,r="year"===o?e*a:t*a):(e=c.default.pricing.enterprise.yearlyPricePerMember,t=c.default.pricing.enterprise.monthlyPricePerMember,r="year"===o?e*a:t*a),{yearlyUnitPrice:e,monthlyUnitPrice:t,creditAmount:i,planAmount:r,payAmount:Math.max(0,r-i)}},t.prototype.getCurrentFormBillingType=function(){return this.stores.store.state.temporaryBillingType||"charge_automatically"},t.prototype.getCurrentFormBillingEmail=function(){var e=w.default.state.userStore,t=this.props.data,r=e?e.getValue():void 0;return this.stores.store.state.temporaryBillingEmail||("subscribed_admin"===t.type?t.billingEmail:void 0)||(r?r.email:void 0)},t.prototype.getCurrentFormBillingInterval=function(){return this.stores.store.state.temporaryBillingInterval||"year"},t.prototype.getMemberCount=function(){return y.getMemberCount(this.props.data)},t.prototype.getCurrentFormCreditAmount=function(){var e=this.props.data,t=this.stores.store.state.temporaryUseCreditCents;return void 0!==t?t:e.availableCredit},t.prototype.getModalStyle=function(){return{width:480,padding:24,background:this.theme.popoverBackground,borderRadius:3}},t.prototype.getNumberStyle=function(){return{fontSize:14,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:v.default.fontWeight.semibold,marginRight:16,borderRadius:24,width:24,height:24,boxShadow:"inset 0 0 0 2px "+this.theme.regularTextColor,color:this.theme.regularTextColor}},t.stores={store:f.default},t.subheaderStyle={display:"flex",alignItems:"center",marginBottom:8,fontSize:18,fontWeight:v.default.fontWeight.semibold},t}(u.default);t.default=C},"1fP1":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("STAJ"),l=r("njgS"),s=r("wldR"),u=r("G4GV"),c=r("V8so"),d=r("g90h"),p=r("VBxf"),f=r("y6Dp"),h=r("mF3+"),m=r("d9nj"),y=r("zmp8"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.stores.inputStore.setState({focus:!0,inputValue:""})},t.handleCollectionGroupValueChange=function(e){var r=t.props,n=r.groupBy,o=r.schema,a=r.boardGroups,s=r.onAccept,u=o[n];if(u)if(i.find(function(t){return t.value===e},a))p.showError({error:new Error("This column already exists.")});else if(i.contains(u.type,l.selectTypes)){var c=o[n].options||[],h={id:d.default(),value:e,color:y.getRandomSelectColor(c)},m=i.append(h,c),g=i.lensPath([n,"options"]),v=i.set(g,m,o),b={property:n,type:u.type,value:e,hidden:!1};s({newBoardGroups:i.append(b,a),newSchema:v})}else if("person"===u.type){b={property:n,type:u.type,value:e,hidden:!1};s({newBoardGroups:i.append(b,a)}),f.trackConfigureView({view_type:"board",action:"board_add_group"})}},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,r=e.groupBy,n=e.boardGroups,o=e.schema,i=this.stores.inputStore,l=i.state.focus,s=o[r];if(s){if(l){var u={property:r,type:s.type,value:void 0,hidden:!1};return a.createElement("div",{style:t.wrapStyle},a.createElement(c.default,{groupFormat:u,currentGroups:n,schema:o,inputStore:i,disabled:!1,isHiddenGroup:!1,onChange:this.handleCollectionGroupValueChange,parentStore:this.props.parentStore}))}return a.createElement("div",{style:t.wrapStyle},a.createElement(m.default,{isLightGray:!0,icon:h.default.plus,onClick:this.handleClick},"Add a Group"))}},t.stores={inputStore:u.default},t.wrapStyle={display:"flex"},t}(s.default);t.default=g},"1y3T":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("wldR"),c=r("Pl3d"),d=r("bkwR"),p=r("622O"),f=r("A9TN"),h=r("di7S"),m=r("enHn"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.peformRequest=function(e){return i(t,void 0,void 0,function(){var t,r,n,o,a;return l(this,function(i){switch(i.label){case 0:return t=e.url,r=e.width,n=e.stripGoogleIconQuery,(o=e.permissionRecord)?[4,m.default.awaitRecordTransaction(o.table,o.id)]:[3,2];case 1:i.sent(),i.label=2;case 2:return p.isUnsplashImageUrl(t)&&r?[2,p.getResizedUnsplashImageUrl(t,r)]:[3,3];case 3:return p.shouldProxyImageUrl(t)?[2,h.getImageProxyUrl({url:t,width:r,permissionRecord:o,stripGoogleIconQuery:n,baseUrl:f.default.baseURL,fullyQualified:!1})]:[3,4];case 4:return p.isSecureFileUrl(t,f.default.secureFileS3.url)?[4,d.getSignedFileUrl({url:t,permissionRecord:o})]:[3,6];case 5:if(a=i.sent())return[2,a];i.label=6;case 6:return[2,t]}})})},t}return o(t,e),t.prototype.renderComponent=function(){var e={request:{url:this.props.url,width:this.props.width,permissionRecord:this.props.permissionRecord,stripGoogleIconQuery:this.props.stripGoogleIconQuery},performRequest:this.peformRequest,render:this.props.render};return s.createElement(c.default,a({},e))},t}(u.default);t.default=y},2:function(e,t){},"2A6Q":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("pqiZ"),l=r("r8oj"),s=r("8fuX"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.renderDivider=function(){return a.createElement(i.default,{size:41})},t.prototype.renderComponent=function(){var e=this.props,t=e.children,r=e.controlRow,n=function(){return l.default.isMobile?18:60},o=function(){return l.default.isMobile?18:36};return a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",backgroundColor:this.theme.contentBackground}},a.createElement(s.default,{type:s.OverflowType.All,style:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:n(),paddingRight:n(),paddingTop:o(),paddingBottom:o()}},t),r&&a.createElement("div",{style:{flexGrow:0,flexShrink:0,paddingLeft:n(),paddingRight:n(),paddingTop:16,paddingBottom:16,boxShadow:"0 -1px 0 "+this.theme.regularDividerColor}},r))},t}(r("t+pW").default);t.default=u},"2GLh":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,iconSvg:l.default.maps,urlInputPlaceholder:"https://www.google.com/maps...",embedButtonText:"Embed Map",mediaMenuCurrentTab:"embed",mediaMenuTabs:["embed"],mediaMenuEmbedCaption:"Works with places on Google Maps"}),"Embed a Google Map")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},"2HDO":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("wldR"),l=r("6nbh"),s=r("6rsX"),u=r("unoy"),c=r("sjR4"),d=r("DNgp"),p=r("w5u6"),f=r("RI9y"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.restoreSelection=function(){var e=t.stores.store.state,r=e.savedHref,n=e.savedSelectionStoreState,o=e.savedTextSelectionStoreState;window.location.href===r&&(t.props.ignoreBlockSelection&&n&&c.default.setState(a({},c.default.state,n)),o&&o.editing&&d.default.setState(a({},d.default.state,o))),t.clearSelection()},t}return o(t,e),t.prototype.willMount=function(){var e=this;this.props.focusOffscreenInput&&(this.input=document.createElement("input"),this.input.style.position="fixed",this.input.style.top="-9999px",this.input.style.left="-9999px",document.body.appendChild(this.input)),this.props.capture&&(this.saveSelection(),this.props.focusOffscreenInput&&p.default.afterNextFlush(function(){e.input.focus()}))},t.prototype.willUpdate=function(e){var t=this;this.props.capture?e.capture||(e.restoreSelection?this.restoreSelection():this.clearSelection()):e.capture&&(this.saveSelection(),this.props.focusOffscreenInput&&p.default.afterNextFlush(function(){t.input.focus()}))},t.prototype.willUnmount=function(){this.props.capture&&(this.props.restoreSelection?this.restoreSelection():this.clearSelection()),this.props.focusOffscreenInput&&document.body.removeChild(this.input)},t.prototype.renderComponent=function(){return this.props.render(this.restoreSelection)},t.prototype.saveSelection=function(){this.stores.store.setState(a({},this.stores.store.state,{savedHref:window.location.href,savedSelectionStoreState:c.default.cloneState(),savedTextSelectionStoreState:d.default.cloneState(),savedTextSelectionRect:f.getSelectionRect()})),this.props.ignoreBlockSelection?s.clear():u.clear()},t.prototype.clearSelection=function(){this.stores.store.setState(a({},this.stores.store.state,{savedHref:void 0,savedSelectionStoreState:void 0,savedTextSelectionStoreState:void 0,savedTextSelectionRect:void 0}));var e=this.input;p.default.afterNextFlush(function(){document.activeElement===e&&e.blur()})},t.stores={store:l.default},t}(i.default);t.default=h},"2Ig/":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("glAM"),l=r("JU1L"),s=function(e){function t(t){var r=e.call(this)||this;return r.shouldEmit=!1,r.recordEvents=new i.default,r.isTemplatePreview=!1,t&&(r.state.cache=t),r}return o(t,e),t.prototype.getInitialState=function(){return{cache:{},appliedTransaction:!1}},t.prototype.getRecord=function(e,t){return this.state.cache[l.getCombinedId(e,t)]},t.prototype.getRecordValue=function(e,t){var r=this.getRecord(e,t);if(r&&r.value)return r.value},t.prototype.getRole=function(e,t){var r=this.getRecord(e,t);if(r&&r.role)return r.role},t.prototype.getVersion=function(e,t){var r=this.getRecord(e,t);return r&&r.value&&r.value.version?r.value.version:0},t.prototype.setRecord=function(e,t,r){this.state.cache[l.getCombinedId(e,t)]=r},t.prototype.deleteRecord=function(e,t){delete this.state.cache[l.getCombinedId(e,t)]},t.prototype.isCached=function(e,t){return!!this.getRecord(e,t)},t.prototype.forEachRecord=function(e){var t,r,n=Object.keys(this.state.cache);try{for(var o=a(n),i=o.next();!i.done;i=o.next()){var s=i.value,u=l.extractCombinedId(s);e(u.table,u.id,this.state.cache[s])}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},t.prototype.addListenerToRecord=function(e,t,r){var n=l.getCombinedId(e,t);this.recordEvents.addListener(n,r)},t.prototype.removeListenerToRecord=function(e,t,r){var n=l.getCombinedId(e,t);this.recordEvents.removeListener(n,r)},t.prototype.emitRecord=function(e,t){var r=l.getCombinedId(e,t);this.recordEvents.emit(r)},t.prototype.hasListener=function(e,t){var r=l.getCombinedId(e,t);return this.recordEvents.listenerCount(r)>0},t}(r("LEzx").default);t.default=s},"2WqK":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("y6Dp"),s=r("7ovu"),u=r("i3uR"),c=r("wldR"),d=r("smsn"),p=r("LeVO"),f=r("uSCg"),h=r("nM47"),m=r("r8oj"),y=r("d9nj"),g=r("6rsX"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderOrigin=function(e){return i.createElement(p.default,{renderTooltip:function(){return"Share or publish to the web"},placement:p.default.Placement.Bottom,delayThreshold:400,render:function(t){return i.createElement(y.default,a({},f.default(e,t)),"Share")}})},t.handleClick=function(){g.clear(),l.trackOpenPageShare(),h.refresh()},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return i.createElement(u.default,{popupType:m.default.isMobile?u.default.PopupType.SlideUp:u.default.PopupType.Popup,buttonPopupStore:this.props.buttonPopupStore,renderOrigin:this.renderOrigin,originGap:8,style:{width:400,overflow:"hidden"},onClick:this.handleClick,render:function(){return i.createElement(d.default,{buttonPopupStore:e.props.buttonPopupStore,store:e.props.store,onUpgradeButtonClick:function(){e.props.buttonPopupStore.reset(),s.openPlans()}})}})},t}(c.default);t.default=v},"2Y+N":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("gbGO"),u=r("wlCD"),c=r("ttM1"),d=r("wS9/"),p=r("Sb6f"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,r=e.title,n=e.children,o=e.topBorder,l=e.isTitleUppercase,u=e.isInput,d=e.isSubmitButton,p=e.extraTopPadding,f=e.disableMobilePadding;return this.context.isMobile&&this.context.menuType!==s.MenuType.Popup?i.createElement("div",{style:this.context.menuType!==s.MenuType.Modal||f?void 0:t.mobileModalStyle},r&&this.context.menuType!==s.MenuType.ActionSheet&&i.createElement("div",{style:this.getMobileTitleStyle()},i.createElement("div",{style:this.getTextOverflowStyle()},r),i.createElement("div",{style:t.loadingSpinnerStyle},i.createElement(c.default,{show:Boolean(this.props.loading),showDelay:500,showHold:300,render:this.renderLoadingSpinner}))),i.createElement("div",{style:{boxShadow:this.getMobileSectionBorders()}},n)):i.createElement("div",{style:a({},!this.props.disableDesktopPadding&&t.desktopPaddingStyle,u&&{marginTop:8},d&&{marginBottom:6},o&&{boxShadow:"0 -1px 0 "+this.theme.regularDividerColor,marginTop:1},p&&{paddingTop:8},o&&r&&{marginTop:6,paddingTop:6},this.props.desktopStyle)},r&&i.createElement("div",{style:a({},this.context.isMobile?a({},this.getMobileTitleStyle(),{marginTop:8}):this.getDesktopTitleStyle(),l&&t.desktopTitleUppercaseStyle)},i.createElement("div",{style:this.getTextOverflowStyle()},r),i.createElement("div",{style:t.loadingSpinnerStyle},i.createElement(c.default,{show:Boolean(this.props.loading),showDelay:500,showHold:300,render:this.renderLoadingSpinner}))),n)},t.prototype.renderLoadingSpinner=function(e){return i.createElement(u.default,{style:{visibility:e?void 0:"hidden"}})},t.prototype.getMobileTitleStyle=function(){return{display:"flex",textTransform:"uppercase",color:this.theme.mediumTextColor,letterSpacing:1,lineHeight:1,fontSize:12,paddingLeft:this.context.menuType!==s.MenuType.Popup?d.default.calcPaddingLeft(16):16,paddingRight:this.context.menuType!==s.MenuType.Popup?d.default.calcPaddingRight(16):16,marginBottom:8,userSelect:"none",WebkitUserSelect:"none"}},t.prototype.getDesktopTitleStyle=function(){return a({display:"flex",paddingLeft:14,paddingRight:14,marginTop:6,marginBottom:8,color:this.theme.mediumTextColor,fontSize:12,lineHeight:"120%",userSelect:"none",WebkitUserSelect:"none"},this.props.desktopTitleStyle)},t.prototype.getTextOverflowStyle=function(){return this.props.noTextOverflow?{display:"flex"}:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},t.prototype.getMobileSectionBorders=function(){return this.props.shouldShowBottomDivider?"\n\t\t\t\t\t0 1px 0 "+this.theme.regularDividerColor+",\n\t\t\t\t\t0 -1px 0 "+this.theme.regularDividerColor+"\n\t\t\t\t":this.context.menuType!==s.MenuType.ActionSheet?"0 -1px 0 "+this.theme.regularDividerColor:"none"},t.contextTypes=a({},s.menuContextTypes),t.mobileModalStyle={paddingTop:28},t.desktopPaddingStyle={paddingTop:6,paddingBottom:6},t.desktopTitleUppercaseStyle={textTransform:"uppercase",letterSpacing:1,fontSize:11,fontWeight:p.default.fontWeight.medium},t.loadingSpinnerStyle={marginLeft:"auto"},t}(l.default);t.default=f},"2Yor":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl");t.default=function(e,t,r,o){return void 0===o&&(o=1),!n.isNumber(e)||n.isNaN(e)?o:e>r?r:e<t?t:e}},"2Zgn":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("FcJC"),u=r("r8oj"),c=r("NOLh"),d=r("t+pW"),p=r("LeVO"),f=r("TDb4"),h=r("HTHG"),m=r("lCCU"),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=u.default.isElectronMac&&h.shouldHideTopbar();return i.createElement(p.default,{renderTooltip:function(){return i.createElement("div",null,i.createElement("div",null,"Close Sidebar"),i.createElement(f.default,{style:{color:e.theme.mediumInvertedTextColor},name:"toggleSidebar"}))},originGap:6,render:function(e){return i.createElement(c.default,{isVisible:!0,animationStyle:{opacity:t?0:1},render:function(){return i.createElement(m.default,a({icon:l.default.doubleChevronLeft,style:{position:"relative"},onClick:function(){return s.setExpand({isExpanded:!1})}},e))}})}})},t}(d.default);t.default=y},"2aZo":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r=this;return function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return n(r,void 0,void 0,function(){var r;return o(this,function(n){switch(n.label){case 0:return t?[2,t]:[3,1];case 1:return[4,t=e.apply(void 0,i(a))];case 2:return r=n.sent(),t=void 0,[2,r]}})})}}},"2bwL":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateRemaining=function(e){t.state.remiainingPending!==e&&(0===e?t.setState(a({},t.state,{totalPending:0,remiainingPending:0})):t.setState(a({},t.state,{remiainingPending:e})))},t}return o(t,e),t.prototype.getInitialState=function(){return{totalPending:0,remiainingPending:0}},t.prototype.percentComplete=function(){if(this.state.totalPending>0){var e=this.state.remiainingPending/this.state.totalPending;return Math.round(100*(1-e))+"%"}return"100%"},t.prototype.setOrIncTotal=function(e){this.state.totalPending>e?this.setState(a({},this.state,{totalPending:this.state.totalPending+1})):this.setState(a({},this.state,{totalPending:e}))},t}(r("LEzx").default);t.default=new i},"2gm8":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("IdSf"),u=r("/Zir"),c=r("F6Yi"),d=r("Sb6f"),p=r("qqdV"),f=r("zmp8"),h=r("4NII"),m=r("WDpx"),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(m.default,{title:"Tools & Craft - Episode "+this.props.episode+": "+this.props.interviewee},i.createElement(u.default,{hideProductLink:!0,hidePricingLink:!0,hideDesktopLink:!0,hideMobileLink:!0,hideLoginLink:!0,hideLoginLinkDivier:!0,hideEvernoteLink:!0,analyticsName:this.props.analyticsName,signupInputAndButtonWidth:300},this.renderHeader(),this.props.children,i.createElement(c.default,null)))},t.prototype.renderHeader=function(){return i.createElement("div",{style:{maxWidth:980,width:"100%",paddingTop:h.default()?36:100,marginBottom:36,display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center"}},i.createElement("img",{src:this.props.portraitImg,style:{display:"block",width:360,maxWidth:"100%"}}),i.createElement("div",{style:{maxWidth:"100%",width:530}},i.createElement("div",{style:{fontFamily:d.default.fontFamily.serif,fontSize:18,marginBottom:16}},"Tools & Craft - Episode ",this.props.episode),i.createElement("div",{style:{fontFamily:d.default.fontFamily.serif,fontWeight:d.default.fontWeight.bold,fontSize:h.default()?42:56,lineHeight:1}},this.props.interviewee),i.createElement("div",{style:{marginTop:16,fontSize:25,fontFamily:d.default.fontFamily.serif}},this.props.subtitle),i.createElement("div",{style:{fontSize:17,marginTop:12,marginBottom:12,whiteSpace:"nowrap",display:"flex",flexWrap:"wrap"}},i.createElement(s.default,{inline:!0,external:!0,href:t.youtubeURL,style:t.headerActionLinkStyle},"Subscribe on YouTube"),i.createElement(s.default,{inline:!0,external:!0,href:t.devonTwitterURL,style:t.headerActionLinkStyle},"@DevonZuegel"),i.createElement(s.default,{inline:!0,external:!0,href:p.notionTwitter,style:t.headerActionLinkStyle},"@NotionHQ")),i.createElement("div",{style:{color:f.default.FrontBaseGrayTextColor,fontSize:17}},this.props.intro),i.createElement("div",{style:{fontSize:17,marginTop:8}},i.createElement(s.default,{inline:!0,href:p.toolsAndCraft,style:t.headerActionLinkStyle},"← View other episodes"))))},t.getFigureStyle=function(){return{maxWidth:h.default()?"100vw":600,minWidth:240,marginLeft:h.default()?0:6,marginRight:h.default()?0:6,marginTop:18,marginBottom:18}},t.getFigureInGroupStyle=function(){return a({},this.getFigureStyle(),{maxWidth:h.default()?"100vw":480})},t.getFigureImgStyle=function(){return{maxWidth:h.default()?"100vw":"100%"}},t.getQuoteStyle=function(){return{maxWidth:680,fontFamily:d.default.fontFamily.serif,fontSize:h.default()?24:37,lineHeight:1.4,marginTop:24,marginBottom:24,textIndent:h.default()?-12:-16}},t.youtubeURL="https://www.youtube.com/channel/UCoSvlWS5XcwaSzIcbuJ-Ysg?disable_polymer=true",t.devonTwitterURL="https://twitter.com/devonzuegel",t.figureGroupStyle={display:"flex",flexWrap:"wrap",maxWidth:"100vw",width:1e3,justifyContent:"center"},t.figureCaptionStyle={color:f.default.FrontBaseGrayTextColor,fontSize:15,marginTop:4,display:"block",width:"100%",paddingLeft:12,paddingRight:12},t.figureCaptionLeftStyle=a({},t.figureCaptionStyle,{textAlign:"left"}),t.pGroupStyle={maxWidth:600,marginTop:"0.125em",marginBottom:"0.125em"},t.pStyle={marginTop:"0.6875em",marginBottom:"0.6875em"},t.headerActionLinkStyle={color:f.default.red,textDecoration:"underline",marginRight:8},t.linkStyle={color:f.default.red,textDecoration:"underline"},t}(l.default);t.default=y},"2hVL":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LEzx"),i=r("rro+"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{item:i.allTemplateItems[10],sections:i.templatePreviewSections,activated:!1,mouseEntered:!1}},t}(a.default);t.default=new l},"2m/B":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("koRX"),u=r("t+pW"),c=r("r8oj"),d=r("zmp8"),p=r("Sb6f"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willUpdate=function(t){e.prototype.willUpdate.call(this,t),t.src!==this.props.src&&this.stores.imageStore.setState(a({},this.stores.imageStore.state,{error:!1,loaded:!1,src:t.src}))},t.prototype.willMount=function(e){var t=e.src;this.stores.imageStore.setState(a({},this.stores.imageStore.state,{src:t}))},t.prototype.renderComponent=function(){var e=this,r=this.props,n=r.placeholderStyle,o=r.onClick,l=this.stores.imageStore.state,s=l.error,u=l.src,c=l.loaded,d=s?t.transparentGifDataURL:u;return i.createElement("div",{style:!c&&n?n:{width:"100%",height:"100%"}},i.createElement("img",{className:this.props.className,onDoubleClick:this.props.onDoubleClick,onMouseDown:this.props.onMouseDown,onContextMenu:this.props.onContextMenu,onClick:o,src:d,style:this.getImageStyle(),onError:function(t){e.stores.imageStore.setState(a({},e.stores.imageStore.state,{error:!0}))},onLoad:function(){return e.stores.imageStore.setState(a({},e.stores.imageStore.state,{loaded:!0}))}}))},t.prototype.getImageStyle=function(){var e=this.stores.imageStore.state.error,t=this.stores.imageStore.state.loaded,r={display:"block",objectFit:"cover",borderRadius:1};return this.props.height?r.height=this.props.height:this.props.capMaxHeight&&(r.maxHeight="60vh"),!e&&t||(r.background=this.theme.contentBackground),this.props.style&&l.assign(r,this.props.style),c.default.isMobile&&(r.WebkitUserSelect="none",r.WebkitTouchCallout="none"),r},t.stores={imageStore:s.default},t.transparentGifDataURL="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",t.loadingContainerStyle={position:"absolute",bottom:4,right:4,borderRadius:3,padding:4,color:d.default.whiteWithAlpha(.8),background:d.default.blackWithAlpha(.6),fontFamily:p.default.fontFamily.sans,fontSize:13,lineHeight:1,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},t}(u.default);t.default=f},"2o0l":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("17x9"),c=r("q1tI"),d=r("KcXv"),p=r("M64d"),f=r("t+pW"),h=r("stZG"),m=r("bVDK"),y=r("rro+"),g=r("bB9B"),v=r("MBf9"),b=r("EZe4"),w=r("y6Dp"),S=r("nM47"),_=r("Rwql"),k=r("WgIs"),C=r("r8oj"),E=r("Sb6f"),P=r("vJXr"),x=r("MeYt"),T=r("QcDD"),O=r("H4VD"),M=r("/YYm"),I=r("30UQ"),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderMobileTemplatePreviewItem=function(e){return{key:e.name,render:function(t){return s.createElement(m.default,a({key:e.name,isOverlay:!1,title:e.name,format:"page_template",emoji:e.emoji,locked:!1},t))},action:function(){I.open({store:t.props.store,item:e,sections:y.templatePreviewSections,createNewPage:!1,isPrivate:!1})}}},t.renderPageTemplatePickerItem=function(e){return{key:e.name,render:function(t,r){return s.createElement(m.default,a({key:e.name,isOverlay:!1,title:e.name,format:e.type,locked:!1},t))},action:function(r){S.validateCanCreate()&&(w.trackSelectTemplate({name:e.name,is_keyboard:"keydown"===r.event.type}),e.onClick(t.props.store))}}},t.handleEmptyPageContinueClick=function(e){b.default({event:e,context:b.EventContext.EditorClick,callback:function(){S.validateCanCreate()&&(v.createAndCommit(function(e){g.createEmptyPage({store:t.props.store,transaction:e})}),w.trackSelectTemplate({name:"empty",is_keyboard:!1}))}})},t.handlePageTemplatePickerEmptyEnter=function(){S.validateCanCreate()&&(v.createAndCommit(function(e){g.createEmptyPage({store:t.props.store,transaction:e})}),w.trackSelectTemplate({name:"empty",is_keyboard:!0}))},t.handleTemplateClick=function(e){g.initializeCollectionTemplate({store:t.props.store,templateStore:e.templateStore,isKeyboard:e.isKeyboard})},t.handleTemplateEmptyPageClick=function(){v.createAndCommit(function(e){g.createEmptyPage({store:t.props.store,transaction:e})})},t.handleCreateDatabaseTemplateClick=function(){var e=t.props.store.getParentCollectionStore();if(e&&S.validateCanCreate()){var r=v.createAndCommit(function(t){return g.createCollectionTemplate({collectionStore:e,transaction:t})});r&&t.navigateToBlock(r),w.trackCreateCollectionTemplate()}},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=P.default.state.online;return s.createElement(h.default,{capture:!0,render:function(n){return p.default(function(o){return s.createElement("div",a({},n,o,{style:t.wrapStyle}),e.renderPlaceholder(),r&&e.renderTemplates())})}})},t.prototype.renderTemplates=function(){var e=this.props.store,t=this.isCollectionPage(),r=this.isTemplatePage(),n=e.getParentCollectionStore(),o=n?n.getParentBlockStore():void 0,a=n?n.getTemplatePagesStores():void 0;return s.createElement("div",null,!t&&!C.default.isMobile&&this.renderDesktopPageTemplatePicker(),!t&&C.default.isMobile&&this.renderMobilePageTemplatePicker(),t&&!r&&n&&o&&a&&a.length>0&&s.createElement(_.default,{isOverlay:!1,collectionStore:n,onTemplateClick:this.handleTemplateClick,onEmptyPageClick:this.handleTemplateEmptyPageClick,locked:o.isLocked(),overrideLinkClick:void 0}))},t.prototype.renderDesktopPageTemplatePicker=function(){var e=this;return s.createElement(k.default,{initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,onEmptyEnter:this.handlePageTemplatePickerEmptyEnter,sections:[{key:"Basic",render:function(e){return s.createElement("div",{key:e.key},e.children)},items:y.basicTemplateItems.map(this.renderPageTemplatePickerItem)},{key:"Database",render:function(t){return s.createElement("div",{key:t.key},s.createElement("div",{style:e.getGroupTitleStyle()},"Database"),t.children)},items:y.databaseTemplateItems.map(this.renderPageTemplatePickerItem)}]})},t.prototype.renderMobilePageTemplatePicker=function(){var e=this;return s.createElement(k.default,{initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,onEmptyEnter:this.handlePageTemplatePickerEmptyEnter,sections:l([{key:"Basic",render:function(e){return s.createElement("div",{key:e.key},e.children)},items:y.mobileBasicTemplateItems.map(this.renderPageTemplatePickerItem)},{key:"Database",render:function(t){return s.createElement("div",{key:t.key},s.createElement("div",{style:e.getGroupTitleStyle()},"Database"),t.children)},items:y.databaseTemplateItems.map(this.renderPageTemplatePickerItem)}],y.templatePreviewSections.map(function(t){return{key:t.name,render:function(r){return s.createElement("div",{key:r.key},s.createElement("div",{style:e.getGroupTitleStyle()},t.name),r.children)},items:t.items.map(e.renderMobileTemplatePreviewItem)}}))})},t.prototype.renderPlaceholder=function(){return s.createElement("div",{style:t.placeholderWrapStyle},s.createElement("div",{style:this.getPlaceholderStyle(),onClick:this.handleEmptyPageContinueClick},this.renderPlaceholderMessage()))},t.prototype.renderPlaceholderMessage=function(){var e=this.props.store.isTemplate(),t=P.default.state.online,r=this.isCollectionPage(),n=this.collectionHasTemplates(),o=r&&!n,a=C.default.isMobile?"Tap here":"Press Enter",i=o?s.createElement(c.Fragment,null,"or ",s.createElement(x.default,{style:{display:"inline-block",textDecoration:"underline"},onClick:this.handleCreateDatabaseTemplateClick},"create a template")):s.createElement(c.Fragment,null,"or pick a template"),l=C.default.isMobile||o||e?"":" (↑↓ to select)";return t?e?s.createElement(c.Fragment,null,a," to continue with an empty page."):s.createElement(c.Fragment,null,a," to continue with an empty page, ",i,l):s.createElement(c.Fragment,null,a," to continue with an empty page. Please go online to use templates.")},t.prototype.isCollectionPage=function(){var e=this.props.store;return Boolean(e.getParentCollectionStore())},t.prototype.collectionHasTemplates=function(){var e=this.props.store.getParentCollectionStore(),t=e?e.getTemplatePagesStores():void 0;return t&&t.length>0},t.prototype.isTemplatePage=function(){return this.props.store.isTemplate()},t.prototype.navigateToBlock=function(e){var t=T.default.state.currentBlockStore,r=t?M.default({store:t,peekViewBlockId:e.id,fullyQualified:!1}):M.default({store:e,fullyQualified:!1});this.context.overrideLinkClick?this.context.overrideLinkClick(r):O.navigate({url:r})},t.prototype.getPlaceholderStyle=function(){return a({},d.itemStyle,{color:this.theme.lightTextColor,paddingTop:5,paddingBottom:24})},t.prototype.getGroupTitleStyle=function(){return a({},d.itemStyle,{marginTop:24,marginBottom:4,textTransform:"uppercase",letterSpacing:1,fontSize:C.default.isMobile?12:11,fontWeight:E.default.fontWeight.medium,color:this.theme.lightTextColor})},t.contextTypes={overrideLinkClick:u.any},t.wrapStyle={width:"100%",display:"flex",flexDirection:"column",marginBottom:"14vh"},t.placeholderWrapStyle={width:"100%"},t}(f.default);t.default=A},"2u2U":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("wldR"),i=r("z8HZ"),l=r("bK/N"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOpen=function(){i.default.setState({open:!0})},t.handleClose=function(){i.default.setState({open:!1})},t}return o(t,e),t.prototype.willMount=function(){l.inPageSearch.started.addListener(this.handleOpen),l.inPageSearch.stopped.addListener(this.handleClose)},t.prototype.willUnmount=function(){l.inPageSearch.started.removeListener(this.handleOpen),l.inPageSearch.stopped.removeListener(this.handleClose)},t}(a.default);t.default=s},3:function(e,t){},"3+tx":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("y6Dp"),i=r("wldR"),l=r("QcDD"),s=r("T1hA"),u=r("r8oj"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMountOrUpdate=function(){var e=l.default.state,t=e.userStore,r=e.userSettingsStore,n=s.default.state.userId;if(n&&t&&r){var o=t.getValue(),i=r.getValue();if(o&&i){var c=i.settings;if(c){var d={user_id:n,email:o.email,first_name:o.given_name,last_name:o.family_name,user_persona:c.persona,user_source:c.source,user_use_case:c.use_case,user_org:c.type,time_zone:c.time_zone,locale:c.locale,signup_time:c.signup_time,app_version:u.default.version};u.default.desktopAppVersion&&(d.desktop_app_version=u.default.desktopAppVersion),u.default.mobileAppVersion&&(d.mobile_app_version=u.default.mobileAppVersion),c.used_desktop_web_app&&(d.used_desktop_web_app=c.used_desktop_web_app),c.used_mobile_web_app&&(d.used_mobile_web_app=c.used_mobile_web_app),c.used_mac_app&&(d.used_mac_app=c.used_mac_app),c.used_windows_app&&(d.used_windows_app=c.used_windows_app),c.used_ios_app&&(d.used_ios_app=c.used_ios_app),c.used_android_app&&(d.used_android_app=c.used_android_app),a.identifyCurrentUser(d)}}}},t}(i.default);t.default=c},"30UQ":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("sdlW"),l=r("MBf9"),s=r("H4VD"),u=r("r8oj"),c=r("wpmu"),d=r("N34Z"),p=r("y6Dp"),f=r("FcJC"),h=r("udrG"),m=r("qpkC"),y=r("6rsX"),g=r("cy36"),v=r("bkwR"),b=r("Fe7V");function w(e){return o(this,void 0,void 0,function(){var t,r,n,o,s,u,c,p,f;return a(this,function(a){switch(a.label){case 0:return t=e.initializeStore,r=e.item,n=e.useRecordCacheStore,o=e.isPrivate,s=e.spaceStore,u=e.spaceViewStore,c=l.create(),t?(d.updateValue({store:t,data:{type:h.default.copyIndicator},transaction:c}),p=t):p=i.createEmptyPageInSpace({spaceStore:s,spaceViewStore:u,isPrivate:o,loading:!0,transaction:c}),f=n?r.previewRootId:r.rootId,[4,S({pageStore:p,copyBlockId:f,useRecordCacheStore:n,transaction:c})];case 1:return a.sent(),_({item:r,spaceViewStore:u,transaction:c}),k({item:r,spaceViewStore:u,transaction:c}),l.commit({transaction:c}),[2,p]}})})}function S(e){return o(this,void 0,void 0,function(){var t,r,n,o,i,l,s,u;return a(this,function(a){switch(a.label){case 0:return t=e.pageStore,r=e.copyBlockId,n=e.useRecordCacheStore,o=e.addCopyName,i=e.transaction,n?(l=new c.default(r,n),[3,3]):[3,1];case 1:return[4,v.loadBlockSubtree({blockId:r,shallow:!1})];case 2:if("failed"===(s=a.sent()).type)throw new Error("Load subtree failed.");b.setRecordMap({recordCacheStore:t.recordCacheStore,recordMap:s.data.subtreeRecordMap}),l=new c.default(r),a.label=3;case 3:if(!(u=m.loadLocalSubtree({blockId:l.id,recordCacheStore:l.recordCacheStore,allowCopyCollections:!0,requireFullSubtree:!1})))throw new Error("Client copy could not be created.");return m.localDuplicate({sourceBlockId:l.id,targetBlockId:t.id,sourceBlockSubtree:u,targetRecordCacheStore:t.recordCacheStore,addCopyName:o,transaction:i}),[2,t]}})})}function _(e){return o(this,void 0,void 0,function(){var t,r,n,o,i;return a(this,function(a){return t=e.item,r=e.transaction,(n=e.spaceViewStore)&&(o=n.getVisitedTemplateIds()).indexOf(t.rootId)<0&&(i=o.concat([t.rootId]),d.updateValue({store:n,data:{visited_templates:i},transaction:r})),[2]})})}function k(e){return o(this,void 0,void 0,function(){var t,r,n,o,i;return a(this,function(a){return t=e.item,r=e.transaction,(n=e.spaceViewStore)&&(o=n.getSidebarHiddenTemplateIds()).indexOf(t.rootId)<0&&(i=o.concat([t.rootId]),d.updateValue({store:n,data:{sidebar_hidden_templates:i},transaction:r})),[2]})})}t.open=function(e){return o(this,void 0,void 0,function(){var t,r,n,o,i;return a(this,function(a){return t=e.store,r=e.item,n=e.createNewPage,o=e.sections,i=e.isPrivate,y.clear(),g.default.setState({open:!0,store:t,item:r,sections:o,createNewPage:n,isPrivate:i,isLoading:!1}),p.trackTemplateModalOpen({name:r.name}),[2]})})},t.accept=function(e){return o(this,void 0,void 0,function(){var t,r;return a(this,function(o){switch(o.label){case 0:return t=e.item,g.default.state.open&&g.default.setState(n({},g.default.state,{isLoading:!0})),[4,w(e)];case 1:return r=o.sent(),s.navigateToBlock({store:r}),g.default.setState({open:!1}),u.default.isMobile&&f.close(),p.trackTemplateModalAccept({name:t.name}),[2]}})})},t.initialize=w,t.initializePageTemplate=S,t.setTemplateVisited=_,t.setTemplateSidebarHidden=k},"38Q8":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("hfHo"),u=r("njgS"),c=r("IdIf"),d=r("AOw3"),p=r("1QGs"),f=r("MBf9"),h=r("/YYm"),m=r("OxuQ"),y=r("IdSf"),g=r("Oy36"),v=r("iVjn"),b=r("rTCD"),w=r("0lqH"),S=r("XH/p"),_=r("D2XV"),k=r("Sb6f"),C=r("mF3+"),E=r("bPtJ"),P=r("7TLZ"),x=r("n8tN"),T=r("H4VD"),O=r("QcDD"),M=r("enKW"),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDraggableDragMove=function(e){var r=t.props.calendarBy;p.continueDrag({calendarStore:t.props.calendarStore,x:e.currentX,y:e.currentY,calendarBy:r})},t.handleDraggableDragEnd=function(){var e=t.props,r=e.calendarBy,n=e.schema[r];n&&"date"===n.type&&f.createAndCommit(function(e){p.completeDrag({calendarStore:t.props.calendarStore,calendarBy:r,transaction:e})})},t.handleDraggableDragCancel=function(){p.cancelDrag({calendarStore:t.props.calendarStore})},t.handleInsertAfter=function(e){var r=t.props,n=r.store,o=r.calendarBy,a=r.collectionStore,i=r.collectionViewLocalStore;return p.handleInsertAfter({collectionStore:a,collectionViewLocalStore:i,store:n,insertStores:e.insertStores,calendarBy:o,transaction:e.transaction})},t.getRecordValue=function(e,r){return E.createRecordStore(t.props.store,e,r).getValue()},t}return o(t,e),t.prototype.activate=function(){var e=this.getPeekURL();e&&T.navigate({url:e})},t.prototype.renderComponent=function(){var e=this,r=this.props,n=r.store,o=r.row,p=r.schema,f=r.format,h=r.disabled,m=r.calendarBy,g=p[m];if(g&&u.isDateType(g)){var v="date"===g.type,b=this.getPageURL(),w=this.getPeekURL(),k=f.calendar_properties?f.calendar_properties.filter(function(e){return e.visible}).map(function(e){return e.property}):[],C=k.filter(function(t){return c.cardPropertyFormatIsVisible({blockValue:n.getValue(),property:t,schema:p,getRecordValue:e.getRecordValue,userTimeZone:_.currentTimeZone})}),E=C.concat(l.difference(k,C)),P=s.default(this.props.start),x=s.default(this.props.startOfWeek),T=s.default(this.props.endOfWeek),O=this.props.end?s.default(this.props.end):void 0,M=P.clone().startOf("day"),I=s.default.max(x,M),A=I.diff(x,"days"),D=P.isBefore(x),L=O&&O.isAfter(T),R=k.length+1,B=S.default.propertyRowHeight*R+2*S.default.itemPaddingTopBottom+2*S.default.rowPaddingTopBottom,j=S.default.dayPaddingTop+B*o,V=1;if(O){var F=O.clone().endOf("day");V=s.default.min(T,F).diff(I,"days")+1}return i.createElement(d.default,{store:n,key:n.id,style:a({},t.style,{paddingLeft:D?0:6,paddingRight:L?0:6,width:L?"calc(100% / 7 * "+V+" - 1px)":"calc(100% / 7 * "+V+")",left:"calc(100% / 7 * "+A+")",height:B,top:j}),canSelect:!h,shouldShowHalo:!h,canTriggerContextMenu:!h,showBlockMenuInput:!0,canDrag:!h,onInsertBefore:this.handleInsertAfter,onInsertAfter:this.handleInsertAfter,canInsertBefore:!h&&v,canInsertAfter:!h&&v,analyticsName:"calendar",shouldShowDropZone:!0},i.createElement(y.default,{style:a({},this.getLinkStyle(),D&&t.buttonLeftBleedStyle,L&&t.buttonRightBleedStyle),innerStyle:this.getButtonStyle(),href:b,metaHref:w},i.createElement("div",{style:a({},t.startWrapStyle,D&&{paddingLeft:12},L&&{paddingRight:11},{width:this.props.includeTime?100/V+"%":"100%"})},this.renderTitleRow(P,O,x,T,g,V)),i.createElement("div",{style:a({},t.startWrapStyle,{width:"100%"},D&&{paddingLeft:12})},E.map(function(t){return e.renderProperty(t)})),!h&&v&&this.renderLeftDraggable(P,x),!h&&v&&this.renderRightDraggable(O,T)))}},t.prototype.renderTitleRow=function(e,r,n,o,a,l){var s=this.props,u=s.store,c=s.includeTime,d=u.hasIcon()||!u.isEmptyPage();return i.createElement("div",{style:t.titleRowWrapStyle},d&&i.createElement(g.default,{disabled:!0,icon:u.getIcon(),isEmptyPage:u.isEmptyPage(),size:12,style:{flexShrink:0,marginRight:4,marginTop:2}}),i.createElement(m.default,{style:t.titleStyle,store:u}),this.renderDiscussionIndicator(),c&&e.isBetween(n,o,void 0,"[]")&&i.createElement("div",{style:this.getTimeStyle()},e.format(this.getTimeFormat(a))),this.renderEndTime(e,r,n,o,a,l))},t.prototype.renderDiscussionIndicator=function(){var e=this.props.store,t=P.getNumberOfUnresolvedComments(e);if(t>0)return i.createElement("div",{style:{display:"flex",alignItems:"center",color:this.theme.mediumTextColor,fontSize:12,marginLeft:4,flexShrink:0}},C.default.speechBubble({width:12,height:12,marginRight:4,fill:this.theme.mediumIconColor}),t)},t.prototype.renderProperty=function(e){var t=this.props,r=t.schema,n=t.store,o=t.blockPropertyValueOverlayStore;if(r[e])return i.createElement(w.default,{key:e,store:n,locked:!1,property:e,schema:r,disabled:!0,format:w.BlockPropertyValueFormat.Calendar,tableWrap:!1,blockPropertyValueOverlayStore:o})},t.prototype.renderEndTime=function(e,t,r,n,o,a){if(this.props.includeTime&&t&&t.isBetween(r,n,void 0,"[]")&&e.date()!==t.date())return i.createElement("div",{style:a>1?this.endTimeAbsoluteStyle():this.getEndTimeStyle()},"ends ",t.format(this.getTimeFormat(o)))},t.prototype.renderLeftDraggable=function(e,r){var n=this,o=this.props.store;if(!e.isBefore(r))return i.createElement(v.default,{render:function(e){return i.createElement("div",a({style:t.leftDragHandleStyle},e))},onDraggableDragStart:function(){p.startDrag({calendarStore:n.props.calendarStore,target:o,direction:b.CalendarDragDirection.Left})},onDraggableDragMove:this.handleDraggableDragMove,onDraggableDragEnd:this.handleDraggableDragEnd,onDraggableDragCancel:this.handleDraggableDragCancel})},t.prototype.renderRightDraggable=function(e,r){var n=this,o=this.props.store;if(!e||e&&!e.isAfter(r))return i.createElement(v.default,{render:function(e){return i.createElement("div",a({style:t.rightDragHandleStyle},e))},onDraggableDragStart:function(e){p.startDrag({calendarStore:n.props.calendarStore,target:o,direction:b.CalendarDragDirection.Right})},onDraggableDragMove:this.handleDraggableDragMove,onDraggableDragEnd:this.handleDraggableDragEnd,onDraggableDragCancel:this.handleDraggableDragCancel})},t.prototype.getTimeFormat=function(e){return"date"===e.type&&e.time_format?e.time_format:_.defaultTimeFormat},t.prototype.getPeekURL=function(){var e=this.props.store,t=O.default.state.currentBlockStore;if(t)return h.default({store:t,fullyQualified:!1,peekViewBlockId:e.id})},t.prototype.getPageURL=function(){var e=this.props.store;return h.default({store:e,fullyQualified:!1})},t.prototype.getLinkStyle=function(){return{height:"100%",background:this.theme.popoverBackground,borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomLeftRadius:3,borderBottomRightRadius:3,boxShadow:M.getShadow({elevation:2,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity})}},t.prototype.getButtonStyle=function(){return{display:"flex",position:"relative",paddingTop:2,paddingBottom:2,height:"100%",alignItems:"flex-start",flexDirection:"column"}},t.prototype.getTimeStyle=function(){return{color:this.theme.mediumTextColor,flexShrink:0,fontSize:10,marginLeft:4,height:14}},t.prototype.getEndTimeStyle=function(){return{marginLeft:"auto",paddingLeft:4,marginRight:4,color:this.theme.mediumTextColor,fontSize:10,whiteSpace:"nowrap",marginTop:-1}},t.prototype.endTimeAbsoluteStyle=function(){return a({},this.getEndTimeStyle(),{position:"absolute",right:4,top:6})},t.style={position:"absolute",paddingTop:3,paddingBottom:3},t.buttonRightBleedStyle={borderTopRightRadius:0,borderBottomRightRadius:0},t.buttonLeftBleedStyle={borderTopLeftRadius:0,borderBottomLeftRadius:0},t.startWrapStyle={paddingLeft:6,paddingRight:6,overflow:"hidden"},t.titleRowWrapStyle={display:"flex",alignItems:"center",height:20},t.titleStyle={flexGrow:1,fontSize:12,fontWeight:k.default.fontWeight.semibold},t.leftDragHandleStyle={position:"absolute",top:0,left:-4,height:"100%",width:12,cursor:"col-resize"},t.rightDragHandleStyle={position:"absolute",top:0,right:-4,height:"100%",width:12,cursor:"col-resize"},t}(x.default);t.default=I},"3DNc":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("q1tI"),a=r("mF3+"),i=r("zmp8"),l=r("MeYt");t.default=function(e){var t=n({width:e.size,height:e.size,display:"flex",alignItems:"stretch",justifyContent:"stretch",flexShrink:0,flexGrow:0},!e.disabled&&{cursor:"pointer"},e.checked&&{background:i.default.blue},{transition:"background 200ms ease-out"});return o.createElement("div",{style:t},o.createElement(l.default,{disabled:e.disabled,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},onClick:e.onClick},e.checked?a.default.check({fill:i.default.white,width:e.checkSize||12,height:e.checkSize||12}):a.default.checkboxSquare()))}},"3HSV":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var u=r("q1tI"),c=r("LvDl"),d=r("nFzZ"),p=r("ALSZ"),f=r("4HCU"),h=r("r8oj"),m=r("wpmu"),y=r("CSYU"),g=r("wldR"),v=r("wXH4"),b=r("Pl3d"),w=r("MBf9"),S=r("tvfY"),_=r("gbGO"),k=r("WgIs"),C=r("2Y+N"),E=r("f0kS"),P=r("sbdd"),x=r("zTdN"),T=r("SR/M"),O=r("wlCD"),M=r("ttM1"),I=r("9c8K"),A=r("D2XV"),D=r("awNq"),L=r("O+wX"),R=r("DNgp"),B=r("vJXr"),j=r("xAD1"),V=r("WaiN"),F=r("HTHG"),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderMentionResult=function(e,r){var n=V.default.state;r||(r={userResults:[],pageResults:[],dateResults:[]});var o,i,l,s=r.userResults,f=r.pageResults,y=r.dateResults,g=[];if(y.length>0&&g.push({key:"date results",render:function(e){return u.createElement(C.default,a({},e,{title:"Date",topBorder:!0,isTitleUppercase:!0}))},items:y.map(function(e){var t=e.label,r=e.value;return{key:t,render:function(e){return u.createElement(T.default,a({},e,{title:t}))},action:function(){w.createAndCommit(function(e){p.accept({annotation:["d",a({},r(),{date_format:"relative"})],transaction:e})})}}})}),s.length>0&&g.push({key:"user results",render:function(e){return u.createElement(C.default,a({},e,{title:"People",topBorder:!0,isTitleUppercase:!0}))},items:d.compact(s.map(function(e){var t=F.getCurrentRootStore();if(t&&e.userId){var r=S.default.createChildStore(t,e.userId);return{key:e.userId,render:function(e){return u.createElement(E.default,a({},e,{user:r.getValue()}))},action:function(){w.createAndCommit(function(t){e.userId&&p.accept({annotation:["u",e.userId],transaction:t})})}}}}))}),f.length>0&&g.push({key:"page results",render:function(e){return u.createElement(C.default,a({},e,{title:"Pages",topBorder:!0,isTitleUppercase:!0}))},items:d.compact(f.map(function(e){var t=F.getCurrentRootStore();if(t){var r=m.default.createChildStore(t,e);return{key:e,render:function(e){return u.createElement(P.default,a({},e,{store:r}))},action:function(){w.createAndCommit(function(t){p.accept({annotation:["p",e],transaction:t})})}}}}))}),B.default.state.online){if(n.open){var v=n.requestStore.state.loading,b=c.compact([n.mentionTypes.user&&"person",n.mentionTypes.page&&"page",n.mentionTypes.date&&"date"]),I="Type to mention a ";1===b.length?I+=b[0]+"...":2===b.length?I+=b[0]+" or "+b[1]+"...":3===b.length&&(I+=b[0]+", "+b[1]+" or "+b[2]+"..."),o=u.createElement(C.default,{desktopStyle:{paddingBottom:0}},u.createElement(x.default,{title:I,right:u.createElement(M.default,{show:Boolean(v),showDelay:500,showHold:300,render:function(e){return u.createElement(O.default,{style:{textAlign:"center",visibility:e?"visible":"hidden"}})}})}))}}else o=u.createElement(x.default,{title:"Please go online to mention a person or page."});return 0===g.length&&(i=u.createElement(C.default,null,u.createElement(x.default,{title:"No results"}))),l=!h.default.isReactNative&&!h.default.isCordova||h.default.isTablet?{menuType:_.default.MenuType.Popup,width:330,maxHeight:h.default.isMobile?"30vh":"40vh",onClickOutside:p.close}:{menuType:_.default.MenuType.ActionSheet,disableBottomPadding:!0},u.createElement(_.default,a({},l),o,u.createElement(k.default,{initialFocus:0,sections:g,onEmptyEnter:t.handleCancel}),i)},t.handleCancel=function(){p.close()},t.performMentionRequest=function(e){return i(t,void 0,void 0,function(){var t,r,n,o,a;return l(this,function(i){switch(i.label){case 0:return(t=V.default.state).open?[4,Promise.all([t.mentionTypes.user?this.getUserResults(e):[],t.mentionTypes.page?this.getPageResults(e):[],t.mentionTypes.date?this.getDateResults(e):[]])]:[2];case 1:return r=s.apply(void 0,[i.sent(),3]),n=r[0],o=r[1],a=r[2],""===e?[2,{userResults:n.slice(0,2),pageResults:o.slice(0,2),dateResults:a}]:[2,{userResults:n,pageResults:o,dateResults:a}]}})})},t.getUserResults=function(e){return i(t,void 0,void 0,function(){var t;return l(this,function(r){switch(r.label){case 0:return B.default.state.online?[4,f.searchUsers({query:e,membersOnly:!1})]:[3,2];case 1:return t=r.sent(),[2,t.filter(function(e){return Boolean(e.userId)})];case 2:return[2,[]]}})})},t.getPageResults=function(e){return i(t,void 0,void 0,function(){var t;return l(this,function(r){switch(r.label){case 0:return B.default.state.online?[4,f.searchPages({query:e,limit:20})]:[3,2];case 1:return t=r.sent(),[2,t.results];case 2:return[2,[]]}})})},t.getDateResults=function(e){return function(e){if(0===e.length)return[{label:"Today",value:function(){return A.today(A.currentTimeZone)}},{label:"Next Tuesday 3pm",value:function(){var e=A.todayMoment(A.currentTimeZone),t=e.clone().day(2);return t.isSameOrBefore(e)&&t.add(1,"week"),t.add(1,"week"),t.hour(15),{type:"datetime",start_date:t.format(A.persistedDateFormat),start_time:t.format(A.persistedTimeFormat),time_zone:A.currentTimeZone}}},{label:"Remind Tomorrow 9am",value:function(){var e=A.tomorrow(A.currentTimeZone);return{type:"datetime",start_date:e.start_date,start_time:"09:00",reminder:{unit:"day",value:0,time:A.defaultDateReminderTime},time_zone:A.currentTimeZone}}}];var t=D.parsePersistedDateWithOptionalReminder(e);if(t){var r=L.formatPersistedDate({value:t,date_format:"relative",userTimeZone:A.currentTimeZone});return t.reminder&&(r="Remind "+r),[{label:r,value:function(){return t}}]}return[]}(e).slice(0,6)},t}return o(t,e),t.prototype.willMountOrUpdate=function(){var e=V.default.state,t=this.getFilter(),r=e.open?e.requestStore.state.result:void 0;if(e.open){var n=R.default.state;n.editing&&n.store===e.textStore&&!I.shouldCloseMenu(t,e.requestStore.state.ready,r?r.pageResults.length+r.userResults.length+r.dateResults.length:0)||p.close()}},t.prototype.renderComponent=function(){var e,t=V.default.state,r=j.default.findComponent(function(e){return e.props.capture}),n=this.getFilter();if(r&&h.default.isMobile){var o=r.stores.store.state.rect;o&&(e={height:"calc(100vh - "+o.height+"px)"})}var i={request:n?n.trim():"",performRequest:this.performMentionRequest,debounce:f.defaultSearchDebounce,render:this.renderMentionResult};return u.createElement(v.default,{popupType:!h.default.isReactNative&&!h.default.isCordova||h.default.isTablet?v.default.PopupType.Popup:v.default.PopupType.SlideUp,open:t.open,originRect:t.open?t.selectionRect:void 0,cordovaWrapStyle:e,placementToOrigin:v.default.Placement.Bottom,alignmentToOrigin:v.default.Alignment.Start,originGap:4,disableMouseCapture:!0,disableContentScroll:!0,onDismiss:this.handleCancel,disableDarkOverlayBackground:h.default.isMobile&&!r,keepFocus:!0,render:function(){return u.createElement(b.default,a({requestStore:t.open?t.requestStore:void 0},i))}})},t.prototype.getFilter=function(){var e=V.default.state;if(e.open)return I.getFilter(e.textStore,e.oldTextValue,!0)},t.stores={requestStore:y.default},t}(g.default);t.default=N},"3KLF":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{pageMap:{}}},t.prototype.setStatus=function(e,t){var r=this.state.pageMap;t?r[e]=t:delete r[e],this.emit()},t}(r("LEzx").default);t.default=new a},"3O7B":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},"3Pxg":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("Wceh"),s=r("EZe4"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderCollectionView=function(e){var r=t.props.store;return a.createElement(l.default,{key:e.id,store:r,collectionViewStore:e,style:t.props.itemStyle,isMobile:t.props.isMobile,onNavigate:t.props.onNavigate})},t.handleContextMenu=function(e){e.preventDefault(),s.default({event:e,context:s.EventContext.EditorContextMenu,callback:function(){}})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.store.getCollectionViewStores();return a.createElement("div",{onContextMenu:this.handleContextMenu},e.map(this.renderCollectionView))},t}(i.default);t.default=u},"3U6h":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t}(r("LEzx").default);t.default=a},"3U9E":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t}(r("LEzx").default);t.default=new a},"3Vt7":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t}(r("LEzx").default);t.default=a},"3ZnZ":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("i3uR"),u=r("5XPD"),c=r("Na01"),d=r("mF3+"),p=r("r8oj"),f=r("gbGO"),h=r("ohKz"),m=r("MeYt"),y=r("ibYI"),g=r("vJXr"),v=r("2A6Q"),b=r("IwFn"),w=r("pqiZ"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){h.default.setState({open:!1})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=h.default.state.open;return i.createElement(s.default,{popupType:p.default.isMobile?s.default.PopupType.SlideUp:s.default.PopupType.Popup,buttonPopupStore:h.default,renderOrigin:function(r){return i.createElement(m.default,a({},r),i.createElement(c.default,{left:e.renderIcon(),style:{background:t?e.theme.buttonHoveredBackground:"none"},isMobile:e.props.isMobile,disableMobileBorder:!0},"Notifications & Settings"))},render:function(){var t;return t=p.default.isMobile?{menuType:f.default.MenuType.Modal,title:"Notifications & Settings",right:"Done",onClickRight:e.handleClose,whiteBackground:!0}:{menuType:f.default.MenuType.Popup},g.default.state.online?i.createElement(f.default,a({},t),i.createElement(v.default,null,i.createElement(u.default,null),i.createElement(w.default,{size:32,isHidden:!0}),i.createElement(y.default,null))):i.createElement(v.default,null,i.createElement(b.default,{style:{textAlign:"center"}},"Please go online to manage settings."))}})},t.prototype.renderIcon=function(){return d.default.sidebarSettings({fill:this.theme.mediumIconColor,width:16})},t}(l.default);t.default=S},"3eY8":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("bkwR"),i=r("VkkH"),l=r("S26v"),s=r("tP7q"),u=r("A9TN"),c=r("Wnyic"),d=r("hvW1"),p=r("VBxf"),f=r("E5KU"),h=r("y6Dp"),m=r("miBo");t.authWithAsana=function(e){return n(this,void 0,void 0,function(){var t,r,n,y,g,v,b,w;return o(this,function(o){switch(o.label){case 0:return t=e.requestStore,r=c.getAuthType(),n=s.createAsanaPopupRedirect(u.default.baseURL,{authType:r}),r.redirectToAuth?(y=n,[3,3]):[3,1];case 1:return[4,c.loadAuthUrl(n)];case 2:y=o.sent(),o.label=3;case 3:return n=y,[4,i.openPopup({width:580,height:800,url:n,title:"Asana Login"})];case 4:return(g=o.sent())&&(v=l.parse(g)).query.code&&v.query.state?(d.display({message:"Authenticating with Asana..."}),[4,a.authWithAsana({code:v.query.code,encryptedState:v.query.state})]):[2];case 5:return"failed"!==(b=o.sent()).type?[3,6]:(w=b.error,f.error(w),p.showError({error:w}),d.close(),[3,8]);case 6:return h.trackAuthIntegration({name:"asana"}),[4,t.refresh()];case 7:o.sent(),m.default.setState({open:!0}),d.close(),o.label=8;case 8:return[2]}})})}},"3k5a":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.findBlockFromStore=function(e){return this.findComponent(function(t){return t.props.store===e})},t.prototype.findAllBlocksFromStore=function(e){return this.getComponents().filter(function(t){return t.props.store===e})},t.prototype.findBlockWithMethodFromStore=function(e,t){return this.findComponent(function(r){return r.props.store===e&&r[t]})},t.prototype.findBlockFromStoreWithMethod=function(e,t){return this.findComponent(function(r){return r.props.store===e&&a.isFunction(r[t])})},t.prototype.findCollectionViewBlockFromStore=function(e){return this.findAllBlocksFromStore(e).find(function(e){var t=e;return Boolean(t&&t.stores&&t.stores.collectionViewLocalStore)})},t.prototype.findBlockFromId=function(e){return this.findComponent(function(t){return t.props.store&&t.props.store.id===e})},t.prototype.findNodeFromStore=function(e){var t=this.findBlockFromStore(e);if(t)return t.getNode()},t.prototype.getRect=function(e){var t=this.findNodeFromStore(e);if(t&&t instanceof Element)return t.getBoundingClientRect()},t}(r("Uv1v").default);t.default=new i},"3luQ":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("zmp8"),u=r("WxaJ"),c=r("EZe4"),d=r("qHvo"),p=r("nZ1u"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDragging=t.createComputedStore(function(){return d.default.state.isDragging||p.default.state.isActive}),t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.contentWrapStyle,r=e.source,n=e.handleEmbedComp;return i.createElement("div",{style:t,onMouseDown:c.captureEditorMouseDown,onTouchStart:c.captureEditorMouseDown},i.createElement("div",{style:this.getStyle()},i.createElement("audio",{ref:function(e){return n(e)},style:this.getStyle(),controls:!0,preload:"none"},i.createElement("source",{src:r}))))},t.prototype.getStyle=function(){var e=this.props.contentStyle;return a({},e,{pointerEvents:this.isDragging.state?"none":"auto"})},t.containerStyle={position:"relative",borderColor:s.default.contentBorder,borderRadius:3,borderWidth:1,borderStyle:"solid"},t}(l.default);var h={render:function(e){var t=e.contentStyle,r=e.contentWrapStyle,n=e.handleEmbedComp;return i.createElement(u.default,{url:e.source,permissionRecord:{table:e.store.table,id:e.store.id},render:function(e,o,a){return a?o?i.createElement(f,{contentStyle:t,contentWrapStyle:r,source:o,handleEmbedComp:n}):void 0:i.createElement("div",null)}})},resizable:!1,hideActions:!0};t.default=h},"3uHk":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{capturingAreas:new Set}},t.prototype.canScroll=function(){return 0===this.state.capturingAreas.size},t}(r("LEzx").default);t.default=new a},"3wHm":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("5/h/"),c=r("Mr7a"),d=r("sdlW"),p=r("mjq6"),f=r("gyBu"),h=r("tvfY"),m=r("IwFn"),y=r("t+pW"),g=r("pqiZ"),v=r("MT4j"),b=r("yNyh"),w=r("yisX"),S=r("DQmc"),_=r("2A6Q"),k=r("rQb/"),C=r("bAi4"),E=r("mF3+"),P=r("bsBB"),x=r("MBf9"),T=r("LeVO"),O=r("aZ00"),M=r("z22Z"),I=r("Cycz"),A=r("q1tI"),D=r("hvW1"),L=r("R+Q+"),R=r("0YG6"),B=r("g8hj"),j=r("nFzZ"),V=r("7ovu"),F=r("y6Dp"),N=r("vJXr"),U=r("T1hA"),W=r("r8MX"),z=r("toub"),H=r("IYZQ"),q=r("Ng05"),G=r("QcDD"),Z=r("bxQm"),Y=r("sSHh"),K=r("qqdV"),J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderSpaceGroup=function(e){var r=t.props.store,n=t.stores.spacePermissionsSettingsStore;return s.createElement(R.default,{key:e.id,store:r,group:e,spacePermissionsSettingsStore:n,disabled:!t.canEditGroups()})},t.handleUpdateClick=function(){D.display({message:"Updating..."})},t.handleUpdateComplete=function(){return i(t,void 0,void 0,function(){return l(this,function(e){return D.close(),[2]})})},t.handleTabClick=function(e){t.stores.spacePermissionsSettingsStore.setState(a({},t.stores.spacePermissionsSettingsStore.state,{currentTab:0===e?f.SpacePermissionsSettingsTab.Members:f.SpacePermissionsSettingsTab.Groups}))},t.handleCreateGroupClick=function(){x.createAndCommit(function(e){var r=d.createPermissionGroup({spaceStore:t.props.store,transaction:e});r&&t.stores.spacePermissionsSettingsStore.setState(a({},t.stores.spacePermissionsSettingsStore.state,{editingNameGroupId:r.id,groupNameInputValue:""}))}),F.trackPermissionGroupCreate()},t.handleGroupReorder=function(e){var r=t.props.store.getValue();if(r){var n=r.permission_groups||[],o=j.compact(e.map(function(e){return n.find(function(t){return t.id===e})}));x.createAndCommit(function(e){d.updatePermissionGroups({spaceStore:t.props.store,groups:o,transaction:e})})}F.trackPermissionGroupReorder()},t.handleUpgradeClick=function(){V.openPlans(),F.trackClickUpgradeInfoButton({from:"permission_groups"})},t.handleFilterChange=function(e){t.stores.spacePermissionsSettingsStore.setState(a({},t.stores.spacePermissionsSettingsStore.state,{groupsFilter:e.target.value}))},t.handleMembersShowMoreClick=function(){t.stores.spacePermissionsSettingsStore.setState(a({},t.stores.spacePermissionsSettingsStore.state,{limitMembers:!1}))},t.handleGuestsShowMoreClick=function(){t.stores.spacePermissionsSettingsStore.setState(a({},t.stores.spacePermissionsSettingsStore.state,{limitGuests:!1}))},t}return o(t,e),t.prototype.renderComponent=function(){return s.createElement(_.default,null,this.renderSettings())},t.prototype.renderSettings=function(){if(!N.default.state.online)return this.renderOfflineMessage();var e=W.default.state.data;if(e&&e.members){var t=e.members.filter(function(e){return M.canRead(e.role)}),r=e.members.filter(function(e){return!M.canRead(e.role)}),n=this.stores.spacePermissionsSettingsStore.state.currentTab,o=["Members ("+t.length+")","Groups"],a=n===f.SpacePermissionsSettingsTab.Members?0:1;return s.createElement("div",null,s.createElement(Y.default,{title:"Learn about adding members to your workspace.",href:K.guides.members,analyticsFrom:"members_settings"}),_.default.renderDivider(),s.createElement(L.default,{tabs:o,selectedIndex:a,onChange:this.handleTabClick,style:{paddingLeft:0,paddingRight:0,marginBottom:14},tabStyle:{fontSize:17}}),n===f.SpacePermissionsSettingsTab.Members?this.renderMembersTab(t,r):this.renderGroupsTab())}},t.prototype.renderOfflineMessage=function(){return s.createElement(m.default,{style:{textAlign:"center"}},"Please go online to manage members.")},t.prototype.renderMembersTab=function(e,t){return s.createElement(A.Fragment,null,this.renderSpaceMembers(e),t.length>0&&this.renderSpaceGuests(t))},t.prototype.renderGroupsTab=function(){var e=this,r=this.props.store,n=this.stores.spacePermissionsSettingsStore.state.groupsFilter,o=r.getValue(),i=this.canEditGroups();if(o){var l=o.permission_groups||[];return s.createElement("div",null,s.createElement(m.default,{hasMarginTop:!0,style:{width:480,marginTop:4,minHeight:32}},"Set up groups to conveniently control page permissions from the share menu.",!this.isSubscribed()&&s.createElement(A.Fragment,null," ",s.createElement(H.default,{onClick:this.handleUpgradeClick},"Upgrade")," ","to use permission groups.")),s.createElement(g.default,{size:24,isHidden:!0}),s.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},s.createElement(T.default,{renderTooltip:function(){return e.canAdmin()?"Upgrade to use permission groups.":"Only admins can add a permission group."},render:function(t){return s.createElement(q.default,a({isLarge:!0,onClick:e.handleCreateGroupClick,disabled:!i},i?void 0:t),"Create a Group")}}),l.length>0&&s.createElement(b.default,{placeholder:"Filter by email or name...",left:E.default.searchThick(this.getSearchIconStyle()),showClearButton:!0,format:b.default.Format.Small,value:n,style:a({},t.filterStyle,{marginRight:0}),onChange:this.handleFilterChange})),l.length>0&&s.createElement(g.default,{size:24,style:{marginBottom:24}}),i?s.createElement(B.default,{direction:B.DraggableListDirection.Vertical,keys:l.map(function(e){return e.id}),renderKey:function(t,r){return e.renderSpaceGroup(l[r])},isFullWidth:!0,onDrop:this.handleGroupReorder}):s.createElement("div",null,l.map(this.renderSpaceGroup)))}},t.prototype.renderSpaceMembers=function(e){var r=this.stores.spacePermissionsSettingsStore,n=r.state,o=n.membersFilter,i=n.limitMembers,l=this.getFilteredMembers(e,o),u=i?l.slice(0,t.defaultLimit):l;return s.createElement("div",null,this.renderInviteViaDomainCaption(),s.createElement(g.default,{size:24,isHidden:!0}),s.createElement("div",null,s.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12}},this.renderInviteButton(),s.createElement(b.default,{placeholder:"Filter by email or name...",left:E.default.searchThick(this.getSearchIconStyle()),showClearButton:!0,format:b.default.Format.Small,value:o,style:t.filterStyle,onChange:function(e){r.setState(a({},r.state,{membersFilter:e.target.value,limitMembers:!0}))}})),this.renderUserTable(u),l.length>t.defaultLimit&&i&&s.createElement(Z.default,{style:t.showMoreButtonStyle,onClick:this.handleMembersShowMoreClick},"Show"," ",l.length-t.defaultLimit," ","more")))},t.prototype.renderSpaceGuests=function(e){var r=this.stores.spacePermissionsSettingsStore,n=r.state,o=n.guestsFilter,i=n.limitGuests,l=this.getFilteredMembers(e,o),u=i?l.slice(0,t.defaultLimit):l;return s.createElement("div",null,s.createElement(g.default,{size:24,isHidden:!0}),s.createElement("div",null,s.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12}},s.createElement(k.default,null,"Guests (",e.length,")"),s.createElement(b.default,{placeholder:"Filter by email or name...",left:E.default.searchThick(this.getSearchIconStyle()),showClearButton:!0,format:b.default.Format.Small,value:o,style:t.filterStyle,onChange:function(e){r.setState(a({},r.state,{guestsFilter:e.target.value,limitGuests:!0}))}})),this.renderUserTable(u),l.length>t.defaultLimit&&i&&s.createElement(Z.default,{style:t.showMoreButtonStyle,onClick:this.handleGuestsShowMoreClick},"Show"," ",l.length-t.defaultLimit," ","more")))},t.prototype.renderInviteButton=function(){var e=this.props.store;return s.createElement(S.default,{disabled:!this.canAdmin(),store:e,onInviteClick:this.handleUpdateClick,onInviteComplete:this.handleUpdateComplete,isSpace:!0,isSubscribed:this.isSubscribed(),membersOnly:!1,onUpgradeButtonClick:this.props.onUpgradeButtonClick,upgradeButtonName:"space_permission_settings",shouldGrow:!1})},t.prototype.renderInviteViaDomainCaption=function(){var e=this.props.store,t=d.getSpaceDomainUrl(e);return t?s.createElement(m.default,{hasMarginTop:!0,style:{width:480}},"Manage members here, or simply share the link"," ",s.createElement(T.default,{delayThreshold:0,renderTooltip:function(){return"Click to copy link"},render:function(e){return s.createElement(H.default,a({onClick:function(){O.copyString({stringValue:t})}},e),t)}})," ","to people with an allowed email domain, and they can join the workspace automatically."):s.createElement(m.default,{hasMarginTop:!0,style:{width:480}},"Manage members here, or ",s.createElement(H.default,{onClick:function(e){z.default.setState(a({},z.default.state,{currentTab:"settings"}))}},"set up a domain"),", so everyone with allowed email domain can join the workspace automatically.")},t.prototype.getFilteredMembers=function(e,t){var r=this.props.store;return t&&t.length>0?p.default(t,e,function(e){var t=h.default.createChildStore(r,e.userId);return u.getSearchName(t.getValue())}):e},t.prototype.renderUserTable=function(e){var t=this,r=this.props.store;return s.createElement(C.default,{columns:[{value:"User",style:{width:"75%"}},{value:"Access Level",style:{width:"25%",textAlign:"center"}}],rows:e.map(function(e){var n=h.default.createChildStore(r,e.userId).getValue();return{key:e.userId,columns:[s.createElement(P.default,{userValue:n,format:P.default.Format.DefaultWithEmail,style:{paddingRight:6,minHeight:35,maxWidth:300},avatarSize:24}),s.createElement("div",{style:{textAlign:"center"}},t.renderMemberPermission(e))]}})})},t.prototype.renderMemberPermission=function(e){return"none"===e.role?s.createElement(v.default,{store:this.props.store,member:e,isSubscribed:this.isSubscribed()}):this.renderMemberRoleSelect(e)},t.prototype.renderMemberRoleSelect=function(e){var t=this,r=this.props.store,n=U.default.state.userId,o=G.default.state.userSettingsStore;if(o)return s.createElement(w.default,{role:e.role,disabled:!this.canAdmin(),isSpace:!0,isUserPermission:e.userId===n,isSubscribed:this.isSubscribed(),isUser:!0,onUpgradeButtonClick:this.props.onUpgradeButtonClick,upgradeButtonName:"space_permission_item",onChange:function(n){var i=U.default.state.userId;e.userId===i&&"none"===n?(d.leaveSpace({spaceId:r.id,userSettingsStore:o}),z.default.setState(a({},z.default.state,{open:!1}))):(t.handleUpdateClick(),x.createAndCommit(function(o){c.setPermissionItems({store:r,permissionItems:[{type:"user_permission",role:n,user_id:e.userId}],transaction:o}).then(t.handleUpdateComplete)}))}})},t.prototype.isSubscribed=function(){var e=W.default.state.data;return Boolean(e&&I.isSubscribed(e))},t.prototype.canAdmin=function(){return this.props.store.canAdmin()},t.prototype.canEditGroups=function(){return this.canAdmin()&&this.isSubscribed()},t.prototype.getSearchIconStyle=function(){return{width:14,height:14,marginRight:6,flexGrow:0,flexShrink:0,fill:this.theme.mediumIconColor}},t.defaultLimit=50,t.stores={spacePermissionsSettingsStore:f.default},t.filterStyle={width:180,borderRadius:30},t.showMoreButtonStyle={marginTop:8},t}(y.default);t.default=J},4:function(e,t){},"408K":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"slack_integration",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,team_name:n.default.String,channel:n.default.String,channel_id:n.default.String,configuration_url:n.default.String,webhook_url:n.default.String,enabled:n.default.Boolean,parent_id:n.default.UUID,parent_table:n.default.String}};t.default=o},"42Xw":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("2Yor"),a=r("y6Dp"),i=r("6rsX"),l=r("unoy"),s=r("5w/s"),u=r("3k5a");t.startDrag=function(e){var t=e.columnListStore,r=e.leftColumn,n=e.rightColumn,o=u.default.getRect(r),a=u.default.getRect(n);o&&a&&(t.setState({dragging:!0,temporaryRatios:{},leftColumnStartWidth:o.width,leftColumnStartRatio:r.getColumnRatio(),rightColumnStartWidth:a.width,rightColumnStartRatio:n.getColumnRatio()}),i.clear(),l.clear())},t.endDrag=function(e){e.columnListStore.setState({dragging:!1})},t.temporaryResizeColumn=function(e){var t,r=e.columnListBlockStore,a=e.diffX,i=e.columnListStore,l=e.leftColumn,s=e.rightColumn;if(i.state.dragging){var u=i.state.leftColumnStartWidth,c=o.default(i.state.leftColumnStartRatio,0,1),d=i.state.rightColumnStartWidth,p=o.default(i.state.rightColumnStartRatio,0,1),f=u+d,h=c+p,m=o.default(u+a,0,f),y=o.default(d-a,0,f),g=h*(m/f),v=h*(y/f);if(0===m&&0===y)return i.setState(n({},i.state,{temporaryRatios:{}})),{leftColumnNewRatio:c,rightColumnNewRatio:p};var b=1/(8*r.getContentIds().length),w=Math.round(g/b)*b,S=v+(g-w);return w<b&&(w=b,S=c+p-b),S<b&&(S=b,w=p+c-b),i.setState(n({},i.state,{temporaryRatios:(t={},t[l.id]=w,t[s.id]=S,t)})),{leftColumnNewRatio:w,rightColumnNewRatio:S}}},t.resizeColumn=function(e){var r=e.columnListStore,o=(e.diffX,e.transaction),i=e.leftColumn,l=e.rightColumn,u=t.temporaryResizeColumn(e);if(u){var c=u.leftColumnNewRatio,d=u.rightColumnNewRatio;s.updateFormat({stores:[i],update:{column_ratio:c},transaction:o}),s.updateFormat({stores:[l],update:{column_ratio:d},transaction:o}),r.state.dragging&&r.setState(n({},r.state,{temporaryRatios:{}})),a.trackResizeColumn()}}},"43ch":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.findEditableWithinSelectable=function(e){return this.findComponent(function(t){return t.getContextClosestSelectable()===e})},t.prototype.findEditableWithStore=function(e){return this.findComponent(function(t){return t.props.store===e})},t.prototype.findNodeFromStore=function(e){var t=this.findEditableWithStore(e);if(t)return t.getNode()},t.prototype.getClosestSelectableStore=function(e){var t=this.findEditableWithStore(e);if(t){var r=t.getContextClosestSelectable();if(r)return r.props.store}},t}(r("Uv1v").default);t.default=new a},"45vK":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=r("vBRW"),s=r("2aZo"),u=r("w5u6");t.throttleRerender=function(e){var t=this;return l.default(function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return n(t,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,e.apply(void 0,i(r))];case 1:return t.sent(),[4,u.default.afterNextFlush()];case 2:return t.sent(),[2]}})})})},t.debounceRerender=function(e){var t=this;return s.default(function(r,a,i){return n(t,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,e(r,a,i)];case 1:return t.sent(),[4,u.default.afterNextFlush()];case 2:return t.sent(),[2]}})})})}},"46Ny":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{entered:!1}},t}(r("LEzx").default);t.default=a},"46dX":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("6rsX"),s=r("r8oj"),u=r("qHvo"),c=r("wldR"),d=r("v/t1"),p=r("wpmu"),f=r("HRSx"),h=r("jWHj"),m=r("sjR4"),y=r("qHvo"),g=r("AmMh"),v=r("57cz"),b=r("Ucj+"),w=r("fbat"),S=r("PuL6"),_=r("EmAo"),k=r("szb2"),C=r("lfst"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleWindowMouseMove=function(e){y.default.state.isDragging?t.updateDragState():t.updateHoverState(e.clientX,e.clientY)},t.handleWindowKeyEvent=function(e){y.default.state.isDragging&&t.updateDragState()},t.handleWindowMouseMoveThrottled=i.throttle(t.handleWindowMouseMove,60),t}return o(t,e),t.prototype.didMount=function(){e.prototype.didMount.call(this),d.addPassiveEventListener(window,"mousemove",this.handleWindowMouseMoveThrottled),d.addPassiveEventListener(window,"keydown",this.handleWindowKeyEvent),d.addPassiveEventListener(window,"keyup",this.handleWindowKeyEvent),y.default.addListener(this.handleWindowMouseMoveThrottled),d.addPassiveEventListener(window,"scroll",l.recomputeSelectableRectsThrottled,!0),d.addPassiveEventListener(window,"resize",l.recomputeSelectableRectsThrottled),l.recomputeSelectableRects()},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),d.removePassiveEventListener(window,"mousemove",this.handleWindowMouseMoveThrottled),d.removePassiveEventListener(window,"keydown",this.handleWindowKeyEvent),d.removePassiveEventListener(window,"keyup",this.handleWindowKeyEvent),y.default.removeListener(this.handleWindowMouseMoveThrottled),d.removePassiveEventListener(window,"scroll",l.recomputeSelectableRectsThrottled,!0),d.removePassiveEventListener(window,"resize",l.recomputeSelectableRectsThrottled)},t.prototype.updateDragState=function(){var e=y.default.state,t=e.draggedStores,r=e.isDragging,n=e.currentX,o=e.currentY,l=e.offsetX,s=e.offsetY,u=e.isNativeDrag;if(r){var c={x:n,y:o},d={x:n-l,y:o-s},p=this.findNearbyDropZones({mousePoint:c,originPoint:d},t[0],u);if(p.ontoDropZone)return void y.default.setState(a({},y.default.state,{currentDropZone:p.ontoDropZone,currentHintDropZones:[],currentParentStore:void 0}));if(p.verticalDropZone)return void y.default.setState(a({},y.default.state,{currentDropZone:p.verticalDropZone,currentHintDropZones:[],currentParentStore:void 0}));if(p.horizontalDropZones.length>0){var f=p.horizontalDropZones[0],h=i.tail(p.horizontalDropZones),m=g.default.findSelectableFromStore(f.store);if(m){var v=m.getContextClosestSelectable(),b=void 0;return v&&v.props.store!==f.store&&v.props.shouldShowParentHalo&&(b=v.props.store),void y.default.setState(a({},y.default.state,{currentDropZone:f,currentHintDropZones:h,currentParentStore:b}))}}y.default.setState(a({},y.default.state,{currentDropZone:void 0,currentHintDropZones:[],currentParentStore:void 0}))}},t.prototype.updateHoverState=function(e,t){if(!w.default.state.isActive){var r=this.findHoverMenuTarget(e,t);r?w.default.setState(a({},w.default.state,{currentStore:r.props.store})):w.default.setState(a({},w.default.state,{currentStore:void 0}))}},t.prototype.findNearbyDropZones=function(e,r,n){for(var o,a=h.getKeyboardState(),l=b.default.state.selectableRectMap,c=l.keys(),d=c.next(),p=g.default.findSelectableFromStore(r),f=p?p.getContextSelectableContainer():void 0,m=[];!d.done;){var y=d.value;d=c.next();var v=l.get(y),w=y.getContextSelectableContainer(),S=y.props.dropzoneMustBeWithinHorizontalBound?0:t.leftRightLeeway;if((!s.default.isMobile||w===f)&&(w&&!w.props.disable)){var _=y.getReferencePoint(e);if(v&&e.mousePoint.x>=v.left&&e.mousePoint.x<=v.right&&e.mousePoint.y>=v.top&&e.mousePoint.y<=v.bottom&&this.selectableIsDragging(y)&&!a.option)return{ontoDropZone:void 0,verticalDropZone:void 0,horizontalDropZones:[]};var k=e.mousePoint;(n?y.props.canNativeDropOnto:y.props.canDropOnto)&&v&&k.x>=v.left&&k.x<=v.right&&k.y>=v.top&&k.y<=v.bottom&&!this.selectableIsDragging(y)&&this.selectableCanAcceptDrop(y,u.DroppableDirection.Onto)&&m.push({selectable:y,direction:u.DroppableDirection.Onto,left:v.left,top:v.top,width:v.width,height:v.height}),(n?y.props.canNativeDropLeft:y.props.canDropLeft)&&v&&_.y>=v.top&&_.y<=v.bottom&&Math.abs(_.x-v.left)<=t.verticalDropZoneMaxHorizontalOffset&&(a.option||!this.selectableIsDragging(y))&&this.selectableCanAcceptDrop(y,u.DroppableDirection.Left)&&m.push({selectable:y,direction:u.DroppableDirection.Left,left:v.left,top:v.top,width:0,height:v.height}),(n?y.props.canNativeDropRight:y.props.canDropRight)&&v&&_.y>=v.top&&_.y<=v.bottom&&Math.abs(_.x-v.right)<=t.verticalDropZoneMaxHorizontalOffset&&(a.option||!this.selectableIsDragging(y))&&this.selectableCanAcceptDrop(y,u.DroppableDirection.Right)&&m.push({selectable:y,direction:u.DroppableDirection.Right,left:v.right,top:v.top,width:0,height:v.height}),(n?y.props.canNativeDropAbove:y.props.canDropAbove)&&v&&_.x>=v.left-t.verticalDropZoneExtraLeftEdgeOffset-S&&_.x<=v.right+S&&(a.option||!this.selectableIsDragging(y))&&this.selectableCanAcceptDrop(y,u.DroppableDirection.Above)&&m.push({selectable:y,direction:u.DroppableDirection.Above,left:v.left,top:v.top,width:v.width,height:0}),(n?y.props.canNativeDropBelow:y.props.canDropBelow)&&v&&_.x>=v.left-t.verticalDropZoneExtraLeftEdgeOffset-S&&_.x<=v.right+S&&(a.option||!this.selectableIsDragging(y))&&this.selectableCanAcceptDrop(y,u.DroppableDirection.Below)&&m.push({selectable:y,direction:u.DroppableDirection.Below,left:v.left,top:v.bottom,width:v.width,height:0})}}var C,E=m.filter(function(e){return e.direction===u.DroppableDirection.Above||e.direction===u.DroppableDirection.Below}),P=i.minBy(E,function(t){var r=t.selectable,n=t.top;return Math.abs(n-r.getReferencePoint(e).y)}),x=E.filter(function(e){var r=e.top;return Math.abs(r-(P?P.top:0))<=t.competingHorizontalDropZoneMinDist});if(x.length>1){x=x.filter(function(r){var n=r.selectable,o=r.left,a=r.width,i=n.getReferencePoint(e).x;return i>=o-t.leftRightLeeway&&i<=o+a+t.leftRightLeeway}),x=i.sortBy(x,function(e){return e.left});for(var T=0;T<x.length-1;T++){var O=x[T+1],M=O.selectable.getReferencePoint(e).x;if(O.left>M)break}(x=x.slice(0,T+1)).reverse()}o=i.map(x,function(e){var t=e.selectable,r=e.direction;return{store:t.props.store,direction:r}});var I,A=m.filter(function(e){return e.direction===u.DroppableDirection.Onto}),D=i.minBy(A,function(e){return e.height});D&&(E.some(function(r){var n=r.selectable.getReferencePoint(e).y;return Math.abs(r.top-n)<t.competingOntoDropZoneVerticalOffset})||(C={store:D.selectable.props.store,direction:D.direction}));var L=m.filter(function(e){return e.direction===u.DroppableDirection.Left||e.direction===u.DroppableDirection.Right}),R=i.minBy(L,function(t){var r=t.selectable.getReferencePoint(e).x;return Math.abs(t.left-r)});if(R){var B=R,j=L.filter(function(e){return Math.abs(e.left-B.left)<t.verticalDropZoneAmbiguousDist});j.length>0&&(R=i.minBy(j,function(e){return e.left}))}if(R){var V=R;E.some(function(e){return e.top>=V.top&&e.top+e.height<=V.top+V.height})||(I={store:R.selectable.props.store,direction:R.direction})}return{ontoDropZone:C,verticalDropZone:I,horizontalDropZones:o}},t.prototype.findHoverMenuTarget=function(e,r){var n=b.default.state.selectableRectMap,o=m.default.state.defaultContainer;if(o){for(var a=n.keys(),l=a.next(),s=[];!l.done;){var u=l.value,c=n.get(u);u.getContextSelectableContainer()===o&&u.props.shouldComputeHoverMenuRect&&c&&r>=c.top&&r<=c.bottom&&e>=c.left-t.hoverMaxHorizontalOffset&&e<=c.right&&s.push(u),l=a.next()}var d=i.sortBy(s,function(e){var t=n.get(e);return t?-t.left:1/0});return d.find(function(e){var t=e.getNode();if(t&&d.find(function(r){if(r!==e){var n=r.getNode();return Boolean(n&&t.contains(n))}return!1}))return!1;return!0})}},t.prototype.selectableIsDragging=function(e){for(var t=y.default.state.draggedStores;e;){if(t.indexOf(e.props.store)>=0)return!0;e=e.getContextClosestSelectable()}return!1},t.prototype.selectableCanAcceptDrop=function(e,t){var r,n,o=y.default.state.draggedStores,a=e.props.store,i=!1,l=!1;if(o.find(function(e){var t=v.default.findOutlinerItemFromStore(e);return!!t&&(r=t.props.type,i=t.props.isTopLevelItem,!0)}),_.default.state.isOpen&&!k.default.state.open)return!1;if(S.default.state.isOpen)return!1;if(t===u.DroppableDirection.Onto&&"collection"===a.getParentTable()){var c=a.getParentId();if(o.find(function(e){return Boolean(e instanceof p.default&&"collection"===e.getParentTable()&&e.getParentId()===c)}))return!1}var d=Boolean(o.find(function(e){return e.isCollectionView()}));if(d&&"collection"===a.getParentTable()&&t!==u.DroppableDirection.Onto&&"bookmarks"!==r)return!1;if(d&&a.isCollectionView()&&t===u.DroppableDirection.Onto)return!1;if(d&&a.isCollectionView()&&!a.recordStoreParent()&&t!==u.DroppableDirection.Onto)return!1;var h=v.default.findOutlinerItemFromStore(a);if(h&&(n=h.props.type,l=h.props.isTopLevelItem),n&&y.default.state.isNativeDrag)return!1;if("bookmarks"===r&&i&&("bookmarks"!==n||!l||t===u.DroppableDirection.Onto))return!1;if("bookmarks"===n&&l&&t!==u.DroppableDirection.Onto&&("bookmarks"!==r||!i))return!1;if("shared"===n&&"shared"!==r&&t!==u.DroppableDirection.Onto)return!1;if(n&&l&&t!==u.DroppableDirection.Onto&&o.find(function(e){var t=e.getType();return Boolean(!t||!f.navigableTypes[t])}))return!1;return!(n&&s.default.isMobile&&t===u.DroppableDirection.Onto&&l)&&((!o.find(function(e){return Boolean(e instanceof p.default&&e.isInlineCollectionView())})||t!==u.DroppableDirection.Left&&t!==u.DroppableDirection.Right)&&o.some(function(e){return Boolean(C.default.findCollectionTemplatePickerItemFromStore(e))})===Boolean(C.default.findCollectionTemplatePickerItemFromStore(a)))},t.verticalDropZoneMaxHorizontalOffset=200,t.hoverMaxHorizontalOffset=150,t.competingOntoDropZoneVerticalOffset=7,t.verticalDropZoneExtraLeftEdgeOffset=14,t.verticalDropZoneAmbiguousDist=20,t.competingHorizontalDropZoneMinDist=2,t.leftRightLeeway=s.default.isMobile?9999:0,t}(c.default);t.default=E},"4E30":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("wldR"),l=r("tvfY"),s=r("QcDD"),u=r("r8MX"),c=r("+fkW"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMountOrUpdate=function(){var e,t,r,n,o,i,d,p,f,h,m,y,g=s.default.state.userRootStore;if(g){var v=g.getSpaceViewStores();try{for(var b=a(v),w=b.next();!w.done;w=b.next()){var S=w.value,_=S.getBookmarkedPagesStores();try{for(var k=a(_),C=k.next();!C.done;C=k.next()){(A=C.value).getValue(),(D=A.getCollectionViewCollectionStore())&&D.getValue()}}catch(e){r={error:e}}finally{try{C&&!C.done&&(n=k.return)&&n.call(k)}finally{if(r)throw r.error}}var E=S.getSharedPagesStores();try{for(var P=a(E),x=P.next();!x.done;x=P.next()){(A=x.value).getValue(),(D=A.getCollectionViewCollectionStore())&&D.getValue()}}catch(e){o={error:e}}finally{try{x&&!x.done&&(i=P.return)&&i.call(P)}finally{if(o)throw o.error}}var T=S.getSpaceStore();if(T){c.default.getPublicSpaceData(T.id);var O=T.getPagesStores();try{for(var M=a(O),I=M.next();!I.done;I=M.next()){var A,D;(A=I.value).getValue(),(D=A.getCollectionViewCollectionStore())&&D.getValue()}}catch(e){d={error:e}}finally{try{I&&!I.done&&(p=M.return)&&p.call(M)}finally{if(d)throw d.error}}var L=T.getPermissionItems();try{for(var R=a(L),B=R.next();!B.done;B=R.next()){var j=B.value;if("user_permission"===j.type)l.default.createChildStore(g,j.user_id).getValue()}}catch(e){f={error:e}}finally{try{B&&!B.done&&(h=R.return)&&h.call(R)}finally{if(f)throw f.error}}}}}catch(t){e={error:t}}finally{try{w&&!w.done&&(t=b.return)&&t.call(b)}finally{if(e)throw e.error}}var V=u.default.state.data;if(V)try{for(var F=a(V.members),N=F.next();!N.done;N=F.next()){var U=N.value;l.default.createChildStore(g,U.userId).getValue()}}catch(e){m={error:e}}finally{try{N&&!N.done&&(y=F.return)&&y.call(F)}finally{if(m)throw m.error}}}},t}(i.default);t.default=d},"4HCU":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},l=this;Object.defineProperty(t,"__esModule",{value:!0});var s=r("LvDl"),u=r("bkwR"),c=r("P8+q"),d=r("mjq6"),p=r("tvfY"),f=r("5/h/"),h=r("nM47"),m=r("z22Z"),y=r("QcDD"),g=r("r8MX"),v=r("HTHG"),b=r("6SEd"),w=r("cBa6"),S=r("+DAh"),_=r("WLsh");t.defaultSearchDebounce=300,t.searchPages=function(e){return n(l,void 0,void 0,function(){var t,r,n,a;return o(this,function(o){switch(o.label){case 0:return t=e.query,r=e.limit,(n=y.default.state.currentSpaceStore)?t?[3,1]:[2,{results:v.getCurrentSearchablePageIds().slice(0,20),recordMap:{}}]:[2,{results:[],recordMap:{}}];case 1:return[4,u.searchPages({query:t,spaceId:n.id,limit:r})];case 2:if("failed"===(a=o.sent()).type)throw a.error;return[2,a.data];case 3:return[2]}})})},t.searchPagesWithParent=function(e){return n(l,void 0,void 0,function(){var t,r,n,a,i;return o(this,function(o){switch(o.label){case 0:return t=e.query,r=e.parentId,n=e.limit,a=e.spaceId,[4,u.searchPagesWithParent({query:t,parentId:r,limit:n,spaceId:a})];case 1:if("failed"===(i=o.sent()).type)throw i.error;return[2,i.data]}})})},t.searchCollections=function(e){return n(l,void 0,void 0,function(){var t,r,n,i,l,c;return o(this,function(o){switch(o.label){case 0:return t=e.query,r=e.limit,(n=y.default.state.currentSpaceStore)?[4,Promise.all([C(e),u.searchCollections({query:t,spaceId:n.id,limit:r})])]:[2,[]];case 1:return i=a.apply(void 0,[o.sent(),2]),l=i[0],c=i[1],[2,s.union("success"===c.type?c.data.results:[],l).slice(0,r)]}})})},t.searchUsers=function(e){return n(l,void 0,void 0,function(){var r,n,a,i;return o(this,function(o){switch(o.label){case 0:return r=e.query,[4,Promise.all([e.membersOnly?[]:k(r),t.searchSpaceUsers(r,e.membersOnly)])];case 1:return n=o.sent(),a=s.flatten(n),i=s.uniqBy(a,function(e){return e.email}),[2,i.slice(0,20)]}})})},t.searchSpaceUsers=function(e,t){return n(this,void 0,void 0,function(){var r,a,l,s,u,c,v,b,w,S,_,k=this;return o(this,function(C){switch(C.label){case 0:return(l=y.default.state.currentSpaceStore)?[4,h.updateCurrentSpace({spaceId:l.id})]:[2,[]];case 1:return C.sent(),s=g.default.state.data,u=[],s?(c=s.members.filter(function(e){return!(t&&!m.canRead(e.role))}),[4,Promise.all(c.map(function(e){return n(k,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return[4,(t=p.default.createChildStore(l,e.userId)).load()];case 1:return r.sent(),[2,t.getValue()]}})})}))]):[3,3];case 2:v=C.sent(),b=e?d.default(e,v,function(e){return f.getSearchName(e)}):v;try{for(w=i(b),S=w.next();!S.done;S=w.next())(_=S.value)&&u.push({userId:_.id,email:_.email,givenName:_.given_name,familyName:_.family_name,profilePhoto:_.profile_photo})}catch(e){r={error:e}}finally{try{S&&!S.done&&(a=w.return)&&a.call(w)}finally{if(r)throw r.error}}C.label=3;case 3:return[2,u]}})})};var k=function(e){return n(this,void 0,void 0,function(){var t,r,n;return o(this,function(o){switch(o.label){case 0:return t=_.sanitizeEmail(e),_.validateEmail(t)&&t?[4,u.findUser({email:t})]:[3,2];case 1:if("failed"===(r=o.sent()).type)throw r.error;return(n=r.data).value?[2,[{userId:n.value.value.id,email:n.value.value.email,givenName:n.value.value.given_name,familyName:n.value.value.family_name,profilePhoto:n.value.value.profile_photo}]]:[2,[{email:t}]];case 2:return[2,[]];case 3:return[2]}})})};function C(e){return n(this,void 0,void 0,function(){var t,r,n;return o(this,function(o){return t=e.query,r=e.limit,n=[],S.default.forEachRecord(function(e,o,a){if(!(n.length>=r)&&e===b.default.table&&a.value){var i=a.value;if(i){var l=w.getText(i.name);c.test(t,l)&&n.push(o)}}}),[2,n]})})}},"4NII":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("wS9/"),o=r("r8oj");t.default=function(){return!!o.default.isMobile||n.default.state.width<960}},"4QR2":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("r8oj"),l=r("t+pW"),s=r("OWVv"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return s.default({style:a({paddingTop:this.props.hasExtraPadding?10:5,paddingBottom:this.props.hasExtraPadding?10:5,paddingLeft:15,paddingRight:15,fontSize:i.default.isMobile?17:14,lineHeight:i.default.isMobile?"24px":"20px",minHeight:i.default.isMobile?45:26,color:this.theme.regularTextColor},this.props.style),left:this.props.left,leftStyle:a({width:i.default.isMobile?30:22,height:i.default.isMobile?30:22,marginRight:i.default.isMobile?12:8},this.props.leftStyle),right:this.props.right,rightStyle:a({marginLeft:12},this.props.rightStyle),alignment:this.props.alignStart?s.Alignment.Start:s.Alignment.Center,leftRightMinHeight:!1,childrenStyle:this.props.childrenStyle,children:this.props.children})},t}(l.default);t.default=u},"4VgC":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("MeYt"),u=r("zmp8"),c=r("Sb6f"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,{onClick:this.props.onClick,style:a({},t.buttonStyle,this.props.style,this.props.isFullWidth&&t.fullWidthStyle),hoveredStyle:{background:u.default.redButtonHoveredBackground},pressedStyle:{background:u.default.redButtonPressedBackground}},this.props.children)},t.buttonStyle={display:"inline-flex",alignItems:"center",whiteSpace:"nowrap",height:36,borderRadius:3,color:u.default.red,fontSize:14,lineHeight:1,paddingLeft:12,paddingRight:12,background:u.default.redButtonBackground,fontWeight:c.default.fontWeight.medium,boxShadow:"\n\t\t\t0 1px 2px rgba(15, 15, 15, 0.1),\n\t\t\tinset 0 0 0 1px "+u.default.redWithAlpha(.3)+"\n\t\t"},t.fullWidthStyle={width:"100%",justifyContent:"center"},t}(l.default);t.default=d},"4ZmC":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("tzV5"),u=r("vTDQ"),c=r("cYwG"),d=r("M64d"),p=r("AOw3"),f=r("iZLY"),h=r("r8oj"),m=r("rrJ4"),y=r("t+pW"),g=r("MBf9"),v=r("cBa6"),b=r("6rsX"),w=r("RvCr"),S=r("mF3+"),_=r("y6Dp"),k=r("H4VD"),C=r("nM47"),E=r("XDBA"),P=r("wS9/"),x=r("MeYt"),T=r("WPWl"),O=r("FmD4"),M=r("v/t1"),I=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.handleResize=function(){var e=r.stores.collectionGalleryViewStore,t=r.getGalleryCardCoverHeight(),n=r.getGalleryCardActualWidth();e.state.coverHeight!==t&&r.setCardCoverHeight(t),e.state.coverWidth!==n&&r.setCardCoverWidth(n)},r.handleResizeThrottled=l.throttle(r.handleResize,100),r.handleScrollOffsetChange=function(e){var t=r.props.collectionViewLocalStore,n=t.state.isLoading;e<u.default.incrementScrollOffset&&!n&&!t.reachedEndOfTableResults()&&s.increment({collectionViewLocalStore:t})},r.handleItemTextEsc=function(e){var t=r.props.collectionViewLocalStore.state.collectionStore,n=e.getTitleStore();n&&(v.getText(n.getValue())?b.select({store:e}):t&&g.createAndCommit(function(r){w.remove({collectionStore:t,store:e,transaction:r})}))},r.handleAddItemClick=function(){if(C.validateCanCreate()){var e=r.props.collectionViewLocalStore,t=e.state.collectionStore;if(t){var n=E.getGroupResultStores(void 0,e,t);g.createAndCommit(function(t){var r=e.state.collectionStore;if(r){var o=w.createBlockInGroup({parentStore:r,collectionViewLocalStore:e,group:void 0,results:n,insertAtStart:!1,coerce:!0,transaction:t});h.default.isMobile?k.navigateToBlock({store:o}):k.peekBlock({store:o}),_.trackCreateBlock({from:"list_view_add_item_bottom",type:"page"})}})}}},r.isSingleColumnStore=r.createComputedStore(function(){return P.default.state.width<=t.singleColumnScreenWidth}),r}return o(t,e),t.prototype.didUpdate=function(e){(e.format||{}).gallery_cover_size!==(this.props.format||{}).gallery_cover_size&&(this.setCardCoverHeight(),this.setCardCoverWidth())},t.prototype.didMount=function(){this.setCardCoverWidth(),this.setCardCoverHeight(),M.addPassiveEventListener(window,"resize",this.handleResizeThrottled)},t.prototype.willUnmount=function(){M.removePassiveEventListener(window,"resize",this.handleResizeThrottled)},t.prototype.renderComponent=function(){var e=this,t=this.props,r=t.store,n=t.collectionStore,o=t.format,l=t.paddingBottom,s=t.paddingLeft,u=t.paddingRight,h=t.isFullScreen,y=t.disabled,g=t.collectionViewLocalStore,v=t.schema,b=t.blockPropertyValueOverlayStore,w=this.stores.collectionGalleryViewStore,S=this.isSingleColumnStore.state;return d.default(function(t){return i.createElement(c.default,{onChange:e.handleScrollOffsetChange},i.createElement("div",{style:{paddingBottom:l,paddingLeft:s,paddingRight:u}},i.createElement(p.default,a({store:r,shouldShowHalo:!h,canSelect:!h,analyticsName:"list_view"},t,{style:e.getWrapStyle(),ref:function(t){return e.selectableContainer=t}}),i.createElement(f.default,{parentStore:n,collectionViewLocalStore:g,format:o,canDrag:!y&&r.canEdit(),resultProps:{schema:v,onTextEnter:e.handleItemTextEsc,onTextEsc:e.handleItemTextEsc,disabled:y,coverFormat:e.getCoverFormat(),coverAspectFormat:e.getCoverAspectFormat(),coverSizeFormat:e.getCoverSizeFormat(),coverHeight:w.state.coverHeight,coverWidth:w.state.coverWidth,shouldShowTitle:e.getTitleVisibilityFormat(),blockPropertyValueOverlayStore:b,showProperties:e.getShowProperties()},resultComponent:m.default,disabled:y,shouldShowHoverMenu:!1,group:void 0,direction:S?f.CollectionGroupDirection.Vertical:f.CollectionGroupDirection.Horizontal,belowDropZoneMargin:6,emptyDroppableSize:4,dropzoneGap:10,analyticsName:"gallery",emptyDroppableStyle:e.getEmptyDroppableStyle()}),!y&&r.canEdit()&&e.renderAddItemButton())))})},t.prototype.renderAddItemButton=function(){return i.createElement(x.default,{onClick:this.handleAddItemClick,style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,borderRadius:3,boxShadow:this.theme.regularDividerColor+" 0px 0px 0px 1px inset",minHeight:40}},i.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:-6}},S.default.plus(this.getNewItemButtonIconStyle()),i.createElement("div",{style:{color:this.theme.lightIconColor}},"New")))},t.prototype.setCardCoverHeight=function(e){var t=this.stores.collectionGalleryViewStore;t.setState(a({},t.state,{coverHeight:e||this.getGalleryCardCoverHeight()}))},t.prototype.setCardCoverWidth=function(e){var t=this.stores.collectionGalleryViewStore;t.setState(a({},t.state,{coverWidth:e||this.getGalleryCardWidth()}))},t.prototype.getShowProperties=function(){var e=this.props.format;return(e.gallery_properties?e.gallery_properties:[]).filter(function(e){return e.visible}).map(function(e){return e.property})},t.prototype.getCoverFormat=function(){var e=this.props.format;return e?e.gallery_cover:void 0},t.prototype.getCoverAspectFormat=function(){var e=this.props.format;return e?e.gallery_cover_aspect:void 0},t.prototype.getCoverSizeFormat=function(){var e=this.props.format;return e?e.gallery_cover_size:void 0},t.prototype.getTitleVisibilityFormat=function(){var e=(this.props.format||{}).gallery_title_visible;return void 0===e||e},t.prototype.getGalleryCardWidth=function(){switch((this.props.format||{}).gallery_cover_size){case"large":return T.default.card.desktop.large.width;case"small":return T.default.card.desktop.small.width;case"medium":default:return T.default.card.desktop.medium.width}},t.prototype.getGalleryCardActualWidth=function(){if(this.selectableContainer){var e=this.selectableContainer.getNode();if(e){var t=e.childNodes;if(t&&t.length>0){var r=t[1];if(r)return r.offsetWidth}}}return this.getGalleryCardWidth()},t.prototype.getGalleryCardCoverHeight=function(){return this.getGalleryCardActualWidth()*(9/16)},t.prototype.getWrapStyle=function(){return{display:"grid",position:"relative",gridTemplateColumns:"repeat(auto-fill, minmax("+(this.isSingleColumnStore.state?"100%":this.getGalleryCardWidth()+"px")+", 1fr))",gridAutoRows:"1fr",gridRowGap:16,gridColumnGap:16,borderTop:"1px solid "+this.theme.darkDividerColor,paddingTop:16}},t.prototype.getEmptyDroppableStyle=function(){return this.isSingleColumnStore.state?{position:"absolute",top:6,left:0,right:0,height:4}:{position:"absolute",top:16,bottom:0,width:4,height:"none"}},t.prototype.getNewItemButtonIconStyle=function(){return{width:14,height:14,marginLeft:-1,marginRight:6,fill:this.theme.lightIconColor}},t.stores={collectionGalleryViewStore:O.default},t.singleColumnScreenWidth=480,t}(y.default);t.default=I},"4a5t":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{showUpdateInfo:!1}},t}(r("LEzx").default);t.default=a},"4dmN":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI");r("UNSI"),r("DUpR");var i=r("BFWj"),l=r("t+pW"),s=r("ikHm"),u=r("mF3+"),c=r("r8oj"),d=r("lCCU"),p=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.handleDayPickerDayClick=function(e){r.props.onChange(e.getTime())},r.renderNavbarElement=function(e){var r=e.onPreviousClick,n=e.onNextClick;return a.createElement("div",{style:c.default.isMobile?t.mobileNavStyle:t.desktopNavStyle},a.createElement(d.default,{mobileFeedback:c.default.isMobile,icon:u.default.chevronLeft,onClick:function(){return r()}}),a.createElement(d.default,{mobileFeedback:c.default.isMobile,icon:u.default.chevronRight,onClick:function(){return n()}}))},r}return o(t,e),t.prototype.renderComponent=function(){var e=new Date(this.props.value),t=this.props.firstDayOfWeek;return a.createElement(i.default,{className:"notion-calendar-picker",numberOfMonths:1,firstDayOfWeek:t,modifiers:{value:e},showOutsideDays:!0,fixedWeeks:!0,onDayClick:this.handleDayPickerDayClick,navbarElement:this.renderNavbarElement})},t.desktopNavStyle={display:"flex",position:"absolute",top:0,right:4,zIndex:s.overlayContainer},t.mobileNavStyle={display:"flex",position:"absolute",top:-2,right:4,zIndex:s.overlayContainer},t}(l.default);t.default=p},"4jZO":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{hovered:!1,isInFrame:!1}},t}(r("LEzx").default);t.default=a},"4ngq":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("LvDl"),l=r("EZe4"),s=r("wldR"),u=r("RaQO"),c=r("7M94"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseMove=function(e){l.default({event:e,context:l.EventContext.SidebarMouseMove,callback:function(){}})},t}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("div",{className:c.overlayContainer,style:this.getContainerStyle(),onMouseMove:this.handleMouseMove},a.createElement("div",{style:{position:"relative",zIndex:0}}),this.renderOverlays())},t.prototype.renderOverlays=function(){var e=this,t=0,r=this.props.store.state.overlays;return i.map(r,function(r,n){var o=r.useCompositeLayer,l=r.render,s=r.renderEvents,c=r.zIndex;return i.isNumber(c)||(c=t),t+=1,a.createElement("div",{key:n,style:e.getOverlayStyle({zIndex:c,useCompositeLayer:o})},a.createElement(u.default,{render:l,renderEvents:s}))})},t.prototype.getContainerStyle=function(){return{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:this.props.zIndex,pointerEvents:"none",overflow:"hidden"}},t.prototype.getOverlayStyle=function(e){var t={pointerEvents:"auto",position:"relative",zIndex:e.zIndex};return e.useCompositeLayer&&(t.transform="translate3d(0, 0, 0)"),t},t}(s.default);t.default=d},"4siM":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("wldR"),c=r("yNyh"),d=r("/H8L"),p=r("Sb6f"),f=r("hvW1"),h=r("VBxf"),m=r("x5ZY"),y=r("frzs"),g=r("IULH"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){var r=t.stores.store;r.setState(a({},r.state,{loginEmail:e.target.value}))},t.handleSubmit=function(e){return i(t,void 0,void 0,function(){var t,r,n,o;return l(this,function(a){switch(a.label){case 0:return t=this.stores.store,r=t.state.loginEmail,e.target.blur(),f.display({message:"Logging in as "+r+"..."}),localStorage.clear(),sessionStorage.clear(),[4,m.loginAsUser({email:r})];case 1:return"failed"===(n=a.sent()).type?(f.close(),h.showError({error:n.error})):(o=n.data.userId,f.close(),h.showDialog({message:'Success! click "Continue" to enter account for "'+r+'".',showCancel:!1,keepFocus:!0,items:[{label:"Continue",color:"blue",onAccept:function(){y.loginAsAdmin({userId:o})}}]})),[2]}})})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.stores.store;return s.createElement("div",null,s.createElement("div",{style:t.headerStyle},"Login as User"),s.createElement("div",{style:{marginTop:12,marginBottom:4}},"User Email"),s.createElement(c.default,{value:e.state.loginEmail,onChange:this.handleChange,onSubmit:this.handleSubmit,style:{marginBottom:8}}),s.createElement(g.default,{isLarge:!0,onClick:this.handleSubmit},"Login"))},t.stores={store:d.default},t.headerStyle={fontWeight:p.default.fontWeight.bold,fontSize:18,marginTop:24},t}(u.default);t.default=v},5:function(e,t){},"5/h/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1");t.adminUser={id:"00000000-0000-0000-0000-000000000000",version:0,email:"ops@makenotion.com",admin:!0},t.isAuthedUser=function(e){return Boolean(e&&e.id)},t.getFullName=function(e,t){return void 0===t&&(t=!1),e&&e.given_name&&e.family_name?t&&e.family_name.length>0?e.given_name.trim()+" "+e.family_name[0]+".":e.given_name.trim()+" "+e.family_name.trim():e&&e.email?e.email:"Anonymous"},t.getSearchName=function(e){return e?(e.given_name||"")+" "+(e.family_name||"")+" "+(e.email||""):""},t.userAllowedEditColumns=["version","given_name","family_name","profile_photo","onboarding_completed","mobile_onboarding_completed","clipper_onboarding_completed"];var o={table:"notion_user",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,email:n.default.String,given_name:n.default.String,family_name:n.default.String,profile_photo:n.default.String,onboarding_completed:n.default.Boolean,mobile_onboarding_completed:n.default.Boolean,clipper_onboarding_completed:n.default.Boolean}};t.default=o},"57cz":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.findOutlinerItemFromStore=function(e){if(e)return this.findComponent(function(t){return t.props.store===e})},t}(r("Uv1v").default);t.default=new a},"5F/7":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("bFnu"),c=r("t+pW"),d=r("OxuQ"),p=r("bB9B"),f=r("Oy36"),h=r("HRSx"),m=r("VpIZ"),y=r("bPtJ"),g=r("LeVO"),v=r("wXH4"),b=r("r8oj"),w=r("i3uR"),S=r("gbGO"),_=r("2Y+N"),k=r("WgIs"),C=r("ox2z"),E=r("mF3+"),P=r("H4VD"),x=r("uSCg"),T=r("VBxf"),O=r("MBf9"),M=r("7M94"),I=r("lfst"),A=r("g4rC"),D=r("y6Dp"),L=r("0zNc"),R=r("bVDK"),B=r("QcDD"),j=r("/YYm"),V=r("6sah"),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registries=[I.default],t.renderActionMenuPopup=function(){var e,r={key:"section",render:function(e){return s.createElement(_.default,a({},e))},items:[{key:"Edit",render:function(e){return s.createElement(C.default,a({},e,{title:"Edit",svg:E.default.rename}))},action:t.handleEdit},{key:"Duplicate",render:function(e){return s.createElement(C.default,a({},e,{title:"Duplicate",svg:E.default.duplicate}))},action:t.handleDuplicate},{key:"Delete",render:function(e){return s.createElement(C.default,a({},e,{title:"Delete",svg:E.default.trash}))},action:t.handleDelete}]};return e=b.default.isMobile?{menuType:S.default.MenuType.ActionSheet}:{menuType:S.default.MenuType.Popup,width:200},s.createElement(S.default,a({},e),s.createElement(k.default,{initialFocus:void 0,sections:[r]}))},t.handleEdit=function(){var e=t.stores.buttonPopupStore;t.navigateToBlock(t.props.templateStore),e.reset(),D.trackCollectionTemplateAction({name:"edit"})},t.handleDuplicate=function(){return i(t,void 0,void 0,function(){var e,t,r,n,o;return l(this,function(a){return e=this.stores.buttonPopupStore,t=this.props,r=t.templateStore,n=t.collectionStore,o=O.createAndCommit(function(e){return p.duplicateCollectionTemplate({collectionStore:n,templateStore:r,transaction:e})}),this.navigateToBlock(o),e.reset(),D.trackCollectionTemplateAction({name:"duplicate"}),[2]})})},t.handleDelete=function(){return i(t,void 0,void 0,function(){var e,t,r;return l(this,function(n){switch(n.label){case 0:return e=this.props,t=e.templateStore,r=e.collectionStore,[4,T.confirmUserAction({message:"Are you sure you would like to delete this template?",acceptLabel:"Delete"})];case 1:return n.sent()?(O.createAndCommit(function(e){return p.deleteCollectionTemplate({collectionStore:r,templateStore:t,transaction:e})}),D.trackCollectionTemplateAction({name:"delete"}),[2]):[2]}})})},t.handleMouseMove=function(){L.default.state.isDragging||t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t.getRecordValue=function(e,r){return y.createRecordStore(t.props.collectionStore,e,r).getValue()},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.templateStore,r=e.isMobile,n=e.isOverlay,o=e.focused,i=e.locked,l=this.stores,u=l.mouseStore,c=l.buttonPopupStore,p=!i&&(u.state.mouseEntered||c.state.open||r||n),y=t.getValue();if(y){var g=m.getRecordIcon({table:h.default.table,value:y,getRecordValue:this.getRecordValue});return s.createElement(R.default,{format:"custom_template",isOverlay:n,locked:this.props.locked,icon:s.createElement(f.default,{disabled:!0,icon:g,isEmptyPage:t.isEmptyPage(),size:b.default.isMobile&&n?24:20,isLarge:!n,style:a({},!n&&{pointerEvents:"none",marginRight:10}),pageIconStyle:a({},!n&&{fill:this.theme.lightIconColor})}),title:s.createElement(d.default,{store:t}),onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,right:p&&this.renderActionMenuButton(),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,focused:o})}},t.prototype.renderActionMenuButton=function(){var e=this,t=this.props,r=t.isMobile,n=t.isOverlay,o=this.stores.buttonPopupStore;return s.createElement(g.default,{renderTooltip:function(){return"Edit this template"},delayThreshold:300,render:function(t){return s.createElement(w.default,{popupType:r?v.default.PopupType.SlideUp:v.default.PopupType.Popup,placementToOrigin:w.default.Placement.Right,originGap:12,buttonPopupStore:o,renderOrigin:function(e){return s.createElement(V.default,a({className:r||n?void 0:M.fadeIn,isMobile:r&&n,style:a({},!n&&{marginRight:0})},x.default(t,e)))},render:e.renderActionMenuPopup})}})},t.prototype.navigateToBlock=function(e){var t=B.default.state.currentBlockStore,r=t?j.default({store:t,peekViewBlockId:e.id,fullyQualified:!1}):j.default({store:e,fullyQualified:!1});this.props.overrideLinkClick?this.props.overrideLinkClick(r):P.navigate({url:r})},t.stores={mouseStore:u.default,buttonPopupStore:A.default},t}(c.default);t.default=F},"5FB0":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("r8oj"),i=r("S26v"),l=r("O6GF"),s=r("5xGH"),u={400:"Invalid request.",401:"Not authorized."};t.default=function(e){return n(this,void 0,void 0,function(){var t,r,n,c,d,p,f,h,m;return o(this,function(o){switch(o.label){case 0:void 0===e.json&&(e.json=!0),r={},"GET"!==e.method&&e.json&&(r["Content-Type"]="application/json"),e.data&&(n=JSON.stringify(e.data)),c=e.url,d={method:e.method,credentials:"same-origin",headers:r,body:n},a.default.isReactNative&&(c=i.addQueryParams(c,((t={})[l.bodyQueryParamKey]=n,t)),delete d.body),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(c,d)];case 2:return p=o.sent(),[3,4];case 3:return o.sent(),[2,{type:"failed",offline:!0,status:0,error:new s.HttpOfflineError({url:c,body:e.data}),body:void 0}];case 4:if(200!==p.status)return[3,15];if(!e.json)return[3,9];f=void 0,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,p.json()];case 6:return f=o.sent(),[3,8];case 7:return o.sent(),[2,{type:"failed",offline:!1,status:p.status,error:new s.JSONParseError("Unable to parse http response",{data:{url:c}}),body:n}];case 8:return[2,{type:"success",status:p.status,data:f}];case 9:f=void 0,o.label=10;case 10:return o.trys.push([10,12,,13]),[4,p.text()];case 11:return f=o.sent(),[3,13];case 12:return o.sent(),[3,13];case 13:return[2,{type:"success",status:p.status,data:f}];case 14:return[3,20];case 15:h=void 0,o.label=16;case 16:return o.trys.push([16,18,,19]),[4,p.json()];case 17:return h=o.sent(),[3,19];case 18:return o.sent(),[3,19];case 19:return m=h&&h.message||u[p.status]||"Something went wrong.",[2,{type:"failed",offline:0===p.status,status:p.status,error:new s.HttpError(m,{url:c,body:e.data}),body:h}];case 20:return[2]}})})}},"5Faa":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("n8tN"),l=r("KvU1"),s=r("0lqH"),u=r("fbat"),c=r("/YYm"),d=r("H4VD"),p=r("q1tI"),f=r("QcDD"),h=r("HTHG"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderColumn=function(e,r,n){var o=t.props,i=o.store,l=o.onPropertyTab,u=o.onPropertyUntab,c=o.onPropertyEnter,d=o.onPropertyClick,p=o.onPropertyEsc,f=o.onPropertyBgClick,h=o.onOpenProperty,m=o.schema,y=o.collectionViewStore,g=o.onPropertyContextMenu,v=o.disabled,b=o.blockPropertyValueOverlayStore,w=o.locked,S=r===n.length-1,_=e.width,k=e.property,C=Boolean(y.getFormat().table_wrap);return a.createElement(s.default,{key:k,store:i,property:k,schema:m,disabled:v||!t.canEdit(),locked:w,width:_,format:s.BlockPropertyValueFormat.Table,onTab:l,onUntab:u,onEnter:c,onClick:d,onEsc:p,onBgClick:f,onOpenProperty:h,forceMouseEntered:"title"===k&&t.canEdit()?t.isShowingHoverMenu.state:void 0,tableWrap:C,onContextMenu:g,isLast:S,blockPropertyValueOverlayStore:b})},t.isShowingHoverMenu=t.createComputedStore(function(){var e=t.props.store,r=u.default.state;return Boolean(!h.menuIsOpen()&&r.currentStore===e)}),t}return o(t,e),t.prototype.activate=function(){var e=f.default.state.currentBlockStore;if(e){var t=c.default({store:e,fullyQualified:!1,peekViewBlockId:this.props.store.id});d.navigate({url:t})}},t.prototype.renderPersisted=function(){var e=this.props,t=e.propertyFormats,r=e.locked;return a.createElement(p.Fragment,null,t.map(this.renderColumn),this.canEdit()&&!r&&this.renderAddColumn())},t.prototype.renderAddColumn=function(){return a.createElement("div",{style:l.default.addColumnStyle})},t}(i.default);t.default=m},"5JRq":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("r8oj"),o=r("A9TN"),a=r("VMJe"),i=r("imne"),l=r("enHn"),s=r("fke4"),u=r("oqYu"),c=r("oWRT"),d=r("bK/N");function p(e){return a.isEqualVersion(e,m())}t.installAppJsUpdate=function(e){var t=e.url,r=e.version;e.broadcast&&d.appUpdateReload.emit(r),i.default.setState({electronUpdate:i.default.state.electronUpdate,appUpdate:void 0}),r&&h(r),p(r)||(n.default.isReactNative?u.showSplashscreen():n.default.isCordova&&c.showSplashscreen(),t!==window.location.href?window.location.href=t:window.location.reload())},t.alreadyOnLatestAppJs=p,t.shouldUpdateOnNavigate=function(e){return!!e&&"ready"===e.state&&!!l.default.isEmpty()};var f="lastKnownAppJsVersion";function h(e){s.default.set(f,e)}function m(){return a.parseVersion(o.default.version)}t.setLastKnownAppJsVersion=h,t.getLastKnownAppJsVersion=function(){var e=s.default.get(f);if(e)return e;var t=a.parseVersion(o.default.version);return s.default.set(f,t),t},t.getCurrentJSVersion=m},"5Nka":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={appleAppSiteAssociation:"/apple-app-site-association",front:{about:{about01Png:"/front/about/about-01.png",about02Png:"/front/about/about-02.png",about03Png:"/front/about/about-03.png",about04Png:"/front/about/about-04.png",about05Png:"/front/about/about-05.png",about06Png:"/front/about/about-06.png",about07Png:"/front/about/about-07.png",about08Png:"/front/about/about-08.png",about09Png:"/front/about/about-09.png",people:{aydinPng:"/front/about/people/aydin.png",eliPng:"/front/about/people/eli.png",ivanPng:"/front/about/people/ivan.png",joshPng:"/front/about/people/josh.png",mattPng:"/front/about/people/matt.png",mikePng:"/front/about/people/mike.png",navalPng:"/front/about/people/naval.png",ramPng:"/front/about/people/ram.png",shanaPng:"/front/about/people/shana.png",shelbyPng:"/front/about/people/shelby.png",simonPng:"/front/about/people/simon.png",tobyPng:"/front/about/people/toby.png"}},desktop:{desktopAppScreenshotMacPng:"/front/desktop/desktop-app-screenshot-mac.png",desktopAppScreenshotWindowsPng:"/front/desktop/desktop-app-screenshot-windows.png",desktopHeroIllustrationPng:"/front/desktop/desktop-hero-illustration.png"},evernote:{advancedFeatures:{infiniteHierarchyV2Gif:"/front/evernote/advanced-features/infinite-hierarchy-v2.gif",tablesV2Png:"/front/evernote/advanced-features/tables-v2.png"},carouselDesktop:{"01NotesPng":"/front/evernote/carousel-desktop/01-notes.png","02GalleryPng":"/front/evernote/carousel-desktop/02-gallery.png","03BookmarksPng":"/front/evernote/carousel-desktop/03-bookmarks.png","04ResearchPng":"/front/evernote/carousel-desktop/04-research.png","05RemindersPng":"/front/evernote/carousel-desktop/05-reminders.png"},carouselMobile:{"01NotesPng":"/front/evernote/carousel-mobile/01-notes.png","02GalleryPng":"/front/evernote/carousel-mobile/02-gallery.png","03BookmarksPng":"/front/evernote/carousel-mobile/03-bookmarks.png","04ResearchPng":"/front/evernote/carousel-mobile/04-research.png","05RemindersPng":"/front/evernote/carousel-mobile/05-reminders.png"},evernoteImporterGif:"/front/evernote/evernote-importer.gif",heroIllustrationPng:"/front/evernote/hero-illustration.png",pricing:{evernotePng:"/front/evernote/pricing/evernote.png",notionPng:"/front/evernote/pricing/notion.png"},teamFeaturesPng:"/front/evernote/team-features.png",testimonials:{googlePlayPng:"/front/evernote/testimonials/google-play.png",theVergePng:"/front/evernote/testimonials/the-verge.png",theWallStreetJournalPng:"/front/evernote/testimonials/the-wall-street-journal.png"},webClipper:{desktopPng:"/front/evernote/web-clipper/desktop.png",mobilePng:"/front/evernote/web-clipper/mobile.png"}},featurePlaceholderPng:"/front/feature-placeholder.png",footerMacPng:"/front/footer-mac.png",footerMobilePng:"/front/footer-mobile.png",footerWebPng:"/front/footer-web.png",iphoneFramePng:"/front/iphone-frame.png",mobile:{heroMobilePng:"/front/mobile/hero-mobile.png",mobileBlockTypesPng:"/front/mobile/mobile-block-types.png",mobileBoardAndroidPng:"/front/mobile/mobile-board-android.png",mobileBoardPng:"/front/mobile/mobile-board.png",mobileCalendarAndroidPng:"/front/mobile/mobile-calendar-android.png",mobileCalendarPng:"/front/mobile/mobile-calendar.png",mobileCollaboratePng:"/front/mobile/mobile-collaborate.png",mobileEditorGif:"/front/mobile/mobile-editor.gif",mobileHeroAndroidGif:"/front/mobile/mobile-hero-android.gif",mobileHeroGif:"/front/mobile/mobile-hero.gif",mobileOutlineGif:"/front/mobile/mobile-outline.gif",mobileSyncIosPng:"/front/mobile/mobile-sync-ios.png",mobileSyncMacOnboardingPng:"/front/mobile/mobile-sync-mac-onboarding.png",mobileSyncMacPng:"/front/mobile/mobile-sync-mac.png",mobileTableAndroidPng:"/front/mobile/mobile-table-android.png",mobileTablePng:"/front/mobile/mobile-table.png"},pricing:{pricingEnterprisePng:"/front/pricing/pricing-enterprise.png",pricingEvernotePng:"/front/pricing/pricing-evernote.png",pricingFreePng:"/front/pricing/pricing-free.png",pricingPersonalPng:"/front/pricing/pricing-personal.png",pricingTeamPng:"/front/pricing/pricing-team.png"},product:{competitorsIllustrationPng:"/front/product/competitors-illustration.png",personalFeatureDndGif:"/front/product/personal-feature-dnd.gif",personalFeatureFocusPng:"/front/product/personal-feature-focus.png",personalFeatureMarkdownPng:"/front/product/personal-feature-markdown.png",personalFeatureOfflinePng:"/front/product/personal-feature-offline.png",personalFeaturesIllustrationPng:"/front/product/personal-features-illustration.png",teamFeatureDocsPng:"/front/product/team-feature-docs.png",teamFeatureIntegrationsPng:"/front/product/team-feature-integrations.png",teamFeatureSlackPng:"/front/product/team-feature-slack.png",teamFeatureWikiPng:"/front/product/team-feature-wiki.png",teamFeaturesIllustrationPng:"/front/product/team-features-illustration.png",templatesIllustrationPng:"/front/product/templates-illustration.png",testimonialLogoIntercomPng:"/front/product/testimonial-logo-intercom.png",testimonialLogoSlackPng:"/front/product/testimonial-logo-slack.png",testimonialLogoWsjPng:"/front/product/testimonial-logo-wsj.png",useCaseIllustrationDatabasePng:"/front/product/use-case-illustration-database.png",useCaseIllustrationNoteAltPng:"/front/product/use-case-illustration-note-alt.png",useCaseIllustrationNotePng:"/front/product/use-case-illustration-note.png",useCaseIllustrationTaskPng:"/front/product/use-case-illustration-task.png",useCaseIllustrationWikiPng:"/front/product/use-case-illustration-wiki.png",useCaseLogos1Png:"/front/product/use-case-logos-1.png",useCaseLogos2Png:"/front/product/use-case-logos-2.png",useCaseLogos3Png:"/front/product/use-case-logos-3.png",useCaseLogos4Png:"/front/product/use-case-logos-4.png",useCaseScreenshotDatabaseGif:"/front/product/use-case-screenshot-database.gif",useCaseScreenshotDatabaseMobilePng:"/front/product/use-case-screenshot-database-mobile.png",useCaseScreenshotDatabasePng:"/front/product/use-case-screenshot-database.png",useCaseScreenshotNoteGif:"/front/product/use-case-screenshot-note.gif",useCaseScreenshotNoteMobilePng:"/front/product/use-case-screenshot-note-mobile.png",useCaseScreenshotNotePng:"/front/product/use-case-screenshot-note.png",useCaseScreenshotTaskGif:"/front/product/use-case-screenshot-task.gif",useCaseScreenshotTaskMobilePng:"/front/product/use-case-screenshot-task-mobile.png",useCaseScreenshotTaskPng:"/front/product/use-case-screenshot-task.png",useCaseScreenshotWikiGif:"/front/product/use-case-screenshot-wiki.gif",useCaseScreenshotWikiMobilePng:"/front/product/use-case-screenshot-wiki-mobile.png",useCaseScreenshotWikiPng:"/front/product/use-case-screenshot-wiki.png"},toolsAndCraft:{andy:{andy01Jpg:"/front/tools-and-craft/andy/andy-01.jpg",andy02Jpg:"/front/tools-and-craft/andy/andy-02.jpg",andy03Jpg:"/front/tools-and-craft/andy/andy-03.jpg",andy04Jpg:"/front/tools-and-craft/andy/andy-04.jpg",andy05Jpg:"/front/tools-and-craft/andy/andy-05.jpg",andy06Jpg:"/front/tools-and-craft/andy/andy-06.jpg",andy07Jpg:"/front/tools-and-craft/andy/andy-07.jpg",andy08Jpg:"/front/tools-and-craft/andy/andy-08.jpg",andy09Jpg:"/front/tools-and-craft/andy/andy-09.jpg",andy10Jpg:"/front/tools-and-craft/andy/andy-10.jpg",andy11Jpg:"/front/tools-and-craft/andy/andy-11.jpg",andyIllustrationPng:"/front/tools-and-craft/andy/andy-illustration.png",andyPreviewPng:"/front/tools-and-craft/andy/andy-preview.png"},devonPng:"/front/tools-and-craft/devon.png",stu:{stu11Jpg:"/front/tools-and-craft/stu/STU-11.JPG",stu14Jpg:"/front/tools-and-craft/stu/STU-14.JPG",stu15Jpg:"/front/tools-and-craft/stu/STU-15.JPG",stu17Jpg:"/front/tools-and-craft/stu/STU-17.JPG",stu18Jpg:"/front/tools-and-craft/stu/STU-18.JPG",stu1Jpg:"/front/tools-and-craft/stu/STU-1.JPG",stu22Jpg:"/front/tools-and-craft/stu/STU-22.JPG",stu23Jpg:"/front/tools-and-craft/stu/STU-23.JPG",stu25Jpg:"/front/tools-and-craft/stu/STU-25.JPG",stu26Jpg:"/front/tools-and-craft/stu/STU-26.JPG",stu3Jpg:"/front/tools-and-craft/stu/STU-3.JPG",stuIllustrationPng:"/front/tools-and-craft/stu/stu-illustration.png",stuPreviewPng:"/front/tools-and-craft/stu/stu-preview.png"},ted:{declarationGif:"/front/tools-and-craft/ted/declaration.gif",tedIa12Jpg:"/front/tools-and-craft/ted/TED_IA-12.JPG",tedIa13Jpg:"/front/tools-and-craft/ted/TED_IA-13.JPG",tedIa14Jpg:"/front/tools-and-craft/ted/TED_IA-14.JPG",tedIa15Jpg:"/front/tools-and-craft/ted/TED_IA-15.JPG",tedIa16Jpg:"/front/tools-and-craft/ted/TED_IA-16.JPG",tedIa20Jpg:"/front/tools-and-craft/ted/TED_IA-20.JPG",tedIa22Jpg:"/front/tools-and-craft/ted/TED_IA-22.JPG",tedIa23Jpg:"/front/tools-and-craft/ted/TED_IA-23.JPG",tedIa24Jpg:"/front/tools-and-craft/ted/TED_IA-24.JPG",tedIa26Jpg:"/front/tools-and-craft/ted/TED_IA-26.JPG",tedIa2Jpg:"/front/tools-and-craft/ted/TED_IA-2.JPG",tedIa6Jpg:"/front/tools-and-craft/ted/TED_IA-6.JPG",tedIa9Jpg:"/front/tools-and-craft/ted/TED_IA-9.JPG",tedIllustrationPng:"/front/tools-and-craft/ted/ted-illustration.png",tedIv1Jpg:"/front/tools-and-craft/ted/TED_IV-1.JPG",tedPreviewPng:"/front/tools-and-craft/ted/ted-preview.png",vannevarBushJpg:"/front/tools-and-craft/ted/Vannevar_Bush.jpg",xanaduSchematicPng:"/front/tools-and-craft/ted/Xanadu_Schematic.png"}},tweetsEvernotePng:"/front/tweets-evernote.png",tweetsPng:"/front/tweets.png",webClipper:{desktop01Png:"/front/web-clipper/desktop-01.png",desktop02Png:"/front/web-clipper/desktop-02.png",desktop03Png:"/front/web-clipper/desktop-03.png",desktop04Png:"/front/web-clipper/desktop-04.png",favoriteWebsitesPng:"/front/web-clipper/favorite-websites.png",logos:{instagramPng:"/front/web-clipper/logos/instagram.png",morePng:"/front/web-clipper/logos/more.png",nytimesPng:"/front/web-clipper/logos/nytimes.png",pinterestPng:"/front/web-clipper/logos/pinterest.png",twitterPng:"/front/web-clipper/logos/twitter.png",wikipediaPng:"/front/web-clipper/logos/wikipedia.png"},shareSheetAfterPng:"/front/web-clipper/share-sheet-after.png",shareSheetBeforePng:"/front/web-clipper/share-sheet-before.png",webClipperHeroIllustrationPng:"/front/web-clipper/web-clipper-hero-illustration.png",wikipediaScreenshotPng:"/front/web-clipper/wikipedia-screenshot.png"}},images:{aggregations:{averagePng:"/images/aggregations/average.13d131c7.png",checkedPng:"/images/aggregations/checked.559fd230.png",countPng:"/images/aggregations/count.0229e394.png",countValuesPng:"/images/aggregations/countValues.81e24549.png",dateRangePng:"/images/aggregations/dateRange.2219b54f.png",earliestDatePng:"/images/aggregations/earliestDate.1854fe3c.png",emptyPng:"/images/aggregations/empty.5a8e8976.png",latestDatePng:"/images/aggregations/latestDate.4b297359.png",maxPng:"/images/aggregations/max.a6857201.png",medianPng:"/images/aggregations/median.178364f3.png",minPng:"/images/aggregations/min.ea5e7a21.png",notEmptyPng:"/images/aggregations/notEmpty.f8f86445.png",percentCheckedPng:"/images/aggregations/percentChecked.4bc2f766.png",percentEmptyPng:"/images/aggregations/percentEmpty.8e070da8.png",percentNotEmptyPng:"/images/aggregations/percentNotEmpty.c3ac1c83.png",percentUncheckedPng:"/images/aggregations/percentUnchecked.1df5ea48.png",rangePng:"/images/aggregations/range.68f97557.png",sumPng:"/images/aggregations/sum.e0ad6a7e.png",uncheckedPng:"/images/aggregations/unchecked.e4120d79.png",uniquePng:"/images/aggregations/unique.05e3efe4.png"},blocks:{audioPng:"/images/blocks/audio.946c8e51.png",boardInlinePng:"/images/blocks/board-inline.016bdff6.png",boardPng:"/images/blocks/board.a4ec9610.png",breadcrumbPng:"/images/blocks/breadcrumb.43774c17.png",bulletedListPng:"/images/blocks/bulleted-list.0e87e917.png",calendarInlinePng:"/images/blocks/calendar-inline.e59a1b6b.png",calendarPng:"/images/blocks/calendar.24f41568.png",codePng:"/images/blocks/code.a8b201f4.png",codepenPng:"/images/blocks/codepen.d14b682c.png",datePng:"/images/blocks/date.b37fcef7.png",dividerPng:"/images/blocks/divider.210d0faf.png",drivePng:"/images/blocks/drive.a97c62ee.png",embedPng:"/images/blocks/embed.6a481331.png",figmaPng:"/images/blocks/figma.8742808d.png",filePng:"/images/blocks/file.4fade042.png",framerPng:"/images/blocks/framer.a53e5809.png",galleryInlinePng:"/images/blocks/gallery-inline.e7e1f95b.png",galleryPng:"/images/blocks/gallery.a83d6324.png",githubPng:"/images/blocks/github.9565b324.png",headerPng:"/images/blocks/header.57a7576a.png",imagePng:"/images/blocks/image.33d80a98.png",invisionPng:"/images/blocks/invision.73f1400b.png",linkPng:"/images/blocks/link.dd415f7c.png",listInlinePng:"/images/blocks/list-inline.9150ee55.png",listPng:"/images/blocks/list.daadba0c.png",loomPng:"/images/blocks/loom.a1ea2f27.png",mapsPng:"/images/blocks/maps.b1caf3fd.png",mentionDatePng:"/images/blocks/mention-date.adf0aaa0.png",mentionPagePng:"/images/blocks/mention-page.b360b9b2.png",mentionPersonPng:"/images/blocks/mention-person.6f6b2d65.png",numberedListPng:"/images/blocks/numbered-list.0406affe.png",pagePng:"/images/blocks/page.83b0bf31.png",pdfPng:"/images/blocks/pdf.578d0666.png",quotePng:"/images/blocks/quote.b048df62.png",subheaderPng:"/images/blocks/subheader.9aab4769.png",subsubheaderPng:"/images/blocks/subsubheader.d0ed0bb3.png",tableInlinePng:"/images/blocks/table-inline.4c70a4ba.png",tableOfContentsPng:"/images/blocks/table-of-contents.e9cdeac5.png",tablePng:"/images/blocks/table.1659c09f.png",templateButtonPng:"/images/blocks/template-button.c34f1ab2.png",texPng:"/images/blocks/tex.b0aa14b2.png",textPng:"/images/blocks/text.9fdb530b.png",toDoPng:"/images/blocks/to-do.f8d20542.png",togglePng:"/images/blocks/toggle.5e462b2a.png",twitterPng:"/images/blocks/twitter.b23648c4.png",typeformPng:"/images/blocks/typeform.5de11982.png",videoPng:"/images/blocks/video.ceeec2c7.png",webBookmarkPng:"/images/blocks/web-bookmark.82a15180.png"},chromeMacTopPng:"/images/chrome-mac-top.png",chromeMobileAndroidPng:"/images/chrome-mobile-android.png",chromeMobilePng:"/images/chrome-mobile.png",chromeSafariTopPng:"/images/chrome-safari-top.png",chromeSlackTopPng:"/images/chrome-slack-top.png",faviconDevIco:"/images/favicon-dev.ico",faviconIco:"/images/favicon.ico",faviconLocalIco:"/images/favicon-local.ico",faviconPng:"/images/favicon.png",framePlaceholderSvg:"/images/frame-placeholder.svg",gifs:{followPageGif:"/images/gifs/follow-page.gif",mentionsGif:"/images/gifs/mentions.gif"},icons:{alarmClockPng:"/images/icons/alarmClock.4e200255.png",boardPng:"/images/icons/board.44c6afcc.png",checkboxPng:"/images/icons/checkbox.3e146845.png",createdAtPng:"/images/icons/created-at.0fafab6c.png",createdByPng:"/images/icons/created-by.13285574.png",datePng:"/images/icons/date.f30a62a4.png",emailPng:"/images/icons/email.749bd8b2.png",filePng:"/images/icons/file.e2b311d8.png",formulaPng:"/images/icons/formula.d5760981.png",historyForwardPng:"/images/icons/history-forward.f6f26f20.png",multipleSelectPng:"/images/icons/multiple-select.5d48b805.png",numberPng:"/images/icons/number.c473697c.png",pagePng:"/images/icons/page.b826e829.png",personPng:"/images/icons/person.f9ff98c8.png",phoneNumberPng:"/images/icons/phone-number.7908ec14.png",relationPng:"/images/icons/relation.a192c73f.png",selectPng:"/images/icons/select.8647c6ee.png",speechBubblePng:"/images/icons/speech-bubble.ed13738b.png",tablePng:"/images/icons/table.4fb956bd.png",textPng:"/images/icons/text.6b26bc82.png",titlePng:"/images/icons/title.ce638437.png",todoDonePng:"/images/icons/todo-done.baca55df.png",todoPng:"/images/icons/todo.ed420552.png",unknownTypePng:"/images/icons/unknown-type.b3a62194.png",urlPng:"/images/icons/url.8a405116.png"},import:{asanaPng:"/images/import/asana.png",dropboxPaperPng:"/images/import/dropbox-paper.png",evernotePng:"/images/import/evernote.png",googleDocsPng:"/images/import/google-docs.png",quipPng:"/images/import/quip.png",trelloPng:"/images/import/trello.png",wordPng:"/images/import/word.png",workflowyPng:"/images/import/workflowy.png"},invitePng:"/images/invite.png",inviteuiPng:"/images/inviteui.png",loadingSpinnerSvg:"/images/loading-spinner.4dc19970.svg",loadingSpinnerWhiteSvg:"/images/loading-spinner-white.6909ddaa.svg",logo642XPng:"/images/logo_64@2x.png",logoForStripePng:"/images/logo-for-stripe.png",logoGoogleOauthPng:"/images/logo-google-oauth.png",logoIosPng:"/images/logo-ios.png",metaEvernotePng:"/images/meta-evernote.png",metaPng:"/images/meta.png",metaReferralPng:"/images/meta-referral.png",metaWebClipperPng:"/images/meta-web-clipper.png",notionLogoPng:"/images/notion-logo.64ce0d00.png",pageCover:{gradients10Jpg:"/images/page-cover/gradients_10.jpg",gradients11Jpg:"/images/page-cover/gradients_11.jpg",gradients1Png:"/images/page-cover/gradients_1.png",gradients2Png:"/images/page-cover/gradients_2.png",gradients3Png:"/images/page-cover/gradients_3.png",gradients4Png:"/images/page-cover/gradients_4.png",gradients5Png:"/images/page-cover/gradients_5.png",gradients6Png:"/images/page-cover/gradients_6.png",gradients7Png:"/images/page-cover/gradients_7.png",gradients8Png:"/images/page-cover/gradients_8.png",gradients9Png:"/images/page-cover/gradients_9.png",metArnoldBocklin1880Jpg:"/images/page-cover/met_arnold_bocklin_1880.jpg",metBruegel1565Jpg:"/images/page-cover/met_bruegel_1565.jpg",metCamillePissarro1896Jpg:"/images/page-cover/met_camille_pissarro_1896.jpg",metCanaletto1720Jpg:"/images/page-cover/met_canaletto_1720.jpg",metCezanne1890Jpg:"/images/page-cover/met_cezanne_1890.jpg",metEdgarDegas1874Jpg:"/images/page-cover/met_edgar_degas_1874.jpg",metEmanuelLeutzeJpg:"/images/page-cover/met_emanuel_leutze.jpg",metFitzHenryLaneJpg:"/images/page-cover/met_fitz_henry_lane.jpg",metFredericEdwinChurch1871Jpg:"/images/page-cover/met_frederic_edwin_church_1871.jpg",metGeorgesSeurat1884Jpg:"/images/page-cover/met_georges_seurat_1884.jpg",metGerome1890Jpg:"/images/page-cover/met_gerome_1890.jpg",metGoya1789Jpg:"/images/page-cover/met_goya_1789.jpg",metHenriRousseau1907Jpg:"/images/page-cover/met_henri_rousseau_1907.jpg",metHenriTl1892Jpg:"/images/page-cover/met_henri_tl_1892.jpg",metHenryLerolle1885Jpg:"/images/page-cover/met_henry_lerolle_1885.jpg",metHoracePippinJpg:"/images/page-cover/met_horace_pippin.jpg",metJeanBeraudJpg:"/images/page-cover/met_jean_beraud.jpg",metJohnSingerSargentMoroccoJpg:"/images/page-cover/met_john_singer_sargent_morocco.jpg",metJosephHidley1870Jpg:"/images/page-cover/met_joseph_hidley_1870.jpg",metJulesTavernier1878Jpg:"/images/page-cover/met_jules_tavernier_1878.jpg",metKlimt1912Jpg:"/images/page-cover/met_klimt_1912.jpg",metPaulSignacJpg:"/images/page-cover/met_paul_signac.jpg",metSilkKashanCarpetJpg:"/images/page-cover/met_silk_kashan_carpet.jpg",metTerracottaFuneraryPlaqueJpg:"/images/page-cover/met_terracotta_funerary_plaque.jpg",metTheUnicornInCaptivityJpg:"/images/page-cover/met_the_unicorn_in_captivity.jpg",metVincentVanGoghCradleJpg:"/images/page-cover/met_vincent_van_gogh_cradle.jpg",metVincentVanGoghGinouxJpg:"/images/page-cover/met_vincent_van_gogh_ginoux.jpg",metVincentVanGoghIrisesJpg:"/images/page-cover/met_vincent_van_gogh_irises.jpg",metVincentVanGoghOleandersJpg:"/images/page-cover/met_vincent_van_gogh_oleanders.jpg",metWilliamMorris1875Jpg:"/images/page-cover/met_william_morris_1875.jpg",metWilliamMorris1877WillowJpg:"/images/page-cover/met_william_morris_1877_willow.jpg",metWilliamMorris1878Jpg:"/images/page-cover/met_william_morris_1878.jpg",metWilliamTurner1835Jpg:"/images/page-cover/met_william_turner_1835.jpg",metWinslowHomerMaineCoastJpg:"/images/page-cover/met_winslow_homer_maine_coast.jpg",nasaBruceMccandlessSpacewalkJpg:"/images/page-cover/nasa_bruce_mccandless_spacewalk.jpg",nasaBuzzAldrinOnTheMoonJpg:"/images/page-cover/nasa_buzz_aldrin_on_the_moon.jpg",nasaCarinaNebulaJpg:"/images/page-cover/nasa_carina_nebula.jpg",nasaEagleInLunarOrbitJpg:"/images/page-cover/nasa_eagle_in_lunar_orbit.jpg",nasaEarthGridJpg:"/images/page-cover/nasa_earth_grid.jpg",nasaEvaDuringSkylab3Jpg:"/images/page-cover/nasa_eva_during_skylab_3.jpg",nasaFingerprintsOfWaterOnTheSandJpg:"/images/page-cover/nasa_fingerprints_of_water_on_the_sand.jpg",nasaGreatSandyDesertAustraliaJpg:"/images/page-cover/nasa_great_sandy_desert_australia.jpg",nasaIbmType704Jpg:"/images/page-cover/nasa_ibm_type_704.jpg",nasaMultiAxisGimbleRigJpg:"/images/page-cover/nasa_multi-axis_gimble_rig.jpg",nasaNewYorkCityGridJpg:"/images/page-cover/nasa_new_york_city_grid.jpg",nasaOrionNebulaJpg:"/images/page-cover/nasa_orion_nebula.jpg",nasaReducedGravityWalkingSimulatorJpg:"/images/page-cover/nasa_reduced_gravity_walking_simulator.jpg",nasaRobertStewartSpacewalk2Jpg:"/images/page-cover/nasa_robert_stewart_spacewalk_2.jpg",nasaRobertStewartSpacewalkJpg:"/images/page-cover/nasa_robert_stewart_spacewalk.jpg",nasaSpaceShuttleChallengerJpg:"/images/page-cover/nasa_space_shuttle_challenger.jpg",nasaSpaceShuttleColumbiaAndSunriseJpg:"/images/page-cover/nasa_space_shuttle_columbia_and_sunrise.jpg",nasaSpaceShuttleColumbiaJpg:"/images/page-cover/nasa_space_shuttle_columbia.jpg",nasaTheBlueMarbleJpg:"/images/page-cover/nasa_the_blue_marble.jpg",nasaTimPeakeSpacewalkJpg:"/images/page-cover/nasa_tim_peake_spacewalk.jpg",nasaTransonicTunnelJpg:"/images/page-cover/nasa_transonic_tunnel.jpg",nasaWrightsFirstFlightJpg:"/images/page-cover/nasa_wrights_first_flight.jpg",rijksmuseumAvercamp1608Jpg:"/images/page-cover/rijksmuseum_avercamp_1608.jpg",rijksmuseumAvercamp1620Jpg:"/images/page-cover/rijksmuseum_avercamp_1620.jpg",rijksmuseumClaesz1628Jpg:"/images/page-cover/rijksmuseum_claesz_1628.jpg",rijksmuseumJanLievens1627Jpg:"/images/page-cover/rijksmuseum_jan_lievens_1627.jpg",rijksmuseumJansz1636Jpg:"/images/page-cover/rijksmuseum_jansz_1636.jpg",rijksmuseumJansz1637Jpg:"/images/page-cover/rijksmuseum_jansz_1637.jpg",rijksmuseumJansz1641Jpg:"/images/page-cover/rijksmuseum_jansz_1641.jpg",rijksmuseumJansz1649Jpg:"/images/page-cover/rijksmuseum_jansz_1649.jpg",rijksmuseumMignons1660Jpg:"/images/page-cover/rijksmuseum_mignons_1660.jpg",rijksmuseumRembrandt1642Jpg:"/images/page-cover/rijksmuseum_rembrandt_1642.jpg",rijksmuseumVermeerTheMilkmaidJpg:"/images/page-cover/rijksmuseum_vermeer_the_milkmaid.jpg",solidBeigePng:"/images/page-cover/solid_beige.png",solidBluePng:"/images/page-cover/solid_blue.png",solidRedPng:"/images/page-cover/solid_red.png",solidYellowPng:"/images/page-cover/solid_yellow.png",thumbs:{gradients10Jpg:"/images/page-cover/thumbs/gradients_10.jpg",gradients11Jpg:"/images/page-cover/thumbs/gradients_11.jpg",gradients1Png:"/images/page-cover/thumbs/gradients_1.png",gradients2Png:"/images/page-cover/thumbs/gradients_2.png",gradients3Png:"/images/page-cover/thumbs/gradients_3.png",gradients4Png:"/images/page-cover/thumbs/gradients_4.png",gradients5Png:"/images/page-cover/thumbs/gradients_5.png",gradients6Png:"/images/page-cover/thumbs/gradients_6.png",gradients7Png:"/images/page-cover/thumbs/gradients_7.png",gradients8Png:"/images/page-cover/thumbs/gradients_8.png",gradients9Png:"/images/page-cover/thumbs/gradients_9.png",metArnoldBocklin1880Jpg:"/images/page-cover/thumbs/met_arnold_bocklin_1880.jpg",metBruegel1565Jpg:"/images/page-cover/thumbs/met_bruegel_1565.jpg",metCamillePissarro1896Jpg:"/images/page-cover/thumbs/met_camille_pissarro_1896.jpg",metCanaletto1720Jpg:"/images/page-cover/thumbs/met_canaletto_1720.jpg",metCezanne1890Jpg:"/images/page-cover/thumbs/met_cezanne_1890.jpg",metEdgarDegas1874Jpg:"/images/page-cover/thumbs/met_edgar_degas_1874.jpg",metEmanuelLeutzeJpg:"/images/page-cover/thumbs/met_emanuel_leutze.jpg",metFitzHenryLaneJpg:"/images/page-cover/thumbs/met_fitz_henry_lane.jpg",metFredericEdwinChurch1871Jpg:"/images/page-cover/thumbs/met_frederic_edwin_church_1871.jpg",metGeorgesSeurat1884Jpg:"/images/page-cover/thumbs/met_georges_seurat_1884.jpg",metGerome1890Jpg:"/images/page-cover/thumbs/met_gerome_1890.jpg",metGoya1789Jpg:"/images/page-cover/thumbs/met_goya_1789.jpg",metHenriRousseau1907Jpg:"/images/page-cover/thumbs/met_henri_rousseau_1907.jpg",metHenriTl1892Jpg:"/images/page-cover/thumbs/met_henri_tl_1892.jpg",metHenryLerolle1885Jpg:"/images/page-cover/thumbs/met_henry_lerolle_1885.jpg",metHoracePippinJpg:"/images/page-cover/thumbs/met_horace_pippin.jpg",metJeanBeraudJpg:"/images/page-cover/thumbs/met_jean_beraud.jpg",metJohnSingerSargentMoroccoJpg:"/images/page-cover/thumbs/met_john_singer_sargent_morocco.jpg",metJosephHidley1870Jpg:"/images/page-cover/thumbs/met_joseph_hidley_1870.jpg",metJulesTavernier1878Jpg:"/images/page-cover/thumbs/met_jules_tavernier_1878.jpg",metKlimt1912Jpg:"/images/page-cover/thumbs/met_klimt_1912.jpg",metPaulSignacJpg:"/images/page-cover/thumbs/met_paul_signac.jpg",metSilkKashanCarpetJpg:"/images/page-cover/thumbs/met_silk_kashan_carpet.jpg",metTerracottaFuneraryPlaqueJpg:"/images/page-cover/thumbs/met_terracotta_funerary_plaque.jpg",metTheUnicornInCaptivityJpg:"/images/page-cover/thumbs/met_the_unicorn_in_captivity.jpg",metVincentVanGoghCradleJpg:"/images/page-cover/thumbs/met_vincent_van_gogh_cradle.jpg",metVincentVanGoghGinouxJpg:"/images/page-cover/thumbs/met_vincent_van_gogh_ginoux.jpg",metVincentVanGoghIrisesJpg:"/images/page-cover/thumbs/met_vincent_van_gogh_irises.jpg",metVincentVanGoghOleandersJpg:"/images/page-cover/thumbs/met_vincent_van_gogh_oleanders.jpg",metWilliamMorris1875Jpg:"/images/page-cover/thumbs/met_william_morris_1875.jpg",metWilliamMorris1877WillowJpg:"/images/page-cover/thumbs/met_william_morris_1877_willow.jpg",metWilliamMorris1878Jpg:"/images/page-cover/thumbs/met_william_morris_1878.jpg",metWilliamTurner1835Jpg:"/images/page-cover/thumbs/met_william_turner_1835.jpg",metWinslowHomerMaineCoastJpg:"/images/page-cover/thumbs/met_winslow_homer_maine_coast.jpg",nasaBruceMccandlessSpacewalkJpg:"/images/page-cover/thumbs/nasa_bruce_mccandless_spacewalk.jpg",nasaBuzzAldrinOnTheMoonJpg:"/images/page-cover/thumbs/nasa_buzz_aldrin_on_the_moon.jpg",nasaCarinaNebulaJpg:"/images/page-cover/thumbs/nasa_carina_nebula.jpg",nasaEagleInLunarOrbitJpg:"/images/page-cover/thumbs/nasa_eagle_in_lunar_orbit.jpg",nasaEarthGridJpg:"/images/page-cover/thumbs/nasa_earth_grid.jpg",nasaEvaDuringSkylab3Jpg:"/images/page-cover/thumbs/nasa_eva_during_skylab_3.jpg",nasaFingerprintsOfWaterOnTheSandJpg:"/images/page-cover/thumbs/nasa_fingerprints_of_water_on_the_sand.jpg",nasaGreatSandyDesertAustraliaJpg:"/images/page-cover/thumbs/nasa_great_sandy_desert_australia.jpg",nasaIbmType704Jpg:"/images/page-cover/thumbs/nasa_ibm_type_704.jpg",nasaMultiAxisGimbleRigJpg:"/images/page-cover/thumbs/nasa_multi-axis_gimble_rig.jpg",nasaNewYorkCityGridJpg:"/images/page-cover/thumbs/nasa_new_york_city_grid.jpg",nasaOrionNebulaJpg:"/images/page-cover/thumbs/nasa_orion_nebula.jpg",nasaReducedGravityWalkingSimulatorJpg:"/images/page-cover/thumbs/nasa_reduced_gravity_walking_simulator.jpg",nasaRobertStewartSpacewalk2Jpg:"/images/page-cover/thumbs/nasa_robert_stewart_spacewalk_2.jpg",nasaRobertStewartSpacewalkJpg:"/images/page-cover/thumbs/nasa_robert_stewart_spacewalk.jpg",nasaSpaceShuttleChallengerJpg:"/images/page-cover/thumbs/nasa_space_shuttle_challenger.jpg",nasaSpaceShuttleColumbiaAndSunriseJpg:"/images/page-cover/thumbs/nasa_space_shuttle_columbia_and_sunrise.jpg",nasaSpaceShuttleColumbiaJpg:"/images/page-cover/thumbs/nasa_space_shuttle_columbia.jpg",nasaTheBlueMarbleJpg:"/images/page-cover/thumbs/nasa_the_blue_marble.jpg",nasaTimPeakeSpacewalkJpg:"/images/page-cover/thumbs/nasa_tim_peake_spacewalk.jpg",nasaTransonicTunnelJpg:"/images/page-cover/thumbs/nasa_transonic_tunnel.jpg",nasaWrightsFirstFlightJpg:"/images/page-cover/thumbs/nasa_wrights_first_flight.jpg",rijksmuseumAvercamp1608Jpg:"/images/page-cover/thumbs/rijksmuseum_avercamp_1608.jpg",rijksmuseumAvercamp1620Jpg:"/images/page-cover/thumbs/rijksmuseum_avercamp_1620.jpg",rijksmuseumClaesz1628Jpg:"/images/page-cover/thumbs/rijksmuseum_claesz_1628.jpg",rijksmuseumJanLievens1627Jpg:"/images/page-cover/thumbs/rijksmuseum_jan_lievens_1627.jpg",rijksmuseumJansz1636Jpg:"/images/page-cover/thumbs/rijksmuseum_jansz_1636.jpg",rijksmuseumJansz1637Jpg:"/images/page-cover/thumbs/rijksmuseum_jansz_1637.jpg",rijksmuseumJansz1641Jpg:"/images/page-cover/thumbs/rijksmuseum_jansz_1641.jpg",rijksmuseumJansz1649Jpg:"/images/page-cover/thumbs/rijksmuseum_jansz_1649.jpg",rijksmuseumMignons1660Jpg:"/images/page-cover/thumbs/rijksmuseum_mignons_1660.jpg",rijksmuseumRembrandt1642Jpg:"/images/page-cover/thumbs/rijksmuseum_rembrandt_1642.jpg",rijksmuseumVermeerTheMilkmaidJpg:"/images/page-cover/thumbs/rijksmuseum_vermeer_the_milkmaid.jpg",solidBeigePng:"/images/page-cover/thumbs/solid_beige.png",solidBluePng:"/images/page-cover/thumbs/solid_blue.png",solidRedPng:"/images/page-cover/thumbs/solid_red.png",solidYellowPng:"/images/page-cover/thumbs/solid_yellow.png",woodcuts10Jpg:"/images/page-cover/thumbs/woodcuts_10.jpg",woodcuts11Jpg:"/images/page-cover/thumbs/woodcuts_11.jpg",woodcuts12Jpg:"/images/page-cover/thumbs/woodcuts_12.jpg",woodcuts13Jpg:"/images/page-cover/thumbs/woodcuts_13.jpg",woodcuts14Jpg:"/images/page-cover/thumbs/woodcuts_14.jpg",woodcuts15Jpg:"/images/page-cover/thumbs/woodcuts_15.jpg",woodcuts16Jpg:"/images/page-cover/thumbs/woodcuts_16.jpg",woodcuts1Jpg:"/images/page-cover/thumbs/woodcuts_1.jpg",woodcuts2Jpg:"/images/page-cover/thumbs/woodcuts_2.jpg",woodcuts3Jpg:"/images/page-cover/thumbs/woodcuts_3.jpg",woodcuts4Jpg:"/images/page-cover/thumbs/woodcuts_4.jpg",woodcuts5Jpg:"/images/page-cover/thumbs/woodcuts_5.jpg",woodcuts6Jpg:"/images/page-cover/thumbs/woodcuts_6.jpg",woodcuts7Jpg:"/images/page-cover/thumbs/woodcuts_7.jpg",woodcuts8Jpg:"/images/page-cover/thumbs/woodcuts_8.jpg",woodcuts9Jpg:"/images/page-cover/thumbs/woodcuts_9.jpg",woodcutsSekka1Jpg:"/images/page-cover/thumbs/woodcuts_sekka_1.jpg",woodcutsSekka2Jpg:"/images/page-cover/thumbs/woodcuts_sekka_2.jpg",woodcutsSekka3Jpg:"/images/page-cover/thumbs/woodcuts_sekka_3.jpg"},woodcuts10Jpg:"/images/page-cover/woodcuts_10.jpg",woodcuts11Jpg:"/images/page-cover/woodcuts_11.jpg",woodcuts13Jpg:"/images/page-cover/woodcuts_13.jpg",woodcuts14Jpg:"/images/page-cover/woodcuts_14.jpg",woodcuts15Jpg:"/images/page-cover/woodcuts_15.jpg",woodcuts16Jpg:"/images/page-cover/woodcuts_16.jpg",woodcuts1Jpg:"/images/page-cover/woodcuts_1.jpg",woodcuts2Jpg:"/images/page-cover/woodcuts_2.jpg",woodcuts3Jpg:"/images/page-cover/woodcuts_3.jpg",woodcuts4Jpg:"/images/page-cover/woodcuts_4.jpg",woodcuts5Jpg:"/images/page-cover/woodcuts_5.jpg",woodcuts6Jpg:"/images/page-cover/woodcuts_6.jpg",woodcuts7Jpg:"/images/page-cover/woodcuts_7.jpg",woodcuts8Jpg:"/images/page-cover/woodcuts_8.jpg",woodcuts9Jpg:"/images/page-cover/woodcuts_9.jpg",woodcutsSekka1Jpg:"/images/page-cover/woodcuts_sekka_1.jpg",woodcutsSekka2Jpg:"/images/page-cover/woodcuts_sekka_2.jpg",woodcutsSekka3Jpg:"/images/page-cover/woodcuts_sekka_3.jpg"},reactErrorPng:"/images/react-error.c4aa2f1b.png",referralMilkPng:"/images/referral-milk.png",referralMoneyPng:"/images/referral-money.png",referralPingpongPng:"/images/referral-pingpong.png",referralSunglassesPng:"/images/referral-sunglasses.png",selfRelationSameSvg:"/images/self-relation-same.svg",selfRelationSeparateSvg:"/images/self-relation-separate.svg",sidebarAppearancePng:"/images/sidebar-appearance.png",sidebarBillingPng:"/images/sidebar-billing.7f93032e.png",sidebarChatPng:"/images/sidebar-chat.62bf7913.png",sidebarCreditPng:"/images/sidebar-credit.png",sidebarMembersPng:"/images/sidebar-members.ba1eb89f.png",sidebarNewsPng:"/images/sidebar-news.png",sidebarNotificationsPng:"/images/sidebar-notifications.49409838.png",sidebarSettingsPng:"/images/sidebar-settings.5faf1a02.png",sidebarUpgradePng:"/images/sidebar-upgrade.4acb8e5d.png",slackLogo2XPng:"/images/slack-logo@2x.png",templates:{boardPng:"/images/templates/board.523afd11.png",calendarPng:"/images/templates/calendar.2aff9228.png",emptyPng:"/images/templates/empty.8be37139.png",galleryPng:"/images/templates/gallery.501a32ac.png",importPng:"/images/templates/import.3cf52594.png",listPng:"/images/templates/list.a1ab55fd.png",pagePng:"/images/templates/page.1aa52c49.png",screenshots:{beta:{codingGuidelinesPng:"/images/templates/screenshots/beta/coding-guidelines.png",designSpecPng:"/images/templates/screenshots/beta/design-spec.png",employeeOnboardingPng:"/images/templates/screenshots/beta/employee-onboarding.png",investorDatabasePng:"/images/templates/screenshots/beta/investor-database.png",lightweightCrmPng:"/images/templates/screenshots/beta/lightweight-crm.png",meetingNotesPng:"/images/templates/screenshots/beta/meeting-notes.png",notesAndDraftsPng:"/images/templates/screenshots/beta/notes-and-drafts.png",readingListPng:"/images/templates/screenshots/beta/reading-list.png",recruitingPipelinePng:"/images/templates/screenshots/beta/recruiting-pipeline.png",roadmapPng:"/images/templates/screenshots/beta/roadmap.png",tasksAndIssuesPng:"/images/templates/screenshots/beta/tasks-and-issues.png",teamHomePng:"/images/templates/screenshots/beta/team-home.png",todosPng:"/images/templates/screenshots/beta/todos.png",visionAndMissionPng:"/images/templates/screenshots/beta/vision-and-mission.png",weeklyAgendaPng:"/images/templates/screenshots/beta/weekly-agenda.png"},codingGuidelinesPng:"/images/templates/screenshots/coding-guidelines.png",designSpecPng:"/images/templates/screenshots/design-spec.png",employeeOnboardingPng:"/images/templates/screenshots/employee-onboarding.png",meetingNotesPng:"/images/templates/screenshots/meeting-notes.png",notesAndDraftsPng:"/images/templates/screenshots/notes-and-drafts.png",readingListPng:"/images/templates/screenshots/reading-list.png",roadmapPng:"/images/templates/screenshots/roadmap.png",teamHomePng:"/images/templates/screenshots/team-home.png",todosPng:"/images/templates/screenshots/todos.png",visionAndMissionPng:"/images/templates/screenshots/vision-and-mission.png",weeklyAgendaPng:"/images/templates/screenshots/weekly-agenda.png"},tablePng:"/images/templates/table.35b1c68e.png",templatePng:"/images/templates/template.9c915c51.png"},tooltips:{blocks:{boardPng:"/images/tooltips/blocks/board.9871ba45.png",breadcrumbPng:"/images/tooltips/blocks/breadcrumb.f97da35d.png",bulletedListPng:"/images/tooltips/blocks/bulleted-list.f5ded41e.png",calendarPng:"/images/tooltips/blocks/calendar.1f1ea514.png",codePng:"/images/tooltips/blocks/code.3e33c698.png",dividerPng:"/images/tooltips/blocks/divider.83efad0b.png",filePng:"/images/tooltips/blocks/file.b1a5a073.png",galleryPng:"/images/tooltips/blocks/gallery.bd2ac31c.png",headerPng:"/images/tooltips/blocks/header.2f63ac1a.png",imagePng:"/images/tooltips/blocks/image.110e56e8.png",linkToPagePng:"/images/tooltips/blocks/link-to-page.b619dd57.png",listPng:"/images/tooltips/blocks/list.6d087b83.png",mathPng:"/images/tooltips/blocks/math.ea9daec2.png",mentionPagePng:"/images/tooltips/blocks/mention-page.ac6594a0.png",mentionPersonPng:"/images/tooltips/blocks/mention-person.38111a96.png",mentionTimePng:"/images/tooltips/blocks/mention-time.a1ddcd0f.png",numberedListPng:"/images/tooltips/blocks/numbered-list.58fef67f.png",pagePng:"/images/tooltips/blocks/page.0cb37e06.png",quotePng:"/images/tooltips/blocks/quote.cccaeb7a.png",subHeaderPng:"/images/tooltips/blocks/sub-header.4ad81c48.png",subsubheaderPng:"/images/tooltips/blocks/subsubheader.4dec63f8.png",tableOfContentsPng:"/images/tooltips/blocks/table-of-contents.c4a8f939.png",tablePng:"/images/tooltips/blocks/table.be12f0f0.png",templateButtonPng:"/images/tooltips/blocks/template-button.f896222d.png",textPng:"/images/tooltips/blocks/text.87e040db.png",toDoListPng:"/images/tooltips/blocks/to-do-list.52a514f9.png",toggleListPng:"/images/tooltips/blocks/toggle-list.fea9d21e.png",videoPng:"/images/tooltips/blocks/video.9ecc399e.png",webBookmarkPng:"/images/tooltips/blocks/web-bookmark.1b453854.png"},pageUpdates:{followPng:"/images/tooltips/page-updates/follow.e0a132cf.png",slackPng:"/images/tooltips/page-updates/slack.b105e4e6.png"},share:{allowDuplicateV2Png:"/images/tooltips/share/allow-duplicate-v2.png",allowSearchEnginesPng:"/images/tooltips/share/allow-search-engines.png",publicPagePng:"/images/tooltips/share/public-page.png",sharedPng:"/images/tooltips/share/shared.dde8dafe.png",workspacePng:"/images/tooltips/share/workspace.01af2429.png"},types:{checkboxPng:"/images/tooltips/types/checkbox.7080b998.png",createdByPng:"/images/tooltips/types/created-by.2e8a1b92.png",createdTimePng:"/images/tooltips/types/created-time.4e1ef094.png",datePng:"/images/tooltips/types/date.9f6b859a.png",emailPng:"/images/tooltips/types/email.4b0c2a3c.png",filePng:"/images/tooltips/types/file.f6a0cae5.png",formulaPng:"/images/tooltips/types/formula.2f728ad9.png",multiSelectPng:"/images/tooltips/types/multi_select.a8586d55.png",numberPng:"/images/tooltips/types/number.6ec35f46.png",personPng:"/images/tooltips/types/person.8cc03073.png",phoneNumberPng:"/images/tooltips/types/phone-number.6831c3cf.png",relationPng:"/images/tooltips/types/relation.f5c043b2.png",selectPng:"/images/tooltips/types/select.235ad906.png",textPng:"/images/tooltips/types/text.6cdde1be.png",urlPng:"/images/tooltips/types/url.e1402130.png"},views:{boardPng:"/images/tooltips/views/board.8bfd0505.png",calendarPng:"/images/tooltips/views/calendar.52338499.png",galleryPng:"/images/tooltips/views/gallery.4d7bfca7.png",listPng:"/images/tooltips/views/list.003e7876.png",tablePng:"/images/tooltips/views/table.431b4cc6.png"}},twitterLogoPng:"/images/twitter-logo.png",uidoc:{iosKeyboardPng:"/images/uidoc/ios-keyboard.png",iphoneFramePng:"/images/uidoc/iphone-frame.png",iphoneStatusBarPng:"/images/uidoc/iphone-status-bar.png",safariBottomPng:"/images/uidoc/safari-bottom.png",safariBottomReversedPng:"/images/uidoc/safari-bottom-reversed.png",safariTopPng:"/images/uidoc/safari-top.png",teslaJpg:"/images/uidoc/tesla.jpg",trafficLightsPng:"/images/uidoc/traffic-lights.png"},updatesEmptyStatePng:"/images/updates-empty-state.930a7914.png"},popupHtml:"/popup.html",robotsTxt:"/robots.txt",sitemapXml:"/sitemap.xml",tutorial:{emptyAvatarPng:"/tutorial/empty-avatar.png",mobileEditorGif:"/tutorial/mobile-editor.gif",mobileOfflineJpg:"/tutorial/mobile-offline.jpg",mobileShareSheetAndroidPng:"/tutorial/mobile-share-sheet-android.png",mobileShareSheetIosPng:"/tutorial/mobile-share-sheet-ios.png",mobileSyncMacPng:"/tutorial/mobile-sync-mac.png",mobileSyncSafariPng:"/tutorial/mobile-sync-safari.png",simon1DarkPng:"/tutorial/simon-1-dark.png",simon1Png:"/tutorial/simon-1.png",simon2DarkPng:"/tutorial/simon-2-dark.png",simon2Png:"/tutorial/simon-2.png",simon3DarkPng:"/tutorial/simon-3-dark.png",simon3Png:"/tutorial/simon-3.png",simon4DarkPng:"/tutorial/simon-4-dark.png",simon4Png:"/tutorial/simon-4.png",simonHalfDarkPng:"/tutorial/simon-half-dark.png",simonHalfPng:"/tutorial/simon-half.png",simonHalfWhitePng:"/tutorial/simon-half-white.png",webClipperOnboardingPng:"/tutorial/web-clipper-onboarding.png"}}},"5VOB":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("n8tN"),l=r("6WtK"),s=r("6fCZ"),u=r("r8oj"),c=r("KcXv"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){var e=this.props.store.getNavigableBlockStore(),t=this.canEdit();if(e)return a.createElement("div",{style:{display:"flex",paddingTop:c.itemStyle.paddingTop,paddingBottom:c.itemStyle.paddingBottom}},a.createElement(l.default,{showCurrentPageControls:!1,ancestorMaxWidth:200,currentPageMaxWidth:300,store:e,maxAncestorCount:3,style:{flexGrow:1,minWidth:0,fontSize:"inherit"}}),u.default.isMobile&&t&&a.createElement(s.default,{store:this.props.store,fadeIn:!0,style:{marginTop:2,marginRight:4}}),this.renderDiscussion())},t}(i.default);t.default=d},"5XPD":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("q1tI"),l=r("wldR"),s=r("rQb/"),u=r("IwFn"),c=r("pqiZ"),d=r("lEhh"),p=r("r8oj"),f=r("N34Z"),h=r("MBf9"),m=r("y6Dp"),y=r("QcDD"),g=r("wS9/"),v=r("sSHh"),b=r("qqdV"),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("div",{style:this.getSettingsOptionStyle()},a.createElement(s.default,{large:!0,baseline:"full",block:!0},"Notification Settings"),a.createElement(v.default,{title:"Learn about mobile and desktop notifications.",href:b.guides.notificationSettings,analyticsFrom:"notifications_settings"}),a.createElement(c.default,{size:18,isHidden:!0}),this.renderSettingsOption("Mobile Push Notifications","Receive push notifications on mentions and comments immediately via your mobile apps.","notify_mobile"),p.default.isElectron&&a.createElement(i.Fragment,null,a.createElement(c.default,{size:18,isHidden:!0}),this.renderSettingsOption("Desktop Push Notifications","Receive push notifications on mentions and comments immediately via your desktop app.","notify_desktop")),a.createElement(c.default,{size:18,isHidden:!0}),this.renderSettingsOption("Email Notifications","Receive email updates on mentions, comments, and edit digests for all the pages you have followed.","notify_email"))},t.prototype.renderSettingsOption=function(e,t,r){var n=this,o=this.getSwitchValue(r);return a.createElement("div",{onClick:function(){n.handleToggle(r),"notify_mobile"===r?m.trackSetMobileNotification({is_on:!o}):"notify_desktop"===r?m.trackSetDesktopNotification({is_on:!o}):"notify_email"===r&&m.trackSetEmailNotification({is_on:!o})},style:{display:"flex",width:"100%",alignItems:"flex-start",marginBottom:12,cursor:"pointer"}},a.createElement("div",{style:{flex:1}},a.createElement(s.default,null,e),a.createElement(u.default,{style:{width:"80%"},hasMarginTop:!0},t)),a.createElement("div",{style:{marginTop:5}},a.createElement(d.default,{on:Boolean(o),disabled:void 0===o,isAndroid:p.default.isAndroid})))},t.prototype.getSwitchValue=function(e){var t=y.default.state.currentSpaceViewStore;if(t){var r=t.getValue();if(r)return r[e]}},t.prototype.handleToggle=function(e){var t=y.default.state.currentSpaceViewStore;if(t){var r=t.getValue();if(r){var n=r[e];h.createAndCommit(function(r){var o;f.updateValue({store:t,data:(o={},o[e]=!n,o),transaction:r})})}}},t.prototype.getSettingsOptionStyle=function(){return{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",height:"auto",paddingLeft:p.default.isMobile?g.default.paddingLeft:0,paddingRight:p.default.isMobile?g.default.paddingRight:0}},t}(l.default);t.default=w},"5Y2+":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("IzPW"),l=r("RI9y"),s=r("wldR"),u=r("r8oj"),c=r("V9q8"),d=r("0zNc"),p=r("w5u6"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isComposing=!1,t.testDiv=document.createElement("div"),t.handleRootMount=function(e){t.root=e},t.handleInput=function(){if(!t.isComposing){var e=i.getRootTextValue(t.root);t.props.onMutation&&t.props.onMutation(e),p.default.flush()}},t.handleCompositionStart=function(){u.default.isAndroid||(t.isComposing=!0,t.props.onCompositionStart&&t.props.onCompositionStart())},t.handleCompositionEnd=function(){u.default.isAndroid||(t.isComposing=!1,t.handleInput(),t.props.onCompositionEnd&&t.props.onCompositionEnd())},t.handleSelect=function(e){if(!t.isComposing)if(u.default.isMobile&&d.default.state.isDragging){e.preventDefault(),e.stopPropagation(),e.target.blur();var r=window.getSelection();if(r)return r.removeAllRanges(),!1}else t.props.onSelect&&t.props.onSelect(e)},t}return o(t,e),t.prototype.willMountOrUpdate=function(e){this.selection=e.getSelection(),this.disabled=e.getDisabled(),this.html=e.getHtml()},t.prototype.didMount=function(){this.updateContainer(!0)},t.prototype.didUpdate=function(){this.updateContainer(!1)},t.prototype.updateContainer=function(e){if(this.root&&!this.isComposing)if(e?this.root.innerHTML=this.html:(this.testDiv.innerHTML=this.html,this.root.innerHTML!==this.testDiv.innerHTML&&(this.root.innerHTML=this.html)),this.selection){var t=i.indexSelectionToRange(this.root,this.selection.startIndex,this.selection.endIndex),r=l.get();i.rangesEqual(r,t)||(u.default.isAndroid&&document.activeElement!==this.root&&this.root.focus(),l.set(t))}else if(!e){(r=l.get())&&r.commonAncestorContainer&&c.isNode(r.commonAncestorContainer)&&this.root.contains(r.commonAncestorContainer)&&l.clear()}},t.prototype.renderComponent=function(){var e=this.props,t=e.onClick,r=e.onContextMenu,n=e.onKeyDown,o=e.onDoubleClick,i=e.onMouseDown,l=e.onTouchStart,s=e.placeholder,u=e.onBlur,c=e.onFocus;return a.createElement("div",{ref:this.handleRootMount,style:!this.html&&this.props.placeholderStyle?this.props.placeholderStyle:this.props.style,contentEditable:!this.disabled,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,onInput:this.handleInput,spellCheck:this.props.spellCheck,autoCorrect:this.props.autoCorrect,autoCapitalize:this.props.autoCapitalize,onSelect:this.handleSelect,onClick:t,onBlur:u,onFocus:c,onContextMenu:r,onKeyDown:n,onDoubleClick:o,onMouseDown:i,onTouchStart:l,placeholder:s,"data-root":!0})},t}(s.default);t.default=f},"5e7j":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("wldR"),u=r("MeYt"),c=r("Ma8p"),d=r("/Zir"),p=r("tmfq"),f=r("yi/I"),h=r("bBQD"),m=r("4NII"),y=r("m3FE"),g=r("+pmu"),v=r("DT29"),b=r("f4in"),w=r("am2B"),S=r("xVnP"),_=r("pAJP"),k=r("h7gD"),C=r("/dq7"),E=r("5Nka"),P=r("Sb6f"),x=r("zmp8"),T=r("prF1"),O=r("IYZQ"),M=r("qqdV"),I=r("NV/j"),A=r("WDpx"),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.galleryItems=[{emoji:"✍",title:"Notes",desktopScreenshot:E.default.front.evernote.carouselDesktop["01NotesPng"],mobileScreenshot:E.default.front.evernote.carouselMobile["01NotesPng"]},{emoji:"🎒",title:"Gallery",desktopScreenshot:E.default.front.evernote.carouselDesktop["02GalleryPng"],mobileScreenshot:E.default.front.evernote.carouselMobile["02GalleryPng"]},{emoji:"🖇️",title:"Bookmarks",desktopScreenshot:E.default.front.evernote.carouselDesktop["03BookmarksPng"],mobileScreenshot:E.default.front.evernote.carouselMobile["03BookmarksPng"]},{emoji:"📘",title:"Research",desktopScreenshot:E.default.front.evernote.carouselDesktop["04ResearchPng"],mobileScreenshot:E.default.front.evernote.carouselMobile["04ResearchPng"]},{emoji:"🗓",title:"Reminders",desktopScreenshot:E.default.front.evernote.carouselDesktop["05RemindersPng"],mobileScreenshot:E.default.front.evernote.carouselMobile["05RemindersPng"]}],t.webClipperFeatures=[{image:E.default.front.evernote.webClipper.desktopPng,header:"On Desktop",caption:i.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.createElement(I.default,{format:I.default.Format.WebClipper,analyticsName:"evernote"}))},{image:E.default.front.evernote.webClipper.mobilePng,header:"On Mobile",caption:i.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.createElement(I.default,{format:I.default.Format.Mobile,title:"Get iOS & Android apps",analyticsName:"evernote"}))}],t.advancedFeatures=[{header:"Infinite hierarchy",caption:"No limits on nesting pages inside pages for better organization.",image:E.default.front.evernote.advancedFeatures.infiniteHierarchyV2Gif},{header:"Tables & databases",caption:"Keep simple or sophisticated records with views, filters, tags, and more.",image:E.default.front.evernote.advancedFeatures.tablesV2Png},{header:"#Markdown & /slash commands",caption:"Access all of Notion's tools without touching your mouse to stay in flow.",image:E.default.front.product.personalFeatureMarkdownPng},{header:"Drag & drop",caption:"Get your ideas on the page, then rearrange. Our editor helps you structure your thoughts and plans.",image:E.default.front.product.personalFeatureDndGif}],t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(A.default,{title:"Notion - Switch from Evernote"},i.createElement(d.default,{hideEvernoteLink:!0,analyticsName:"evernote"},this.renderHero(),this.renderGallery(),this.renderTestimonials(),this.renderAdvancedFeatures(),this.renderWebClipper(),this.renderImport(),this.renderPricingPlans(),this.renderTeamFeatures(),this.renderSyncApps(),this.renderTweets()))},t.prototype.renderHero=function(){return i.createElement(l.Fragment,null,i.createElement(_.default,{name:"evernote_hero"}),i.createElement("img",{src:E.default.front.evernote.heroIllustrationPng,style:t.heroImageStyle}),i.createElement(p.default,{title:i.createElement(l.Fragment,null,"Tired of Evernote?",i.createElement("br",null),"Say hi to Notion")}),i.createElement("div",{style:{marginTop:m.default()?18:36,marginBottom:m.default()?42:64}},i.createElement(f.default,{analyticsName:"evernote"})))},t.prototype.renderGallery=function(){var e=this;return i.createElement(l.Fragment,null,i.createElement(_.default,{name:"evernote_gallery"}),i.createElement(C.default,{itemsCount:this.galleryItems.length,analyticsFrom:"evernote_gallery",render:function(t){var r=t.currentIndex,n=t.setIndex;return i.createElement(l.Fragment,null,i.createElement("div",{style:e.getGalleryButtonsWrapStyle()},e.galleryItems.map(function(t,o){return i.createElement(u.default,{onClick:function(){return n(o)},key:o,style:e.getGalleryButtonStyle()},i.createElement(c.default,{size:m.default()?22:42,emoji:t.emoji}),i.createElement("div",{style:e.getGalleryTitleStyle(o===r)},t.title))})),i.createElement(y.default,{desktopScreenshot:e.galleryItems[r].desktopScreenshot,mobileScreenshot:e.galleryItems[r].mobileScreenshot}),i.createElement("div",{style:{height:36}}))}}))},t.prototype.renderTestimonials=function(){return i.createElement(l.Fragment,null,i.createElement("div",{style:a({display:"flex",marginTop:m.default()?24:42,marginBottom:m.default()?24:0,flexDirection:m.default()?"column":"row"},!m.default()&&{marginLeft:16})},this.renderTestimonialItem(E.default.front.evernote.testimonials.googlePlayPng,i.createElement(l.Fragment,null,"Making everyday tasks more",i.createElement("br",null),"efficient and enjoyable."),"Best Apps of 2018","https://play.google.com/store/apps/topic?id=campaign_editorial_bestof2018_best_daily_helper"),this.renderTestimonialDivider(),this.renderTestimonialItem(E.default.front.evernote.testimonials.theVergePng,i.createElement(l.Fragment,null,"A sophisticated note-taking",i.createElement("br",null),"app with a sleek design."),"Casey Newton","https://www.theverge.com/2018/6/7/17434754/notion-android-app-notes-productivity-review"),this.renderTestimonialDivider(),this.renderTestimonialItem(E.default.front.evernote.testimonials.theWallStreetJournalPng,i.createElement(l.Fragment,null,"The best life-organization",i.createElement("br",null),"tool I’ve tried."),"David Pierce","https://www.wsj.com/articles/the-only-app-you-need-for-work-life-productivity-1521640800")))},t.prototype.renderTestimonialItem=function(e,t,r,n){return i.createElement(T.default,{href:n,style:{flex:1,whiteSpace:"nowrap"}},i.createElement("div",null,i.createElement("img",{src:e,style:{height:26}})),i.createElement("div",{className:"notion-quote",style:{marginTop:12,marginBottom:8,color:x.default.FrontTestimonialQuoteColor}},t),i.createElement("div",{style:{fontSize:14,textTransform:"uppercase",fontWeight:P.default.fontWeight.semibold,color:x.default.FrontTestimonialAuthorColor}},r))},t.prototype.renderTestimonialDivider=function(){return i.createElement("div",{style:a({flexShrink:0,background:x.default.frontBorderColor},m.default()?{height:1,margin:"36px 0"}:{width:1,margin:"0 36px"})})},t.prototype.renderTeamFeatures=function(){return i.createElement(l.Fragment,null,i.createElement(_.default,{name:"evernote_team_features"}),i.createElement(v.default,{title:"Made with teams in mind",caption:"Wikis, project tracking, real-time collaboration, and more.",topDivider:!0}),this.renderSignUpInput("evernote"),i.createElement(g.default,{screenshot:E.default.front.evernote.teamFeaturesPng}))},t.prototype.renderImport=function(){return i.createElement(l.Fragment,null,i.createElement(_.default,{name:"evernote_import"}),i.createElement(v.default,{title:"Import from Evernote, instantly",caption:"No messy migration required.",topDivider:!0}),i.createElement(g.default,{screenshot:E.default.front.evernote.evernoteImporterGif}))},t.prototype.renderWebClipper=function(){return i.createElement(l.Fragment,null,i.createElement(_.default,{name:"evernote_web_clipper"}),i.createElement(v.default,{title:"And yes, we have Web Clipper",caption:"Save any web page directly into Notion from any device.",topDivider:!0}),i.createElement(w.default,{format:w.default.Format.Two,features:this.webClipperFeatures}))},t.prototype.renderAdvancedFeatures=function(){return i.createElement(l.Fragment,null,i.createElement(_.default,{name:"evernote_advanced_features"}),i.createElement(v.default,{title:"New tools, new ways to work",caption:"We also built in some advanced features for you.",topDivider:!0}),this.renderSignUpInput("evernote"),i.createElement(w.default,{format:w.default.Format.Four,features:this.advancedFeatures}))},t.prototype.renderPricingPlans=function(){return i.createElement(l.Fragment,null,i.createElement(_.default,{name:"evernote_plans"}),i.createElement(v.default,{title:"Pricing, side-by-side",caption:i.createElement(l.Fragment,null,"You can also try Notion for free. See all"," ",i.createElement(O.default,{href:M.pricing},"pricing plans"),"."),topDivider:!0}),this.renderSignUpInput("evernote"),i.createElement(b.default,null))},t.prototype.renderSyncApps=function(){return i.createElement(l.Fragment,null,i.createElement(_.default,{name:"evernote_sync_apps"}),i.createElement(v.default,{title:"Try it today",caption:"Sync seamlessly across unlimited devices.",topDivider:!0}),i.createElement(k.default,{analyticsName:"evernote"}))},t.prototype.renderTweets=function(){return i.createElement(l.Fragment,null,i.createElement(_.default,{name:"evernote_tweets"}),i.createElement("div",{style:{height:120}}),i.createElement(h.default,null))},t.prototype.renderSignUpInput=function(e){if(!m.default())return i.createElement(l.Fragment,null,i.createElement(S.default,{style:{width:340},buttonTitle:"Get Started",analyticsName:e}),i.createElement("div",{style:{height:42}}))},t.prototype.getGalleryButtonsWrapStyle=function(){return{display:"flex",flexWrap:"wrap",justifyContent:"center",marginBottom:m.default()?16:8}},t.prototype.getGalleryButtonStyle=function(){return m.default()?{display:"flex",alignItems:"center",padding:"4px 8px",marginBottom:4,borderRadius:3,fontSize:14,lineHeight:1.2}:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",borderRadius:3,marginBottom:12,width:90,padding:14,fontSize:14}},t.prototype.getGalleryTitleStyle=function(e){return a({},e&&t.galleryItemSelectedTitleStyle,!m.default()&&{marginTop:8},{whiteSpace:"nowrap",paddingTop:4,paddingBottom:4})},t.heroImageStyle={maxHeight:347,maxWidth:"100%"},t.galleryItemSelectedTitleStyle={backgroundImage:"linear-gradient(to right, black 0%, black 100%)",backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 2px"},t}(s.default);t.default=D},"5jDe":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("ttM1"),s=r("wlCD"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(l.default,{show:!0,showDelay:400,showHold:100,render:function(e){return a.createElement("div",{style:t.containerStyle},e&&a.createElement(s.default,null))}})},t.containerStyle={display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},t}(i.default);t.default=u},"5k6+":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t.prototype.isActive=function(){return Boolean(this.state.blockStore)},t}(r("LEzx").default);t.default=new a},"5ma9":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,o,(t=e[r](t)).done,t.value)})}}},l=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var s=r("QcDD"),u=r("wpmu"),c=r("okm4"),d=r("klxS"),p=r("tvfY"),f=r("sdlW"),h=r("oqYu"),m=r("oWRT"),y=r("nM47"),g=r("E4rx"),v=r("y6Dp"),b=r("6Zdk"),w=r("H4VD"),S=r("qKs6"),_=r("+LO1"),k=r("zok3"),C=r("HSWF"),E=r("p9C0"),P=r("T1hA"),x=r("KV6v"),T=r("HHyf"),O=r("guIK"),M=r("VTj5"),I=r("O5tY"),A=r("3U9E");t.initialize=function(){return o(this,void 0,void 0,function(){var e,t,r,o;return a(this,function(a){switch(a.label){case 0:return(e=P.default.state.userId)?(t=new p.default(e),r=new E.default(e),o=new d.default(e),h.registerPushNotifications(),m.registerPushNotifications(),[4,Promise.all([D(),L()])]):[3,2];case 1:return a.sent(),s.default.setState(n({},s.default.state,{initialized:!0,userStore:t,userSettingsStore:r,userRootStore:o})),S.updateUserSettingsOnInitialize(),[3,3];case 2:s.default.setState(n({},s.default.state,{initialized:!0})),a.label=3;case 3:return[2]}})})},t.updateCurrentRoute=function(e){return o(this,void 0,void 0,function(){var t,r,d,p,h,m,v,S,E,P,O,M,A,D,L,B,j,V,F,N,U,W,z,H,q,G=this;return a(this,function(Z){switch(Z.label){case 0:return d=e.newRoute,p=e.oldRoute,h=function(e){s.default.state.lastUpdater===h&&s.default.setState(n({},s.default.state,e))},m=function(e){s.default.state.lastUpdater===h&&I.default.setState({publicPageData:e})},s.default.setState(n({},s.default.state,{lastUpdater:h})),"page"!==d.name&&"space"!==d.name?[3,23]:(C.setLastVisitedRoute(d),v=void 0,"page"!==d.name||p&&"page"===p.name&&p.blockId===d.blockId?[3,10]:(v=T.loadPublicPageData({request:d}),w.resetPageState(),w.resetSidebarState(),x.default.reset(),y.closeStripePopup(),w.resetEditorState(),S=d.blockId,E=new u.default(S),P=new c.default,h({currentBlockStore:E,currentLoadingContainerStore:P}),[4,Promise.all([v.next(),s.default.waitUntil(function(){return s.default.state.initialized})])]));case 1:return O=l.apply(void 0,[Z.sent(),1]),M=O[0],A=s.default.state.userSettingsStore,D=M.value,m(D),L=s.default.state,B=L.presenceStore,j=L.userRootStore,g.initializePresence({rootStore:E,presenceStore:B}),j?D&&D.spaceId&&(D.canJoinSpace||D.userHasExplicitAccess)?[4,f.joinSpace({userRootStore:j,spaceId:D.spaceId,navigate:!1,analyticsFrom:"redirect",userSettingsStore:A})]:[3,3]:[3,6];case 2:return V=Z.sent(),h({currentSpaceViewStore:V.spaceViewStore,currentSpaceStore:V.spaceViewStore.getSpaceStore()}),[3,6];case 3:return D&&!D.spaceId&&s.default.state.currentSpaceStore?[4,f.joinSpace({userRootStore:j,spaceId:s.default.state.currentSpaceStore.id,navigate:!1,analyticsFrom:"redirect",userSettingsStore:A})]:[3,5];case 4:return V=Z.sent(),h({currentSpaceViewStore:V.spaceViewStore,currentSpaceStore:V.spaceViewStore.getSpaceStore()}),[3,6];case 5:s.default.state.currentSpaceViewStore&&h({currentSpaceViewStore:void 0,currentSpaceStore:void 0}),Z.label=6;case 6:return(F=s.default.state.currentSpaceStore)?(y.updateCurrentSpace({spaceId:F.id}).then(function(){return o(G,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,E.load()];case 1:return e.sent(),R(E),[2]}})})}),C.addRecentlyVisitedPage(F.id,S),_.identifyWorkspace(),b.visitPage(S),[3,9]):[3,7];case 7:return D&&D.spaceId?[4,E.load()]:[3,9];case 8:Z.sent(),R(E),Z.label=9;case 9:return[3,11];case 10:"space"===d.name&&(v=T.loadPublicPageData({request:d}),h({currentBlockStore:void 0,currentLoadingContainerStore:void 0})),Z.label=11;case 11:if(!v)return[3,23];Z.label=12;case 12:Z.trys.push([12,17,18,23]),N=i(v),Z.label=13;case 13:return[4,N.next()];case 14:if((U=Z.sent()).done)return[3,16];W=U.value,m(W),Z.label=15;case 15:return[3,13];case 16:return[3,23];case 17:return z=Z.sent(),t={error:z},[3,23];case 18:return Z.trys.push([18,,21,22]),U&&!U.done&&(r=N.return)?[4,r.call(N)]:[3,20];case 19:Z.sent(),Z.label=20;case 20:return[3,22];case 21:if(t)throw t.error;return[7];case 22:return[7];case 23:return H=p&&"page"===p.name?p.collectionViewId:void 0,"page"===d.name&&H!==d.collectionViewId&&(q=d.collectionViewId,h({currentCollectionViewStore:q?new k.default(q):void 0})),[2]}})})},t.refreshUserSharedPages=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,l,s;return a(this,function(a){switch(a.label){case 0:r=O.loadUserSharedPages(),a.label=1;case 1:a.trys.push([1,6,7,12]),n=i(r),a.label=2;case 2:return[4,n.next()];case 3:if((o=a.sent()).done)return[3,5];l=o.value,A.default.setState({sharedPages:l.pages}),a.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return s=a.sent(),e={error:s},[3,12];case 7:return a.trys.push([7,,10,11]),o&&!o.done&&(t=n.return)?[4,t.call(n)]:[3,9];case 8:a.sent(),a.label=9;case 9:return[3,11];case 10:if(e)throw e.error;return[7];case 11:return[7];case 12:return[2]}})})};var D=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,M.loadUserContent().next()];case 1:return e.sent(),[2]}})})},L=function(){return o(this,void 0,void 0,function(){var e,t;return a(this,function(r){switch(r.label){case 0:return[4,(e=O.loadUserSharedPages()).next()];case 1:return t=r.sent(),A.default.setState({sharedPages:t.value.pages}),e.next().then(function(e){e.value&&A.default.setState({sharedPages:e.value.pages})}),[2]}})})};function R(e){v.trackPageVisit({page_id:e.id,is_peek:!1,type:"collection"===e.getParentTable()?"database_page":"page"})}},"5qOl":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},"5rk/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("q1tI"),o=r("WHWW");var a={render:function(e){var t=e.disabled,r=e.contentStyle,a=e.contentWrapStyle,i=e.handleFullScreen,l=e.source,s=e.handleEmbedComp,u=e.height;return n.createElement("div",{style:a,onClick:t?i:void 0},n.createElement("div",{style:{position:"relative"}},n.createElement(o.default,{ref:function(e){return s(e)},source:l,height:u,style:r,background:!1})))},renderFullScreen:function(e){var t=e.source,r=e.height,a=e.contentStyle;return n.createElement(o.default,{source:t,isFullWidth:!0,height:r,style:a,background:!0})},resizable:!0};t.default=a},"5w/s":function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("6fvo"),i=r("t3i2"),l=r("N34Z"),s=r("nFzZ"),u=r("T1hA");t.updateFormat=function(e){var t,r,o=e.stores,a=e.update,i=e.transaction;try{for(var u=n(o),c=u.next();!c.done;c=u.next()){var d=c.value;l.updateValue({store:d.getFormatStore(),data:s.nullify(a),transaction:i})}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}},t.setBlockLocked=function(e){var t=e.store,r=e.isLocked,n=e.transaction,o=u.default.state.userId;if(o){var a={block_locked:r,block_locked_by:o};l.updateValue({store:t.getFormatStore(),data:a,transaction:n})}},t.setPageCover=function(e){var r=e.store,n=e.url,o=e.position,a=e.transaction;t.updateFormat({stores:[r],update:{page_cover_position:o},transaction:a});var i=r.getCoverStore();i&&l.setValue({store:i,value:n,transaction:a})},t.getRandomPageEmojiIcon=function(){var e=[o.values(a.emojis.activity),o.values(a.emojis.objects),o.values(a.emojis.travel_and_places)],t=e[o.random(0,e.length-1)];return t[o.random(0,t.length-1)]},t.addRandomPageEmojiIcon=function(e){var r=e.store,n=e.transaction,o=r.getIconStore();if(o&&!o.getValue()){var a=t.getRandomPageEmojiIcon();l.setValue({store:o,value:a.char,transaction:n})}},t.addRandomPageCover=function(e){var r=e.store,n=e.transaction,a=r.getCoverStore();if(a&&!a.getValue()){var s=Object.keys(i.default),u=s[o.random(0,s.length-1)],c=i.default[u],d=c.items[o.random(0,c.items.length-1)],p=d.coverUrl,f=d.position;l.setValue({store:a,value:p,transaction:n}),t.updateCoverPosition({store:r,coverPosition:f,transaction:n})}},t.removePageCover=function(e){var t=e.store,r=e.transaction,n=t.getCoverStore();n&&l.setValue({store:n,value:null,transaction:r})},t.updateCoverPosition=function(e){var r=e.store,n=e.coverPosition,o=e.transaction;if(r.isCollectionView()){var a=r.getCollectionViewCollectionStore();a&&l.updateValue({store:a.getFormatStore(),data:{collection_cover_position:n},transaction:o})}else t.updateFormat({stores:[r],update:{page_cover_position:n},transaction:o})}},"5xGH":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("g90h");function i(e,t){e.constructor=t,e.__proto__=t.prototype,e.name=t.name}var l=function(e){function t(r,n){void 0===n&&(n={});var o=e.call(this,r)||this;return o.errorId=a.default(),i(o,t),o.data=n.data,o.error=n.error,o}return o(t,e),t}(Error);t.NotionError=l;var s=function(e){function t(r,n){var o=e.call(this,r,{data:n})||this;return o.type="HttpError",i(o,t),o}return o(t,e),t}(l);t.HttpError=s;var u=function(e){function t(r){var n=e.call(this,"Offline",r)||this;return i(n,t),n}return o(t,e),t}(s);t.HttpOfflineError=u;var c=function(e){function t(r,n){var o=e.call(this,r,{data:n})||this;return o.type="JSONParseError",i(o,t),o}return o(t,e),t}(l);t.JSONParseError=c;var d=function(e){function t(r){var n=e.call(this,r)||this;return i(n,t),n}return o(t,e),t}(l);t.UnauthorizedError=d;var p=function(e){function t(r,n){void 0===n&&(n={});var o=e.call(this,r,n)||this;return i(o,t),o}return o(t,e),t}(l);t.ValidationError=p;var f=function(e){function t(r){var n=e.call(this,r)||this;return i(n,t),n}return o(t,e),t}(p);t.UserValidationError=f;var h=function(e){function t(r){var n=e.call(this,"User:"+r)||this;return i(n,t),n}return o(t,e),t}(p);t.UserValidationResponse=h;var m=function(e){function t(r,n){var o=e.call(this,r,{data:n})||this;return i(o,t),o}return o(t,e),t}(l);t.ForbiddenError=m;var y=function(e){function t(r,n){void 0===n&&(n={});var o=e.call(this,r,n)||this;return i(o,t),o}return o(t,e),t}(l);t.LogicalError=y;var g=function(e){function t(r){var n=e.call(this,r)||this;return i(n,t),n}return o(t,e),t}(l);t.ServiceUnavailableError=g;var v=function(e){function t(r,n){var o=e.call(this,r,{data:n})||this;return i(o,t),o}return o(t,e),t}(l);t.OperationalError=v;var b=function(e){function t(r,n){var o=e.call(this,r,n)||this;return i(o,t),o}return o(t,e),t}(l);t.ServiceError=b;var w=function(e){function t(r,n){var o=e.call(this,r,n)||this;return i(o,t),o}return o(t,e),t}(b);t.ElasticsearchError=w;var S=function(e){function t(r,n){var o=e.call(this,r,n)||this;return i(o,t),o}return o(t,e),t}(b);t.RedisError=S;var _=function(e){function t(r,n){var o=e.call(this,r,n)||this;return i(o,t),o}return o(t,e),t}(b);t.MemcachedError=_;var k=function(e){function t(r,n){var o=e.call(this,r,n)||this;return i(o,t),o}return o(t,e),t}(b);t.DiffbotError=k;var C=function(e){function t(r,n){var o=e.call(this,r,n)||this;return i(o,t),o}return o(t,e),t}(b);t.TwilioError=C;var E=function(e){function t(r,n){var o=e.call(this,r,n)||this;return i(o,t),o}return o(t,e),t}(b);t.AsanaError=E;var P=function(e){function t(r,n){var o=e.call(this,r,n)||this;return i(o,t),o}return o(t,e),t}(b);t.TrelloError=P;var x=function(e){function t(r,n){var o=e.call(this,r,n)||this;return i(o,t),o}return o(t,e),t}(b);t.PandocError=x;var T=function(e){function t(r,n){var o;return n.error&&n.error.client&&n.error.client&&delete n.error.client,i(o=e.call(this,r,n)||this,t),o}return o(t,e),t}(b);t.PostgresError=T;var O=function(e){function t(r,n){void 0===n&&(n={});var o=e.call(this,r,n)||this;return i(o,t),o}return o(t,e),t}(b);t.GoogleError=O;var M=function(e){function t(r,n){var o=e.call(this,r)||this;return i(o,t),o.key=n.key,o}return o(t,e),t}(l);t.MissingSecretError=M;var I=function(e){function t(r,n){var o=e.call(this,r,{})||this;return i(o,t),o.url=n.url,o}return o(t,e),t}(b);t.MissingStaticFileError=I;var A=function(e){function t(r,n){var o=e.call(this,r,{})||this;return i(o,t),o.encryptedValue=n.encryptedValue,o}return o(t,e),t}(b);t.DecryptionError=A;var D=function(e){function t(r,n){var o=e.call(this,r,n)||this;return i(o,t),o}return o(t,e),t}(b);t.EvernoteError=D},"5zFd":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("wldR"),u=r("WgIs"),c=r("i3uR"),d=r("g4rC"),p=r("RBMm"),f=r("gbGO"),h=r("2Y+N"),m=r("r8oj"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPopup=function(e){var r,n=[{key:0,render:function(e){return i.createElement(h.default,a({},e))},items:t.props.items.map(function(r){return{key:t.props.getKey(r),render:function(e){return t.props.renderItem(a({},e,{value:r,selectedItem:t.props.selectedItem}))},action:function(){t.handleSelect(r),e.close()}}})}],o=i.createElement(u.default,{initialFocus:l.findIndex(t.props.items,function(e){return e===t.props.selectedItem}),sections:n});return r=m.default.isMobile?t.props.mobileActionSheet?{menuType:f.default.MenuType.ActionSheet}:{menuType:f.default.MenuType.Modal,title:t.props.menuTitle,right:"Done",onClickRight:e.close}:{menuType:f.default.MenuType.Popup,width:160},i.createElement(f.default,a({},r),o)},t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(c.default,{popupType:m.default.isMobile?c.default.PopupType.SlideUp:c.default.PopupType.Popup,renderOrigin:this.props.renderOrigin,buttonPopupStore:this.stores.buttonPopupStore,placementToOrigin:p.PopupPlacement.Bottom,render:this.renderPopup,disabled:this.props.disabled})},t.prototype.handleSelect=function(e){this.props.selectedItem!==e&&this.props.onSelect(e)},t.stores={buttonPopupStore:d.default},t}(s.default);t.default=y},6:function(e,t){},"622O":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("g90h"),i=r("cBa6"),l=r("S26v"),s=/[^0-9a-zA-Z!\-\_\.\(\)]/g;t.normalizeFileName=function(e){var r=t.getFileExtension(e)||"";return(e=e.slice(0,e.length-r.length)+r.toLowerCase()).replace(/\s/g,"_").replace(s,"")},t.createBucketUploadKey=function(e){return a.default()+"/"+e},t.getS3UrlId=function(e){var t=l.parse(e);if(t.pathname){var r=t.pathname.split("/");if(a.isUUIDWithDashes(r[2]))return r[2]}},t.getS3UrlKey=function(e){var t=l.parse(e);if(t.pathname)return t.pathname.split("/").slice(2).join("/")},t.getS3UrlExportPath=function(e){var t=l.parse(e);if(t.pathname){var r=t.pathname.split("/"),n=r[2],o=r.slice(3).join("-"),a=o.indexOf(".");return o.substring(0,a)+"-"+n+o.substring(a)}},t.isSecureFileUrl=function(e,t){return Boolean(e&&e.startsWith(t))},t.supportedProxyMimeTypes={"image/fits":!0,"image/ief":!0,"image/jp2":!0,"image/jpeg":!0,"image/jpg":!0,"image/jpm":!0,"image/jpx":!0,"image/png":!0,"image/tiff":!0,"image/tif":!0},t.shouldProxyImageUrl=function(e){var r=(t.getFileExtension(e)||"").toLowerCase();return!!t.supportedProxyMimeTypes["image/"+r]},t.isUnsplashImageUrl=function(e){return e.startsWith("https://images.unsplash.com/")},t.getResizedUnsplashImageUrl=function(e,t){var r=l.parse(e);return l.makeUrl({url:"https://images.unsplash.com"+r.pathname,query:n({},r.query,{w:(3*t).toString()})})},t.getBlockMarkdownPath=function(e){var t=e&&e.properties?i.getText(e.properties.title):"";return(t=(t=(t=t.replace(/[^\w]/g," ").trim()).split(/\s+/g).join("-"))||"Untitled").substring(0,50)+"-"+(e?e.id:"")+".md"},t.getCollectionCSVPath=function(e){return i.getTextWithoutTokens(e.name).replace(/[^\w]/g," ").trim().replace(/\s+/g,"-").substring(0,50)+"-"+e.id+".csv"},t.getSecureFileFromSource=function(e,r,n,o){if(t.isSecureFileUrl(e,n)){var a=t.getS3UrlId(e),i=t.getS3UrlKey(e);if(a&&i&&(!o||r&&r.indexOf(a)>=0))return{id:a,url:e}}},t.getFileExtension=function(e){var t=l.parse(e);if(t.pathname){var r=o.last(t.pathname.split("/"));if(r){var n=r.split(".");return 1===n.length?"":n[n.length-1]}}},t.fileNameWithoutExtension=function(e){var t=e.lastIndexOf(".");return t>=0?e.substring(0,t):e},t.getFileNameFromUrl=function(e){var t=l.parse(e);if(t.pathname){var r=t.pathname.substring(t.pathname.lastIndexOf("/")+1);if(r)return r}return""},t.getFileDisplayName=function(e){var r=e.title||t.getFileNameFromUrl(e.source)||e.source;if(e.title){var n=t.getFileExtension(e.source),o=t.getFileExtension(r);n&&n!==o&&(r+="."+n)}return r}},"62KP":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{contacts:!1}},t}(r("LEzx").default);t.default=a},"64xs":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("i8i4"),o=r("HVEP");t.default=function(){o.auto();var e=n.findDOMNode;n.findDOMNode=function(t){try{return e(t)}catch(e){return null}}}},"6BTz":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("qJBq"),o=r("LvDl"),a=r("hfHo"),i=r("72Qr");t.defaultNumberFormat="number",t.numberFormatOptions=["number","number_with_commas","percent","dollar","euro","pound","yen","ruble","rupee","won"];var l={dollar:"$",euro:"€",pound:"£",yen:"¥",ruble:"₽",rupee:"₹",won:"₩"},s=/[^0-9\.-]/g;t.formatNumber=function(e,t){return!o.isNumber(e)||isNaN(e)?"":"percent"===t?(100*e).toFixed(2)+"%":"date_range"===t?a.default.duration(e).humanize():"date"===t?a.default(e).fromNow():t&&l.hasOwnProperty(t)?i.default({prefix:l[t],padRight:"won"===t?0:2})(e):"number_with_commas"===t?i.default({})(e):""+e},t.parseNumber=function(e){return e?n(e.replace(s,"")):NaN},t.parseNumberFormat=function(e){var t=e.replace(/(\d)( |_)(\d\d\d)/g,"$1$3");if(/^\d+(\.\d+)?%$/.test(t))return{format:"percent",value:parseFloat(t)};var r=Object.keys(l).find(function(e){return t[0]===l[e]});if(r){var n=parseFloat(t.slice(1));if(!o.isNaN(n))return{format:r,value:n}}else if(t.indexOf("0x")<0&&t.indexOf("/")<0&&t.indexOf(":")<0&&t.indexOf("-")<=0){n=parseFloat(t);if(!o.isNaN(n))return{format:"number",value:n}}},t.getAggregationNumberFormat=function(e,r){return"count"===r||"empty"===r||"not_empty"===r||"unique"===r?"number":"percent_empty"===r||"percent_not_empty"===r||"percent_checked"===r||"percent_unchecked"===r?"percent":"number"!==e.type&&"formula"!==e.type||"sum"!==r&&"average"!==r&&"median"!==r&&"min"!==r&&"max"!==r&&"range"!==r?"date_range"===r?"date_range":"earliest_date"===r||"latest_date"===r?"date":void 0:e.number_format||t.defaultNumberFormat},t.formatHumanReadableCurrency=function(e,t){var r=Math.abs(e),n=r%100==0?r/100:(r/100).toFixed(2);return(e<0?"-":"")+l[t]+n}},"6BvA":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t.prototype.isActive=function(){return Boolean(this.state.blockStore)},t}(r("LEzx").default);t.default=new a},"6CqZ":function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r("fIr1"),i=r("g90h"),l=r("nFzZ");t.activityContextKeys=l.keys({space_id:!0,navigable_block_id:!0,collection_id:!0,mentioned_user_id:!0,mentioned_block_id:!0,mentioned_property:!0,top_level_block_id:!0,collection_row_id:!0,discussion_id:!0,invited_user_id:!0,collection_property_id:!0,collection_view_id:!0,reminder_block_id:!0,reminder_property:!0,permission_group_id:!0});var s=["space_id","navigable_block_id","collection_id","mentioned_user_id","mentioned_block_id","mentioned_property","collection_row_id","top_level_block_id","invited_user_id"];t.getActivityId=function(e){var r=l.pick(e,t.activityContextKeys),n=s.map(function(e){return r[e]}),a=l.omit(r,s),u=l.keys(a);u.sort();var c=u.map(function(e){return r[e]}),d=e.type,p=e.index,f=o([d],n,[p],c).filter(Boolean).join("");return i.deterministicID(f)},t.getMessageKey=function(e){return"activity/"+e},t.editTypeToActivityType={"block-created":"block-edited","block-deleted":"block-edited","block-changed":"block-edited","permission-created":"permissions-edited","permission-deleted":"permissions-edited","permission-changed":"permissions-edited","permission-group-created":"permission-group-edited","permission-group-deleted":"permission-group-edited","permission-group-changed":"permission-group-edited","top-level-block-created":"top-level-block-created","top-level-block-deleted":"top-level-block-deleted","collection-row-created":"collection-row-created","collection-row-deleted":"collection-row-deleted","mention-created":"user-mentioned","mention-deleted":"user-mentioned","comment-created":"commented","comment-changed":"commented","comment-deleted":"commented","user-invited":"user-invited","collection-created":"collection-edited","collection-changed":"collection-edited","collection-property-created":"collection-property-edited","collection-property-deleted":"collection-property-edited","collection-property-changed":"collection-property-edited","collection-view-created":"collection-view-edited","collection-view-deleted":"collection-view-edited","collection-view-changed":"collection-view-edited","reminder-created":"reminder","page-locked":"page-locked","page-unlocked":"page-unlocked","email-changed":"email-edited"},t.mentionTypes={"user-mentioned":!0,commented:!0,"user-invited":!0,reminder:!0,"email-edited":!0},t.unsquashableTypes={reminder:!0,"page-locked":!0,"page-unlocked":!0,"email-edited":!0};var u={table:"activity",columnTypes:{id:a.default.UUID,version:a.default.Number,last_version:a.default.Number,index:a.default.Number,start_time:a.default.String,end_time:a.default.String,space_id:a.default.UUID,navigable_block_id:a.default.UUID,collection_id:a.default.UUID,mentioned_user_id:a.default.UUID,mentioned_block_id:a.default.UUID,mentioned_property:a.default.String,top_level_block_id:a.default.UUID,discussion_id:a.default.UUID,invited_user_id:a.default.UUID,collection_row_id:a.default.UUID,collection_view_id:a.default.UUID,collection_property_id:a.default.String,reminder_block_id:a.default.UUID,reminder_property:a.default.String,permission_group_id:a.default.UUID,type:a.default.String,edits:a.default.JSON,invalid:a.default.Boolean,parent_table:a.default.String,parent_id:a.default.UUID}};t.default=u},"6D/F":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("RvCr"),s=r("wldR"),u=r("AOw3"),c=r("iZLY"),d=r("T1hA"),p=r("MBf9"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInsertAfter=function(e){var r=e.insertStores,n=e.transaction,o=t.props,a=o.store,i=o.collectionViewLocalStore,s=o.results,u=o.group,c=o.parentStore;return l.insert({parentStore:c,collectionViewLocalStore:i,group:u,results:s.state,insertStores:r,store:a,before:!1,transaction:n})},t.handleInsertBefore=function(e){var r=e.insertStores,n=e.transaction,o=t.props,a=o.store,i=o.collectionViewLocalStore,s=o.results,u=o.group,c=o.parentStore;return l.insert({parentStore:c,collectionViewLocalStore:i,group:u,results:s.state,insertStores:r,store:a,before:!0,transaction:n})},t.handleDrop=function(e){var r=e.droppedDirection,n=e.droppedStores,o=e.duplicate,a=t.props,i=a.store,s=a.collectionViewLocalStore,u=a.results,c=a.group,d=a.parentStore;p.createAndCommit(function(e){l.handleGroupDrop({parentStore:d,targetStore:i,droppedDirection:r,collectionViewLocalStore:s,group:c,droppedStores:n,results:u.state,duplicate:o,transaction:e})})},t.handleNativeDrop=function(e){var r=e.files,n=e.droppedDirection,o=t.props,a=o.store,i=o.collectionViewLocalStore,s=o.results,u=o.group,c=o.parentStore;p.createAndCommit(function(e){l.handleGroupNativeDrop({parentStore:c,targetStore:a,droppedDirection:n,collectionViewLocalStore:i,group:u,files:r,results:s.state,transaction:e})})},t.handleInsertRowBelow=function(e){var r=e.transaction;t.insertBlock(r,!1)},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.store,r=e.resultProps,n=e.resultComponent,o=e.canDrag,l=e.canDrop,s=e.selectableStyle,p=e.belowDropZoneMargin,f=e.analyticsName,h=e.disabled,m=e.direction,y=e.onSelectableEnter,g=t.canEdit()&&!h,v=this.props.shouldShowHoverMenu&&g,b="comment_only"===this.props.store.getRole()&&d.default.isLoggedIn(),w=m!==c.CollectionGroupDirection.Vertical&&l,S=m!==c.CollectionGroupDirection.Vertical&&l,_=m===c.CollectionGroupDirection.Vertical&&l;return i.createElement(u.default,{style:s,store:t,canSelect:g,shouldShowHalo:!0,canDrag:o,canDropBelow:_,canDropLeft:w,canDropRight:S,canNativeDropBelow:_,canNativeDropLeft:w,canNativeDropRight:S,canDropOnto:l,canTriggerContextMenu:g,showBlockMenuInput:!0,shouldShowHoverMenu:v,shouldComputeHoverMenuRect:v,shouldShowCommentMenu:b,onSelectableDrop:this.handleDrop,onNativeDrop:this.handleNativeDrop,onInsertAfter:this.handleInsertAfter,onInsertBefore:this.handleInsertBefore,canInsertBefore:l,canInsertAfter:l,onInsertRowBelow:this.handleInsertRowBelow,belowDropZoneMargin:p,dropzoneShouldNeverUseOrigin:!0,dropzoneMustBeWithinHorizontalBound:!0,analyticsName:f,shouldShowDropZone:!0,dropzoneGap:this.props.dropzoneGap,onEnter:y},i.createElement(n,a({},r,{store:t})))},t.prototype.insertBlock=function(e,t){var r=this.props,n=r.store,o=r.collectionViewLocalStore,a=r.results,i=r.format,s=o.state.localResult;if(s){var u;if(i.board_groups&&"board"===s.type){var c=s.groupResults.findIndex(function(e){return e.blockIds.indexOf(n.id)>=0});u=i.board_groups[c]}l.insertNewBlock({collectionViewLocalStore:o,group:u,results:a.state,store:n,before:t,transaction:e})}},t}(s.default);t.default=f},"6Jq+":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.findFromStore=function(e){return this.getSortedComponents().find(function(t){return t.props.store===e})},t.prototype.closestList=function(e,t){for(var r={ancestor:t?e:e.recordStoreParentStore,child:e};r.ancestor;){if(this.findFromStore(r.ancestor))return r;r.child=r.ancestor,r.ancestor=r.ancestor.recordStoreParentStore}return{}},t.prototype.listsWithin=function(e){var t,r,n=[];try{for(var o=a(this.getSortedComponents()),i=o.next();!i.done;i=o.next()){var l=i.value.props.store;e.contains(l)&&n.push(l)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},t}(r("Uv1v").default);t.default=new i},"6SEd":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"collection",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,name:n.default.JSON,description:n.default.JSON,icon:n.default.String,cover:n.default.String,schema:n.default.JSON,format:n.default.JSON,parent_id:n.default.UUID,parent_table:n.default.String,alive:n.default.Boolean,file_ids:n.default.StringArray,template_pages:n.default.StringArray,copied_from:n.default.UUID},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0},defaultColumnValues:{alive:!1}};t.default=o},"6V/x":function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getItemAtIndex=function(e,t){var r,o,a,i,l=0;try{for(var s=n(t),u=s.next();!u.done;u=s.next()){var c=u.value;try{for(var d=n(c.items),p=d.next();!p.done;p=d.next()){var f=p.value;if(l===e)return f;l++}}catch(e){a={error:e}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}},t.findItemWithKey=function(e,t){var r,o,a,i,l=0;try{for(var s=n(t),u=s.next();!u.done;u=s.next()){var c=u.value;try{for(var d=n(c.items),p=d.next();!p.done;p=d.next()){var f=p.value;if(f.key===e)return{item:f,index:l};l++}}catch(e){a={error:e}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}},t.getMenuLength=function(e){return e.reduce(function(e,t){return e+t.items.length},0)}},"6WtK":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("q1tI"),c=r("i8i4"),d=r("y6Dp"),p=r("UWAZ"),f=r("X4ZB"),h=r("r8oj"),m=r("/YYm"),y=r("hbKx"),g=r("OxuQ"),v=r("i3uR"),b=r("t+pW"),w=r("Oy36"),S=r("AOw3"),_=r("gbGO"),k=r("WgIs"),C=r("sbdd"),E=r("H4VD"),P=r("2Y+N"),x=r("d9nj"),T=r("prF1"),O=r("MBf9"),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPageButton=function(e){var r=e.store,n=e.showDivider,o=m.default({store:r,fullyQualified:!1});return s.createElement(u.Fragment,{key:r.id},s.createElement(S.default,{store:r,canDropOnto:r.canEdit(),onSelectableDrop:function(e){var t=e.droppedDirection,n=e.droppedStores,o=e.duplicate;O.createAndCommit(function(e){return p.handleDrop({targetParentStore:r.getContentStore(),targetStore:r,droppedDirection:t,droppedStores:n,duplicate:o,transaction:e})})},style:{display:"flex",alignItems:"center",minWidth:0},analyticsName:"breadcrumb",shouldShowDropZone:!0},s.createElement(T.default,{style:{display:"flex",minWidth:0},href:o,external:!1},s.createElement(x.default,{style:{fontSize:"inherit"},isSmall:!0,shouldShrink:!0},t.renderPageIconAndTitle(r)))),n&&t.renderBreadcrumbDivider())},t.handleCurrentPageMount=function(e){t.comp=e},t.handleClickCurrentPage=function(){var e=t.props.store;if(t.comp){var r=c.findDOMNode(t.comp);if(r&&r instanceof Element){var n=r.getBoundingClientRect();f.renamePage({blockStore:e,originRect:n}),d.trackOpenBreadcrumbCurrentPageMenu()}}},t}return o(t,e),t.prototype.renderComponent=function(){return s.createElement("div",{style:this.getStyle()},this.renderAncestors(),this.renderCurrentPage())},t.prototype.renderCurrentPage=function(){if(this.props.showCurrentPageControls)return this.renderCurrentPageWithControls();var e=this.props.store;return this.renderReadOnlyPage({store:e,showDivider:!1})},t.prototype.renderAncestors=function(){var e=this,t=this.props,r=t.store,n=t.maxAncestorCount,o=y.getNavigablePath(r),a=r.isNavigableBlock()?o.slice(1):l(o);return a.reverse(),o.reverse(),a.length>n?l([this.renderPageButton({store:a[0],showDivider:!0}),this.renderBlocksAsPopup(h.default.isMobile?o:a.slice(1,a.length-n+1))],a.slice(a.length-n+1).map(function(t){return e.renderPageButton({store:t,showDivider:!0})})):a.map(function(t){return e.renderPageButton({store:t,showDivider:!0})})},t.prototype.renderReadOnlyPage=function(e){var t=e.store,r=e.showDivider;return s.createElement("div",{style:{display:"flex",alignItems:"center",flexShrink:1,marginLeft:6,minWidth:0}},this.renderPageIconAndTitle(t),r&&this.renderBreadcrumbDivider())},t.prototype.renderPageIconAndTitle=function(e){return s.createElement("div",{style:{display:"flex",alignItems:"center",minWidth:0}},e.hasIcon()&&s.createElement(w.default,{disabled:!0,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:this.getIconStyle(),style:t.iconStyle}),s.createElement(g.default,{store:e,style:{maxWidth:this.props.ancestorMaxWidth}}))},t.prototype.renderCurrentPageWithControls=function(){var e=this.props.store;if(!e.state.ready)return null;var t=e.canEdit();return s.createElement(x.default,{shouldShrink:!0,onClick:this.handleClickCurrentPage,disabled:!t,isSmall:!0},e.hasIcon()&&s.createElement(w.default,{disabled:!0,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:this.getIconStyle(),style:{marginRight:6}}),s.createElement(g.default,{ref:this.handleCurrentPageMount,store:e,style:{maxWidth:this.props.currentPageMaxWidth}}))},t.prototype.getMenuListSections=function(e){return[{key:"results",render:function(e){return s.createElement(P.default,a({},e))},items:e.map(function(e,t){return{key:e.id,render:function(r){return s.createElement(C.default,a({},r,{isSubpage:0!==t,store:e,hidePath:!0}))},action:function(t){var r=t.event;E.navigateToBlock({store:e,metaClick:r.ctrlKey||r.metaKey})}}})}]},t.prototype.renderBlocksAsPopup=function(e){var r=this;return s.createElement(v.default,{popupType:h.default.isMobile?v.default.PopupType.SlideUp:v.default.PopupType.Popup,key:"pages-popup",renderOrigin:function(e){return s.createElement("div",{style:t.dividerWrapStyle},s.createElement(x.default,a({isSmall:!0},e),"..."),r.renderBreadcrumbDivider())},render:function(t){var n;return n=h.default.isMobile?{menuType:_.default.MenuType.Modal,title:"Breadcrumb",right:"Done",onClickRight:t.close}:{menuType:_.default.MenuType.Popup,width:240},s.createElement(_.default,a({},n),s.createElement(k.default,{onAccept:t.close,initialFocus:void 0,sections:r.getMenuListSections(e)}))}})},t.prototype.renderBreadcrumbDivider=function(){return s.createElement("span",{style:{marginLeft:2,marginRight:2,color:this.theme.lightTextColor}},"/")},t.prototype.getIconStyle=function(){return h.default.isMobile?24:20},t.prototype.getStyle=function(){return a({display:"flex",alignItems:"center",lineHeight:1.2,fontSize:14},this.props.style)},t.iconStyle={marginRight:6},t.dividerWrapStyle={display:"flex",alignItems:"center",flexShrink:0},t}(b.default);t.default=M},"6Ydq":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("A9TN");window._LTracker=window._LTracker||[],window._LTracker.push({logglyKey:n.default.loggly.token,sendConsoleErrors:!1,tag:"client-"+n.default.env}),r("fuyW");var o=r("E5KU"),a=r("r8oj"),i=r("zb5D"),l=r("LvDl"),s=r("qDOf"),u=r("T1hA");function c(e){n.default&&n.default.version&&(e.version=n.default.version),Object.assign(e,a.default.logglyData),a.default&&(u.default&&u.default.state.userId&&(e.userId=u.default.state.userId),a.default.isReactNative&&(e.isReactNative=!0),a.default.isCordova&&(e.isCordova=!0),a.default.isMobile&&(e.isMobile=!0),a.default.isAndroid&&(e.isAndroid=!0),a.default.isIOS&&(e.isIOS=!0),a.default.isElectron&&(e.isElectron=!0),a.default.isChromeExtension&&(e.isChromeExtension=!0)),e.os=a.default.os,e.platform=a.default.platform,window.navigator.userAgent&&(e.userAgent=window.navigator.userAgent),window.location.href&&(e.href=window.location.href),document.referrer&&(e.referrer=document.referrer),e.featureFlags=s.default.state.featureFlags}t.setClientLogglyEnvironmentData=c;var d=n.default.isLocalhost?"warning":"debug",p=["error","warning","info","debug"];function f(e){var t;t=e.level,p.indexOf(t)<=p.indexOf(d)&&o.log(e);var r=i.serializeObject(e);c(r),"undefined"!=typeof _LTracker&&_LTracker.push(r)}t.log=f,t.rateLimitedLog=l.throttle(f,2e3)},"6Zdk":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("Wae9"),l=r("vuDB"),s=r("bkwR"),u=r("QcDD"),c=r("vJXr"),d=r("xb3e"),p=r("vuDB"),f=r("A9TN");function h(){return o(this,void 0,void 0,function(){var e,t,r,o;return a(this,function(a){switch(a.label){case 0:return e=p.default.state.currentTab,!(t=u.default.state.currentSpaceStore)||f.default.isAdminMode?[2]:e!==l.SpaceUpdatesTab.FollowedPages?[3,2]:[4,s.setNotificationsAsRead({spaceId:t.id,timestamp:Date.now(),mentions:!1})];case 1:return a.sent(),r=i.default.state.results,o=r.map(function(e){return e.spaceId===t.id?n({},e,{unread:n({},e.unread,{nonMentions:0})}):e}),i.default.setState({results:o}),[3,4];case 2:return e!==l.SpaceUpdatesTab.Mentions?[3,4]:[4,s.setNotificationsAsRead({spaceId:t.id,timestamp:Date.now(),mentions:!0})];case 3:a.sent(),r=i.default.state.results,o=r.map(function(e){return e.spaceId===t.id?n({},e,{unread:n({},e.unread,{mentions:0})}):e}),i.default.setState({results:o}),a.label=4;case 4:return[2]}})})}t.setCurrentSidebarUpdatesTabAsRead=h,t.closeSidebarUpdatesPopup=function(){return o(this,void 0,void 0,function(){return a(this,function(e){return d.default.state.open&&(h(),d.default.reset()),[2]})})},t.visitPage=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return(t=u.default.state.currentSpaceStore)&&c.default.state.online&&!f.default.isAdminMode?[4,s.setPageNotificationsAsReadAndVisited({timestamp:Date.now(),spaceId:t.id,navigableBlockId:e})]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}},"6d3V":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("q1tI"),u=r("njgS"),c=r("b753"),d=r("HE4M"),p=r("cJKo"),f=r("udrG"),h=r("Sb6f"),m=r("mF3+"),y=r("+575"),g=r("zEGb"),v=r("AvkE"),b=r("5/h/"),w=r("z22Z"),S=r("bPtJ"),_=r("VpIZ"),k=r("D2XV"),C=r("CTEM"),E=r("Nvzn"),P=r("5/h/"),x=r("fO5X"),T=r("1y3T"),O=r("t+pW"),M=r("zmp8"),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderProperty=function(e,r,n){return i.createElement(R,{labeled:n,name:r.name,type:r.type},i.createElement(d.default,{propertySchema:r,value:e,rootStore:t.props.rootStore}))},t.renderBlockProperty=function(e,r,n,o){var a=(o||u.systemPropertyTypeMap)[r];if(a){var i=t.getPropertyValue(e,r);return t.renderProperty(i,a,n)}},t.renderBlockEditProperty=function(e,r,n){var o=t.getBlockSchema(e)[r],a="block-changed"===e.type?e.block_data.after.block_value:e.block_data.block_value,i=t.getPropertyValue(a,r);if(o)return t.renderProperty(i,o,n)},t.renderBlockEditPropertyDiff=function(e,r,n){var o=t.props.rootStore,a=t.getBlockSchema(e),l=a[r];if(l){var s=t.getPropertyValue(e.block_data.before.block_value,r),u=y.valueIsEmpty({property:r,schema:a,block:e.block_data.before.block_value,getRecordValue:function(e,t){return S.createRecordStore(o,e,t).getValue()},userTimeZone:k.currentTimeZone}),c=t.getPropertyValue(e.block_data.after.block_value,r),d=l.type;return u&&"text"!==d&&"title"!==d?t.renderProperty(c,l,n):i.createElement(R,{labeled:n,name:l.name,type:l.type},i.createElement(p.default,{propertySchema:l,beforeValue:s,afterValue:c,rootStore:t.props.rootStore}))}},t.getRecordValue=function(e,r){return S.createRecordStore(t.props.rootStore,e,r).getValue()},t}return o(t,e),t.prototype.renderComponent=function(){return this.renderEdit()||null},t.prototype.renderEdit=function(){var e=this.props.edit;switch(e.type){case"block-created":return this.renderBlockCreatedEdit(e);case"block-deleted":return this.renderBlockDeletedEdit(e);case"block-changed":return this.renderBlockChangedEdit(e);case"comment-created":return this.renderCommentCreatedEdit(e);case"comment-changed":return this.renderCommentChangedEdit(e);case"comment-deleted":return this.renderCommentDeletedEdit(e);case"mention-created":return this.renderMentionCreated(e);case"permission-created":return this.renderPermissionCreated(e);case"permission-changed":return this.renderPermissionChanged(e);case"permission-deleted":return this.renderPermissionDeleted(e);case"permission-group-created":return this.renderPermissionGroupCreated(e);case"permission-group-changed":return this.renderPermissionGroupChanged(e);case"permission-group-deleted":return this.renderPermissionGroupDeleted(e);case"reminder-created":return this.renderReminderCreated(e)}},t.prototype.renderBlock=function(e){switch(e.type){case f.default.text:return this.renderTextBlock(e);case f.default.header:return this.renderHeaderBlock(e);case f.default.subHeader:return this.renderSubHeaderBlock(e);case f.default.subSubHeader:return this.renderSubSubHeaderBlock(e);case f.default.toggle:return this.renderToggleBlock(e);case f.default.bulletedList:return this.renderBulletedListBlock(e);case f.default.numberedList:return this.renderNumberedListBlock(e);case f.default.quote:return this.renderQuoteBlock(e);case f.default.factory:return this.renderFactoryBlock(e);case f.default.equation:return this.renderEquationBlock(e);case f.default.toDo:return this.renderTodoBlock(e);case f.default.code:return this.renderCodeBlock(e);case f.default.bookmark:return this.renderBookmarkBlock(e);case f.default.page:return this.renderPageBlock(e);case f.default.collectionView:case f.default.collectionViewPage:if(e.collection_id){var t=this.getRecordValue("collection",e.collection_id);if(t)return this.renderCollectionBlock(t)}break;case f.default.image:return this.renderImageBlock(e);case f.default.embed:return this.renderEmbedBlock(e,"embed");case f.default.framer:return this.renderEmbedBlock(e,"framer");case f.default.tweet:return this.renderEmbedBlock(e,"tweet");case f.default.gist:return this.renderEmbedBlock(e,"gist");case f.default.drive:return this.renderEmbedBlock(e,"drive");case f.default.maps:return this.renderEmbedBlock(e,"maps");case f.default.invision:return this.renderEmbedBlock(e,"invision");case f.default.video:return this.renderEmbedBlock(e,"video");case f.default.audio:return this.renderEmbedBlock(e,"audio");case f.default.file:return this.renderEmbedBlock(e,"file")}},t.prototype.renderBlockDeleted=function(e){switch(e.type){case f.default.quote:return this.renderQuoteBlockDeleted(e);case f.default.code:return this.renderCodeBlockDeleted(e);case f.default.equation:return this.renderEquationBlockDeleted(e);case f.default.bookmark:return this.renderBookmarkBlockDeleted(e);case f.default.factory:return this.renderFactoryBlockDeleted(e);case f.default.image:return this.renderImageBlockDeleted(e);case f.default.embed:return this.renderEmbedBlockDeleted(e,"embed");case f.default.framer:return this.renderEmbedBlockDeleted(e,"framer");case f.default.tweet:return this.renderEmbedBlockDeleted(e,"tweet");case f.default.gist:return this.renderEmbedBlockDeleted(e,"gist");case f.default.drive:return this.renderEmbedBlockDeleted(e,"drive");case f.default.maps:return this.renderEmbedBlockDeleted(e,"maps");case f.default.invision:return this.renderEmbedBlockDeleted(e,"invision");case f.default.video:return this.renderEmbedBlockDeleted(e,"video");case f.default.audio:return this.renderEmbedBlockDeleted(e,"audio");case f.default.file:return this.renderEmbedBlockDeleted(e,"file");default:return this.renderBlock(e)}},t.prototype.renderBlockChanged=function(e){switch(e.block_data.after.block_value.type){case f.default.text:return this.renderTextBlockChanged(e);case f.default.header:return this.renderHeaderBlockChanged(e);case f.default.subHeader:return this.renderSubHeaderBlockChanged(e);case f.default.subSubHeader:return this.renderSubSubHeaderBlockChanged(e);case f.default.toggle:return this.renderToggleBlockChanged(e);case f.default.bulletedList:return this.renderBulletedListBlockChanged(e);case f.default.numberedList:return this.renderNumberedListBlockChanged(e);case f.default.quote:return this.renderQuoteBlockChanged(e);case f.default.factory:return this.renderFactoryBlockChanged(e);case f.default.equation:return this.renderEquationBlockChanged(e);case f.default.toDo:return this.renderTodoBlockChanged(e);case f.default.code:return this.renderCodeBlockChanged(e);case f.default.bookmark:return this.renderBookmarkBlockChanged(e);case f.default.page:return this.renderPageBlockChanged(e);case f.default.collectionView:case f.default.collectionViewPage:return this.renderCollectionBlockChanged(e);case f.default.image:return this.renderImageBlockChanged(e);case f.default.embed:return this.renderEmbedBlockChanged(e,"embed");case f.default.framer:return this.renderEmbedBlockChanged(e,"framer");case f.default.tweet:return this.renderEmbedBlockChanged(e,"tweet");case f.default.gist:return this.renderEmbedBlockChanged(e,"gist");case f.default.drive:return this.renderEmbedBlockChanged(e,"drive");case f.default.maps:return this.renderEmbedBlockChanged(e,"maps");case f.default.invision:return this.renderEmbedBlockChanged(e,"invision");case f.default.video:return this.renderEmbedBlockChanged(e,"video");case f.default.audio:return this.renderEmbedBlockChanged(e,"audio");case f.default.file:return this.renderEmbedBlockChanged(e,"file")}},t.prototype.renderBlockCreatedEdit=function(e){var r=e.block_data.block_value,n=this.renderBlock(r);if(n)switch(r.type){case f.default.quote:case f.default.video:case f.default.code:case f.default.equation:case f.default.file:case f.default.bookmark:case f.default.factory:return i.createElement("div",{style:t.wrapStyle},n);default:return i.createElement("div",{style:a({},t.wrapStyle,t.addedStyle)},n)}},t.prototype.renderBlockDeletedEdit=function(e){var r=e.block_data.block_value,n=this.renderBlockDeleted(r);if(n)switch(r.type){case f.default.quote:case f.default.video:case f.default.code:case f.default.equation:case f.default.file:case f.default.bookmark:case f.default.factory:return i.createElement("div",null,i.createElement("div",{style:this.getLabelStyle()},"Deleted"),i.createElement("div",{style:a({},t.wrapStyle)},n));default:return i.createElement("div",null,i.createElement("div",{style:this.getLabelStyle()},"Deleted"),i.createElement("div",{style:a({},t.wrapStyle,t.deletedStyle)},n))}},t.prototype.renderBlockChangedEdit=function(e){var r=this.renderBlockChanged(e);if(r)return i.createElement("div",{style:t.wrapStyle},r)},t.prototype.renderBlockTitle=function(e){return this.renderBlockProperty(e,"title",!1)},t.prototype.renderCheckbox=function(e){return i.createElement("div",{style:{marginRight:6,marginTop:3}},this.renderBlockProperty(e,"checked",!1))},t.prototype.renderEditTitle=function(e){return this.renderBlockEditProperty(e,"title",!1)},t.prototype.renderEditTitleDiff=function(e){return this.renderBlockEditPropertyDiff(e,"title",!1)},t.prototype.renderTextBlock=function(e){return this.renderBlockTitle(e)},t.prototype.renderTextBlockChanged=function(e){return this.renderEditTitleDiff(e)},t.prototype.renderHeaderBlock=function(e){return i.createElement("div",{style:t.headerStyle},this.renderBlockTitle(e))},t.prototype.renderHeaderBlockChanged=function(e){return i.createElement("div",{style:t.headerStyle},this.renderEditTitleDiff(e))},t.prototype.renderSubHeaderBlock=function(e){return i.createElement("div",{style:t.subHeaderStyle},this.renderBlockTitle(e))},t.prototype.renderSubHeaderBlockChanged=function(e){return i.createElement("div",{style:t.subHeaderStyle},this.renderEditTitleDiff(e))},t.prototype.renderSubSubHeaderBlock=function(e){return i.createElement("div",{style:t.subSubHeaderStyle},this.renderBlockTitle(e))},t.prototype.renderSubSubHeaderBlockChanged=function(e){return i.createElement("div",{style:t.subSubHeaderStyle},this.renderEditTitleDiff(e))},t.prototype.renderToggleBlock=function(e){return i.createElement(A,null,this.renderBlockTitle(e))},t.prototype.renderToggleBlockChanged=function(e){return i.createElement(A,null,this.renderEditTitleDiff(e))},t.prototype.renderBulletedListBlock=function(e){return i.createElement("ul",{style:{margin:0,paddingLeft:28}},i.createElement("li",null,this.renderBlockTitle(e)))},t.prototype.renderBulletedListBlockChanged=function(e){return i.createElement("ul",{style:{margin:0,paddingLeft:28}},i.createElement("li",null,this.renderEditTitleDiff(e)))},t.prototype.renderNumberedListBlock=function(e){return i.createElement("ol",{style:{margin:0,paddingLeft:28}},i.createElement("li",null,this.renderBlockTitle(e)))},t.prototype.renderNumberedListBlockChanged=function(e){return i.createElement("ol",{style:{margin:0,paddingLeft:28}},i.createElement("li",null,this.renderEditTitleDiff(e)))},t.prototype.renderQuoteBlock=function(e){return i.createElement(c.default,{title:"Quote",created:!0,theme:this.theme},this.renderBlockTitle(e))},t.prototype.renderQuoteBlockDeleted=function(e){return i.createElement(c.default,{title:"Quote",deleted:!0,theme:this.theme},this.renderBlockTitle(e))},t.prototype.renderQuoteBlockChanged=function(e){return i.createElement(c.default,{title:"Quote",theme:this.theme},this.renderEditTitleDiff(e))},t.prototype.renderFactoryBlock=function(e){return i.createElement(c.default,{title:"Template Button",created:!0,theme:this.theme},this.renderBlockTitle(e))},t.prototype.renderFactoryBlockDeleted=function(e){return i.createElement(c.default,{title:"Template Button",deleted:!0,theme:this.theme},this.renderBlockTitle(e))},t.prototype.renderFactoryBlockChanged=function(e){return i.createElement(c.default,{title:"Template Button",theme:this.theme},this.renderEditTitleDiff(e))},t.prototype.renderEquationBlock=function(e){return i.createElement(c.default,{title:"Equation",created:!0,theme:this.theme},this.renderBlockTitle(e))},t.prototype.renderEquationBlockDeleted=function(e){return i.createElement(c.default,{title:"Equation",deleted:!0,theme:this.theme},this.renderBlockTitle(e))},t.prototype.renderEquationBlockChanged=function(e){return i.createElement(c.default,{title:"Equation",theme:this.theme},this.renderEditTitleDiff(e))},t.prototype.renderTodoBlock=function(e){return i.createElement("div",{style:{display:"inline-flex"}},this.renderCheckbox(e),this.renderBlockTitle(e))},t.prototype.renderTodoBlockChanged=function(e){return v.blockPropertyWasChanged({before:e.block_data.before.block_value,after:e.block_data.after.block_value,property:"checked"})?i.createElement("div",{style:{display:"inline-flex"}},i.createElement("div",{style:{marginRight:6,marginTop:3,lineHeight:1}},this.renderBlockEditPropertyDiff(e,"checked",!1)),this.renderEditTitleDiff(e)):i.createElement("div",{style:{display:"inline-flex"}},this.renderCheckbox(e.block_data.after.block_value),this.renderEditTitleDiff(e))},t.prototype.renderCodeBlock=function(e){return i.createElement(c.default,{title:this.getCodeTitle(e),created:!0,theme:this.theme},i.createElement("span",{style:{fontFamily:h.default.fontFamily.mono,fontSize:12,tabSize:2}},this.renderBlockTitle(e)))},t.prototype.renderCodeBlockDeleted=function(e){return i.createElement(c.default,{title:this.getCodeTitle(e),deleted:!0,theme:this.theme},i.createElement("span",{style:{fontFamily:h.default.fontFamily.mono,fontSize:12,tabSize:2}},this.renderBlockTitle(e)))},t.prototype.renderCodeBlockChanged=function(e){return v.blockPropertyWasChanged({before:e.block_data.before.block_value,after:e.block_data.after.block_value,property:"language"})?i.createElement(c.default,{title:this.getCodeTitle(e.block_data.after.block_value),theme:this.theme},i.createElement("span",{style:{fontFamily:h.default.fontFamily.mono,fontSize:12,tabSize:2}},this.renderEditTitle(e)),this.renderBlockEditPropertyDiff(e,"language",!0)):i.createElement(c.default,{title:this.getCodeTitle(e.block_data.after.block_value),theme:this.theme},i.createElement("span",{style:{fontFamily:h.default.fontFamily.mono,fontSize:12,tabSize:2}},this.renderEditTitle(e)))},t.prototype.renderCaption=function(e){return this.hasProperty(e,"caption")&&this.renderBlockProperty(e,"caption",!1)},t.prototype.renderCaptionChanged=function(e){return this.propertyChanged(e,"caption")&&this.renderBlockEditPropertyDiff(e,"caption",!1)},t.prototype.renderEmbedBlock=function(e,t){return i.createElement(s.Fragment,null,i.createElement(c.default,{title:E.default(t),theme:this.theme},this.renderSource(e)),i.createElement("div",{style:{marginBottom:4}},this.renderCaption(e)))},t.prototype.renderEmbedBlockChanged=function(e,t){var r=this.propertyChanged(e,"source")&&i.createElement(c.default,{title:E.default(t),theme:this.theme},this.renderSource(e.block_data.after.block_value),this.renderBlockEditPropertyDiff(e,"source",!1));return i.createElement(s.Fragment,null,r,i.createElement("div",{style:{marginBottom:r?4:0}},this.renderCaptionChanged(e)))},t.prototype.renderEmbedBlockDeleted=function(e,t){return i.createElement(s.Fragment,null,i.createElement(c.default,{title:E.default(t),deleted:!0,theme:this.theme},this.renderSource(e)),i.createElement("div",{style:{marginBottom:4}},this.renderCaption(e)))},t.prototype.renderImageBlock=function(e){var t=this.getSource(e);if(t)return i.createElement(s.Fragment,null,i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:{marginTop:4,marginBottom:4}},i.createElement(D,{src:t,permissionRecord:{table:"block",id:e.id}}))),i.createElement("div",{style:{marginBottom:4}},this.renderCaption(e)))},t.prototype.renderImageBlockChanged=function(e){var t=this.getSource(e.block_data.before.block_value),r=this.getSource(e.block_data.after.block_value),n=t!==r&&i.createElement("div",{style:{marginTop:4,marginBottom:4}},i.createElement("div",{style:a({},this.getLabelStyle(),{marginBottom:4})},"Updated"),r&&i.createElement(D,{src:r,permissionRecord:{table:"block",id:e.block_id}}));return i.createElement(s.Fragment,null,n,i.createElement("div",{style:{marginBottom:n?4:0}},this.renderCaptionChanged(e)))},t.prototype.renderImageBlockDeleted=function(e){var t=this.getSource(e);if(t)return i.createElement(s.Fragment,null,i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:{marginTop:4,marginBottom:4}},i.createElement(D,{src:t,permissionRecord:{table:"block",id:e.id}}))),i.createElement("div",{style:{marginBottom:4}},this.renderCaption(e)))},t.prototype.renderComment=function(e){var t=this.getRecordValue("notion_user",e.created_by)||{},r=b.getFullName(t);return i.createElement("div",null,i.createElement("div",{style:a({},this.getLabelStyle(),{marginBottom:2})},r),i.createElement(d.default,{propertySchema:{type:"text",name:""},value:e.text,rootStore:this.props.rootStore}))},t.prototype.renderCommentDiff=function(e){var t=this.getRecordValue("notion_user",e.after.created_by)||{},r=b.getFullName(t);return i.createElement("div",null,i.createElement("div",{style:a({},this.getLabelStyle(),{marginBottom:2})},r),i.createElement(p.default,{propertySchema:{type:"text",name:""},beforeValue:e.before.text,afterValue:e.after.text,rootStore:this.props.rootStore}))},t.prototype.renderBookmarkBlock=function(e){var t=this.hasProperty(e,"title")&&i.createElement(c.default,{title:"Bookmark",created:!0,theme:this.theme},this.renderBlockTitle(e));return i.createElement(s.Fragment,null,t,this.hasProperty(e,"caption")&&i.createElement("div",{style:{marginBottom:t?4:0}},this.renderCaption(e)))},t.prototype.renderBookmarkBlockDeleted=function(e){var t=this.hasProperty(e,"title")&&i.createElement(c.default,{title:"Bookmark",created:!0,theme:this.theme},this.renderBlockTitle(e));return i.createElement(s.Fragment,null,t,this.hasProperty(e,"caption")&&i.createElement("div",{style:{marginBottom:t?4:0}},this.renderCaption(e)))},t.prototype.renderBookmarkBlockChanged=function(e){var t=(this.propertyChanged(e,"title")||this.propertyChanged(e,"source"))&&i.createElement(c.default,{title:"Bookmark",theme:this.theme},this.renderEditTitleDiff(e),this.renderBlockEditPropertyDiff(e,"link",!0));return i.createElement(s.Fragment,null,t,this.propertyChanged(e,"caption")&&i.createElement("div",{style:{marginBottom:t?4:0}},this.renderCaptionChanged(e)))},t.prototype.renderPageBlock=function(e){var t=this.getRecordValue("block",e.id)||e,r=_.getRecordTitle({table:"block",value:t,getRecordValue:this.getRecordValue,userTimeZone:k.currentTimeZone})||"Untitled";return i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("div",{style:{paddingRight:6}},i.createElement(L,{icon:t&&t.format&&t.format.page_icon})),i.createElement("div",{style:{flex:1}},r))},t.prototype.renderPageBlockChanged=function(e){var t=this,r=v.getChangedBlockProperties({before:e.block_data.before.block_value,after:e.block_data.after.block_value,schema:e.block_schema});return i.createElement("div",null,r.map(function(r,n,o){var a=0===n,l=n===o.length-1;return i.createElement("div",{key:r,style:{marginTop:a?6:10,marginBottom:l?0:6}},t.renderBlockEditPropertyDiff(e,r,!0))}))},t.prototype.renderCollectionBlock=function(e){var t=this.getRecordValue("collection",e.id)||e,r=_.getRecordTitle({table:"collection",value:t,getRecordValue:this.getRecordValue,userTimeZone:k.currentTimeZone})||"Untitled";return i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("div",{style:{paddingRight:4}},i.createElement(L,{icon:t&&t.icon})),i.createElement("div",{style:{flex:1}},r))},t.prototype.renderCollectionBlockChanged=function(e){return null},t.prototype.renderSource=function(e){var t=this.getSource(e);return i.createElement("span",{style:{wordBreak:"break-word"}},t)},t.prototype.renderPermissionCreated=function(e){return i.createElement("div",{style:a({},t.permissionStyle,t.addedStyle)},i.createElement("div",null,this.renderPermissionTarget(e)),i.createElement("div",null,this.renderPermissionRole(e.permission_data)))},t.prototype.renderPermissionDeleted=function(e){return i.createElement("div",{style:a({},t.permissionStyle,t.deletedStyle)},i.createElement("div",null,this.renderPermissionTarget(e)),i.createElement("div",null,this.renderPermissionRole(e.permission_data)))},t.prototype.renderPermissionChanged=function(e){return i.createElement("div",{style:t.permissionStyle},i.createElement("div",null,this.renderPermissionTarget(e)),i.createElement("div",null,i.createElement("div",{style:t.diffWrapStyle},this.renderPermissionRole(e.permission_data.before),i.createElement("div",{style:{padding:"0px 8px",color:this.theme.lightTextColor}},m.default.historyForward({width:14,height:14})),this.renderPermissionRole(e.permission_data.after))))},t.prototype.renderPermissionGroupCreated=function(e){var r=this,n=e.permission_group_data.user_ids||[],o=l.compact(n.map(function(e){return r.getRecordValue(P.default.table,e)}));if(0!==o.length)return i.createElement("div",null,o.map(function(e){return i.createElement("div",{key:e.id,style:a({},t.groupStyle,t.addedStyle)},b.getFullName(e))}))},t.prototype.renderPermissionGroupDeleted=function(e){var r=this,n=e.permission_group_data.user_ids||[],o=l.compact(n.map(function(e){return r.getRecordValue(P.default.table,e)}));if(0!==o.length)return i.createElement("div",null,o.map(function(e){return i.createElement("div",{key:e.id,style:a({},t.groupStyle,t.deletedStyle)},b.getFullName(e))}))},t.prototype.renderPermissionGroupChanged=function(e){var r=this,n=e.permission_group_data.before.user_ids||[],o=e.permission_group_data.after.user_ids||[],s=x.default(n,o),u=l.compact(s.created.map(function(e){return r.getRecordValue(P.default.table,e)})),c=l.compact(s.deleted.map(function(e){return r.getRecordValue(P.default.table,e)}));if(0!==u.length||0!==c.length)return i.createElement("div",null,u.map(function(e){return i.createElement("div",{key:e.id,style:a({},t.groupStyle,t.addedStyle)},b.getFullName(e))}),c.map(function(e){return i.createElement("div",{key:e.id,style:a({},t.groupStyle,t.deletedStyle)},b.getFullName(e))}))},t.prototype.renderPermissionRole=function(e){switch(w.getRole(e)){case"reader":return i.createElement("div",{style:this.getRoleStyle()},"Read-only");case"editor":return i.createElement("div",{style:this.getRoleStyle()},"Full Access");case"read_and_write":return i.createElement("div",{style:this.getRoleStyle()},"Can Edit");case"comment_only":return i.createElement("div",{style:this.getRoleStyle()},"Comment Only");case"none":return i.createElement("div",{style:this.getRoleStyle()},"None")}},t.prototype.renderPermissionTarget=function(e){var r="permission-changed"===e.type?e.permission_data.after:e.permission_data;if("user_permission"===r.type){var n=this.getRecordValue("notion_user",r.user_id),o=b.getFullName(n);return i.createElement("div",{style:t.permissionTypeWrapStyle},i.createElement("div",{style:t.boldStyle},o,": "))}if("space_permission"===r.type){var a=(l=this.getRecordValue("space",e.space_id))?l.name:"Unknown";return i.createElement("div",{style:t.permissionTypeWrapStyle},i.createElement("div",{style:t.boldStyle},a,": "))}if("public_permission"===r.type)return i.createElement("div",{style:t.permissionTypeWrapStyle},i.createElement("div",{style:t.boldStyle},"Publish to Web",": "));if("group_permission"===r.type){var l,s=((l=this.getRecordValue("space",e.space_id))&&l.permission_groups||[]).find(function(e){return e.id===r.group_id});a=s&&s.name||"Deleted Group";return i.createElement("div",{style:t.permissionTypeWrapStyle},i.createElement("div",{style:t.boldStyle},a,": "))}},t.prototype.renderCommentCreatedEdit=function(e){var r=this.getRecordValue("comment",e.comment_id),n=e.comment_data||r;if(n)return i.createElement("div",{style:t.wrapStyle},this.renderComment(n))},t.prototype.renderCommentChangedEdit=function(e){return i.createElement("div",{style:t.wrapStyle},this.renderCommentDiff(e.comment_data))},t.prototype.renderCommentDeletedEdit=function(e){var r=this.getRecordValue("comment",e.comment_id),n=e.comment_data||r;if(n)return i.createElement("div",{style:a({},t.wrapStyle,t.deletedStyle)},this.renderComment(n))},t.prototype.renderMentionCreated=function(e){return this.renderBlockOrProperty({blockId:e.mentioned_block_id,property:e.mentioned_property})},t.prototype.renderReminderCreated=function(e){return this.renderBlockOrProperty({blockId:e.reminder_block_id,property:e.reminder_property})},t.prototype.renderBlockOrProperty=function(e){var r=this.getRecordValue("block",e.blockId);if(r)if("collection"===r.parent_table){var n=this.getRecordValue("collection",r.parent_id);if(n){var o=u.getNormalizedSchema(n);if(l=this.renderBlockProperty(r,e.property,!0,o))return i.createElement("div",{style:a({},t.wrapStyle,{paddingTop:6,paddingBottom:4})},l)}}else{var l;if(l=this.renderBlock(r))return i.createElement("div",{style:t.wrapStyle},l)}},t.prototype.getBlockSchema=function(e){return e.block_schema||u.systemPropertyTypeMap},t.prototype.getPropertyValue=function(e,t){return e.properties&&e.properties[t]||[]},t.prototype.getCodeTitle=function(e){var t=e&&e.properties&&e.properties.language;return t?"Code - "+y.toSelectValue(t,u.languageOptions):"Code"},t.prototype.getSource=function(e){var t=e&&e.properties&&e.properties.source;return y.toUrlValue(t)},t.prototype.hasProperty=function(e,t){return Boolean(e&&e.properties&&e.properties[t])},t.prototype.propertyChanged=function(e,t){return!l.isEqual(e.block_data.before.block_value&&e.block_data.before.block_value.properties&&e.block_data.before.block_value.properties[t],e.block_data.after.block_value&&e.block_data.after.block_value.properties&&e.block_data.after.block_value.properties[t])},t.prototype.getLabelStyle=function(){return{fontSize:12,lineHeight:1,paddingTop:8,color:this.theme.lightTextColor}},t.prototype.getRoleStyle=function(){return{fontSize:14,color:this.theme.mediumTextColor,whiteSpace:"nowrap"}},t.wrapStyle={display:"flex",flexDirection:"column",justifyContent:"center",flexGrow:1,overflow:"hidden",fontSize:14,minHeight:29},t.headerStyle={fontWeight:h.default.fontWeight.semibold},t.subHeaderStyle={fontWeight:h.default.fontWeight.semibold},t.subSubHeaderStyle={fontWeight:h.default.fontWeight.semibold},t.permissionStyle={display:"flex",alignItems:"center",minHeight:28},t.groupStyle={display:"flex",alignItems:"center",minHeight:28,fontSize:14},t.boldStyle={fontWeight:h.default.fontWeight.semibold},t.permissionTypeWrapStyle={display:"flex",alignItems:"center",fontSize:14,marginRight:6,whiteSpace:"nowrap"},t.diffWrapStyle={display:"flex",alignItems:"center"},t.addedStyle={color:M.default.blue,backgroundColor:M.default.blueWithAlpha(.14)},t.deletedStyle={opacity:.4,marginBottom:6,textDecoration:"line-through"},t}(O.default);t.default=I;var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=i.createElement("div",{style:{width:"1em",height:"1em",display:"flex",alignSelf:"stretch",justifyContent:"center",flexShrink:0,marginLeft:6,marginRight:6,marginTop:6}},m.default.triangle({width:"0.6875em",height:"0.6875em",transform:"rotateZ(90deg)"}));return i.createElement("div",{style:{display:"inline-flex",alignItems:"center"}},e,i.createElement("span",null,this.props.children))},t}(O.default),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return this.props.src?i.createElement(T.default,{url:this.props.src,permissionRecord:this.props.permissionRecord,width:170,render:function(e,t){if(t)return i.createElement("img",{src:t,style:{maxHeight:170,maxWidth:170}})}}):i.createElement("div",{style:{backgroundColor:this.theme.lightTextColor,height:170,width:170}})},t}(O.default),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.icon;return e?C.default(e)?i.createElement("div",{style:{fontSize:16.2,display:"inline-block"}},e):i.createElement("img",{src:e,style:{height:18,width:18,marginTop:6}}):m.default.page({height:18,width:18})},t}(O.default),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return this.props.labeled?i.createElement("div",null,i.createElement("div",{style:{display:"flex",color:this.theme.lightTextColor,fontSize:12,lineHeight:1,marginBottom:2}},i.createElement(g.default,{type:this.props.type,size:12,theme:this.theme}),i.createElement("div",{style:{marginLeft:6}},this.props.name)),i.createElement("div",{style:{display:"flex",alignItems:"center",minHeight:24}},this.props.children)):i.createElement("div",null,this.props.children)},t}(O.default)},"6f7s":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("PQqx"),l=r("y6Dp"),s=r("wldR"),u=r("+mWT"),c=r("BJyN"),d=r("sjR4"),p=r("fwa5"),f=r("iICV"),h=r("AmMh"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.capturedKeyEvents=!1,t.handleShortcut=function(e,r){if(t.shouldBeActive()){var n=d.default.state.stores,o=d.default.state.pivot||n[0],a=o&&h.default.getRectFromStore(o),i=c.allActions.find(function(t){return!!(t.shortcuts||[]).some(function(t){return t===e})&&u.validateAction(t,{blocks:n,originRect:a})});if(i){"keydown"===r.type&&r.preventDefault(),i.action({blocks:n,originRect:a},r);var s=n[0],p=void 0;s&&(p=s.getType()),l.trackBlockAction({name:i.name,from:"keyboard_shortcut",block_type:p}),t.enterKeyboardMode()}}},t.handleWindowMouseMove=function(e){e.clientX===t.prevX&&e.clientY===t.prevY||(t.prevX=e.clientX,t.prevY=e.clientY,t.exitKeyboardMode())},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),window.addEventListener("mousemove",this.handleWindowMouseMove)},t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t),!this.capturedKeyEvents&&t.capture?this.captureKeyboardEvents():this.capturedKeyEvents&&!t.capture&&this.releaseKeyboardEvents(),this.capturedKeyEvents=t.capture},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),this.releaseKeyboardEvents(),window.removeEventListener("mousemove",this.handleWindowMouseMove)},t.prototype.captureKeyboardEvents=function(){var e,t,r,n,o={};try{for(var l=a(c.allActions),s=l.next();!s.done;s=l.next()){var u=s.value;try{for(var d=a(u.shortcuts||[]),p=d.next();!p.done;p=d.next()){var f=p.value;o[f]=this.handleShortcut.bind(this,f)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}this.props.isRoot?i.addRootListener({listener:this,shortcuts:o}):i.addListener({listener:this,shortcuts:o})},t.prototype.releaseKeyboardEvents=function(){i.removeListener(this)},t.prototype.shouldBeActive=function(){return!this.intercomIsFocused()&&!p.default.state.isActive},t.prototype.intercomIsFocused=function(){var e=document.querySelector("#intercom-container");return!(!e||!e.contains(document.activeElement))},t.prototype.enterKeyboardMode=function(){f.default.setKeyboardMode(!0)},t.prototype.exitKeyboardMode=function(){f.default.setKeyboardMode(!1)},t}(s.default);t.default=m},"6fCZ":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("hi+p"),u=r("7M94"),c=r("t+pW"),d=r("LeVO"),p=r("6rsX"),f=r("BJyN"),h=r("sjR4"),m=r("MeYt"),y=r("r8oj"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderButton=function(e){return i.createElement(m.default,a({className:t.props.fadeIn?u.fadeIn:void 0,style:t.getButtonStyle(),onClick:t.handleActionButtonClick},e),l.default.dots(a({width:14,height:14},t.props.iconStyle)))},t.handleActionButtonClick=function(e){p.select({store:t.props.store}),s.showAtPosition({stores:h.default.state.stores,left:e.clientX,top:e.clientY,showInput:!0,actions:f.blockActions,analyticsFrom:"block_more_menu"}),t.props.onClick&&t.props.onClick()},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return this.props.tooltipContent?i.createElement(d.default,{renderTooltip:function(){return e.props.tooltipContent},delayThreshold:300,render:this.renderButton}):this.renderButton({})},t.prototype.getButtonStyle=function(){return a({display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:24,height:24,borderRadius:3,fill:y.default.isMobile?this.theme.lightIconColor:this.theme.mediumIconColor},this.props.style)},t}(c.default);t.default=g},"6fvo":function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("TBal");t.getEmojiIcon=function(e,t){var r=void 0,n="string"==typeof e?e:e.char;if(o.default.parse(n,{callback:function(e){r=e}}),r)switch(t){case"svg":return"https://s3-us-west-2.amazonaws.com/www-next3.notion.so/emojis/20190403T172154/svg/"+r+".svg";case"png72":return"https://s3-us-west-2.amazonaws.com/www-next3.notion.so/emojis/20190403T172154/72x72/"+r+".png"}},t.emojis={symbols:{100:{keywords:["100","score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",category:"symbols"},1234:{keywords:["1234","numbers","blue-square"],char:"🔢",category:"symbols"},heart:{keywords:["heart","love","like","valentines"],char:"❤️",category:"symbols"},yellow_heart:{keywords:["yellow heart","love","like","affection","valentines"],char:"💛",category:"symbols"},green_heart:{keywords:["green heart","love","like","affection","valentines"],char:"💚",category:"symbols"},blue_heart:{keywords:["blue heart","love","like","affection","valentines"],char:"💙",category:"symbols"},purple_heart:{keywords:["purple heart","love","like","affection","valentines"],char:"💜",category:"symbols"},black_heart:{keywords:["black heart","evil"],char:"🖤",category:"symbols"},broken_heart:{keywords:["broken heart","sad","sorry","break","heart","heartbreak"],char:"💔",category:"symbols"},heavy_heart_exclamation_mark_ornament:{keywords:["heavy heart exclamation mark ornament","decoration","love"],char:"❣",category:"symbols"},two_hearts:{keywords:["two hearts","love","like","affection","valentines","heart"],char:"💕",category:"symbols"},revolving_hearts:{keywords:["revolving hearts","love","like","affection","valentines"],char:"💞",category:"symbols"},heartbeat:{keywords:["heartbeat","love","like","affection","valentines","pink","heart"],char:"💓",category:"symbols"},heartpulse:{keywords:["heartpulse","like","love","affection","valentines","pink"],char:"💗",category:"symbols"},sparkling_heart:{keywords:["sparkling heart","love","like","affection","valentines"],char:"💖",category:"symbols"},cupid:{keywords:["cupid","love","like","heart","affection","valentines"],char:"💘",category:"symbols"},gift_heart:{keywords:["gift heart","love","valentines"],char:"💝",category:"symbols"},heart_decoration:{keywords:["heart decoration","purple-square","love","like"],char:"💟",category:"symbols"},peace_symbol:{keywords:["peace symbol","hippie"],char:"☮",category:"symbols"},latin_cross:{keywords:["latin cross","christianity"],char:"✝",category:"symbols"},star_and_crescent:{keywords:["star and crescent","islam"],char:"☪",category:"symbols"},om_symbol:{keywords:["om symbol","hinduism","buddhism","sikhism","jainism"],char:"🕉",category:"symbols"},wheel_of_dharma:{keywords:["wheel of dharma","hinduism","buddhism","sikhism","jainism"],char:"☸",category:"symbols"},six_pointed_star:{keywords:["six pointed star","purple-square","religion","jewish","hexagram"],char:"🔯",category:"symbols"},menorah_with_nine_branches:{keywords:["menorah with nine branches","hanukkah","candles","jewish"],char:"🕎",category:"symbols"},yin_yang:{keywords:["yin yang","balance"],char:"☯",category:"symbols"},orthodox_cross:{keywords:["orthodox cross","suppedaneum","religion"],char:"☦",category:"symbols"},place_of_worship:{keywords:["place of worship","religion","church","temple","prayer"],char:"🛐",category:"symbols"},ophiuchus:{keywords:["ophiuchus","sign","purple-square","constellation","astrology"],char:"⛎",category:"symbols"},aries:{keywords:["aries","sign","purple-square","zodiac","astrology"],char:"♈",category:"symbols"},taurus:{keywords:["taurus","purple-square","sign","zodiac","astrology"],char:"♉",category:"symbols"},gemini:{keywords:["gemini","sign","zodiac","purple-square","astrology"],char:"♊",category:"symbols"},cancer:{keywords:["cancer","sign","zodiac","purple-square","astrology"],char:"♋",category:"symbols"},leo:{keywords:["leo","sign","purple-square","zodiac","astrology"],char:"♌",category:"symbols"},virgo:{keywords:["virgo","sign","zodiac","purple-square","astrology"],char:"♍",category:"symbols"},libra:{keywords:["libra","sign","purple-square","zodiac","astrology"],char:"♎",category:"symbols"},scorpius:{keywords:["scorpius","sign","zodiac","purple-square","astrology","scorpio"],char:"♏",category:"symbols"},sagittarius:{keywords:["sagittarius","sign","zodiac","purple-square","astrology"],char:"♐",category:"symbols"},capricorn:{keywords:["capricorn","sign","zodiac","purple-square","astrology"],char:"♑",category:"symbols"},aquarius:{keywords:["aquarius","sign","purple-square","zodiac","astrology"],char:"♒",category:"symbols"},pisces:{keywords:["pisces","purple-square","sign","zodiac","astrology"],char:"♓",category:"symbols"},id:{keywords:["id","purple-square","words"],char:"🆔",category:"symbols"},atom_symbol:{keywords:["atom symbol","science"],char:"⚛",category:"symbols"},u7a7a:{keywords:["u7a7a","kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",category:"symbols"},u5272:{keywords:["u5272","cut","divide","chinese","kanji","pink-square"],char:"🈹",category:"symbols"},radioactive_sign:{keywords:["radioactive sign","nuclear","danger"],char:"☢",category:"symbols"},biohazard_sign:{keywords:["biohazard sign","danger"],char:"☣",category:"symbols"},mobile_phone_off:{keywords:["mobile phone off","mute","orange-square","silence","quiet"],char:"📴",category:"symbols"},vibration_mode:{keywords:["vibration mode","orange-square","phone"],char:"📳",category:"symbols"},u6709:{keywords:["u6709","orange-square","chinese","have","kanji"],char:"🈶",category:"symbols"},u7121:{keywords:["u7121","nothing","chinese","kanji","japanese","orange-square"],char:"🈚",category:"symbols"},u7533:{keywords:["u7533","chinese","japanese","kanji","orange-square"],char:"🈸",category:"symbols"},u55b6:{keywords:["u55b6","japanese","opening hours","orange-square"],char:"🈺",category:"symbols"},u6708:{keywords:["u6708","chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",category:"symbols"},eight_pointed_black_star:{keywords:["eight pointed black star","orange-square","shape","polygon"],char:"✴️",category:"symbols"},vs:{keywords:["vs","words","orange-square"],char:"🆚",category:"symbols"},accept:{keywords:["accept","ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",category:"symbols"},white_flower:{keywords:["white flower","japanese","spring"],char:"💮",category:"symbols"},ideograph_advantage:{keywords:["ideograph advantage","chinese","kanji","obtain","get","circle"],char:"🉐",category:"symbols"},secret:{keywords:["secret","privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",category:"symbols"},congratulations:{keywords:["congratulations","chinese","kanji","japanese","red-circle"],char:"㊗️",category:"symbols"},u5408:{keywords:["u5408","japanese","chinese","join","kanji","red-square"],char:"🈴",category:"symbols"},u6e80:{keywords:["u6e80","full","chinese","japanese","red-square","kanji"],char:"🈵",category:"symbols"},u7981:{keywords:["u7981","kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",category:"symbols"},a:{keywords:["a","red-square","alphabet","letter"],char:"🅰️",category:"symbols"},b:{keywords:["b","red-square","alphabet","letter"],char:"🅱️",category:"symbols"},ab:{keywords:["ab","red-square","alphabet"],char:"🆎",category:"symbols"},cl:{keywords:["cl","alphabet","words","red-square"],char:"🆑",category:"symbols"},o2:{keywords:["o2","alphabet","red-square","letter"],char:"🅾️",category:"symbols"},sos:{keywords:["sos","help","red-square","words","emergency","911"],char:"🆘",category:"symbols"},no_entry:{keywords:["no entry","limit","security","privacy","bad","denied","stop","circle"],char:"⛔",category:"symbols"},name_badge:{keywords:["name badge","fire","forbid"],char:"📛",category:"symbols"},no_entry_sign:{keywords:["no entry sign","forbid","stop","limit","denied","disallow","circle"],char:"🚫",category:"symbols"},x:{keywords:["x","no","delete","remove","cancel"],char:"❌",category:"symbols"},o:{keywords:["o","circle","round"],char:"⭕",category:"symbols"},octagonal_sign:{keywords:["octagonal sign","stop"],char:"🛑",category:"symbols"},anger:{keywords:["anger","angry","mad"],char:"💢",category:"symbols"},hotsprings:{keywords:["hotsprings","bath","warm","relax"],char:"♨️",category:"symbols"},no_pedestrians:{keywords:["no pedestrians","rules","crossing","walking","circle"],char:"🚷",category:"symbols"},do_not_litter:{keywords:["do not litter","trash","bin","garbage","circle"],char:"🚯",category:"symbols"},no_bicycles:{keywords:["no bicycles","cyclist","prohibited","circle"],char:"🚳",category:"symbols"},"non-potable_water":{keywords:["non-potable water","drink","faucet","tap","circle"],char:"🚱",category:"symbols"},underage:{keywords:["underage","18","drink","pub","night","minor","circle"],char:"🔞",category:"symbols"},no_mobile_phones:{keywords:["no mobile phones","iphone","mute","circle"],char:"📵",category:"symbols"},exclamation:{keywords:["exclamation","heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",category:"symbols"},grey_exclamation:{keywords:["grey exclamation","surprise","punctuation","gray","wow","warning"],char:"❕",category:"symbols"},question:{keywords:["question","doubt","confused"],char:"❓",category:"symbols"},grey_question:{keywords:["grey question","doubts","gray","huh","confused"],char:"❔",category:"symbols"},bangbang:{keywords:["bangbang","exclamation","surprise"],char:"‼️",category:"symbols"},interrobang:{keywords:["interrobang","wat","punctuation","surprise"],char:"⁉️",category:"symbols"},low_brightness:{keywords:["low brightness","sun","afternoon","warm","summer"],char:"🔅",category:"symbols"},high_brightness:{keywords:["high brightness","sun","light"],char:"🔆",category:"symbols"},trident:{keywords:["trident","weapon","spear"],char:"🔱",category:"symbols"},fleur_de_lis:{keywords:["fleur de lis","decorative","scout"],char:"⚜",category:"symbols"},part_alternation_mark:{keywords:["part alternation mark","graph","presentation","stats","business","economics","bad"],char:"〽️",category:"symbols"},warning:{keywords:["warning","exclamation","wip","alert","error","problem","issue"],char:"⚠️",category:"symbols"},children_crossing:{keywords:["children crossing","school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",category:"symbols"},beginner:{keywords:["beginner","badge","shield"],char:"🔰",category:"symbols"},recycle:{keywords:["recycle","arrow","environment","garbage","trash"],char:"♻️",category:"symbols"},u6307:{keywords:["u6307","chinese","point","green-square","kanji"],char:"🈯",category:"symbols"},chart:{keywords:["chart","green-square","graph","presentation","stats"],char:"💹",category:"symbols"},sparkle:{keywords:["sparkle","stars","green-square","awesome","good","fireworks"],char:"❇️",category:"symbols"},eight_spoked_asterisk:{keywords:["eight spoked asterisk","star","sparkle","green-square"],char:"✳️",category:"symbols"},negative_squared_cross_mark:{keywords:["negative squared cross mark","x","green-square","no","deny"],char:"❎",category:"symbols"},white_check_mark:{keywords:["white check mark","green-square","ok","agree","vote","election","answer"],char:"✅",category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["diamond shape with a dot inside","jewel","blue","gem","crystal","fancy"],char:"💠",category:"symbols"},cyclone:{keywords:["cyclone","weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin"],char:"🌀",category:"symbols"},loop:{keywords:["loop","tape","cassette"],char:"➿",category:"symbols"},globe_with_meridians:{keywords:["globe with meridians","earth","international","world","internet","interweb","i18n"],char:"🌐",category:"symbols"},m:{keywords:["m","alphabet","blue-circle","letter"],char:"Ⓜ️",category:"symbols"},atm:{keywords:["atm","money","sales","cash","blue-square","payment","bank"],char:"🏧",category:"symbols"},sa:{keywords:["sa","japanese","blue-square","katakana"],char:"🈂️",category:"symbols"},passport_control:{keywords:["passport control","custom","blue-square"],char:"🛂",category:"symbols"},customs:{keywords:["customs","passport","border","blue-square"],char:"🛃",category:"symbols"},baggage_claim:{keywords:["baggage claim","blue-square","airport","transport"],char:"🛄",category:"symbols"},left_luggage:{keywords:["left luggage","blue-square","travel"],char:"🛅",category:"symbols"},wheelchair:{keywords:["wheelchair","blue-square","disabled","a11y","accessibility"],char:"♿",category:"symbols"},no_smoking:{keywords:["no smoking","cigarette","blue-square","smell","smoke"],char:"🚭",category:"symbols"},wc:{keywords:["wc","toilet","restroom","blue-square"],char:"🚾",category:"symbols"},parking:{keywords:["parking","cars","blue-square","alphabet","letter"],char:"🅿️",category:"symbols"},potable_water:{keywords:["potable water","blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",category:"symbols"},mens:{keywords:["mens","toilet","restroom","wc","blue-square","gender","male"],char:"🚹",category:"symbols"},womens:{keywords:["womens","purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",category:"symbols"},baby_symbol:{keywords:["baby symbol","orange-square","child"],char:"🚼",category:"symbols"},restroom:{keywords:["restroom","blue-square","toilet","refresh","wc","gender"],char:"🚻",category:"symbols"},put_litter_in_its_place:{keywords:["put litter in its place","blue-square","sign","human","info"],char:"🚮",category:"symbols"},cinema:{keywords:["cinema","blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",category:"symbols"},signal_strength:{keywords:["signal strength","blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",category:"symbols"},koko:{keywords:["koko","blue-square","here","katakana","japanese","destination"],char:"🈁",category:"symbols"},ng:{keywords:["ng","blue-square","words","shape","icon"],char:"🆖",category:"symbols"},ok:{keywords:["ok","good","agree","yes","blue-square"],char:"🆗",category:"symbols"},up:{keywords:["up","blue-square","above","high"],char:"🆙",category:"symbols"},cool:{keywords:["cool","words","blue-square"],char:"🆒",category:"symbols"},new:{keywords:["new","blue-square","words","start"],char:"🆕",category:"symbols"},free:{keywords:["free","blue-square","words"],char:"🆓",category:"symbols"},keycap_ten:{keywords:["keycap ten","numbers","10","blue-square"],char:"🔟",category:"symbols"},keycap_star:{keywords:["keycap star","asterisk"],char:"*⃣",category:"symbols"},arrow_forward:{keywords:["arrow forward","blue-square","right","direction","play"],char:"▶️",category:"symbols"},double_vertical_bar:{keywords:["double vertical bar","pause","blue-square"],char:"⏸",category:"symbols"},black_right_pointing_triangle_with_double_vertical_bar:{keywords:["black right pointing triangle with double vertical bar","forward","next","blue-square"],char:"⏭",category:"symbols"},black_square_for_stop:{keywords:["black square for stop","blue-square"],char:"⏹",category:"symbols"},black_circle_for_record:{keywords:["black circle for record","blue-square"],char:"⏺",category:"symbols"},black_right_pointing_double_triangle_with_vertical_bar:{keywords:["black right pointing double triangle with vertical bar","blue-square","play","pause"],char:"⏯",category:"symbols"},black_left_pointing_double_triangle_with_vertical_bar:{keywords:["black left pointing double triangle with vertical bar","backward"],char:"⏮",category:"symbols"},fast_forward:{keywords:["fast forward","blue-square","play","speed","continue"],char:"⏩",category:"symbols"},rewind:{keywords:["rewind","play","blue-square"],char:"⏪",category:"symbols"},twisted_rightwards_arrows:{keywords:["twisted rightwards arrows","blue-square","shuffle","music","random"],char:"🔀",category:"symbols"},repeat:{keywords:["repeat","loop","record"],char:"🔁",category:"symbols"},repeat_one:{keywords:["repeat one","blue-square","loop"],char:"🔂",category:"symbols"},arrow_backward:{keywords:["arrow backward","blue-square","left","direction"],char:"◀️",category:"symbols"},arrow_up_small:{keywords:["arrow up small","blue-square","triangle","direction","point","forward","top"],char:"🔼",category:"symbols"},arrow_down_small:{keywords:["arrow down small","blue-square","direction","bottom"],char:"🔽",category:"symbols"},arrow_double_up:{keywords:["arrow double up","blue-square","direction","top"],char:"⏫",category:"symbols"},arrow_double_down:{keywords:["arrow double down","blue-square","direction","bottom"],char:"⏬",category:"symbols"},arrow_right:{keywords:["arrow right","blue-square","next"],char:"➡️",category:"symbols"},arrow_left:{keywords:["arrow left","blue-square","previous","back"],char:"⬅️",category:"symbols"},arrow_up:{keywords:["arrow up","blue-square","continue","top","direction"],char:"⬆️",category:"symbols"},arrow_down:{keywords:["arrow down","blue-square","direction","bottom"],char:"⬇️",category:"symbols"},arrow_upper_right:{keywords:["arrow upper right","blue-square","point","direction","diagonal","northeast"],char:"↗️",category:"symbols"},arrow_lower_right:{keywords:["arrow lower right","blue-square","direction","diagonal","southeast"],char:"↘️",category:"symbols"},arrow_lower_left:{keywords:["arrow lower left","blue-square","direction","diagonal","southwest"],char:"↙️",category:"symbols"},arrow_upper_left:{keywords:["arrow upper left","blue-square","point","direction","diagonal","northwest"],char:"↖️",category:"symbols"},arrow_up_down:{keywords:["arrow up down","blue-square","direction","way","vertical"],char:"↕️",category:"symbols"},left_right_arrow:{keywords:["left right arrow","shape","direction","horizontal","sideways"],char:"↔️",category:"symbols"},arrows_counterclockwise:{keywords:["arrows counterclockwise","blue-square","sync","cycle"],char:"🔄",category:"symbols"},arrow_right_hook:{keywords:["arrow right hook","blue-square","return","rotate","direction"],char:"↪️",category:"symbols"},leftwards_arrow_with_hook:{keywords:["leftwards arrow with hook","back","return","blue-square","undo","enter"],char:"↩️",category:"symbols"},arrow_heading_up:{keywords:["arrow heading up","blue-square","direction","top"],char:"⤴️",category:"symbols"},arrow_heading_down:{keywords:["arrow heading down","blue-square","direction","bottom"],char:"⤵️",category:"symbols"},information_source:{keywords:["information source","blue-square","alphabet","letter"],char:"ℹ️",category:"symbols"},abc:{keywords:["abc","blue-square","alphabet"],char:"🔤",category:"symbols"},abcd:{keywords:["abcd","blue-square","alphabet"],char:"🔡",category:"symbols"},capital_abcd:{keywords:["capital abcd","alphabet","words","blue-square"],char:"🔠",category:"symbols"},symbols:{keywords:["symbols","blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",category:"symbols"},musical_note:{keywords:["musical note","score","tone","sound"],char:"🎵",category:"symbols"},notes:{keywords:["notes","music","score"],char:"🎶",category:"symbols"},wavy_dash:{keywords:["wavy dash","draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",category:"symbols"},curly_loop:{keywords:["curly loop","scribble","draw","shape","squiggle"],char:"➰",category:"symbols"},heavy_check_mark:{keywords:["heavy check mark","ok","nike","answer","yes","tick"],char:"✔️",category:"symbols"},arrows_clockwise:{keywords:["arrows clockwise","sync","cycle","round","repeat"],char:"🔃",category:"symbols"},heavy_plus_sign:{keywords:["heavy plus sign","math","calculation","addition","more","increase"],char:"➕",category:"symbols"},heavy_minus_sign:{keywords:["heavy minus sign","math","calculation","subtract","less"],char:"➖",category:"symbols"},heavy_division_sign:{keywords:["heavy division sign","divide","math","calculation"],char:"➗",category:"symbols"},heavy_multiplication_x:{keywords:["heavy multiplication x","math","calculation"],char:"✖️",category:"symbols"},heavy_dollar_sign:{keywords:["heavy dollar sign","money","sales","payment","currency","buck"],char:"💲",category:"symbols"},currency_exchange:{keywords:["currency exchange","money","sales","dollar","travel"],char:"💱",category:"symbols"},copyright:{keywords:["copyright","ip","license","circle","law","legal"],char:"©️",category:"symbols"},registered:{keywords:["registered","alphabet","circle"],char:"®️",category:"symbols"},tm:{keywords:["tm","trademark","brand","law","legal"],char:"™️",category:"symbols"},end:{keywords:["end","words","arrow"],char:"🔚",category:"symbols"},back:{keywords:["back","arrow","words","return"],char:"🔙",category:"symbols"},on:{keywords:["on","arrow","words"],char:"🔛",category:"symbols"},top:{keywords:["top","words","blue-square"],char:"🔝",category:"symbols"},soon:{keywords:["soon","arrow","words"],char:"🔜",category:"symbols"},ballot_box_with_check:{keywords:["ballot box with check","ok","agree","confirm","black-square","vote","election","yes"],char:"☑️",category:"symbols"},radio_button:{keywords:["radio button","input","old","music","circle"],char:"🔘",category:"symbols"},white_circle:{keywords:["white circle","shape","round"],char:"⚪",category:"symbols"},black_circle:{keywords:["black circle","shape","button","round"],char:"⚫",category:"symbols"},red_circle:{keywords:["red circle","shape","error","danger"],char:"🔴",category:"symbols"},large_blue_circle:{keywords:["large blue circle","shape","icon","button"],char:"🔵",category:"symbols"},small_orange_diamond:{keywords:["small orange diamond","shape","jewel","gem"],char:"🔸",category:"symbols"},small_blue_diamond:{keywords:["small blue diamond","shape","jewel","gem"],char:"🔹",category:"symbols"},large_orange_diamond:{keywords:["large orange diamond","shape","jewel","gem"],char:"🔶",category:"symbols"},large_blue_diamond:{keywords:["large blue diamond","shape","jewel","gem"],char:"🔷",category:"symbols"},small_red_triangle:{keywords:["small red triangle","shape","direction","up","top"],char:"🔺",category:"symbols"},black_small_square:{keywords:["black small square","shape","icon"],char:"▪️",category:"symbols"},white_small_square:{keywords:["white small square","shape","icon"],char:"▫️",category:"symbols"},black_large_square:{keywords:["black large square","shape","icon","button"],char:"⬛",category:"symbols"},white_large_square:{keywords:["white large square","shape","icon","stone","button"],char:"⬜",category:"symbols"},small_red_triangle_down:{keywords:["small red triangle down","shape","direction","bottom"],char:"🔻",category:"symbols"},black_medium_square:{keywords:["black medium square","shape","button","icon"],char:"◼️",category:"symbols"},white_medium_square:{keywords:["white medium square","shape","stone","icon"],char:"◻️",category:"symbols"},black_medium_small_square:{keywords:["black medium small square","icon","shape","button"],char:"◾",category:"symbols"},white_medium_small_square:{keywords:["white medium small square","shape","stone","icon","button"],char:"◽",category:"symbols"},black_square_button:{keywords:["black square button","shape","input","frame"],char:"🔲",category:"symbols"},white_square_button:{keywords:["white square button","shape","input"],char:"🔳",category:"symbols"},speaker:{keywords:["speaker","sound","volume","silence","broadcast"],char:"🔈",category:"symbols"},sound:{keywords:["sound","volume","speaker","broadcast"],char:"🔉",category:"symbols"},loud_sound:{keywords:["loud sound","volume","noise","noisy","speaker","broadcast"],char:"🔊",category:"symbols"},mute:{keywords:["mute","sound","volume","silence","quiet"],char:"🔇",category:"symbols"},mega:{keywords:["mega","sound","speaker","volume"],char:"📣",category:"symbols"},loudspeaker:{keywords:["loudspeaker","volume","sound"],char:"📢",category:"symbols"},bell:{keywords:["bell","sound","notification","christmas","xmas","chime"],char:"🔔",category:"symbols"},no_bell:{keywords:["no bell","sound","volume","mute","quiet","silent"],char:"🔕",category:"symbols"},black_joker:{keywords:["black joker","poker","cards","game","play","magic"],char:"🃏",category:"symbols"},mahjong:{keywords:["mahjong","game","play","chinese","kanji"],char:"🀄",category:"symbols"},spades:{keywords:["spades","poker","cards","suits","magic"],char:"♠️",category:"symbols"},clubs:{keywords:["clubs","poker","cards","magic","suits"],char:"♣️",category:"symbols"},hearts:{keywords:["hearts","poker","cards","magic","suits"],char:"♥️",category:"symbols"},diamonds:{keywords:["diamonds","poker","cards","magic","suits"],char:"♦️",category:"symbols"},flower_playing_cards:{keywords:["flower playing cards","game","sunset","red"],char:"🎴",category:"symbols"},thought_balloon:{keywords:["thought balloon","bubble","cloud","speech","thinking"],char:"💭",category:"symbols"},right_anger_bubble:{keywords:["right anger bubble","caption","speech","thinking","mad"],char:"🗯",category:"symbols"},speech_balloon:{keywords:["speech balloon","bubble","words","message","talk","chatting"],char:"💬",category:"symbols"},left_speech_bubble:{keywords:["left speech bubble","words","message","talk","chatting"],char:"🗨",category:"symbols"},clock1:{keywords:["clock1","time","late","early","schedule"],char:"🕐",category:"symbols"},clock2:{keywords:["clock2","time","late","early","schedule"],char:"🕑",category:"symbols"},clock3:{keywords:["clock3","time","late","early","schedule"],char:"🕒",category:"symbols"},clock4:{keywords:["clock4","time","late","early","schedule"],char:"🕓",category:"symbols"},clock5:{keywords:["clock5","time","late","early","schedule"],char:"🕔",category:"symbols"},clock6:{keywords:["clock6","time","late","early","schedule","dawn","dusk"],char:"🕕",category:"symbols"},clock7:{keywords:["clock7","time","late","early","schedule"],char:"🕖",category:"symbols"},clock8:{keywords:["clock8","time","late","early","schedule"],char:"🕗",category:"symbols"},clock9:{keywords:["clock9","time","late","early","schedule"],char:"🕘",category:"symbols"},clock10:{keywords:["clock10","time","late","early","schedule"],char:"🕙",category:"symbols"},clock11:{keywords:["clock11","time","late","early","schedule"],char:"🕚",category:"symbols"},clock12:{keywords:["clock12","time","noon","midnight","midday","late","early","schedule"],char:"🕛",category:"symbols"},clock130:{keywords:["clock130","time","late","early","schedule"],char:"🕜",category:"symbols"},clock230:{keywords:["clock230","time","late","early","schedule"],char:"🕝",category:"symbols"},clock330:{keywords:["clock330","time","late","early","schedule"],char:"🕞",category:"symbols"},clock430:{keywords:["clock430","time","late","early","schedule"],char:"🕟",category:"symbols"},clock530:{keywords:["clock530","time","late","early","schedule"],char:"🕠",category:"symbols"},clock630:{keywords:["clock630","time","late","early","schedule"],char:"🕡",category:"symbols"},clock730:{keywords:["clock730","time","late","early","schedule"],char:"🕢",category:"symbols"},clock830:{keywords:["clock830","time","late","early","schedule"],char:"🕣",category:"symbols"},clock930:{keywords:["clock930","time","late","early","schedule"],char:"🕤",category:"symbols"},clock1030:{keywords:["clock1030","time","late","early","schedule"],char:"🕥",category:"symbols"},clock1130:{keywords:["clock1130","time","late","early","schedule"],char:"🕦",category:"symbols"},clock1230:{keywords:["clock1230","time","late","early","schedule"],char:"🕧",category:"symbols"}},people:{grinning:{keywords:["grinning","face","smile","happy","joy",":D","grin"],char:"😀",category:"people"},grimacing:{keywords:["grimacing","face","grimace","teeth"],char:"😬",category:"people"},grin:{keywords:["grin","face","happy","smile","joy","kawaii"],char:"😁",category:"people"},joy:{keywords:["joy","face","cry","tears","weep","happy","happytears","haha"],char:"😂",category:"people"},rofl:{keywords:["rofl","face","rolling","floor","laughing","lol","haha"],char:"🤣",category:"people"},smiley:{keywords:["smiley","face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",category:"people"},smile:{keywords:["smile","face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",category:"people"},sweat_smile:{keywords:["sweat smile","face","hot","happy","laugh","sweat","smile","relief"],char:"😅",category:"people"},laughing:{keywords:["laughing","happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",category:"people"},innocent:{keywords:["innocent","face","angel","heaven","halo"],char:"😇",category:"people"},wink:{keywords:["wink","face","happy","mischievous","secret",";)","smile"],char:"😉",category:"people"},blush:{keywords:["blush","face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",category:"people"},slightly_smiling:{keywords:["slightly smiling","face","smile"],char:"🙂",category:"people"},upside_down:{keywords:["upside down","face","flipped","silly","smile"],char:"🙃",category:"people"},yum:{keywords:["yum","happy","joy","tongue","smile","face","silly","yummy","nom"],char:"😋",category:"people"},relieved:{keywords:["relieved","face","relaxed","phew","massage","happiness"],char:"😌",category:"people"},heart_eyes:{keywords:["heart eyes","face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",category:"people"},kissing_heart:{keywords:["kissing heart","face","love","like","affection","valentines","infatuation","kiss"],char:"😘",category:"people"},kissing:{keywords:["kissing","love","like","face","3","valentines","infatuation","kiss"],char:"😗",category:"people"},kissing_smiling_eyes:{keywords:["kissing smiling eyes","face","affection","valentines","infatuation","kiss"],char:"😙",category:"people"},kissing_closed_eyes:{keywords:["kissing closed eyes","face","love","like","affection","valentines","infatuation","kiss"],char:"😚",category:"people"},stuck_out_tongue_winking_eye:{keywords:["stuck out tongue winking eye","face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",category:"people"},stuck_out_tongue_closed_eyes:{keywords:["stuck out tongue closed eyes","face","prank","playful","mischievous","smile","tongue"],char:"😝",category:"people"},stuck_out_tongue:{keywords:["stuck out tongue","face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",category:"people"},money_mouth:{keywords:["money mouth","face","rich","dollar","money"],char:"🤑",category:"people"},nerd:{keywords:["nerd","face","nerdy","geek","dork"],char:"🤓",category:"people"},sunglasses:{keywords:["sunglasses","face","cool","smile","summer","beach","sunglass"],char:"😎",category:"people"},clown:{keywords:["clown","face"],char:"🤡",category:"people"},cowboy:{keywords:["cowboy","face","cowgirl","hat"],char:"🤠",category:"people"},hugging:{keywords:["hugging","face","smile","hug"],char:"🤗",category:"people"},smirk:{keywords:["smirk","face","smile","mean","prank","smug","sarcasm"],char:"😏",category:"people"},no_mouth:{keywords:["no mouth","face","hellokitty"],char:"😶",category:"people"},neutral_face:{keywords:["neutral face","indifference","meh",":|","neutral"],char:"😐",category:"people"},expressionless:{keywords:["expressionless","face","indifferent","-_-","meh","deadpan"],char:"😑",category:"people"},unamused:{keywords:["unamused","indifference","bored","straight face","serious","sarcasm"],char:"😒",category:"people"},rolling_eyes:{keywords:["rolling eyes","face","eyeroll","frustrated"],char:"🙄",category:"people"},thinking:{keywords:["thinking","face","hmmm","think","consider"],char:"🤔",category:"people"},lying:{keywords:["lying","face","lie","pinocchio"],char:"🤥",category:"people"},flushed:{keywords:["flushed","face","blush","shy","flattered"],char:"😳",category:"people"},disappointed:{keywords:["disappointed","face","sad","upset","depressed",":("],char:"😞",category:"people"},worried:{keywords:["worried","face","concern","nervous",":("],char:"😟",category:"people"},angry:{keywords:["angry","mad","face","annoyed","frustrated"],char:"😠",category:"people"},rage:{keywords:["rage","angry","mad","hate","despise"],char:"😡",category:"people"},pensive:{keywords:["pensive","face","sad","depressed","okay","upset"],char:"😔",category:"people"},confused:{keywords:["confused","face","indifference","huh","weird","hmmm",":/"],char:"😕",category:"people"},slightly_sad:{keywords:["slightly sad","face","frowning","disappointed","sad","upset"],char:"🙁",category:"people"},persevere:{keywords:["persevere","face","sick","no","upset","oops"],char:"😣",category:"people"},confounded:{keywords:["confounded","face","confused","sick","unwell","oops",":S"],char:"😖",category:"people"},tired_face:{keywords:["tired face","sick","whine","upset","frustrated"],char:"😫",category:"people"},weary:{keywords:["weary","face","tired","sleepy","sad","frustrated","upset"],char:"😩",category:"people"},triumph:{keywords:["triumph","face","gas","phew","proud","pride"],char:"😤",category:"people"},open_mouth:{keywords:["open mouth","face","surprise","impressed","wow","whoa",":O"],char:"😮",category:"people"},scream:{keywords:["scream","face","munch","scared","omg"],char:"😱",category:"people"},fearful:{keywords:["fearful","face","scared","terrified","nervous","oops","huh"],char:"😨",category:"people"},cold_sweat:{keywords:["cold sweat","face","nervous","sweat"],char:"😰",category:"people"},hushed:{keywords:["hushed","face","woo","shh"],char:"😯",category:"people"},frowning:{keywords:["frowning","face","aw","what"],char:"😦",category:"people"},anguished:{keywords:["anguished","face","stunned","nervous"],char:"😧",category:"people"},cry:{keywords:["cry","face","tears","sad","depressed","upset",":'("],char:"😢",category:"people"},disappointed_relieved:{keywords:["disappointed relieved","face","phew","sweat","nervous"],char:"😥",category:"people"},drooling:{keywords:["drooling","face"],char:"🤤",category:"people"},sleepy:{keywords:["sleepy","face","tired","rest","nap"],char:"😪",category:"people"},sweat:{keywords:["sweat","face","hot","sad","tired","exercise"],char:"😓",category:"people"},sob:{keywords:["sob","face","cry","tears","sad","upset","depressed"],char:"😭",category:"people"},dizzy_face:{keywords:["dizzy face","spent","unconscious","xox","dizzy"],char:"😵",category:"people"},astonished:{keywords:["astonished","face","xox","surprised","poisoned"],char:"😲",category:"people"},zipper_mouth:{keywords:["zipper mouth","face","sealed","zipper","secret"],char:"🤐",category:"people"},nauseated:{keywords:["nauseated","face","vomit"],char:"🤢",category:"people"},sneezing:{keywords:["sneezing","face","gesundheit","sneeze"],char:"🤧",category:"people"},mask:{keywords:["mask","face","sick","ill","disease"],char:"😷",category:"people"},thermometer_face:{keywords:["thermometer face","sick","temperature","thermometer","cold"],char:"🤒",category:"people"},bandage_face:{keywords:["bandage face","injured","clumsy","bandage","hurt"],char:"🤕",category:"people"},sleeping:{keywords:["sleeping","face","tired","sleepy","night","zzz"],char:"😴",category:"people"},zzz:{keywords:["zzz","sleepy","tired"],char:"💤",category:"people"},hankey:{keywords:["hankey","poop","shitface","fail","turd","shit"],char:"💩",category:"people"},smiling_imp:{keywords:["smiling imp","devil","horns"],char:"😈",category:"people"},imp:{keywords:["imp","devil","angry","horns"],char:"👿",category:"people"},japanese_ogre:{keywords:["japanese ogre","monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",category:"people"},japanese_goblin:{keywords:["japanese goblin","red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",category:"people"},skull:{keywords:["skull","dead","skeleton","creepy"],char:"💀",category:"people"},ghost:{keywords:["ghost","halloween","spooky","scary"],char:"👻",category:"people"},alien:{keywords:["alien","UFO","paul","weird","outer_space"],char:"👽",category:"people"},robot:{keywords:["robot","computer","machine"],char:"🤖",category:"people"},smiley_cat:{keywords:["smiley cat","animal","cats","happy","smile"],char:"😺",category:"people"},smile_cat:{keywords:["smile cat","animal","cats","smile"],char:"😸",category:"people"},joy_cat:{keywords:["joy cat","animal","cats","haha","happy","tears"],char:"😹",category:"people"},heart_eyes_cat:{keywords:["heart eyes cat","animal","love","like","affection","cats","valentines","heart"],char:"😻",category:"people"},smirk_cat:{keywords:["smirk cat","animal","cats","smirk"],char:"😼",category:"people"},kissing_cat:{keywords:["kissing cat","animal","cats","kiss"],char:"😽",category:"people"},scream_cat:{keywords:["scream cat","animal","cats","munch","scared","scream"],char:"🙀",category:"people"},crying_cat_face:{keywords:["crying cat face","animal","tears","weep","sad","cats","upset","cry"],char:"😿",category:"people"},pouting_cat:{keywords:["pouting cat","animal","cats"],char:"😾",category:"people"},raised_hands:{keywords:["raised hands","gesture","hooray","yea","celebration","hands"],char:"🙌",category:"people"},clap:{keywords:["clap","hands","praise","applause","congrats","yay"],char:"👏",category:"people"},wave:{keywords:["wave","hands","gesture","goodbye","solong","farewell","hello","palm"],char:"👋",category:"people"},call_me:{keywords:["call me","hands","gesture"],char:"🤙",category:"people"},"+1":{keywords:["+1","thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",category:"people"},"-1":{keywords:["-1","thumbsdown","no","dislike","hand"],char:"👎",category:"people"},facepunch:{keywords:["facepunch","angry","violence","fist","hit","attack","hand"],char:"👊",category:"people"},fist:{keywords:["fist","fingers","hand","grasp"],char:"✊",category:"people"},left_facing_fist:{keywords:["left facing fist","hand","fistbump"],char:"🤛",category:"people"},right_facing_fist:{keywords:["right facing fist","hand","fistbump"],char:"🤜",category:"people"},v:{keywords:["v","fingers","ohyeah","hand","peace","victory","two"],char:"✌",category:"people"},ok_hand:{keywords:["ok hand","fingers","limbs","perfect","ok"],char:"👌",category:"people"},hand:{keywords:["hand","fingers","stop","highfive","palm","ban","raised_hand"],char:"✋",category:"people"},back_of_hand:{keywords:["back of hand","fingers","raised","backhand"],char:"🤚",category:"people"},open_hands:{keywords:["open hands","fingers","butterfly","hands","open"],char:"👐",category:"people"},muscle:{keywords:["muscle","arm","flex","hand","summer","strong","biceps"],char:"💪",category:"people"},pray:{keywords:["pray","please","hope","wish","namaste","highfive"],char:"🙏",category:"people"},handshake:{keywords:["handshake","agreement","shake"],char:"🤝",category:"people"},point_up:{keywords:["point up","hand","fingers","direction","up"],char:"☝",category:"people"},point_up_2:{keywords:["point up 2","fingers","hand","direction","up"],char:"👆",category:"people"},point_down:{keywords:["point down","fingers","hand","direction","down"],char:"👇",category:"people"},point_left:{keywords:["point left","direction","fingers","hand","left"],char:"👈",category:"people"},point_right:{keywords:["point right","fingers","hand","direction","right"],char:"👉",category:"people"},middle_finger:{keywords:["middle finger","hand","fingers","rude"],char:"🖕",category:"people"},splayed_fingers:{keywords:["splayed fingers","hand","fingers","palm"],char:"🖐",category:"people"},sign_of_horns:{keywords:["sign of horns","hand","fingers","evil_eye","metal","rock_on"],char:"🤘",category:"people"},fingers_crossed:{keywords:["fingers crossed","good","lucky"],char:"🤞",category:"people"},vulcan_salute:{keywords:["vulcan salute","hand","fingers","spock","star trek"],char:"🖖",category:"people"},writing_hand:{keywords:["writing hand","pen","stationery","write"],char:"✍",category:"people"},selfie:{keywords:["selfie","camera","phone"],char:"🤳",category:"people"},nail_care:{keywords:["nail care","beauty","manicure","finger","fashion","nail"],char:"💅",category:"people"},lips:{keywords:["lips","mouth","kiss"],char:"👄",category:"people"},tongue:{keywords:["tongue","mouth","playful"],char:"👅",category:"people"},ear:{keywords:["ear","face","hear","sound","listen"],char:"👂",category:"people"},nose:{keywords:["nose","smell","sniff"],char:"👃",category:"people"},eye:{keywords:["eye","face","look","see","watch","stare"],char:"👁",category:"people"},eyes:{keywords:["eyes","look","watch","stalk","peek","see"],char:"👀",category:"people"},bust_in_silhouette:{keywords:["bust in silhouette","user","person","human"],char:"👤",category:"people"},busts_in_silhouette:{keywords:["busts in silhouette","user","person","human","group","team"],char:"👥",category:"people"},speaking_head:{keywords:["speaking head","user","person","human"],char:"🗣",category:"people"},baby:{keywords:["baby","child","boy","girl","toddler"],char:"👶",category:"people"},boy:{keywords:["boy","man","male","guy","teenager"],char:"👦",category:"people"},girl:{keywords:["girl","female","woman","teenager"],char:"👧",category:"people"},man:{keywords:["man","mustache","father","dad","guy","classy","sir","moustache"],char:"👨",category:"people"},woman:{keywords:["woman","female","girls","lady"],char:"👩",category:"people"},person_with_blond_hair:{keywords:["person with blond hair","man","male","boy","blonde","guy","person"],char:"👱",category:"people"},older_man:{keywords:["older man","human","male","men","old","elder","senior"],char:"👴",category:"people"},older_woman:{keywords:["older woman","human","female","women","lady","old","elder","senior"],char:"👵",category:"people"},man_with_gua_pi_mao:{keywords:["man with gua pi mao","male","boy","chinese"],char:"👲",category:"people"},man_with_turban:{keywords:["man with turban","male","indian","hinduism","arabs"],char:"👳",category:"people"},cop:{keywords:["cop","man","police","law","legal","enforcement","arrest","911"],char:"👮",category:"people"},construction_worker:{keywords:["construction worker","male","human","wip","guy","build","construction","worker","labor"],char:"👷",category:"people"},guardsman:{keywords:["guardsman","uk","gb","british","male","guy","royal"],char:"💂",category:"people"},sleuth:{keywords:["sleuth","human","spy","detective"],char:"🕵",category:"people"},female_health_worker:{keywords:["female health worker","doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",category:"people"},male_health_worker:{keywords:["male health worker","doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",category:"people"},female_farmer:{keywords:["female farmer","rancher","gardener","woman","human"],char:"👩‍🌾",category:"people"},male_farmer:{keywords:["male farmer","rancher","gardener","man","human"],char:"👨‍🌾",category:"people"},female_cook:{keywords:["female cook","chef","woman","human"],char:"👩‍🍳",category:"people"},male_cook:{keywords:["male cook","chef","man","human"],char:"👨‍🍳",category:"people"},female_student:{keywords:["female student","graduate","woman","human"],char:"👩‍🎓",category:"people"},male_student:{keywords:["male student","graduate","man","human"],char:"👨‍🎓",category:"people"},female_singer:{keywords:["female singer","rockstar","entertainer","woman","human"],char:"👩‍🎤",category:"people"},male_singer:{keywords:["male singer","rockstar","entertainer","man","human"],char:"👨‍🎤",category:"people"},female_teacher:{keywords:["female teacher","instructor","professor","woman","human"],char:"👩‍🏫",category:"people"},male_teacher:{keywords:["male teacher","instructor","professor","man","human"],char:"👨‍🏫",category:"people"},female_factory_worker:{keywords:["female factory worker","assembly","industrial","woman","human"],char:"👩‍🏭",category:"people"},male_factory_worker:{keywords:["male factory worker","assembly","industrial","man","human"],char:"👨‍🏭",category:"people"},female_technologist:{keywords:["female technologist","coder","developer","engineer","programmer","software","woman","human"],char:"👩‍💻",category:"people"},male_technologist:{keywords:["male technologist","coder","developer","engineer","programmer","software","man","human"],char:"👨‍💻",category:"people"},female_office_worker:{keywords:["female office worker","business","manager","woman","human"],char:"👩‍💼",category:"people"},male_office_worker:{keywords:["male office worker","business","manager","man","human"],char:"👨‍💼",category:"people"},female_mechanic:{keywords:["female mechanic","plumber","woman","human"],char:"👩‍🔧",category:"people"},male_mechanic:{keywords:["male mechanic","plumber","man","human"],char:"👨‍🔧",category:"people"},female_scientist:{keywords:["female scientist","biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",category:"people"},male_scientist:{keywords:["male scientist","biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",category:"people"},female_artist:{keywords:["female artist","painter","woman","human"],char:"👩‍🎨",category:"people"},male_artist:{keywords:["male artist","painter","man","human"],char:"👨‍🎨",category:"people"},female_firefighter:{keywords:["female firefighter","fireman","woman","human"],char:"👩‍🚒",category:"people"},male_firefighter:{keywords:["male firefighter","fireman","man","human"],char:"👨‍🚒",category:"people"},female_astronaut:{keywords:["female astronaut","space","rocket","woman","human"],char:"👩‍🚀",category:"people"},male_astronaut:{keywords:["male astronaut","space","rocket","man","human"],char:"👨‍🚀",category:"people"},mrs_claus:{keywords:["mrs claus","woman","female","xmas","mother christmas"],char:"🤶",category:"people"},santa:{keywords:["santa","festival","man","male","xmas","father christmas"],char:"🎅",category:"people"},angel:{keywords:["angel","heaven","wings","halo"],char:"👼",category:"people"},pregnant_woman:{keywords:["pregnant woman","baby"],char:"🤰",category:"people"},princess:{keywords:["princess","girl","woman","female","blond","crown","royal","queen"],char:"👸",category:"people"},prince:{keywords:["prince","boy","man","male","crown","royal","king"],char:"🤴",category:"people"},bride_with_veil:{keywords:["bride with veil","couple","marriage","wedding","woman","bride"],char:"👰",category:"people"},man_in_tuxedo:{keywords:["man in tuxedo","couple","marriage","wedding","groom"],char:"🤵",category:"people"},runner:{keywords:["runner","man","walking","exercise","race","running"],char:"🏃",category:"people"},walking:{keywords:["walking","human","feet","steps"],char:"🚶",category:"people"},dancer:{keywords:["dancer","female","girl","woman","fun"],char:"💃",category:"people"},man_dancing:{keywords:["man dancing","male","boy","fun","dancer"],char:"🕺",category:"people"},dancers:{keywords:["dancers","female","bunny","women","girls"],char:"👯",category:"people"},couple:{keywords:["couple","pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",category:"people"},two_men_holding_hands:{keywords:["two men holding hands","pair","couple","love","like","bromance","friendship","people","human"],char:"👬",category:"people"},two_women_holding_hands:{keywords:["two women holding hands","pair","friendship","couple","love","like","female","people","human"],char:"👭",category:"people"},bow:{keywords:["bow","man","male","boy"],char:"🙇",category:"people"},person_facepalming:{keywords:["person facepalming","man","male","boy","disbelief"],char:"🤦",category:"people"},person_shrugging:{keywords:["person shrugging","woman","female","girl","confused","indifferent","doubt"],char:"🤷",category:"people"},information_desk_person:{keywords:["information desk person","female","girl","woman","human","information"],char:"💁",category:"people"},no_good:{keywords:["no good","female","girl","woman","nope"],char:"🙅",category:"people"},ok_woman:{keywords:["ok woman","women","girl","female","pink","human","woman"],char:"🙆",category:"people"},raising_hand:{keywords:["raising hand","female","girl","woman"],char:"🙋",category:"people"},person_with_pouting_face:{keywords:["person with pouting face","female","girl","woman"],char:"🙎",category:"people"},person_frowning:{keywords:["person frowning","female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",category:"people"},haircut:{keywords:["haircut","female","girl","woman"],char:"💇",category:"people"},massage:{keywords:["massage","female","girl","woman","head"],char:"💆",category:"people"},couple_with_heart:{keywords:["couple with heart","pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",category:"people"},female_couple_with_heart:{keywords:["female couple with heart","pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",category:"people"},male_couple_with_heart:{keywords:["male couple with heart","pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",category:"people"},couplekiss:{keywords:["couplekiss","pair","valentines","love","like","dating","marriage"],char:"💏",category:"people"},female_couplekiss:{keywords:["female couplekiss","pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",category:"people"},male_couplekiss:{keywords:["male couplekiss","pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",category:"people"},family:{keywords:["family","home","parents","child","mom","dad","father","mother","people","human"],char:"👪",category:"people"},family_man_woman_girl:{keywords:["family man woman girl","home","parents","people","human","child"],char:"👨‍👩‍👧",category:"people"},family_man_woman_girl_boy:{keywords:["family man woman girl boy","home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",category:"people"},family_man_woman_boys:{keywords:["family man woman boys","home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",category:"people"},family_man_woman_girls:{keywords:["family man woman girls","home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",category:"people"},family_women_boy:{keywords:["family women boy","home","parents","people","human","children"],char:"👩‍👩‍👦",category:"people"},family_women_girl:{keywords:["family women girl","home","parents","people","human","children"],char:"👩‍👩‍👧",category:"people"},family_women_girl_boy:{keywords:["family women girl boy","home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",category:"people"},family_women_boys:{keywords:["family women boys","home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",category:"people"},family_women_girls:{keywords:["family women girls","home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",category:"people"},family_men_boy:{keywords:["family men boy","home","parents","people","human","children"],char:"👨‍👨‍👦",category:"people"},family_men_girl:{keywords:["family men girl","home","parents","people","human","children"],char:"👨‍👨‍👧",category:"people"},family_men_girl_boy:{keywords:["family men girl boy","home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",category:"people"},family_men_boys:{keywords:["family men boys","home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",category:"people"},family_men_girls:{keywords:["family men girls","home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",category:"people"},family_woman_boy:{keywords:["family woman boy","home","parent","people","human","child"],char:"👩‍👦",category:"people"},family_woman_girl:{keywords:["family woman girl","home","parent","people","human","child"],char:"👩‍👧",category:"people"},family_woman_girl_boy:{keywords:["family woman girl boy","home","parent","people","human","children"],char:"👩‍👧‍👦",category:"people"},family_woman_boy_boy:{keywords:["family woman boy boy","home","parent","people","human","children"],char:"👩‍👦‍👦",category:"people"},family_woman_girl_girl:{keywords:["family woman girl girl","home","parent","people","human","children"],char:"👩‍👧‍👧",category:"people"},family_man_boy:{keywords:["family man boy","home","parent","people","human","child"],char:"👨‍👦",category:"people"},family_man_girl:{keywords:["family man girl","home","parent","people","human","child"],char:"👨‍👧",category:"people"},family_man_girl_boy:{keywords:["family man girl boy","home","parent","people","human","children"],char:"👨‍👧‍👦",category:"people"},family_man_boy_boy:{keywords:["family man boy boy","home","parent","people","human","children"],char:"👨‍👦‍👦",category:"people"},family_man_girl_girl:{keywords:["family man girl girl","home","parent","people","human","children"],char:"👨‍👧‍👧",category:"people"},womans_clothes:{keywords:["womans clothes","fashion","shopping","female"],char:"👚",category:"people"},shirt:{keywords:["shirt","fashion","cloth","casual","tshirt","tee"],char:"👕",category:"people"},jeans:{keywords:["jeans","fashion","shopping"],char:"👖",category:"people"},necktie:{keywords:["necktie","shirt","suitup","formal","fashion","cloth","business"],char:"👔",category:"people"},dress:{keywords:["dress","clothes","fashion","shopping"],char:"👗",category:"people"},bikini:{keywords:["bikini","swimming","female","woman","girl","fashion","beach","summer"],char:"👙",category:"people"},kimono:{keywords:["kimono","dress","fashion","women","female","japanese"],char:"👘",category:"people"},lipstick:{keywords:["lipstick","female","girl","fashion","woman"],char:"💄",category:"people"},kiss:{keywords:["kiss","face","lips","love","like","affection","valentines"],char:"💋",category:"people"},footprints:{keywords:["footprints","feet","tracking","walking","beach"],char:"👣",category:"people"},high_heel:{keywords:["high heel","fashion","shoes","female","pumps","stiletto"],char:"👠",category:"people"},sandal:{keywords:["sandal","shoes","fashion","flip flops"],char:"👡",category:"people"},boot:{keywords:["boot","shoes","fashion"],char:"👢",category:"people"},mans_shoe:{keywords:["mans shoe","fashion","male"],char:"👞",category:"people"},athletic_shoe:{keywords:["athletic shoe","shoes","sports","sneakers"],char:"👟",category:"people"},womans_hat:{keywords:["womans hat","fashion","accessories","female","lady","spring"],char:"👒",category:"people"},tophat:{keywords:["tophat","magic","gentleman","classy","circus"],char:"🎩",category:"people"},helmet:{keywords:["helmet","construction","build"],char:"⛑",category:"people"},mortar_board:{keywords:["mortar board","school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",category:"people"},crown:{keywords:["crown","king","kod","leader","royalty","lord"],char:"👑",category:"people"},school_satchel:{keywords:["school satchel","student","education","bag","backpack"],char:"🎒",category:"people"},pouch:{keywords:["pouch","bag","accessories","shopping"],char:"👝",category:"people"},purse:{keywords:["purse","fashion","accessories","money","sales","shopping"],char:"👛",category:"people"},handbag:{keywords:["handbag","fashion","accessory","accessories","shopping"],char:"👜",category:"people"},briefcase:{keywords:["briefcase","business","documents","work","law","legal"],char:"💼",category:"people"},eyeglasses:{keywords:["eyeglasses","fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",category:"people"},dark_sunglasses:{keywords:["dark sunglasses","face","cool","accessories"],char:"🕶",category:"people"},ring:{keywords:["ring","wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",category:"people"},closed_umbrella:{keywords:["closed umbrella","weather","rain","drizzle"],char:"🌂",category:"people"}},animals_and_nature:{dog:{keywords:["dog","animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",category:"animals_and_nature"},cat:{keywords:["cat","animal","meow","nature","pet","kitten"],char:"🐱",category:"animals_and_nature"},mouse:{keywords:["mouse","animal","nature","cheese","rodent"],char:"🐭",category:"animals_and_nature"},hamster:{keywords:["hamster","animal","nature"],char:"🐹",category:"animals_and_nature"},rabbit:{keywords:["rabbit","animal","nature","pet","spring","magic","bunny"],char:"🐰",category:"animals_and_nature"},fox:{keywords:["fox","animal","nature","face"],char:"🦊",category:"animals_and_nature"},bear:{keywords:["bear","animal","nature","wild"],char:"🐻",category:"animals_and_nature"},panda_face:{keywords:["panda face","animal","nature","panda"],char:"🐼",category:"animals_and_nature"},koala:{keywords:["koala","animal","nature"],char:"🐨",category:"animals_and_nature"},tiger:{keywords:["tiger","animal","cat","danger","wild","nature","roar"],char:"🐯",category:"animals_and_nature"},lion_face:{keywords:["lion face","animal","nature"],char:"🦁",category:"animals_and_nature"},cow:{keywords:["cow","beef","ox","animal","nature","moo","milk"],char:"🐮",category:"animals_and_nature"},pig:{keywords:["pig","animal","oink","nature"],char:"🐷",category:"animals_and_nature"},pig_nose:{keywords:["pig nose","animal","oink"],char:"🐽",category:"animals_and_nature"},frog:{keywords:["frog","animal","nature","croak","toad"],char:"🐸",category:"animals_and_nature"},squid:{keywords:["squid","animal","nature","ocean","sea"],char:"🦑",category:"animals_and_nature"},octopus:{keywords:["octopus","animal","creature","ocean","sea","nature","beach"],char:"🐙",category:"animals_and_nature"},shrimp:{keywords:["shrimp","animal","ocean","nature","seafood"],char:"🦐",category:"animals_and_nature"},monkey_face:{keywords:["monkey face","animal","nature","circus"],char:"🐵",category:"animals_and_nature"},gorilla:{keywords:["gorilla","animal","nature","circus"],char:"🦍",category:"animals_and_nature"},see_no_evil:{keywords:["see no evil","monkey","animal","nature","haha"],char:"🙈",category:"animals_and_nature"},hear_no_evil:{keywords:["hear no evil","animal","monkey","nature"],char:"🙉",category:"animals_and_nature"},speak_no_evil:{keywords:["speak no evil","monkey","animal","nature","omg"],char:"🙊",category:"animals_and_nature"},monkey:{keywords:["monkey","animal","nature","banana","circus"],char:"🐒",category:"animals_and_nature"},chicken:{keywords:["chicken","animal","cluck","nature","bird"],char:"🐔",category:"animals_and_nature"},penguin:{keywords:["penguin","animal","nature"],char:"🐧",category:"animals_and_nature"},bird:{keywords:["bird","animal","nature","fly","tweet","spring"],char:"🐦",category:"animals_and_nature"},baby_chick:{keywords:["baby chick","animal","chicken","bird"],char:"🐤",category:"animals_and_nature"},hatching_chick:{keywords:["hatching chick","animal","chicken","egg","born","baby","bird"],char:"🐣",category:"animals_and_nature"},hatched_chick:{keywords:["hatched chick","animal","chicken","baby","bird"],char:"🐥",category:"animals_and_nature"},duck:{keywords:["duck","animal","nature","bird","mallard"],char:"🦆",category:"animals_and_nature"},eagle:{keywords:["eagle","animal","nature","bird"],char:"🦅",category:"animals_and_nature"},owl:{keywords:["owl","animal","nature","bird","hoot"],char:"🦉",category:"animals_and_nature"},bat:{keywords:["bat","animal","nature","blind","vampire"],char:"🦇",category:"animals_and_nature"},wolf:{keywords:["wolf","animal","nature","wild"],char:"🐺",category:"animals_and_nature"},boar:{keywords:["boar","animal","nature"],char:"🐗",category:"animals_and_nature"},horse:{keywords:["horse","animal","brown","nature"],char:"🐴",category:"animals_and_nature"},unicorn_face:{keywords:["unicorn face","animal","nature","mystical"],char:"🦄",category:"animals_and_nature"},bee:{keywords:["bee","animal","insect","nature","bug","spring","honey"],char:"🐝",category:"animals_and_nature"},bug:{keywords:["bug","animal","insect","nature","worm"],char:"🐛",category:"animals_and_nature"},butterfly:{keywords:["butterfly","animal","insect","nature","caterpillar"],char:"🦋",category:"animals_and_nature"},snail:{keywords:["snail","slow","animal","shell"],char:"🐌",category:"animals_and_nature"},beetle:{keywords:["beetle","animal","insect","nature","ladybug"],char:"🐞",category:"animals_and_nature"},ant:{keywords:["ant","animal","insect","nature","bug"],char:"🐜",category:"animals_and_nature"},spider:{keywords:["spider","animal","arachnid"],char:"🕷",category:"animals_and_nature"},scorpion:{keywords:["scorpion","animal","arachnid"],char:"🦂",category:"animals_and_nature"},crab:{keywords:["crab","animal","crustacean"],char:"🦀",category:"animals_and_nature"},snake:{keywords:["snake","animal","evil","nature","hiss","python"],char:"🐍",category:"animals_and_nature"},lizard:{keywords:["lizard","animal","nature","reptile"],char:"🦎",category:"animals_and_nature"},turtle:{keywords:["turtle","animal","slow","nature","tortoise"],char:"🐢",category:"animals_and_nature"},tropical_fish:{keywords:["tropical fish","animal","swim","ocean","beach","nemo"],char:"🐠",category:"animals_and_nature"},fish:{keywords:["fish","animal","food","nature"],char:"🐟",category:"animals_and_nature"},blowfish:{keywords:["blowfish","animal","nature","food","sea","ocean"],char:"🐡",category:"animals_and_nature"},dolphin:{keywords:["dolphin","animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",category:"animals_and_nature"},shark:{keywords:["shark","animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",category:"animals_and_nature"},whale:{keywords:["whale","animal","nature","sea","ocean"],char:"🐳",category:"animals_and_nature"},whale2:{keywords:["whale2","animal","nature","sea","ocean"],char:"🐋",category:"animals_and_nature"},crocodile:{keywords:["crocodile","animal","nature","reptile","lizard","alligator"],char:"🐊",category:"animals_and_nature"},leopard:{keywords:["leopard","animal","nature"],char:"🐆",category:"animals_and_nature"},tiger2:{keywords:["tiger2","animal","nature","roar"],char:"🐅",category:"animals_and_nature"},water_buffalo:{keywords:["water buffalo","animal","nature","ox","cow"],char:"🐃",category:"animals_and_nature"},ox:{keywords:["ox","animal","cow","beef"],char:"🐂",category:"animals_and_nature"},cow2:{keywords:["cow2","beef","ox","animal","nature","moo","milk"],char:"🐄",category:"animals_and_nature"},deer:{keywords:["deer","animal","nature","horns","venison"],char:"🦌",category:"animals_and_nature"},dromedary_camel:{keywords:["dromedary camel","animal","hot","desert","hump"],char:"🐪",category:"animals_and_nature"},camel:{keywords:["camel","animal","nature","hot","desert","hump"],char:"🐫",category:"animals_and_nature"},elephant:{keywords:["elephant","animal","nature","nose","thailand","circus"],char:"🐘",category:"animals_and_nature"},rhinoceros:{keywords:["rhinoceros","animal","nature","horn"],char:"🦏",category:"animals_and_nature"},goat:{keywords:["goat","animal","nature"],char:"🐐",category:"animals_and_nature"},ram:{keywords:["ram","animal","sheep","nature"],char:"🐏",category:"animals_and_nature"},sheep:{keywords:["sheep","animal","nature","wool","shipit"],char:"🐑",category:"animals_and_nature"},racehorse:{keywords:["racehorse","animal","gamble","luck"],char:"🐎",category:"animals_and_nature"},pig2:{keywords:["pig2","animal","nature"],char:"🐖",category:"animals_and_nature"},rat:{keywords:["rat","animal","mouse","rodent"],char:"🐀",category:"animals_and_nature"},mouse2:{keywords:["mouse2","animal","nature","rodent"],char:"🐁",category:"animals_and_nature"},rooster:{keywords:["rooster","animal","nature","chicken"],char:"🐓",category:"animals_and_nature"},turkey:{keywords:["turkey","animal","bird"],char:"🦃",category:"animals_and_nature"},dove_of_peace:{keywords:["dove of peace","animal","bird"],char:"🕊",category:"animals_and_nature"},dog2:{keywords:["dog2","animal","nature","friend","doge","pet","faithful"],char:"🐕",category:"animals_and_nature"},poodle:{keywords:["poodle","dog","animal","101","nature","pet"],char:"🐩",category:"animals_and_nature"},cat2:{keywords:["cat2","animal","meow","pet","cats"],char:"🐈",category:"animals_and_nature"},rabbit2:{keywords:["rabbit2","animal","nature","pet","magic","spring"],char:"🐇",category:"animals_and_nature"},chipmunk:{keywords:["chipmunk","animal","nature","rodent","squirrel"],char:"🐿",category:"animals_and_nature"},feet:{keywords:["feet","animal","tracking","footprints","dog","cat","pet","paw_prints"],char:"🐾",category:"animals_and_nature"},dragon:{keywords:["dragon","animal","myth","nature","chinese","green"],char:"🐉",category:"animals_and_nature"},dragon_face:{keywords:["dragon face","animal","myth","nature","chinese","green"],char:"🐲",category:"animals_and_nature"},cactus:{keywords:["cactus","vegetable","plant","nature"],char:"🌵",category:"animals_and_nature"},christmas_tree:{keywords:["christmas tree","festival","vacation","december","xmas","celebration"],char:"🎄",category:"animals_and_nature"},evergreen_tree:{keywords:["evergreen tree","plant","nature"],char:"🌲",category:"animals_and_nature"},deciduous_tree:{keywords:["deciduous tree","plant","nature"],char:"🌳",category:"animals_and_nature"},palm_tree:{keywords:["palm tree","plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",category:"animals_and_nature"},seedling:{keywords:["seedling","plant","nature","grass","lawn","spring"],char:"🌱",category:"animals_and_nature"},herb:{keywords:["herb","vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",category:"animals_and_nature"},shamrock:{keywords:["shamrock","vegetable","plant","nature","irish","clover"],char:"☘",category:"animals_and_nature"},four_leaf_clover:{keywords:["four leaf clover","vegetable","plant","nature","lucky","irish"],char:"🍀",category:"animals_and_nature"},bamboo:{keywords:["bamboo","plant","nature","vegetable","panda","pine_decoration"],char:"🎍",category:"animals_and_nature"},tanabata_tree:{keywords:["tanabata tree","plant","nature","branch","summer"],char:"🎋",category:"animals_and_nature"},leaves:{keywords:["leaves","nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",category:"animals_and_nature"},fallen_leaf:{keywords:["fallen leaf","nature","plant","vegetable","leaves"],char:"🍂",category:"animals_and_nature"},maple_leaf:{keywords:["maple leaf","nature","plant","vegetable","canada","fall"],char:"🍁",category:"animals_and_nature"},ear_of_rice:{keywords:["ear of rice","nature","plant"],char:"🌾",category:"animals_and_nature"},hibiscus:{keywords:["hibiscus","plant","vegetable","flowers","beach"],char:"🌺",category:"animals_and_nature"},sunflower:{keywords:["sunflower","nature","plant","fall"],char:"🌻",category:"animals_and_nature"},rose:{keywords:["rose","flowers","valentines","love","spring"],char:"🌹",category:"animals_and_nature"},wilted_rose:{keywords:["wilted rose","plant","nature","flower"],char:"🥀",category:"animals_and_nature"},tulip:{keywords:["tulip","flowers","plant","nature","summer","spring"],char:"🌷",category:"animals_and_nature"},blossom:{keywords:["blossom","nature","flowers","yellow"],char:"🌼",category:"animals_and_nature"},cherry_blossom:{keywords:["cherry blossom","nature","plant","spring","flower"],char:"🌸",category:"animals_and_nature"},bouquet:{keywords:["bouquet","flowers","nature","spring"],char:"💐",category:"animals_and_nature"},mushroom:{keywords:["mushroom","plant","vegetable"],char:"🍄",category:"animals_and_nature"},chestnut:{keywords:["chestnut","food","squirrel"],char:"🌰",category:"animals_and_nature"},jack_o_lantern:{keywords:["jack o lantern","halloween","light","pumpkin","creepy","fall"],char:"🎃",category:"animals_and_nature"},shell:{keywords:["shell","nature","sea","beach"],char:"🐚",category:"animals_and_nature"},spider_web:{keywords:["spider web","animal","insect","arachnid","silk"],char:"🕸",category:"animals_and_nature"},earth_americas:{keywords:["earth americas","globe","world","USA","international"],char:"🌎",category:"animals_and_nature"},earth_africa:{keywords:["earth africa","globe","world","international"],char:"🌍",category:"animals_and_nature"},earth_asia:{keywords:["earth asia","globe","world","east","international"],char:"🌏",category:"animals_and_nature"},full_moon:{keywords:["full moon","nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",category:"animals_and_nature"},waning_gibbous_moon:{keywords:["waning gibbous moon","nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",category:"animals_and_nature"},last_quarter_moon:{keywords:["last quarter moon","nature","twilight","planet","space","night","evening","sleep"],char:"🌗",category:"animals_and_nature"},waning_crescent_moon:{keywords:["waning crescent moon","nature","twilight","planet","space","night","evening","sleep"],char:"🌘",category:"animals_and_nature"},new_moon:{keywords:["new moon","nature","twilight","planet","space","night","evening","sleep"],char:"🌑",category:"animals_and_nature"},waxing_crescent_moon:{keywords:["waxing crescent moon","nature","twilight","planet","space","night","evening","sleep"],char:"🌒",category:"animals_and_nature"},first_quarter_moon:{keywords:["first quarter moon","nature","twilight","planet","space","night","evening","sleep"],char:"🌓",category:"animals_and_nature"},moon:{keywords:["moon","nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",category:"animals_and_nature"},new_moon_with_face:{keywords:["new moon with face","nature","twilight","planet","space","night","evening","sleep"],char:"🌚",category:"animals_and_nature"},full_moon_with_face:{keywords:["full moon with face","nature","twilight","planet","space","night","evening","sleep"],char:"🌝",category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["first quarter moon with face","nature","twilight","planet","space","night","evening","sleep"],char:"🌛",category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["last quarter moon with face","nature","twilight","planet","space","night","evening","sleep"],char:"🌜",category:"animals_and_nature"},sun_with_face:{keywords:["sun with face","nature","morning","sky"],char:"🌞",category:"animals_and_nature"},crescent_moon:{keywords:["crescent moon","night","sleep","sky","evening","magic"],char:"🌙",category:"animals_and_nature"},star:{keywords:["star","night","yellow"],char:"⭐",category:"animals_and_nature"},star2:{keywords:["star2","night","sparkle","awesome","good","magic"],char:"🌟",category:"animals_and_nature"},dizzy:{keywords:["dizzy","star","sparkle","shoot","magic"],char:"💫",category:"animals_and_nature"},sparkles:{keywords:["sparkles","stars","shine","shiny","cool","awesome","good","magic"],char:"✨",category:"animals_and_nature"},comet:{keywords:["comet","space"],char:"☄",category:"animals_and_nature"},sunny:{keywords:["sunny","weather","nature","brightness","summer","beach","spring"],char:"☀️",category:"animals_and_nature"},white_sun_with_small_cloud:{keywords:["white sun with small cloud","weather"],char:"🌤",category:"animals_and_nature"},partly_sunny:{keywords:["partly sunny","weather","nature","cloudy","morning","fall","spring"],char:"⛅",category:"animals_and_nature"},white_sun_behind_cloud:{keywords:["white sun behind cloud","weather"],char:"🌥",category:"animals_and_nature"},white_sun_behind_cloud_with_rain:{keywords:["white sun behind cloud with rain","weather"],char:"🌦",category:"animals_and_nature"},cloud:{keywords:["cloud","weather","sky"],char:"☁️",category:"animals_and_nature"},cloud_with_rain:{keywords:["cloud with rain","weather"],char:"🌧",category:"animals_and_nature"},thunder_cloud_and_rain:{keywords:["thunder cloud and rain","weather","lightning"],char:"⛈",category:"animals_and_nature"},cloud_with_lightning:{keywords:["cloud with lightning","weather","thunder"],char:"🌩",category:"animals_and_nature"},zap:{keywords:["zap","thunder","weather","lightning bolt","fast"],char:"⚡",category:"animals_and_nature"},fire:{keywords:["fire","hot","cook","flame"],char:"🔥",category:"animals_and_nature"},boom:{keywords:["boom","bomb","explode","explosion","collision","blown"],char:"💥",category:"animals_and_nature"},snowflake:{keywords:["snowflake","winter","season","cold","weather","christmas","xmas"],char:"❄️",category:"animals_and_nature"},cloud_with_snow:{keywords:["cloud with snow","weather"],char:"🌨",category:"animals_and_nature"},snowman:{keywords:["snowman","winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",category:"animals_and_nature"},snowman_with_snow:{keywords:["snowman with snow","winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",category:"animals_and_nature"},wind_blowing_face:{keywords:["wind blowing face","gust","air"],char:"🌬",category:"animals_and_nature"},dash:{keywords:["dash","wind","air","fast","shoo","fart","smoke","puff"],char:"💨",category:"animals_and_nature"},cloud_with_tornado:{keywords:["cloud with tornado","weather","cyclone","twister"],char:"🌪",category:"animals_and_nature"},fog:{keywords:["fog","weather"],char:"🌫",category:"animals_and_nature"},umbrella_without_rain:{keywords:["umbrella without rain","weather","spring"],char:"☂",category:"animals_and_nature"},umbrella:{keywords:["umbrella","rainy","weather","spring"],char:"☔",category:"animals_and_nature"},droplet:{keywords:["droplet","water","drip","faucet","spring"],char:"💧",category:"animals_and_nature"},sweat_drops:{keywords:["sweat drops","water","drip","oops"],char:"💦",category:"animals_and_nature"},ocean:{keywords:["ocean","sea","water","wave","nature","tsunami","disaster"],char:"🌊",category:"animals_and_nature"}},food_and_drink:{green_apple:{keywords:["green apple","fruit","nature"],char:"🍏",category:"food_and_drink"},apple:{keywords:["apple","fruit","mac","school"],char:"🍎",category:"food_and_drink"},pear:{keywords:["pear","fruit","nature","food"],char:"🍐",category:"food_and_drink"},tangerine:{keywords:["tangerine","food","fruit","nature","orange"],char:"🍊",category:"food_and_drink"},lemon:{keywords:["lemon","fruit","nature"],char:"🍋",category:"food_and_drink"},banana:{keywords:["banana","fruit","food","monkey"],char:"🍌",category:"food_and_drink"},watermelon:{keywords:["watermelon","fruit","food","picnic","summer"],char:"🍉",category:"food_and_drink"},grapes:{keywords:["grapes","fruit","food","wine"],char:"🍇",category:"food_and_drink"},strawberry:{keywords:["strawberry","fruit","food","nature"],char:"🍓",category:"food_and_drink"},melon:{keywords:["melon","fruit","nature","food"],char:"🍈",category:"food_and_drink"},cherries:{keywords:["cherries","food","fruit"],char:"🍒",category:"food_and_drink"},peach:{keywords:["peach","fruit","nature","food"],char:"🍑",category:"food_and_drink"},pineapple:{keywords:["pineapple","fruit","nature","food"],char:"🍍",category:"food_and_drink"},kiwi:{keywords:["kiwi","fruit","food"],char:"🥝",category:"food_and_drink"},avocado:{keywords:["avocado","fruit","food"],char:"🥑",category:"food_and_drink"},tomato:{keywords:["tomato","fruit","vegetable","nature","food"],char:"🍅",category:"food_and_drink"},eggplant:{keywords:["eggplant","vegetable","nature","food","aubergine"],char:"🍆",category:"food_and_drink"},cucumber:{keywords:["cucumber","fruit","food","pickle"],char:"🥒",category:"food_and_drink"},carrot:{keywords:["carrot","vegetable","food","orange"],char:"🥕",category:"food_and_drink"},hot_pepper:{keywords:["hot pepper","food","spicy","chilli","chili"],char:"🌶",category:"food_and_drink"},potato:{keywords:["potato","food","tuber","vegatable","starch"],char:"🥔",category:"food_and_drink"},corn:{keywords:["corn","food","vegetable","plant"],char:"🌽",category:"food_and_drink"},sweet_potato:{keywords:["sweet potato","food","nature"],char:"🍠",category:"food_and_drink"},peanuts:{keywords:["peanuts","food","nut"],char:"🥜",category:"food_and_drink"},honey_pot:{keywords:["honey pot","bees","sweet","kitchen"],char:"🍯",category:"food_and_drink"},croissant:{keywords:["croissant","food","bread","french"],char:"🥐",category:"food_and_drink"},bread:{keywords:["bread","food","wheat","breakfast","toast"],char:"🍞",category:"food_and_drink"},baguette:{keywords:["baguette","food","bread","french"],char:"🥖",category:"food_and_drink"},cheese_wedge:{keywords:["cheese wedge","food","chadder"],char:"🧀",category:"food_and_drink"},egg:{keywords:["egg","food","chicken","breakfast"],char:"🥚",category:"food_and_drink"},bacon:{keywords:["bacon","food","breakfast","pork","pig","meat"],char:"🥓",category:"food_and_drink"},pancakes:{keywords:["pancakes","food","breakfast","flapjacks","hotcakes"],char:"🥞",category:"food_and_drink"},poultry_leg:{keywords:["poultry leg","food","meat","drumstick","bird","chicken","turkey"],char:"🍗",category:"food_and_drink"},meat_on_bone:{keywords:["meat on bone","good","food","drumstick"],char:"🍖",category:"food_and_drink"},fried_shrimp:{keywords:["fried shrimp","food","animal","appetizer","summer"],char:"🍤",category:"food_and_drink"},cooking:{keywords:["cooking","food","breakfast","kitchen","egg"],char:"🍳",category:"food_and_drink"},hamburger:{keywords:["hamburger","meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",category:"food_and_drink"},fries:{keywords:["fries","chips","snack","fast food"],char:"🍟",category:"food_and_drink"},pita_sandwich:{keywords:["pita sandwich","food","flatbread","stuffed","gyro"],char:"🥙",category:"food_and_drink"},hot_dog:{keywords:["hot dog","food","frankfurter","hotdog"],char:"🌭",category:"food_and_drink"},pizza:{keywords:["pizza","food","party"],char:"🍕",category:"food_and_drink"},spaghetti:{keywords:["spaghetti","food","italian","noodle"],char:"🍝",category:"food_and_drink"},taco:{keywords:["taco","food","mexican"],char:"🌮",category:"food_and_drink"},burrito:{keywords:["burrito","food","mexican"],char:"🌯",category:"food_and_drink"},green_salad:{keywords:["green salad","food","healthy","lettuce"],char:"🥗",category:"food_and_drink"},pan_of_food:{keywords:["pan of food","food","cooking","casserole","paella"],char:"🥘",category:"food_and_drink"},ramen:{keywords:["ramen","food","japanese","noodle","chopsticks"],char:"🍜",category:"food_and_drink"},stew:{keywords:["stew","food","meat","soup"],char:"🍲",category:"food_and_drink"},fish_cake:{keywords:["fish cake","food","japan","sea","beach"],char:"🍥",category:"food_and_drink"},sushi:{keywords:["sushi","food","fish","japanese","rice"],char:"🍣",category:"food_and_drink"},bento:{keywords:["bento","food","japanese","box"],char:"🍱",category:"food_and_drink"},curry:{keywords:["curry","food","spicy","hot","indian"],char:"🍛",category:"food_and_drink"},rice_ball:{keywords:["rice ball","food","japanese"],char:"🍙",category:"food_and_drink"},rice:{keywords:["rice","food","china","asian"],char:"🍚",category:"food_and_drink"},rice_cracker:{keywords:["rice cracker","food","japanese"],char:"🍘",category:"food_and_drink"},oden:{keywords:["oden","food","japanese"],char:"🍢",category:"food_and_drink"},dango:{keywords:["dango","food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",category:"food_and_drink"},shaved_ice:{keywords:["shaved ice","hot","dessert","summer"],char:"🍧",category:"food_and_drink"},ice_cream:{keywords:["ice cream","food","hot","dessert"],char:"🍨",category:"food_and_drink"},icecream:{keywords:["icecream","food","hot","dessert","summer"],char:"🍦",category:"food_and_drink"},cake:{keywords:["cake","food","dessert"],char:"🍰",category:"food_and_drink"},birthday:{keywords:["birthday","food","dessert","cake"],char:"🎂",category:"food_and_drink"},custard:{keywords:["custard","dessert","food"],char:"🍮",category:"food_and_drink"},candy:{keywords:["candy","snack","dessert","sweet","lolly"],char:"🍬",category:"food_and_drink"},lollipop:{keywords:["lollipop","food","snack","candy","sweet"],char:"🍭",category:"food_and_drink"},chocolate_bar:{keywords:["chocolate bar","food","snack","dessert","sweet"],char:"🍫",category:"food_and_drink"},popcorn:{keywords:["popcorn","food","movie theater","films","snack"],char:"🍿",category:"food_and_drink"},doughnut:{keywords:["doughnut","food","dessert","snack","sweet","donut"],char:"🍩",category:"food_and_drink"},cookie:{keywords:["cookie","food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",category:"food_and_drink"},glass_of_milk:{keywords:["glass of milk","beverage","drink","cow"],char:"🥛",category:"food_and_drink"},beer:{keywords:["beer","relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",category:"food_and_drink"},beers:{keywords:["beers","relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",category:"food_and_drink"},clinking_glasses:{keywords:["clinking glasses","beverage","drink","party","alcohol","celebrate","cheers"],char:"🥂",category:"food_and_drink"},wine_glass:{keywords:["wine glass","drink","beverage","drunk","alcohol","booze"],char:"🍷",category:"food_and_drink"},tumbler_glass:{keywords:["tumbler glass","drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",category:"food_and_drink"},cocktail:{keywords:["cocktail","drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",category:"food_and_drink"},tropical_drink:{keywords:["tropical drink","beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",category:"food_and_drink"},bottle:{keywords:["bottle","drink","wine","champagne"],char:"🍾",category:"food_and_drink"},sake:{keywords:["sake","wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",category:"food_and_drink"},tea:{keywords:["tea","drink","bowl","breakfast","green","british"],char:"🍵",category:"food_and_drink"},coffee:{keywords:["coffee","beverage","caffeine","latte","espresso"],char:"☕",category:"food_and_drink"},baby_bottle:{keywords:["baby bottle","food","container","milk"],char:"🍼",category:"food_and_drink"},spoon:{keywords:["spoon","cutlery","kitchen","tableware"],char:"🥄",category:"food_and_drink"},fork_and_knife:{keywords:["fork and knife","cutlery","kitchen"],char:"🍴",category:"food_and_drink"},fork_and_knife_with_plate:{keywords:["fork and knife with plate","food","eat","meal","lunch","dinner","restaurant"],char:"🍽",category:"food_and_drink"}},activity:{soccer:{keywords:["soccer","sports","football"],char:"⚽",category:"activity"},basketball:{keywords:["basketball","sports","balls","NBA"],char:"🏀",category:"activity"},football:{keywords:["football","sports","balls","NFL"],char:"🏈",category:"activity"},baseball:{keywords:["baseball","sports","balls"],char:"⚾",category:"activity"},tennis:{keywords:["tennis","sports","balls","green"],char:"🎾",category:"activity"},volleyball:{keywords:["volleyball","sports","balls"],char:"🏐",category:"activity"},rugby_football:{keywords:["rugby football","sports","team"],char:"🏉",category:"activity"},"8ball":{keywords:["8ball","pool","hobby","game","luck","magic"],char:"🎱",category:"activity"},golf:{keywords:["golf","sports","business","flag","hole","summer"],char:"⛳",category:"activity"},golfer:{keywords:["golfer","sports","business"],char:"🏌",category:"activity"},table_tennis:{keywords:["table tennis","sports","pingpong"],char:"🏓",category:"activity"},badminton:{keywords:["badminton","sports"],char:"🏸",category:"activity"},goal_net:{keywords:["goal net","sports"],char:"🥅",category:"activity"},ice_hockey:{keywords:["ice hockey","sports"],char:"🏒",category:"activity"},field_hockey:{keywords:["field hockey","sports"],char:"🏑",category:"activity"},cricket:{keywords:["cricket","sports"],char:"🏏",category:"activity"},ski:{keywords:["ski","sports","winter","cold","snow"],char:"🎿",category:"activity"},skier:{keywords:["skier","sports","winter","snow"],char:"⛷",category:"activity"},snowboarder:{keywords:["snowboarder","sports","winter"],char:"🏂",category:"activity"},fencer:{keywords:["fencer","sports","fencing","sword"],char:"🤺",category:"activity"},ice_skate:{keywords:["ice skate","sports"],char:"⛸",category:"activity"},bow_and_arrow:{keywords:["bow and arrow","sports"],char:"🏹",category:"activity"},fishing_pole_and_fish:{keywords:["fishing pole and fish","food","hobby","summer"],char:"🎣",category:"activity"},boxing_glove:{keywords:["boxing glove","sports","fighting"],char:"🥊",category:"activity"},martial_arts_uniform:{keywords:["martial arts uniform","judo","karate","taekwondo"],char:"🥋",category:"activity"},rowboat:{keywords:["rowboat","sports","hobby","water","ship"],char:"🚣",category:"activity"},swimmer:{keywords:["swimmer","sports","exercise","human","athlete","water","summer"],char:"🏊",category:"activity"},surfer:{keywords:["surfer","sports","ocean","sea","summer","beach"],char:"🏄",category:"activity"},bath:{keywords:["bath","clean","shower","bathroom"],char:"🛀",category:"activity"},person_with_ball:{keywords:["person with ball","sports","human"],char:"⛹",category:"activity"},weight_lifter:{keywords:["weight lifter","sports","training","exercise"],char:"🏋",category:"activity"},bicyclist:{keywords:["bicyclist","sports","bike","exercise","hipster"],char:"🚴",category:"activity"},mountain_bicyclist:{keywords:["mountain bicyclist","transportation","sports","human","race","bike"],char:"🚵",category:"activity"},horse_racing:{keywords:["horse racing","animal","betting","competition","gambling","luck"],char:"🏇",category:"activity"},man_levitating:{keywords:["man levitating","suit","business","levitate","hover","jump"],char:"🕴",category:"activity"},trophy:{keywords:["trophy","win","award","contest","place","ftw","ceremony"],char:"🏆",category:"activity"},running_shirt_with_sash:{keywords:["running shirt with sash","play","pageant"],char:"🎽",category:"activity"},sports_medal:{keywords:["sports medal","award","winning"],char:"🏅",category:"activity"},military_medal:{keywords:["military medal","award","winning","army"],char:"🎖",category:"activity"},gold_medal:{keywords:["gold medal","award","winning","first"],char:"🥇",category:"activity"},silver_medal:{keywords:["silver medal","award","second"],char:"🥈",category:"activity"},bronze_medal:{keywords:["bronze medal","award","third"],char:"🥉",category:"activity"},reminder_ribbon:{keywords:["reminder ribbon","sports","cause","support","awareness"],char:"🎗",category:"activity"},rosette:{keywords:["rosette","flower","decoration","military"],char:"🏵",category:"activity"},ticket:{keywords:["ticket","event","concert","pass"],char:"🎫",category:"activity"},admission_ticket:{keywords:["admission ticket","sports","concert","entrance"],char:"🎟",category:"activity"},performing_arts:{keywords:["performing arts","acting","theater","drama"],char:"🎭",category:"activity"},art:{keywords:["art","design","paint","draw","colors"],char:"🎨",category:"activity"},circus_tent:{keywords:["circus tent","festival","carnival","party"],char:"🎪",category:"activity"},microphone:{keywords:["microphone","sound","music","PA"],char:"🎤",category:"activity"},headphones:{keywords:["headphones","music","score","gadgets"],char:"🎧",category:"activity"},musical_score:{keywords:["musical score","treble","clef"],char:"🎼",category:"activity"},musical_keyboard:{keywords:["musical keyboard","piano","instrument"],char:"🎹",category:"activity"},drum:{keywords:["drum","music","instrument","drumsticks"],char:"🥁",category:"activity"},saxophone:{keywords:["saxophone","music","instrument","jazz","blues"],char:"🎷",category:"activity"},trumpet:{keywords:["trumpet","music","brass"],char:"🎺",category:"activity"},guitar:{keywords:["guitar","music","instrument"],char:"🎸",category:"activity"},violin:{keywords:["violin","music","instrument","orchestra","symphony"],char:"🎻",category:"activity"},clapper:{keywords:["clapper","movie","film","record"],char:"🎬",category:"activity"},video_game:{keywords:["video game","play","console","PS4","controller"],char:"🎮",category:"activity"},space_invader:{keywords:["space invader","game","arcade","play"],char:"👾",category:"activity"},dart:{keywords:["dart","game","play","bar"],char:"🎯",category:"activity"},game_die:{keywords:["game die","dice","random","tabletop","play","luck"],char:"🎲",category:"activity"},slot_machine:{keywords:["slot machine","bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",category:"activity"},bowling:{keywords:["bowling","sports","fun","play"],char:"🎳",category:"activity"}},travel_and_places:{car:{keywords:["car","red","transportation","vehicle"],char:"🚗",category:"travel_and_places"},taxi:{keywords:["taxi","uber","vehicle","cars","transportation"],char:"🚕",category:"travel_and_places"},blue_car:{keywords:["blue car","transportation","vehicle"],char:"🚙",category:"travel_and_places"},bus:{keywords:["bus","car","vehicle","transportation"],char:"🚌",category:"travel_and_places"},trolleybus:{keywords:["trolleybus","bart","transportation","vehicle"],char:"🚎",category:"travel_and_places"},racing_car:{keywords:["racing car","sports","race","fast","formula","f1"],char:"🏎",category:"travel_and_places"},police_car:{keywords:["police car","vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",category:"travel_and_places"},ambulance:{keywords:["ambulance","health","911","hospital"],char:"🚑",category:"travel_and_places"},fire_engine:{keywords:["fire engine","transportation","cars","vehicle"],char:"🚒",category:"travel_and_places"},minibus:{keywords:["minibus","vehicle","car","transportation"],char:"🚐",category:"travel_and_places"},truck:{keywords:["truck","cars","transportation"],char:"🚚",category:"travel_and_places"},articulated_lorry:{keywords:["articulated lorry","vehicle","cars","transportation","express"],char:"🚛",category:"travel_and_places"},tractor:{keywords:["tractor","vehicle","car","farming","agriculture"],char:"🚜",category:"travel_and_places"},scooter:{keywords:["scooter","vehicle","kick","razor"],char:"🛴",category:"travel_and_places"},racing_motorcycle:{keywords:["racing motorcycle","race","sports","fast"],char:"🏍",category:"travel_and_places"},bike:{keywords:["bike","sports","bicycle","exercise","hipster"],char:"🚲",category:"travel_and_places"},motor_scooter:{keywords:["motor scooter","vehicle","vespa","sasha"],char:"🛵",category:"travel_and_places"},rotating_light:{keywords:["rotating light","police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",category:"travel_and_places"},oncoming_police_car:{keywords:["oncoming police car","vehicle","law","legal","enforcement","911"],char:"🚔",category:"travel_and_places"},oncoming_bus:{keywords:["oncoming bus","vehicle","transportation"],char:"🚍",category:"travel_and_places"},oncoming_automobile:{keywords:["oncoming automobile","car","vehicle","transportation"],char:"🚘",category:"travel_and_places"},oncoming_taxi:{keywords:["oncoming taxi","vehicle","cars","uber"],char:"🚖",category:"travel_and_places"},aerial_tramway:{keywords:["aerial tramway","transportation","vehicle","ski"],char:"🚡",category:"travel_and_places"},mountain_cableway:{keywords:["mountain cableway","transportation","vehicle","ski"],char:"🚠",category:"travel_and_places"},suspension_railway:{keywords:["suspension railway","vehicle","transportation"],char:"🚟",category:"travel_and_places"},railway_car:{keywords:["railway car","transportation","vehicle"],char:"🚃",category:"travel_and_places"},train:{keywords:["train","transportation","vehicle","carriage","public","travel"],char:"🚋",category:"travel_and_places"},monorail:{keywords:["monorail","transportation","vehicle"],char:"🚝",category:"travel_and_places"},bullettrain_side:{keywords:["bullettrain side","transportation","vehicle"],char:"🚄",category:"travel_and_places"},bullettrain_front:{keywords:["bullettrain front","transportation","vehicle","speed","fast","public","travel"],char:"🚅",category:"travel_and_places"},light_rail:{keywords:["light rail","transportation","vehicle"],char:"🚈",category:"travel_and_places"},mountain_railway:{keywords:["mountain railway","transportation","vehicle"],char:"🚞",category:"travel_and_places"},steam_locomotive:{keywords:["steam locomotive","transportation","vehicle","train"],char:"🚂",category:"travel_and_places"},train2:{keywords:["train2","transportation","vehicle"],char:"🚆",category:"travel_and_places"},metro:{keywords:["metro","transportation","blue-square","mrt","underground","tube"],char:"🚇",category:"travel_and_places"},tram:{keywords:["tram","transportation","vehicle"],char:"🚊",category:"travel_and_places"},station:{keywords:["station","transportation","vehicle","public"],char:"🚉",category:"travel_and_places"},helicopter:{keywords:["helicopter","transportation","vehicle","fly"],char:"🚁",category:"travel_and_places"},small_airplane:{keywords:["small airplane","flight","transportation","fly","vehicle"],char:"🛩",category:"travel_and_places"},airplane:{keywords:["airplane","vehicle","transportation","flight","fly"],char:"✈️",category:"travel_and_places"},airplane_departure:{keywords:["airplane departure","airport","flight","landing"],char:"🛫",category:"travel_and_places"},airplane_arrival:{keywords:["airplane arrival","airport","flight","boarding"],char:"🛬",category:"travel_and_places"},boat:{keywords:["boat","ship","summer","transportation","water","sailing","sailboat"],char:"⛵",category:"travel_and_places"},motor_boat:{keywords:["motor boat","ship"],char:"🛥",category:"travel_and_places"},speedboat:{keywords:["speedboat","ship","transportation","vehicle","summer"],char:"🚤",category:"travel_and_places"},ferry:{keywords:["ferry","boat","ship","yacht"],char:"⛴",category:"travel_and_places"},passenger_ship:{keywords:["passenger ship","yacht","cruise","ferry"],char:"🛳",category:"travel_and_places"},rocket:{keywords:["rocket","launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",category:"travel_and_places"},artificial_satellite:{keywords:["artificial satellite","communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",category:"travel_and_places"},seat:{keywords:["seat","sit","airplane","transport","bus","flight","fly"],char:"💺",category:"travel_and_places"},canoe:{keywords:["canoe","boat","paddle","water","ship"],char:"🛶",category:"travel_and_places"},anchor:{keywords:["anchor","ship","ferry","sea","boat"],char:"⚓",category:"travel_and_places"},construction:{keywords:["construction","wip","progress","caution","warning"],char:"🚧",category:"travel_and_places"},fuelpump:{keywords:["fuelpump","gas station","petroleum"],char:"⛽",category:"travel_and_places"},busstop:{keywords:["busstop","transportation","wait"],char:"🚏",category:"travel_and_places"},vertical_traffic_light:{keywords:["vertical traffic light","transportation","driving"],char:"🚦",category:"travel_and_places"},traffic_light:{keywords:["traffic light","transportation","signal"],char:"🚥",category:"travel_and_places"},checkered_flag:{keywords:["checkered flag","contest","finishline","race","gokart"],char:"🏁",category:"travel_and_places"},ship:{keywords:["ship","transportation","titanic","deploy"],char:"🚢",category:"travel_and_places"},ferris_wheel:{keywords:["ferris wheel","photo","carnival","londoneye"],char:"🎡",category:"travel_and_places"},roller_coaster:{keywords:["roller coaster","carnival","playground","photo","fun"],char:"🎢",category:"travel_and_places"},carousel_horse:{keywords:["carousel horse","photo","carnival"],char:"🎠",category:"travel_and_places"},building_construction:{keywords:["building construction","wip","working","progress"],char:"🏗",category:"travel_and_places"},foggy:{keywords:["foggy","photo","mountain"],char:"🌁",category:"travel_and_places"},tokyo_tower:{keywords:["tokyo tower","photo","japanese"],char:"🗼",category:"travel_and_places"},factory:{keywords:["factory","building","industry","pollution","smoke"],char:"🏭",category:"travel_and_places"},fountain:{keywords:["fountain","photo","summer","water","fresh"],char:"⛲",category:"travel_and_places"},rice_scene:{keywords:["rice scene","photo","japan","asia","tsukimi"],char:"🎑",category:"travel_and_places"},mountain:{keywords:["mountain","photo","nature","environment"],char:"⛰",category:"travel_and_places"},snow_capped_mountain:{keywords:["snow capped mountain","photo","nature","environment","winter","cold"],char:"🏔",category:"travel_and_places"},mount_fuji:{keywords:["mount fuji","photo","mountain","nature","japanese"],char:"🗻",category:"travel_and_places"},volcano:{keywords:["volcano","photo","nature","disaster"],char:"🌋",category:"travel_and_places"},japan:{keywords:["japan","nation","country","japanese","asia"],char:"🗾",category:"travel_and_places"},camping:{keywords:["camping","photo","outdoors","tent"],char:"🏕",category:"travel_and_places"},tent:{keywords:["tent","photo","camping","outdoors"],char:"⛺",category:"travel_and_places"},national_park:{keywords:["national park","photo","environment","nature"],char:"🏞",category:"travel_and_places"},motorway:{keywords:["motorway","road","cupertino","interstate","highway"],char:"🛣",category:"travel_and_places"},railway_track:{keywords:["railway track","train","transportation"],char:"🛤",category:"travel_and_places"},sunrise:{keywords:["sunrise","morning","view","vacation","photo"],char:"🌅",category:"travel_and_places"},sunrise_over_mountains:{keywords:["sunrise over mountains","view","vacation","photo"],char:"🌄",category:"travel_and_places"},desert:{keywords:["desert","photo","warm","saharah"],char:"🏜",category:"travel_and_places"},beach_with_umbrella:{keywords:["beach with umbrella","weather","summer","sunny","sand","mojito"],char:"🏖",category:"travel_and_places"},desert_island:{keywords:["desert island","photo","tropical","mojito"],char:"🏝",category:"travel_and_places"},city_sunrise:{keywords:["city sunrise","photo","good morning","dawn"],char:"🌇",category:"travel_and_places"},city_sunset:{keywords:["city sunset","photo","evening","sky","buildings"],char:"🌆",category:"travel_and_places"},cityscape:{keywords:["cityscape","photo","night life","urban"],char:"🏙",category:"travel_and_places"},night_with_stars:{keywords:["night with stars","evening","city","downtown"],char:"🌃",category:"travel_and_places"},bridge_at_night:{keywords:["bridge at night","photo","sanfrancisco"],char:"🌉",category:"travel_and_places"},milky_way:{keywords:["milky way","photo","space","stars"],char:"🌌",category:"travel_and_places"},stars:{keywords:["stars","night","photo"],char:"🌠",category:"travel_and_places"},sparkler:{keywords:["sparkler","stars","night","shine"],char:"🎇",category:"travel_and_places"},fireworks:{keywords:["fireworks","photo","festival","carnival","congratulations"],char:"🎆",category:"travel_and_places"},rainbow:{keywords:["rainbow","nature","happy","unicorn","photo","sky","spring"],char:"🌈",category:"travel_and_places"},buildings:{keywords:["buildings","houses","photo"],char:"🏘",category:"travel_and_places"},european_castle:{keywords:["european castle","building","royalty","history"],char:"🏰",category:"travel_and_places"},japanese_castle:{keywords:["japanese castle","photo","building"],char:"🏯",category:"travel_and_places"},stadium:{keywords:["stadium","photo","place","sports","concert","venue"],char:"🏟",category:"travel_and_places"},statue_of_liberty:{keywords:["statue of liberty","american","newyork"],char:"🗽",category:"travel_and_places"},house:{keywords:["house","building","home"],char:"🏠",category:"travel_and_places"},house_with_garden:{keywords:["house with garden","home","plant","nature"],char:"🏡",category:"travel_and_places"},derelict_house:{keywords:["derelict house","abandon","evict","broken","building"],char:"🏚",category:"travel_and_places"},office:{keywords:["office","building","bureau","work"],char:"🏢",category:"travel_and_places"},department_store:{keywords:["department store","building","shopping","mall"],char:"🏬",category:"travel_and_places"},post_office:{keywords:["post office","building","email","communication"],char:"🏣",category:"travel_and_places"},european_post_office:{keywords:["european post office","building","email"],char:"🏤",category:"travel_and_places"},hospital:{keywords:["hospital","building","health","surgery","doctor"],char:"🏥",category:"travel_and_places"},bank:{keywords:["bank","building","money","sales","cash","business","enterprise"],char:"🏦",category:"travel_and_places"},hotel:{keywords:["hotel","building","accomodation","checkin"],char:"🏨",category:"travel_and_places"},convenience_store:{keywords:["convenience store","building","shopping","groceries"],char:"🏪",category:"travel_and_places"},school:{keywords:["school","building","student","education","learn","teach"],char:"🏫",category:"travel_and_places"},love_hotel:{keywords:["love hotel","like","affection","dating"],char:"🏩",category:"travel_and_places"},wedding:{keywords:["wedding","love","like","affection","couple","marriage","bride","groom"],char:"💒",category:"travel_and_places"},museum:{keywords:["museum","art","culture","history"],char:"🏛",category:"travel_and_places"},church:{keywords:["church","building","religion","christ"],char:"⛪",category:"travel_and_places"},mosque:{keywords:["mosque","islam","worship","minaret"],char:"🕌",category:"travel_and_places"},synagogue:{keywords:["synagogue","judaism","worship","temple","jewish"],char:"🕍",category:"travel_and_places"},kaaba:{keywords:["kaaba","mecca","mosque","islam"],char:"🕋",category:"travel_and_places"},shinto_shrine:{keywords:["shinto shrine","temple","japan","kyoto"],char:"⛩",category:"travel_and_places"}},objects:{watch:{keywords:["watch","time","accessories"],char:"⌚",category:"objects"},iphone:{keywords:["iphone","technology","apple","gadgets","dial"],char:"📱",category:"objects"},calling:{keywords:["calling","iphone","incoming"],char:"📲",category:"objects"},computer:{keywords:["computer","technology","laptop","screen","display","monitor"],char:"💻",category:"objects"},keyboard:{keywords:["keyboard","technology","computer","type","input","text"],char:"⌨",category:"objects"},desktop_computer:{keywords:["desktop computer","technology","computing","screen"],char:"🖥",category:"objects"},printer:{keywords:["printer","paper","ink"],char:"🖨",category:"objects"},three_button_mouse:{keywords:["three button mouse","click"],char:"🖱",category:"objects"},trackball:{keywords:["trackball","technology","trackpad"],char:"🖲",category:"objects"},joystick:{keywords:["joystick","game","play"],char:"🕹",category:"objects"},compression:{keywords:["compression","tool"],char:"🗜",category:"objects"},minidisc:{keywords:["minidisc","technology","record","data","disk","90s"],char:"💽",category:"objects"},floppy_disk:{keywords:["floppy disk","oldschool","technology","save","90s","80s"],char:"💾",category:"objects"},cd:{keywords:["cd","technology","dvd","disk","disc","90s"],char:"💿",category:"objects"},dvd:{keywords:["dvd","cd","disk","disc"],char:"📀",category:"objects"},vhs:{keywords:["vhs","record","video","oldschool","90s","80s"],char:"📼",category:"objects"},camera:{keywords:["camera","gadgets","photography"],char:"📷",category:"objects"},camera_with_flash:{keywords:["camera with flash","photography","gadgets"],char:"📸",category:"objects"},video_camera:{keywords:["video camera","film","record"],char:"📹",category:"objects"},movie_camera:{keywords:["movie camera","film","record"],char:"🎥",category:"objects"},film_projector:{keywords:["film projector","video","tape","record","movie"],char:"📽",category:"objects"},film_frames:{keywords:["film frames","movie"],char:"🎞",category:"objects"},telephone_receiver:{keywords:["telephone receiver","technology","communication","dial"],char:"📞",category:"objects"},phone:{keywords:["phone","technology","communication","dial","telephone"],char:"☎️",category:"objects"},pager:{keywords:["pager","bbcall","oldschool","90s"],char:"📟",category:"objects"},fax:{keywords:["fax","communication","technology"],char:"📠",category:"objects"},tv:{keywords:["tv","technology","program","oldschool","show","television"],char:"📺",category:"objects"},radio:{keywords:["radio","communication","music","podcast","program"],char:"📻",category:"objects"},studio_microphone:{keywords:["studio microphone","singer","recording","artist"],char:"🎙",category:"objects"},level_slider:{keywords:["level slider","scale"],char:"🎚",category:"objects"},control_knobs:{keywords:["control knobs","dial"],char:"🎛",category:"objects"},stopwatch:{keywords:["stopwatch","time","deadline"],char:"⏱",category:"objects"},timer_clock:{keywords:["timer clock","alarm"],char:"⏲",category:"objects"},alarm_clock:{keywords:["alarm clock","time","wake"],char:"⏰",category:"objects"},mantelpiece_clock:{keywords:["mantelpiece clock","time"],char:"🕰",category:"objects"},hourglass_flowing_sand:{keywords:["hourglass flowing sand","oldschool","time","countdown"],char:"⏳",category:"objects"},hourglass:{keywords:["hourglass","time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",category:"objects"},satellite:{keywords:["satellite","communication","future","radio","space"],char:"📡",category:"objects"},battery:{keywords:["battery","power","energy","sustain"],char:"🔋",category:"objects"},electric_plug:{keywords:["electric plug","charger","power"],char:"🔌",category:"objects"},bulb:{keywords:["bulb","light","electricity","idea"],char:"💡",category:"objects"},flashlight:{keywords:["flashlight","dark","camping","sight","night"],char:"🔦",category:"objects"},candle:{keywords:["candle","fire","wax"],char:"🕯",category:"objects"},wastebasket:{keywords:["wastebasket","bin","trash","rubbish","garbage","toss"],char:"🗑",category:"objects"},oil_drum:{keywords:["oil drum","barrell"],char:"🛢",category:"objects"},money_with_wings:{keywords:["money with wings","dollar","bills","payment","sale"],char:"💸",category:"objects"},dollar:{keywords:["dollar","money","sales","bill","currency"],char:"💵",category:"objects"},yen:{keywords:["yen","money","sales","japanese","dollar","currency"],char:"💴",category:"objects"},euro:{keywords:["euro","money","sales","dollar","currency"],char:"💶",category:"objects"},pound:{keywords:["pound","british","sterling","money","sales","bills","uk","england","currency"],char:"💷",category:"objects"},moneybag:{keywords:["moneybag","dollar","payment","coins","sale"],char:"💰",category:"objects"},credit_card:{keywords:["credit card","money","sales","dollar","bill","payment","shopping"],char:"💳",category:"objects"},gem:{keywords:["gem","blue","ruby","diamond","jewelry"],char:"💎",category:"objects"},scales:{keywords:["scales","law","fairness","weight"],char:"⚖",category:"objects"},wrench:{keywords:["wrench","tools","diy","ikea","fix","maintainer"],char:"🔧",category:"objects"},hammer:{keywords:["hammer","tools","build","create"],char:"🔨",category:"objects"},hammer_and_pick:{keywords:["hammer and pick","tools","build","create"],char:"⚒",category:"objects"},hammer_and_wrench:{keywords:["hammer and wrench","tools","build","create"],char:"🛠",category:"objects"},pick:{keywords:["pick","tools","dig"],char:"⛏",category:"objects"},nut_and_bolt:{keywords:["nut and bolt","handy","tools","fix"],char:"🔩",category:"objects"},gear:{keywords:["gear","cog"],char:"⚙",category:"objects"},chains:{keywords:["chains","lock","arrest"],char:"⛓",category:"objects"},gun:{keywords:["gun","violence","weapon","pistol","revolver"],char:"🔫",category:"objects"},bomb:{keywords:["bomb","boom","explode","explosion","terrorism"],char:"💣",category:"objects"},hocho:{keywords:["hocho","knife","blade","cutlery","kitchen","weapon"],char:"🔪",category:"objects"},dagger_knife:{keywords:["dagger knife","weapon"],char:"🗡",category:"objects"},crossed_swords:{keywords:["crossed swords","weapon"],char:"⚔",category:"objects"},shield:{keywords:["shield","protection","security"],char:"🛡",category:"objects"},smoking:{keywords:["smoking","kills","tobacco","cigarette","joint","smoke"],char:"🚬",category:"objects"},skull_and_crossbones:{keywords:["skull and crossbones","poison","danger","deadly","scary"],char:"☠",category:"objects"},coffin:{keywords:["coffin","vampire","dead","die","death","rip","graveyard","cemetery"],char:"⚰",category:"objects"},funeral_urn:{keywords:["funeral urn","dead","die","death","rip","ashes"],char:"⚱",category:"objects"},amphora:{keywords:["amphora","vase","jar"],char:"🏺",category:"objects"},crystal_ball:{keywords:["crystal ball","disco","party","magic","circus","fortune_teller"],char:"🔮",category:"objects"},prayer_beads:{keywords:["prayer beads","dhikr","religious"],char:"📿",category:"objects"},barber:{keywords:["barber","hair","salon","style"],char:"💈",category:"objects"},alembic:{keywords:["alembic","distilling","science","experiment"],char:"⚗",category:"objects"},telescope:{keywords:["telescope","stars","space","zoom"],char:"🔭",category:"objects"},microscope:{keywords:["microscope","laboratory","experiment","zoomin","science","study"],char:"🔬",category:"objects"},hole:{keywords:["hole","embarrassing"],char:"🕳",category:"objects"},pill:{keywords:["pill","health","medicine","doctor","pharmacy","drug"],char:"💊",category:"objects"},syringe:{keywords:["syringe","health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",category:"objects"},thermometer:{keywords:["thermometer","weather","temperature","hot","cold"],char:"🌡",category:"objects"},label:{keywords:["label","sale","tag"],char:"🏷",category:"objects"},bookmark:{keywords:["bookmark","favorite","label","save"],char:"🔖",category:"objects"},toilet:{keywords:["toilet","restroom","wc","washroom","bathroom","potty"],char:"🚽",category:"objects"},shower:{keywords:["shower","clean","water","bathroom"],char:"🚿",category:"objects"},bathtub:{keywords:["bathtub","clean","shower","bathroom"],char:"🛁",category:"objects"},key:{keywords:["key","lock","door","password"],char:"🔑",category:"objects"},old_key:{keywords:["old key","lock","door","password"],char:"🗝",category:"objects"},couch_and_lamp:{keywords:["couch and lamp","read","chill"],char:"🛋",category:"objects"},sleeping_accommodation:{keywords:["sleeping accommodation","bed","rest"],char:"🛌",category:"objects"},bed:{keywords:["bed","sleep","rest"],char:"🛏",category:"objects"},door:{keywords:["door","house","entry","exit"],char:"🚪",category:"objects"},bellhop_bell:{keywords:["bellhop bell","service"],char:"🛎",category:"objects"},frame_with_picture:{keywords:["frame with picture","photography"],char:"🖼",category:"objects"},world_map:{keywords:["world map","location","direction"],char:"🗺",category:"objects"},umbrella_on_ground:{keywords:["umbrella on ground","weather","summer"],char:"⛱",category:"objects"},moyai:{keywords:["moyai","rock","easter island","moai"],char:"🗿",category:"objects"},shopping_bags:{keywords:["shopping bags","mall","buy","purchase"],char:"🛍",category:"objects"},shopping_cart:{keywords:["shopping cart","trolley"],char:"🛒",category:"objects"},balloon:{keywords:["balloon","party","celebration","birthday","circus"],char:"🎈",category:"objects"},flags:{keywords:["flags","fish","japanese","koinobori","carp","banner"],char:"🎏",category:"objects"},ribbon:{keywords:["ribbon","decoration","pink","girl","bowtie"],char:"🎀",category:"objects"},gift:{keywords:["gift","present","birthday","christmas","xmas"],char:"🎁",category:"objects"},confetti_ball:{keywords:["confetti ball","festival","party","birthday","circus"],char:"🎊",category:"objects"},tada:{keywords:["tada","party","contulations","birthday","magic","circus"],char:"🎉",category:"objects"},dolls:{keywords:["dolls","japanese","toy","kimono"],char:"🎎",category:"objects"},wind_chime:{keywords:["wind chime","nature","ding","spring","bell"],char:"🎐",category:"objects"},crossed_flags:{keywords:["crossed flags","japanese","nation","country","border"],char:"🎌",category:"objects"},izakaya_lantern:{keywords:["izakaya lantern","light","paper","halloween","spooky"],char:"🏮",category:"objects"},envelope:{keywords:["envelope","letter","postal","inbox","communication"],char:"✉️",category:"objects"},envelope_with_arrow:{keywords:["envelope with arrow","email","communication"],char:"📩",category:"objects"},incoming_envelope:{keywords:["incoming envelope","email","inbox"],char:"📨",category:"objects"},email:{keywords:["email","communication","inbox"],char:"📧",category:"objects"},love_letter:{keywords:["love letter","email","like","affection","envelope","valentines"],char:"💌",category:"objects"},postbox:{keywords:["postbox","email","letter","envelope"],char:"📮",category:"objects"},mailbox_closed:{keywords:["mailbox closed","email","communication","inbox"],char:"📪",category:"objects"},mailbox:{keywords:["mailbox","email","inbox","communication"],char:"📫",category:"objects"},mailbox_with_mail:{keywords:["mailbox with mail","email","inbox","communication"],char:"📬",category:"objects"},mailbox_with_no_mail:{keywords:["mailbox with no mail","email","inbox"],char:"📭",category:"objects"},package:{keywords:["package","mail","gift","cardboard","box","moving"],char:"📦",category:"objects"},postal_horn:{keywords:["postal horn","instrument","music"],char:"📯",category:"objects"},inbox_tray:{keywords:["inbox tray","email","documents"],char:"📥",category:"objects"},outbox_tray:{keywords:["outbox tray","inbox","email"],char:"📤",category:"objects"},scroll:{keywords:["scroll","documents","ancient","history","paper"],char:"📜",category:"objects"},page_with_curl:{keywords:["page with curl","documents","office","paper"],char:"📃",category:"objects"},bookmark_tabs:{keywords:["bookmark tabs","favorite","save","order","tidy"],char:"📑",category:"objects"},bar_chart:{keywords:["bar chart","graph","presentation","stats"],char:"📊",category:"objects"},chart_with_upwards_trend:{keywords:["chart with upwards trend","graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",category:"objects"},chart_with_downwards_trend:{keywords:["chart with downwards trend","graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",category:"objects"},page_facing_up:{keywords:["page facing up","documents","office","paper","information"],char:"📄",category:"objects"},date:{keywords:["date","calendar","schedule"],char:"📅",category:"objects"},calendar:{keywords:["calendar","schedule","date","planning"],char:"📆",category:"objects"},spiral_calendar_pad:{keywords:["spiral calendar pad","date","schedule","planning"],char:"🗓",category:"objects"},card_index:{keywords:["card index","business","stationery"],char:"📇",category:"objects"},card_file_box:{keywords:["card file box","business","stationery"],char:"🗃",category:"objects"},ballot_box_with_ballot:{keywords:["ballot box with ballot","election","vote"],char:"🗳",category:"objects"},file_cabinet:{keywords:["file cabinet","filing","organizing"],char:"🗄",category:"objects"},clipboard:{keywords:["clipboard","stationery","documents"],char:"📋",category:"objects"},spiral_note_pad:{keywords:["spiral note pad","memo","stationery"],char:"🗒",category:"objects"},file_folder:{keywords:["file folder","documents","business","office"],char:"📁",category:"objects"},open_file_folder:{keywords:["open file folder","documents","load"],char:"📂",category:"objects"},card_index_dividers:{keywords:["card index dividers","organizing","business","stationery"],char:"🗂",category:"objects"},rolled_up_newspaper:{keywords:["rolled up newspaper","press","headline"],char:"🗞",category:"objects"},newspaper:{keywords:["newspaper","press","headline"],char:"📰",category:"objects"},notebook:{keywords:["notebook","stationery","record","notes","paper","study"],char:"📓",category:"objects"},closed_book:{keywords:["closed book","read","library","knowledge","textbook","learn"],char:"📕",category:"objects"},green_book:{keywords:["green book","read","library","knowledge","study"],char:"📗",category:"objects"},blue_book:{keywords:["blue book","read","library","knowledge","learn","study"],char:"📘",category:"objects"},orange_book:{keywords:["orange book","read","library","knowledge","textbook","study"],char:"📙",category:"objects"},notebook_with_decorative_cover:{keywords:["notebook with decorative cover","classroom","notes","record","paper","study"],char:"📔",category:"objects"},ledger:{keywords:["ledger","notes","paper"],char:"📒",category:"objects"},books:{keywords:["books","literature","library","study"],char:"📚",category:"objects"},book:{keywords:["book","open_book","read","library","knowledge","literature","learn","study"],char:"📖",category:"objects"},link:{keywords:["link","rings","url"],char:"🔗",category:"objects"},paperclip:{keywords:["paperclip","documents","stationery"],char:"📎",category:"objects"},linked_paperclips:{keywords:["linked paperclips","documents","stationery"],char:"🖇",category:"objects"},scissors:{keywords:["scissors","stationery","cut"],char:"✂️",category:"objects"},triangular_ruler:{keywords:["triangular ruler","stationery","math","architect","sketch"],char:"📐",category:"objects"},straight_ruler:{keywords:["straight ruler","stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",category:"objects"},pushpin:{keywords:["pushpin","stationery","mark","here"],char:"📌",category:"objects"},round_pushpin:{keywords:["round pushpin","stationery","location","map","here"],char:"📍",category:"objects"},triangular_flag_on_post:{keywords:["triangular flag on post","mark","milestone","place"],char:"🚩",category:"objects"},waving_white_flag:{keywords:["waving white flag","losing","loser","lost","surrender","give up","fail"],char:"🏳",category:"objects"},waving_black_flag:{keywords:["waving black flag","pirate"],char:"🏴",category:"objects"},rainbow_flag:{keywords:["rainbow flag","flag","rainbow"],char:"🏳️‍🌈",category:"objects"},closed_lock_with_key:{keywords:["closed lock with key","security","privacy"],char:"🔐",category:"objects"},lock:{keywords:["lock","security","password","padlock"],char:"🔒",category:"objects"},unlock:{keywords:["unlock","privacy","security"],char:"🔓",category:"objects"},lock_with_ink_pen:{keywords:["lock with ink pen","security","secret"],char:"🔏",category:"objects"},lower_left_ballpoint_pen:{keywords:["lower left ballpoint pen","stationery","writing","write"],char:"🖊",category:"objects"},lower_left_fountain_pen:{keywords:["lower left fountain pen","stationery","writing","write"],char:"🖋",category:"objects"},black_nib:{keywords:["black nib","pen","stationery","writing","write"],char:"✒️",category:"objects"},memo:{keywords:["memo","write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study"],char:"📝",category:"objects"},pencil2:{keywords:["pencil2","stationery","write","paper","writing","school","study"],char:"✏️",category:"objects"},lower_left_crayon:{keywords:["lower left crayon","drawing","creativity"],char:"🖍",category:"objects"},lower_left_paintbrush:{keywords:["lower left paintbrush","drawing","creativity","art"],char:"🖌",category:"objects"},mag:{keywords:["mag","search","zoom","find","detective"],char:"🔍",category:"objects"},mag_right:{keywords:["mag right","search","zoom","find","detective"],char:"🔎",category:"objects"}},flags:{af:{keywords:["af","afghanistan","flag","nation","country","banner"],char:"🇦🇫",category:"flags"},ax:{keywords:["ax","Åland","islands","flag","nation","country","banner"],char:"🇦🇽",category:"flags"},al:{keywords:["al","albania","flag","nation","country","banner"],char:"🇦🇱",category:"flags"},dz:{keywords:["dz","algeria","flag","nation","country","banner"],char:"🇩🇿",category:"flags"},as:{keywords:["as","american","samoa","flag","nation","country","banner"],char:"🇦🇸",category:"flags"},ad:{keywords:["ad","andorra","flag","nation","country","banner"],char:"🇦🇩",category:"flags"},ao:{keywords:["ao","angola","flag","nation","country","banner"],char:"🇦🇴",category:"flags"},ai:{keywords:["ai","anguilla","flag","nation","country","banner"],char:"🇦🇮",category:"flags"},aq:{keywords:["aq","antarctica","flag","nation","country","banner"],char:"🇦🇶",category:"flags"},ag:{keywords:["ag","antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",category:"flags"},ar:{keywords:["ar","argentina","flag","nation","country","banner"],char:"🇦🇷",category:"flags"},am:{keywords:["am","armenia","flag","nation","country","banner"],char:"🇦🇲",category:"flags"},aw:{keywords:["aw","aruba","flag","nation","country","banner"],char:"🇦🇼",category:"flags"},au:{keywords:["au","australia","flag","nation","country","banner"],char:"🇦🇺",category:"flags"},at:{keywords:["at","austria","flag","nation","country","banner"],char:"🇦🇹",category:"flags"},az:{keywords:["az","azerbaijan","flag","nation","country","banner"],char:"🇦🇿",category:"flags"},bs:{keywords:["bs","bahamas","flag","nation","country","banner"],char:"🇧🇸",category:"flags"},bh:{keywords:["bh","bahrain","flag","nation","country","banner"],char:"🇧🇭",category:"flags"},bd:{keywords:["bd","bangladesh","flag","nation","country","banner"],char:"🇧🇩",category:"flags"},bb:{keywords:["bb","barbados","flag","nation","country","banner"],char:"🇧🇧",category:"flags"},by:{keywords:["by","belarus","flag","nation","country","banner"],char:"🇧🇾",category:"flags"},be:{keywords:["be","belgium","flag","nation","country","banner"],char:"🇧🇪",category:"flags"},bz:{keywords:["bz","belize","flag","nation","country","banner"],char:"🇧🇿",category:"flags"},bj:{keywords:["bj","benin","flag","nation","country","banner"],char:"🇧🇯",category:"flags"},bm:{keywords:["bm","bermuda","flag","nation","country","banner"],char:"🇧🇲",category:"flags"},bt:{keywords:["bt","bhutan","flag","nation","country","banner"],char:"🇧🇹",category:"flags"},bo:{keywords:["bo","bolivia","flag","nation","country","banner"],char:"🇧🇴",category:"flags"},bq:{keywords:["bq","bonaire","flag","nation","country","banner"],char:"🇧🇶",category:"flags"},ba:{keywords:["ba","bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",category:"flags"},bw:{keywords:["bw","botswana","flag","nation","country","banner"],char:"🇧🇼",category:"flags"},br:{keywords:["br","brazil","flag","nation","country","banner"],char:"🇧🇷",category:"flags"},io:{keywords:["io","british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",category:"flags"},vg:{keywords:["vg","british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",category:"flags"},bn:{keywords:["bn","brunei","darussalam","flag","nation","country","banner"],char:"🇧🇳",category:"flags"},bg:{keywords:["bg","bulgaria","flag","nation","country","banner"],char:"🇧🇬",category:"flags"},bf:{keywords:["bf","burkina","faso","flag","nation","country","banner"],char:"🇧🇫",category:"flags"},bi:{keywords:["bi","burundi","flag","nation","country","banner"],char:"🇧🇮",category:"flags"},cv:{keywords:["cv","cabo","verde","flag","nation","country","banner"],char:"🇨🇻",category:"flags"},kh:{keywords:["kh","cambodia","flag","nation","country","banner"],char:"🇰🇭",category:"flags"},cm:{keywords:["cm","cameroon","flag","nation","country","banner"],char:"🇨🇲",category:"flags"},ca:{keywords:["ca","canada","flag","nation","country","banner"],char:"🇨🇦",category:"flags"},ic:{keywords:["ic","canary","islands","flag","nation","country","banner"],char:"🇮🇨",category:"flags"},ky:{keywords:["ky","cayman","islands","flag","nation","country","banner"],char:"🇰🇾",category:"flags"},cf:{keywords:["cf","central","african","republic","flag","nation","country","banner"],char:"🇨🇫",category:"flags"},td:{keywords:["td","chad","flag","nation","country","banner"],char:"🇹🇩",category:"flags"},chile:{keywords:["chile","flag","nation","country","banner"],char:"🇨🇱",category:"flags"},cn:{keywords:["cn","china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",category:"flags"},cx:{keywords:["cx","christmas","island","flag","nation","country","banner"],char:"🇨🇽",category:"flags"},cc:{keywords:["cc","cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",category:"flags"},co:{keywords:["co","colombia","flag","nation","country","banner"],char:"🇨🇴",category:"flags"},km:{keywords:["km","comoros","flag","nation","country","banner"],char:"🇰🇲",category:"flags"},cg:{keywords:["cg","congo","flag","nation","country","banner"],char:"🇨🇬",category:"flags"},drc:{keywords:["drc","congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",category:"flags"},ck:{keywords:["ck","cook","islands","flag","nation","country","banner"],char:"🇨🇰",category:"flags"},cr:{keywords:["cr","costa","rica","flag","nation","country","banner"],char:"🇨🇷",category:"flags"},hr:{keywords:["hr","croatia","flag","nation","country","banner"],char:"🇭🇷",category:"flags"},cu:{keywords:["cu","cuba","flag","nation","country","banner"],char:"🇨🇺",category:"flags"},cw:{keywords:["cw","curaçao","flag","nation","country","banner"],char:"🇨🇼",category:"flags"},cy:{keywords:["cy","cyprus","flag","nation","country","banner"],char:"🇨🇾",category:"flags"},cz:{keywords:["cz","czech_republic","flag","nation","country","banner"],char:"🇨🇿",category:"flags"},dk:{keywords:["dk","denmark","flag","nation","country","banner"],char:"🇩🇰",category:"flags"},dj:{keywords:["dj","djibouti","flag","nation","country","banner"],char:"🇩🇯",category:"flags"},dm:{keywords:["dm","dominica","flag","nation","country","banner"],char:"🇩🇲",category:"flags"},do:{keywords:["do","dominican","republic","flag","nation","country","banner"],char:"🇩🇴",category:"flags"},ec:{keywords:["ec","ecuador","flag","nation","country","banner"],char:"🇪🇨",category:"flags"},eg:{keywords:["eg","egypt","flag","nation","country","banner"],char:"🇪🇬",category:"flags"},sv:{keywords:["sv","el","salvador","flag","nation","country","banner"],char:"🇸🇻",category:"flags"},gq:{keywords:["gq","equatorial","guinea","flag","nation","country","banner"],char:"🇬🇶",category:"flags"},er:{keywords:["er","eritrea","flag","nation","country","banner"],char:"🇪🇷",category:"flags"},ee:{keywords:["ee","estonia","flag","nation","country","banner"],char:"🇪🇪",category:"flags"},et:{keywords:["et","ethiopia","flag","nation","country","banner"],char:"🇪🇹",category:"flags"},eu:{keywords:["eu","european","union","flag","banner"],char:"🇪🇺",category:"flags"},fk:{keywords:["fk","falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",category:"flags"},fo:{keywords:["fo","faroe","islands","flag","nation","country","banner"],char:"🇫🇴",category:"flags"},fj:{keywords:["fj","fiji","flag","nation","country","banner"],char:"🇫🇯",category:"flags"},fi:{keywords:["fi","finland","flag","nation","country","banner"],char:"🇫🇮",category:"flags"},fr:{keywords:["fr","banner","flag","nation","france","french","country"],char:"🇫🇷",category:"flags"},gf:{keywords:["gf","french","guiana","flag","nation","country","banner"],char:"🇬🇫",category:"flags"},pf:{keywords:["pf","french","polynesia","flag","nation","country","banner"],char:"🇵🇫",category:"flags"},tf:{keywords:["tf","french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",category:"flags"},ga:{keywords:["ga","gabon","flag","nation","country","banner"],char:"🇬🇦",category:"flags"},gm:{keywords:["gm","gambia","flag","nation","country","banner"],char:"🇬🇲",category:"flags"},ge:{keywords:["ge","georgia","flag","nation","country","banner"],char:"🇬🇪",category:"flags"},de:{keywords:["de","german","nation","flag","country","banner"],char:"🇩🇪",category:"flags"},gh:{keywords:["gh","ghana","flag","nation","country","banner"],char:"🇬🇭",category:"flags"},gi:{keywords:["gi","gibraltar","flag","nation","country","banner"],char:"🇬🇮",category:"flags"},gr:{keywords:["gr","greece","flag","nation","country","banner"],char:"🇬🇷",category:"flags"},gl:{keywords:["gl","greenland","flag","nation","country","banner"],char:"🇬🇱",category:"flags"},gd:{keywords:["gd","grenada","flag","nation","country","banner"],char:"🇬🇩",category:"flags"},gp:{keywords:["gp","guadeloupe","flag","nation","country","banner"],char:"🇬🇵",category:"flags"},gu:{keywords:["gu","guam","flag","nation","country","banner"],char:"🇬🇺",category:"flags"},gt:{keywords:["gt","guatemala","flag","nation","country","banner"],char:"🇬🇹",category:"flags"},gg:{keywords:["gg","guernsey","flag","nation","country","banner"],char:"🇬🇬",category:"flags"},gn:{keywords:["gn","guinea","flag","nation","country","banner"],char:"🇬🇳",category:"flags"},gw:{keywords:["gw","guinea","bissau","flag","nation","country","banner"],char:"🇬🇼",category:"flags"},gy:{keywords:["gy","guyana","flag","nation","country","banner"],char:"🇬🇾",category:"flags"},ht:{keywords:["ht","haiti","flag","nation","country","banner"],char:"🇭🇹",category:"flags"},hn:{keywords:["hn","honduras","flag","nation","country","banner"],char:"🇭🇳",category:"flags"},hk:{keywords:["hk","hong","kong","flag","nation","country","banner"],char:"🇭🇰",category:"flags"},hu:{keywords:["hu","hungary","flag","nation","country","banner"],char:"🇭🇺",category:"flags"},is:{keywords:["is","iceland","flag","nation","country","banner"],char:"🇮🇸",category:"flags"},in:{keywords:["in","india","flag","nation","country","banner"],char:"🇮🇳",category:"flags"},indonesia:{keywords:["indonesia","flag","nation","country","banner"],char:"🇮🇩",category:"flags"},ir:{keywords:["ir","iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",category:"flags"},iq:{keywords:["iq","iraq","flag","nation","country","banner"],char:"🇮🇶",category:"flags"},ie:{keywords:["ie","ireland","flag","nation","country","banner"],char:"🇮🇪",category:"flags"},im:{keywords:["im","isle","man","flag","nation","country","banner"],char:"🇮🇲",category:"flags"},il:{keywords:["il","israel","flag","nation","country","banner"],char:"🇮🇱",category:"flags"},it:{keywords:["it","italy","flag","nation","country","banner"],char:"🇮🇹",category:"flags"},ci:{keywords:["ci","ivory","coast","flag","nation","country","banner"],char:"🇨🇮",category:"flags"},jm:{keywords:["jm","jamaica","flag","nation","country","banner"],char:"🇯🇲",category:"flags"},jp:{keywords:["jp","japanese","nation","flag","country","banner"],char:"🇯🇵",category:"flags"},je:{keywords:["je","jersey","flag","nation","country","banner"],char:"🇯🇪",category:"flags"},jo:{keywords:["jo","jordan","flag","nation","country","banner"],char:"🇯🇴",category:"flags"},kz:{keywords:["kz","kazakhstan","flag","nation","country","banner"],char:"🇰🇿",category:"flags"},ke:{keywords:["ke","kenya","flag","nation","country","banner"],char:"🇰🇪",category:"flags"},ki:{keywords:["ki","kiribati","flag","nation","country","banner"],char:"🇰🇮",category:"flags"},xk:{keywords:["xk","kosovo","flag","nation","country","banner"],char:"🇽🇰",category:"flags"},kw:{keywords:["kw","kuwait","flag","nation","country","banner"],char:"🇰🇼",category:"flags"},kg:{keywords:["kg","kyrgyzstan","flag","nation","country","banner"],char:"🇰🇬",category:"flags"},la:{keywords:["la","lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",category:"flags"},lv:{keywords:["lv","latvia","flag","nation","country","banner"],char:"🇱🇻",category:"flags"},lb:{keywords:["lb","lebanon","flag","nation","country","banner"],char:"🇱🇧",category:"flags"},ls:{keywords:["ls","lesotho","flag","nation","country","banner"],char:"🇱🇸",category:"flags"},lr:{keywords:["lr","liberia","flag","nation","country","banner"],char:"🇱🇷",category:"flags"},ly:{keywords:["ly","libya","flag","nation","country","banner"],char:"🇱🇾",category:"flags"},li:{keywords:["li","liechtenstein","flag","nation","country","banner"],char:"🇱🇮",category:"flags"},lt:{keywords:["lt","lithuania","flag","nation","country","banner"],char:"🇱🇹",category:"flags"},lu:{keywords:["lu","luxembourg","flag","nation","country","banner"],char:"🇱🇺",category:"flags"},mo:{keywords:["mo","macao","flag","nation","country","banner"],char:"🇲🇴",category:"flags"},mk:{keywords:["mk","macedonia,","flag","nation","country","banner"],char:"🇲🇰",category:"flags"},mg:{keywords:["mg","madagascar","flag","nation","country","banner"],char:"🇲🇬",category:"flags"},mw:{keywords:["mw","malawi","flag","nation","country","banner"],char:"🇲🇼",category:"flags"},my:{keywords:["my","malaysia","flag","nation","country","banner"],char:"🇲🇾",category:"flags"},mv:{keywords:["mv","maldives","flag","nation","country","banner"],char:"🇲🇻",category:"flags"},ml:{keywords:["ml","mali","flag","nation","country","banner"],char:"🇲🇱",category:"flags"},mt:{keywords:["mt","malta","flag","nation","country","banner"],char:"🇲🇹",category:"flags"},mh:{keywords:["mh","marshall","islands","flag","nation","country","banner"],char:"🇲🇭",category:"flags"},mq:{keywords:["mq","martinique","flag","nation","country","banner"],char:"🇲🇶",category:"flags"},mr:{keywords:["mr","mauritania","flag","nation","country","banner"],char:"🇲🇷",category:"flags"},mu:{keywords:["mu","mauritius","flag","nation","country","banner"],char:"🇲🇺",category:"flags"},yt:{keywords:["yt","mayotte","flag","nation","country","banner"],char:"🇾🇹",category:"flags"},mx:{keywords:["mx","mexico","flag","nation","country","banner"],char:"🇲🇽",category:"flags"},fm:{keywords:["fm","micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",category:"flags"},md:{keywords:["md","moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",category:"flags"},mc:{keywords:["mc","monaco","flag","nation","country","banner"],char:"🇲🇨",category:"flags"},mn:{keywords:["mn","mongolia","flag","nation","country","banner"],char:"🇲🇳",category:"flags"},me:{keywords:["me","montenegro","flag","nation","country","banner"],char:"🇲🇪",category:"flags"},ms:{keywords:["ms","montserrat","flag","nation","country","banner"],char:"🇲🇸",category:"flags"},ma:{keywords:["ma","morocco","flag","nation","country","banner"],char:"🇲🇦",category:"flags"},mz:{keywords:["mz","mozambique","flag","nation","country","banner"],char:"🇲🇿",category:"flags"},mm:{keywords:["mm","myanmar","flag","nation","country","banner"],char:"🇲🇲",category:"flags"},na:{keywords:["na","namibia","flag","nation","country","banner"],char:"🇳🇦",category:"flags"},nr:{keywords:["nr","nauru","flag","nation","country","banner"],char:"🇳🇷",category:"flags"},np:{keywords:["np","nepal","flag","nation","country","banner"],char:"🇳🇵",category:"flags"},nl:{keywords:["nl","netherlands","flag","nation","country","banner"],char:"🇳🇱",category:"flags"},nc:{keywords:["nc","new","caledonia","flag","nation","country","banner"],char:"🇳🇨",category:"flags"},nz:{keywords:["nz","new","zealand","flag","nation","country","banner"],char:"🇳🇿",category:"flags"},ni:{keywords:["ni","nicaragua","flag","nation","country","banner"],char:"🇳🇮",category:"flags"},ne:{keywords:["ne","niger","flag","nation","country","banner"],char:"🇳🇪",category:"flags"},nigeria:{keywords:["nigeria","flag","nation","country","banner"],char:"🇳🇬",category:"flags"},nu:{keywords:["nu","niue","flag","nation","country","banner"],char:"🇳🇺",category:"flags"},nf:{keywords:["nf","norfolk","island","flag","nation","country","banner"],char:"🇳🇫",category:"flags"},mp:{keywords:["mp","northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",category:"flags"},kp:{keywords:["kp","north","korea","nation","flag","country","banner"],char:"🇰🇵",category:"flags"},no:{keywords:["no","norway","flag","nation","country","banner"],char:"🇳🇴",category:"flags"},om:{keywords:["om","oman","flag","nation","country","banner"],char:"🇴🇲",category:"flags"},pk:{keywords:["pk","pakistan","flag","nation","country","banner"],char:"🇵🇰",category:"flags"},pw:{keywords:["pw","palau","flag","nation","country","banner"],char:"🇵🇼",category:"flags"},ps:{keywords:["ps","palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",category:"flags"},pa:{keywords:["pa","panama","flag","nation","country","banner"],char:"🇵🇦",category:"flags"},pg:{keywords:["pg","papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",category:"flags"},py:{keywords:["py","paraguay","flag","nation","country","banner"],char:"🇵🇾",category:"flags"},pe:{keywords:["pe","peru","flag","nation","country","banner"],char:"🇵🇪",category:"flags"},ph:{keywords:["ph","philippines","flag","nation","country","banner"],char:"🇵🇭",category:"flags"},pn:{keywords:["pn","pitcairn","flag","nation","country","banner"],char:"🇵🇳",category:"flags"},pl:{keywords:["pl","poland","flag","nation","country","banner"],char:"🇵🇱",category:"flags"},pt:{keywords:["pt","portugal","flag","nation","country","banner"],char:"🇵🇹",category:"flags"},pr:{keywords:["pr","puerto","rico","flag","nation","country","banner"],char:"🇵🇷",category:"flags"},qa:{keywords:["qa","qatar","flag","nation","country","banner"],char:"🇶🇦",category:"flags"},re:{keywords:["re","réunion","flag","nation","country","banner"],char:"🇷🇪",category:"flags"},ro:{keywords:["ro","romania","flag","nation","country","banner"],char:"🇷🇴",category:"flags"},ru:{keywords:["ru","russian","federation","flag","nation","country","banner"],char:"🇷🇺",category:"flags"},rw:{keywords:["rw","rwanda","flag","nation","country","banner"],char:"🇷🇼",category:"flags"},bl:{keywords:["bl","saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",category:"flags"},sh:{keywords:["sh","saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",category:"flags"},kn:{keywords:["kn","saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",category:"flags"},lc:{keywords:["lc","saint","lucia","flag","nation","country","banner"],char:"🇱🇨",category:"flags"},pm:{keywords:["pm","saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",category:"flags"},vc:{keywords:["vc","saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",category:"flags"},ws:{keywords:["ws","samoa","flag","nation","country","banner"],char:"🇼🇸",category:"flags"},sm:{keywords:["sm","san","marino","flag","nation","country","banner"],char:"🇸🇲",category:"flags"},st:{keywords:["st","sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",category:"flags"},saudi_arabia:{keywords:["saudi arabia","flag","nation","country","banner"],char:"🇸🇦",category:"flags"},sn:{keywords:["sn","senegal","flag","nation","country","banner"],char:"🇸🇳",category:"flags"},rs:{keywords:["rs","serbia","flag","nation","country","banner"],char:"🇷🇸",category:"flags"},sc:{keywords:["sc","seychelles","flag","nation","country","banner"],char:"🇸🇨",category:"flags"},sl:{keywords:["sl","sierra","leone","flag","nation","country","banner"],char:"🇸🇱",category:"flags"},sg:{keywords:["sg","singapore","flag","nation","country","banner"],char:"🇸🇬",category:"flags"},sx:{keywords:["sx","sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",category:"flags"},sk:{keywords:["sk","slovakia","flag","nation","country","banner"],char:"🇸🇰",category:"flags"},si:{keywords:["si","slovenia","flag","nation","country","banner"],char:"🇸🇮",category:"flags"},sb:{keywords:["sb","solomon","islands","flag","nation","country","banner"],char:"🇸🇧",category:"flags"},so:{keywords:["so","somalia","flag","nation","country","banner"],char:"🇸🇴",category:"flags"},za:{keywords:["za","south","africa","flag","nation","country","banner"],char:"🇿🇦",category:"flags"},gs:{keywords:["gs","south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",category:"flags"},kr:{keywords:["kr","south","korea","nation","flag","country","banner"],char:"🇰🇷",category:"flags"},ss:{keywords:["ss","south","sudan","flag","nation","country","banner"],char:"🇸🇸",category:"flags"},es:{keywords:["es","spain","flag","nation","country","banner"],char:"🇪🇸",category:"flags"},lk:{keywords:["lk","sri","lanka","flag","nation","country","banner"],char:"🇱🇰",category:"flags"},sd:{keywords:["sd","sudan","flag","nation","country","banner"],char:"🇸🇩",category:"flags"},sr:{keywords:["sr","suriname","flag","nation","country","banner"],char:"🇸🇷",category:"flags"},sz:{keywords:["sz","swaziland","flag","nation","country","banner"],char:"🇸🇿",category:"flags"},se:{keywords:["se","sweden","flag","nation","country","banner"],char:"🇸🇪",category:"flags"},ch:{keywords:["ch","switzerland","flag","nation","country","banner"],char:"🇨🇭",category:"flags"},sy:{keywords:["sy","syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",category:"flags"},tw:{keywords:["tw","taiwan","flag","nation","country","banner"],char:"🇹🇼",category:"flags"},tj:{keywords:["tj","tajikistan","flag","nation","country","banner"],char:"🇹🇯",category:"flags"},tz:{keywords:["tz","tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",category:"flags"},th:{keywords:["th","thailand","flag","nation","country","banner"],char:"🇹🇭",category:"flags"},tl:{keywords:["tl","timor","leste","flag","nation","country","banner"],char:"🇹🇱",category:"flags"},tg:{keywords:["tg","togo","flag","nation","country","banner"],char:"🇹🇬",category:"flags"},tk:{keywords:["tk","tokelau","flag","nation","country","banner"],char:"🇹🇰",category:"flags"},to:{keywords:["to","tonga","flag","nation","country","banner"],char:"🇹🇴",category:"flags"},tt:{keywords:["tt","trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",category:"flags"},tn:{keywords:["tn","tunisia","flag","nation","country","banner"],char:"🇹🇳",category:"flags"},tr:{keywords:["tr","turkey","flag","nation","country","banner"],char:"🇹🇷",category:"flags"},turkmenistan:{keywords:["turkmenistan","flag","nation","country","banner"],char:"🇹🇲",category:"flags"},tc:{keywords:["tc","turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",category:"flags"},tuvalu:{keywords:["tuvalu","flag","nation","country","banner"],char:"🇹🇻",category:"flags"},ug:{keywords:["ug","uganda","flag","nation","country","banner"],char:"🇺🇬",category:"flags"},ua:{keywords:["ua","ukraine","flag","nation","country","banner"],char:"🇺🇦",category:"flags"},ae:{keywords:["ae","united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",category:"flags"},gb:{keywords:["gb","united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",category:"flags"},us:{keywords:["us","united","states","america","flag","nation","country","banner"],char:"🇺🇸",category:"flags"},vi:{keywords:["vi","virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",category:"flags"},uy:{keywords:["uy","uruguay","flag","nation","country","banner"],char:"🇺🇾",category:"flags"},uz:{keywords:["uz","uzbekistan","flag","nation","country","banner"],char:"🇺🇿",category:"flags"},vu:{keywords:["vu","vanuatu","flag","nation","country","banner"],char:"🇻🇺",category:"flags"},va:{keywords:["va","vatican","city","flag","nation","country","banner"],char:"🇻🇦",category:"flags"},ve:{keywords:["ve","venezuela","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",category:"flags"},vn:{keywords:["vn","viet","nam","flag","nation","country","banner"],char:"🇻🇳",category:"flags"},wf:{keywords:["wf","wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",category:"flags"},eh:{keywords:["eh","western","sahara","flag","nation","country","banner"],char:"🇪🇭",category:"flags"},ye:{keywords:["ye","yemen","flag","nation","country","banner"],char:"🇾🇪",category:"flags"},zm:{keywords:["zm","zambia","flag","nation","country","banner"],char:"🇿🇲",category:"flags"}}};var a=function(e){for(var r in t.emojis){var n=t.emojis[r];for(var o in n)if(e===o)return n[o].char}};t.replaceEmojiReferences=function(e){for(var t,r,o=/:([A-Za-z0-9_]+):/g,i=[];;){var l=o.exec(e);if(!l)break;i.push(l[1])}var s=e;try{for(var u=n(i),c=u.next();!c.done;c=u.next()){var d=c.value,p=a(d);p&&(s=s.split(":"+d+":").join(p))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s}},"6jnI":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("LvDl"),s=r("q1tI"),u=r("HRSx"),c=r("KcXv"),d=r("n8tN"),p=r("hbKx"),f=r("wpmu"),h=r("IdSf"),m=r("/YYm"),y=r("OxuQ"),g=r("udrG"),v=r("bFnu"),b=r("OWVv"),w=r("IYZQ"),S=r("y6Dp"),_=r("qqdV"),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderHeader=function(e,r,n){var o=t.getNavigableAncestor();if(o){var a=m.default({store:o,scrollToBlockId:e.id,fullyQualified:!1}),i=0,u=e.getType();if(u===g.default.subHeader)(c=l.findLastIndex(n,function(e,t){return t<r&&e.getType()===g.default.header}))>=0&&(i=1);else if(u===g.default.subSubHeader){var c=l.findLastIndex(n,function(e,t){return t<r&&e.getType()===g.default.header}),d=l.findLastIndex(n,function(e,t){return t<r&&e.getType()===g.default.subHeader});c>=0&&d>c?i=2:(c>=0||d>=0)&&(i=1)}return s.createElement("div",{key:e.id,style:t.getContainerStyle()},s.createElement(h.default,{key:e.id,href:a,external:!1},s.createElement("div",{style:t.getInnerHeaderStyle(i)},s.createElement(y.default,{store:e,shouldWrap:!1,underline:!0}))))}},t.handleMouseMove=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t.pageHeaderIdsStore=t.createComputedStore(function(){var e,r,n,o,a,s,c=t.getNavigableAncestor();if(!c)return[];var d=[],p=c.getContentStores();try{for(var f=i(p),h=f.next();!h.done;h=f.next()){var m=h.value,y=m.getType();if(y&&u.headingTypes[y])d.push(m.id);else if(y===g.default.columnList){var v=m.getContentStores();try{for(var b=i(v),w=b.next();!w.done;w=b.next()){var S=w.value.getContentStores();try{for(var _=i(S),k=_.next();!k.done;k=_.next()){var C=k.value,E=C.getType();E&&u.headingTypes[E]&&d.push(C.id)}}catch(e){a={error:e}}finally{try{k&&!k.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}}}catch(e){n={error:e}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}}}}catch(t){e={error:t}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}return l.uniq(d)}),t}return o(t,e),t.prototype.renderPersisted=function(){var e=this.props.store,t=this.pageHeaderIdsStore.state.map(function(t){return f.default.createChildStore(e,t)});return s.createElement("div",{onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},t.map(this.renderHeader),0===t.length&&s.createElement("div",{style:this.getPlaceholderStyle()},"Add headings to create a table of contents."," ",s.createElement(w.default,{href:_.guides.tableOfContents,external:!0,onClick:function(){return S.trackClickHelpButton({from:"table_of_contents_placeholder"})}},"Learn more"),"."))},t.prototype.getNavigableAncestor=function(){return p.getNavigableAncestor(this.props.store)},t.prototype.getContainerStyle=function(){return a({},this.getBlockColorStyle(),this.props.style)},t.prototype.getInnerHeaderStyle=function(e){return a({},t.headerTextStyle,{display:"flex",alignItems:"center",marginLeft:b.listIndentWidth*e,paddingTop:2*c.itemStyle.paddingTop,paddingBottom:2*c.itemStyle.paddingBottom})},t.prototype.getPlaceholderStyle=function(){return a({},t.headerTextStyle,{paddingTop:c.itemStyle.paddingTop,paddingBottom:c.itemStyle.paddingBottom,color:this.theme.lightTextColor})},t.stores={mouseStore:v.default},t.headerTextStyle={paddingRight:c.itemStyle.paddingRight,paddingLeft:c.itemStyle.paddingLeft,fontSize:14,lineHeight:1.3},t}(d.default);t.default=k},"6nbh":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t}(r("LEzx").default);t.default=a},"6q9u":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("div",{style:this.getRadioButtonStyle()},a.createElement("div",{style:this.getRadioButtonDotStyle()}))},t.prototype.getRadioButtonStyle=function(){var e=this.props.isSelected;return{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,borderRadius:16,marginRight:8,background:e?this.theme.blueColor:this.theme.whiteButtonBackground,border:e?"none":"1px solid "+this.theme.radioButtonBorder,transition:"background 100ms ease-out"}},t.prototype.getRadioButtonDotStyle=function(){var e=this.props.isSelected;return{width:6,height:6,borderRadius:6,background:this.theme.regularInvertedTextColor,transition:"opacity 100ms ease-out",opacity:e?1:0}},t}(r("t+pW").default);t.default=i},"6rsX":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("r8oj"),i=r("hl64"),l=r("sjR4"),s=r("X6Ne"),u=r("unoy"),c=r("MBf9"),d=r("JZPr"),p=r("jWHj"),f=r("ALSZ"),h=r("sQnJ"),m=r("Wfos"),y=r("sjR4"),g=r("AmMh"),v=r("fYc2"),b=r("w5u6"),w=r("Ucj+"),S=function(){var e=y.default.state.defaultContainer;return e?g.default.getSortedComponents().filter(function(t){return t.getContextSelectableContainer()===e&&t.props.canSelect}).map(function(e){return e.props.store}):[]},_=function(){var e,r=y.default.state.stores,n=y.default.state.pivot,a=o.compact(o.without(r,n));e=n===o.last(r)?r[r.length-2]:r[1],t.setSelection({stores:a,pivot:e})};t.shouldToggle=function(){var e=p.getKeyboardState();return a.default.isMac?e.shift&&e.command:e.shift&&e.option},t.shouldSelectBetween=function(){return p.getKeyboardState().shift};var k=function(e){e.sort(function(e,t){return i.default(g.default.findNodeFromStore(e),g.default.findNodeFromStore(t))})};t.setPhase=function(e){y.default.setState(n({},y.default.state,{phase:e.phase})),e.phase===l.SelectionPhase.Editing||e.preventClearEditingText||u.clear()},t.setAnchor=function(e){y.default.setState(n({},y.default.state,{anchor:e.anchor}))},t.setStores=function(e){var t=e.stores,r=y.default.state.stores,a=o.union(t,r);a.length===t.length&&a.length===r.length||y.default.setState(n({},y.default.state,{stores:e.stores})),t.length>0&&d.clearSelection()},t.setPivot=function(e){y.default.setState(n({},y.default.state,{pivot:e.pivot}))},t.replaceInSelection=function(e){var r=y.default.state.stores.map(function(t){return t===e.store?e.replace:t});t.setStores({stores:r})},t.setSelection=function(e){var r=function(e){return e.filter(function(t){var r=g.default.findNodeFromStore(t);return t&&!e.some(function(e){var t=g.default.findNodeFromStore(e);return Boolean(t&&t!==r&&r&&t.contains(r))})})}(e.stores);t.setStores({stores:r}),t.setPhase({phase:l.SelectionPhase.Selected}),1===r.length&&t.setAnchor({anchor:r[0]}),e.pivot?t.setPivot({pivot:e.pivot}):t.setPivot({pivot:r[0]}),b.default.afterNextFlush(function(){k(r)})},t.select=function(e){void 0===e.toggle&&(e.toggle=!1),void 0===e.selectBetween&&(e.selectBetween=!1);var r=y.default.state.stores;if(e.toggle)o.includes(r,e.store)?t.setSelection({stores:o.without(r,e.store)}):t.setSelection({stores:o.union(r,[e.store])});else if(e.selectBetween){var n=o.clone(r),a=S(),i=a.indexOf(e.store);o.includes(n,e.store)||n.push(e.store);var s=r[0];if(s){var u=a.indexOf(s);if(u>=0){var c=o.slice(a,i,u);n=o.union(n,c)}}var d=o.last(r);if(d){var p=a.indexOf(d);if(p>=0){c=o.slice(a,p,i);n=o.union(n,c)}}t.setSelection({stores:n})}else o.includes(r,e.store)||t.setSelection({stores:[e.store]});t.setPhase({phase:l.SelectionPhase.Selected})},t.edit=function(e){var r=e.store;if(r)if(t.setStores({stores:[r]}),t.setPivot({pivot:void 0}),t.setPhase({phase:l.SelectionPhase.Editing}),a.default.isMobile)s.mobileAutoScroll();else if(!a.default.isMobileBrowser){var n=g.default.findSelectableFromStore(r);s.scrollIntoView({component:n})}},t.editSelection=function(){var e=y.default.state.stores[0];if(!e)return!1;var t=g.default.findSelectableFromStore(e);if(t&&t.props.onEditText){var r=t.props.onEditText,n=!1;return c.createAndCommit(function(e){n=r({isAtStart:!1,transaction:e})}),n}return!1},t.clear=function(){t.setStores({stores:[]}),t.setPhase({phase:l.SelectionPhase.Selected}),f.close(),h.close(),m.close()},t.arrowUp=function(e){var r=y.default.state.stores;k(r);var n=y.default.state.pivot,a=r[0];if(a)if(e.pivot)if(n===a){var i=(c=S()).indexOf(a);if(u=c[i-1]){var l=o.union(r,[u]);t.setSelection({stores:l,pivot:u})}}else _();else{var u;i=(c=S()).indexOf(a);(u=c[i-1])?t.setSelection({stores:[u],pivot:u}):t.setSelection({stores:[a],pivot:a})}else if(n)t.setSelection({stores:[n]});else{var c=S(),d=o.last(c);d&&t.setSelection({stores:[d],pivot:d})}var p=y.default.state.pivot||y.default.state.stores[0],f=g.default.findSelectableFromStore(p);s.scrollIntoView({component:f,revealTop:!0})},t.arrowLeft=function(e){t.arrowUp(e)},t.arrowDown=function(e){var r=y.default.state.stores;k(r);var n=y.default.state.pivot,a=o.last(r);if(a)if(e.pivot)if(n===a){d=S();var i=g.default.findNodeFromStore(a),l=(d=d.filter(function(e){var t=g.default.findNodeFromStore(e);return a===e||!i.contains(t)})).indexOf(a);if(c=d[l+1]){var u=o.union(r,[c]);t.setSelection({stores:u,pivot:c})}}else _();else{var c;l=(d=S()).indexOf(a);(c=d[l+1])?t.setSelection({stores:[c],pivot:c}):t.setSelection({stores:[a],pivot:a})}else if(n)t.setSelection({stores:[n]});else{var d=S(),p=o.head(d);p&&t.setSelection({stores:[p],pivot:p})}var f=y.default.state.pivot||o.last(y.default.state.stores);if(f){var h=g.default.findSelectableFromStore(f);s.scrollIntoView({component:h,revealTop:!0})}},t.arrowRight=function(e){t.arrowDown(e)},t.selectAll=function(){y.default.state.defaultContainer;var e=S();t.setSelection({stores:e,pivot:e[0]})},t.recomputeSelectableRects=function(){var e=new Map;g.default.forEach(function(t){var r=t.getNode();r&&r instanceof Element&&e.set(t,r.getBoundingClientRect())});var t=new Map;v.default.forEach(function(e){var r=e.getNode();r&&r instanceof Element&&t.set(e,r.getBoundingClientRect())}),w.default.setState(n({},w.default.state,{selectableRectMap:e,selectableContainerRectMap:t}))},t.recomputeSelectableRectsThrottled=o.throttle(t.recomputeSelectableRects,200)},"6sah":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("MeYt"),u=r("mF3+"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,{onClick:this.props.onClick,style:this.getButtonStyle(),className:this.props.className,mobileFeedback:this.props.isMobile,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},u.default.dots(this.getIconStyle()))},t.prototype.getButtonStyle=function(){var e=this.props.isMobile;return a({display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,borderRadius:3,width:e?45:24,height:e?45:24,marginRight:e?-8:-6},this.props.style)},t.prototype.getIconStyle=function(){var e=this.props.isMobile;return{width:e?18:14,height:e?18:14,fill:this.theme.mediumIconColor}},t}(l.default);t.default=c},7:function(e,t){},"734p":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("i8i4"),s=r("mF3+"),u=r("f6Xh"),c=r("r8oj"),d=r("7M94"),p=r("g4rC"),f=r("bFnu"),h=r("n8tN"),m=r("mego"),y=r("SGmk"),g=r("2m/B"),v=r("IdSf"),b=r("6fCZ"),w=r("cBa6"),S=r("H4VD"),_=r("vX3W"),k=r("6rsX"),C=r("unoy"),E=r("1y3T"),P=r("zmp8"),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.caption=function(){var e=t.props.store.getPropertyStore("caption");k.edit({store:t.props.store}),C.setSelectionAtEnd({store:e})},t.handleEmbedConfirm=function(e){return t.embed(e)},t.handleOpenMenu=function(){if(t.canEdit()){var e=l.findDOMNode(t);if(!e)return;if(!(e instanceof Element))return;var r=e.getBoundingClientRect();_.show({originRect:r,originGap:0,isSmallWidth:!0,showArrow:!0,title:"Bookmark",currentTab:"embed",tabs:[{type:"embed",caption:"Create a visual bookmark from a link...",buttonText:"Create Bookmark",inputPlaceholder:"Paste in https://...",onChange:function(e){_.clear(),t.handleEmbedConfirm(e)}}]})}},t.handleMouseMove=function(){return t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(){return t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t}return o(t,e),t.prototype.handleCreated=function(){this.edit()},t.prototype.edit=function(){this.handleOpenMenu()},t.prototype.embed=function(e){return u.createBookmark({store:this.props.store,url:e})},t.prototype.activate=function(){var e=this.props.store.getProperties(),t=w.getText(e&&e.link||[]);t&&S.navigateToExternalURL({url:t})},t.prototype.renderPersisted=function(){var e=this.props.store.getProperties();return e&&e.link?this.renderContent():this.renderPlaceholder()},t.prototype.renderContent=function(){var e=this.props.store,r=e.getProperties(),n=w.getTextWithoutTokens(r&&r.link),o=w.getTextWithoutTokens(r&&r.title),a=w.getTextWithoutTokens(r&&r.description),l=e.getFormat(),s=l.bookmark_cover,u=l.bookmark_icon;return i.createElement("div",null,i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:this.getContentStyle(),className:d.cursorDefault,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},i.createElement("div",{style:t.textWrapStyle},i.createElement(v.default,{href:this.getURLFromSource(n),external:!0,style:t.linkBoxStyle,innerStyle:t.linkBoxInnerStyle},o&&i.createElement("div",{style:t.nameStyle},o),a&&i.createElement("div",{style:this.getDescriptionStyle()},a),i.createElement("div",{style:t.linkStyle},u&&u.length>0&&i.createElement("img",{src:u,style:t.linkFaviconStyle}),i.createElement("div",{style:{minWidth:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},n)))),s&&this.renderImage(s),this.shouldShowActionButton()&&this.canEdit()&&i.createElement(b.default,{store:this.props.store,style:{position:"absolute",top:4,right:4,background:m.default.actionButtonBackground},iconStyle:{fill:P.default.white},fadeIn:!0})),this.renderDiscussion()),this.renderCaption())},t.prototype.renderImage=function(e){return i.createElement("div",{style:t.imageLinkWrapStyle},i.createElement("div",{style:t.imageLinkInnerStyle},i.createElement(E.default,{url:e,permissionRecord:{table:this.props.store.table,id:this.props.store.id},width:250,render:function(e,r){return r&&i.createElement(g.default,{style:t.imageStyle,src:r})}})))},t.prototype.renderPlaceholder=function(){var e=this,t=this.props.disabled;return i.createElement("div",{onMouseEnter:function(t){return e.stores.mouseStore.setState(a({},e.stores.mouseStore.state,{mouseEntered:!0}))},onMouseLeave:function(t){return e.stores.mouseStore.setState(a({},e.stores.mouseStore.state,{mouseEntered:!1}))},style:{display:"flex"}},i.createElement(y.default,{iconSvg:s.default.book,disabled:t,ref:function(t){t&&(e.embedPlaceholder=t)},right:this.shouldShowActionButton()&&this.canEdit()&&i.createElement(b.default,{store:this.props.store,fadeIn:!0}),onClick:this.handleOpenMenu,isLoading:!1,progressPercent:0},"Add a Web Bookmark"),this.renderDiscussion())},t.prototype.getURLFromSource=function(e){return-1!==e.indexOf("http")||-1!==e.indexOf("//")?e:"http://"+e},t.prototype.shouldShowActionButton=function(){return c.default.isMobile||this.stores.mouseStore.state.mouseEntered},t.prototype.getContentStyle=function(){return a({display:"flex",flexWrap:"wrap-reverse",alignItems:"stretch",textAlign:"left",overflow:"hidden",border:"1px solid "+this.theme.darkDividerColor,borderRadius:3,position:"relative",flexGrow:1},this.getBlockColorStyle())},t.prototype.getDescriptionStyle=function(){return{fontSize:12,lineHeight:"16px",color:this.theme.mediumTextColor,maxHeight:32,overflow:"hidden"}},t.stores={stringInputButtonPopupStore:p.default,mouseStore:f.default},t.imageLinkWrapStyle={flexGrow:1,flexShrink:1,flexBasis:180,minHeight:80,display:"block",position:"relative"},t.imageLinkInnerStyle={position:"absolute",top:0,left:0,right:0,bottom:0},t.imageStyle={display:"block",width:"100%",height:"100%",objectFit:"cover"},t.textWrapStyle={flexGrow:4,flexShrink:1,flexBasis:180,minHeight:60,overflow:"hidden",textAlign:"left"},t.linkBoxStyle={height:"100%"},t.linkBoxInnerStyle={display:"block",padding:14,height:"100%"},t.nameStyle={fontSize:14,lineHeight:"20px",maxHeight:20,overflow:"hidden"},t.linkStyle={fontSize:12,lineHeight:"16px",display:"flex",overflow:"hidden",marginTop:4},t.linkFaviconStyle={width:16,height:16,minWidth:16,marginRight:4},t}(h.default);t.default=x},"74/9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("pQrc");t.standardEmailDomains={"gmail.com":!0,"yahoo.com":!0,"hotmail.com":!0,"gmx.de":!0,"googlemail.com":!0,"mail.ru":!0,"web.de":!0,"live.com":!0,"aol.com":!0,"gmx.net":!0,"yandex.ru":!0,"me.com":!0,"msn.com":!0,"comcast.net":!0,"hushmail.com":!0,"yahoo.de":!0,"hotmail.co.uk":!0,"lavabit.com":!0,"sbcglobal.net":!0,"safe-mail.net":!0,"ymail.com":!0,"yahoo.co.uk":!0,"mac.com":!0,"qq.com":!0,"gmx.com":!0,"hotmail.de":!0,"ya.ru":!0,"rambler.ru":!0,"o2.pl":!0,"abv.bg":!0,"freenet.de":!0,"mailinator.com":!0,"gmx.at":!0,"cox.net":!0,"rocketmail.com":!0,"bk.ru":!0,"ukr.net":!0,"163.COM":!0,"arcor.de":!0,"mail.com":!0,"list.ru":!0,"att.net":!0,"aim.com":!0,"live.co.uk":!0,"inbox.ru":!0,"verizon.net":!0,"126.com":!0,"hush.com":!0,"t-online.de":!0,"free.fr":!0,"shaw.ca":!0,"wp.pl":!0,"hotmail.fr":!0,"yahoo.com.au":!0,"live.de":!0,"yahoo.ca":!0,"btinternet.com":!0,"iki.fi":!0,"hotmail.it":!0,"yahoo.it":!0,"mail.bg":!0,"live.com.au":!0,"fastmail.fm":!0,"yahoo.fr":!0,"seznam.cz":!0,"gmx.ch":!0,"bellsouth.net":!0,"online.de":!0,"live.se":!0,"zoho.com":!0,"tiscali.it":!0,"pobox.com":!0,"nym.hush.com":!0,"i2pmail.org":!0,"earthlink.net":!0,"tut.by":!0,"libero.it":!0,"juno.com":!0,"hush.ai":!0,"snkmail.com":!0,"charter.net":!0,"sina.com":!0,"riseup.net":!0,"centrum.cz":!0,"yahoo.es":!0,"yahoo.com.vn":!0,"yahoo.com.cn":!0,"mit.edu":!0,"live.dk":!0,"live.ca":!0,"inbox.lv":!0,"i.ua":!0,"telus.net":!0,"telia.com":!0,"telenet.be":!0,"optonline.net":!0,"klzlk.com":!0,"yahoo.se":!0,"yahoo.com.ar":!0,"sharedaddy.com":!0,"rochester.rr.com":!0,"prime.gushi.org":!0,"yahoo.com.br":!0,"tlen.pl":!0,"sporktronics.com":!0,"spamgourmet.com":!0,"live.nl":!0,"live.fr":!0,"inbox.com":!0,"hmamail.com":!0,"email.com":!0,"bluewin.ch":!0,"icloud.com":!0,"163.com":!0,"outlook.com":!0,"foxmail.com":!0,"facebook.com":!0,"google.com":!0,"games.com":!0,"iname.com":!0,"love.com":!0,"protonmail.com":!0,"protonmail.ch":!0,"wow.com":!0,"ygm.com":!0,"yandex.com":!0,"virginmedia.com":!0,"blueyonder.co.uk":!0,"freeserve.co.uk":!0,"ntlworld.com":!0,"o2.co.uk":!0,"orange.net":!0,"sky.com":!0,"talktalk.co.uk":!0,"tiscali.co.uk":!0,"virgin.net":!0,"wanadoo.co.uk":!0,"bt.com":!0,"naver.com":!0,"hanmail.net":!0,"daum.net":!0,"nate.com":!0,"yahoo.co.jp":!0,"yahoo.co.kr":!0,"yahoo.co.id":!0,"yahoo.co.in":!0,"yahoo.com.sg":!0,"yahoo.com.ph":!0,"laposte.net":!0,"wanadoo.fr":!0,"orange.fr":!0,"gmx.fr":!0,"sfr.fr":!0,"neuf.fr":!0,"virgilio.it":!0,"aol.it":!0,"alice.it":!0,"live.it":!0,"email.it":!0,"tin.it":!0,"poste.it":!0,"teletu.it":!0,"hotmail.be":!0,"live.be":!0,"skynet.be":!0,"voo.be":!0,"tvcablenet.be":!0,"hotmail.com.ar":!0,"live.com.ar":!0,"fibertel.com.ar":!0,"speedy.com.ar":!0,"arnet.com.ar":!0,"yahoo.com.mx":!0,"live.com.mx":!0,"hotmail.es":!0,"hotmail.com.mx":!0,"prodigy.net.mx":!0,"hotmail.com.br":!0,"outlook.com.br":!0,"outlook.de":!0,"outlook.fr":!0,"uol.com.br":!0,"bol.com.br":!0,"terra.com.br":!0,"ig.com.br":!0,"itelefonica.com.br":!0,"r7.com":!0,"zipmail.com.br":!0,"globo.com":!0,"globomail.com":!0,"oi.com.br":!0,"rediffmail.com":!0,"bigpond.com":!0,"yahoo.in":!0,"aliceadsl.fr":!0,"home.nl":!0,"voila.fr":!0,"planet.nl":!0,"frontiernet.net":!0,"hetnet.nl":!0,"zonnet.nl":!0,"club-internet.fr":!0,"optusnet.com.au":!0,"sympatico.ca":!0,"windstream.net":!0,"centurytel.net":!0,"chello.nl":!0,"bigpond.net.au":!0,"usa.net":!0,"pacbell.net":!0,"fastmail.com":!0,"fastmail.com.au":!0,"mailhero.io":!0,"posteo.de":!0,"pm.me":!0,"sent.com":!0,"mailbox.org":!0,"openmailbox.org":!0,"mm.st":!0,"outlook.in":!0,"outlook.sk":!0,"outlook.it":!0,"outlook.sg":!0,"outlook.at":!0,"outlook.kr":!0,"outlook.nl":!0,"outlook.jp":!0,"outlook.co":!0,"outlook.ph":!0,"outlook.be":!0,"outlook.up":!0,"outlook.es":!0,"outlook.pt":!0,"outlook.cz":!0,"outlook.sa":!0,"outlook.com.gr":!0,"gmail.co":!0,"hotmail.co":!0,"outlook.com.vn":!0,"outlook.com.au":!0,"disroot.org":!0};t.default=function(e){var r=n.default(e);return!!r&&!t.standardEmailDomains[r]}},"74GD":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("i8i4"),l=r("wldR"),s=r("8Ps9"),u=r("xAD1"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registries=[u.default],t.handleMutation=function(){if(t.rootNode){var e=t.rootNode.getBoundingClientRect();t.stores.store.setState({rect:e})}},t}return o(t,e),t.prototype.didMount=function(){this.props.capture&&this.startListeners()},t.prototype.willUpdate=function(e){e.capture&&!this.props.capture?this.startListeners():!e.capture&&this.props.capture&&this.stopListeners()},t.prototype.willUnmount=function(){this.stopListeners()},t.prototype.startListeners=function(){var e=i.findDOMNode(this);e&&(this.rootNode=e,this.observer=new MutationObserver(this.handleMutation),this.observer.observe(this.rootNode,{attributes:!0,subtree:!0}))},t.prototype.stopListeners=function(){this.observer&&(this.observer.disconnect(),this.rootNode=void 0,this.observer=void 0)},t.prototype.renderComponent=function(){return a.Children.only(this.props.children)},t.stores={store:s.default},t}(l.default);t.default=c},"78yG":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("zmp8"),o=r("zmp8");t.getElectronTheme=function(e){var t=n.getTheme(e);return{mode:e,colors:{white:o.default.white,blue:o.default.blue},borderRadius:3,textColor:t.regularTextColor,popoverBackgroundColor:t.popoverBackground,popoverBoxShadow:t.popoverBoxShadow,inputBoxShadow:t.inputBoxShadow,inputBackgroundColor:t.inputBackground,dividerColor:t.darkDividerColor,shadowOpacity:t.shadowOpacity}}},"79T+":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("5FB0"),i=r("yjqD"),l=r("A9TN"),s=3,u=1e4;t.getOembedData=function(e){return n(this,void 0,void 0,function(){var t,r,n;return o(this,function(o){switch(o.label){case 0:return t=encodeURIComponent(e.trim()),r={method:"GET",url:"https://api.embed.ly/1/oembed?key="+l.default.embedly.key+"&url="+t,json:!0},[4,i.retryTimeout(s,u,function(){return a.default(r)})];case 1:return(n=o.sent().result)&&"success"===n.type?[2,n.data]:[2]}})})},t.getExtractedData=function(e){return n(this,void 0,void 0,function(){var t,r,n;return o(this,function(o){switch(o.label){case 0:return t=encodeURIComponent(e.trim()),r={method:"GET",url:"https://api.embed.ly/1/extract?key="+l.default.embedly.key+"&url="+t,json:!0},[4,i.retryTimeout(s,u,function(){return a.default(r)})];case 1:return(n=o.sent().result)&&"success"===n.type?[2,n.data]:[2]}})})}},"7Ard":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{disabled:!1,loaded:!1}},t}(r("LEzx").default);t.default=a},"7B1i":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r=document.createElement("canvas"),n=function(e){return r.width=r.height=e,(t=r.getContext("2d")).font="normal normal normal 32px/"+e+"px sans",t.textBaseline="middle",t};t=n(32);var o=function(e){var t="",r=parseInt(e,16);return r<=65535?t+=String.fromCharCode(r):r<=1114111&&(r-=65536,t+=String.fromCharCode(55296|r>>10)+String.fromCharCode(56320|1023&r)),t},a=e.replace(/[Uu]\+10([A-Fa-f0-9]{4})/g,function(e,t){return o("10"+t)}).replace(/[Uu]\+([A-Fa-f0-9]{1,5})/g,function(e,t){return o(t)});if(r.toDataURL&&document.querySelectorAll){var i=t.measureText(a).width;return i>r.width&&(t=n(i)),t.fillText(a,(r.width-i)/2,r.height/2+4),r.toDataURL("image/png")}}},"7GAW":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl"),o=function(e,t){return n.reject(t,function(t){return t===e})};t.performListBefore=function(e,t,r){var a=n.isArray(t)?t:[];a=o(e.id,a);var i=n.findIndex(a,function(t){return t===e.before});return i>=0?a.splice(i,0,e.id):a.unshift(e.id),a},t.performListAfter=function(e,t,r){var a=n.isArray(t)?t:[];a=o(e.id,a);var i=n.findIndex(a,function(t){return t===e.after});return i>=0?a.splice(i+1,0,e.id):a.push(e.id),a},t.performListRemove=function(e,t,r){var o=n.isArray(t)?t:[];return o=o.filter(function(t){return t!==e.id})},t.invertListBefore=function(e,t,r){var o=n.isArray(t)?t:[],a=o.findIndex(function(t){return t===e.args.id});if(a>=0){var i=o[a+1];return{table:e.table,id:e.id,path:e.path,command:"listBefore",args:{id:e.args.id,before:i}}}return{table:e.table,id:e.id,path:e.path,command:"listRemove",args:{id:e.args.id}}},t.invertListAfter=function(e,t,r){var o=n.isArray(t)?t:[],a=o.findIndex(function(t){return t===e.args.id});if(a>=0){var i=o[a-1];return{table:e.table,id:e.id,path:e.path,command:"listAfter",args:{id:e.args.id,after:i}}}return{table:e.table,id:e.id,path:e.path,command:"listRemove",args:{id:e.args.id}}},t.invertListRemove=function(e,t,r){var o=n.isArray(t)?t:[],a=o.findIndex(function(t){return t===e.args.id}),i=o[a-1];return i?{table:e.table,id:e.id,path:e.path,command:"listAfter",args:{id:e.args.id,after:i}}:{table:e.table,id:e.id,path:e.path,command:"listBefore",args:{id:e.args.id}}}},"7IvN":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},"7KuZ":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("prF1"),u=r("mF3+"),c=r("y6Dp"),d=r("MeYt"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this;return i.createElement(s.default,{style:a({display:"flex",alignSelf:"stretch",width:36},this.props.isRight?{marginRight:-8}:{marginLeft:-8}),external:!0,href:this.props.href,onClick:function(){return c.trackClickHelpButton({from:e.props.analyticsFrom})}},i.createElement(d.default,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}},u.default.help({width:18,marginTop:1,fill:this.theme.lightIconColor})))},t}(l.default);t.default=p},"7L5k":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("VAix"),s=r("AvkE"),u=r("HRSx"),c=r("z22Z");function d(e,t){return e.space_id===t.space_id&&e.collection_id===t.collection_id&&e.navigable_block_id===t.navigable_block_id}function p(e,t){return i.isEqual(e.user_ids,t.user_ids)}function f(e,t){return e.block_id===t.block_id&&d(e,t)}function h(e,t){return d(e,t)&&e.comment_id===t.comment_id}function m(e,t){return d(e,t)}function y(e,t){return e.collection_property_id===t.collection_property_id&&d(e,t)}function g(e,t){return e.collection_view_id===t.collection_view_id&&d(e,t)}function v(e,t){return e.mentioned_block_id===t.mentioned_block_id&&e.mentioned_user_id===t.mentioned_user_id&&e.mentioned_property===t.mentioned_property&&p(e,t)&&d(e,t)}function b(e){var t=[];e:for(;e.list.length>0;){for(var r=e.list.shift(),n=0,o=void 0;n<e.list.length;){var a=e.list[n];if(e.cancel(r,a)){e.list.splice(n,1);continue e}if(o=e.replace(r,a)){e.list[n]=o;continue e}n++}t.push(r)}return t}function w(e,t){if("block-changed"===e.type&&"block-changed"===t.type&&f(e,t)){var r=s.getChangedBlockProperties({before:e.block_data.before.block_value,after:e.block_data.after.block_value,schema:e.block_schema}),n=s.getChangedBlockProperties({before:t.block_data.before.block_value,after:t.block_data.after.block_value,schema:t.block_schema});return!s.blockWasTransformed({before:t.block_data.before.block_value,after:t.block_data.after.block_value})&&function(e,t){return 0===i.difference(e,t).length&&0===i.difference(t,e).length}(r,n)&&i.isEqual(i.pick(e.block_data.before.block_value.properties||{},r),i.pick(t.block_data.after.block_value.properties||{},n))}return!1}function S(e,t){return d(e,t)&&e.permission_group_id===t.permission_group_id}function _(e,t){return!!d(e,t)&&(!!p(e,t)&&("permission-created"===e.type||"permission-deleted"===e.type?"permission-created"===t.type||"permission-deleted"===t.type?c.permissionItemsAreSameTarget(e.permission_data,t.permission_data):c.permissionItemsAreSameTarget(e.permission_data,t.permission_data.before):"permission-created"===t.type||"permission-deleted"===t.type?c.permissionItemsAreSameTarget(e.permission_data.before,t.permission_data):c.permissionItemsAreSameTarget(e.permission_data.before,t.permission_data.before)))}function k(e,t){if("permission-deleted"===e.type&&"permission-created"===t.type&&_(e,t)&&!function(e,t){return c.getRole(e)===c.getRole(t)}(e.permission_data,t.permission_data))return n({},t,{type:"permission-changed",timestamp:t.timestamp,permission_data:{before:e.permission_data,after:t.permission_data}})}function C(e){var t=b({list:i.sortBy(l.default(e)||[],function(e){return e.timestamp}),cancel:function(e,t){return!1},replace:function(e,t){return function(e,t){if("block-changed"===e.type&&"block-deleted"===t.type&&f(e,t))return n({},t,{user_ids:i.uniq(a(e.user_ids,t.user_ids))})}(e,t)||function(e,t){if("permission-group-changed"===e.type&&"permission-group-deleted"===t.type&&S(e,t))return n({},t,{timestamp:t.timestamp,permission_group_data:e.permission_group_data.before,user_ids:i.uniq(a(e.user_ids,t.user_ids))})}(e,t)||function(e,t){if("permission-changed"===e.type&&"permission-deleted"===t.type&&_(e,t))return n({},t,{timestamp:t.timestamp,permission_data:e.permission_data.before})}(e,t)||function(e,t){if("collection-property-changed"===e.type&&"collection-property-deleted"===t.type&&y(e,t))return n({},t,{user_ids:i.uniq(a(e.user_ids,t.user_ids))})}(e,t)||function(e,t){if("collection-view-changed"===e.type&&"collection-view-deleted"===t.type&&g(e,t))return n({},t,{user_ids:i.uniq(a(e.user_ids,t.user_ids))})}(e,t)}});return i.sortBy(t,function(e){return e.timestamp})}t.squashForActivity=function(e){var t=b({list:b({list:i.sortBy(l.default(e)||[],function(e){return e.timestamp}),cancel:function(e,t){return!1},replace:function(e,t){return k(e,t)}}),cancel:function(e,t){return function(e,t){return"block-created"===e.type&&"block-deleted"===t.type&&f(e,t)}(e,t)||function(e,t){return"block-deleted"===e.type&&"block-created"===t.type&&f(e,t)}(e,t)||w(e,t)||function(e,t){return"permission-created"===e.type&&"permission-deleted"===t.type&&_(e,t)}(e,t)||function(e,t){return"permission-deleted"===e.type&&"permission-created"===t.type&&_(e,t)}(e,t)||function(e,t){return"permission-changed"===e.type&&"permission-changed"===t.type&&_(e,t)&&i.isEqual(e.permission_data.before,t.permission_data.after)}(e,t)||function(e,t){return"mention-created"===e.type&&"mention-deleted"===t.type&&v(e,t)}(e,t)||function(e,t){return"mention-deleted"===e.type&&"mention-created"===t.type&&v(e,t)}(e,t)||function(e,t){return"comment-created"===e.type&&"comment-deleted"===t.type&&h(e,t)}(e,t)||function(e,t){return"comment-deleted"===e.type&&"comment-created"===t.type&&h(e,t)}(e,t)||function(e,t){return"comment-changed"===e.type&&"comment-changed"===t.type&&h(e,t)&&i.isEqual(e.comment_data.before,t.comment_data.after)}(e,t)||function(e,t){return"collection-changed"===e.type&&"collection-changed"===t.type&&m(e,t)&&i.isEqual(e.collection_data.before,t.collection_data.after)}(e,t)||function(e,t){return"collection-property-created"===e.type&&"collection-property-deleted"===t.type&&y(e,t)}(e,t)||function(e,t){return"collection-property-deleted"===e.type&&"collection-property-created"===t.type&&y(e,t)}(e,t)||function(e,t){return"collection-property-changed"===e.type&&"collection-property-changed"===t.type&&y(e,t)&&i.isEqual(e.collection_property_data.before,t.collection_property_data.after)}(e,t)||function(e,t){return"collection-view-created"===e.type&&"collection-view-deleted"===t.type&&g(e,t)}(e,t)||function(e,t){return"collection-view-deleted"===e.type&&"collection-view-created"===t.type&&g(e,t)}(e,t)||function(e,t){return"collection-view-changed"===e.type&&"collection-view-changed"===t.type&&g(e,t)&&i.isEqual(e.collection_view_data.before,t.collection_view_data.after)}(e,t)||function(e,t){return"permission-group-created"===e.type&&"permission-group-deleted"===t.type&&S(e,t)}(e,t)||function(e,t){return"permission-group-deleted"===e.type&&"permission-group-created"===t.type&&S(e,t)}(e,t)},replace:function(e,t){return function(e,t){if("block-created"===e.type&&"block-changed"===t.type&&f(e,t))return n({},e,{timestamp:t.timestamp,user_ids:i.uniq(a(e.user_ids,t.user_ids)),block_schema:t.block_schema,block_data:t.block_data.after})}(e,t)||function(e,t){if("block-changed"===e.type&&"block-changed"===t.type&&f(e,t))return n({},e,{timestamp:t.timestamp,user_ids:i.uniq(a(e.user_ids,t.user_ids)),block_schema:t.block_schema,block_data:{before:e.block_data.before,after:t.block_data.after}})}(e,t)||function(e,t){if("comment-created"===e.type&&"comment-changed"===t.type&&h(e,t))return n({},e,{comment_data:t.comment_data.after})}(e,t)||function(e,t){if("comment-changed"===e.type&&"comment-changed"===t.type&&h(e,t))return n({},e,{comment_data:{before:e.comment_data.before,after:t.comment_data.after}})}(e,t)||function(e,t){if("permission-created"===e.type&&"permission-changed"===t.type&&_(e,t))return n({},e,{timestamp:t.timestamp,permission_data:t.permission_data.after})}(e,t)||function(e,t){if("permission-changed"===e.type&&"permission-changed"===t.type&&_(e,t))return n({},e,{permission_data:{before:e.permission_data.before,after:t.permission_data.after},timestamp:t.timestamp})}(e,t)||function(e,t){if("collection-created"===e.type&&"collection-changed"===t.type&&m(e,t))return n({},e,{user_ids:i.uniq(a(e.user_ids,t.user_ids)),collection_data:t.collection_data.after})}(e,t)||function(e,t){if("collection-changed"===e.type&&"collection-changed"===t.type&&m(e,t))return n({},e,{timestamp:t.timestamp,user_ids:i.uniq(a(e.user_ids,t.user_ids)),collection_data:{before:e.collection_data.before,after:t.collection_data.after}})}(e,t)||function(e,t){if("collection-property-created"===e.type&&"collection-property-changed"===t.type&&y(e,t))return n({},e,{timestamp:t.timestamp,user_ids:i.uniq(a(e.user_ids,t.user_ids)),collection_property_data:t.collection_property_data.after})}(e,t)||function(e,t){if("collection-property-changed"===e.type&&"collection-property-changed"===t.type&&y(e,t))return n({},e,{timestamp:t.timestamp,user_ids:i.uniq(a(e.user_ids,t.user_ids)),collection_property_data:{before:e.collection_property_data.before,after:t.collection_property_data.after}})}(e,t)||function(e,t){if("collection-view-created"===e.type&&"collection-view-changed"===t.type&&g(e,t))return n({},e,{timestamp:t.timestamp,user_ids:i.uniq(a(e.user_ids,t.user_ids)),collection_view_data:t.collection_view_data.after})}(e,t)||function(e,t){if("collection-view-changed"===e.type&&"collection-view-changed"===t.type&&g(e,t))return n({},e,{timestamp:t.timestamp,user_ids:i.uniq(a(e.user_ids,t.user_ids)),collection_view_data:{before:e.collection_view_data.before,after:t.collection_view_data.after}})}(e,t)||function(e,t){if("permission-group-created"===e.type&&"permission-group-changed"===t.type&&S(e,t))return n({},e,{timestamp:t.timestamp,permission_group_data:t.permission_group_data.after,user_ids:i.uniq(a(e.user_ids,t.user_ids))})}(e,t)||function(e,t){if("permission-group-changed"===e.type&&"permission-group-changed"===t.type&&S(e,t))return n({},e,{permission_group_data:{before:e.permission_group_data.before,after:t.permission_group_data.after},timestamp:t.timestamp,user_ids:i.uniq(a(e.user_ids,t.user_ids))})}(e,t)}}).filter(function(e){return!function(e){if("block-changed"===e.type){var t=s.blockPropertiesChanged({before:e.block_data.before.block_value,after:e.block_data.after.block_value,schema:e.block_schema}),r=s.blockWasTransformed({before:e.block_data.before.block_value,after:e.block_data.after.block_value});return!t&&!r}return!1}(e)});return i.sortBy(t,function(e){return e.timestamp})},t.prepareEditsForDisplay=function(e){return function(e){var t=[];return e.forEach(function(e){if("block-changed"===e.type)if(s.blockWasTransformed({before:e.block_data.before.block_value,after:e.block_data.after.block_value})){var r=n({},e,{type:"block-created",block_data:e.block_data.after}),o=n({},e,{type:"block-deleted",block_data:e.block_data.before});t.push(o),t.push(r)}else t.push(e);else t.push(e)}),t}(C(e)).filter(function(e){return!function(e){return("block-created"===e.type||"block-deleted"===e.type)&&u.titleTypes[e.block_data.block_value.type]&&"page"!==e.block_data.block_value.type&&(!e.block_data.block_value.properties||!e.block_data.block_value.properties.title)}(e)&&!function(e){return("block-created"===e.type||"block-deleted"===e.type)&&u.ignoreActivityTypes[e.block_data.block_value.type]}(e)})}},"7LX1":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("LvDl"),c=r("i8i4"),d=r("5w/s"),p=r("vX3W"),f=r("r8oj"),h=r("2Yor"),m=r("YQvo"),y=r("bFnu"),g=r("lj/k"),v=r("NOLh"),b=r("wlCD"),w=r("fVGD"),S=r("wldR"),_=r("iVjn"),k=r("mego"),C=r("2m/B"),E=r("MBf9"),P=r("p+Y9"),x=r("nFzZ"),T=r("VBxf"),O=r("zmp8"),M=r("1y3T"),I=r("wS9/"),A=r("MeYt"),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseMove=function(e){t.stores.coverMouseStore.setState(a({},t.stores.coverMouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(e){t.stores.coverMouseStore.setState(a({},t.stores.coverMouseStore.state,{mouseEntered:!1}))},t.handleMouseMoveThrottled=u.throttle(t.handleMouseMove,100),t.handleMouseLeaveDebounced=u.debounce(t.handleMouseLeave,100),t.handleChangeCoverClick=function(e){t.stores.coverMouseStore.reset();var r=e.target.getBoundingClientRect();p.show({originGap:3,originRect:r,isSmallWidth:!1,popupWidth:540,maxHeight:420,title:"Page Cover",onDelete:t.handleDelete,currentTab:"gallery",tabs:[{type:"gallery",onChange:t.handleGalleryChange},{type:"file",caption:"Images wider than 1500 pixels work best",onUpload:function(e){t.props.store.getCoverStore()&&P.uploadFile({file:e,bucket:"secure",onStart:t.handleUploadStart,onProgress:t.handleUploadProgress,onComplete:t.handleUploadComplete,onError:function(e){T.showError({error:new Error("Upload failed.")})}})}},{type:"embed",title:"Link",inputPlaceholder:"Paste an image link...",caption:"Works with any image from the web",buttonText:"Submit",onChange:t.handleEmbedLinkChange},{type:"unsplash",onChange:t.handleGalleryChange}]})},t.handleRepositionClick=function(e){var r=new Image;r.onload=function(){t.stores.pageCoverStore.setState(a({},t.stores.pageCoverStore.state,{isRepositioning:!0,image:r}))},t.lastProxiedUrl&&(r.src=t.lastProxiedUrl)},t.handleCancelClick=function(e){t.stores.pageCoverStore.reset()},t.handleSavePositionClick=function(e){t.flushTemporaryPosition()},t.handleDragStart=function(e){var r=t.stores.pageCoverStore.state,n=r.isRepositioning,o=r.image;if(o&&n){var i=c.findDOMNode(t);if(i&&i instanceof Element){var l=i.getBoundingClientRect().width/o.width*o.height,s=t.getRenderedCoverPosition();t.stores.pageCoverStore.setState(a({},t.stores.pageCoverStore.state,{startDragImageScreenHeight:l,startDragRenderedPosition:s}))}}},t.handleDragMove=function(e){if(t.stores.pageCoverStore.state.isRepositioning){var r=t.stores.pageCoverStore.state,n=r.startDragRenderedPosition,o=r.startDragImageScreenHeight,i=e.diffY/(o||0)+(n||0);t.stores.pageCoverStore.setState(a({},t.stores.pageCoverStore.state,{temporaryPosition:u.round(h.default(i,0,1),4)}))}},t.handleDragEnd=function(e){t.stores.pageCoverStore.setState(a({},t.stores.pageCoverStore.state,{startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0}))},t.handleDragCancel=function(e){t.stores.pageCoverStore.setState(a({},t.stores.pageCoverStore.state,{startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0}))},t.handleWindowMouseDown=function(e){var r=c.findDOMNode(t);r&&!r.contains(e.target)&&t.stores.pageCoverStore.state.isRepositioning&&t.flushTemporaryPosition()},t.handleUploadComplete=function(e){t.updatePageCover({url:e,position:.5})},t.handleGalleryChange=function(e){var r=e.url,n=e.position;t.updatePageCover({url:r,position:u.isNumber(n)?n:.5}),f.default.isMobile&&p.clear()},t.handleEmbedLinkChange=function(e){t.updatePageCover({url:e,position:.5}),p.clear()},t.updatePageCover=function(e){return i(t,void 0,void 0,function(){var t,r,n;return l(this,function(o){switch(o.label){case 0:return t=e.url,r=e.position,n=E.create(),d.setPageCover({store:this.props.store,url:t,position:r,transaction:n}),[4,E.commit({transaction:n})];case 1:return o.sent(),this.stores.pageCoverStore.setState(a({},this.stores.pageCoverStore.state,{showFadeInAnimation:!0})),this.stores.fileUploadStore.reset(),[2]}})})},t.handleUploadStart=function(e){var r=e.file,n=e.name,o=e.size;if(p.clear(),t.stores.fileUploadStore.setState(a({},t.stores.fileUploadStore.state,{isLoading:!0,file:r,name:n,size:o})),r.type.indexOf("image")>=0){var i=new FileReader;i.onload=function(e){t.stores.fileUploadStore.setState(a({},t.stores.fileUploadStore.state,{dataURL:e.target.result}))},i.readAsDataURL(r)}},t.handleUploadProgress=function(e){var r=e.progressPercent;t.stores.fileUploadStore.setState(a({},t.stores.fileUploadStore.state,{progressPercent:r}))},t.handleDelete=function(){p.clear(),E.createAndCommit(function(e){d.removePageCover({store:t.props.store,transaction:e})})},t}return o(t,e),t.prototype.didMount=function(){e.prototype.didMount.call(this),window.addEventListener("mousedown",this.handleWindowMouseDown)},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),window.removeEventListener("mousedown",this.handleWindowMouseDown)},t.prototype.renderComponent=function(){var e,t=this,r=this.props.store.getCover(),n=this.stores.pageCoverStore.state.isRepositioning,o=this.stores.fileUploadStore.state,i=o.isLoading,l=o.dataURL,u=o.progressPercent;return l?e=this.renderImage(l):r&&(e=s.createElement(M.default,{url:r.cover,permissionRecord:{table:r.table,id:r.id},width:I.default.state.width,render:function(e,r){if(t.lastProxiedUrl=r,r)return t.renderImage(r)}})),s.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",height:this.props.height,position:"relative"},onMouseEnter:this.handleMouseMoveThrottled,onMouseMove:this.handleMouseMoveThrottled,onMouseLeave:this.handleMouseLeaveDebounced},s.createElement(_.default,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,render:function(t){return s.createElement("div",a({style:{width:"100%"}},t),e,i&&s.createElement("div",{style:C.default.loadingContainerStyle},s.createElement(b.default,{style:{width:16,height:16,marginRight:4}}),s.createElement("div",{style:{width:26,textAlign:"right"}},s.createElement(w.default,{percentage:u}))))}}),n&&this.renderDragMessage(),!this.props.disabled&&this.renderControl())},t.prototype.renderImage=function(e){var t=this.stores.pageCoverStore.state.isRepositioning,r=this.stores.fileUploadStore.state.isLoading,n=this.getRenderedCoverPosition();return s.createElement(C.default,{src:e,key:e,style:{width:"100%",height:this.props.height,objectFit:"cover",cursor:t?"move":"default",opacity:r?.5:1,objectPosition:"center "+100*(1-n)+"%",borderRadius:0}})},t.prototype.renderControl=function(){var e=this,t=this.stores.pageCoverStore.state.isRepositioning,r=f.default.isMobile,n=r||this.stores.coverMouseStore.state.mouseEntered||t;return s.createElement(v.default,{isVisible:!0,animationStyle:{width:this.getAdjustedPageWidth(),opacity:n?1:0},render:function(){return s.createElement("div",{style:{position:"relative",pointerEvents:n?"auto":"none",maxWidth:"100%"}},s.createElement("div",{style:{position:"absolute",bottom:8,right:0,display:"flex",marginLeft:e.props.paddingLeft,marginRight:e.props.paddingRight,borderRadius:3,color:O.default.white,fontSize:12,background:k.default.actionButtonBackground}},!t&&s.createElement(A.default,{style:a({},k.default.actionButtonStyle,r&&{borderRight:"none"}),onClick:e.handleChangeCoverClick},"Change Cover"),!t&&!r&&s.createElement(A.default,{style:a({},k.default.actionButtonStyle,{borderRight:"none"}),onClick:e.handleRepositionClick},"Reposition"),t&&!r&&s.createElement(A.default,{style:k.default.actionButtonStyle,onClick:e.handleSavePositionClick},"Save Position"),t&&!r&&s.createElement(A.default,{style:a({},k.default.actionButtonStyle,{borderRight:"none"}),onClick:e.handleCancelClick},"Cancel")))}})},t.prototype.renderDragMessage=function(){var e=this.stores.pageCoverStore.state.isRepositioning;return s.createElement(v.default,{isVisible:!0,animationStyle:{opacity:e?1:0},render:function(){return s.createElement("div",{style:a({position:"absolute",top:"calc(50% - 15px)",left:"calc(50% - 104px)",pointerEvents:"none"},k.default.centerPromptStyle)},"Drag Image to Reposition")}})},t.prototype.getAdjustedPageWidth=function(){return!!this.props.store.isFullWidth()?"100%":900},t.prototype.getRenderedCoverPosition=function(){var e=this.stores.pageCoverStore.state.temporaryPosition;return u.isNumber(e)?e:this.getPersistedCoverPosition()},t.prototype.getPersistedCoverPosition=function(){var e=this.props.store;if(e.isCollectionView()){var t=e.getCollectionViewCollectionStore();if(t){var r=t.getFormat().collection_cover_position;if(!x.isNotDefined(r))return r}}else{var n=e.getFormat().page_cover_position;if(u.isNumber(n))return n}return.5},t.prototype.flushTemporaryPosition=function(){var e=this;E.createAndCommit(function(t){d.updateCoverPosition({store:e.props.store,coverPosition:e.getRenderedCoverPosition(),transaction:t}),e.stores.pageCoverStore.reset()})},t.stores={fileUploadStore:m.default,coverMouseStore:y.default,pageCoverStore:g.default},t}(S.default);t.default=D},"7M94":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cursorDefault="notion-cursor-default",t.cursorPointer="notion-cursor-pointer",t.fadeIn="notion-fadein",t.mobile="notion-mobile",t.fadeInFast="notion-fadein-fast",t.fadeInSlow="notion-fadein-slow",t.cordova="notion-cordova",t.mobileBrowser="notion-mobile-browser",t.mobileTapping="notion-mobile-tapping",t.frontPage="notion-front-page",t.notionLightTheme="notion-light-theme",t.notionDarkTheme="notion-dark-theme",t.historyModal="notion-history-modal",t.blockResizer="notion-block-resizer",t.analyticsScrollPoint="analytics-scroll-point",t.overlayContainer="notion-overlay-container",t.pageTemplateModal="notion-page-template-modal",t.peekRenderer="notion-peek-renderer",t.textActionMenu="notion-text-action-menu",t.selectable="notion-selectable",t.login="notion-login",t.sidebar="notion-sidebar",t.sidebarMobile="notion-sidebar-mobile",t.spaceSettings="notion-space-settings",t.outlinerBookmarksSection="notion-outliner-bookmarks",t.outlinerWorkspaceSection="notion-outliner-workspace",t.outlinerSharedSection="notion-outliner-shared",t.outlinerPrivateSection="notion-outliner-private",t.outlinerBookmarksToggle="notion-outliner-toggle-bookmarks",t.outlinerWorkspaceToggle="notion-outliner-toggle-workspace",t.outlinerSharedToggle="notion-outliner-toggle-shared",t.outlinerPrivateToggle="notion-outliner-toggle-private",t.welcomePopup="notion-welcome-popup",t.pageContent="notion-page-content",t.frame="notion-frame",t.topbar="notion-topbar",t.topbarMobile="notion-topbar-mobile",t.shareMenu="notion-share-menu",t.topbarUpdatesMenu="notion-updates-menu",t.quickFindMenu="notion-quick-find-menu",t.onboardingProfile="notion-onboarding-profile",t.onboardingWorkspace="notion-onboarding-workspace",t.onboardingImport="notion-onboarding-import",t.onboardingDownload="notion-onboarding-download",t.onboardingGdpr="notion-onboarding-gdpr",t.inviteModal="notion-invite",t.topbarMoreButton="notion-topbar-more-button"},"7Q97":function(e,t,r){"use strict";var n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l,s=r("q1tI"),u=r("t+pW"),c=r("mF3+"),d=r("0GcB"),p=r("zmp8"),f=r("MeYt");!function(e){e[e.ExtraSmall=0]="ExtraSmall",e[e.Small=1]="Small",e[e.Medium=2]="Medium",e[e.Inline=3]="Inline",e[e.Large=4]="Large"}(l=t.TokenFormat||(t.TokenFormat={}));var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderComponent=function(){return s.createElement("div",{style:this.getStyle()},s.createElement("div",{style:t.innerStyle},this.props.value),this.renderRemoveButton())},t.prototype.renderRemoveButton=function(){var e=t.styles[this.props.format],r=e.height,n=e.removeIconSize;if(this.props.showRemoveButton)return s.createElement(f.default,{onClick:this.props.onClickRemove,style:i({},t.removeButtonStyle,{width:r,height:r}),mobileFeedback:!0,className:"notion-token-remove-button"},c.default.closeThick({width:n,height:n,opacity:.5}))},t.prototype.getStyle=function(){var e=this.props,r=e.format,n=e.isSingle,o=e.shouldShrink,a=t.styles[r],i=a.height,l=a.fontSize,s=a.paddingLeftRight,u=a.margin;return{display:n?"inline-flex":"flex",alignItems:"center",flexShrink:n||o?1:0,minWidth:0,height:i,borderRadius:3,paddingLeft:s,paddingRight:this.props.showRemoveButton?0:s,fontSize:l,lineHeight:"120%",color:"light"===d.default.state.mode?this.theme.regularTextColor:p.default.whiteWithAlpha(.7),background:this.props.backgroundColor||this.theme.selectColors.default,margin:n?0:u}},t.Format=l,t.styles=((o={})[l.ExtraSmall]={height:14,fontSize:12,paddingLeftRight:6,margin:"0 6px 0 0",removeIconSize:8},o[l.Small]={height:18,fontSize:12,paddingLeftRight:6,margin:"0 6px 6px 0",removeIconSize:8},o[l.Medium]={height:18,fontSize:14,paddingLeftRight:6,margin:"0 6px 6px 0",removeIconSize:8},o[l.Large]={height:24,fontSize:16,paddingLeftRight:8,margin:"0 8px 8px 0",removeIconSize:10},o[l.Inline]={height:18,fontSize:14,paddingLeftRight:8,margin:"0 6px 0 0",removeIconSize:8},o),t.innerStyle={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},t.removeButtonStyle={display:"flex",alignItems:"center",justifyContent:"center",flexGrow:0,flexShrink:0,marginLeft:2,marginRight:2,cursor:"pointer"},t}(u.default);t.default=h},"7Qu9":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LEzx");t.groupInterval=700;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{revisionStack:[],currentIndex:0}},t}(a.default);t.default=new i},"7TLZ":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r("LvDl"),u=r("bPtJ"),c=r("kaWB"),d=r("6CqZ"),p=r("hbKx"),f=r("6Ydq"),h=128;function m(e){return u.createRecordKeyStore(e,e.table,e.id,"discussions")}function y(e){var t=(m(e).getValue()||[]).map(function(t){return u.createRecordStore(e,"discussion",t)});return t.reverse(),t}function g(e){return y(e).filter(function(e){var t=e.getValue();return!!t&&!t.resolved})}function v(e){return g(e).length}function b(e){return u.createRecordKeyStore(e,e.table,e.id,"comments")}t.recordStoresAreEqual=function(e,t){return e&&t&&e.table===t.table&&e.id===t.id&&s.isEqual(e.path,t.path)&&e.recordCacheStore===t.recordCacheStore},t.getDiscussionsStore=m,t.getDiscussionStores=y,t.getUnresolvedDiscussionStores=g,t.getResolvedDiscussionStores=function(e){return y(e).filter(function(e){var t=e.getValue();return!!t&&t.resolved})},t.getNumberOfUnresolvedDiscussions=v,t.getNumberOfUnresolvedComments=function(e){return g(e).reduce(function(e,t){var r=t.getValue();return r?e+(r.comments||[]).length:e},0)},t.isEmptyTextBlock=function(e){if("text"!==e.getType())return!1;var t=e.getProperties();return!(t&&t.title||0!==e.getContentIds().length||0!==v(e))},t.getPropertiesStore=function(e){return u.createRecordKeyStore(e,e.table,e.id,"properties")},t.crawlSubtree=function e(t){var r,n,i,s,u,c,d,p,f,h,m,y,g,v,b,w;return o(this,function(o){switch(o.label){case 0:if(u=t.rootStore,c=t.shallow,!(d=t.depthFirst))return[3,10];g=u.getContentStores(),o.label=1;case 1:o.trys.push([1,7,8,9]),p=a(g),f=p.next(),o.label=2;case 2:return f.done?[3,6]:[4,w=f.value];case 3:return o.sent(),c&&w.isNavigableBlock()?[3,5]:[5,a(e({rootStore:w,shallow:c,depthFirst:d}))];case 4:o.sent(),o.label=5;case 5:return f=p.next(),[3,2];case 6:return[3,9];case 7:return h=o.sent(),r={error:h},[3,9];case 8:try{f&&!f.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}return[7];case 9:return[3,13];case 10:m=l(u.getContentStores()),y=void 0,o.label=11;case 11:return(y=m.shift())?[4,y]:[3,13];case 12:o.sent(),g=y.getContentStores();try{for(v=a(g),b=v.next();!b.done;b=v.next())w=b.value,c&&w.isNavigableBlock()||m.push(w)}catch(e){i={error:e}}finally{try{b&&!b.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}return[3,11];case 13:return[2]}})},t.getCommentsStore=b,t.getCommentStores=function(e){var t=b(e);return(t.getValue()||[]).map(function(e){return u.createRecordStore(t,c.default.table,e)})},t.getParentBlockStore=function(e){var t=e.getValue();if(t)return u.createRecordStore(e,t.parent_table,t.parent_id)},t.getCommentTextStore=function(e){return u.createRecordKeyStore(e,e.table,e.id,"text")},t.getParentDiscussionStore=function(e){var t=e.getValue();if(t)return u.createRecordStore(e,t.parent_table,t.parent_id)},t.getActivityStore=function(e){var t=e.getValue();if(t)return u.createRecordStore(e,d.default.table,t.activity_id)};var w=s.throttle(function(e){f.log(e)},500);t.areAncestorsLoaded=function(e){for(var t=e,r=0;t;){if(!t.isReady())return!1;if(r>=h)return w({level:"error",from:"recordStoreHelpers",type:"areAncestorsLoaded",data:{message:"max depth reached",maxDepth:h,id:e.id,table:e.table,currentStoreId:t.id,currentTable:t.table}}),!1;r+=1,t=p.getParentStore(t)}return!0},t.loadAncestors=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){switch(n.label){case 0:t=e,r=0,n.label=1;case 1:return t?t.isReady()?[3,3]:[4,t.load()]:[3,4];case 2:n.sent(),n.label=3;case 3:return r>=h?(w({level:"error",from:"recordStoreHelpers",type:"loadAncestors",data:{message:"max depth reached",maxDepth:h,id:e.id,table:e.table,currentStoreId:t.id,currentTable:t.table}}),[2,!1]):(r+=1,t=p.getParentStore(t),[3,1]);case 4:return[2]}})})}},"7eQs":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("q1tI"),l=r("wldR"),s=r("IYZQ"),u=r("A9TN"),c=r("sZEU"),d=r("6BTz"),p=r("LB1/"),f=r("Sb6f"),h=r("zmp8"),m=[{question:"How is the Free plan different from the Personal and Team plans?",answer:["The largest difference is how much storage you have. In the Free plan, you can store up to 1000 blocks, which is a lot! (Imagine writing a third of Moby Dick).","The Personal & Team plans don't have any storage limit at all. They also come with advanced permissions and admin tools that are handy for collaboration."]},{question:"What happens when I go over the storage limit in the Free plan?",answer:["You can still read, edit, and organize existing content blocks as usual, but you won't be able to add new content blocks.","However, you can delete existing content blocks to free up your storage."]},{question:"What is a block?",answer:["A block is any single piece of content you add to your page, like a to-do item, an image, a code block, an embedded file, etc. Think of your page as being made up of these building blocks."]},{question:"Can I delete blocks to free up my storage?",answer:["Of course! It works just like the storage limit on your phone or computer. If you delete something, you will free up space for more."]},{question:"Can I use Notion for free?",answer:["Absolutely! Notion is completely free to use indefinitely.","The Free plan does have a storage cap (1000 content blocks). It is plenty for most people, and you can always delete the content you don't need to free up storage.","You can also upgrade to a paid plan for free by earning credit."]},{question:"Do you offer student discounts?",answer:["We’re not currently offering student discounts, but we do have a referral program. By referring others to Notion, you can get credits to upgrade your account for free!",'You can learn more about this in the "Earn Credits" and "Plans" menus, found in "Settings & Members" in the left hand sidebar.']},{question:"How do I earn credit?",answer:["You can earn credit by inviting people to Notion. To do this, go to the Earn Credit tab in settings. There are three ways to invite people: by sending them your referral link via email, by tweeting your referral link, or by copying your referral link and sending it yourself. When someone signs up via your referral link, both you and this person will receive credit."]},{question:"How do I apply credit to my workspace?",answer:["To apply credit, you must first upgrade to a paid plan. As part of this process, you can choose to apply some or all of your account credit to the plan."]},{question:"Why do you need my billing information?",answer:["We still require your billing information, even if you applied enough credit to make your first bill $0, because you may run out of credit in the future and we need to be able to charge your account."]},{question:"What happens if I run out of credit?",answer:["If you run out of credit, your account will be charged via your selected payment method."]},{question:"Is there a maximum amount of credit I can earn?",answer:["Yes, you can earn up to "+d.formatHumanReadableCurrency(p.userMaxCredits,"dollar")+" in credit."]},{question:"What are the advanced permissions in the Team and Personal plans?",answer:['On the Free plan, each page can be set to "Full Access", "Can Read", or "Can Comment" permissions.','On the Team and Personal plans, each page will also have an additional "Can Edit" permission. This allows someone to edit and comment on the page, but not to share with others. It is especially useful when you want to lock down page access within your team, like when you work with interns or external collaborators.']},{question:"What are the admin tools in the Team plan?",answer:["On the Free plan, every member in your workspace has admin rights, meaning anyone can adjust team settings and invite other people to your workspace, which might not be the easiest way to keep your team's content private.","On the Team plan, the admin tools let you limit the admin rights to specific people only, so not everybody can change the billing information, or share your content with strangers.","The Personal plan is only for individuals, where admin tools do not apply."]},{question:"How is pricing calculated for the Personal plan?",answer:["If you upgrade your workspace to Personal, you will be charged a flat fee ($5 monthly or $48 yearly)","Guests are free of charge – but they won't be able to access all the workspace pages."]},{question:"How is pricing calculated for the Team plan?",answer:["If you upgrade your workspace to the Team plan, you will be charged a fee per member  ($10 monthly or $96 yearly). For example, if you pay per month and have 5 members, you will be charged $50 each month.",'Guests are free of charge – but they can only access individual pages they are invited to. In other words, guests won\'t be able to see all the team pages under the "Workspace" section in the left sidebar.']},{question:"Do you have monthly and yearly billing options?",answer:["Yes! We offer either monthly or yearly billing options. The yearly billing option is always cheaper (usually ~20% discount). For example, the Team plan is $10 per member per month in the monthly option, but $8 in the yearly option."]},{question:"How does adding and removing members work?",answer:["Whether you are using monthly or yearly billing, your account may be charged on a monthly basis. If members are added, your account will be charged a prorated amount based on the percentage of the billing cycle left at the time each member was added. If your usage decreased, your account will be credited in the same way."]},{question:"What happens when I change plans?",answer:["Upgrading or downgrading your plan works similarly to adding and removing members. Your account will be charged or credited based on the percentage of the billing cycle left at the time the plan was changed.","If you are on a Personal Plan and invite additional members, you will automatically be upgraded to a Team Plan and charged for each additional member per the Team subscription ("+d.formatHumanReadableCurrency(u.default.pricing.team.monthlyPricePerMember,"dollar")+" monthly or "+d.formatHumanReadableCurrency(u.default.pricing.team.yearlyPricePerMember,"dollar")+" yearly)."]},{question:"What happens if I cancel my paid plan?",answer:["When you cancel your plan, you will remain on the plan until the end of your billing cycle, at which time the plan will be canceled."]},{question:"What happens if my payment fails? E.g. an expired credit card.",answer:["Your account email will be notified after each failed payment. Payments may be retried up to 4 times within the next month. After this, if the payment did not succeed, you will be downgraded to the free plan."]},{question:"Can I change my payment method?",answer:["You can change your payment method at any time in your billing settings."]},{question:"Do you offer refunds?",answer:["We don't offer refunds, however we do have an account credit system. If your plan decreases during your billing period, your account will be credited accordingly, and the next time your account is charged, any remaining balance will be used before creating a new charge."]},{question:"Do you have a Service-Level Agreements (SLA)?",answer:["We do not offer a standard SLA. For teams with greater than 100 members, we can offer a custom SLA. Please contact us for details."]},{question:"How does import affect my block storage limit?",answer:["Content created via import doesn't contribute towards your workspace's storage limit. We want to make sure you get started with Notion as smoothly as possible ;-)"]},{question:"How is the payment being processed?",answer:["We use Stripe to process your payment. It's the same payment provider used in products such as Twitter, Pinterest, and Lyft. We do not handle your credit card information directly."]},{question:"Does Notion support multiple teams?",answer:["Yes! You can use the same email address you used to create or join additional teams. However, each workspace will have to be upgraded individually."]}],y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleHelpButtonClick=function(){c.openIntercomMessages({from:"pricing"})},t}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("div",{style:{maxWidth:600}},m.map(this.renderFaqItem),a.createElement("div",{style:{color:h.default.mediumTextColor}},"Still have more questions?"," ",a.createElement(s.default,{onClick:this.handleHelpButtonClick},"Chat with us"),"."))},t.prototype.renderFaqItem=function(e,r){return a.createElement(i.Fragment,{key:r},a.createElement("div",{key:"question-"+r,style:t.questionStyle},e.question),a.createElement("div",{key:"answer-"+r,style:t.answerStyle},e.answer.map(function(e,t){return a.createElement("div",{key:t,style:{marginBottom:4}},e)})))},t.questionStyle={fontWeight:f.default.fontWeight.medium,marginBottom:4},t.answerStyle={color:h.default.FAQListAnswerColor,marginBottom:"1.5rem",lineHeight:1.5},t}(l.default);t.default=y},"7mO3":function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("hfHo"),i=r("STAJ"),l=r("cBa6"),s=r("njgS"),u=r("IdIf"),c=r("+575"),d=r("D2XV"),p=r("ODIo"),f=r("g90h"),h=r("nFzZ");t.coerceBlockToGroup=function(e){var t=e.block,r=e.schema,n=e.query,a=e.currentUserId,i=e.userTimeZone,l=e.group,s={};if(n&&n.filter&&n.filter.length>0)if(n.filter.length>1&&"or"===n.filter_operator){var u=h.compact(n.filter.map(function(e){if(e.property)return m({block:t,schema:r,currentUserId:a,property:e.property,comparator:e.comparator,rollupSetFilter:e.rollup_set_filter,filterValue:e.value,filterValueType:e.value_type,userTimeZone:i})})),c=u.find(function(e){return o.isEmpty(e)}),d=u.find(function(e){return!o.isEmpty(e)});!c&&d&&(s=o.assign(s,d))}else o.eachRight(n.filter,function(e){if(e.property){var n=m({block:t,schema:r,currentUserId:a,property:e.property,comparator:e.comparator,rollupSetFilter:e.rollup_set_filter,filterValue:e.value,filterValueType:e.value_type,userTimeZone:i});s=o.assign(s,n)}});if(l){var p=l.property,f=l.value,y=r[p];if(y){var g=y.type;f?"select"===g?s=o.assign(s,m({block:t,schema:r,currentUserId:a,property:p,comparator:"enum_is",rollupSetFilter:void 0,filterValue:f,filterValueType:void 0,userTimeZone:i})):"multi_select"===g?s=o.assign(s,m({block:t,schema:r,currentUserId:a,property:p,comparator:"enum_contains",rollupSetFilter:void 0,filterValue:f,filterValueType:void 0,userTimeZone:i})):"person"===g&&(s=o.assign(s,m({block:t,schema:r,currentUserId:a,property:p,comparator:"enum_contains",rollupSetFilter:void 0,filterValue:f,filterValueType:"person",userTimeZone:i}))):s=o.assign(s,m({block:t,schema:r,currentUserId:a,property:p,comparator:"is_empty",rollupSetFilter:void 0,filterValue:void 0,filterValueType:void 0,userTimeZone:i}))}}return s};var m=function(e){var t=e.block,r=e.schema,n=e.property,o=e.comparator,i=e.filterValue,u=e.rollupSetFilter,f=e.filterValueType,h=e.userTimeZone,m=e.currentUserId,y={},g=r[n];if(!g)return{};if(p.computeFilterResult({property:n,comparator:o,filterValueType:f,rollupSetFilter:u,filterValue:i,schema:r,block:t,getRecordValue:function(){},userId:m,userTimeZone:h}))return{};if("is_empty"===o)y[n]=null;else if("string_is"===o||"string_contains"===o||"string_starts_with"===o||"string_ends_with"===o)y[n]=l.createTextValue(i);else if("string_is_not"===o||"string_does_not_contain"===o||"enum_does_not_contain"===o||"enum_is_not"===o||"number_does_not_equal"===o)y[n]=null;else if("checkbox_is"===o)y[n]=c.fromCheckboxValue(i===s.checkboxYesValue);else if("checkbox_is_not"===o)y[n]=c.fromCheckboxValue(i!==s.checkboxYesValue);else if("enum_is"===o)"select"===g.type&&(y[n]=c.fromSelectValue(i));else if("enum_contains"===o)if("multi_select"===g.type)y[n]=c.fromMultiSelectValue([i]);else if("person"===g.type){var v="me"===f?m:i;v&&(y[n]=c.fromPersonValue([v]))}else"relation"===g.type&&"string"==typeof i&&(y[n]=c.fromRelationValue([i]));else if("number_equals"===o||"number_less_than_or_equal_to"===o||"number_greater_than_or_equal_to"===o)y[n]=c.fromNumberValue(parseFloat(i));else if("number_greater_than"===o)y[n]=c.fromNumberValue(parseFloat(i)+1);else if("number_less_than"===o)y[n]=c.fromNumberValue(parseFloat(i)-1);else if("date_is"===o||"date_is_on_or_before"===o||"date_is_on_or_after"===o){(w=p.getDateQueryRangeValues({filterValueType:f,filterValue:i,userTimeZone:h}))&&(y[n]=c.fromDateValue(w.startValue?d.date(w.startValue,h):void 0))}else if("date_is_before"===o){if(w=p.getDateQueryRangeValues({filterValueType:f,filterValue:i,userTimeZone:h})){var b=a.default.tz(w.startValue,h).add(-1,"days").valueOf();y[n]=c.fromDateValue(d.date(b,h))}}else if("date_is_after"===o){if(w=p.getDateQueryRangeValues({filterValueType:f,filterValue:i,userTimeZone:h})){b=a.default.tz(w.startValue,h).add(1,"days").valueOf();y[n]=c.fromDateValue(d.date(b,h))}}else if("date_is_within"===o){var w;(w=p.getDateQueryRangeValues({filterValueType:f,filterValue:i,userTimeZone:h}))&&(y[n]=c.fromDateValue(w.endValue?d.date(w.endValue,h):void 0))}return y};t.coerceBlockToSchema=function(e,t,r){var o,a,l={propertyUpdate:{},newSchema:r},s=e.properties||{},u=Object.keys(t),c=Object.keys(r),d=function(e){var n=t[e],o=s[e];if(n&&"relation"!==n.type&&o){var a=c.find(function(t){return e===t});if(a||(a=c.find(function(e){var t=r[e];return Boolean(n&&t&&n.name.trim().toLowerCase()===t.name.trim().toLowerCase()&&n.type===t.type)})),a&&l.propertyUpdate)a!==e&&(l.propertyUpdate[a]=s[e]||null,l.propertyUpdate[e]=null);else{var u=f.default(),d=t[e];l.newSchema=i.assoc(u,d,l.newSchema),l.propertyUpdate&&(l.propertyUpdate[u]=s[e]||null,l.propertyUpdate[e]=null)}}};try{for(var p=n(u),h=p.next();!h.done;h=p.next()){d(h.value)}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}return l},t.renameGroup=function(e,t,r,n,o){var a={},i=t[r];if(n&&o&&e&&e.properties&&e.properties[r]&&i){var l=e.properties[r],s=i.type;if("select"===s){var d=t[r].options||[],p=c.toSelectValue(l,d,!1);u.groupValuesEqual(p,n)&&(a[r]=c.fromSelectValue(o))}else if("multi_select"===s){d=t[r].options||[];var f=c.toMultiSelectValue(l,d,!1);if(f.findIndex(function(e){return u.groupValuesEqual(e,n)})>=0){var h=f.map(function(e){return u.groupValuesEqual(e,n)?o:e});a[r]=c.fromMultiSelectValue(h)}}else if("person"===s){var m=c.toPersonValue(l);if(Boolean(m.find(function(e){return e===n}))){var y=m.map(function(e){return e===n?o:e});a[r]=c.fromPersonValue(y)}}}return a},t.deleteGroup=function(e,t,r,n){var o=t[r];if(n&&e&&e.properties&&e.properties[r]&&o){var a=e.properties[r],i=o.type;if("select"===i){var l=t[r].options||[],s=c.toSelectValue(a,l,!1);return u.groupValuesEqual(s,n)}if("multi_select"===i){l=t[r].options||[];return c.toMultiSelectValue(a,l,!1).findIndex(function(e){return u.groupValuesEqual(e,n)})>=0}if("person"===i){var d=c.toPersonValue(a);return Boolean(d.find(function(e){return e===n}))}}return!1}},"7ovu":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("r8oj"),o=r("Bzsy"),a=r("toub");t.openPlans=function(){n.default.isMobile?o.default.setState({open:!0}):a.default.setState({open:!0,currentTab:"plans"})}},"7z/K":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{hovered:!1,pressed:!1}},t}(r("LEzx").default);t.default=a},"8+67":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"snapshot",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,parent_table:n.default.String,parent_id:n.default.UUID,author_ids:n.default.StringArray,collection_ids:n.default.StringArray,inline_collection_block_ids:n.default.StringArray,timestamp:n.default.String}};t.default=o},"80lM":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("r8oj"),u=r("IwFn"),c=r("wldR"),d=r("yNyh"),p=r("VyA+"),f=r("wXH4"),h=r("OYeE"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOverlayBgClick=function(e){h.default.setState(a({},h.default.state,{active:!1,stringValue:""}))},t}return o(t,e),t.prototype.renderComponent=function(){var e=h.default.state,t=e.active,r=e.stringValue,n=window.innerWidth/2-150,o=window.innerHeight/2;return i.createElement(f.default,{popupType:s.default.isReactNative||s.default.isCordova?f.default.PopupType.SlideUp:f.default.PopupType.Popup,open:t,originRect:{top:o,left:n},onDismiss:this.handleOverlayBgClick,placementToOrigin:f.default.Placement.Bottom,alignmentToOrigin:f.default.Alignment.Start,originGap:0,render:function(){return i.createElement(p.default,{capture:!0,onEnter:l.identity,onCommandEnter:l.identity,onCommandShiftEnter:l.identity,onCommandSlash:l.identity,onDelete:l.identity,onBackspace:l.identity,onEsc:l.identity,onLeft:l.identity,onRight:l.identity,onUntab:l.identity,onTab:l.identity,onSelectAll:l.identity,onRedo:l.identity,onUndo:l.identity,onToggleBold:l.identity,onToggleItalics:l.identity,onToggleStrike:l.identity,onToggleCode:l.identity,onCut:l.identity,onCopy:l.identity,onPaste:l.identity,onKeypress:l.identity},i.createElement("div",{style:{padding:8,width:300}},i.createElement(d.default,{style:{width:"100%",fontSize:12},value:r,focus:!0,textarea:!0,selectAll:!0,readOnly:!0}),i.createElement(u.default,{style:{marginTop:6,pointerEvents:"none"}},"Right click and copy the link above")))}})},t}(c.default);t.default=m},"80on":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1,items:[],showCancel:!0,keepFocus:!1}},t}(r("LEzx").default);t.default=new a},"84+D":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{touching:!1,swiping:!1}},t}(r("LEzx").default);t.default=new a},"8L2b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"space_view",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,space_id:n.default.UUID,bookmarked_pages:n.default.StringArray,shared_pages:n.default.StringArray,visited_templates:n.default.StringArray,sidebar_hidden_templates:n.default.StringArray,notify_mobile:n.default.Boolean,notify_desktop:n.default.Boolean,notify_email:n.default.Boolean,created_getting_started:n.default.Boolean,parent_id:n.default.UUID,parent_table:n.default.String,alive:n.default.Boolean}};t.default=o},"8N42":function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("Qfcx");t.setLimitParentsFromPageChunkCursors=function(e){var t,r,a,i,l,s,u=e.cursors,c=e.rootStore,d={};try{for(var p=n(u),f=p.next();!f.done;f=p.next()){var h=f.value;try{for(var m=n(h.stack),y=m.next();!y.done;y=m.next()){var g=y.value;try{for(var v=n(g),b=v.next();!b.done;b=v.next()){var w=b.value;d[w.id]=w.index}}catch(e){l={error:e}}finally{try{b&&!b.done&&(s=v.return)&&s.call(v)}finally{if(l)throw l.error}}}}catch(e){a={error:e}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{f&&!f.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}o.default.setLimitParents(c,d)},t.clearLimitParents=function(e){o.default.removeLimitParents(e.rootStore)}},"8Ps9":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t}(r("LEzx").default);t.default=a},"8cdi":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("oFLp"),c=r("4HCU"),d=r("6rsX"),p=r("unoy"),f=r("r8oj"),h=r("bTAb"),m=r("wpmu"),y=r("bFnu"),g=r("n8tN"),v=r("O93e"),b=r("Pl3d"),w=r("VyA+"),S=r("MBf9"),_=r("sjR4"),k=r("q2qQ"),C=r("sbdd"),E=r("2Y+N"),P=r("zTdN"),x=r("WgIs"),T=r("gbGO"),O=r("X6Ne"),M=r("HTHG"),I=r("DNgp"),A=r("X3py"),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.didPerformAction=!1,t.handleBlur=function(){p.clear(),t.didPerformAction||(t.didPerformAction=!0,S.createAndCommit(function(e){k.remove({store:t.props.store,transaction:e})}))},t.isEditing=t.createComputedStore(function(){var e=t.props.store,r=I.default.state;return Boolean(r.editing&&r.store.id===e.id)}),t.performQuery=function(e){return i(t,void 0,void 0,function(){var t;return l(this,function(r){switch(r.label){case 0:return this.props.store.isDefaultRecordCache()?e?[4,c.searchPages({query:e,limit:20})]:[3,2]:[3,3];case 1:return(t=r.sent())?[2,t.results]:[3,3];case 2:return[2,M.getDefaultSearchResultPages().map(function(e){return e.id})];case 3:return[2,[]]}})})},t}return o(t,e),t.prototype.handleCreated=function(){d.setPhase({phase:_.SelectionPhase.Editing}),p.setSelection({store:this.props.store,selection:void 0}),f.default.isMobile&&A.default.onShow(O.mobileAutoScroll)},t.prototype.renderComponent=function(){if(this.isEditing.state)return this.renderSearchInput()},t.prototype.renderSearchInput=function(){var e=this,t={request:this.stores.autocompleteStore.state.query,performRequest:this.performQuery,debounce:c.defaultSearchDebounce,render:function(t,r,n){var o=(r||[]).map(function(t){var r=m.default.createChildStore(e.props.store,t);return{key:t,render:function(e){return s.createElement(C.default,a({},e,{store:r}))},action:function(){return i(e,void 0,void 0,function(){var e,t;return l(this,function(n){switch(n.label){case 0:return this.didPerformAction?[3,2]:(this.didPerformAction=!0,e=S.create(),[4,u.replaceBlockWithPageAlias({store:this.props.store,aliasStore:r,transaction:e})]);case 1:(t=n.sent())&&d.setSelection({stores:[t]}),S.commit({transaction:e}),n.label=2;case 2:return[2]}})})}}});return s.createElement(w.default,{capture:e.isEditing.state},s.createElement(v.default,{loading:!n,isOpen:!0,store:e.stores.autocompleteStore,queryUpdateDebounce:c.defaultSearchDebounce,inputPlaceholder:"Search for a Page...",focus:!0,inputStyle:e.getInputStyle(),onBgClick:e.handleBlur,renderPopup:function(){var e,t;return e=r&&0===o.length?s.createElement(E.default,{title:"Select a page",loading:!n},s.createElement(P.default,{title:"No Results"})):s.createElement(x.default,{initialFocus:0,sections:[{key:0,render:function(e){return s.createElement(E.default,a({},e,{title:"Select a page",loading:!n}))},items:o}]}),t=f.default.isMobile?{menuType:T.default.MenuType.ActionSheet}:{menuType:T.default.MenuType.Popup,width:460},s.createElement(T.default,a({},t),e)}}))}};return s.createElement(b.default,a({},t))},t.prototype.getTitleStyle=function(){return{lineHeight:1.3}},t.prototype.getInputStyle=function(){return a({},this.getTitleStyle(),{borderBottom:void 0})},t.stores={autocompleteStore:h.default,mouseStore:y.default},t}(g.default);t.default=D},"8dfn":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Cgnk");t.default=new n.default},"8fuX":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r("q1tI"),s=r("i8i4"),u=r("3CDt"),c=r("LvDl"),d=r("17x9"),p=r("xEkU"),f=r("X6Ne"),h=r("r8oj"),m=r("GRWW"),y=r("wldR"),g=r("v/t1"),v=r("DkKf"),b=r("rMTC"),w=r("wypy"),S=r("qHvo"),_=r("nZ1u"),k=r("0zNc");!function(e){e[e.All=0]="All",e[e.X=1]="X",e[e.Y=2]="Y",e[e.None=3]="None"}(i=t.OverflowType||(t.OverflowType={}));var C=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.mouseX=0,r.mouseY=0,r.handleMouseMove=function(e){r.props.onMouseMove&&r.props.onMouseMove(e),r.handleEdgeScrollThrottled()},r.handleTouchMove=function(){r.handleEdgeScrollThrottled()},r.handleEdgeScroll=function(){h.default.isIOS||h.default.isSafari?r.triggerEdgeScrollThrottled():r.triggerEdgeScroll()},r.handleEdgeScrollThrottled=c.throttle(r.handleEdgeScroll,30),r.handleScroll=function(){if(r.el){var e=r.el,t=e.scrollTop,n=e.scrollHeight,o=e.scrollWidth,i=e.scrollLeft;r.stores.store.setState(a({},r.stores.store.state,{scrollTop:t,scrollHeight:n,scrollLeft:i,scrollWidth:o,isScrolling:!0})),r.handleScrollEndDelayed(),h.default.isIOS||h.default.isSafari?r.triggerEdgeScrollThrottled():r.triggerEdgeScroll(),(h.default.isReactNative||h.default.isCordova)&&h.default.isIOS&&w.rerenderSelectionCaret()}},r.handleScrollEnd=function(){r.stores.store.setState(a({},r.stores.store.state,{isScrolling:!1}))},r.handleScrollEndDelayed=c.debounce(r.handleScrollEnd,t.scrollEndThreshold),r.ref=function(e){r.el=e},r.triggerEdgeScrollThrottled=c.throttle(r.triggerEdgeScroll,1e3/60),r.measureSize=function(){if(r.el){var e=r.el,t=r.el.getBoundingClientRect(),n=a({},r.stores.store.state,{clientRect:{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height},scrollTop:e.scrollTop,scrollHeight:e.scrollHeight,scrollLeft:e.scrollLeft,scrollWidth:e.scrollWidth});return c.isEqual(r.stores.store.state,n)||r.stores.store.setState(n),t}},r.measureSizeDebounced=c.debounce(r.measureSize,500,{leading:!0}),r.handleWindowMouseMove=function(e){r.mouseX=e.clientX,r.mouseY=e.clientY},r.handleWindowTouchMove=function(e){r.mouseX=e.touches[0].clientX,r.mouseY=e.touches[0].clientY},r.handleScrollbarOffset=function(){if(!h.default.isMobile&&!h.default.isMac){var e=s.findDOMNode(r);if(e&&e instanceof HTMLElement){var t=0,n=0;r.props.disableScroll&&(e.scrollHeight>e.clientHeight&&(r.props.type===i.All||r.props.type===i.Y)&&(t=b.default()),e.scrollWidth>e.clientWidth&&(r.props.type===i.All||r.props.type===i.X)&&(n=b.default())),e.style.marginRight=t.toString()+"px",e.style.marginBottom=n.toString()+"px"}}},r}return o(t,e),t.prototype.scrollTo=function(e,t,r){this.componentIsMounted&&this.el&&(e=void 0!==e?e:this.el.scrollTop,t=void 0!==t?t:this.el.scrollLeft,r&&r.isAnimated?(u(this.el,e,200,r.animationCallback||c.identity),this.el.scrollLeft=t):(this.el.scrollTop=e,this.el.scrollLeft=t))},t.prototype.scrollByOffset=function(e,t,r){if(this.componentIsMounted&&this.el){var n=this.el.scrollTop+e,o=this.el.scrollLeft+t;this.scrollTo(n,o,r)}},t.prototype.scrollToTop=function(e){this.scrollTo(0,0,e)},t.prototype.scrollToBottom=function(e){this.componentIsMounted&&this.el&&this.scrollTo(this.el.scrollHeight,0,e)},t.prototype.scrollerEl=function(){return this.el},t.prototype.getStore=function(){return this.stores.store},t.prototype.getClientRect=function(){if(this.el)return this.el.getBoundingClientRect()},t.prototype.scrollerHack=function(){var e=this;this.el&&(this.el.style.overflow="hidden",setTimeout(function(){e.el&&(e.el.style.overflow="scroll")},0))},t.prototype.getChildContext=function(){var e=this.props.type,t={};return e!==i.Y&&e!==i.All||(t.verticalScroller=this),e!==i.X&&e!==i.All||(t.horizontalScroller=this),t},t.prototype.didMount=function(){p(this.measureSize),this.el&&g.addPassiveEventListener(this.el,"scroll",this.handleScroll),h.default.isMobile?g.addPassiveEventListener(window,"touchmove",this.handleWindowTouchMove):g.addPassiveEventListener(window,"mousemove",this.handleWindowMouseMove),this.handleScrollbarOffset()},t.prototype.didUpdate=function(){this.handleScrollbarOffset()},t.prototype.willUnmount=function(){this.el&&g.removePassiveEventListener(this.el,"scroll",this.handleScroll),h.default.isMobile?g.removePassiveEventListener(window,"touchmove",this.handleWindowTouchMove):g.removePassiveEventListener(window,"mousemove",this.handleWindowMouseMove)},t.prototype.renderComponent=function(){var e=this.props.type;return l.createElement("div",{style:this.getStyle(),className:c.compact(["notion-scroller",(e===i.Y||e===i.All)&&"vertical",(e===i.X||e===i.All)&&"horizontal",this.props.className]).join(" "),onMouseMove:this.handleMouseMove,onTouchMove:this.handleTouchMove,onMouseDown:this.props.onMouseDown,onMouseLeave:this.props.onMouseLeave,onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,onContextMenu:this.props.onContextMenu,ref:this.ref},this.props.children)},t.prototype.shouldScrollNearEdge=function(){return!this.props.disableEdgeScroll&&this.props.type!==i.None&&v.mouseDidMoveAfterLastMouseDown()&&(S.default.state.isDragging||_.default.state.isActive||k.default.state.isDragging)},t.prototype.triggerEdgeScroll=function(){if(this.shouldScrollNearEdge()){this.measureSizeDebounced();var e=k.default.state,t=e.disableHorizontalEdgeScroll,r=e.disableVerticalEdgeScroll;f.triggerEdgeScroll({scroller:this,currentMouseX:this.mouseX,currentMouseY:this.mouseY,verticalEdgeThreshold:this.getVerticalEdgeScrollThreshold(),horizontalEdgeThreshold:this.getHorizontalEdgeScrollThreshold(),disableHorizontalEdgeScroll:t,disableVerticalEdgeScroll:r})}},t.prototype.getVerticalEdgeScrollThreshold=function(){var e=this.stores.store.state.clientRect,t=e&&e.height?e.height:0;return h.default.isMobile?t*=.2:t*=.1,t=Math.max(t,20)},t.prototype.getHorizontalEdgeScrollThreshold=function(){var e=this.stores.store.state.clientRect,t=e&&e.width?e.width:0;return h.default.isMobile?t*=.2:t*=.08,t=Math.max(t,20)},t.prototype.getStyle=function(){var e=this.props.type,t=a({},this.props.style);return this.props.disableScroll&&e!==i.None?t.overflow="hidden":e===i.All?(t.overflow="auto",t.WebkitOverflowScrolling="touch"):e===i.X?(t.overflowX="auto",t.overflowY="hidden",t.WebkitOverflowScrolling="touch"):e===i.Y&&(t.overflowX="hidden",t.overflowY="auto",t.WebkitOverflowScrolling="touch"),h.default.isMobile&&(t.transform="translate3d(0px,0px,0px)",t.willChange="scroll-position, transform"),t},t.OverflowType=i,t.childContextTypes={verticalScroller:d.any,horizontalScroller:d.any},t.stores={store:m.default},t.scrollEndThreshold=200,t}(y.default);t.default=C},"8hjU":function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("udrG"),l=r("cBa6"),s=r("mAkY"),u=r("wpmu"),c=r("Ajfl"),d=r("6rsX"),p=r("unoy"),f=r("MBf9"),h=r("sPNb"),m=r("q2qQ"),y=r("ICWk"),g=r("y6Dp"),v=r("bK/N"),b=r("N34Z"),w=r("sjR4"),S=r("DNgp"),_=function(e){var t=e.store,r=e.toBlockType,n=e.matchRegex,o=e.insertTextAfter,s=e.transaction,f=S.default.state.editing&&S.default.state.selection;if(f){var v=a.toArray(l.getText(t.getValue())).slice(0,f.endIndex).join(""),_=n.exec(v),k=t.recordStoreParent();if(_&&k&&k instanceof u.default&&k.isType(i.default.text)){var C=r(_);if(void 0===C)return;k instanceof u.default&&h.transform({block:k,blockType:C,transaction:s});var E={startIndex:0,endIndex:_&&a.toArray(_[0]).length||0};if(c.deleteSelection({store:t,selection:E,transaction:s}),o){var P=m.insertBlock({selection:w.default.state.stores,createBlockItem:y.allCreateBlockItems[i.default.text],analyticsFrom:"text_filter_actions",transaction:s}),x=t.getValue()||[];P&&(b.setValue({store:t,value:[],transaction:s}),b.setValue({store:P.getBlockTitleStore(),value:x,transaction:s}),d.edit({store:P}),p.setSelectionAtStart({store:P.getBlockTitleStore()}))}g.trackTransformTextBlockFilter({type:C})}}},k=function(e){var t=e.store,r=e.transaction,n=e.regex,o=e.length,i=e.analyticsType,u=e.replace,d=t.getValue()||[],p=S.default.state.editing&&S.default.state.selection;if(p){var f=l.splitTokensWithCharRange(d,0,p.endIndex),h=a.findLastIndex(f.tokensInsideRange,function(e){return l.getTokenAnnotations(e).some(function(e){return l.isCodeAnnotation(e)})}),m=f.tokensInsideRange.slice(-1===h?0:h,f.tokensInsideRange.length),y=l.getText(m);if(!Boolean(y.match(/(^| )`[^ ]/))){var v=l.getText(d),b=a.toArray(v).slice(0,p.endIndex).join(""),w=n.exec(b);if(w){var _=s.default(v,w.index),k={startIndex:_,endIndex:_+o},C=t.getValue()||[];l.hasAnnotationTypeInRange(C,k.startIndex,k.endIndex,"c")||(c.deleteSelection({store:t,selection:k,transaction:r}),S.default.state.editing&&(c.insertString({store:t,selection:S.default.state.selection,string:u,transaction:r}),g.trackUnicodeFilter({type:i})))}}}},C=function(e){var t=e.store,r=e.delimiter,o=e.annotation,i=e.transaction,u=S.default.state.editing&&S.default.state.selection;if(u){var d=t.getValue(),f=a.toArray(l.getText(d)).slice(0,u.endIndex).join("");if(f.length>0&&f.endsWith(r)){var h=f.split(r);if(h.length>2){h.reverse();var m=n(h.slice(1)),y=m[0],v=m.slice(1).map(function(e){return e.length+r.length}).reduce(function(e,t){return e+t},0)-r.length,b=v+y.length+2*r.length;if(y.length>0&&!/\s/g.test(y[0])&&!/\s/g.test(y[y.length-1])&&!y.startsWith(r)&&!y.endsWith(r)&&(!f[v-1]||/[\s(]/g.test(f[v-1]))&&(!f[b]||/[\s)]/g.test(f[b]))&&!l.hasAnnotationTypeInRange(d,v,b,"c")){var w=s.default(f,v),_=f.slice(v,b),k=a.toArray(_).length,C={startIndex:w,endIndex:w+r.length};c.deleteSelection({store:t,selection:C,transaction:i});var E={startIndex:w+k-r.length-r.length,endIndex:w+k-r.length};c.deleteSelection({store:t,selection:E,transaction:i});var P={startIndex:C.startIndex,endIndex:E.startIndex};c.annotate({store:t,selection:P,annotation:o,transaction:i});var x={startIndex:P.endIndex,endIndex:P.endIndex};p.setSelection({store:t,selection:x}),p.setExtendAnnotation({annotation:o,extend:!1}),g.trackAnnotationFilter({type:l.getAnnotationType(o)})}}}}},E=function(e){var t,r,n=e.store,d=e.transaction,f=!1;if(n.isTable("block")){var h=n.getRecordStoreAtRootPath().getValue();f=Boolean(h&&h.type===i.default.code)}if(!f){_({store:n,toBlockType:function(){return i.default.toDo},matchRegex:/^\[\]$/,insertTextAfter:!1,transaction:d}),_({store:n,toBlockType:function(){return i.default.subSubHeader},matchRegex:/^### $/,insertTextAfter:!1,transaction:d}),_({store:n,toBlockType:function(){return i.default.subHeader},matchRegex:/^## $/,insertTextAfter:!1,transaction:d}),_({store:n,toBlockType:function(){return i.default.header},matchRegex:/^# $/,insertTextAfter:!1,transaction:d}),_({store:n,toBlockType:function(){return i.default.toggle},matchRegex:/^> $/,insertTextAfter:!1,transaction:d}),_({store:n,toBlockType:function(){return i.default.quote},matchRegex:/^["“] $/,insertTextAfter:!1,transaction:d}),_({store:n,toBlockType:function(){return i.default.bulletedList},matchRegex:/^[-\*\+] $/,insertTextAfter:!1,transaction:d}),_({store:n,matchRegex:/^(\d+)\. $/,insertTextAfter:!1,transaction:d,toBlockType:function(e){var t=parseInt(e[1]);if("block"===n.table){var r=n.getRecordStoreAtRootPath(),o=u.default.fromRecordStore(r),l=o.getParentBlockStore();if(l){var s=l.getContentStores(),c=s.findIndex(function(e){return e.id===o.id});if(-1!==c){var d=s.slice(0,c),p=a.findLastIndex(d,function(e){return e.getType()!==i.default.numberedList});if(d.length-(p+1)+1===t)return i.default.numberedList}}}}}),_({store:n,toBlockType:function(){return i.default.code},matchRegex:/^```$/,insertTextAfter:!1,transaction:d}),_({store:n,toBlockType:function(){return i.default.divider},matchRegex:/^—-$/,insertTextAfter:!0,transaction:d});var m=v.getSubstitutions();try{for(var y=o(m),b=y.next();!b.done;b=y.next()){var w=b.value;k({store:n,transaction:d,regex:w.replace,length:w.length,replace:w.with,analyticsType:"custom_substitution"})}}catch(e){t={error:e}}finally{try{b&&!b.done&&(r=y.return)&&r.call(y)}finally{if(t)throw t.error}}k({store:n,transaction:d,regex:/--$/,length:2,replace:"—",analyticsType:"em_dash"}),k({store:n,transaction:d,regex:/->$/,length:2,replace:"→",analyticsType:"right_arrow"}),k({store:n,transaction:d,regex:/=>$/,length:2,replace:"⇒",analyticsType:"right_arrow_double"}),k({store:n,transaction:d,regex:/<-$/,length:2,replace:"←",analyticsType:"left_arrow"}),k({store:n,transaction:d,regex:/>=$/,length:2,replace:"≥",analyticsType:"greater_than_or_equal_to"}),k({store:n,transaction:d,regex:/<=$/,length:2,replace:"≤",analyticsType:"less_than_or_equal_to"}),k({store:n,transaction:d,regex:/!=$/,length:2,replace:"≠",analyticsType:"not_equal"}),C({delimiter:"`",annotation:["c"],store:n,transaction:d}),C({delimiter:"**",annotation:["b"],store:n,transaction:d}),C({delimiter:"*",annotation:["i"],store:n,transaction:d}),C({delimiter:"__",annotation:["b"],store:n,transaction:d}),C({delimiter:"_",annotation:["i"],store:n,transaction:d}),C({delimiter:"~",annotation:["s"],store:n,transaction:d}),function(e){var t=e.store,r=e.transaction,n=S.default.state.editing&&S.default.state.selection;if(n){var o=t.getValue(),i=a.toArray(l.getText(o)).slice(0,n.endIndex).join("");if(!l.hasAnnotationTypeInRange(o,n.startIndex,n.endIndex,"c")){var u=/([^ ]+) $/.exec(i);if(u){var d=u[1],f=l.getLinkifyMatch(d);if(f){var h=f.value,m=f.href,y=s.default(i,i.indexOf(h)),v=y+a.toArray(h).length,b={startIndex:y,endIndex:v};l.hasAnnotationTypeInRange(o,y,v,"a")||(c.annotate({store:t,annotation:["a",m],selection:b,transaction:r}),p.setSelection({store:t,selection:n}),g.trackLinkFilter({href:m}))}}}}}({store:n,transaction:d})}};t.runAllFiltersAfterTransaction=function(e){var t=e.store;e.transaction.postSubmitActions.push(function(){var e=f.create();E({store:t,transaction:e}),f.commit({transaction:e,undoCheckpoint:!0})})}},"8kr4":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},"8q7i":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("wldR"),c=r("S26v"),d=r("stZG"),p=r("X1sx"),f=r("ttM1"),h=r("wlCD"),m=r("nZ1u"),y=r("0zNc"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDragging=t.createComputedStore(function(){return y.default.state.isDragging||m.default.state.isActive}),t}return o(t,e),t.prototype.didMountOrUpdate=function(){return i(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return window.twttr?(this.handleRenderTweet(),[3,3]):[3,1];case 1:return[4,Promise.resolve().then(function(){return r("uwlX")})];case 2:e.sent(),this.handleRenderTweet(),e.label=3;case 3:return[2]}})})},t.prototype.renderComponent=function(){var e=this,t=this.props.handleEmbedComp;return s.createElement("div",{style:{display:"flex"}},s.createElement("div",{style:{marginLeft:"auto",marginRight:"auto",maxWidth:420,minWidth:0}},s.createElement(d.default,{capture:!0,render:function(r){return s.createElement("div",a({},r,{ref:function(e){return e&&t(e)},style:e.getStyle()}),s.createElement("div",{ref:function(t){return t&&(e.el=t)},style:{display:e.stores.store.state.loading||e.stores.store.state.error?"none":"block"}}),e.renderTweet())}})))},t.prototype.renderTweet=function(){var e=this;return s.createElement(f.default,{show:this.stores.store.state.loading,showDelay:1e3,showHold:0,render:function(r){return r||e.stores.store.state.loading?s.createElement("div",{style:a({display:"inline-flex",alignItems:"center",opacity:r?1:0},t.loadingStyle)},s.createElement(h.default,null),s.createElement("div",{style:{marginLeft:8}},"Loading Tweet")):e.stores.store.state.error?s.createElement("div",{style:t.loadingStyle},"Error Loading Tweet"):void 0}})},t.prototype.handleRenderTweet=function(){return i(this,void 0,void 0,function(){var e,t,r,n;return l(this,function(o){switch(o.label){case 0:return e=this.props.source,t=c.parse(e).pathname,(r=(t||"").split("/")[3])&&r!==this.id&&this.el&&window.twttr?(this.id=r,this.el.innerHTML="",this.stores.store.setState({loading:!0,error:!1}),[4,this.createTweetEmbed(r)]):[3,2];case 1:n=o.sent(),this.stores.store.setState({loading:!1,error:!Boolean(n)}),o.label=2;case 2:return[2]}})})},t.prototype.createTweetEmbed=function(e){return i(this,void 0,void 0,function(){return l(this,function(r){return[2,window.twttr.widgets.createTweetEmbed(e,this.el,t.tweetOpts)]})})},t.prototype.getStyle=function(){var e=this.props.fullScreen,t=!this.stores.store.state.error&&!this.stores.store.state.loading,r={width:e?520:"100%",minWidth:"100%",pointerEvents:this.isDragging.state?"none":"auto"};return t&&(this.props.fullScreen?r.margin="-10px auto":r.margin="-10px 0"),r},t.tweetOpts={dnt:!0,lang:"en",width:"100%"},t.stores={store:p.default},t.loadingStyle={userSelect:"none",borderRadius:3,border:"1px solid #dddddd",fontSize:14,width:"100%",padding:"6px 10px"},t}(u.default);var v={render:function(e){var t=e.source,r=e.handleEmbedComp;return s.createElement(g,{source:t,handleEmbedComp:r,fullScreen:!1})},renderFullScreen:function(e){var t=e.source,r=e.handleEmbedComp;return s.createElement(g,{source:t,handleEmbedComp:r,fullScreen:!0})},resizable:!1,embedGhost:!0,hideActions:!0};t.default=v},"8ssR":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t}(r("LEzx").default);t.default=a},"8t63":function(e,t,r){"use strict";var n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("wldR"),u=r("wpmu"),c=r("Oy36"),d=r("OxuQ"),p=r("7Q97"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderComponent=function(){var e=u.default.createChildStore(this.props.parentStore,this.props.blockId);return this.props.shouldWrap?l.createElement("div",{style:this.getStyle()},this.renderPageIcon(),l.createElement(d.default,{store:e,underline:!0,shouldWrap:!0})):l.createElement("div",{style:this.getStyle()},this.renderPageIcon(),l.createElement(d.default,{store:e,underline:!0}))},t.prototype.renderPageIcon=function(){var e=u.default.createChildStore(this.props.parentStore,this.props.blockId);return l.createElement(c.default,{disabled:!0,icon:e.getIcon(),size:t.styles[this.props.format].pageIconSize,isEmptyPage:e.isEmptyPage(),style:i({flexShrink:0,marginRight:4,justifyContent:"flex-start"},this.props.shouldWrap&&{display:"inline-block",verticalAlign:"text-top",marginBottom:-1})})},t.prototype.getStyle=function(){var e=this.props,r=e.format,n=e.shouldShrink,o=e.shouldWrap,a=e.isSingle,i=t.styles[r].margin,l=t.styles[r],s=l.height,u=l.fontSize;return o?{display:"inline",lineHeight:1.5,borderRadius:3,fontSize:u,minWidth:n?0:"auto",margin:a?0:i}:{display:"flex",alignItems:"center",lineHeight:1.2,height:s,borderRadius:3,fontSize:u,minWidth:n?0:"auto",margin:a?0:i}},t.Format=p.TokenFormat,t.styles=((o={})[p.TokenFormat.ExtraSmall]={height:14,fontSize:12,margin:"0 4px 0 0",pageIconSize:16},o[p.TokenFormat.Small]={height:18,fontSize:12,margin:"0 6px 6px 0",pageIconSize:20},o[p.TokenFormat.Medium]={height:18,fontSize:14,margin:"0 12px 6px 0",pageIconSize:20},o[p.TokenFormat.Inline]={height:18,fontSize:14,margin:"0 12px 0 0",pageIconSize:20},o[p.TokenFormat.Large]={height:24,fontSize:16,margin:"0 8px 8px 0",pageIconSize:24},o),t}(s.default);t.default=f},"922z":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g90h");t.isValidRecordRequest=function(e){return n.isUUIDWithDashes(e.id)||"temporary_password"===e.table}},"97Dj":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("njgS"),s=r("t+pW"),u=r("yCCI"),c=r("XDBA"),d=r("y6Dp"),p=r("WgIs"),f=r("2Y+N"),h=r("SR/M"),m=r("T4gQ"),y=r("gbGO"),g=r("dXb3"),v=r("r8oj"),b=r("F9et"),w=r("LeVO"),S=r("zmp8"),_=r("KTXS"),k=r("qqdV"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRenameCurrentView=function(e){t.stores.store.setState(a({},t.stores.store.state,{name:e.target.value}))},t.handleAccept=function(){var e=t.props,r=e.collectionViewBlockStore,n=e.onAccept,o=e.schema,a=e.currentViewValue,i=e.currentFormat,l=t.stores.store.state,s=l.name,u=l.viewType;n(c.getCreateViewUpdate({collectionViewBlockId:r.id,schema:o,currentViewValue:a,currentFormat:i,name:s,viewType:u})),d.trackCreateView({view_type:u})},t}return o(t,e),t.prototype.renderViewTypeMenuItem=function(e,t){var r=this;return i.createElement(w.default,{key:l.collectionViewTypeDisplayNameMap[t],placement:w.default.Placement.Right,renderTooltip:function(){return i.createElement("div",{style:{width:300,marginTop:4,marginBottom:4}},i.createElement("div",{style:{width:"100%",height:200,borderRadius:3,backgroundImage:"url("+l.collectionViewTypeTooltipPhotoMap[t]+")",backgroundSize:"cover",marginBottom:6}}),i.createElement("div",{style:{whiteSpace:"normal",lineHeight:1.4}},l.collectionViewTypeCaptionMap[t]))},render:function(n){return i.createElement(h.default,a({title:l.collectionViewTypeDisplayNameMap[t],caption:l.collectionViewTypeCaptionMap[t],icon:l.collectionViewTypeIconMap[t]({width:v.default.isMobile?16:14,fill:r.theme.regularIconColor}),checkState:r.stores.store.state.viewType===t,shouldWrapCaption:!0},e,n))}})},t.prototype.getMenuListSections=function(){var e=this,t=[{key:"view type section",render:function(e){return i.createElement(f.default,a({},e))},items:l.collectionViewTypes.map(function(t){return{key:t,render:function(r){return e.renderViewTypeMenuItem(r,t)},action:function(){e.stores.store.setState(a({},e.stores.store.state,{viewType:t}))}}})}];return v.default.isMobile||t.push({key:"create section",render:function(e){return i.createElement(f.default,a({},e,{isSubmitButton:!0}))},items:[{key:"create",render:function(e){return i.createElement(m.default,a({title:"Create",fullWidth:!0},e))},action:this.handleAccept}]}),t},t.prototype.renderComponent=function(){var e=this;return i.createElement(b.default,{capture:!v.default.isMobile,render:function(t){var r;return r=v.default.isMobile?a({menuType:y.default.MenuType.Modal,title:"Create View",left:"Cancel",onClickLeft:e.props.onCancel,right:i.createElement("div",{style:{color:S.default.blue}},"Create"),onClickRight:e.handleAccept},t):a({menuType:y.default.MenuType.Popup,width:280,footer:e.renderHelpButtonMenuItem()},t),i.createElement(y.default,a({},r),i.createElement(f.default,{isInput:!0},i.createElement(g.default,{value:e.stores.store.state.name,onChange:e.handleRenameCurrentView,focus:!0,focusAfterAnimation:!0,placeholder:"View Name",onSubmit:e.handleAccept})),i.createElement(p.default,{sections:e.getMenuListSections(),initialFocus:void 0,disableKeyboard:!0}),v.default.isMobile&&e.renderHelpButtonMenuItem())}})},t.prototype.renderHelpButtonMenuItem=function(){return i.createElement(f.default,{topBorder:!0,disableDesktopPadding:!0},i.createElement(_.default,{title:"Learn how to use database views",href:k.guides.databaseView,analyticsFrom:"collection_create_view"}))},t.stores={store:u.default},t}(s.default);t.default=C},"97xd":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("2gm8"),u=r("IdSf"),c=r("zmp8"),d=r("5Nka"),p=r("qqdV"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,{episode:"01",interviewee:"Andy Hertzfeld",subtitle:"Architect of the original Macintosh",portraitImg:d.default.front.toolsAndCraft.andy.andyIllustrationPng,analyticsName:"tools-and-craft-01-andy-hertzfeld",intro:i.createElement("div",null,i.createElement("p",null,"Welcome to the first episode of ",i.createElement("i",null,"Tools & Craft"),"! My name is Devon, and I spoke with Andy Hertzfeld, a member of the team that built the original Macintosh."),i.createElement("p",null,"I've always been fascinated by the process of creating new tools and interfaces, especially those that amplify our thought and communication. We’ve all seen the legendary Apple keynotes and how personal computing has transformed the way we live and work, but what I was really interested to learn from Andy was what it was like to shape that vision from scratch, what it was like to work as an engineer when most people didn’t even really understand what a computer was, when the frontier of what it could become was wide open."))},i.createElement("div",{style:{position:"relative",paddingBottom:"72%",width:"100vw",height:0}},i.createElement("iframe",{src:"https://www.youtube.com/embed/RLF7yfXFmUk?rel=0&amp;showinfo=0",frameBorder:"0",allowFullScreen:!0,style:{position:"absolute",width:"100%",height:"100%"}})),i.createElement("div",{style:{marginTop:36,display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"100%"}},i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"ANDY:")," You're not really doing something very revolutionary if you're not running into some dead ends. Yeah, things could work out differently. If I started the same thing again, it might turn out different from the paths I've gone down.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," My name is Devon, and I'm a software engineer. Today, we’re going to talk to Andy Hertzfeld, a member of the team that built the original Macintosh."),i.createElement("p",{style:s.default.pStyle},"The Mac transformed the way we interact with computers. It was the first successful PC with a mouse and graphical interface, and its 1984 unveiling set the standard for personal computing ever since.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"... there was no commercial market at all. It wasn\'t even well understood that anyone would pay for computer software."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"ANDY:")," You don't have a clear idea of what it's going to be when you start, you have an inkling and then, each step tells you what the next step is but you don't know what the next step is until you've gotten to a certain point.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," We’ve all seen the legendary Apple keynotes and how computers have transformed the way we live and work, but what I was really interested to learn from Andy was what it was like to shape that vision from scratch.")),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.andy.andy05Jpg,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionStyle},"The original 1984 Apple Macintosh computer architected by Andy.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"ANDY:")," There were a few other people like that, who would just hang in the store all day Saturday to gape at the Apple II. Those people became the people who started the first user's group. I knew them because I, too, was one of the people transfixed by it at the store. One of the times I was at the store, someone handed me a little notice, \"Hey, we're starting a user's group.\""),i.createElement("p",{style:s.default.pStyle},"It was even more important actually once you had one to go meet with other people to exchange programs and hear the latest rumors."),i.createElement("p",{style:s.default.pStyle},"I was up like almost all night the day before, just polishing up whatever programs I had written that month, all to give away to the club. There was no commercial market at all. It wasn't even well understood that anyone would pay for personal computer software. It was all just totally driven by enthusiasm and then, just giving it away.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"My job was really to take the brilliant work that Bill Atkinson did for the $10,000 computer and try to get that to fly in a $2,000 computer."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," The Apple II enchanted a generation of hackers. In 1977, Byte Magazine wrote that it was \"the first product to fully qualify as the 'appliance computer', a completed system which is purchased off the retail shelf, taken home, plugged in and used\"."),i.createElement("p",{style:s.default.pStyle},"A year later, Apple began work on the Lisa. The team introduced a new paradigm based on ideas from XEROX Parc: the mouse-driven graphical interface.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"ANDY:")," The problem with the Lisa was, it was going to be very expensive compared to the Apple II. It ended up costing $10,000 originally and that's in $1983 so that would be more like $40-50,000. Today, that's not a computer for the masses. Whereas, we were really inspired by the Apple II, which was affordable to an individual.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," The Lisa was lauded for its innovative design, but it was a commercial failure. Steve Jobs was kicked off of the Lisa and onto a smaller project: the Macintosh.")),i.createElement("div",{style:s.default.figureGroupStyle},i.createElement("figure",{style:s.default.getFigureInGroupStyle()},i.createElement("img",{style:s.default.getFigureImgStyle(),src:d.default.front.toolsAndCraft.andy.andy03Jpg}),i.createElement("caption",{style:s.default.figureCaptionStyle},"Andy and his Mac.")),i.createElement("figure",{style:s.default.getFigureInGroupStyle()},i.createElement("img",{style:s.default.getFigureImgStyle(),src:d.default.front.toolsAndCraft.andy.andy09Jpg}),i.createElement("caption",{style:s.default.figureCaptionStyle},"A wire-wrapped prototype of the original Macintosh."))),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"ANDY:")," The Macintosh was a marriage between the Apple II on one hand and the Lisa on the other hand."),i.createElement("p",{style:s.default.pStyle},"There was already a much more well-funded and had a lot more management attention project called the Lisa that had dozens of people working on it."),i.createElement("p",{style:s.default.pStyle},"My job was really to take the brilliant work that Bill Atkinson did for the $10,000 computer and try to get that to fly in a $2,000 computer"),i.createElement("p",{style:s.default.pStyle},"The Macintosh was taking the accessibility and user interface of the Lisa and the price and the hacker spirit of the Apple II and mushing them together"),i.createElement("p",{style:s.default.pStyle},"Well, we had the Lisa which started two years before us. That was really a lot of the invention was worked out there and you could say the Macintosh was the people's Lisa. Just this very, very clear goal of take the Lisa, $10,000 computer, and make it into a $1,500 computer. That was the central core. But then, of course, there's lots of different ways to do that. So, which features are must-haves? Which features are nice-to-haves? And just a consensus develops as we grind away at it day after day, week after week.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"The Lisa used, more or less, industry-standard techniques, whereas, Burrell Smith, the designer of the Macintosh was inspired by Woz and used crazy tricks all over the place."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"ANDY:"),"The Lisa software was written mostly in a high-level language, Pascal, at the time. We got rid of the Pascal because you could make things three times more efficient if you hand code them in assembly language. The other thing is the hardware design of the Macintosh was orders of magnitude more clever than the Lisa. The Lisa used, more or less, industry-standard techniques, whereas, Burrell Smith, the designer of the Macintosh was inspired by Woz and used crazy tricks all over the place."),i.createElement("p",{style:s.default.pStyle},"Lisa didn't have that Apple II magic feeling about it. It was done by a large team with a more formal process. It wasn't really a hacker's machine."),i.createElement("p",{style:s.default.pStyle},"The central thing though, is Lisa wasn't really viewed to be a platform for third parties. The concept with Lisa was Apple would write all the applications itself. Maybe eventually have third parties write software, but at least for the initial launch of Lisa, seven applications, all developed by the Lisa team."),i.createElement("p",{style:s.default.pStyle},"Because of our experience with the Apple II where third parties people who didn't work at Apple did some of the coolest stuff for it, we wanted that for the Mac. So, from the very beginning, we conceived the Macintosh as an open software platform and we invested a fair bit of effort in recruiting third parties and supporting them. That was a fundamental difference between Mac and Lisa.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"The Lisa was more like a product from most companies, the Macintosh just had all this love poured into it. And that was a pretty big difference."'),i.createElement("div",{style:s.default.figureGroupStyle},i.createElement("figure",{style:s.default.getFigureInGroupStyle()},i.createElement("img",{style:s.default.getFigureImgStyle(),src:d.default.front.toolsAndCraft.andy.andy01Jpg}),i.createElement("caption",{style:s.default.figureCaptionStyle},"A corner of Andy’s house.")),i.createElement("figure",{style:s.default.getFigureInGroupStyle()},i.createElement("img",{style:s.default.getFigureImgStyle(),src:d.default.front.toolsAndCraft.andy.andy11Jpg}),i.createElement("caption",{style:s.default.figureCaptionStyle},"A corner of Andy’s house #2."))),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:"),' Former Wired editor Leander Kahney said, “The Lisa was doomed because it was basically a prototype — an overpriced, underpowered cobbled-together ramshackle Mac. Lisa taught the Mac team they’d need to articulate a clear purpose for the Mac."')),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"ANDY:")," The Lisa was more like a product from most companies, the Macintosh just had all this love poured into it. And that was a pretty big difference.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," The story that is usually told about influential creators is that they had a predestined vision. But from talking to Andy, it's clear that it felt very different from the inside. The team didn't know what the Macintosh would become. Rather, obsession and excitement to see where they'd end up drove them to expand the boundaries of what was possible.")),i.createElement("div",{style:s.default.getQuoteStyle()},"\"We figured, in a few years we'd make something a lot better. We didn't realize the architecture we were putting in place could last five years, let alone 10, 20, 30 years.\""),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"ANDY:")," It was really development through prototyping. We didn't really trust ideas on paper."),i.createElement("p",{style:s.default.pStyle},"That was our philosophy was really incremental development. As I was saying before, each step tells you the next step to do. You would call that an agile programming style in today's parlance, although, that was decades before that terminology was created."),i.createElement("p",{style:s.default.pStyle},"What we didn't know with the Macintosh and what I wish we did, we could have done a better job, is we didn't have enough sense of it as a durable platform. We thought we were making an exquisite product, the best possible thing at the time but then, we figured, in a few years we'd make something a lot better, completely different. We didn't realize the architecture we were putting in place could last five years, let alone 10, 20, 30 years."),i.createElement("p",{style:s.default.pStyle},"We thought that just as if we love the Apple II but we were replacing the Apple II with the Macintosh, it came out seven years later. We were trying to do it at about five years later. We thought something would come along again in five years and just totally obsolete the Macintosh but that was a misunderstanding. That's not the way it worked out. What we would have done differently was instead of maybe optimizing like we were to the particular hardware, we would have made it a stronger foundationally, more industrial strength underpinnings."),i.createElement("p",{style:s.default.pStyle},"We were creating a platform but we weren't really aware of it at the time.")),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.andy.andy08Jpg,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionStyle},"Andy's bookshelf.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," The most important ideas for making the Macintosh a delight came from close attention to detail rather than some overarching vision.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"ANDY:")," I don't know about insights but lots of little discoveries we made to improve the software."),i.createElement("p",{style:s.default.pStyle},"One example is what's called mouse scaling. Typically, the naive way to implement the mouse is every little notch that you move, would move one pixel. If you really do things that way, it's very sluggish to move the cursor to get from the top to the bottom so we eventually stumbled upon the idea of putting in an acceleration factor."),i.createElement("p",{style:s.default.pStyle},"The more quickly you move it between the pixels, the more pixels it goes, that's called mouse scaling and you can even try that today on your Mac— All graphic based systems use that these days and it's really what makes it work, but we didn't have that for the first year. We eventually stumbled on it and we did it— There's controls in the Mac today in the mouse control panel. You can turn off the mouse scaling or adjust it so you could see how frustrating it used to be before we came up with that."),i.createElement("p",{style:s.default.pStyle},"I think the essential way to do anything great, you have to have some incremental development philosophy because you're just going to be wrong with your grand design that you don't iterate on.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"... a [pocket] communicator: the idea was little graphical postcards would fall out of the sky into your pocket... Sometimes I say we were working on the iPhone of the 90s."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:"),' By the 1990s, Andy was asking the question, "Where do we go after the personal computer?" He and several colleagues from Apple cofounded a company called General Magic, where they developed a new kind of handheld device.')),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"ANDY:")," Well, where we were right on was just the concept of a pocket communicator. It's obvious looking around the world today, that's what people want and need. Just this idea that communications was as important, or more important, than computation. In 1990, that was not a mainstream idea. We were like laser-focused on making a communicator. The idea was little postcards, little graphical postcards would fall out of the sky into your pocket. That was the founding vision of General Magic. That's really right on today. Sometimes I say we were working on the iPhone of the '90s.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:"),' Cofounder Bill Atkinson described their goal as "defining what is a personal communicator, so as to set a sort of minimum expectation in the industry, just like the Macintosh upped the expectation of what a personal computer could be." He said, "What happens if I ask you ten years from now to stop using your personal communicator? The idea is that you will say, \'This is core to how I live. It\'s like my glasses and my watch and my wallet.\' Not using it would seem as disempowering as not using the telephone does today."'),i.createElement("p",{style:s.default.pStyle},"While General Magic had the right idea and a brilliant team, they didn't have the right timing or execution.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"ANDY:")," So, the parts that were a little bit off, some of them were just General Magic blunders like not really choosing the best processor architecture. I mean, again, clearly, the ARM chip was the way to go for the portable things, but we weren't using the ARM chip."),i.createElement("p",{style:s.default.pStyle},"The personal computer industry was mainly focused on performance and doubling the performance every 18 months, but that doesn't hold for things in your pocket. It's just as important for it to last a long time without a charge.")),i.createElement("div",{style:s.default.figureGroupStyle},i.createElement("figure",{style:s.default.getFigureInGroupStyle()},i.createElement("img",{style:s.default.getFigureImgStyle(),src:d.default.front.toolsAndCraft.andy.andy04Jpg}),i.createElement("caption",{style:s.default.figureCaptionStyle},"Andy Herztfeld.")),i.createElement("figure",{style:s.default.getFigureInGroupStyle()},i.createElement("img",{style:s.default.getFigureImgStyle(),src:d.default.front.toolsAndCraft.andy.andy02Jpg}),i.createElement("caption",{style:s.default.figureCaptionStyle},"Andy’s bookshelf."))),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," The team wasn't always right about conceptual, strategic decisions either, but they were always ambitious.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"ANDY:")," We hired a guy named Jim White who was a very accomplished communication architect who in the early '70s was considered the inventor of RPC, Remote Procedure Call architecture for distribute systems. He had this idea of the network being programmable and intelligent. The idea was you can make a programming language that all the servers in the network ran so you can program the servers in order to do arbitrary things."),i.createElement("p",{style:s.default.pStyle},"That was really a breakthrough idea. At least potentially a breakthrough idea, because communication services, especially at the time, were all-- this was way pre-web, but they were hard to change and sluggish and maintained by the largest companies. It was like pulling teeth to get a new feature in. If you wanted to add a simple feature, it might take a year to develop it because of the conservative nature of the telecommunications companies. Where we had the insight if you just made the basic architecture of the server able to accept our arbitrary programs, you can unleash innovation like crazy."),i.createElement("p",{style:s.default.pStyle},"So, we invented this new programming language called Telescript where programs can travel in the network between servers, gathering up what they needed and then coming back to the device. Thought that was a pretty compelling vision, but history proved us wrong. You didn't really need to do that, just the remote procedure call type paradigm was good enough, which is really what the web is based on. You don't inject code into the web to do your work for you and come back to you, you just ask a server with an HTTP request."),i.createElement("p",{style:s.default.pStyle},"That was an example where we invested a huge amount of our development resources in creating this new kind of communication infrastructure for intelligent networks, and the world has— that we didn't get it established and here at 25 years later, it's not around. So, we must have been wrong.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"ANDY:")," It's kind of a sculptor way of working or craftsman where if you tried to spec out the final thing, it will end up not right."),i.createElement("p",{style:s.default.pStyle},"Well, that's the way everything is developed. That's the way we developed the original Macintosh, but every program I've ever worked on, you don't have a clear idea of what it's going to be when you start, you have an inkling and then, each step tells you what the next step is but you don't know what the next step is until you've gotten to a certain point."),i.createElement("p",{style:s.default.pStyle},"You got to just try different things and you see what works, what doesn't work and almost always, each step I take tells me what the next step should be."),i.createElement("p",{style:s.default.pStyle},"I think the essential way to do anything great, you have to have some incremental development philosophy because you're just going to be wrong with your grand design that you don't iterate on.")),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.andy.andy07Jpg,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionStyle},"The original Macintosh business plan.")),i.createElement("div",{style:s.default.getQuoteStyle()},"“You're not really doing something very revolutionary if you're not running into some dead ends.”"),i.createElement("div",{style:a({},s.default.pGroupStyle,{color:c.default.FrontBaseGrayTextColor,paddingBottom:48,borderBottom:"1px solid "+c.default.uiLightBorder})},"To learn more about Andy and the early days of Macintosh, you can visit his website"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://www.folklore.org/",style:t.linkStyle},"folklore.org"),", or read his book"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://www.amazon.com/Revolution-Valley-Insanely-Great-Story/dp/1449316247",style:t.linkStyle},i.createElement("i",null,"Revolution in The Valley")),".",i.createElement("div",{style:{marginTop:24}},i.createElement(u.default,{inline:!0,href:p.toolsAndCraft,style:s.default.headerActionLinkStyle},"← View other Tools & Crafts episodes")))))},t.linkStyle={color:c.default.red,textDecoration:"underline",borderRadius:3},t}(l.default);t.default=f},"9G5n":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("q1tI"),c=r("r8oj"),d=r("wpmu"),p=r("BLi8"),f=r("CSYU"),h=r("t+pW"),m=r("mF3+"),y=r("Pl3d"),g=r("bkwR"),v=r("cYwG"),b=r("wlCD"),w=r("ttM1"),S=r("FcJC"),_=r("gbGO"),k=r("y6Dp"),C=r("dXb3"),E=r("R+Q+"),P=r("fCO4"),x=r("2Y+N"),T=r("zTdN"),O=r("WgIs"),M=r("sbdd"),I=r("LeVO"),A=r("MBf9"),D=r("/0g+"),L=r("H4VD"),R=r("Wvka"),B=r("A9TN"),j=r("4HCU"),V=r("QcDD"),F=r("vJXr"),N=r("9vSW"),U=r("d9nj"),W=r("KTXS"),z=r("qqdV"),H=r("7KuZ"),q=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderTrashPages=function(e,t){var n=t?t.results:[],o=V.default.state.currentBlockStore;if(o){var i=n.map(function(e){return d.default.createChildStore(o,e)}).filter(function(e){return e.getValue()&&!p.default.state.excludePages.has(e.id)}).map(function(e){return{key:e.id,action:function(t){if(t.event.metaKey){var r=R.default({baseUrl:B.default.baseURL,pageId:e.id});L.navigateToExternalURL({url:r})}else L.navigateToBlock({store:e}),N.default.setState(a({},N.default.state,{open:!1}));c.default.isMobile&&S.close()},render:function(t){return s.createElement(M.default,a({},t,{dontShrinkRight:!0,store:e,right:s.createElement("div",{style:{display:"flex"}},s.createElement(I.default,{placement:I.default.Placement.Bottom,renderTooltip:function(){return"Restore"},render:function(t){return s.createElement(U.default,a({isGray:!0,onClick:function(){return r.handleRestoreClick(e)}},t),m.default.undo({width:18,height:18}))}}),s.createElement(I.default,{placement:I.default.Placement.Bottom,renderTooltip:function(){return"Delete Permanently"},render:function(t){return s.createElement(U.default,a({isGray:!0,onClick:function(){return r.handleDeleteClick(e)}},t),m.default.trash({width:18,height:18}))}}))}))}}});return 0===i.length?s.createElement(x.default,null,c.default.isMobile?s.createElement(T.default,{title:"No matches found."}):s.createElement("div",{style:{fontSize:14,color:r.theme.mediumTextColor,textAlign:"center"}},"No matches found.")):s.createElement(u.Fragment,null,s.createElement(O.default,{initialFocus:void 0,sections:[{key:0,items:i,render:function(e){return s.createElement(x.default,a({},e))}}]}),s.createElement(w.default,{show:r.stores.requestStore.state.loading,showDelay:500,showHold:200,render:function(e){if(e)return s.createElement("div",{style:{height:44,display:"flex",flex:1,alignItems:"center",justifyContent:"center"}},s.createElement(b.default,null))}}),s.createElement(v.default,{onChange:r.handleScrollOffsetChange}))}},r.handleSwipeLeft=function(){var e=t.tabs.indexOf(p.default.state.currentTab)+1,n=t.tabs[e];void 0!==n&&r.changeTab(n)},r.handleSwipeRight=function(){var e=t.tabs.indexOf(p.default.state.currentTab)-1,n=t.tabs[e];void 0!==n&&r.changeTab(n)},r.handleTabChange=function(e){var n=t.tabs[e];r.changeTab(n)},r.handleRestoreClick=function(e){A.createAndCommit(function(t){D.restoreBlocks({blocks:[e],transaction:t})})},r.handleDeleteClick=function(e){D.permanentlyDeleteBlocks({blocks:[e]})},r.handleSearchInputChange=function(e){p.default.setState(a({},p.default.state,{filter:e.target.value,limit:p.default.startLimit}))},r.handleClose=function(){N.default.setState(a({},N.default.state,{open:!1}))},r.handleScrollOffsetChange=function(e){var t=r.stores.requestStore.state,n=t.ready,o=t.loading,i=t.result;e<=p.default.loadMoreOffset&&i&&n&&!o&&!i.endOfResultsReached&&p.default.setState(a({},p.default.state,{limit:p.default.state.limit+p.default.limitIncrement}))},r.performSearchRequest=function(e){return i(r,void 0,void 0,function(){var e,t,r,n,o,a,i,s,u;return l(this,function(l){switch(l.label){case 0:if(e=V.default.state,t=e.currentSpaceStore,r=e.currentBlockStore,!t||!r)return[2];if(n=p.default.state,o=n.limit,a=n.filter,"in_current_page"===n.currentTab)if(r.isCollectionView()){if(!(s=r.getValue())||!s.collection_id)return[2];i=s.collection_id}else i=r.id;return[4,g.searchTrashPages({query:a,limit:o,ancestorId:i,spaceId:t.id})];case 1:if("failed"===(u=l.sent()).type)throw u.error;return[2,u.data]}})})},r}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),p.default.setState(a({},p.default.state,{filter:"",limit:p.default.startLimit,excludePages:new Set}))},t.prototype.renderComponent=function(){var e,t=this;return e=c.default.isMobile?{menuType:_.default.MenuType.Modal,title:"Trash",left:this.renderMobileHelpButton(),right:"Done",onClickRight:this.handleClose,header:this.renderHeader()}:{menuType:_.default.MenuType.Popup,height:"50vh",width:414,header:this.renderHeader(),footer:this.renderFooter()},s.createElement(P.default,{onSwipeLeft:this.handleSwipeLeft,onSwipeRight:this.handleSwipeRight,render:function(r){return s.createElement(_.default,a({},e,r),t.renderPages())}})},t.prototype.renderHeader=function(){var e=this,r=p.default.state.currentTab,n=t.tabs.indexOf(r);return s.createElement(u.Fragment,null,s.createElement(E.default,{tabs:["All Pages","In Current Page"],selectedIndex:n,onChange:this.handleTabChange}),s.createElement("div",{style:{margin:c.default.isMobile?0:"10px 0"}},s.createElement(C.default,{left:s.createElement(w.default,{show:this.stores.requestStore.state.loading,showDelay:500,showHold:200,render:function(t){return t?s.createElement(b.default,{style:e.getSearchIconStyle()}):m.default.searchThick(e.getSearchIconStyle())}}),style:a({},c.default.isAndroid&&{borderBottom:"none"}),showClearButton:!0,placeholder:"Filter by page title...",focus:!c.default.isMobile||void 0,value:p.default.state.filter,onChange:this.handleSearchInputChange})))},t.prototype.renderFooter=function(){return s.createElement(x.default,{topBorder:!0,disableDesktopPadding:!0},s.createElement(W.default,{title:"Learn about deleting and restoring pages",href:z.guides.trash,analyticsFrom:"trash"}))},t.prototype.renderMobileHelpButton=function(){return s.createElement(H.default,{href:z.guides.trash,analyticsFrom:"trash"})},t.prototype.renderPages=function(){if(!F.default.state.online)return s.createElement(x.default,null,s.createElement(T.default,{title:"Please go online to view the Trash."}));var e=p.default.state,t=e.filter+":"+e.limit+e.currentTab;return s.createElement(y.default,{requestStore:this.stores.requestStore,request:t,performRequest:this.performSearchRequest,render:this.renderTrashPages,debounce:j.defaultSearchDebounce})},t.prototype.changeTab=function(e){p.default.setState(a({},p.default.state,{currentTab:e,limit:p.default.startLimit})),this.stores.requestStore.setState(a({},this.stores.requestStore.state,{result:null})),k.trackToggleTrashTab({tab:e})},t.prototype.getSearchIconStyle=function(){return{width:14,height:14,marginRight:6,flexGrow:0,flexShrink:0,color:this.theme.regularIconColor}},t.tabs=["all_pages","in_current_page"],t.stores={requestStore:f.default},t}(h.default);t.default=q},"9GIr":function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("wF3w"),a=function(){function e(){this.id=o.default(),this.committed=!1,this.isLocal=!1,this.operations=[],this.stores=[],this.initialRecordMap={},this.invertedOperations=[],this.preSubmitActions=[],this.postSubmitActions=[],this.postSubmitCallbacks=[]}return e.prototype.done=function(e){var t,r;try{for(var o=n(this.postSubmitCallbacks),a=o.next();!a.done;a=o.next()){(0,a.value)(e)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},e.prototype.awaitDone=function(){var e=this;return new Promise(function(t,r){e.postSubmitCallbacks.push(function(e){e?r(e):t()})})},e}();t.Transaction=a},"9M6r":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("mF3+"),c=r("frzs"),d=r("r8oj"),p=r("zmp8"),f=r("62KP"),h=r("1Imc"),m=r("t+pW"),y=r("pqiZ"),g=r("yNyh"),v=r("MYfK"),b=r("RIy5"),w=r("A9TN"),S=r("4VgC"),_=r("IYZQ"),k=r("7M94"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleLoginClick=function(){return i(t,void 0,void 0,function(){var e,t,r,n;return l(this,function(o){switch(o.label){case 0:return e=this.stores.loginStore.state,t=e.sentPasswordState,r=e.password,t&&r?[4,c.loginWithEmail({state:t,password:r})]:[3,2];case 1:return(n=o.sent())&&this.stores.loginStore.setState(a({},this.stores.loginStore.state,{password:"",alert:n.message})),[3,3];case 2:this.stores.loginStore.setState(a({},this.stores.loginStore.state,{alert:void 0})),c.sendTemporaryPassword({store:this.stores.loginStore}),o.label=3;case 3:return[2]}})})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=this.stores.loginStore.state,n=r.email,o=r.sentPasswordState,i=r.showEmail,l=r.showPermissions;return s.createElement("div",{className:k.login,style:a({},t.wrapStyle,this.props.style)},l&&s.createElement(b.default,{store:this.stores.loginPermissionsStore}),this.renderLoginWithGoogleButton(),!i&&!w.default.isAdminMode&&s.createElement("div",{style:t.captionStyle},"You can also"," ",s.createElement(_.default,{onClick:function(){e.stores.loginStore.setState(a({},e.stores.loginStore.state,{showEmail:!0}))}},"continue with email")),i&&s.createElement("div",{style:{width:"100%"}},s.createElement(y.default,{size:42}),s.createElement(v.default,null,this.props.emailLabel),s.createElement(g.default,{value:n,type:"email",format:g.default.Format.Large,style:this.getInputStyle(),placeholder:"Enter your email address...",onSubmit:this.handleLoginClick,autoComplete:"off",showClearButton:!0,autoFocus:this.props.emailInputAutoFocus,onChange:function(t){""===t.target.value?e.stores.loginStore.setState(a({},e.stores.loginStore.state,{email:"",password:"",alert:void 0,sentPasswordState:void 0})):e.stores.loginStore.state.sentPasswordState?e.stores.loginStore.setState(a({},e.stores.loginStore.state,{email:t.target.value,password:"",alert:void 0,sentPasswordState:void 0})):e.stores.loginStore.setState(a({},e.stores.loginStore.state,{email:t.target.value}))}}),o&&this.renderSentPassword(),s.createElement(S.default,{style:{marginTop:6,marginBottom:12},isFullWidth:!0,onClick:this.handleLoginClick},o?"Continue with Login Code":"Continue with Email")),this.renderAlert())},t.prototype.renderLoginWithGoogleButton=function(){var e=this;return s.createElement(S.default,{isFullWidth:!0,onClick:function(t){c.requestLoginWithGoogle({store:e.stores.loginStore,permissionsStore:e.stores.loginPermissionsStore})}},u.default.googleLogo({fill:p.default.red,width:14,height:14,marginRight:6}),"Continue with Google")},t.prototype.renderSentPassword=function(){var e=this,t=this.stores.loginStore.state.password;return s.createElement("div",null,s.createElement("div",{style:a({fontSize:14,textAlign:"center",marginTop:8,marginBottom:8,width:"100%"},this.props.emailPasswordSentPromptStyle)},"We just sent you a temporary login code.",s.createElement("br",null),"Please check your inbox."),s.createElement(g.default,{value:t,style:this.getInputStyle(),format:g.default.Format.Large,placeholder:this.props.emailPasscodePlaceholder,onSubmit:this.handleLoginClick,autoFocus:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:function(t){e.stores.loginStore.setState(a({},e.stores.loginStore.state,{password:t.target.value.trim()}))}}))},t.prototype.renderAlert=function(){var e=this.stores.loginStore.state.alert;return s.createElement("div",{style:{fontSize:14,color:p.default.redWithAlpha(1),textAlign:"center",display:e?"block":"none",width:"100%"}},e)},t.prototype.getInputStyle=function(){return a({marginTop:4,marginBottom:4,background:p.default.white,boxShadow:this.theme.inputBoxShadow},d.default.isMobile&&{lineHeight:"30px"})},t.stores={loginStore:h.default,loginPermissionsStore:f.default},t.wrapStyle={width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},t.captionStyle={color:p.default.FrontGrayTextColor,fontSize:14,marginTop:12},t}(m.default);t.default=C},"9Mjy":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("wldR"),i=r("bK/N"),l=r("oqYu"),s=r("6Ydq"),u=r("r8oj"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMountOrUpdate=function(){if(u.default.isElectron){var e={};s.setClientLogglyEnvironmentData(e),i.setLogglyData(e)}if(u.default.isReactNative){e={};s.setClientLogglyEnvironmentData(e),l.setLogglyData(e)}},t}(a.default);t.default=c},"9OwC":function(e,t,r){"use strict";var n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r("LvDl"),s=r("pxbK"),u=r("oRaq"),c=r("nFzZ"),d=r("D2XV"),p=r("O+wX");function f(e,t){return{title:h[e],entries:t}}!function(e){e[e.property=0]="property",e[e.constant=1]="constant",e[e.operator=2]="operator",e[e.function=3]="function"}(i=t.Category||(t.Category={})),t.createCategorySection=f;var h=((n={})[i.property]="Properties",n[i.constant]="Constants",n[i.operator]="Operators",n[i.function]="Functions",n);t.createPropertyEntry=function(e){var t=e.schema[e.property];if(!t)throw new Error("Property not found.");var r=t.name,n=u.toFormulaValue(o({},e,{depth:0}));return{name:r,category:i.property,description:"Returns the "+r+" property for each entry.",resultType:u.getFormulaPropertyType(t),examples:["prop("+s.escapeProperty(r)+") == "+JSON.stringify(n)]}};var m=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"];function y(e){return{resultType:e,arity:[e,e]}}function g(e){return{resultType:e,arity:[e]}}t.constants={e:{name:"e",value:Math.E,category:i.constant,description:"The base of the natural logarithm.",resultType:"number",examples:["e == 2.718281828459045"]},pi:{name:"pi",value:Math.PI,category:i.constant,description:"The ratio of a circle's circumference to its diameter.",resultType:"number",examples:["2 * pi == 6.283185307179586"]},true:{name:"true",value:!0,category:i.constant,description:"",resultType:"checkbox",examples:['true ? "yes" : "no" == "yes"']},false:{name:"false",value:!1,category:i.constant,description:"",resultType:"checkbox",examples:['false ? "yes" : "no" == "no"']}};var v=y("number"),b=y("checkbox"),w=g("number"),S=g("date"),_={resultType:"number",arity:["date"]},k=[{resultType:"checkbox",arity:["text","text"]},{resultType:"checkbox",arity:["checkbox","checkbox"]},{resultType:"checkbox",arity:["date","date"]},{resultType:"checkbox",arity:["number","number"]}];t.getOperator=function(e){if(t.operators.hasOwnProperty(e))return t.operators[e]};var C=function(e){return e.some(function(e){return"string"==typeof e})?e.map(function(e){return e||""}):e.map(function(e){return e||0})};t.operators={if:{name:"if",apply:function(e){return e[0]?e[1]:e[2]},operator:"?",category:i.operator,description:"Switches between two options based on another value.",signatures:[{resultType:"text",arity:["checkbox","text","text"]},{resultType:"number",arity:["checkbox","number","number"]},{resultType:"checkbox",arity:["checkbox","checkbox","checkbox"]},{resultType:"date",arity:["checkbox","date","date"]}],examples:["true ? 1 : -1 == 1",'if(false, "yes", "no") == "no"']},add:{name:"add",apply:function(e){var t=C(e);return t[0]+t[1]},operator:"+",category:i.operator,description:"Adds two numbers and returns their sum, or concatenates two strings.",signatures:[v,{resultType:"text",arity:["text","text"]}],examples:["3 + 4 = 7","add(1, 3) == 4",'"add" + "text" == "addtext"']},subtract:{name:"subtract",apply:function(e){var t=C(e);return t[0]-t[1]},operator:"-",category:i.operator,description:"Subtracts two numbers and returns their difference.",signatures:[v],examples:["3 - 1 == 2","subtract(4, 5) == -1"]},multiply:{name:"multiply",apply:function(e){var t=C(e);return t[0]*t[1]},operator:"*",category:i.operator,description:"Multiplies two numbers and returns their product.",signatures:[v],examples:["6 * 9 == 42","multiply(2, 10) == 20"]},divide:{name:"divide",apply:function(e){var t=C(e);return t[0]/t[1]},operator:"/",category:i.operator,description:"Divides two numbers and returns their quotient.",signatures:[v],examples:["12 / 4 == 3","divide(12, 3) == 4"]},pow:{name:"pow",apply:function(e){var t=C(e);return Math.pow(t[0],t[1])},operator:"^",category:i.operator,description:"Returns base to the exponent power, that is, baseexponent.",signatures:[v],examples:["5 ^ 3 == 125","pow(2, 6) == 64"]},mod:{name:"mod",apply:function(e){var t=C(e);return t[0]%t[1]},operator:"%",category:i.operator,description:"Divides two numbers and returns their remainder.",signatures:[v],examples:["7 % 5 == 2","mod(3, 3) == 0"]},unaryMinus:{name:"unaryMinus",apply:function(e){return-C(e)[0]},operator:"-",category:i.operator,description:"Negates a number.",signatures:[w],examples:["-1 + 2 == 1","unaryMinus(42) == -42"]},unaryPlus:{name:"unaryPlus",apply:function(e){return+C(e)[0]},operator:"+",category:i.operator,description:"Converts its argument into a number.",signatures:[w,{resultType:"number",arity:["text"]},{resultType:"number",arity:["checkbox"]}],examples:['+ "42" == 42',"unaryPlus(true) == 1"]},not:{name:"not",apply:function(e){return!e[0]},operator:"not",category:i.operator,description:"Returns the logical NOT of its argument.",signatures:[{resultType:"checkbox",arity:["checkbox"]}],examples:["not true == false","not(false) == true"]},and:{name:"and",apply:function(e){return e[0]&&e[1]},operator:"and",category:i.operator,description:"Returns the logical AND of its two arguments.",signatures:[b],examples:["true and false == false","and(true, true) == true"]},or:{name:"or",apply:function(e){return e[0]||e[1]},operator:"or",category:i.operator,description:"Returns the logical OR of its two arguments.",signatures:[b],examples:["false or true == true","or(false, false) == false"]},equal:{name:"equal",apply:function(e,t){var r=a(e,2),n=r[0],o=r[1];return d.isPersistedDate(n)&&d.isPersistedDate(o)?d.getMomentRange(n,t).start.valueOf()===d.getMomentRange(o,t).start.valueOf():n===o},operator:"==",category:i.operator,description:"Returns true if its arguments are equal, and false otherwise.",signatures:k,examples:["(3 * 5 == 15) == true","equal(false, not true) == true"]},unequal:{name:"unequal",apply:function(e,t){var r=a(e,2),n=r[0],o=r[1];return d.isPersistedDate(n)&&d.isPersistedDate(o)?d.getMomentRange(n,t).start.valueOf()!==d.getMomentRange(o,t).start.valueOf():n!==o},operator:"!=",category:i.operator,description:"Returns false if its arguments are equal, and true otherwise.",signatures:k,examples:["(6 * 9 != 42) == false","(true != not false) == false"]},larger:{name:"larger",apply:function(e,t){var r=a(e,2),n=r[0],o=r[1];return d.isPersistedDate(n)&&d.isPersistedDate(o)?d.getMomentRange(n,t).start.valueOf()>d.getMomentRange(o,t).start.valueOf():n>o},operator:">",category:i.operator,description:"Returns true of the first argument is larger than the second.",signatures:k,examples:["5 > 3 == true"]},largerEq:{name:"largerEq",apply:function(e,t){var r=a(e,2),n=r[0],o=r[1];return d.isPersistedDate(n)&&d.isPersistedDate(o)?d.getMomentRange(n,t).start.valueOf()>=d.getMomentRange(o,t).start.valueOf():n>=o},operator:">=",category:i.operator,description:"Returns true of the first argument is larger than or equal to than the second.",signatures:k,examples:["5 >= 3 == true","4 >= 4 == true"]},smaller:{name:"smaller",apply:function(e,t){var r=a(e,2),n=r[0],o=r[1];return d.isPersistedDate(n)&&d.isPersistedDate(o)?d.getMomentRange(n,t).start.valueOf()<d.getMomentRange(o,t).start.valueOf():n<o},operator:"<",category:i.operator,description:"Returns true of the first argument is smaller than the second.",signatures:k,examples:["10 < 8 == false"]},smallerEq:{name:"smallerEq",apply:function(e,t){var r=a(e,2),n=r[0],o=r[1];return d.isPersistedDate(n)&&d.isPersistedDate(o)?d.getMomentRange(n,t).start.valueOf()<=d.getMomentRange(o,t).start.valueOf():n<=o},operator:"<=",category:i.operator,description:"Returns true of the first argument is smaller than or equal to than the second.",signatures:k,examples:["10 <= 8 == false","8 <= 8 == true"]}},t.getFunction=function(e){if(t.functions.hasOwnProperty(e))return t.functions[e]},t.functions={concat:{name:"concat",apply:function(e){return e?e.join(""):void 0},category:i.function,description:"Concatenates its arguments and returns the result.",signatures:[{resultType:"text",variadic:"text"}],examples:['"dog" +"go" == "doggo"','concat("dog", "go") == "doggo"']},join:{name:"join",apply:function(e){return e?e.slice(1).join(e[0]):void 0},category:i.function,description:"Inserts the first argument between the rest and returns their concatenation.",signatures:[{resultType:"text",variadic:"text"}],examples:['join("-", "a", "b", "c") == "a-b-c"']},slice:{name:"slice",apply:function(e){return e&&e[0]?String.prototype.slice.apply(e[0],e.slice(1)):void 0},category:i.function,description:"Extracts a substring from a string from the start index (inclusively) to the end index (optional and exclusively).",signatures:[{resultType:"text",arity:["text","number"]},{resultType:"text",arity:["text","number","number"]}],examples:['slice("Hello world", 1, 5) == "ello"','slice("notion", 3) == "ion"']},length:{name:"length",apply:function(e){return e[0]?e[0].length:0},category:i.function,description:"Returns the length of a string.",signatures:[{resultType:"number",arity:["text"]}],examples:['length("Hello world") == 11']},format:{name:"format",apply:function(e,t){var r=e[0];return d.isPersistedDate(r)?p.formatPersistedDate({value:r,userTimeZone:t}):r?r.toString():void 0},category:i.function,description:"Formats its argument as a string.",signatures:[{resultType:"text",arity:["number"]},{resultType:"text",arity:["checkbox"]},{resultType:"text",arity:["date"]},{resultType:"text",arity:["text"]}],examples:['format(42) == "42"','format(true) == "true"','format(now()) == "Wed Dec 31 1969 16:00:00 GMT-0800 (PST)"']},toNumber:{name:"toNumber",apply:function(e,t){var r=e[0];return d.isPersistedDate(r)?d.getMomentRange(r,t).start.valueOf():"boolean"==typeof r?r?1:0:"string"==typeof r?parseFloat(r):"number"==typeof r?r:void 0},category:i.function,description:"Parses a number from text.",signatures:[{resultType:"number",arity:["text"]},{resultType:"number",arity:["number"]},{resultType:"number",arity:["checkbox"]},{resultType:"number",arity:["date"]}],examples:['format("42") == 42',"format(false) == 0"]},contains:{name:"contains",apply:function(e){return Boolean(e[0]&&e[0].includes(e[1]))},category:i.function,description:"Returns true if the second argument is found in the first.",signatures:[{resultType:"checkbox",arity:["text","text"]}],examples:['contains("notion", "ion") == true']},replace:{name:"replace",apply:function(e){try{var t=e[0]?e[0].toString():"";return e[1]?t.replace(new RegExp(e[1]),e[2]||""):""}catch(e){return}},category:i.function,description:"Replaces the first match of a regular expression with a new value.",signatures:[{resultType:"text",arity:["number","text","text"]},{resultType:"text",arity:["text","text","text"]},{resultType:"text",arity:["checkbox","text","text"]}],examples:['replace("1-2-3", "-", "!") == "1!2-3"']},replaceAll:{name:"replaceAll",apply:function(e){try{var t=e[0]?e[0].toString():"";return e[1]?t.replace(new RegExp(e[1],"g"),e[2]||""):""}catch(e){return}},category:i.function,description:"Replaces all matches of a regular expression with a new value.",signatures:[{resultType:"text",arity:["number","text","text"]},{resultType:"text",arity:["text","text","text"]},{resultType:"text",arity:["checkbox","text","text"]}],examples:['replaceAll("1-2-3", "-", "!") == "1!2!3"']},test:{name:"test",apply:function(e){try{var t=e[0]?e[0].toString():"";return new RegExp(e[1]).test(t)}catch(e){return}},category:i.function,description:"Tests if a string matches a regular expression.",signatures:[{resultType:"checkbox",arity:["number","text"]},{resultType:"checkbox",arity:["text","text"]},{resultType:"checkbox",arity:["checkbox","text"]}],examples:['test("1-2-3", "-") == true']},empty:{name:"empty",apply:function(e){return!Boolean(e[0])},category:i.function,description:"Tests if a value is empty.",signatures:[{resultType:"checkbox",arity:["number"]},{resultType:"checkbox",arity:["text"]},{resultType:"checkbox",arity:["checkbox"]},{resultType:"checkbox",arity:["date"]}],examples:['empty("") == true']},abs:{name:"abs",apply:function(e){return Math.abs(e[0])},category:i.function,description:"Returns the absolute value of a number.",signatures:[w],examples:["abs(-3) == 3"]},cbrt:{name:"cbrt",apply:function(e){return Math.cbrt(e[0])},category:i.function,description:"Returns the cube root of a number.",signatures:[w],examples:["cbrt(8) == 2"]},ceil:{name:"ceil",apply:function(e){return Math.ceil(e[0])},category:i.function,description:"Returns the smallest integer greater than or equal to a number.",signatures:[w],examples:["ceil(4.2) == 5"]},exp:{name:"exp",apply:function(e){return Math.exp(e[0])},category:i.function,description:"Returns E^x, where x is the argument, and E is Euler's constant (2.718…), the base of the natural logarithm.",signatures:[w],examples:["exp(1) == 2.718281828459045"]},floor:{name:"floor",apply:function(e){return Math.floor(e[0])},category:i.function,description:"Returns the largest integer less than or equal to a number.",signatures:[w],examples:["floor(2.8) == 2"]},ln:{name:"ln",apply:function(e){return Math.log(e[0])},category:i.function,description:"Returns the natural logarithm of a number.",signatures:[w],examples:["ln(e) == 1"]},log10:{name:"log10",apply:function(e){return Math.log10(e[0])},category:i.function,description:"Returns the base 10 logarithm of a number.",signatures:[w],examples:["log10(1000) == 3"]},log2:{name:"log2",apply:function(e){return Math.log2(e[0])},category:i.function,description:"Returns the base 2 logarithm of a number.",signatures:[w],examples:["log2(64) == 6"]},max:{name:"max",apply:function(e){return Math.max.apply(void 0,e)},category:i.function,description:"Returns the largest of zero or more numbers.",signatures:[{resultType:"number",variadic:"number"}],examples:["max(5, 2, 9, 3) == 9"]},min:{name:"min",apply:function(e){return Math.min.apply(void 0,e)},category:i.function,description:"Returns the smallest of zero or more numbers.",signatures:[{resultType:"number",variadic:"number"}],examples:["min(4, 1, 5, 3) == 1"]},round:{name:"round",apply:function(e){return Math.round(e[0])},category:i.function,description:"Returns the value of a number rounded to the nearest integer.",signatures:[w],examples:["round(4.4) == 4","round(4.5) == 5"]},sign:{name:"sign",apply:function(e){return Math.sign(e[0])},category:i.function,description:"Returns the sign of the x, indicating whether x is positive, negative or zero.",signatures:[w],examples:["sign(4) == 1","sign(-9) == -1","sign(0) == 0"]},sqrt:{name:"sqrt",apply:function(e){return Math.sqrt(e[0])},category:i.function,description:"Returns the positive square root of a number.",signatures:[w],examples:["sqrt(144) == 12"]},start:{name:"start",apply:function(e){var t=e[0];if(d.isPersistedDate(t))return"daterange"===t.type?{type:"date",start_date:t.start_date}:"datetimerange"===t.type?{type:"datetime",start_date:t.start_date,start_time:t.start_time,time_zone:t.time_zone}:t},category:i.function,description:"Returns the start of a date range.",signatures:[S],examples:['start(prop("Date")) == Feb 2, 1996']},end:{name:"end",apply:function(e){var t=e[0];if(d.isPersistedDate(t))return"daterange"===t.type?{type:"date",start_date:t.end_date}:"datetimerange"===t.type?{type:"datetime",start_date:t.end_date,start_time:t.end_time,time_zone:t.time_zone,reminder:t.reminder}:t},category:i.function,description:"Returns the end of a date range.",signatures:[S],examples:['end(prop("Date")) == Feb 2, 1996']},now:{name:"now",apply:function(e,t){return d.now(t)},category:i.function,description:"Returns the current date and time.",signatures:[{resultType:"date",arity:[]}],examples:["now() == Feb 2, 1996"]},timestamp:{name:"timestamp",apply:function(e,t){var r=e[0];if(d.isPersistedDate(r))return d.getMomentRange(r,t).start.valueOf()},category:i.function,description:"Returns an integer number from a Unix millisecond timestamp, corresponding to the number of milliseconds since January 1, 1970.",signatures:[_],examples:["timestamp(now()) == 1512593154718"]},fromTimestamp:{name:"fromTimestamp",apply:function(e,t){return"number"==typeof e[0]?d.dateTime(e[0],t):void 0},category:i.function,description:"Returns a date constructed from a Unix millisecond timestamp, corresponding to the number of milliseconds since January 1, 1970.",signatures:[{resultType:"date",arity:["number"]}],examples:["fromTimestamp(2000000000000) == Tue May 17 2033"]},dateAdd:{name:"dateAdd",apply:function(e,t){var r=a(e,3),n=r[0],o=r[1],i=r[2];if(n&&l.isNumber(o)&&!(m.indexOf(i)<0)){var s=d.getMomentRange(n,t).start.add(o,i).valueOf();return"datetime"===n.type||"datetimerange"===n.type?d.dateTime(s,n.time_zone):d.date(s,t)}},category:i.function,description:"Add to a date. The last argument, unit, can be one of: "+m.join(", ").trim()+".",signatures:[{resultType:"date",arity:["date","number","text"]}],examples:m.map(function(e){return'dateAdd(date, amount, "'+e+'")'})},dateSubtract:{name:"dateSubtract",apply:function(e,t){var r=a(e,3),n=r[0],o=r[1],i=r[2];if(n&&l.isNumber(o)&&!(m.indexOf(i)<0)){var s=d.getMomentRange(n,t).start.subtract(o,i).valueOf();return"datetime"===n.type||"datetimerange"===n.type?d.dateTime(s,n.time_zone):d.date(s,t)}},category:i.function,description:"Subtract from a date. The last argument, unit, can be one of: "+m.join(", ").trim()+".",signatures:[{resultType:"date",arity:["date","number","text"]}],examples:m.map(function(e){return'dateSubtract(date, amount, "'+e+'")'})},dateBetween:{name:"dateBetween",apply:function(e,t){var r=a(e,3),n=r[0],o=r[1],i=r[2];if(n&&o&&!(m.indexOf(i)<0)){var l=d.getMomentRange(n,t).start,s=d.getMomentRange(o,t).start;return l.diff(s,i).valueOf()}},category:i.function,description:"Returns the time between two dates. The last argument, unit, can be one of: "+m.join(", ").trim()+".",signatures:[{resultType:"number",arity:["date","date","text"]}],examples:m.map(function(e){return'dateBetween(date, date2, "'+e+'")'})},formatDate:{name:"formatDate",apply:function(e,t){var r=a(e,2),n=r[0],o=r[1];if(n&&o)return d.getMomentRange(n,t).start.format(o)},category:i.function,description:"Format a date using the Moment standard time format string.",signatures:[{resultType:"text",arity:["date","text"]}],examples:['formatDate(now(), "MMMM D YYYY, HH:mm") == March 30 2010, 12:00','formatDate(now(), "YYYY/MM/DD, HH:mm") == 2010/03/30, 12:00','formatDate(now(), "MM/DD/YYYY, HH:mm") == 03/30/2010, 12:00','formatDate(now(), "HH:mm A") == 12:00 PM','formatDate(now(), "M/D/YY") == 3/30/10']},minute:{name:"minute",apply:function(e,t){var r=e[0];if(d.isPersistedDate(r))return d.getMomentRange(r,t).start.minutes()},category:i.function,description:"Returns an integer number, between 0 and 59, corresponding to minutes in the given date.",signatures:[_],examples:["minute(now()) == 45"]},hour:{name:"hour",apply:function(e,t){var r=e[0];if(d.isPersistedDate(r))return d.getMomentRange(r,t).start.hours()},category:i.function,description:"Returns an integer number, between 0 and 23, corresponding to hour for the given date.",signatures:[_],examples:["hour(now()) == 17"]},day:{name:"day",apply:function(e,t){var r=e[0];if(d.isPersistedDate(r))return d.getMomentRange(r,t).start.day()},category:i.function,description:"Returns an integer number corresponding to the day of the week for the given date: 0 for Sunday, 1 for Monday, 2 for Tuesday, and so on.",signatures:[_],examples:["day(now()) == 3"]},date:{name:"date",apply:function(e,t){var r=e[0];if(d.isPersistedDate(r))return d.getMomentRange(r,t).start.date()},category:i.function,description:"Returns an integer number, between 1 and 31, corresponding to day of the month for the given.",signatures:[_],examples:["date(now()) == 13"]},month:{name:"month",apply:function(e,t){var r=e[0];if(d.isPersistedDate(r))return d.getMomentRange(r,t).start.month()},category:i.function,description:"Returns an integer number, between 0 and 11, corresponding to month in the given date according to local time. 0 corresponds to January, 1 to February, and so on.",signatures:[_],examples:["month(now()) == 11"]},year:{name:"year",apply:function(e,t){var r=e[0];if(d.isPersistedDate(r))return d.getMomentRange(r,t).start.year()},category:i.function,description:"Returns a number corresponding to the year of the given date.",signatures:[_],examples:["year(now()) == 1984"]}},t.baseLibrary=[f(i.constant,c.values(t.constants)),f(i.operator,c.values(t.operators)),f(i.function,c.values(t.functions))]},"9PHN":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("MeYt"),u=r("zmp8"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,{onClick:this.props.onClick,style:a({},t.buttonStyle,this.props.style)},this.props.children)},t.buttonStyle={display:"inline-flex",alignItems:"center",whiteSpace:"nowrap",borderRadius:3,height:28,padding:"0 8px",lineHeight:1.2,fontSize:14,color:u.default.white,border:"1px solid "+u.default.white},t}(l.default);t.default=c},"9axl":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"user_root",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,space_views:n.default.StringArray,left_spaces:n.default.StringArray,deleted_email:n.default.String}};t.default=o},"9c8K":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl"),o=r("cBa6");t.getFilter=function(e,t,r){var a=e.getValue(),i=o.getChars(t),l=o.getChars(a);if(!r&&0===i.length&&0===l.length)return"";var s=n.clone(i).reverse(),u=n.clone(l).reverse(),c=l.findIndex(function(e,t){return e!==i[t]}),d=u.findIndex(function(e,t){return e!==s[t]});return c>=0&&d>=0?l.slice(c+(r?1:0),c+(l.length-i.length)).join(""):void 0},t.shouldCloseMenu=function(e,t,r){if(void 0===e)return!0;if(t&&0===r){if(e.length>8)return!0;var o=n.last(e);if(o)return/\s/g.test(o)}}},"9duQ":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,iconSvg:l.default.codepen,mediaMenuCurrentTab:"embed",mediaMenuTabs:["embed"],mediaMenuEmbedCaption:"Works with any public CodePen link..."}),"Embed CodePen")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},"9f/M":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("bkwR"),i=r("VkkH"),l=r("S26v"),s=r("tP7q"),u=r("A9TN"),c=r("Wnyic"),d=r("hvW1"),p=r("VBxf"),f=r("E5KU"),h=r("y6Dp"),m=r("VcB+");t.authWithTrello=function(e){return n(this,void 0,void 0,function(){var t,r,n,y,g,v,b,w,S,_;return o(this,function(o){switch(o.label){case 0:return t=e.requestStore,r=c.getAuthType(),n=s.createTrelloPopupRedirect(u.default.baseURL,{authType:r}),r.redirectToAuth?(y=n,[3,3]):[3,1];case 1:return[4,c.loadAuthUrl(n)];case 2:y=o.sent(),o.label=3;case 3:return n=y,[4,i.openPopup({width:580,height:700,url:n,title:"Trello Login"})];case 4:return(g=o.sent())?(v=l.parse(g),b=v.query.oauth_token,w=v.query.oauth_verifier,b&&w?(d.display({message:"Authenticating with Trello..."}),[4,a.authWithTrello({requestToken:b,verifier:w})]):[2]):[2];case 5:return"failed"!==(S=o.sent()).type?[3,6]:(_=S.error,f.error(_),p.showError({error:_}),d.close(),[3,8]);case 6:return h.trackAuthIntegration({name:"trello"}),[4,t.refresh()];case 7:o.sent(),m.default.setState({open:!0}),d.close(),o.label=8;case 8:return[2]}})})}},"9hmv":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("EszA"),s=r("unoy"),u=r("t+pW"),c=r("LeVO"),d=r("y6Dp"),p=r("DNgp"),f=r("MeYt"),h=r("zmp8"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){l.annotateSelection({annotation:[t.props.type]}),t.props.onClick&&t.props.onClick(),d.trackRichTextMenuClick({action:t.props.type})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return i.createElement(c.default,{renderTooltip:function(){return e.props.tooltipLabel},render:function(t){return i.createElement(f.default,a({style:e.getButtonStyle(),disabled:!p.default.state.editing,onClick:e.handleClick},t),e.props.children)}})},t.prototype.getButtonStyle=function(){var e=s.textSelectionHasAnnotationType(this.props.type);return a({display:"flex",alignItems:"center",padding:"0 8px",color:e?h.default.blue:this.theme.regularTextColor},this.props.style)},t}(u.default);t.default=m},"9uZX":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("wF3w");t.createFactory=function(){return{block:{root:{id:"root",version:27,type:"factory",properties:{title:[["Add a New To-do"]]},content:["to_do"]},to_do:{id:"to_do",version:4,type:"to_do",parent_table:"block",parent_id:"root",alive:!0}}}},t.createTable=function(e){var t,r=n.default(),o=n.default();return{block:{root:{id:"root",type:e?"collection_view":"collection_view_page",collection_id:"collection",view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",alive:!0},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",alive:!0},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",alive:!0}},collection_view:{view:{id:"view",version:0,type:"table",name:"Default View",format:{table_properties:[{property:"title",visible:!0,width:276},{property:r,visible:!0},{property:o,visible:!0}],table_wrap:!0},query:{aggregate:[{id:"count",property:"title",type:"title",aggregation_type:"count",view_type:"table"}]},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",schema:(t={title:{name:"Name",type:"title"}},t[r]={name:"Tags",type:"multi_select"},t[o]={name:"Files",type:"file"},t),format:{collection_page_properties:[{property:r,visible:!0},{property:o,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}}},t.createBoard=function(e){var t,r=n.default(),o=n.default();return{block:{root:{id:"root",type:e?"collection_view":"collection_view_page",collection_id:"collection",view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[["Card 1"]]}},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[["Card 2"]]}},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[["Card 3"]]}}},collection_view:{view:{id:"view",version:0,type:"board",name:"Board View",query:{group_by:r,aggregate:[{id:"count",type:"title",aggregation_type:"count",view_type:"board"}]},format:{board_properties:[{property:r,visible:!1},{property:o,visible:!0}]},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",schema:(t={title:{name:"Name",type:"title"}},t[o]={name:"Assign",type:"person"},t[r]={name:"Status",type:"select",options:[{id:"1",value:"Not Started",color:"red"},{id:"2",value:"In Progress",color:"yellow"},{id:"3",value:"Completed",color:"green"}]},t),format:{collection_page_properties:[{property:r,visible:!0},{property:o,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}}},t.createCalendar=function(e){var t,r=n.default(),o=n.default();return{block:{root:{id:"root",type:e?"collection_view":"collection_view_page",collection_id:"collection",view_ids:["view"],alive:!0}},collection_view:{view:{id:"view",version:0,type:"calendar",name:"Calendar View",query:{calendar_by:r},parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",schema:(t={title:{name:"Name",type:"title"}},t[r]={name:"Date",type:"date"},t[o]={name:"Tags",type:"multi_select"},t),parent_id:"root",parent_table:"block",alive:!0}}}},t.createGallery=function(e){var t,r=n.default(),o=n.default();return{block:{root:{id:"root",type:e?"collection_view":"collection_view_page",collection_id:"collection",view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[["Page 1"]]},content:["to_do_1","to_do_2"]},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[["Page 2"]]}},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[["Page 3"]]}},to_do_1:{id:"to_do_1",type:"to_do",parent_id:"item_1",parent_table:"block",alive:!0,properties:{title:[["To-do"]]}},to_do_2:{id:"to_do_2",type:"to_do",parent_id:"item_1",parent_table:"block",alive:!0,properties:{title:[["Completed To-do"]],checked:[["Yes"]]}}},collection_view:{view:{id:"view",version:0,type:"gallery",name:"Gallery View",query:{aggregate:[{id:"count",type:"title",aggregation_type:"count",view_type:"gallery"}]},format:{gallery_cover:{type:"page_content"}},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",schema:(t={title:{name:"Name",type:"title"}},t[r]={name:"Tags",type:"multi_select",options:[]},t[o]={name:"Created",type:"created_time"},t),format:{collection_page_properties:[{property:o,visible:!0},{property:r,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}}},t.createList=function(e){var t,r=n.default(),o=n.default();return{block:{root:{id:"root",type:e?"collection_view":"collection_view_page",collection_id:"collection",view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[["Page 1"]]}},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[["Page 2"]]}},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[["Page 3"]]}}},collection_view:{view:{id:"view",version:0,type:"list",name:"List View",query:{aggregate:[{id:"count",type:"title",aggregation_type:"count",view_type:"list"}]},format:{list_properties:[{property:r,visible:!0}]},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",schema:(t={title:{name:"Name",type:"title"}},t[r]={name:"Tags",type:"multi_select",options:[]},t[o]={name:"Created",type:"created_time"},t),format:{collection_page_properties:[{property:o,visible:!0},{property:r,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}}}},"9vSW":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},A1hq:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("KcXv"),s=r("n8tN"),u=r("NOvk"),c=r("Dime"),d=r("OWVv"),p=r("abU2"),f=r("fJHT"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){var e=this.props,t=e.store,r=e.disabled,n=e.numberedListCounterStore,o=t.getBlockTitleStore(),a=l.itemStyle,s=a.paddingTop,h=a.paddingBottom;return i.createElement(d.default,{style:this.getStyle(),left:i.createElement(p.default,{store:t,numberedListCounterStore:n}),childrenStyle:{display:"flex",flexDirection:"column"}},i.createElement("div",{style:{display:"flex"}},i.createElement(f.default,{style:d.defaultTitleStyle,placeholderStyle:{paddingTop:s,paddingBottom:h},disabled:r,store:o,placeholder:"List"}),this.renderDiscussion(u.default.discussionIndicatorStyle)),!this.props.hideContent&&i.createElement(c.default,{disabled:r,store:this.props.store.getContentStore()}))},t.prototype.getStyle=function(){return a({paddingLeft:l.itemStyle.paddingLeft},this.getBlockColorStyle(),this.props.style)},t}(s.default);t.default=h},A9TN:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.CONFIG||{env:"production",isAdminMode:!1,isLocalhost:!1,offline:!0,version:"21.1.0",baseURL:"https://www.notion.so",protocol:"notion",lastUpdatedTime:1556601399292,api:{http:"/api/v3"},googleOAuth:{clientId:"905154081809-858sm3f0qnalqd9d44d9gecjtrdji9tf.apps.googleusercontent.com"},messageStore:{url:"https://msgstore.www.notion.so",api:"/api/v1"},stripe:{key:"pk_live_vuNO27XGTCbXjVwneiECILjT"},intercom:{appId:"gpfdrxfd"},fullStory:{token:"VHGV"},amplitude:{apiKey:"af43d4b535912f7751949bfb061d8659"},pricing:{invoiceDaysUntilDue:30,free:{spaceBlockLimit:1e3,fileUploadMaxBytes:5e6},personal:{productId:"prod_CpavZFCbxF2YGx",monthlyPrice:500,yearlyPrice:4800},team:{productId:"prod_CpawK4ih14xs4t",monthlyPricePerMember:1e3,yearlyPricePerMember:9600},enterprise:{productId:"prod_Cpb8M1AFEFhdy1",monthlyPricePerMember:2500,yearlyPricePerMember:24e3}},desktopS3:{url:"https://s3-us-west-2.amazonaws.com/desktop-release.notion-static.com"},publicFileS3:{url:"https://s3-us-west-2.amazonaws.com/public.notion-static.com",bucket:"public.notion-static.com"},temporaryFileS3:{url:"https://s3-us-west-2.amazonaws.com/temporary.notion-static.com",bucket:"temporary.notion-static.com"},secureFileS3:{url:"https://s3-us-west-2.amazonaws.com/secure.notion-static.com",bucket:"secure.notion-static.com"},loggly:{token:"edcca201-4028-4ef1-bbb1-c78b430dd74e"},embedly:{key:"421626497c5d4fc2ae6b075189d602a2"}};t.default=n},ALSZ:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("cBa6"),a=r("RI9y"),i=r("Ajfl"),l=r("CSYU"),s=r("y6Dp"),u=r("MBf9"),c=r("QcDD"),d=r("DNgp"),p=r("43ch"),f=r("WaiN"),h=r("GKeo"),m=r("7IvN");t.activateFromInsertion=function(e){var t=e.textStore,r=e.oldSelection,n=e.oldTextValue,i=f.default.state,u=o.getChars(t.getValue()||[]),c=r.startIndex,y=u[c],g=u[c-1],v=p.default.findEditableWithStore(t);if(!i.open&&!h.default.state.open&&!m.default.state.open&&"@"===y&&v&&!v.props.disableMentions&&(!g||/[\s\(\)\[\]]/g.test(g))){var b=a.get();if(b){var w=a.getRect(b);w&&(f.default.setState({open:!0,textStore:t,oldTextValue:n,oldSelection:r,selectionRect:w,requestStore:new l.default,mentionTypes:{page:t.isDefaultRecordCache()||d.default.isEditingComment(),user:!0,date:!v.props.disableDateMentions}}),s.trackOpenMentionMenu())}}},t.insertMention=function(e){i.collapseTextSelection({direction:"end"});var t=d.default.state;if(t.editing){var r=!1;if(t.selection.startIndex>0){var a=t.store.getValue()||[],l=o.getChars(a)[t.selection.startIndex-1];/[\s]/g.test(l)||(r=!0)}u.createAndCommit(function(e){r?(i.insertString({store:t.store,string:" ",selection:t.selection,transaction:e}),i.insertString({store:t.store,string:"@",selection:{startIndex:t.selection.startIndex+1,endIndex:t.selection.endIndex+1},transaction:e})):i.insertString({store:t.store,string:"@",selection:t.selection,transaction:e})});var s=f.default.state;s.open&&f.default.setState(n({},s,{mentionTypes:e}))}},t.accept=function(e){var r=f.default.state,n=e.annotation,o=e.transaction;if(r.open){var a=c.default.state.currentBlockStore,l=a&&a.contains(r.textStore);i.setValue({store:r.textStore,value:r.oldTextValue,transaction:o}),i.insertMention({store:r.textStore,selection:r.oldSelection,annotation:n,analyticsFrom:l?"block":"comment",transaction:o}),t.close()}},t.close=function(){f.default.setState({open:!1})}},AOGK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl"),o=r("pQrc"),a=r("njgS");t.userCanJoinSpace=function(e,t){if(!t)return!1;var r=!1,a=e.email_domains||[],i=e.permissions||[];if(t&&t.email&&a){var l=o.default(t.email);r=n.includes(a,l)}return i.find(function(e){return"user_permission"===e.type&&e.user_id===t.id})&&(r=!0),r},t.getPublicPageData=function(e,r,n,o,i,l){var s=t.userCanJoinSpace(r,o),u=(e&&e.permissions?e.permissions:[]).find(function(e){return"user_permission"===e.type}),c=n&&(i||l)?a.getNormalizedSchema(n):void 0,d=n&&(i||l)?n.id:void 0,p=n&&n.format&&(i||l)?n.format:void 0,f=s&&u?u.user_id:void 0;return{spaceName:r.name||"Untitled Workspace",spaceId:r.id,spaceDomain:r.domain,canJoinSpace:s,icon:r.icon,userHasExplicitAccess:i,hasPublicAccess:l,ownerUserId:f,collectionId:d,collectionSchema:c,collectionFormat:p,betaEnabled:r.beta_enabled}}},AOw3:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("17x9"),s=r("i8i4"),u=r("udrG"),c=r("hi+p"),d=r("/mqF"),p=r("oqYu"),f=r("oWRT"),h=r("FmD2"),m=r("6rsX"),y=r("r8oj"),g=r("EZe4"),v=r("DkKf"),b=r("qHvo"),w=r("t+pW"),S=r("iVjn"),_=r("uSCg"),k=r("SjXP"),C=r("yRPC"),E=r("dQiq"),P=r("NOLh"),x=r("K2ja"),T=r("sjR4"),O=r("nFzZ"),M=r("ikHm"),I=r("Sol1"),A=r("BJyN"),D=r("HTHG"),L=r("sjR4"),R=r("qHvo"),B=r("DNgp"),j=r("nZ1u"),V=r("AmMh"),F=r("0zNc"),N=r("l2mL"),U=r("fbat"),W=r("enKW"),z=r("zmp8"),H=r("7M94"),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registries=[V.default],t.renderSelectionHaloContent=function(){return i.createElement("div",{style:t.getSelectionHaloStyle()})},t.renderDropParentHaloConent=function(){return i.createElement("div",{style:t.getDropParentHaloStyle()})},t.handleDragStart=function(e){t.props.canDrag&&(e.preventDefault(),p.buzz(),f.buzz(),t.props.onDraggableDragStart&&t.props.onDraggableDragStart(e))},t.handleDragMove=function(e){t.props.canDrag?R.default.state.isDragging?d.continueDrag({currentX:e.currentX,currentY:e.currentY}):v.mouseDidMoveAfterLastMouseDown()&&(m.select({store:t.props.store,toggle:m.shouldToggle(),selectBetween:m.shouldSelectBetween()}),d.startDrag({startX:e.startX,startY:e.startY,stores:L.default.state.stores,isNativeDrag:!1})):j.default.state.isActive||y.default.isMobile||h.startRectangularSelection({target:e.target,startX:e.startX,startY:e.startY,showSelectionRect:!0,preventSelectStores:[]})},t.handleDragEnd=function(e){y.default.isMobile&&F.default.state.isDragging&&e.preventDefault(),t.props.canDrag&&R.default.state.isDragging&&d.completeDrag({shiftKey:e.shiftKey,optionKey:e.optionKey,commandKey:e.commandKey,analyticsFrom:t.props.analyticsName})},t.handleDragCancel=function(){t.props.canDrag&&R.default.state.isDragging&&(d.cancelDrag(),m.clear())},t.handleClick=function(e){g.default({event:e,context:g.EventContext.EditorClick,callback:function(){!v.mouseDidMoveAfterLastMouseDown()&&t.props.canSelect&&m.select({store:t.props.store,toggle:m.shouldToggle(),selectBetween:m.shouldSelectBetween()})}})},t.handleContextMenu=function(e){if(y.default.isAndroid){var r=B.default.state;if(!r.editing||!r.store.findRecordStoreAncestor(function(e){return e.id===t.props.store.id}).ancestor)return e.preventDefault(),e.stopPropagation(),!1}t.props.canTriggerContextMenu&&g.default({event:e,context:g.EventContext.EditorContextMenu,callback:function(){e.preventDefault(),m.select({store:t.props.store}),c.showAtPosition({stores:L.default.state.stores,left:e.clientX,top:e.clientY,actions:t.props.blockMenuActions||A.blockActions,showInput:Boolean(t.props.showBlockMenuInput),analyticsFrom:"content_block_menu"})}})},t.handleDoubleClick=function(e){t.props.canSelect||g.default({event:e,context:g.EventContext.EditorDoubleClick,callback:function(){t.props.onDoubleClick&&t.props.onDoubleClick(e)}})},t.handleMouseOver=function(e){t.props.canSelect&&g.default({event:e,context:g.EventContext.EditorMouseOver,callback:function(){N.default.setState(a({},N.default.state,{hoveredStore:t.props.store,lastHoveredStore:t.props.store}))}})},t.handleMouseOut=function(e){N.default.state.hoveredStore===t.props.store&&N.default.setState(a({},N.default.state,{hoveredStore:void 0}))},t.handleSelectionHaloAnimationEnd=function(){t.stores.selectableStore.setState(a({},t.stores.selectableStore.state,{animatingSelectionHalo:!1}))},t.computedStore=t.createComputedStore(function(){var e=t.getDropZoneHintIndex();!O.isNotDefined(e)&&e>=0&&(t.lastDropZoneHintIndex=e);var r=t.shouldShowHoverMenu(),n=t.shouldShowSelectionHalo(),o=t.shouldShowDropParentHalo(),a=t.getCurrentDropZone(),i=t.getDropZoneHint(),l=t.lastDropZoneHintIndex,s=!t.props.shouldShowCommentMenu&&r,u=!!t.props.shouldShowCommentMenu&&r,c=t.stores.draggableStore.state.dragging,d=t.stores.draggableStore.hasDragged(),p=t.stores.selectableStore.state,f=p.animatingSelectionHalo,h=p.animatingDropParentHalo,m=p.animatingDropZone,y=p.animatingDropZoneHint,g=p.animatingHoverMenu,v=p.animatingCommentMenu;return{isDragging:c,hasDragged:d,shouldShowSelectionHalo:n,shouldShowDropParentHalo:o,currentDropZone:a,dropZoneHint:i,dropZoneHintIndex:l,shouldShowHoverMenu:s,shouldShowCommentMenu:u,shouldRenderSelectionHalo:f||n,shouldRenderDropParentHalo:h||o,shouldRenderDropZoneHint:y||!O.isNotDefined(i),shouldRenderDropZone:m||!O.isNotDefined(a),shouldRenderHoverMenu:g||s,shouldRenderCommentMenu:v||u}}),t}return o(t,e),t.prototype.getNode=function(){return s.findDOMNode(this)},t.prototype.getReferencePoint=function(e){return y.default.isMobile?this.props.dropzoneShouldNeverUseOrigin?e.mousePoint:{x:e.originPoint.x,y:e.mousePoint.y}:e.mousePoint},t.prototype.getChildContext=function(){return{closestSelectable:this}},t.prototype.getContextClosestSelectable=function(){return this.context.closestSelectable},t.prototype.getContextSelectableContainer=function(){return this.context.selectableContainer},t.prototype.getContextVerticalScroller=function(){return this.context.verticalScroller},t.prototype.getContextHorizontalScroller=function(){return this.context.horizontalScroller},t.prototype.renderComponent=function(){var e=this,t=this.computedStore.state,r=t.isDragging,n=t.hasDragged,o=t.shouldShowDropParentHalo,l=t.shouldShowSelectionHalo,s=t.currentDropZone,u=t.dropZoneHint,c=t.dropZoneHintIndex,d=t.shouldShowHoverMenu,p=t.shouldShowCommentMenu,f=t.shouldRenderSelectionHalo,h=t.shouldRenderDropParentHalo,m=t.shouldRenderDropZoneHint,y=t.shouldRenderDropZone,g=t.shouldRenderHoverMenu,v=t.shouldRenderCommentMenu,b=f||h||m||y||g||v;return this.renderDraggable(function(t){return i.createElement("div",a({style:e.getStyle(b,r,n),"data-block-id":e.props.store.id,className:H.selectable},_.default(t||{},{onDoubleClick:e.handleDoubleClick,onContextMenu:e.handleContextMenu,onMouseOver:e.handleMouseOver,onMouseOut:e.handleMouseOut,onClick:e.handleClick,onMouseMove:e.props.onMouseMove,onMouseDown:e.props.onMouseDown})),e.props.children,f&&e.renderSelectionHalo(l),h&&e.renderDropParentHalo(o),m&&e.renderDropZoneHint(u,c),y&&e.renderCurrentDropZone(s),g&&e.renderHoverMenu(d),v&&e.renderCommentMenu(p))})},t.prototype.renderDraggable=function(e){return this.props.canDrag?i.createElement(S.default,{store:this.stores.draggableStore,dragDelay:y.default.isReactNative||y.default.isCordova||y.default.isAndroid?500:void 0,forceTouch:y.default.isMobile&&!this.props.disableForceTouch,onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,render:e}):e(void 0)},t.prototype.renderSelectionHalo=function(e){var r=this;return i.createElement(P.default,{key:"halo",isVisible:e,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},exitAnimationStyle:{opacity:0},springConfig:{opacity:t.opacitySpringConfig},onAnimationStart:function(){e&&r.stores.selectableStore.setState(a({},r.stores.selectableStore.state,{animatingSelectionHalo:!0}))},onAnimationEnd:this.handleSelectionHaloAnimationEnd,render:this.renderSelectionHaloContent})},t.prototype.renderDropParentHalo=function(e){var r=this;return i.createElement(P.default,{key:"parent",isVisible:e,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},exitAnimationStyle:{opacity:0},springConfig:{opacity:t.opacitySpringConfig},onAnimationStart:function(){e&&r.stores.selectableStore.setState(a({},r.stores.selectableStore.state,{animatingDropParentHalo:!0}))},onAnimationEnd:function(){r.stores.selectableStore.setState(a({},r.stores.selectableStore.state,{animatingDropParentHalo:!1}))},render:this.renderDropParentHaloConent})},t.prototype.renderCurrentDropZone=function(e){var r=this,n=!O.isNotDefined(e);return i.createElement(P.default,{key:"dropZone",isVisible:n,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},exitAnimationStyle:{opacity:0},springConfig:{opacity:t.opacitySpringConfig},onAnimationStart:function(){n&&r.stores.selectableStore.setState(a({},r.stores.selectableStore.state,{animatingDropZone:!0}))},onAnimationEnd:function(){r.stores.selectableStore.setState(a({},r.stores.selectableStore.state,{animatingDropZone:!1}))},render:function(){return i.createElement("div",{style:r.getDropZoneStyle(e,0)},i.createElement("div",{style:r.getHintGapBoxStyle(e)}))}})},t.prototype.renderDropZoneHint=function(e,r){var n=this,o=!O.isNotDefined(e);return i.createElement(P.default,{key:"hint",isVisible:o,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},exitAnimationStyle:{opacity:0},springConfig:{opacity:t.opacitySpringConfig},onAnimationStart:function(){o&&n.stores.selectableStore.setState(a({},n.stores.selectableStore.state,{animatingDropZoneHint:!0}))},onAnimationEnd:function(){n.stores.selectableStore.setState(a({},n.stores.selectableStore.state,{animatingDropZoneHint:!1}))},render:function(){return i.createElement("div",{style:n.getDropZoneStyle(e,(r||0)+1)},i.createElement("div",{style:n.getHintGapBoxStyle(e)}))}})},t.prototype.renderHoverMenu=function(e){var t=this,r=this.props.store;return i.createElement(P.default,{key:"hover",isVisible:e,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},exitAnimationStyle:{opacity:0},onAnimationStart:function(){e&&t.stores.selectableStore.setState(a({},t.stores.selectableStore.state,{animatingHoverMenu:!0}))},onAnimationEnd:function(){t.stores.selectableStore.setState(a({},t.stores.selectableStore.state,{animatingHoverMenu:!1}))},render:function(){return i.createElement("div",null,i.createElement(C.default,{store:r,offsetTop:t.getOffsetTop()}),i.createElement(E.default,{store:r,offsetTop:t.getOffsetTop()}))}})},t.prototype.renderCommentMenu=function(e){var t=this,r=this.props.store;return i.createElement(P.default,{isVisible:e,key:"comment",enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},exitAnimationStyle:{opacity:0},onAnimationStart:function(){e&&t.stores.selectableStore.setState(a({},t.stores.selectableStore.state,{animatingCommentMenu:!0}))},onAnimationEnd:function(){t.stores.selectableStore.setState(a({},t.stores.selectableStore.state,{animatingCommentMenu:!1}))},render:function(){return i.createElement(I.default,{store:r})}})},t.prototype.shouldShowSelectionHalo=function(){var e=this.props,t=e.store;if(!e.shouldShowHalo||y.default.isMobile)return!1;var r=L.default.state,n=r.stores;return r.phase===T.SelectionPhase.Selected&&n.indexOf(t)>=0&&!R.default.state.isDragging},t.prototype.shouldShowDropParentHalo=function(){var e=this.props,t=e.store;if(!e.shouldShowHalo)return!1;var r=R.default.state,n=r.currentParentStore,o=r.currentHintDropZones,a=r.currentDropZone;return o.some(function(e){return e.direction===b.DroppableDirection.Left||e.direction===b.DroppableDirection.Right})?Boolean(a&&a.store===t):n===t},t.prototype.getCurrentDropZone=function(){var e=this.props,t=e.store,r=e.shouldShowDropZone,n=R.default.state.currentDropZone;if(n&&n.store===t&&r)return n.direction},t.prototype.getDropZoneHint=function(){var e=this.props,t=e.store,r=e.shouldShowDropZone,n=R.default.state.currentHintDropZones;if(n&&r){var o=n.find(function(e){return e.store===t});if(o)return o.direction}},t.prototype.getDropZoneHintIndex=function(){var e=this.props.store,t=R.default.state.currentHintDropZones;if(t)return t.findIndex(function(t){return t.store===e})},t.prototype.shouldShowHoverMenu=function(){var e=this.props,t=e.store,r=e.shouldShowHoverMenu,n=e.shouldShowCommentMenu;if(!r&&!n)return!1;var o=U.default.state.currentStore;return(o===t||!o&&L.default.getEditing()===t)&&(!D.menuIsOpen()||U.default.state.isActive)},t.prototype.getOffsetTop=function(){if(this.shouldShowHoverMenu()){var e=this.props.store.getType();if(e===u.default.divider)return-6;if(e===u.default.header){var t=this.props.store.getNavigableAncestorFormat();return Boolean(t.page_small_text)?7:10}if(e===u.default.subHeader){t=this.props.store.getNavigableAncestorFormat();return Boolean(t.page_small_text)?4:6}return 3}return 0},t.prototype.getStyle=function(e,t,r){var n={};return y.default.isMobile&&(n.transition="transform 200ms ease-out",this.props.canDrag&&t&&!r&&(n.boxShadow=W.getShadow({elevation:3,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity}),n.transform="scale(1.05)",n.borderRadius=3)),e&&(n.position="relative"),a({},n,this.props.style)},t.prototype.getSelectionHaloStyle=function(){return{position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,background:z.default.blueWithAlpha(.2),zIndex:M.selectionHalo}},t.prototype.getDropParentHaloStyle=function(){return{position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,background:z.default.blueWithAlpha(.1)}},t.prototype.getHintGapBoxStyle=function(e){if(void 0===e)return{};var r=y.default.isMobile?3:2;return e===b.DroppableDirection.Above||e===b.DroppableDirection.Below?{position:"relative",left:-r,width:r,height:t.dropzoneSize,background:this.theme.contentBackground,transform:"translateZ(100px)"}:{position:"relative",top:-r,width:t.dropzoneSize,height:r,background:this.theme.contentBackground,transform:"translateZ(100px)"}},t.prototype.getDropZoneStyle=function(e,r){var n={position:"absolute",pointerEvents:"none",background:z.default.blueWithAlpha(.5),zIndex:M.dropZoneHint-r};if(e===b.DroppableDirection.Onto)n.left=0,n.top=0,n.right=0,n.bottom=0,n.background=z.default.blueWithAlpha(.3);else if(e===b.DroppableDirection.Above||e===b.DroppableDirection.Below){var o=4;n.left=0,n.right=0,e===b.DroppableDirection.Above?n.top=-o:(n.bottom=-o,this.props.belowDropZoneMargin&&(n.bottom-=this.props.belowDropZoneMargin)),n.height=t.dropzoneSize}else{o=8;n.top=0,n.bottom=0,e===b.DroppableDirection.Left?n.left=this.props.dropzoneGap?-this.props.dropzoneGap:-o:n.right=this.props.dropzoneGap?-this.props.dropzoneGap:-o,n.width=t.dropzoneSize}return n},t.stores={draggableStore:k.default,selectableStore:x.default},t.childContextTypes={closestSelectable:l.any},t.contextTypes={closestSelectable:l.any,selectableContainer:l.any,verticalScroller:l.any,horizontalScroller:l.any},t.opacitySpringConfig={stiffness:70,damping:10,precision:.001},t.dropzoneSize=4,t}(w.default);t.default=q},APM9:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("r8oj"),u=r("6fvo"),c=r("mVDJ"),d=r("t+pW"),p=r("cYwG"),f=r("2Y+N"),h=r("+UXM"),m=r("wS9/"),y=r("zmp8"),g=r("MeYt"),v=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderCategory=function(e){var t;if(t="recent"===e?r.stores.store.state.recentEmojis||[]:l.values(u.emojis[e])||[],!r.props.filter||"recent"!==e){if(r.props.filter){var n=r.props.filter.trim().toLowerCase();t=t.filter(function(e){return!!e.keywords&&e.keywords.some(function(e){return e.indexOf(n)>=0})})}return t.length>0?i.createElement(f.default,{key:e,isTitleUppercase:!0,title:e.replace(/\_/g," ")},i.createElement("div",{style:r.getEmojiSectionWrapStyle()},l.map(t,function(e,t){var n=e.char;if(s.default.isAndroid&&s.default.isReactNative){var o=u.getEmojiIcon(e.char,"svg");o?(n=i.createElement("img",{src:o}),n=i.createElement("img",{style:{width:32,height:32},src:o})):n=void 0}return i.createElement(g.default,{key:t,style:r.getEmojiButtonStyle(),onClick:function(){return r.handleEmojiButtonClick(e)}},n)}))):void 0}},r.handleScroll=function(e){if(e<t.loadMoreCategoryEdgeDistance){var n=r.stores.store.state.loadCategoryCount,o=Math.min(t.categories.length,n+1);r.stores.store.setState(a({},r.stores.store.state,{loadCategoryCount:o}))}},r.handleEmojiButtonClick=function(e){r.props.onSubmit(e.char),r.addToRecentEmojis(e.char)},r}return o(t,e),t.prototype.willMount=function(r){e.prototype.willMount.call(this,r);var n=h.default.get(t.localRecentEmojisKey),o=l.toArray(n||"").map(function(e){return{char:e}});this.stores.store.setState(a({},this.stores.store.state,{recentEmojis:o}))},t.prototype.renderComponent=function(){var e,r=this.stores.store.state.loadCategoryCount;return e=this.props.filter?t.categories:l.take(t.categories,r),i.createElement("div",{style:t.wrapStyle},i.createElement("div",{style:{flexGrow:1}},e.map(this.renderCategory)),i.createElement(p.default,{onChange:this.handleScroll}))},t.prototype.addToRecentEmojis=function(e){var r=h.default.get(t.localRecentEmojisKey),n=l.union([e],l.toArray(r));n=l.take(n,t.recentEmojisCount),h.default.set(t.localRecentEmojisKey,n.join(""));var o=l.map(n,function(e){return{char:e}});this.stores.store.setState(a({},this.stores.store.state,{recentEmojis:o}))},t.prototype.getEmojiSectionWrapStyle=function(){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:s.default.isMobile?this.theme.popoverBackground:y.default.transparent,paddingTop:s.default.isMobile?10:0,paddingBottom:s.default.isMobile?10:0,paddingLeft:s.default.isMobile?m.default.calcPaddingLeft(10):12,paddingRight:s.default.isMobile?m.default.calcPaddingLeft(10):12,boxShadow:s.default.isMobile?"0 1px 0 "+this.theme.regularDividerColor:"",marginBottom:1}},t.prototype.getEmojiButtonStyle=function(){return{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:3,width:s.default.isMobile?44:32,height:s.default.isMobile?44:32,fontSize:s.default.isMobile?32:24}},t.categories=["recent","people","animals_and_nature","food_and_drink","activity","travel_and_places","objects","symbols","flags"],t.loadMoreCategoryEdgeDistance=400,t.recentEmojisCount=20,t.localRecentEmojisKey="recentEmojis",t.stores={store:c.default},t.wrapStyle={display:"flex",flexDirection:"column",paddingBottom:8},t}(d.default);t.default=v},ARzG:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("622O"),a=r("+575");t.default=function(e,t,r){var i,l,s,u;if(r&&!e.file_ids)return[];var c=[];if(e.properties){var d=Object.keys(e.properties);try{for(var p=n(d),f=p.next();!f.done;f=p.next()){var h=f.value,m=e.properties[h],y=a.toTokens(m);try{for(var g=n(y),v=g.next();!v.done;v=g.next()){var b=v.value,w=b.type===a.TokenType.Text?b.value:b.type===a.TokenType.Link?b.data:void 0;w&&(S=o.getSecureFileFromSource(w,e.file_ids,t,r))&&c.push(S)}}catch(e){s={error:e}}finally{try{v&&!v.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}}}catch(e){i={error:e}}finally{try{f&&!f.done&&(l=p.return)&&l.call(p)}finally{if(i)throw i.error}}}if(e.format){var S,_=e.format,k=_.page_cover,C=_.page_icon;k&&(S=o.getSecureFileFromSource(k,e.file_ids,t,r))&&c.push(S),C&&(S=o.getSecureFileFromSource(C,e.file_ids,t,r))&&c.push(S)}return c}},"AXh+":function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var o=r("G4cA"),a=r("hbKx"),i=r("T1hA"),l=r("z22Z");function s(e){var t=a.getPath(e),r=l.getInheritedBlockPermissions(t);return l.getMostPermissiveBlockPermissions(r)}t.getMostPermissiveBlockPermissions=s,t.userHasPermissionViaPublicAccess=function(e){var t=i.default.state.userId,r=a.getPath(e),n=l.getRecordPermissionsForUser({userId:t,ancestors:r});if(1===n.length){var o=n[0];if(l.isPublicPermission(o.permissionItem)&&l.canRead(o.permissionItem.role))return o}},t.allowsPublicPageDuplicate=function(e){return s(e).map(function(e){return e.permissionItem}).some(function(e){return l.isPublicPermission(e)&&l.canRead(e.role)&&(void 0===e.allow_duplicate||!0===e.allow_duplicate)})},t.isRecordPrivateToUser=function(e){var t;if(1===(t=e instanceof o.default?e.getPermissionItems():s(e).map(function(e){return e.permissionItem})).length){var r=n(t,1)[0];return"editor"===r.role&&"user_permission"===r.type&&r.user_id===i.default.state.userId}return!1}},AXyr:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("yjqD"),a=r("QmC8");t.open=function(e){var t=o.deferred();return a.default.setState(n({},e,{open:!0,onComplete:t.resolve,inputValue:""})),t.promise},t.close=function(e){var t=a.default.state;t.open&&(t.onComplete(e.didConfirm),a.default.reset())}},Acox:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("YUnZ"),s=r("q1tI"),u=r("r8oj"),c=r("ikHm"),d=r("y6Dp"),p=r("mF3+"),f=r("g4rC"),h=r("6WtK"),m=r("i3uR"),y=r("t+pW"),g=r("h5Kq"),v=r("smsn"),b=r("wZk+"),w=r("stZG"),S=r("fx0I"),_=r("iQaW"),k=r("C7oc"),C=r("nM47"),E=r("wS9/"),P=r("FcJC"),x=r("6rsX"),T=r("TmDR"),O=r("Iece"),M=r("uUOz"),I=r("UiOz"),A=r("Wae9"),D=r("0GcB"),L=r("enKW"),R=r("MeYt"),B=r("7M94"),j=r("AXh+"),V=r("d9nj"),F=r("ETM2"),N=r("sS7W"),U=r("T1hA"),W=r("QcDD"),z=r("sdlW"),H=r("Sb6f"),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOpenQuickFind=function(){N.openQuickFind({analyticsFrom:"public-page-topbar"})},t.handleShareClick=function(){d.trackOpenPageShare(),C.refresh()},t.handleTopbarClick=function(){x.clear()},t.navigateToFirstSpace=function(){var e=W.default.state,t=e.userRootStore,r=e.userSettingsStore;t&&r&&z.navigateToFirstSpace({userRootStore:t,userSettingsStore:r})},t.isScrolledToTop=t.createComputedStore(function(){return 0===O.default.state.scrollTop}),t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return i.createElement(w.default,{capture:!0,render:function(t){return i.createElement("div",a({},t,{style:e.getWrapStyle()}),j.userHasPermissionViaPublicAccess(e.props.store)?e.renderPublicPageTopbar():e.renderNormalTopbar(),i.createElement(g.default,{bannerStore:I.default}))}})},t.prototype.renderPublicPageTopbar=function(){var e=this.props.store;return i.createElement("div",{onClick:this.handleTopbarClick,style:this.getStyle(),className:"notion-topbar-mobile"},U.default.isLoggedIn()&&i.createElement(s.Fragment,null,i.createElement(R.default,{style:{display:"flex",alignItems:"center",height:"100%",paddingLeft:14,paddingRight:14,fontWeight:H.default.fontWeight.medium,color:this.theme.regularTextColor},mobileFeedback:!0,onClick:this.navigateToFirstSpace},"Back"),i.createElement("div",{style:{height:18,width:1,flexShrink:0,marginRight:6,background:this.theme.darkDividerColor}})),i.createElement(h.default,{store:this.props.store,style:{flexGrow:0,marginLeft:4,overflow:"auto",WebkitOverflowScrolling:"touch",marginTop:u.default.isAndroid?3:0,marginRight:8,height:"100%"},maxAncestorCount:1,showCurrentPageControls:!1,ancestorMaxWidth:100,currentPageMaxWidth:220}),i.createElement("div",{style:{flexGrow:1,flexShrink:1}}),i.createElement(V.default,{onClick:this.handleOpenQuickFind},p.default.searchThick({width:20,height:20})),i.createElement(F.default,{store:e,buttonPopupStore:M.default}))},t.prototype.renderNormalTopbar=function(){var e=this.props.isInvalidPage,r=A.default.getUnreadMentionsCountForOtherSpaces(),n=this.props.store;return i.createElement("div",{onClick:this.handleTopbarClick,style:this.getStyle(),className:B.topbarMobile},i.createElement(R.default,{mobileFeedback:!0,style:a({position:"relative",marginLeft:4},t.actionButtonStyle),onClick:function(e){P.open(),d.trackOpenMobileSidebar()}},p.default.hamburgerMenu({width:18,height:18}),r>0&&i.createElement(k.default,{color:k.default.Color.Red,count:r,style:{position:"absolute",top:6,right:-6}})),!e&&i.createElement(h.default,{store:this.props.store,style:{flexGrow:0,marginLeft:4,overflow:"auto",WebkitOverflowScrolling:"touch",marginTop:u.default.isAndroid?3:0,marginRight:8,height:"100%"},maxAncestorCount:1,showCurrentPageControls:!1,ancestorMaxWidth:100,currentPageMaxWidth:220}),i.createElement(T.default,{store:n,isMobile:!0,isInlineCollection:!1}),i.createElement("div",{style:{flexGrow:1,flexShrink:1}}),i.createElement(S.default,null),!e&&this.renderShowMore(),!e&&this.renderShare(),!e&&u.default.isMobile&&i.createElement(_.default,null))},t.prototype.renderShowMore=function(){return i.createElement(b.default,{store:this.props.store,collectionViewStore:this.props.collectionViewStore,buttonPopupStore:M.default})},t.prototype.renderShare=function(){var e=this;return i.createElement(m.default,{popupType:u.default.isMobile?m.default.PopupType.SlideUp:m.default.PopupType.Popup,style:{width:460},buttonPopupStore:this.stores.shareButtonPopupStore,onClick:this.handleShareClick,renderOrigin:function(e){return i.createElement(R.default,a({mobileFeedback:!0,style:a({},t.actionButtonStyle,{paddingBottom:u.default.isAndroid?0:4})},e),u.default.isAndroid?p.default.androidShare({width:16,height:16}):p.default.appleShare({width:22,height:22}))},render:function(){return i.createElement(v.default,{buttonPopupStore:e.stores.shareButtonPopupStore,store:e.props.store,onClose:function(){e.stores.shareButtonPopupStore.setState(a({},e.stores.shareButtonPopupStore.state,{open:!1}))},onUpgradeButtonClick:function(){}})}})},t.prototype.getWrapStyle=function(){return{width:"100%",maxWidth:"100vw",zIndex:c.topbar}},t.prototype.getStyle=function(){var e="dark"===D.default.state.mode,t=this.theme.shadowColor,r=this.theme.shadowOpacity;return{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:"100vw",height:E.default.mobileTopbarHeight,marginTop:E.default.paddingTop,paddingLeft:E.default.calcPaddingLeft(4),paddingRight:E.default.calcPaddingRight(7),boxShadow:u.default.isAndroid?this.isScrolledToTop.state?"\n\t\t\t\t\t\t0 1px 0 "+t.alpha(r).css()+",\n\t\t\t\t\t\t0 0 0 transparent\n\t\t\t\t\t":L.getTopbarAndroidShadow(t,r):"0 1px 0 "+this.theme.darkDividerColor,background:u.default.isAndroid&&e?l(this.theme.sidebarBackground).brighten(.2).css():this.theme.contentBackground,transition:"box-shadow 300ms"}},t.stores={shareButtonPopupStore:f.default},t.actionButtonStyle={display:"flex",alignItems:"center",height:"100%",marginLeft:8,marginRight:8},t}(y.default);t.default=q},AjLL:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("i8i4"),s=r("r8oj"),u=r("M64d"),c=r("ikHm"),d=r("6WtK"),p=r("t+pW"),f=r("fx0I"),h=r("TmDR"),m=r("h5Kq"),y=r("PiSS"),g=r("zK7c"),v=r("Hq/H"),b=r("wZk+"),w=r("2WqK"),S=r("gdeG"),_=r("CIk0"),k=r("KYd6"),C=r("bK/N"),E=r("EZe4"),P=r("QcDD"),x=r("8kr4"),T=r("Sd8d"),O=r("uUOz"),M=r("/wWF"),I=r("UiOz"),A=r("HTHG"),D=r("7M94"),L=r("AXh+"),R=r("d9nj"),B=r("mF3+"),j=r("sS7W"),V=r("Ripq"),F=r("sdlW"),N=r("H4VD"),U=r("qqdV"),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDoubleClickTopbar=function(e){e.target===e.currentTarget&&E.default({event:e,context:E.EventContext.EditorDoubleClick,callback:C.toggleMaximized})},t.forkPageRef=null,t.handleForkPageRef=function(e){t.forkPageRef=e},t.handleOpenQuickFind=function(){j.openQuickFind({analyticsFrom:"public-page-topbar"})},t.handleOpenForkPage=function(){V.openForkPagePopup({store:t.props.store,originRect:t.getDuplicateClientRect()})},t.handleClickNotion=function(){var e=P.default.state,t=e.userRootStore,r=e.userSettingsStore;t&&r?F.navigateToFirstSpace({userRootStore:t,userSettingsStore:r}):N.navigate({url:U.login})},t.shouldFadeOut=t.createComputedStore(function(){return A.shouldHideTopbar()}),t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return u.default(function(t){return i.createElement("div",a({style:e.getWrapStyle()},t),L.userHasPermissionViaPublicAccess(e.props.store)?e.renderPublicPageTopbar():e.renderNormalTopbar(),i.createElement(m.default,{bannerStore:I.default}))})},t.prototype.renderPublicPageTopbar=function(){var e=this.props,r=e.store,n=e.isInvalidPage,o=e.isElectron;return i.createElement("div",{style:this.getStyle(),className:"notion-topbar"},i.createElement("div",{style:this.getContainerStyle(),onDoubleClick:this.handleDoubleClickTopbar},o&&i.createElement(v.default,null),!n&&i.createElement(d.default,{store:r,style:t.breadcrumbStyle,maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0}),i.createElement("div",{style:{flexGrow:1,flexShrink:1}}),i.createElement(R.default,{onClick:this.handleOpenQuickFind},B.default.searchThick(t.topbarIconStyle),"Search"),L.allowsPublicPageDuplicate(this.props.store)&&i.createElement(R.default,{onClick:this.handleOpenForkPage,ref:this.handleForkPageRef},"Duplicate"),i.createElement("div",{style:this.getPublicPageTopbarDividerStyle()}),i.createElement(R.default,{onClick:this.handleClickNotion},B.default.notionLogo(t.notionLogoStyle),"Notion")))},t.prototype.renderNormalTopbar=function(){var e=this,r=this.props,n=r.store,o=r.isInvalidPage,a=r.isElectron,l=r.showSidebarButton;return i.createElement(g.default,{store:n,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:function(){return i.createElement("div",{style:e.getStyle(),className:D.topbar},i.createElement("div",{style:e.getContainerStyle(),onDoubleClick:e.handleDoubleClickTopbar},l&&i.createElement(S.default,null),a&&i.createElement(v.default,null),!o&&i.createElement(d.default,{store:n,style:t.breadcrumbStyle,maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0}),i.createElement(h.default,{store:n,isMobile:!1,key:n.id,isInlineCollection:!1}),!o&&i.createElement(f.default,null),i.createElement("div",{style:{flexGrow:1,flexShrink:1}}),!o&&e.renderActionButtons()))}})},t.prototype.renderActionButtons=function(){var e=this.props,r=e.store,n=e.spaceStore,o=e.presenceStore,a=e.collectionViewStore,l=P.default.state.currentSpaceViewStore;return i.createElement("div",{style:t.actionButtonsWrapStyle},r.canEdit()&&o&&i.createElement(y.default,{presenceStore:o}),i.createElement(w.default,{store:r,buttonPopupStore:x.default}),!s.default.isMobile&&n&&i.createElement(k.default,{blockStore:r,spaceStore:n,buttonPopupStore:T.default}),l&&i.createElement(_.default,{store:r,spaceViewStore:l}),!s.default.isMobile&&i.createElement(b.default,{store:r,collectionViewStore:a,buttonPopupStore:O.default}))},t.prototype.getDuplicateClientRect=function(){if(this.forkPageRef){var e=l.findDOMNode(this.forkPageRef);if(e instanceof Element)return e.getBoundingClientRect()}},t.prototype.getWrapStyle=function(){return{width:"100%",maxWidth:"100vw",zIndex:c.topbar}},t.prototype.getTopbarHeight=function(){return s.default.isElectronMac?t.desktopMacHeight:t.defaultHeight},t.prototype.getStyle=function(){return{width:"100%",maxWidth:"100vw",height:this.getTopbarHeight(),opacity:this.shouldFadeOut.state?0:1,transition:"\n\t\t\t\topacity "+t.transitionDuration+"ms,\n\t\t\t\tcolor "+t.transitionDuration+"ms\n\t\t\t",position:"relative"}},t.prototype.getContainerStyle=function(){var e=s.default.isElectronMac&&(!A.AppRenderStateStore.state.shouldShowSidebar||!A.sidebarIsExpanded())&&!M.default.state.isFullScreen;return{display:"flex",justifyContent:"space-between",alignItems:"center",position:"absolute",overflow:"hidden",height:this.getTopbarHeight(),left:0,right:0,bottom:0,paddingLeft:e?t.paddingLeftWhenDesktopSidebarClose:s.default.isMobile?4:12,paddingRight:s.default.isMobile?4:10}},t.prototype.getPublicPageTopbarDividerStyle=function(){return{flex:"none",width:1,height:16,marginLeft:8,marginRight:8,background:this.theme.darkDividerColor}},t.defaultHeight=45,t.desktopMacHeight=37,t.paddingLeftWhenDesktopSidebarClose=73,t.transitionDuration=700,t.actionButtonsWrapStyle={flexGrow:0,flexShrink:0,display:"flex",alignItems:"stretch"},t.breadcrumbStyle={height:"100%",flexGrow:0,marginRight:8,fontSize:14,minWidth:0},t.topbarIconStyle={width:14,height:14,marginRight:6},t.notionLogoStyle={width:18,height:18,marginRight:6},t}(p.default);t.default=W},Ajfl:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("LvDl"),s=r("cBa6"),u=r("bPtJ"),c=r("sjR4"),d=r("y6Dp"),p=r("l4I2"),f=r("6rsX"),h=r("unoy"),m=r("IzPW"),y=r("8hjU"),g=r("Jb4e"),v=r("N34Z"),b=r("ALSZ"),w=r("sQnJ"),S=r("X6Ne"),_=r("LNOE"),k=r("7TLZ"),C=r("MBf9"),E=r("DNgp"),P=r("AmMh"),x=r("43ch"),T=r("w5u6"),O=r("T1hA");t.selectionRange=function(e){return l.range(e.startIndex,e.endIndex)};var M=function(e,t){var r=e.getValue(),n=[],o=s.getTextWithoutTokens(r),a=t.startIndex,i=t.endIndex,u=l.toArray(o),c=l.slice(u,0,a),d=l.findLastIndex(c,function(e){return"\n"===e});d>=0?n.push(d):n.push(0);for(var p=a;p<i;p++){"\n"===u[p]&&n.push(p)}return n};t.deleteSelection=function(e){var r,n,o=e.store,c=e.selection,d=e.transaction;if(c.startIndex!==c.endIndex){var p=o.getValue(),f=s.deleteCharRange(p,c.startIndex,c.endIndex);t.setValue({store:o,value:f,transaction:d});var m=o.getRecordStoreAtRootPath();if("block"===m.table){var y=m,g=s.getTextValueInRange(p,c.startIndex,c.endIndex),v=l.without.apply(l,a([s.getDiscussionIds(g)],s.getDiscussionIds(f)));try{for(var b=i(v),w=b.next();!w.done;w=b.next()){var S=w.value,k=u.createRecordStore(y,"discussion",S);_.deleteDiscussion({discussionStore:k,transaction:d})}}catch(e){r={error:e}}finally{try{w&&!w.done&&(n=b.return)&&n.call(b)}finally{if(r)throw r.error}}}var C={startIndex:c.startIndex,endIndex:c.startIndex};h.setSelection({store:o,selection:C})}else h.setSelection({store:o,selection:c})},t.collapseTextSelection=function(e){var t=E.default.state;t.editing&&t.selection.startIndex!==t.selection.endIndex&&("start"===e.direction?E.default.setState(n({},t,{selection:n({},t.selection,{endIndex:t.selection.startIndex})})):E.default.setState(n({},t,{selection:n({},t.selection,{startIndex:t.selection.endIndex})})))},t.insertString=function(e){var r=e.store,n=e.selection,o=e.string,a=e.transaction,i=r.getValue(),u=E.default.state;if(u.editing){var c=s.sanitizeString(o),d=l.toArray(c).length;if(t.deleteSelection({store:r,selection:n,transaction:a}),d>0){var p=l.cloneDeep(u.extendAnnotations.entries()),f=s.createToken(c,p),m=r.getValue(),g=s.insertTokensAtCharIndex(m,[f],n.startIndex);t.setValue({store:r,value:g,transaction:a});var v={startIndex:n.startIndex+d,endIndex:n.startIndex+d};h.setSelection({store:r,selection:v}),y.runAllFiltersAfterTransaction({store:r,transaction:a}),b.activateFromInsertion({textStore:r,oldSelection:n,oldTextValue:i}),w.activateFromInsertion({textStore:r,oldSelection:n,oldTextValue:i})}}},t.insertTokens=function(e){var r,n,o=e.store,u=e.tokens,c=e.index,d=e.transaction,p=o.getValue()||[],f=s.insertTokensAtCharIndex(p,u,c);t.setValue({store:o,value:f,transaction:d});var m=o.getRecordStoreAtRootPath();if("block"===m.table){var y=m,g=l.without.apply(l,a([s.getDiscussionIds(u)],s.getDiscussionIds(p)));try{for(var v=i(g),b=v.next();!b.done;b=v.next()){var w=b.value,S=k.getDiscussionsStore(y);C.addOperation({transaction:d,store:S,operation:{table:S.table,id:S.id,path:S.path,command:"listAfter",args:{id:w,after:void 0}}})}}catch(e){r={error:e}}finally{try{b&&!b.done&&(n=v.return)&&n.call(v)}finally{if(r)throw r.error}}}var _=s.getChars(u).length;h.setSelection({store:o,selection:{startIndex:c+_,endIndex:c+_}})},t.setValue=function(e){var t=e.store,r=e.value,n=e.transaction;if(v.setValue({store:t,transaction:n,value:s.normalizeTextValue(r)}),t.isTable("block")){var o=t.getRecordStoreAtRootPath().getValue();o&&d.trackEditBlockText({block_id:o.id,type:o.type})}},t.setStringValue=function(e){var r=e.store,n=e.string,o=e.transaction,a=s.sanitizeString(n),i=s.createTextValue(a);t.setValue({store:r,value:i,transaction:o})},t.annotate=function(e){var r=e.store,n=e.selection,o=e.annotation,a=e.transaction,i=r.getValue();if(i){var u=o,c=s.getAnnotationType(u),d=s.splitTokensWithCharRange(i,n.startIndex,n.endIndex).tokensInsideRange,p=void 0;p=l.every(d,function(e){return s.getTokenAnnotations(e).some(function(e){return s.getAnnotationType(e)===c})})?d.map(function(e){var t=s.getTokenValue(e),r=s.getTokenAnnotations(e).filter(function(e){return s.getAnnotationType(e)!==c});return s.createToken(t,r)}):d.map(function(e){var t=s.getTokenValue(e),r=s.getTokenAnnotations(e).filter(function(e){return s.getAnnotationType(e)!==c});return r.push(u),s.createToken(t,r)});var f=r.getValue(),h=s.deleteCharRange(f,n.startIndex,n.endIndex),m=s.insertTokensAtCharIndex(h,p,n.startIndex);t.setValue({store:r,value:m,transaction:a})}},t.annotateBlocks=function(e){var r,n,o=e.blocks,a=e.annotation,u=e.transaction,c=s.getAnnotationType(a),d=l.compact(o.map(function(e){var t=e.getTitleStore();if(t){var r=t.getValue();if(r)return{block:e,titleStore:t,titleValue:r}}})),p=d.every(function(e){return e.titleValue.every(function(e){return s.getTokenAnnotations(e).some(function(e){return s.getAnnotationType(e)===c})})});try{for(var f=i(d),h=f.next();!h.done;h=f.next()){var m=h.value,y=m.titleValue,g=m.titleStore,v=y.map(function(e){var t=s.getTokenValue(e),r=s.getTokenAnnotations(e).filter(function(e){return s.getAnnotationType(e)!==c});return p||r.push(a),s.createToken(t,r)});t.setValue({store:g,value:v,transaction:u})}}catch(e){r={error:e}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}},t.removeAnnotationTypeFromSelection=function(e){var r=e.store,n=e.selection,o=e.type,a=e.transaction,i=r.getValue();if(i){var l=s.splitTokensWithCharRange(i,n.startIndex,n.endIndex).tokensInsideRange.map(function(e){var t=s.getTokenAnnotations(e),r=s.getTokenValue(e),n=t.filter(function(e){return s.getAnnotationType(e)!==o});return s.createToken(r,n)}),u=s.deleteCharRange(i,n.startIndex,n.endIndex),c=s.insertTokensAtCharIndex(u,l,n.startIndex);t.setValue({store:r,value:c,transaction:a}),h.setSelection({store:r,selection:n})}},t.deleteAfterSelection=function(e){var r=e.store,n=e.selection,o=e.transaction,a=s.getTokens(r.getValue()),i=s.getText(a),l=n.endIndex,u=i.length,c=s.splitTokensWithCharRange(a,l,u).tokensInsideRange;return c.length>0&&t.deleteSelection({store:r,selection:{startIndex:l,endIndex:u},transaction:o}),{store:r,tokens:c}},t.insertDeletedSelection=function(e){var r=e.store,n=e.selection,o=e.deleteAfterSelectionResult,a=e.transaction;t.insertTokens({store:r,tokens:o.tokens,index:n.startIndex,transaction:a})},t.tab=function(e){var t,r=e.store,n=e.closestSelectable,o=e.shiftKey,a=e.transaction;t=o?p.unindent({blocks:[n],transaction:a}).blocks:p.indent({blocks:[n],transaction:a}).blocks;var i=E.default.state;if(i.editing){var l=i.selection;T.default.afterNextFlush(function(){var e=P.default.findSelectableFromStore(t[0]);if(f.replaceInSelection({store:n,replace:t[0]}),e){var o=x.default.findEditableWithinSelectable(e);o?(h.replaceInSelection({store:r,replace:o.props.store}),h.setSelection({store:o.props.store,selection:l})):f.setPhase({phase:c.SelectionPhase.Selected})}})}},t.moveUp=function(e){var t=e.store,r=e.closestSelectable,n=e.transaction,o=p.moveUp({transaction:n,blocks:[r]});if(o){var a=E.default.state;if(a.editing){var i=a.selection;T.default.afterNextFlush(function(){var e=P.default.findSelectableFromStore(o[0]);if(f.replaceInSelection({store:r,replace:o[0]}),e){var n=x.default.findEditableWithinSelectable(e);n?(h.replaceInSelection({store:t,replace:n.props.store}),h.setSelection({store:n.props.store,selection:i})):f.setPhase({phase:c.SelectionPhase.Selected})}S.scrollToSelection()})}}},t.moveDown=function(e){var t=e.store,r=e.closestSelectable,n=e.transaction,o=p.moveDown({transaction:n,blocks:[r]});if(o){var a=E.default.state;if(a.editing){var i=a.selection;T.default.afterNextFlush(function(){var e=P.default.findSelectableFromStore(o[0]);if(f.replaceInSelection({store:r,replace:o[0]}),e){var n=x.default.findEditableWithinSelectable(e);n?(h.replaceInSelection({store:t,replace:n.props.store}),h.setSelection({store:n.props.store,selection:i})):f.setPhase({phase:c.SelectionPhase.Selected})}S.scrollToSelection()})}}},t.applyTextUpdate=function(e){var r,a,u=e.store,c=e.newValue,d=e.transaction,p=u.getValue(),f=s.getText(p),y=g.getTextDiff(f,c),v=E.default.state;if(v.editing){for(var b=0,w=0;w<y.length;w++){var S=y[w];if(b+l.toArray(S[1]).length>v.selection.startIndex){if(S[0]===g.DIFF_EQUAL){var _=y[w-1],k=y[w+1],C=y[w-2],P=y[w+2];if(k&&k[0]===g.DIFF_INSERT)for(P||(P=[g.DIFF_EQUAL,""],y.push(P));b+l.toArray(S[1]).length>v.selection.startIndex&&S[1].endsWith(k[1]);)S[1]=S[1].slice(0,S[1].length-k[1].length),P[1]=k[1]+P[1];else if(_&&_[0]===g.DIFF_INSERT)for(C||(C=[g.DIFF_EQUAL,""],y.unshift(C));b+l.toArray(S[1]).length>v.selection.startIndex&&S[1].startsWith(_[1]);)S[1]=S[1].slice(_[1].length),C[1]=C[1]+_[1],b-=l.toArray(_[1]).length}break}b+=l.toArray(S[1]).length}var x=v.extendAnnotations.clone(),T=!1,O=0;try{for(var M=i(y),I=M.next();!I.done;I=M.next()){var A=o(I.value,2),D=A[0],L=A[1];if(E.default.setState(n({},v,{extendAnnotations:x})),D===g.DIFF_INSERT)T=!0,t.insertString({store:u,selection:{startIndex:O,endIndex:O},string:L,transaction:d}),O+=l.toArray(L).length;else if(D===g.DIFF_DELETE){T=!0;var R=l.toArray(L).length;t.deleteSelection({store:u,selection:{startIndex:O,endIndex:O+R},transaction:d})}else D===g.DIFF_EQUAL&&(O+=l.toArray(L).length)}}catch(e){r={error:e}}finally{try{I&&!I.done&&(a=M.return)&&a.call(M)}finally{if(r)throw r.error}}if(T){var B=m.serializeTextSelection();B&&h.setSelection({store:u,selection:{startIndex:B.startIndex,endIndex:B.startIndex}})}}},t.insertMention=function(e){var r=e.store,n=e.selection,o=e.annotation,a=e.analyticsFrom,i=e.transaction;t.deleteSelection({store:r,selection:n,transaction:i});var l=s.createMentionToken(o);if(t.insertTokens({store:r,tokens:[l],index:n.startIndex,transaction:i}),h.setSelection({store:r,selection:{startIndex:n.startIndex+1,endIndex:n.startIndex+1}}),s.isUserAnnotation(o)&&r.isTable("block")){var u=O.default.state.userId,c=s.getUserAnnotationData(o);(f=r.getRecordStoreAtRootPath().getValue())&&u&&d.trackMentionUser({is_current_user:c===u,user_id:c,from:a,block_type:f.type})}else if(s.isDateAnnotation(o)&&r.isTable("block")){var p=s.getDateAnnotationData(o);(f=r.getRecordStoreAtRootPath().getValue())&&d.trackMentionDate({date:p,from:a,block_type:f.type})}else if(s.isPageAnnotation(o)&&r.isTable("block")){var f,m=s.getPageAnnotationData(o);(f=r.getRecordStoreAtRootPath().getValue())&&d.trackMentionPage({page_id:m,from:a,block_type:f.type})}},t.indentSelection=function(e){var r,n,o=e.store,u=e.selection,c=e.transaction,d=M(o,u),p=l.toArray(s.getTextWithoutTokens(o.getValue())),f=0;try{for(var m=i(d),y=m.next();!y.done;y=m.next()){var g=y.value;if(f++,0===g)p.unshift("\t");else{var v=g+f;p=a(l.slice(p,0,v),["\t"],l.slice(p,v))}}}catch(e){r={error:e}}finally{try{y&&!y.done&&(n=m.return)&&n.call(m)}finally{if(r)throw r.error}}t.setStringValue({store:o,string:p.join(""),transaction:c}),h.setSelection({store:o,selection:{startIndex:u.startIndex+1,endIndex:u.endIndex+f}})},t.unindentSelection=function(e){var r,n,o=e.store,u=e.selection,c=e.transaction,d=M(o,u),p=l.toArray(s.getTextWithoutTokens(o.getValue())),f=0,m=0;try{for(var y=i(d),g=y.next();!g.done;g=y.next()){var v=g.value,b=v-f;0===b?"\t"===p[0]?(p=l.slice(p,1),f+=1):" "===p[0]&&" "===p[1]?(p=l.slice(p,2),f+=2):" "===p[0]&&(p=l.slice(p,1),f+=1):"\t"===p[b+1]?(p=a(l.slice(p,0,b+1),l.slice(p,b+2)),f+=1):" "===p[b+1]&&" "===p[b+2]?(p=a(l.slice(p,0,b+1),l.slice(p,b+3)),f+=2):" "===p[b+1]&&(p=a(l.slice(p,0,b+1),l.slice(p,b+2)),f+=1),v<=u.startIndex&&(m=f)}}catch(e){r={error:e}}finally{try{g&&!g.done&&(n=y.return)&&n.call(y)}finally{if(r)throw r.error}}t.setStringValue({store:o,string:p.join(""),transaction:c}),h.setSelection({store:o,selection:{startIndex:u.startIndex-m,endIndex:u.endIndex-f}})}},AlLG:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("g4rC"),s=r("t+pW"),u=r("zEGb"),c=r("G4GV"),d=r("r8oj"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,r=e.propertySchema,n=e.showIcon,o=e.style,l=d.default.isMobile?16:14;return i.createElement("div",{style:a({},t.baseStyle,{fontSize:l},o)},n&&i.createElement("div",{style:this.getIconStyle()},this.renderIcon()),i.createElement("div",{style:t.titleStyle},r.name))},t.prototype.renderIcon=function(){var e=this.props.propertySchema,t=d.default.isMobile?16:14;return i.createElement(u.default,{type:e.type,size:this.props.iconSize||t,theme:this.theme})},t.prototype.getIconStyle=function(){return{marginRight:6}},t.stores={buttonPopupStore:l.default,nameInputStore:c.default},t.baseStyle={display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0},t.titleStyle={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},t}(s.default);t.default=p},AlpE:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("STAJ"),s=r("njgS"),u=r("wldR"),c=r("mF3+"),d=r("G4GV"),p=r("i3uR"),f=r("uSCg"),h=r("EZe4"),m=r("wF3w"),y=r("XDBA"),g=r("y6Dp"),v=r("LeVO"),b=r("VBxf"),w=r("WgIs"),S=r("2Y+N"),_=r("gbGO"),k=r("SR/M"),C=r("dXb3"),E=r("r8oj"),P=r("g90h"),x=r("nkfK"),T=r("6sah"),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderOverlay=function(e){var r,n=function(){t.updateTitleIfChanged(),e.close()};return r=E.default.isMobile?{menuType:_.default.MenuType.Modal,title:"Edit View",right:"Done",onClickRight:n}:{menuType:_.default.MenuType.Popup,width:280},i.createElement(_.default,a({},r),i.createElement(S.default,{isInput:!0},i.createElement(C.default,{focus:!E.default.isMobile||void 0,value:t.stores.nameInputStore.state.inputValue,onChange:t.handleInputChange,onSubmit:n,placeholder:"Untitled View",mobileEditLabel:"Rename"})),i.createElement(w.default,{sections:t.getMenuListSections(),initialFocus:void 0,disableKeyboard:!0}))},t.handleButtonClick=function(e){h.default({event:e,context:h.EventContext.MenuListClick,callback:function(){}})},t.handleclose=function(){t.updateTitleIfChanged()},t.handleInputChange=function(e){t.stores.nameInputStore.setState(a({},t.stores.nameInputStore.state,{inputValue:e.target.value}))},t.handleDeleteView=function(){b.showDialog({showCancel:!0,keepFocus:!1,message:"Are you sure you want to delete this view?",items:[{label:"Remove",color:"red",onAccept:function(){var e=t.props,r=e.onChange,n=e.viewValue,o=e.views.map(function(e){return e.id}),a=o.indexOf(n.id),i=l.without([n.id],o);r({viewIds:i,currentViewId:i[a-1]||i[0],updateViewId:n.id,updateView:{alive:!1}}),g.trackDeleteView({view_type:n.type})}}]})},t.handleDuplicateView=function(){var e=t.props,r=e.viewValue,n=e.views,o=e.onChange,i={},s=a({},r,{id:P.default(),name:x.getStringCopyName(r.name||"Untitled View")});i.updateViewId=s.id,i.updateView=s,i.currentViewId=s.id;var u=n.map(function(e){return e.id}),c=u.indexOf(r.id);i.viewIds=l.insert(c+1,s.id,u),o(i),g.trackConfigureView({view_type:s.type,action:"duplicate"})},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t);var r=t.viewValue;this.stores.nameInputStore.setState(a({},this.stores.nameInputStore.state,{inputValue:r.name||""}))},t.prototype.renderComponent=function(){var e=this;return i.createElement(p.default,{popupType:E.default.isMobile?p.default.PopupType.SlideUp:p.default.PopupType.Popup,renderOrigin:function(t){return i.createElement(v.default,{renderTooltip:function(){return"Rename, Delete, and more..."},render:function(r){return i.createElement(T.default,a({isMobile:E.default.isMobile},f.default(t,{onClick:e.handleButtonClick,tooltipEvents:r})))}})},render:this.renderOverlay,onClose:this.handleclose})},t.prototype.renderViewTypeMenuItem=function(e,t){var r=this;return i.createElement(v.default,{key:s.collectionViewTypeDisplayNameMap[t],placement:v.default.Placement.Right,renderTooltip:function(){return i.createElement("div",{style:{width:300,marginTop:4,marginBottom:4}},i.createElement("div",{style:{width:"100%",height:200,borderRadius:3,backgroundImage:"url("+s.collectionViewTypeTooltipPhotoMap[t]+")",backgroundSize:"cover",marginBottom:6}}),i.createElement("div",{style:{whiteSpace:"normal",lineHeight:1.4}},s.collectionViewTypeCaptionMap[t]))},render:function(n){return i.createElement(k.default,a({title:s.collectionViewTypeDisplayNameMap[t],caption:s.collectionViewTypeCaptionMap[t],icon:s.collectionViewTypeIconMap[t]({width:E.default.isMobile?16:14}),checkState:r.props.viewValue.type===t,shouldWrapCaption:!0},e,n))}})},t.prototype.renderDuplicateViewMenuItem=function(e){return i.createElement(k.default,a({title:"Duplicate",icon:c.default.duplicate({width:E.default.isMobile?22:17})},e))},t.prototype.renderDeleteViewMenuItem=function(e){return i.createElement(k.default,a({title:"Delete",icon:c.default.trashThick({width:E.default.isMobile?22:17})},e))},t.prototype.getMenuListSections=function(){var e=this;return[{key:"view_type",render:function(e){return i.createElement(S.default,a({},e))},items:s.collectionViewTypes.map(function(t){return{key:t,render:function(r){return e.renderViewTypeMenuItem(r,t)},action:function(){e.updateType(t)}}})},{key:"actions",render:function(e){return i.createElement(S.default,a({},e,{topBorder:!0}))},items:[{key:"duplicate",render:this.renderDuplicateViewMenuItem,action:this.handleDuplicateView},{key:"delete",render:this.renderDeleteViewMenuItem,action:this.handleDeleteView}]}]},t.prototype.updateType=function(e){var t,r,n=this.props,o=n.schema,i=n.viewValue,l=n.onChange,u=n.query,c={};if(c.updateViewId=i.id,c.updateView={},"board"===e){var d=void 0,p=y.findGroupableProperty(o);if(!p)p=m.default(),d=a({},o,((t={})[p]={name:"Status",type:"select",options:[]},t));var f=a({},u,{group_by:p});c.updateView.query=f,d&&(c.newSchema=d)}else if("calendar"===e){d=void 0;var h=y.findCalendarProperty(o);if(!h)h=m.default(),d=a({},o,((r={})[h]={name:"Date",type:"date"},r));f=a({},u,{calendar_by:h});c.updateView.query=f,d&&(c.newSchema=d)}else if("gallery"===e)c.updateView.format=a({},i.format,{gallery_cover:{type:"page_content"}});else if("list"===e){var v=Object.keys(o).find(function(e){var t=o[e];return Boolean(t&&s.isListViewDefaultType(t))});c.updateView.format=a({},i.format,{list_properties:v?[{property:v,visible:!0}]:[]})}c.updateView.type=e,l(c),g.trackConfigureView({view_type:e,action:"change_type"})},t.prototype.updateTitleIfChanged=function(){var e=this.stores.nameInputStore.state.inputValue,t=this.props,r=t.viewValue,n=t.onChange;e!==r.name&&(n({updateViewId:r.id,updateView:{name:e}}),g.trackConfigureView({view_type:r.type,action:"rename"}))},t.stores={nameInputStore:d.default},t}(u.default);t.default=O},Am28:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("STAJ"),u=r("i8i4"),c=r("wldR"),d=r("+575"),p=r("vX3W"),f=r("g8hj"),h=r("BkqD"),m=r("YQvo"),y=r("VBxf"),g=r("nFzZ"),v=r("gbGO"),b=r("r8oj"),w=r("2Y+N"),S=r("p+Y9"),_=r("nObc"),k=r("NFu9"),C=r("D8Ld"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderFile=function(e){var r=t.props,n=r.value,o=r.disabled,a=n.find(function(r){return t.getTokenUrl(r)===e});if(a){var l=a.data||a.value,s=a.value||a.data;return b.default.isMobile?i.createElement(w.default,{key:l},i.createElement(h.default,{store:t.props.store,name:s,url:l,onDelete:t.handleFileDelete,onChange:t.handleFileChange,disabled:o})):i.createElement(h.default,{store:t.props.store,name:s,url:l,onDelete:t.handleFileDelete,onChange:t.handleFileChange,key:l,disabled:o})}},t.handleAddFileMount=function(e){e&&(t.addFileButton=e)},t.handleAddFileClick=function(e){t.showMediaPicker()},t.handleDraggableDrop=function(e){var r=t.props,n=r.onChange,o=r.value;n({value:s.sortBy(function(r){var n=t.getTokenUrl(r);return n?e.indexOf(n):1/0},o)})},t.handleMediaPickerUploadStart=function(e){p.clear(),t.stores.fileUploadStore.setState({isLoading:!0,progressPercent:0}),t.uploadingFiles=[e]},t.handleMediaPickerUploadComplete=function(e){var r=t.props,n=r.value,o=r.onChange;if(t.uploadingFiles){var a=t.uploadingFiles[0];if(a){var i={type:d.TokenType.Link,value:a.name||e,data:e};o({value:n.concat([i])}),t.stores.fileUploadStore.reset(),p.clear()}}},t.handleMediaPickerEmbedComplete=function(e){var r=t.props,n=r.value,o=r.onChange,a={type:d.TokenType.Link,value:e,data:e};o({value:n.concat([a])}),t.stores.fileUploadStore.reset(),p.clear()},t.handleUploadFilesStart=function(e){t.stores.fileUploadStore.setState({isLoading:!0,progressPercent:0}),t.uploadingFiles=e},t.handleUploadFilesComplete=function(e){var r=t.props,n=r.value,o=r.onChange;t.uploadingFiles&&(o({value:t.uploadingFiles.map(function(t,r){var n=e[r];return{type:d.TokenType.Link,value:t.name||n,data:n}}).concat(n)}),t.stores.fileUploadStore.reset())},t.handleUploadProgress=function(e){var r=e.progressPercent;t.stores.fileUploadStore.setState(a({},t.stores.fileUploadStore.state,{progressPercent:r}))},t.handleUploadError=function(e){t.stores.fileUploadStore.reset(),y.showError({error:new Error("Upload failed.")})},t.handleFileChange=function(e){var r=t.props,n=r.value;(0,r.onChange)({value:n.map(function(t){return t.data===e.url?{type:d.TokenType.Link,value:e.name,data:e.url}:t})})},t.handleFileDelete=function(e){var r=t.props,n=r.value;(0,r.onChange)({value:n.filter(function(t){return t.data!==e&&t.value!==e})})},t}return o(t,e),t.prototype.didMount=function(){var e=this.props.uploadFiles;e?S.uploadFiles({files:e,bucket:"secure",onStart:this.handleUploadFilesStart,onProgress:this.handleUploadProgress,onComplete:this.handleUploadFilesComplete,onError:this.handleUploadError}):this.isEmpty()&&!b.default.isMobile&&this.showMediaPicker()},t.prototype.willUnmount=function(){p.clear()},t.prototype.renderComponent=function(){var e,t=this.props.disabled,r=this.isEmpty(),n=this.stores.fileUploadStore.state,o=n.isLoading,l=n.progressPercent;return e=b.default.isMobile?{menuType:v.default.MenuType.Modal,title:"File Property",right:"Done",onClickRight:this.props.onDismiss}:{menuType:v.default.MenuType.Popup},i.createElement(C.default,{capture:!0,allowUndo:!0,allowEsc:!0,allowTabUntab:!0},i.createElement(v.default,a({},e),this.renderFiles(),i.createElement(w.default,{topBorder:!r&&!t,desktopStyle:a({},r&&{paddingTop:3,paddingBottom:3})},o&&i.createElement(k.default,{progressPercent:l}),!o&&!t&&i.createElement(_.default,{focused:!1,onClick:this.handleAddFileClick,title:"Add a File or Image",ref:this.handleAddFileMount}))))},t.prototype.renderFiles=function(){var e=this,t=this.props,r=t.value,n=t.disabled,o=g.compact(r.map(function(t){return e.getTokenUrl(t)}));return 0===o.length?void 0:b.default.isMobile||n?i.createElement(l.Fragment,null,o.map(this.renderFile)):i.createElement(w.default,null,i.createElement(f.default,{direction:f.DraggableListDirection.Vertical,keys:o,renderKey:this.renderFile,onDrop:this.handleDraggableDrop}))},t.prototype.isEmpty=function(){return 0===this.props.value.length},t.prototype.showMediaPicker=function(){var e=this,t=u.findDOMNode(this.addFileButton);t&&t instanceof Element&&p.show({originRect:t.getBoundingClientRect(),originGap:3,isSmallWidth:!0,showArrow:!0,title:"File",currentTab:"file",tabs:[{type:"file",onUpload:function(t){S.uploadFile({file:t,bucket:"secure",onStart:e.handleMediaPickerUploadStart,onProgress:e.handleUploadProgress,onComplete:e.handleMediaPickerUploadComplete,onError:e.handleUploadError})}},{type:"embed",onChange:this.handleMediaPickerEmbedComplete}]})},t.prototype.getTokenUrl=function(e){if(e.type===d.TokenType.Link)return e.data},t.stores={fileUploadStore:m.default},t}(c.default);t.default=E},AmMh:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("Uv1v"),i=r("nFzZ"),l=r("sjR4"),s=r("43ch"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.findSelectableFromStore=function(e){return this.findComponent(function(t){return t.props.store===e})},t.prototype.findNodeFromStore=function(e){var t=this.findSelectableFromStore(e);if(t)return t.getNode()},t.prototype.getRectFromStore=function(e){var t=this.findNodeFromStore(e);if(t&&t instanceof Element)return t.getBoundingClientRect()},t.prototype.findEditableStoreWithin=function(e){var t=this.findSelectableFromStore(e);if(t){var r=s.default.findEditableWithinSelectable(t);if(r)return r.props.store}},t.prototype.getSelectableComponentsWithin=function(e){var t=this.findNodeFromStore(e);return this.getSortedComponents().filter(function(e){var r=e.getNode();return!(!r||!t)&&(r!==t&&t.contains(r))})},t.prototype.findSelectablesFromIds=function(e){var t=l.default.state.defaultContainer,r=this.getSortedComponents();return i.compact(e.map(function(e){return r.find(function(r){var n=r.props.store,o=r.getContextSelectableContainer();return Boolean(n&&n.id===e&&o===t)})}))},t}(a.default);t.default=new u},AoM6:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("q1tI"),u=r("8N42"),c=r("r8oj"),d=r("ikHm"),p=r("t+pW"),f=r("ZKzj"),h=r("wPEN"),m=r("jxWl"),y=r("XBB3"),g=r("sV9r"),v=r("8fuX"),b=r("zK7c"),w=r("AjLL"),S=r("Acox"),_=r("X6Ne"),k=r("wlCD"),C=r("ttM1"),E=r("udrG"),P=r("Qc1K"),x=r("lBar"),T=r("enKW"),O=r("1Qd2"),M=r("QcDD"),I=r("T1hA"),A=r("Iece"),D=r("UcZb"),L=r("p0Uu"),R=r("szb2"),B=r("cy36"),j=r("0GcB"),V=r("KSnN"),F=r("HTHG"),N=r("7M94"),U=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderPageSpinner=function(e){if(e){var r={position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"};return c.default.isMobile||F.sidebarIsExpanded()&&(r.left=D.default.state.width),i.createElement("div",{style:r,key:"spinner"},i.createElement(k.default,{style:{opacity:.5,width:t.spinnerSize,height:t.spinnerSize}}))}},r.renderContent=function(e){var t=r.props.store,n=M.default.state,o=n.presenceStore,a=n.currentLoadingContainerStore,l=t.getValue();return l&&l.type===E.default.copyIndicator?i.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:16,marginTop:"12vh"}},i.createElement(k.default,null),i.createElement("div",{style:{fontSize:14,marginTop:8,color:r.theme.mediumTextColor}},"Importing...")):r.shouldShowOfflineIndicator(e)?i.createElement(m.default,{store:t}):i.createElement(s.Fragment,null,i.createElement(y.default,{context:y.PageViewBlockContext.Frame,store:t,loadingContainerStore:a,paddingTop:y.default.titlePaddingMarginTop,paddingBottom:y.default.paddingBottom,paddingLeft:y.default.defaultPaddingLeftRight,paddingRight:y.default.defaultPaddingLeftRight,pageCoverHeight:y.default.defaultPageCoverHeight,disabled:!1}),i.createElement(g.default,{presenceStore:o}))},r.handleScrollerMount=function(e){L.default.PageScroller=e},r}return o(t,e),t.prototype.willUnmount=function(){u.clearLimitParents({rootStore:this.props.store})},t.prototype.renderComponent=function(){var e=this,t=this.props,r=t.store,n=t.collectionViewStore,o=t.routerState,u=o.historyState,d=M.default.state,p=d.currentLoadingContainerStore,m=d.presenceStore,y=d.currentSpaceStore,g=d.currentSpaceViewStore,E=this.shouldShowOfflineIndicator(void 0),x=I.default.isLoggedIn(),T=c.default.isMobile,D=u&&l.isNumber(u.scrollTop)?u.scrollTop:void 0;return i.createElement("div",{style:this.getStyle(),className:N.frame},!T&&i.createElement(w.default,{store:r,collectionViewStore:n,spaceStore:y,spaceViewStore:g,presenceStore:m,showSidebarButton:!F.sidebarIsExpanded(),isElectron:c.default.isElectron,isInvalidPage:E}),T&&i.createElement(S.default,{store:r,collectionViewStore:n,spaceStore:y,spaceViewStore:g,isInvalidPage:E}),c.default.isMobile&&o.route.showMoveTo&&r.canEdit()&&x&&i.createElement(O.default,{store:r,saveParent:Boolean(o.route.saveParent)}),i.createElement(b.default,{store:r,key:r.id,isDefaultContainer:!0,disable:Boolean(R.default.state.open||B.default.state.open),render:function(t){return i.createElement(h.default,{pageStore:r,scrollToBlockIds:V.getScrollToBlockIds(),scrollToPosition:D,store:p,onReady:P.handleFrameReady,initialChunkSize:50,incrementChunkSize:30,incrementScrollOffset:window.innerHeight,loadNextChunkTimeout:1e3,render:function(r){var n=r.error,o=r.ready;return i.createElement(s.Fragment,null,i.createElement(v.default,a({ref:e.handleScrollerMount,disableScroll:_.shouldDisableScroll()||!o,type:e.useSeparateHorizontalScroller()?v.default.OverflowType.Y:v.default.OverflowType.All,style:e.getScrollerStyle(o),store:A.default},t),o&&e.renderContent(n),!o&&i.createElement(k.default,{style:e.getSpinnerStyle()})),i.createElement(C.default,{show:!o,showDelay:300,showHold:0,render:e.renderPageSpinner}))}})}}),x&&T&&i.createElement(f.default,{position:c.default.isReactNative||c.default.isCordova?f.default.Position.Bottom:f.default.Position.Floating}))},t.prototype.shouldShowOfflineIndicator=function(e){var t=this.props.store,r=M.default.state.currentLoadingContainerStore;return!(!e||!r||r.state.endOfResultsReached)||(!t.getValue()||!t.canRead())},t.prototype.getPageViewBlockBottomPadding=function(){return"number"==typeof y.default.paddingBottom?y.default.paddingBottom+"px":y.default.paddingBottom},t.prototype.getStyle=function(){var e={flexGrow:1,flexShrink:1,display:"flex",flexDirection:"column",background:this.theme.contentBackground,zIndex:d.frame,width:"calc(100vw - "+D.default.state.width+"px)",height:"100vh",maxHeight:"100%"};if(c.default.isMobile){var t=D.default.state.open,r="dark"===j.default.state.mode?", -1px 0 0 "+this.theme.shadowColor.alpha(2*this.theme.shadowOpacity).css():"";c.default.isAndroid||(e.boxShadow="\n\t\t\t\t\t"+T.getShadow({elevation:3,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity})+"\n\t\t\t\t\t"+r+"\n\t\t\t\t"),e.pointerEvents=t?"none":"auto",e.transform="translateX(0)"}return e},t.prototype.useSeparateHorizontalScroller=function(){return this.props.store.isCollectionView()&&!x.browserSupportsPositionSticky()},t.prototype.getScrollerStyle=function(e){var r=a({display:"flex",flexDirection:"column",zIndex:1,flexGrow:1,position:"relative"},e?{}:t.hiddenStyle);return this.props.store.isCollectionView()?r:a({},r,{alignItems:"center"})},t.prototype.getSpinnerStyle=function(){return{zIndex:1,opacity:.5,width:t.spinnerSize,height:t.spinnerSize,marginTop:"calc(-"+t.spinnerSize+" / 2 - "+this.getPageViewBlockBottomPadding()+" / 2)",marginBottom:24,marginLeft:"auto",marginRight:"auto"}},t.spinnerSize="1.375em",t.hiddenStyle={opacity:0,pointerEvents:"none",height:0},t}(p.default);t.default=U},AvkE:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("6CqZ"),s=r("7L5k"),u=r("HRSx"),c=r("FUUC"),d=r("6SEd"),p=r("njgS"),f=r("nFzZ"),h=r("VpIZ"),m=r("z22Z"),y=r("cBa6"),g=r("bmSz");function v(e){return f.pick(e,l.activityContextKeys)}function b(e){if(0===s.prepareEditsForDisplay(e).length)return!0;var t=e[0];if("mention-deleted"===t.type)return!0;if("mention-created"===t.type){if(t.user_ids&&-1!==t.user_ids.indexOf(t.mentioned_user_id))return!0}else if(e.every(function(e){return"comment-deleted"===e.type}))return!0;return!1}function w(e){var t=e&&e.edits||[];return i.uniq(i.flatten(t.map(function(e){return e.user_ids||[]})))}function S(e,t){var r=y.getTextValueWithoutDiscussions(e||[]),n=y.getTextValueWithoutDiscussions(t||[]);return!i.isEqual(r,n)}function _(e){var t=e.before,r=e.after,n=e.schema,o=[];return Object.keys(n||p.systemPropertyTypeMap).forEach(function(e){S(t&&t.properties&&t.properties[e],r&&r.properties&&r.properties[e])&&o.push(e)}),o}function k(e){return{name:e.name,description:e.description}}t.windowSizeMs=5*f.MinuteMs,t.performAppendEdit=function(e,t,r){var o=e.edits,p=e.index,f=t&&t.edits||[],h=a(f,o),m=s.squashForActivity(h),y=m[0],w=y&&y.timestamp.toString()||t&&t.start_time||o[0].timestamp,S=i.last(m),_=S&&S.timestamp.toString()||t&&t.end_time||w,k=v(o[0]),C=function(e){var t=e.space_id,r=e.navigable_block_id,n=e.collection_id,o=e.collection_row_id,a=e.top_level_block_id,i=e.discussion_id;return r?{parent_table:u.default.table,parent_id:r}:a?{parent_table:u.default.table,parent_id:a}:o?{parent_table:u.default.table,parent_id:o}:i?{parent_table:g.default.table,parent_id:i}:n?{parent_table:d.default.table,parent_id:n}:{parent_table:c.default.table,parent_id:t}}(o[0]),E=l.editTypeToActivityType[o[0].type];return n({type:E,index:p,start_time:w.toString(),end_time:_.toString(),edits:m.slice(0,1e3),invalid:b(m)},k,C)},t.getActivityGroup=function(e){return l.getActivityId(n({index:-1,type:l.editTypeToActivityType[e.type]},v(e)))},t.getActivityContext=v,t.getAuthors=w,t.isAuthoredByUser=function(e,t){return-1!==w(e).indexOf(t)},t.activityIsUnread=function(e){return!1},t.textValueHasChanged=S,t.getChangedBlockProperties=_,t.getChangedSchemaProperties=function(e){var t=e.before,r=e.after,n=[];for(var o in t)r[o]&&i.isEqual(t[o],r[o])||n.push(o);for(var o in r)t[o]||n.push(o);return n},t.collectionViewChanged=function(e){var t=e.before,r=e.after;return t.type!==r.type||t.name!==r.name||!i.isEqual(t.query,r.query)},t.blockPropertyWasChanged=function(e){var t=e.before,r=e.after,n=e.property;return S(t&&t.properties&&t.properties[n],r&&r.properties&&r.properties[n])},t.blockPropertiesChanged=function(e){return _(e).length>0},t.getCollectionEditData=k,t.collectionDataChanged=function(e,t){return!i.isEqual(k(e),k(t))},t.getCollectionViewEditData=function(e){return{type:e.type,name:e.name,query:e.query}},t.blockWasTransformed=function(e){var t=e.before,r=e.after,n=t?t.type:void 0,o=r?r.type:void 0,a=t&&r&&h.isNavigableType(t)&&h.isNavigableType(r);return n&&o&&n!==o&&!a},t.getUrlForActivity=function(e){var t=e.activity,r=e.getRecordValue,n=e.baseUrl;if("top-level-block-created"===t.type||"top-level-block-deleted"===t.type){if(i=r("block",t.top_level_block_id))return h.getRecordUrl({table:"block",value:i,getRecordValue:r,baseUrl:n})}else if("commented"===t.type){var o=r("discussion",t.discussion_id);if(o&&(a=r("block",o.parent_id)))return h.getRecordUrl({table:"block",value:a,getRecordValue:r,baseUrl:n,discussionId:o.id})}else if("collection-row-created"===t.type||"collection-row-deleted"===t.type){if(i=r("block",t.collection_row_id))return h.getRecordUrl({table:"block",value:i,getRecordValue:r,baseUrl:n})}else if("permissions-edited"===t.type){if(t.navigable_block_id){if(i=r("block",t.navigable_block_id))return h.getRecordUrl({table:"block",value:i,getRecordValue:r,baseUrl:n})}else if(l=r("space",t.space_id))return h.getRecordUrl({table:"space",value:l,getRecordValue:r,baseUrl:n})}else if("block-edited"===t.type){if(i=r("block",t.navigable_block_id))return h.getRecordUrl({table:"block",value:i,getRecordValue:r,baseUrl:n})}else if("user-mentioned"===t.type){if(a=r("block",t.mentioned_block_id))return h.getRecordUrl({table:"block",value:a,getRecordValue:r,baseUrl:n})}else if("reminder"===t.type){var a;if(a=r("block",t.reminder_block_id))return h.getRecordUrl({table:"block",value:a,getRecordValue:r,baseUrl:n})}else if("user-invited"===t.type){var i,l;if(t.navigable_block_id){if(i=r("block",t.navigable_block_id))return h.getRecordUrl({table:"block",value:i,getRecordValue:r,baseUrl:n})}else if(l=r("space",t.space_id))return h.getRecordUrl({table:"space",value:l,getRecordValue:r,baseUrl:n})}return n||"/"},t.getAnalyticsTagForActivity=function(e){switch(e.type){case"top-level-block-created":return"activity_top_level_block_created";case"top-level-block-deleted":return"activity_top_level_block_deleted";case"collection-row-created":return"activity_collection_row_created";case"collection-row-deleted":return"activity_collection_row_deleted";case"block-edited":return"activity_block_edited";case"permissions-edited":return"activity_permissions_edited";case"user-mentioned":return"activity_mention";case"commented":return"activity_comment";case"user-invited":return"activity_invited";case"collection-edited":return"collection_edited";case"collection-view-edited":return"collection_view_edited";case"collection-property-edited":return"collection_property_edited";case"reminder":return"activity_reminder";case"permission-group-edited":return"activity_permission_group_edited";case"page-locked":return"activity_page_locked";case"page-unlocked":return"activity_page_unlocked";case"email-edited":return"activity_email_edited"}},t.isMentionType=function(e){return Boolean(l.mentionTypes[e.type])},t.isAutojoinPermissionEdit=function(e){if("permission-created"===e.type){var t=e.permission_data;if("user_permission"===t.type&&m.canRead(t.role)&&e.user_ids&&1===e.user_ids.length&&e.user_ids[0]===t.user_id)return!0}return!1}},Azc7:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("LvDl"),u=r("q1tI"),c=r("t+pW"),d=r("r8oj"),p=r("prF1"),f=r("lCCU"),h=r("SR/M"),m=r("i3uR"),y=r("vJXr"),g=r("miBo"),v=r("cw0H"),b=r("KzlM"),w=r("VcB+"),S=r("USzg"),_=r("wlCD"),k=r("gbGO"),C=r("WgIs"),E=r("Pl3d"),P=r("CSYU"),x=r("2Y+N"),T=r("LeVO"),O=r("wXH4"),M=r("y6Dp"),I=r("bkwR"),A=r("3eY8"),D=r("BJ/B"),L=r("G2eB"),R=r("E5KU"),B=r("9f/M"),j=r("mF3+"),V=r("5Nka"),F=r("H4VD"),N=r("r8MX"),U=r("qqdV"),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickImportTrello=function(){M.trackClickImportButton({name:"trello",from:t.props.analyticsFrom})},t.handleClickImportAsana=function(){M.trackClickImportButton({name:"asana",from:t.props.analyticsFrom})},t.handleClickImportEvernote=function(){M.trackClickImportButton({name:"evernote",from:t.props.analyticsFrom})},t.handleTrelloAuth=function(){return i(t,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,B.authWithTrello({requestStore:this.stores.trelloRequestStore})];case 1:return e.sent(),[2]}})})},t.handleAsanaAuth=function(){return i(t,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,A.authWithAsana({requestStore:this.stores.asanaRequestStore})];case 1:return e.sent(),[2]}})})},t.handleEvernoteAuth=function(){return i(t,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,D.authWithEvernote({requestStore:this.stores.evernoteRequestStore})];case 1:return e.sent(),[2]}})})},t.handleRemoveTrello=function(){return i(t,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,I.disconnectTrello({})];case 1:return e.sent(),[4,this.stores.trelloRequestStore.refresh()];case 2:return e.sent(),M.trackRemoveIntegration({name:"trello"}),[2]}})})},t.handleRemoveAsana=function(){return i(t,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,I.disconnectAsana({})];case 1:return e.sent(),[4,this.stores.asanaRequestStore.refresh()];case 2:return e.sent(),M.trackRemoveIntegration({name:"asana"}),[2]}})})},t.handleRemoveEvernote=function(){return i(t,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,I.disconnectEvernote({})];case 1:return e.sent(),[4,this.stores.evernoteRequestStore.refresh()];case 2:return e.sent(),M.trackRemoveIntegration({name:"evernote"}),[2]}})})},t.handleFileUploadClick=function(e){return i(t,void 0,void 0,function(){var t;return l(this,function(r){switch(r.label){case 0:return M.trackClickImportButton({name:e,from:this.props.analyticsFrom}),[4,L.importFiles({pageStore:this.props.pageStore,spaceStore:this.props.spaceStore,spaceViewStore:this.props.spaceViewStore})];case 1:return(t=r.sent())&&this.props.onComplete(t),[2]}})})},t.handleImportTrelloComplete=function(e,r){return i(t,void 0,void 0,function(){var t,n,o;return l(this,function(a){switch(a.label){case 0:return t=e.boards,n=t.filter(function(e){return Boolean(r.find(function(t){return t.key===e.id}))}),M.trackImportIntegration({name:"trello",count:r.length}),[4,L.importTrello({spaceStore:this.props.spaceStore,spaceViewStore:this.props.spaceViewStore,boards:n})];case 1:return o=a.sent(),this.props.onComplete(o),[2]}})})},t.handleImportAsanaComplete=function(e,r){return i(t,void 0,void 0,function(){var t,n,o;return l(this,function(a){switch(a.label){case 0:return t=s.flatten(s.values(e.projects)),n=t.filter(function(e){return Boolean(r.find(function(t){return t.key===e.id.toString()}))}),M.trackImportIntegration({name:"asana",count:r.length}),[4,L.importAsana({spaceStore:this.props.spaceStore,spaceViewStore:this.props.spaceViewStore,projects:n})];case 1:return o=a.sent(),this.props.onComplete(o),[2]}})})},t.handleImportEvernoteComplete=function(e,r){return i(t,void 0,void 0,function(){var t,n,o;return l(this,function(a){switch(a.label){case 0:return t=e.notebooks,n=t.filter(function(e){return Boolean(r.find(function(t){return t.key===e.guid}))}),M.trackImportIntegration({name:"evernote",count:r.length}),[4,L.importEvernote({spaceStore:this.props.spaceStore,spaceViewStore:this.props.spaceViewStore,userSettingsStore:this.props.userSettingsStore,notebooks:n})];case 1:return o=a.sent(),this.props.onComplete(o),[2]}})})},t.handleEvernoteHelpClick=function(){F.navigateToExternalURL({url:U.guides.importEvernote})},t.performTrelloIntegrationRequest=function(){return i(t,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,I.getTrelloBoards({})];case 1:return"success"===(e=t.sent()).type?[2,e.data]:(R.error(e.error),[2,{boards:[]}])}})})},t.performAsanaIntegrationRequest=function(){return i(t,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,I.getAsanaWorkspaces({})];case 1:return"success"===(e=t.sent()).type?e.data.account?[2,e.data]:[2,{workspaces:[],projects:{}}]:(R.error(e.error),[2,{workspaces:[],projects:{}}])}})})},t.performEvernoteIntegrationRequest=function(){return i(t,void 0,void 0,function(){var e,t,r,n,o;return l(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,I.getEvernoteNotebooks({})];case 1:return"success"===(e=a.sent()).type?(t=e.data,r=t.notebooks,n=t.userInfo,[2,{notebooks:r,userInfo:n}]):(R.error(e.error),[2,{notebooks:[],userInfo:void 0}]);case 2:return o=a.sent(),R.error(o),[2,{notebooks:[],userInfo:void 0}];case 3:return[2]}})})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return y.default.state.online?this.renderRequests(function(r){return r?u.createElement("div",{style:t.wrapStyle},e.renderOptions(r)):u.createElement("div",{style:t.wrapStyle},u.createElement(_.default,null))}):u.createElement("div",{style:a({},t.wrapStyle,{fontSize:14,color:this.theme.mediumTextColor})},"Please go online to import.")},t.prototype.renderOptions=function(e){var r=this;return u.createElement("div",{style:{display:"flex"}},u.createElement("div",{style:a({},t.optionsColumnStyle,{marginRight:16})},this.renderEvernoteImportOption(e.evernoteResult),this.renderTrelloImportOption(e.trelloResult),this.renderAsanaImportOption(e.asanaResult)),u.createElement("div",{style:a({},t.optionsColumnStyle,{marginRight:16})},u.createElement(b.default,{title:"Text & Markdown",icon:j.default.importText,onClick:function(){return r.handleFileUploadClick("markdown")}}),u.createElement(b.default,{title:"CSV",icon:j.default.importCSV,onClick:function(){return r.handleFileUploadClick("csv")}}),u.createElement(b.default,{title:"HTML",icon:j.default.importHTML,onClick:function(){return r.handleFileUploadClick("html")}}),u.createElement(b.default,{title:"Word",logo:V.default.images.import.wordPng,onClick:function(){return r.handleFileUploadClick("docx")}})),u.createElement("div",{style:t.optionsColumnStyle},u.createElement(b.default,{title:"Google Docs",logo:V.default.images.import.googleDocsPng,actionButton:this.renderHelpButtonToURL(U.guides.importGoogleDocs),onClick:function(){return r.handleFileUploadClick("gdocs")}}),u.createElement(b.default,{title:"Dropbox Paper",logo:V.default.images.import.dropboxPaperPng,actionButton:this.renderHelpButtonToURL(U.guides.importDropboxPaper),onClick:function(){return r.handleFileUploadClick("dropbox")}}),u.createElement(b.default,{title:"Quip",logo:V.default.images.import.quipPng,actionButton:this.renderHelpButtonToURL(U.guides.importQuip),onClick:function(){return r.handleFileUploadClick("quip")}}),u.createElement(b.default,{title:"Workflowy",logo:V.default.images.import.workflowyPng,actionButton:this.renderHelpButtonToURL(U.guides.importWorkflowy),onClick:function(){return r.handleFileUploadClick("workflowy")}})))},t.prototype.renderRequests=function(e){var t=this;return u.createElement(E.default,{request:null,performRequest:this.performTrelloIntegrationRequest,requestStore:this.stores.trelloRequestStore,render:function(r,n){return u.createElement(E.default,{request:null,performRequest:t.performAsanaIntegrationRequest,requestStore:t.stores.asanaRequestStore,render:function(r,o){return u.createElement(E.default,{request:null,performRequest:t.performEvernoteIntegrationRequest,requestStore:t.stores.evernoteRequestStore,render:function(t,r){return e(n&&o&&r?{trelloResult:n,asanaResult:o,evernoteResult:r}:void 0)}})}})}})},t.prototype.renderTrelloImportOption=function(e){var t=this,r=e.account,n={key:"default",name:"Boards",items:e.boards.map(function(e){return{key:e.id,name:e.name}})};return u.createElement(m.default,{popupType:d.default.isMobile?m.default.PopupType.SlideUp:m.default.PopupType.Popup,buttonPopupStore:w.default,onClick:this.handleClickImportTrello,render:function(){return u.createElement(S.default,{noun:"Board",analyticsName:"trello",sections:[n],onComplete:function(r){return t.handleImportTrelloComplete(e,r)}})},renderOrigin:function(e){var n=e.onClick;return u.createElement(b.default,{title:"Trello",logo:V.default.images.import.trelloPng,caption:r&&r,actionButton:r&&t.renderItemActionsButton([{name:"Import",action:function(){return w.default.setState({open:!0})}},{name:"Connect another account",action:t.handleTrelloAuth},{name:"Remove",action:t.handleRemoveTrello}]),onClick:r?n:t.handleTrelloAuth})}})},t.prototype.renderAsanaImportOption=function(e){var t=this,r=e.account,n=e.workspaces,o=e.projects,a=n.map(function(e){var t=o[e.id]||[];return{key:e.id.toString(),name:e.name,items:t.map(function(e){return{key:e.id.toString(),name:e.name}})}});return u.createElement(m.default,{popupType:d.default.isMobile?m.default.PopupType.SlideUp:m.default.PopupType.Popup,buttonPopupStore:g.default,onClick:this.handleClickImportAsana,render:function(){return u.createElement(S.default,{noun:"Project",analyticsName:"asana",sections:a,onComplete:function(r){return t.handleImportAsanaComplete(e,r)}})},renderOrigin:function(e){var n=e.onClick;return u.createElement(b.default,{title:"Asana",logo:V.default.images.import.asanaPng,caption:r&&r,actionButton:r&&t.renderItemActionsButton([{name:"Import",action:function(){return g.default.setState({open:!0})}},{name:"Connect another account",action:t.handleAsanaAuth},{name:"Remove",action:t.handleRemoveAsana}]),onClick:r?n:t.handleAsanaAuth})}})},t.prototype.renderEvernoteImportOption=function(e){var t=this,r=e.userInfo,n=e.notebooks,o=s.groupBy(n,function(e){return e.stack||""}),a=Object.keys(o).map(function(e){var t=e||"Top-Level";return{key:t,name:t,items:(o[e]||[]).map(function(e){return{key:e.guid,name:e.title,count:e.noteCount}})}}),i=N.default.state.data,l=Boolean(i&&i.credits.find(function(e){return"import_evernote"===e.type&&e.activated}));return u.createElement(m.default,{popupType:d.default.isMobile?m.default.PopupType.SlideUp:m.default.PopupType.Popup,buttonPopupStore:v.default,onClick:this.handleClickImportEvernote,render:function(){return u.createElement(S.default,{noun:"Notebook",analyticsName:"evernote",sections:a,onComplete:function(r){return t.handleImportEvernoteComplete(e,r)}})},renderOrigin:function(e){var n=e.onClick;return u.createElement(b.default,{title:"Evernote",logo:V.default.images.import.evernotePng,shouldWrapCaption:!r&&!l,caption:r?r.name||r.username||r.email:l?void 0:"Get $5 in credit on import!",actionButton:r?t.renderItemActionsButton([{name:"Learn More",action:t.handleEvernoteHelpClick},{name:"Import",action:function(){return v.default.setState({open:!0})}},{name:"Connect another account",action:t.handleEvernoteAuth},{name:"Remove",action:t.handleRemoveEvernote}]):t.renderHelpButtonToURL(U.guides.importEvernote),onClick:r?n:t.handleEvernoteAuth})}})},t.prototype.renderHelpButtonToURL=function(e){return u.createElement(T.default,{renderTooltip:function(){return"Learn about how to import"},render:function(t){return u.createElement(p.default,a({external:!0,href:e,style:{marginLeft:"auto"}},t),u.createElement(f.default,{icon:j.default.help}))}})},t.prototype.renderItemActionsButton=function(e){return u.createElement(m.default,{popupType:O.PopupType.Popup,renderOrigin:function(e){return u.createElement(f.default,a({icon:j.default.dots},e))},render:function(t){var r={key:"section",render:function(e){return u.createElement(x.default,a({},e))},items:e.map(function(e){var r=e.name,n=e.action;return{key:r,render:function(e){return u.createElement(h.default,a({},e,{title:r}))},action:function(){n(),t.close()}}})};return u.createElement(k.default,{menuType:k.default.MenuType.Popup,width:200},u.createElement(C.default,{initialFocus:void 0,sections:[r]}))}})},t.stores={trelloRequestStore:P.default,asanaRequestStore:P.default,evernoteRequestStore:P.default},t.wrapStyle={display:"flex",alignItems:"center",justifyContent:"center",width:752,minHeight:240},t.optionsColumnStyle={width:240},t}(c.default);t.default=W},B0TY:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("q1tI"),l=r("t+pW"),s=r("QcDD"),u=r("RqMp"),c=r("Azc7"),d=r("/6eU"),p=r("H4VD"),f=r("Sb6f"),h=r("d9nj"),m=r("mF3+"),y=r("qqdV"),g=r("prF1"),v=r("y6Dp"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleModalDismiss=function(){u.default.setState({open:!1})},t.handleImportComplete=function(e){u.default.setState({open:!1}),p.navigateToBlock({store:e})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=u.default.state;return a.createElement(d.default,{open:r.open,innerStyle:t.wrapStyle,preventHideChildrenWhileOpening:!0,render:function(){return a.createElement(i.Fragment,null,a.createElement("div",{style:t.modalTopbarWrapStyle},a.createElement("div",{style:t.modalTopbarHeaderStyle},"Import"),e.renderHelpButton()),a.createElement("div",null,e.renderImportOptions(r)))},onDismiss:this.handleModalDismiss})},t.prototype.renderHelpButton=function(){return a.createElement(g.default,{href:y.guides.import,onClick:function(){return v.trackClickHelpButton({from:"import"})},external:!0},a.createElement(h.default,{isSmall:!0,icon:m.default.help,isGray:!0},"Learn about importing"))},t.prototype.renderImportOptions=function(e){var t=s.default.state,r=t.currentBlockStore,n=t.currentSpaceStore,o=t.currentSpaceViewStore,i=t.userSettingsStore;if(r&&n&&o&&i)return a.createElement(c.default,{pageStore:e.open&&e.pageStore?e.pageStore:r,spaceStore:n,spaceViewStore:o,userSettingsStore:i,analyticsFrom:"modal",onComplete:this.handleImportComplete,readOnlyCreditButton:!1})},t.wrapStyle={padding:"24px 36px 24px",minWidth:300},t.modalTopbarWrapStyle={display:"flex",alignItems:"center",marginTop:8,marginBottom:18},t.modalTopbarHeaderStyle={fontSize:24,lineHeight:1.2,marginBottom:6,fontWeight:f.default.fontWeight.bold,marginRight:"auto"},t}(l.default);t.default=b},"B2+S":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1,rect:{top:0,right:0,left:0,bottom:0,width:0,height:0}}},t}(r("LEzx").default);t.default=new a},B22C:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("i8i4"),s=r("hU3F"),u=r("wldR"),c=r("VyA+"),d=r("wXH4"),p=r("r8oj"),f=r("uSCg"),h=r("nFzZ"),m=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.open=new s.default(!1),r.handleOriginEnter=function(e){r.openAfterTimeout()},r.handleExtensionEnter=function(e){r.props.onFocus(),r.openAfterTimeout()},r.handleWindowClick=function(e){var t=l.findDOMNode(r);r.open.get()&&t&&!t.contains(e.target)&&r.handleClose()},r.handleWindowKeydown=function(e){13===e.keyCode&&r.handleClose()},r.openAfterTimeout=function(){r.clearTimeouts(),r.open.get()||(r.delayedOpenTimeout=setTimeout(r.handleOpen,t.delayToOpen))},r.closeAfterTimeout=function(){r.clearTimeouts(),r.open.get()&&(r.delayedCloseTimeout=setTimeout(r.handleClose,t.delayToClose))},r.handleOpen=function(){r.clearTimeouts(),r.open.get()||r.open.set(!0)},r.handleClose=function(){r.clearTimeouts(),r.open.get()&&r.open.set(!1)},r.handleFocusAndOpen=function(){r.props.onFocus(),r.handleOpen()},r}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),window.addEventListener("click",this.handleWindowClick),window.addEventListener("keydown",this.handleWindowKeydown)},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),window.removeEventListener("click",this.handleWindowClick),window.removeEventListener("keydown",this.handleWindowKeydown)},t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t),t.focused||this.closeAfterTimeout()},t.prototype.renderComponent=function(){var e=this,t=h.omit(this.props,["onClick","children","renderOrigin","renderExtension"]),r=this.props,n=r.renderOrigin,o=r.renderExtension;if(p.default.isMobile){var l=a({},f.default({onClick:this.handleFocusAndOpen},t),{showExtensionArrow:!0});return i.createElement(d.default,{popupType:p.default.isMobile?d.default.PopupType.SlideUp:d.default.PopupType.Popup,open:this.open.get(),render:function(){return o({},{close:e.closeAfterTimeout})},preventBlockingAnimation:!0,disableMouseCapture:!0,origin:n(l)})}l=a({},f.default({onMouseEnter:this.handleOriginEnter},t),{showExtensionArrow:!0});return i.createElement(c.default,{capture:this.props.focused,onRight:this.openAfterTimeout,onLeft:this.closeAfterTimeout,onEsc:this.closeAfterTimeout},i.createElement(d.default,{popupType:p.default.isMobile?d.default.PopupType.SlideUp:d.default.PopupType.Popup,open:this.open.get(),origin:n(l),placementToOrigin:d.default.Placement.Right,alignmentToOrigin:d.default.Alignment.Center,originGap:0,disableMouseCapture:!0,preventBlockingAnimation:!0,preventScaleTransition:!0,preventCaptureEsc:!0,render:function(){return o({onMouseEnter:e.handleExtensionEnter},{close:e.closeAfterTimeout})}}))},t.prototype.clearTimeouts=function(){clearTimeout(this.delayedOpenTimeout),clearTimeout(this.delayedCloseTimeout),this.delayedOpenTimeout=null,this.delayedCloseTimeout=null},t.delayToOpen=120,t.delayToClose=100,t}(u.default);t.default=m},"BJ/B":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("bkwR"),i=r("VkkH"),l=r("S26v"),s=r("tP7q"),u=r("A9TN"),c=r("Wnyic"),d=r("hvW1"),p=r("VBxf"),f=r("E5KU"),h=r("y6Dp"),m=r("cw0H");t.authWithEvernote=function(e){return n(this,void 0,void 0,function(){var t,r,n,y,g,v,b,w,S,_;return o(this,function(o){switch(o.label){case 0:return t=e.requestStore,r=c.getAuthType(),n=s.createEvernotePopupRedirect(u.default.baseURL,{authType:r}),r.redirectToAuth?(y=n,[3,3]):[3,1];case 1:return[4,c.loadAuthUrl(n)];case 2:y=o.sent(),o.label=3;case 3:return n=y,[4,i.openPopup({width:580,height:700,url:n,title:"Evernote Login"})];case 4:return(g=o.sent())?(v=l.parse(g),b=v.query.oauth_token,w=v.query.oauth_verifier,b&&w?(d.display({message:"Authenticating with Evernote..."}),[4,a.authWithEvernote({requestToken:b,verifier:w})]):[2]):[2];case 5:return"failed"!==(S=o.sent()).type?[3,6]:(_=S.error,f.error(_),p.showError({error:_}),d.close(),[2]);case 6:return h.trackAuthIntegration({name:"evernote"}),[4,t.refresh()];case 7:o.sent(),m.default.setState({open:!0}),d.close(),o.label=8;case 8:return[2]}})})}},BJyN:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},u=this;Object.defineProperty(t,"__esModule",{value:!0});var c=r("q1tI"),d=r("q1tI"),p=r("LvDl"),f=r("3zPy"),h=r("/YYm"),m=r("nFzZ"),y=r("IdIf"),g=r("r8oj"),v=r("XfKI"),b=r("HRSx"),w=r("njgS"),S=r("Cycz"),_=r("Sb6f"),k=r("sjR4"),C=r("gicP"),E=r("ICWk"),P=r("ox2z"),x=r("SR/M"),T=r("B22C"),O=r("gbGO"),M=r("VOS9"),I=r("Cqq/"),A=r("2Y+N"),D=r("0bRt"),L=r("I5tp"),R=r("i8Ki"),B=r("0lqH"),j=r("lEhh"),V=r("QkuB"),F=r("iPhm"),N=r("LeVO"),U=r("UCLG"),W=r("aZ00"),z=r("gRnv"),H=r("/mqF"),q=r("dsG5"),G=r("GQP/"),Z=r("sS7W"),Y=r("X4ZB"),K=r("ijm6"),J=r("CaJT"),Q=r("H4VD"),X=r("q2qQ"),$=r("tzV5"),ee=r("6rsX"),te=r("X6Ne"),re=r("Ripq"),ne=r("sdlW"),oe=r("hi+p"),ae=r("y6Dp"),ie=r("oFLp"),le=r("sPNb"),se=r("FcJC"),ue=r("G414"),ce=r("MBf9"),de=r("wvIE"),pe=r("bK/N"),fe=r("5w/s"),he=r("wweX"),me=r("iqZH"),ye=r("ALSZ"),ge=r("5Nka"),ve=r("oqYu"),be=r("oWRT"),we=r("mF3+"),Se=r("nM47"),_e=r("uSCg"),ke=r("45vK"),Ce=r("BfkC"),Ee=r("QcDD"),Pe=r("sjR4"),xe=r("DNgp"),Te=r("3k5a"),Oe=r("UcZb"),Me=r("w5u6"),Ie=r("9vSW"),Ae=r("+UXM"),De=r("BLi8"),Le=r("PuL6"),Re=r("EmAo"),Be=r("szb2"),je=r("RqMp"),Ve=r("0GcB"),Fe=r("GQAS"),Ne=r("zmp8"),Ue=r("Ajfl"),We=r("BTUg"),ze=r("EarS"),He=r("7M94"),qe=r("qqdV"),Ge=function(e){var t=e.name,r=e.svg,o=e.validators,a=e.shortcuts,i=e.closeParentMenu,l=e.action;return{key:"action "+t,name:t,validators:o,shortcuts:a,action:l,closeParentMenu:i,render:function(e){return c.createElement(P.default,n({},e,{title:t,svg:r,shortcuts:a}))}}},Ze=[v.canEdit,v.isNotInsideLockedPage,v.canSetAnnotation],Ye=function(e){return Ge(n({},e,{validators:Ze,closeParentMenu:!0,action:function(t){var r=t.blocks;ce.createAndCommit(function(t){Ue.annotateBlocks({blocks:r,annotation:e.annotation,transaction:t})})}}))},Ke=function(e){var t=e.name,r=e.validators,o=e.shortcuts,a=e.subActions,i=e.svg;return{key:"extension "+t,name:t,validators:r,shortcuts:o,subActions:a,closeParentMenu:!0,action:function(){},render:function(e,r,o){return c.createElement(T.default,n({},e,{renderOrigin:function(e){return c.createElement(P.default,n({},e,{title:t,svg:i,shortcuts:[]}))},onFocus:o.onFocus,renderExtension:function(e,i){var l;return l=g.default.isMobile?n({menuType:O.default.MenuType.Modal,title:t,right:"Done",onClickRight:i.close},e):n({menuType:O.default.MenuType.Popup,width:200},e),c.createElement(O.default,n({},l),c.createElement(M.default,{initialFocus:0,context:r,sections:a(r),onAccept:o.onAccept}))}}))}}},Je=function(e,t){return{key:"insert "+e.title,name:e.title,searchName:e.searchTitle,render:function(t,r){return c.createElement(D.default,n({},t,e,{format:D.default.Format.Insert}))},validators:[],shortcuts:[],closeParentMenu:!0,action:function(){ce.createAndCommit(function(r){X.insertBlockAndEdit({selection:Pe.default.state.stores,createBlockItem:e,analyticsFrom:t,transaction:r})})}}},Qe=[v.canEdit,v.isNotInsideLockedPage,v.areInCurrentRootStore,v.canSetColor,v.not(v.blocksAreInSidebar)],Xe=function(e){var t=Ne.getBlockColorName(e);return{key:"color "+e,name:t,searchName:"default"===e?"Default Black White":t,validators:Qe,shortcuts:[],action:function(t){"default"!==e&&We.default.setHighlightColor(e),ce.createAndCommit(function(r){fe.updateFormat({stores:t.blocks,update:{block_color:"default"===e?void 0:e},transaction:r})}),Pe.default.state.phase!==k.SelectionPhase.Selected||g.default.isMobile||ee.clear()},closeParentMenu:!0,render:function(t){return c.createElement(L.default,n({},t,{color:e}))}}},$e=[v.canEdit,v.areCurrentlyInCollectionView,v.not(v.isLocked)];t.deleteBlock=Ge({name:"Delete",svg:we.default.trash,validators:[v.or([v.canEdit,v.isAliasInEditableParent]),v.not(v.blocksAreBookmarksInSidebar),v.isNotInsideLockedPage],shortcuts:["delete","backspace"],closeParentMenu:!0,action:function(e){ce.createAndCommit(function(t){X.removeBlocks({blocks:e.blocks,transaction:t})})}});var et=Ge({name:"Delete",svg:we.default.trash,validators:[v.canEdit,v.not(v.blocksAreBookmarksInSidebar)],shortcuts:[],closeParentMenu:!0,action:function(e){ce.createAndCommit(function(t){X.removeBlocks({blocks:e.blocks,transaction:t})})}}),tt=Ge({name:"Duplicate",svg:we.default.duplicate,validators:[v.canDuplicate,v.or([v.blocksAreInSidebar,v.isNotInsideLockedPage])],shortcuts:["duplicate"],closeParentMenu:!0,action:ke.throttleRerender(function(e){Se.validateCanCreate()&&(ce.createAndCommit(function(t){X.duplicateBlocks({blocks:e.blocks,transaction:t})}),Me.default.afterNextFlush(function(){Me.default.afterNextFlush(function(){te.scrollToSelection()})}))})}),rt=Ge({name:"Leave",svg:we.default.logout,validators:[v.blocksAreSharedInSidebar,v.userHasExplicitAccessToBlocks],shortcuts:[],closeParentMenu:!0,action:function(e,t){ce.createAndCommit(function(t){se.leaveBlocks({blocks:e.blocks,transaction:t})})}}),nt=Ge({name:"Add to Favorites",svg:we.default.star,validators:[v.isNavigableType,v.not(v.isBookmarked)],shortcuts:[],closeParentMenu:!0,action:function(e,t){var r=e.blocks,n=Ee.default.state.currentSpaceViewStore;n&&ce.createAndCommit(function(e){se.bookmarkPage({spaceViewStore:n,store:r[0],transaction:e})})}}),ot=Ge({name:"Remove from Favorites",svg:we.default.star,validators:[v.isBookmarked],shortcuts:[],closeParentMenu:!0,action:function(e,t){var r=e.blocks,n=Ee.default.state.currentSpaceViewStore;n&&ce.createAndCommit(function(e){se.unbookmarkPage({spaceViewStore:n,store:r[0],transaction:e})})}}),at=Ge({name:"Rename",svg:we.default.rename,validators:[v.isNotMobile,v.canEdit,v.isSingle,v.isNavigableType,v.not(v.isPeekPage),v.not(v.areCurrentlyInTable)],shortcuts:["rename"],closeParentMenu:!0,action:function(e,t){var r=e.blocks,n=e.originRect;if(r.length>0)return Y.renamePage({blockStore:r[0],originRect:n})}}),it=Ge({name:"Rename",svg:we.default.rename,validators:[v.canEdit,v.isSingle,v.isFileWithSource,v.not(v.areCurrentlyInTable)],shortcuts:["rename"],closeParentMenu:!0,action:function(e,t){var r=e.blocks,n=e.originRect;if(r.length>0)return K.renameFile({blockStore:r[0],originRect:n})}}),lt=Ge({name:"Quick Find",validators:[v.isNotionPage],shortcuts:["quickFind"],closeParentMenu:!0,action:function(){Z.toggleQuickFind({analyticsFrom:"keyboard-shortcut"})}}),st=Ge({name:"Search",validators:[v.isLoggedIn,v.isElectron],shortcuts:["search"],closeParentMenu:!0,action:function(){pe.inPageSearch.start(Be.default.state.open)}}),ut=Ge({name:"Undo",svg:we.default.undo,validators:[v.isMobile,v.not(v.areInCurrentRootStore)],shortcuts:[],closeParentMenu:!0,action:function(){return J.undo()}}),ct=Ge({name:"Redo",svg:we.default.redo,validators:[v.isMobile,v.not(v.areInCurrentRootStore)],shortcuts:[],closeParentMenu:!0,action:function(){return J.redo()}}),dt=Ge({name:"Undo",svg:we.default.undo,validators:[],shortcuts:["undo"],closeParentMenu:!0,action:function(){return J.undo()}}),pt=Ge({name:"Redo",svg:we.default.redo,validators:[],shortcuts:["redo"],closeParentMenu:!0,action:function(){return J.redo()}}),ft=Ge({name:"Select Above",validators:[],shortcuts:["up"],closeParentMenu:!0,action:function(e,t){ee.arrowUp({pivot:Boolean(t&&t.shiftKey)})}}),ht=Ge({name:"Select Left",validators:[],shortcuts:["left"],closeParentMenu:!0,action:function(e,t){ee.arrowLeft({pivot:Boolean(t&&t.shiftKey)})}}),mt=Ge({name:"Select Below",validators:[],shortcuts:["down"],closeParentMenu:!0,action:function(e,t){ee.arrowDown({pivot:Boolean(t&&t.shiftKey)})}}),yt=Ge({name:"Select Right",validators:[],shortcuts:["right"],closeParentMenu:!0,action:function(e,t){ee.arrowRight({pivot:Boolean(t&&t.shiftKey)})}}),gt=Ge({name:"Context Menu",validators:[v.isNonEmptyBlockSelection,v.isNotInsideLockedPage],shortcuts:["commandSlash"],closeParentMenu:!0,action:function(){var e=Pe.default.state.stores;oe.show({stores:e,actions:t.blockActions,analyticsFrom:"command_slash_menu"})}}),vt=Ge({name:"Indent",validators:[v.canEdit,v.areInCurrentRootStore,v.not(v.areCurrentlyInCollectionView)],shortcuts:["tab"],closeParentMenu:!0,action:function(){ce.createAndCommit(function(e){U.indentSelection({transaction:e})})}}),bt=Ge({name:"Unindent",validators:[v.canEdit,v.areInCurrentRootStore,v.not(v.areCurrentlyInCollectionView)],shortcuts:["untab"],closeParentMenu:!0,action:function(){ce.createAndCommit(function(e){U.unindentSelection({transaction:e})})}}),wt=Ge({name:"Clear Selection",validators:[],shortcuts:["esc"],closeParentMenu:!0,action:function(){H.cancelDrag(),ee.clear()}}),St=Ge({name:"Select All",validators:[],shortcuts:["selectAll"],closeParentMenu:!0,action:function(){return ee.selectAll()}}),_t=Ge({name:"Cut",validators:[v.canEdit,v.isNotInsideLockedPage],shortcuts:["cut"],closeParentMenu:!0,action:function(e,t){ce.createAndCommit(function(e){W.cut({event:t,transaction:e})})}}),kt=Ge({name:"Copy",validators:[],shortcuts:["copy"],closeParentMenu:!0,action:function(e,t){return W.copy({event:t})}}),Ct=Ge({name:"Copy Link",svg:we.default.link,validators:[v.isSingle,v.not(v.isMobile)],shortcuts:[],closeParentMenu:!0,action:function(e,t){var r=e.blocks;return W.copyLinkToBlock({blocks:r,event:t})}}),Et=Ge({name:"Copy Link to View",svg:we.default.link,validators:[v.isSingle,v.not(v.isMobile)],shortcuts:[],closeParentMenu:!0,action:function(e,t){var r=e.blocks;return W.copyLinkToBlock({blocks:r,event:t})}}),Pt=Ge({name:"Open in Mac App",svg:we.default.notionLogo,validators:[v.isSingle,v.not(v.isNative),v.not(v.isMobile),v.isMac],shortcuts:[],closeParentMenu:!0,action:function(e,t){var r=e.blocks,n=h.default({store:r[0],fullyQualified:!1});Q.openInNativeApp(n)}}),xt=Ge({name:"Open in Windows App",svg:we.default.notionLogo,validators:[v.isSingle,v.not(v.isNative),v.not(v.isMobile),v.isWindows],shortcuts:[],closeParentMenu:!0,action:function(e,t){var r=e.blocks,n=h.default({store:r[0],fullyQualified:!1});Q.openInNativeApp(n)}}),Tt=Ge({name:"Zoom In",validators:[v.isElectron],shortcuts:["zoomIn"],closeParentMenu:!0,action:function(){pe.zoomIn()}}),Ot=Ge({name:"Zoom Out",validators:[v.isElectron],shortcuts:["zoomOut"],closeParentMenu:!0,action:function(){pe.zoomOut()}}),Mt=Ge({name:"Open in iOS App",svg:we.default.notionLogo,validators:[v.isSingle,v.not(v.isNative),v.isIOS],shortcuts:[],closeParentMenu:!0,action:function(e,t){var r=e.blocks,n=h.default({store:r[0],fullyQualified:!1});Q.openInNativeApp(n)}}),It=Ge({name:"Open in Android App",svg:we.default.notionLogo,validators:[v.isSingle,v.not(v.isNative),v.isAndroid],shortcuts:[],closeParentMenu:!0,action:function(e,t){var r=e.blocks,n=h.default({store:r[0],fullyQualified:!1});Q.openInNativeApp(n)}}),At=Ge({name:"Copy Link",svg:we.default.link,validators:[v.isElectron],shortcuts:["copyLinkToCurrentPage"],closeParentMenu:!0,action:function(e,t){var r=Ee.default.state.currentBlockStore;r&&W.copyLinkToBlock({blocks:[r],event:t})}}),Dt=Ge({name:"Copy Link",svg:we.default.link,validators:[v.isSingle,v.isNavigableType,v.not(v.isMobileBrowser)],shortcuts:[],closeParentMenu:!0,action:function(e,t){var r=e.blocks;return W.copyLinkToBlock({blocks:r,event:t})}}),Lt=Ge({name:"Duplicate Page",svg:we.default.duplicate,validators:[v.isSingle,v.isNavigableType,v.allowsPublicPageDuplicate],shortcuts:[],closeParentMenu:!0,action:function(e){re.openForkPagePopup({store:e.blocks[0],originRect:void 0})}}),Rt=Ge({name:"Back to Notion",svg:we.default.notionLogo,validators:[v.isLoggedIn],shortcuts:[],closeParentMenu:!0,action:function(e,t){var r=Ee.default.state,n=r.userRootStore,o=r.userSettingsStore;n&&o&&ne.navigateToFirstSpace({userRootStore:n,userSettingsStore:o})}}),Bt=Ge({name:"Log In",svg:we.default.notionLogo,validators:[v.not(v.isLoggedIn)],shortcuts:[],closeParentMenu:!0,action:function(e,t){Q.navigate({url:qe.login})}}),jt=Ge({name:"Paste",validators:[v.canEdit,v.isNotInsideLockedPage,v.currentPageIsNotLocked,v.isLoggedIn],shortcuts:["paste"],closeParentMenu:!0,action:function(e,t){ce.createAndCommit(function(e){W.paste({event:t,transaction:e})})}}),Vt=Ge({name:"Move Up",validators:[v.canEdit,v.areInCurrentRootStore,v.not(v.areCurrentlyInCollectionView)],shortcuts:["moveUp"],closeParentMenu:!0,action:ke.throttleRerender(function(e){ce.createAndCommit(function(e){U.moveUp({transaction:e})})})}),Ft=Ge({name:"Move Down",validators:[v.canEdit,v.areInCurrentRootStore,v.not(v.areCurrentlyInCollectionView)],shortcuts:["moveDown"],closeParentMenu:!0,action:ke.throttleRerender(function(e){ce.createAndCommit(function(e){U.moveDown({transaction:e})})})}),Nt=Ge({name:"Insert Below",svg:we.default.arrowDown,validators:[v.canEdit,v.areInCurrentRootStore,v.isMobile],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;ce.createAndCommit(function(e){X.insertTextBelow({blocks:t,transaction:e})})}}),Ut=Ge({name:"Comment",svg:we.default.speechBubbleThin,validators:[v.canEdit,v.isNotInsideLockedPage,v.areInCurrentRootStore,v.not(v.isNavigableType),v.not(v.isNoCommentType),v.isSingle],shortcuts:["comment"],closeParentMenu:!0,action:function(e){var t=e.blocks[0];if(t){var r=xe.default.state;r.editing&&r.selection.startIndex!==r.selection.endIndex&&r.store.id===t.id?z.openNewInlineDiscussionMenu({blockStore:t,textStore:r.store,selection:r.selection}):z.openNewBlockDiscussionMenu({blockStore:t})}}}),Wt=Ge({name:"Full Screen",svg:we.default.fullscreen,validators:[v.isSingle,v.isMediaWithSource,v.canRenderFullScreen,v.isNotEditingText],shortcuts:["space"],closeParentMenu:!0,action:function(e){return X.fullScreen(e)}}),zt=Ge({name:"View Original",svg:we.default.alias,validators:[v.isSingle,v.or([v.isMediaWithSource,v.and([v.isFileWithSource,v.not(v.hasSecureSource)])])],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;q.openSource({store:t[0]})}}),Ht=Ge({name:"Download",svg:we.default.arrowDown,validators:[v.isSingle,v.or([v.isFileWithSource,v.isMediaWithSource]),v.hasSecureSource],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;q.downloadSource({store:t[0]})}}),qt=Ge({name:"Replace",svg:we.default.replace,validators:[v.canEdit,v.isSingle,v.or([v.isFileWithSource,v.isMediaWithSource])],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;q.replaceSource({store:t[0]})}}),Gt=Ge({name:"Configure",svg:we.default.settings,validators:[v.canEdit,v.isSingle,v.isConfigurable],shortcuts:[],closeParentMenu:!0,action:function(e){return X.configure(e)}}),Zt=Ge({name:"Caption",svg:we.default.caption,validators:[v.canEdit,v.isNotInsideLockedPage,v.isSingle,v.isCaptionType,v.or([v.hasProperty("source"),v.hasProperty("link")])],shortcuts:["caption"],closeParentMenu:!0,action:function(e){return X.caption(e)}});function Yt(e){return{key:"font "+e.name,name:e.name,validators:[v.not(v.isCollectionView)],render:function(t,r,o){var a=r.blocks[0].getFormat().page_font,i=e.font===a||!e.font&&!a;return c.createElement(I.default,n({},t,{isActive:i,font:e.font,tooltip:e.tooltip,style:e.style,caption:e.caption}))},closeParentMenu:!1,action:function(t,r){ce.createAndCommit(function(r){fe.updateFormat({stores:t.blocks,update:{page_font:e.font},transaction:r}),ae.trackChangeFontType({type:e.font||"default"})})}}}var Kt={key:"font section",title:"Style",render:function(e){return c.createElement(R.default,n({isTitleUppercase:!0},e))},actions:[Yt({name:"Font Default",caption:"Default",font:void 0,tooltip:"The default sans-serif workhorse",style:{fontSize:24,fontFamily:_.default.fontFamily.sans,position:"relative",top:-2}}),Yt({name:"Font Serif",caption:"Serif",font:"serif",tooltip:"Good for publishing",style:{fontSize:25,fontFamily:_.default.fontFamily.serif}}),Yt({name:"Font Mono",caption:"Mono",font:"mono",tooltip:"Good for drafting and notes",style:{fontSize:29.5,fontFamily:_.default.fontFamily.mono,position:"relative",top:-4}})]};function Jt(e){return{key:"format "+e.name,name:e.name,validators:e.validators,render:function(t,r,o){var a=r.blocks[0].getFormat(),i=Boolean(a[e.property]);return c.createElement(x.default,n({},t,{title:e.label,right:c.createElement(j.default,{on:i,onClick:t.onClick,isAndroid:g.default.isAndroid})}))},closeParentMenu:!1,action:function(t,r){ce.createAndCommit(function(r){var n,o=t.blocks[0],a=o.getFormat(),i=!Boolean(a[e.property]);fe.updateFormat({stores:[o],update:(n={},n[e.property]=i,n),transaction:r}),e.afterAction(i)})}}}function Qt(e){return{key:"format "+e.name,name:e.name,validators:e.validators,render:function(t,r,o){var a=r.blocks[0].getFormat(),i=Boolean(a[e.property]);return c.createElement(N.default,{key:"format "+e.name,renderTooltip:function(){return e.tooltip},placement:N.default.Placement.Left,render:function(r){return c.createElement(x.default,n({},_e.default(r,t),{title:e.label,right:c.createElement(j.default,{on:i,onClick:t.onClick,isAndroid:g.default.isAndroid})}))}})},closeParentMenu:!1,action:function(t,r){ce.createAndCommit(function(r){var n=t.blocks[0],o=n.getFormat(),a=!Boolean(o[e.property]);fe.setBlockLocked({store:n,isLocked:a,transaction:r}),e.afterAction(a)})}}}var Xt=Jt({name:"Font Small Text",label:"Small Text",property:"page_small_text",validators:[v.not(v.isMobile),v.not(v.isCollectionView)],afterAction:function(e){return ae.trackChangeFontSize({type:e?"small":"large"})}}),$t=Qt({name:"Page Lock",label:"Page Lock",tooltip:c.createElement(d.Fragment,null,"Lock page content to",c.createElement("br",null),"prevent accidental edits"),property:"block_locked",validators:[v.not(v.isCollectionView)],afterAction:function(e){return ae.trackEditLockToggle({from:"page_more_menu",block_type:"page",locked:Boolean(e)})}}),er=Qt({name:"Database Lock",label:"Database Lock",tooltip:c.createElement(d.Fragment,null,"Lock database properties and views",c.createElement("br",null),"to prevent accidental edits. You can",c.createElement("br",null),"still create and edit pages inside"),property:"block_locked",validators:[v.isCollectionView],afterAction:function(e){return ae.trackEditLockToggle({from:"page_more_menu",block_type:"collection_view",locked:Boolean(e)})}}),tr=Jt({name:"Full Width",label:"Full Width",property:"page_full_width",validators:[v.not(v.isMobile),v.not(v.isCollectionView)],afterAction:function(e){return ae.trackChangePageWidth({type:e?"full_width":"default_width"})}}),rr=Jt({name:"Wrap Code",label:"Wrap Code",property:"code_wrap",validators:[v.isSingle,v.isType("code")],afterAction:function(e){Ae.default.set(F.default.localCodeWrapPreferenceKey,e)}});function nr(e){var t=Te.default.findCollectionViewBlockFromStore(e);if(t)return t.stores.collectionViewLocalStore.state.collectionViewStore}function or(e,t){var r,n=nr(e);if(n){var o=n.getQuery();if(o){var a=o[t];a&&(r=a.length)}}return r}var ar,ir,lr,sr,ur,cr,dr,pr={key:"page style",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Xt,tr]},fr={key:"table style",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[{key:"format wrap cells",name:"Wrap Cells",validators:[v.isCollectionViewType("table"),v.canEdit,v.isNotInsideLockedPage],render:function(e,t,r){var o=nr(t.blocks[0]),a=o&&o.getFormat(),i=Boolean(a&&Boolean(a.table_wrap));return c.createElement(x.default,n({},e,{title:"Wrap Cells",right:c.createElement(j.default,{on:i,onClick:e.onClick,isAndroid:g.default.isAndroid})}))},closeParentMenu:!1,action:function(e,t){ce.createAndCommit(function(t){var r,n=nr(e.blocks[0]);if(n){var o=n.getFormat(),a=!Boolean(o.table_wrap);fe.updateFormat({stores:[n],update:(r={},r.table_wrap=a,r),transaction:t}),ae.trackChangeTableWrap({type:a?"wrap":"clip",is_fullscreen:!0})}})}}]},hr=Ge({name:"Enter",validators:[v.canEdit,v.isNotInsideLockedPage],shortcuts:["enter"],closeParentMenu:!0,action:function(e){ce.createAndCommit(function(t){X.handleSelectionEnter({blocks:e.blocks,transaction:t})})}}),mr=Ge({name:"Activate",validators:[v.canEdit,v.canActivate],shortcuts:["commandEnter"],closeParentMenu:!0,action:function(e){return X.activate(e)}}),yr=Ge({name:"Navigate to",validators:[v.isSingle,v.isNavigableType],shortcuts:["commandShiftEnter"],closeParentMenu:!0,action:function(e){var t=e.blocks;ie.navigateToPage({blocks:t,openInNewTab:!0})}}),gr=Ge({name:"Toggle Sidebar",validators:[],shortcuts:["toggleSidebar"],closeParentMenu:!0,action:function(){return se.setExpand({isExpanded:!Oe.default.state.expanded})}}),vr=Ge({name:"Merge with CSV",svg:we.default.import,validators:[v.isCollectionView,v.canEdit,v.isOnline,v.isNotMobile,v.isNotInsideLockedPage],shortcuts:[],closeParentMenu:!0,action:function(e){var t=i(e.blocks,1)[0];$.mergeWithCSV({store:t})}}),br=Ge({name:"Export as CSV",validators:[v.isCollectionView,v.isOnline,v.isNotMobile,v.isLoggedIn,v.currentSpaceAllowsExport],shortcuts:[],closeParentMenu:!0,action:function(e){var t=i(e.blocks,1)[0];$.exportCSV({store:t})}}),wr=Ge({name:"Turn into Page",svg:we.default.loop,validators:[v.isInlineCollectionView,v.not(v.blocksAreInSidebar),v.canEdit,v.not(v.isAliasInEditableParent),v.isNotInsideLockedPage],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;return ce.createAndCommit(function(e){le.transformBlocks({blocks:t,blockType:"collection_view_page",transaction:e})})}}),Sr=Ge({name:"Turn into Inline",svg:we.default.loop,validators:[v.isFullScreenCollectionView,v.not(v.blocksAreInSidebar),v.canEdit,v.not(v.isAliasInEditableParent)],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;return ce.createAndCommit(function(e){le.transformBlocks({blocks:t,blockType:"collection_view",transaction:e}),ee.clear()})}}),_r=Ge({name:"Create Link",validators:[v.richTextMenuIsActive],shortcuts:["openLinkMenu"],closeParentMenu:!0,action:function(){return G.openLinkAnnotationMenu()}}),kr=Ge({name:"Go Back",validators:[v.canGoBack],shortcuts:["goBack","backbutton"],closeParentMenu:!0,action:function(){return Q.back()}}),Cr=Ge({name:"Exit App",validators:[v.not(v.canGoBack),v.isAndroid],shortcuts:["backbutton"],closeParentMenu:!0,action:function(){g.default.isCordova?be.exitApp():g.default.isReactNative&&ve.exitApp()}}),Er=Ge({name:"Go Forward",validators:[v.canGoForward],shortcuts:["goForward"],closeParentMenu:!0,action:function(){return Q.forward()}}),Pr=Ge({name:"Go Up",validators:[function(){return Q.canGoUp()}],shortcuts:["goUp"],closeParentMenu:!0,action:function(){return Q.up()}}),xr=Ge({name:"Switch Spaces",validators:[v.isElectron],shortcuts:["switchSpaces"],closeParentMenu:!0,action:function(e,t){t.preventDefault();var r=parseInt(f(t.keyCode)),n=Ee.default.state,o=n.userRootStore,a=n.userSettingsStore;o&&a&&ne.navigateToSpaceAtIndex({index:r-1,userRootStore:o,userSettingsStore:a})}}),Tr=Ge({name:"Open Settings",validators:[v.isElectron],shortcuts:["settings"],closeParentMenu:!0,action:function(e){me.openSettings()}}),Or=Ge({name:"New Page",validators:[v.isElectron,v.isEditorOfCurrentSpace,v.isLoggedIn],shortcuts:["newPage"],closeParentMenu:!0,action:function(){se.quickAddPage({from:"cmd_n"})}}),Mr=Ge({name:"Print as PDF",validators:[v.not(v.isCollectionView),v.isCurrentPage,v.isLoggedIn],shortcuts:[],closeParentMenu:!0,action:function(){return o(u,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return ae.trackExport({format:"pdf"}),de.setTheme({mode:"light"}),[4,Me.default.flush()];case 1:return e.sent(),window.print(),[2]}})})}}),Ir=Ge({name:"Export as Markdown",validators:[v.isOnline,v.not(v.isCollectionView),v.isLoggedIn,v.currentSpaceAllowsExport],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;X.exportBlock({blocks:t,recursive:!1})}}),Ar=Ge({name:"Export All as Markdown",validators:[v.isOnline,v.isLoggedIn,v.currentSpaceAllowsExport],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;X.exportBlock({blocks:t,recursive:!0})}}),Dr=Ke({name:"Export",svg:we.default.file,validators:[v.isNotMobile,v.isOnline,v.isLoggedIn,v.currentSpaceAllowsExport],shortcuts:[],subActions:function(){return[{key:0,title:void 0,render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Mr,Ir,Ar,br]}]}}),Lr=Ge({name:"Import",svg:we.default.import,validators:[v.isOnline,v.isNotMobile,v.canEdit,v.not(v.isCollectionView)],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;je.default.setState({open:!0,pageStore:t[0]})}}),Rr=Ge({name:"Turn Into",validators:[v.canEdit,v.isNotInsideLockedPage,v.areInCurrentRootStore,v.areTransformable],shortcuts:["turnIntoType"],closeParentMenu:!0,action:function(e,t){var r=e.blocks;t.preventDefault();var n=parseInt(f(t.keyCode)),o=b.transformableTypeKeyboardShortcuts[n];ce.createAndCommit(function(e){le.transformBlocks({blocks:r,blockType:o,transaction:e})})}}),Br=Ge({name:"Move To",svg:we.default.moveTo,shortcuts:["moveTo"],validators:[v.isMoreThanZeroBlocks,v.canEdit,v.canEditPersistedParent,v.isOnline,v.isLoggedIn,v.not(v.isInTemplatePicker),v.not(v.isCollectionTemplatePage)],closeParentMenu:!0,action:function(e){ue.open({blocks:e.blocks,originRect:e.originRect,analyticsFrom:"action_menu"})}}),jr=Ge({name:"Move To",shortcuts:["moveTo"],validators:[],closeParentMenu:!0,action:function(e){var t=Ee.default.state.currentBlockStore;if(t){var r=Br.validators||[],n=document.querySelector("."+He.topbarMoreButton);if(n){var o={blocks:[t],originRect:n.getBoundingClientRect()};r.every(function(e){return e(o)})&&Br.action(o)}}}}),Vr=(ar={name:"Page History",svg:we.default.versionHistory,validators:[v.canEdit,v.isOnline,v.isNavigableType,v.isLoggedIn],shortcuts:[],closeParentMenu:!0,action:function(e){return C.openHistoryModal({blockStore:e.blocks[0],from:"topbar"})}},ir=ar.name,lr=ar.svg,sr=ar.validators,ur=ar.shortcuts,cr=ar.closeParentMenu,dr=ar.action,{key:"action "+ir,name:ir,validators:sr,shortcuts:ur,action:dr,closeParentMenu:cr,render:function(e){return c.createElement(P.default,n({},e,{title:ir,svg:lr,shortcuts:ur,right:S.userIsTier("free")?c.createElement(Ce.default,{analyticsName:"history_modal"}):void 0}))}}),Fr=Ge({name:"Show Deleted Pages",svg:we.default.showDeletedPages,validators:[v.canEdit,v.isCurrentPage,v.isLoggedIn],shortcuts:[],closeParentMenu:!0,action:function(e){Ie.default.setState({open:!0}),De.default.setState(n({},De.default.state,{currentTab:"in_current_page"}))}}),Nr=Ke({name:"Edit Property",svg:we.default.properties,validators:$e,shortcuts:[],subActions:function(e){var t=e.blocks[0];if(!t)return[];var r=t.getParentCollectionStore();if(r){var o=r.getSchema(),a=r.getFormat(),i=y.getNormalizedFormat(a,o,void 0,[],y.FormatContext.Collection);if(i.collection_page_properties)return i.collection_page_properties.unshift({property:"title"}),[{key:0,title:void 0,render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:m.compact(i.collection_page_properties.map(function(e){var t=o[e.property];if(t&&w.preventOverlayEditTypes.indexOf(t.type)<0)return function(e){var t=e.property,r=e.propertySchema,o=r.name;return{key:"Edit Property "+o+" "+t,name:o,validators:$e,shortcuts:[],closeParentMenu:!0,action:function(e,o){"checkbox"===r.type?ce.createAndCommit(function(r){he.toggleCheckbox({stores:e.blocks,property:t,transaction:r})}):e.originRect&&he.open({store:e.blocks[0],additionalStores:e.blocks.slice(1),property:t,format:B.BlockPropertyValueFormat.Page,rect:n({},p.toPlainObject(e.originRect),{width:200}),preventClearSelection:!0,blockPropertyValueOverlayStore:Be.default.state.open?Le.default:Re.default})},render:function(e){return c.createElement(V.default,n({},e,{propertySchema:r,format:V.default.DisplayFormat.Name}))}}}({property:e.property,propertySchema:t})}))}]}return[]}}),Ur={key:"Filter",name:"Filter",render:function(e,t){var r=or(t.blocks[0],"filter");return c.createElement(P.default,n({},e,{title:"Filter",svg:we.default.filter,right:r&&c.createElement(Fe.default,{render:function(e){return c.createElement("div",{style:{color:e.mediumTextColor}},r+" Rule"+(r>1?"s":""))}})}))},validators:[v.isCollectionView,v.canEdit,v.not(v.blocksAreInSidebar),v.isNotInsideLockedPage],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;return X.triggerCollectionViewBlockMethod({blocks:t,method:"openFilterMenu"})}},Wr={key:"Sort",name:"Sort",render:function(e,t){var r=or(t.blocks[0],"sort");return c.createElement(P.default,n({},e,{title:"Sort",svg:we.default.sort,right:r&&c.createElement(Fe.default,{render:function(e){return c.createElement("div",{style:{color:e.mediumTextColor}},r+" Rule"+(r>1?"s":""))}})}))},validators:[v.isCollectionView,v.canEdit,v.not(v.blocksAreInSidebar),v.isNotInsideLockedPage],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;return X.triggerCollectionViewBlockMethod({blocks:t,method:"openSortMenu"})}},zr=Ge({name:"Group By",svg:we.default.groupBy,validators:[v.isCollectionView,v.isCollectionViewType("board"),v.canEdit,v.not(v.blocksAreInSidebar)],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;return X.triggerCollectionViewBlockMethod({blocks:t,method:"openGroupMenu"})}}),Hr=Ge({name:"Properties",svg:we.default.properties,validators:[v.isCollectionView,v.canEdit,v.not(v.blocksAreInSidebar),v.isNotInsideLockedPage],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;return X.triggerCollectionViewBlockMethod({blocks:t,method:"openPropertiesMenu"})}}),qr=Ge({name:"Templates",svg:we.default.templates,validators:[v.isCollectionView,v.canEdit,v.not(v.blocksAreInSidebar)],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;return X.triggerCollectionViewBlockMethod({blocks:t,method:"openAddItemMenu"})}}),Gr=Ge({name:"Calendar By",svg:we.default.collectionCalendar,validators:[v.isCollectionView,v.isCollectionViewType("calendar"),v.canEdit,v.not(v.blocksAreInSidebar)],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;return X.triggerCollectionViewBlockMethod({blocks:t,method:"openCalendarByMenu"})}}),Zr=Ge({name:"No Date",svg:we.default.noDate,validators:[v.isCollectionView,v.isCollectionViewType("calendar"),v.canEdit,v.not(v.blocksAreInSidebar),v.shouldShowNoDateMenu],shortcuts:[],closeParentMenu:!0,action:function(e){var t=e.blocks;return X.triggerCollectionViewBlockMethod({blocks:t,method:"openCalendarNoDateMenu"})}}),Yr=Ge({name:"Open as Page",svg:we.default.openAsPage,validators:[v.isInlineCollectionView,v.not(v.blocksAreInSidebar)],shortcuts:[],closeParentMenu:!0,action:function(e){return X.openCollectionAsPage(e)}});t.turnIntoActions={key:"turn into actions",title:"Turn Into",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:Object.keys(b.transformableTypes).map(function(e){return t=e,{key:"turn into "+(r=E.allCreateBlockItems[t]).title,name:r.title,searchName:r.searchTitle,validators:[v.canEdit,v.areTransformable,v.areInCurrentRootStore],shortcuts:[],closeParentMenu:!0,action:function(e){var r=e.blocks;ce.createAndCommit(function(e){le.transformBlocks({blocks:r,blockType:t,transaction:e})})},render:function(e){return c.createElement(D.default,n({},e,r,{format:D.default.Format.TurnInto}))}};var t,r})},t.textColorActions={key:"text color actions",title:"Color",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:Ne.blockTextColors.map(Xe)},t.backgroundColorActions={key:"background color actions",title:"Background",searchTitle:"Color Background",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:Ne.blockBackgroundColors.map(Xe)},t.toggleLastUsedHighlight={key:"toggle last highlight",title:"Last Used",searchTitle:"Color Last Used",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[{key:"toggle highlight action",name:"Highlight",validators:Qe,shortcuts:["toggleHighlight"],closeParentMenu:!0,action:function(e){var t=We.default.state.color;ce.createAndCommit(function(r){var n=p.every(e.blocks.map(function(e){var r=e.getFormat();return r&&r.block_color===t}))?void 0:t;fe.updateFormat({stores:e.blocks,update:{block_color:n},transaction:r})})},render:function(e){var t=We.default.state.color;return c.createElement(L.default,n({},e,{color:t,shortcuts:["toggleHighlight"]}))}}]};var Kr=Ke({name:"Turn Into",svg:we.default.loop,validators:[v.canEdit,v.isNotInsideLockedPage,v.areTransformable,v.areInCurrentRootStore],shortcuts:[],subActions:function(){return[{key:0,title:void 0,render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:t.turnIntoActions.actions}]}}),Jr=Ke({name:"Color",svg:we.default.blockColor,validators:Qe,shortcuts:[],subActions:function(){return[t.toggleLastUsedHighlight,t.textColorActions,t.backgroundColorActions]}}),Qr=[Ye({name:"Bold",shortcuts:["toggleBold"],annotation:["b"]}),Ye({name:"Italic",shortcuts:["toggleItalics"],annotation:["i"]}),Ye({name:"Strike-through",shortcuts:["toggleStrike"],annotation:["s"]})],Xr=Ge({name:"Dark Mode",validators:[],shortcuts:["toggleDarkMode"],closeParentMenu:!0,action:function(){var e="light"===Ve.default.state.mode?"dark":"light";de.setTheme({mode:e})}}),$r=Ge({name:"Open As Page",validators:[v.peekIsOpen],shortcuts:["commandEnter"],closeParentMenu:!0,action:function(){var e=Be.default.state;e.open&&Q.navigateToBlock({store:e.target})}}),en=Ge({name:"Open All Toggles",validators:[],shortcuts:["toggleAllToggles"],closeParentMenu:!0,action:function(){var e=Ee.default.state.currentBlockStore;e&&ze.toggleAllTogglesInSubtree(e)}});function tn(e){var t=e.title||"",r=i(t.split(" ")),o=r[0],a=r.slice(1),s=l([o],a.map(function(e){return e.toLowerCase()})).join(" ");return e.actions.map(function(e){return n({},e,{name:[s,e.name].filter(Boolean).join(" ")})})}function rn(e){return e.reduce(function(e,t){return l(e,t.actions)},[])}function nn(e,t){var r,o,a=[];try{for(var i=s(e),l=i.next();!l.done;l=i.next()){var u=l.value,c=u.actions.filter(t);c.length>0&&a.push(n({},u,{actions:c}))}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return a}t.flattenActionSection=tn,t.getActions=rn,t.filterActionSections=nn;var on={key:"mobile revision actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[ut,ct]};t.blockActions=[on,{key:"block menu primary",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[t.deleteBlock,tt,Kr,Nt,Ct]},{key:"block menu secondary",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Wt,zt,Ht,qt,Gt,at,it,Br,Nr,Sr]},{key:"block menu comment",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Ut,Zt]},{key:"block menu color",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e,{topBorder:!0}))},actions:[Jr]},{key:"block menu style",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[rr]}],t.inlineCollectionViewActions=[on,{key:"inline collection primary actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[t.deleteBlock,tt,Ct,Yr]},{key:"inline collection secondary actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Hr,qr,Ur,Wr,zr,Gr,Zr,wr]},{key:"inline collection export actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[vr,Dr]},{key:"inline collection move actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Br]},fr],t.lockedInlineCollectionViewActions=[on,{key:"inline collection primary actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[t.deleteBlock,tt,Ct,Yr]},{key:"inline collection secondary actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Zr,wr]},{key:"inline collection export actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Dr]},{key:"inline collection move actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Br]},fr],t.fullScreenCollectionViewActions=[on,{key:"fullscreen collection secondary actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Et,Hr,qr,Ur,Wr,zr,Gr,Zr]},fr],t.lockedFullScreenCollectionViewActions=[on,{key:"locked fullscreen collection primary actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Et]}],t.outlinerItemActions=[on,{key:"outliner primary actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[et,rt,ot,tt,Ct,at]},{key:"outliner move actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Br]}];var an={key:"pageHistory",render:function(e){return c.createElement(A.default,n({},e))},actions:[dt,Vr,Fr,et]};t.topbarMoreActions=[Kt,pr,on,{key:"topbar database edit lock",render:function(e){return c.createElement(A.default,n({},e))},actions:[er]},{key:"topbar page edit lock",render:function(e){return c.createElement(A.default,n({},e))},actions:[$t]},{key:"topbar primary actions",render:function(e){return c.createElement(A.default,n({},e))},actions:[nt,ot,Ct,Pt,xt,Mt,It]},an,{key:"topbar import actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Lr,vr,Dr]},{key:"topbar move actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:[Br]}],t.publicTopbarMoreActions=[{key:"page",render:function(e){return c.createElement(A.default,n({},e))},actions:[Lt,Dt]},{key:"user",render:function(e){return c.createElement(A.default,n({},e))},actions:[Rt,Bt]}];var ln=[{title:"Mention a Person",thumbnail:ge.default.images.blocks.mentionPersonPng,description:"Mention a person, so he or she will receive a notification.",tooltipPhoto:ge.default.images.tooltips.blocks.mentionPersonPng,action:function(){ye.insertMention({user:!0,date:!1,page:!1})}},{title:"Mention a Page",thumbnail:ge.default.images.blocks.mentionPagePng,description:"Mention a page inside a text.",tooltipPhoto:ge.default.images.tooltips.blocks.mentionPagePng,action:function(){ye.insertMention({user:!1,date:!1,page:!0})}},{title:"Date or Reminder",thumbnail:ge.default.images.blocks.mentionDatePng,description:"Insert a date or reminder inside a text.",tooltipPhoto:ge.default.images.tooltips.blocks.mentionTimePng,action:function(){ye.insertMention({user:!1,date:!0,page:!1})}}].map(function(e){return{key:"insert "+e.title,name:e.title,render:function(t){return c.createElement(D.default,n({},t,e,{format:D.default.Format.Insert}))},validators:[v.isNotMobile],shortcuts:[],closeParentMenu:!0,action:function(){return e.action()}}});t.insertActions=[{key:"Insert Basic Blocks",title:"Basic Blocks",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:E.basicBlockItems.map(function(e){return Je(e,"slash_menu")})},{key:"Insert Inline",title:"Inline",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:ln},{key:"Insert Database",title:"Database",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:E.databaseBlockItems.map(function(e){return Je(e,"slash_menu")})},{key:"Insert Media",title:"Media",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:E.mediaBlockItems.map(function(e){return Je(e,"slash_menu")})},{key:"Insert Embeds",title:"Embeds",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:E.embedBlockItems.map(function(e){return Je(e,"slash_menu")})},{key:"Insert Advanced Blocks",title:"Advanced Blocks",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:E.advancedBlockItems.map(function(e){return Je(e,"slash_menu")})}],t.slashActions=l(t.insertActions,[t.turnIntoActions,{key:"slash actions",title:"Actions",render:function(e){return c.createElement(A.default,n({isTitleUppercase:!0},e))},actions:rn(nn(t.blockActions,function(e){return!e.subActions}))},t.textColorActions,t.backgroundColorActions]),t.allActions=l([en,lt,t.deleteBlock,tt,Wt,hr,mr,yr,Gt,zt,Ht,qt,at,it,Ut,Zt,ut,ct,dt,pt,st,vt,bt,St,wt,Vt,Ft,_t,kt,jt,ft,ht,mt,yt,gt,Ct,_r,kr,Er,Cr,Tt,Ot,Pr,Br,jr,xr,At,Rr,gr,Mr,Ir,Ar,Dr,Ur,Wr,zr,Hr,qr,Gr,Zr,Yr,Nr,vr,br,Lr,wr,Sr,rr,Tr,Or,Xr,$r],Qr,tn(t.turnIntoActions),tn(t.textColorActions),tn(t.backgroundColorActions),tn(t.toggleLastUsedHighlight))},BL9y:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("udrG");t.pageSubtreeIsLoaded=function(e,r,n){var o,l;if(void 0===r&&(r=!0),void 0===n&&(n={}),!e.state.ready)return!1;if(n[e.id])return!0;if(n[e.id]=!0,e.getType()===i.default.page&&!r)return!0;var s=e.getContentStores(),u=!0;try{for(var c=a(s),d=c.next();!d.done;d=c.next()){var p=d.value;t.pageSubtreeIsLoaded(p,!1,n)||(u=!1)}}catch(e){o={error:e}}finally{try{d&&!d.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}return u},t.loadPageSubtree=function e(t,r,a){return void 0===r&&(r=!0),void 0===a&&(a={}),n(this,void 0,void 0,function(){var n;return o(this,function(o){switch(o.label){case 0:return[4,t.load()];case 1:return o.sent(),a[t.id]?[2]:(a[t.id]=!0,t.getType()!==i.default.page||r?(n=t.getContentStores(),[4,Promise.all(n.map(function(t){return e(t,!1,a)}))]):[2]);case 2:return o.sent(),[2]}})})}},BLi8:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadMoreOffset=200,t.startLimit=20,t.limitIncrement=20,t}return o(t,e),t.prototype.getInitialState=function(){return{filter:"",currentTab:"all_pages",loading:!0,limit:this.startLimit,excludePages:new Set}},t}(r("LEzx").default);t.default=new a},BMY5:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("j76I");t.loadPageChunk=function(e,t){return n(this,void 0,void 0,function(){var r,l,s,u,c,d,p,f;return o(this,function(h){switch(h.label){case 0:r=e.cursor?e.cursor.stack:[],l=e.pageId,s=e.limit,u={},0===r.length&&r.push([{table:"block",id:l,index:0}]),c=0,d=function(e,r){return n(this,void 0,void 0,function(){var n,a;return o(this,function(o){switch(o.label){case 0:return(n=i.getRecordMap(u,e,r))?[2,n]:[4,t(e,r)];case 1:return a=o.sent(),i.setRecordMap(u,e,r,a),a?[4,p(e,a)]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2,a]}})})},p=function(e,t){return n(this,void 0,void 0,function(){var r,n,i,l,s,u,c,p,f,h,m,y,g,v,b,w,S,_,k;return o(this,function(o){switch(o.label){case 0:if(c=[],(p=t).parent_table&&p.parent_id&&c.push({table:p.parent_table,id:p.parent_id}),"block"===e){if((f=t).view_ids)try{for(h=a(f.view_ids),m=h.next();!m.done;m=h.next())y=m.value,c.push({table:"collection_view",id:y})}catch(e){r={error:e}}finally{try{m&&!m.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}if(f.collection_id&&c.push({table:"collection",id:f.collection_id}),f.discussions)try{for(g=a(f.discussions),v=g.next();!v.done;v=g.next())b=v.value,c.push({table:"discussion",id:b})}catch(e){i={error:e}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(i)throw i.error}}f.created_by&&c.push({table:"notion_user",id:f.created_by})}else if("discussion"===e){w=t.comments||[];try{for(S=a(w),_=S.next();!_.done;_=S.next())k=_.value,c.push({table:"comment",id:k})}catch(e){s={error:e}}finally{try{_&&!_.done&&(u=S.return)&&u.call(S)}finally{if(s)throw s.error}}}return[4,Promise.all(c.map(function(e){var t=e.table,r=e.id;return d(t,r)}))];case 1:return o.sent(),[2]}})})},f=function(){return n(this,void 0,void 0,function(){var t,n,a,i,u,p,f,h,m,y;return o(this,function(o){switch(o.label){case 0:if(t=[],n=r[r.length-1],c>=s||!n)return[2,!1];a=0,o.label=1;case 1:return a<n.length?(i=n[a],[4,d(i.table,i.id)]):[3,10];case 2:if(u=o.sent(),p=u&&u.content,e.verticalColumns||!u||!p||"column_list"!==u.type||0!==i.index)return[3,7];f=0,o.label=3;case 3:return f<p.length?(h=p[f],[4,d("block",h)]):[3,6];case 4:o.sent(),t.push({table:"block",id:h,index:0}),o.label=5;case 5:return f++,[3,3];case 6:return i.index=p.length,[3,9];case 7:return u&&p&&(u.id===l&&1===r.length||"page"!==u.type&&"toggle"!==u.type)&&p[i.index]?(m=p[i.index],[4,d("block",m)]):[3,9];case 8:o.sent(),t.push({table:"block",id:m,index:0}),i.index++,o.label=9;case 9:return a++,[3,1];case 10:return(y=t.filter(function(e){for(var t=0;t<r.length;t++)for(var n=r[t],o=0;o<n.length;o++){var a=n[o];if(a.table===e.table&&a.id===e.id)return!1}return!0})).length>0?(r.push(y),c++):r.pop(),[2,!0]}})})},h.label=1;case 1:return[4,f()];case 2:return h.sent()?[3,1]:[3,3];case 3:return[2,{recordMap:u,cursorValue:{stack:r}}]}})})}},BRCg:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t.prototype.getKeyState=function(e){return this.state[e]},t.prototype.setKeyState=function(e,t){var r=this.state;t?r[e]=t:delete r[e],this.emit()},t.prototype.isUploading=function(){var e,t,r=this.state,n=Object.keys(r);try{for(var o=a(n),i=o.next();!i.done;i=o.next()){if(r[i.value])return!0}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return!1},t.prototype.getBlockKey=function(e){return e},t}(r("LEzx").default);t.default=new i},BTUg:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LEzx"),i=r("fke4"),l="currentHighlightColor",s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setHighlightColor=function(e){i.default.set(l,e),t.setState({color:e})},t}return o(t,e),t.prototype.getInitialState=function(){return{color:i.default.get(l)||"yellow_background"}},t}(a.default);t.default=new s},Bc2g:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t}(r("LEzx").default);t.default=a},BfkC:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("y6Dp"),s=r("t+pW"),u=r("LeVO"),c=r("r8oj"),d=r("MeYt"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){t.props.analyticsName&&l.trackClickUpgradeInfoButton({from:t.props.analyticsName}),t.props.onClick&&t.props.onClick(e)},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return c.default.isMobile?i.createElement(d.default,{disabled:void 0===this.props.onClick,style:t.clickableStyle},i.createElement("div",{style:this.getInnerStyle()},"Upgrade")):i.createElement(u.default,{delayThreshold:120,placement:u.default.Placement.Bottom,renderTooltip:function(){return i.createElement("div",{style:{width:180,textAlign:"center"}},"Upgrade to use this feature.",i.createElement("br",null),"Click to learn more.")},originGap:6,render:function(r){return i.createElement(d.default,a({style:a({},t.clickableStyle,e.props.desktopStyle),disabled:void 0===e.props.onClick,onClick:e.handleClick},r),i.createElement("div",{style:e.getInnerStyle()},"Upgrade"))}})},t.prototype.getInnerStyle=function(){return{padding:"2px 6px",borderRadius:3,color:this.theme.mediumTextColor,background:this.theme.selectColors.default,fontSize:c.default.isMobile?11:9,lineHeight:c.default.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em"}},t.clickableStyle={display:"flex",alignItems:"center",borderRadius:3},t}(s.default);t.default=p},BkqD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("A9TN"),c=r("mF3+"),d=r("t+pW"),p=r("F1uM"),f=r("H4VD"),h=r("T1kp"),m=r("SR/M"),y=r("i3uR"),g=r("gbGO"),v=r("WgIs"),b=r("r8oj"),w=r("2Y+N"),S=r("1y3T"),_=r("6sah"),k=r("622O"),C=r("wXH4"),E=r("QS/e"),P=r("yNyh"),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderRenameMenu=function(){var e,r=t.stores.filePropertyMenuItemStore.state;if(r.open)return e=b.default.isMobile?{menuType:g.default.MenuType.ActionSheet}:{menuType:g.default.MenuType.Popup,width:380},s.createElement(g.default,a({},e),s.createElement("div",{style:t.getInputWrapStyle()},s.createElement(P.default,{style:t.getInputStyle(),value:r.inputValue,placeholder:k.getFileNameFromUrl(t.props.url),onChange:t.handleRenameInputChange,onSubmit:t.handleCloseRename,focusInitial:!0,selectAll:!0})))},t.handleFullScreen=function(){h.openFullscreen({renderFullScreenNode:function(){return s.createElement(S.default,{url:t.props.url,permissionRecord:{table:t.props.store.table,id:t.props.store.id},width:300,render:function(e,t){return s.createElement("img",{src:t,style:{maxHeight:"100%",maxWidth:"100%",margin:"0 auto",alignSelf:"center"}})}})},fullScreenNodeRect:t.imageNode.getBoundingClientRect()})},t.handleRename=function(){t.stores.filePropertyMenuItemStore.setState({open:!0,inputValue:t.props.name})},t.handleCloseRename=function(){t.stores.filePropertyMenuItemStore.setState({open:!1})},t.handleRenameInputChange=function(e){var r=t.stores.filePropertyMenuItemStore.state;if(r.open){var n=e.target.value;t.stores.filePropertyMenuItemStore.setState(a({},r,{inputValue:n}));var o=k.getFileDisplayName({title:n,source:t.props.url});t.props.onChange({url:t.props.url,name:o})}},t.handleViewOriginal=function(){return i(t,void 0,void 0,function(){var e,t,r;return l(this,function(n){return e=this.props,t=e.url,r=e.name,f.openFileUrl({url:t,downloadName:r,permissionRecord:{table:this.props.store.table,id:this.props.store.id}}),[2]})})},t.handleDownload=function(){return i(t,void 0,void 0,function(){var e,t,r;return l(this,function(n){return e=this.props,t=e.url,r=e.name,f.downloadFileUrl({url:t,download:!0,downloadName:r,permissionRecord:{table:this.props.store.table,id:this.props.store.id}}),[2]})})},t.handleDelete=function(){t.props.onDelete(t.props.url)},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.url;return p.isImageURL({url:e})?this.renderImage(e):this.renderFile()},t.prototype.renderImage=function(e){var r=this,n=this.props.disabled;return s.createElement(m.default,{focused:!1,showDragHandle:!n&&!b.default.isMobile,style:{paddingTop:b.default.isMobile?12:8,paddingBottom:b.default.isMobile?12:8,alignItems:"flex-start"},title:s.createElement(S.default,{url:e,permissionRecord:{table:this.props.store.table,id:this.props.store.id},width:300,render:function(e,n){return s.createElement("div",{style:t.innerStyle},s.createElement("img",{src:n,style:t.imageStyle,onClick:r.handleFullScreen,ref:function(e){return r.imageNode=e}}))}}),right:this.renderActionMenu(!0),dontShrinkRight:!0})},t.prototype.renderFile=function(){var e=this.props.disabled,t=this.props.name;return s.createElement(C.Popup,{open:this.stores.filePropertyMenuItemStore.state.open,popupType:b.default.isMobile?y.default.PopupType.SlideUp:y.default.PopupType.Popup,origin:s.createElement(m.default,{focused:!1,showDragHandle:!e&&!b.default.isMobile,onClick:this.handleViewOriginal,title:t,icon:s.createElement("div",{style:{width:b.default.isMobile?16:14}},c.default.file()),right:this.renderActionMenu(!1),dontShrinkRight:!0}),render:this.renderRenameMenu,onDismiss:this.handleCloseRename})},t.prototype.getActionMenuItems=function(e){var t=this.props,r=t.url,n=t.disabled,o=[];return e&&o.push({key:"fullscreen",render:function(e){return s.createElement(m.default,a({},e,{title:"Full Screen"}))},action:this.handleFullScreen}),(k.isSecureFileUrl(r,u.default.secureFileS3.url)||b.default.isNative)&&o.push({key:"download",render:function(e){return s.createElement(m.default,a({},e,{title:"Download"}))},action:this.handleDownload}),o.push({key:"original",render:function(e){return s.createElement(m.default,a({},e,{title:"View Original"}))},action:this.handleViewOriginal}),n||e||o.push({key:"rename",render:function(e){return s.createElement(m.default,a({},e,{title:"Rename"}))},action:this.handleRename}),n||o.push({key:"delete",render:function(e){return s.createElement(m.default,a({},e,{title:"Delete"}))},action:this.handleDelete}),o},t.prototype.renderActionMenu=function(e){var t=this;return s.createElement(y.default,{popupType:b.default.isMobile?y.default.PopupType.SlideUp:y.default.PopupType.Popup,renderOrigin:function(e){return s.createElement(_.default,a({isMobile:b.default.isMobile},e))},render:function(r){var n;return n=b.default.isMobile?{menuType:g.default.MenuType.ActionSheet}:{menuType:g.default.MenuType.Popup,width:200},s.createElement(g.default,a({},n),s.createElement(v.default,{initialFocus:0,onAccept:r.close,sections:[{key:"section",render:function(e){return s.createElement(w.default,a({},e))},items:t.getActionMenuItems(e)}]}))}})},t.prototype.getInputWrapStyle=function(){return{display:"flex",alignItems:"center",color:this.theme.regularTextColor,fontSize:"13px",padding:"4px 8px"}},t.prototype.getInputStyle=function(){return{display:"flex",alignItems:"center",flexGrow:1,fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10,width:"100%",borderRadius:3,boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,cursor:"text",position:"relative"}},t.stores={filePropertyMenuItemStore:E.default},t.imageStyle={display:"block",maxWidth:"100%",maxHeight:180,cursor:"zoom-in"},t.innerStyle={flex:"auto",overflow:"hidden"},t}(d.default);t.default=x},Bpt7:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("Sb6f"),s=r("IwFn"),u=r("wldR"),c=r("/Zir"),d=r("IYZQ"),p=r("xVnP"),f=r("pAJP"),h=r("qqdV"),m=r("zmp8"),y=r("4NII"),g=r("5Nka"),v=r("WDpx"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderDivider=function(){return i.createElement("div",{style:{height:"0.875em"}})},t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(v.default,{title:"Why We Built Notion - A Story of Tools and the Future of Work"},i.createElement(c.default,{hideEvernoteLink:!0,analyticsName:"about"},i.createElement(f.default,{name:"story"}),this.renderStory(),i.createElement("div",{style:t.sectionDividerStyle}),i.createElement(f.default,{name:"join_us"}),this.renderJoinUs(),i.createElement("div",{style:t.sectionDividerStyle}),i.createElement(f.default,{name:"investors"}),this.renderInvestors(),i.createElement(p.default,{analyticsName:"investors"})))},t.prototype.renderStory=function(){return i.createElement("div",{style:a({display:"flex",flexDirection:"column",alignItems:"center"},t.sectionStyle)},i.createElement("h2",{style:{fontSize:y.default()?20:32,marginTop:y.default()?56:96,marginBottom:8,alignSelf:"flex-start",color:m.default.FrontAboutStoryH2Color}},"About Notion"),i.createElement("h3",{style:{marginTop:0,marginBottom:(y.default(),90),alignSelf:"flex-start",fontSize:y.default()?24:44}},"A Story of Tools and the Future of Work"),this.renderSection({text:i.createElement("div",null,"Hi there! If you're reading this, you're probably like me—spending most of your days in your office, in front of a computer."),illustration:i.createElement("img",{src:g.default.front.about.about01Png,style:t.illustrationStyle})}),this.renderSection({text:i.createElement("div",null,"You probably have fifteen tabs open: one for email, one for Slack, one for Google Docs, and on, and on...",this.renderDivider(),'But have you ever thought about where these "work tools" came from? Or why there are so many of them?',this.renderDivider(),"To answer these questions, and to explain why we created Notion, we have to travel back in time."),illustration:i.createElement("img",{src:g.default.front.about.about02Png,style:a({},t.illustrationStyle,{alignSelf:"flex-end"})})}),this.renderSection({text:i.createElement("div",null,"As people flooded to factories during the Industrial Revolution, many tools were invented to ease the management overload.",this.renderDivider(),"Typewriters replaced illegible handwriting. File cabinets stored more information than any clerk could remember (and also won the gold medal at the 1893 Chicago World's Fair!)",this.renderDivider(),"Tools like these paved the way for offices as we know them today."),illustration:i.createElement("img",{src:g.default.front.about.about03Png,style:a({},t.illustrationStyle,{marginTop:-7})})}),this.renderSection({text:i.createElement("div",null,"Fast forward to the 1950s, when computers came into the workplace.",this.renderDivider(),"At first, they were lifeless, room-sized monsters that operated on paper and punch cards. They were used solely for number-crunching."),illustration:i.createElement("img",{src:g.default.front.about.about04Png,style:a({},t.illustrationStyle,{marginTop:5})})}),this.renderSection({text:i.createElement("div",null,"Then something magical happened in the 1970s!",this.renderDivider(),"A generation of pioneers saw the computer as something far beyond a number-crunching machine. They dreamt a future where computers could amplify imagination (Alan Kay), augment intellect (Doug Engelbart), and expand our thoughts far beyond text on paper (Ted Nelson).",this.renderDivider(),"A tool unlike anything we have seen before."),illustration:i.createElement("img",{src:g.default.front.about.about05Png,style:t.illustrationStyle})}),this.renderSection({text:i.createElement("div",{style:{marginTop:y.default()?80:120}},"But things didn't turn out that way.",this.renderDivider(),'As the legend goes, when Steve Jobs "borrowed" the ideas behind personal computing from Xerox PARC, many subtle, but crucial, differences were lost.',this.renderDivider(),"👈 Click play and listen to the man himself."),illustration:i.createElement("div",{style:{position:"relative",width:"100%",marginTop:y.default()?80:120}},i.createElement("div",{style:{position:"relative",width:"100%",height:0,paddingBottom:"74%",border:"2px solid black",borderRadius:1}},i.createElement("iframe",{frameBorder:"0",allowFullScreen:!0,src:"https://player.vimeo.com/video/181839941",style:{width:"100%",height:"100%",position:"absolute",top:0,left:0}})),i.createElement(s.default,{style:{textAlign:"right",fontFamily:l.default.fontFamily.sans,marginTop:4}},'Video clip from "Triumph of the Nerds", 1996'),i.createElement("img",{src:g.default.front.about.about06Png,style:{width:"100%",display:"block",position:"absolute",top:"-36%",left:"10%",transform:"translate3d(0, 0, 0)"}}))}),this.renderSection({text:i.createElement("div",null,"And that's where we are today.",this.renderDivider(),"Google Docs made typewriters multiplayer. Dropbox brought file cabinets to the cloud. But conceptually, they evolved little beyond their Industrial Revolution ancestors.",this.renderDivider(),"We duct-tape everything together with emails, copy/paste, and countless open tabs."),illustration:i.createElement("img",{src:g.default.front.about.about07Png,style:t.illustrationStyle})}),this.renderSection({text:i.createElement("div",null,"That's where Notion comes in. We want to break away from today's tools—and bring back some of the ideas of those early pioneers.",this.renderDivider(),"As a first step, we are blending much of your workflow into an"," ",i.createElement("b",null,"all-in-one workspace"),". Want a task list? A product roadmap? A design repository? They are now all in one place. You can even customize your own workspace from dozens of LEGO-style building blocks.",this.renderDivider(),"Solve your problems your way, bounded only by your imagination."),illustration:i.createElement("img",{src:g.default.front.about.about08Png,style:t.illustrationStyle})}),this.renderSection({text:i.createElement("div",null,"Hopefully you've gotten a good sense of why we started Notion.",this.renderDivider(),"Challenging the status quo is not an easy task. Check out the product! Write in! We need early adopters like you to start a movement.",this.renderDivider(),"See you soon!"),illustration:i.createElement("img",{src:g.default.front.about.about09Png,style:t.illustrationStyle})}),i.createElement("div",{style:{fontSize:24,width:"100%"}},i.createElement("b",null,"“The best way to predict the future is to invent it.”"),i.createElement("br",null),"Alan Kay, computing pioneer"))},t.prototype.renderJoinUs=function(){return i.createElement("div",{style:t.sectionStyle},i.createElement("div",{style:t.sectionHeaderStyle},"Join Us"),i.createElement("div",{style:{maxWidth:"37em"}},i.createElement("div",null,"Notion is based in the sunny Mission district of San Francisco. We are a diverse group of people interested in computing, history, art, alternative programming languages, and skateboarding."),i.createElement("br",null),i.createElement("div",null,"Interested in joining us?"," ",i.createElement(d.default,{href:h.joinUs},"Learn more here")," 👈")))},t.prototype.renderInvestors=function(){return i.createElement("div",{style:t.sectionStyle},i.createElement("div",{style:t.sectionHeaderStyle},"Our Investors"),i.createElement("div",{style:{maxWidth:"35em"}},"We are fortunate to work with some of the best investors in the world. Chances are you are already using the products they helped to create."),i.createElement("div",{style:t.peopleWrapStyle},i.createElement("div",{style:t.peopleStyle},i.createElement("img",{style:t.peopleImgStyle,src:g.default.front.about.people.joshPng}),i.createElement("div",{style:t.peopleTextStyle},i.createElement("div",{style:t.peopleNameStyle},"Josh Kopelman"),i.createElement("div",{style:t.peopleDescriptionStyle},"Partner at First Round Capital. Investor in Square, Uber, Mint, Simple."))),i.createElement("div",{style:t.peopleStyle},i.createElement("img",{style:t.peopleImgStyle,src:g.default.front.about.people.shanaPng}),i.createElement("div",{style:t.peopleTextStyle},i.createElement("div",{style:t.peopleNameStyle},"Shana Fisher"),i.createElement("div",{style:t.peopleDescriptionStyle},"Investor in Pinterest, Stripe, Hackpad, Paper/FiftyThree."))),i.createElement("div",{style:t.peopleStyle},i.createElement("img",{style:t.peopleImgStyle,src:g.default.front.about.people.navalPng}),i.createElement("div",{style:t.peopleTextStyle},i.createElement("div",{style:t.peopleNameStyle},"Naval Ravikant"),i.createElement("div",{style:t.peopleDescriptionStyle},"Founder of AngelList. Investor in Twitter, Uber, Yammer."))),i.createElement("div",{style:t.peopleStyle},i.createElement("img",{style:t.peopleImgStyle,src:g.default.front.about.people.ramPng}),i.createElement("div",{style:t.peopleTextStyle},i.createElement("div",{style:t.peopleNameStyle},"Ram Shriram"),i.createElement("div",{style:t.peopleDescriptionStyle},"Partner at Sherpalo Ventures. Investor and board member of Google."))),i.createElement("div",{style:t.peopleStyle},i.createElement("img",{style:t.peopleImgStyle,src:g.default.front.about.people.aydinPng}),i.createElement("div",{style:t.peopleTextStyle},i.createElement("div",{style:t.peopleNameStyle},"Aydin Senkut"),i.createElement("div",{style:t.peopleDescriptionStyle},"Partner at Felicis Ventures. Investor in Shopify, Fitbit."))),i.createElement("div",{style:t.peopleStyle},i.createElement("img",{style:t.peopleImgStyle,src:g.default.front.about.people.mattPng}),i.createElement("div",{style:t.peopleTextStyle},i.createElement("div",{style:t.peopleNameStyle},"Matt Macinnis"),i.createElement("div",{style:t.peopleDescriptionStyle},"Founder of Inkling. Investor in Clever, Zenefits."))),i.createElement("div",{style:t.peopleStyle},i.createElement("img",{style:t.peopleImgStyle,src:g.default.front.about.people.eliPng}),i.createElement("div",{style:t.peopleTextStyle},i.createElement("div",{style:t.peopleNameStyle},"Elad Gil"),i.createElement("div",{style:t.peopleDescriptionStyle},"Ex-VP at Twitter. Investor in Airbnb, Stripe, Square, Pinterest."))),i.createElement("div",{style:t.peopleStyle},i.createElement("img",{style:t.peopleImgStyle,src:g.default.front.about.people.mikePng}),i.createElement("div",{style:t.peopleTextStyle},i.createElement("div",{style:t.peopleNameStyle},"Mike Vernal"),i.createElement("div",{style:t.peopleDescriptionStyle},"Partner at Sequoia Capital. Ex-VP of Platform at Facebook.")))))},t.prototype.renderSection=function(e){return i.createElement("div",{style:this.getSectionStyle()},i.createElement("div",{style:this.getSectionIllustrationStyle()},e.illustration),i.createElement("div",{style:this.getSectionTextStyle()},e.text))},t.prototype.getSectionStyle=function(){return a({maxWidth:920,marginBottom:y.default()?120:180},!y.default()&&{display:"flex"})},t.prototype.getSectionIllustrationStyle=function(){return{display:"flex",alignItems:"flex-start",flexGrow:0,flexShrink:0,width:y.default()?"100%":450}},t.prototype.getSectionTextStyle=function(){return a({flexGrow:1,flexShrink:1},y.default()?{paddingTop:20}:{paddingRight:16,paddingLeft:64})},t.sectionStyle={width:800,maxWidth:"80vw"},t.sectionHeaderStyle={fontSize:32,fontWeight:l.default.fontWeight.bold,marginBottom:12},t.sectionDividerStyle={marginTop:120,marginBottom:72,borderBottom:"1px solid "+m.default.frontBorderColor,width:t.sectionStyle.width,maxWidth:t.sectionStyle.maxWidth},t.peopleWrapStyle={display:"flex",flexWrap:"wrap",justifyContent:"space-around",marginTop:48,marginBottom:32,width:"100%"},t.peopleStyle={width:190,maxWidth:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginRight:8,marginBottom:24},t.peopleImgStyle={display:"block",width:120,height:120,marginRight:8},t.peopleTextStyle={textAlign:"center"},t.peopleNameStyle={marginTop:8,marginBottom:4},t.peopleDescriptionStyle={fontSize:14,color:m.default.FrontAboutDescriptionColor},t.illustrationStyle={width:"100%",display:"block",borderBottom:"2px solid black"},t}(u.default);t.default=b},BuhN:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("/mqF"),l=r("6rsX"),s=r("wldR"),u=r("MBf9"),c=r("r8oj"),d=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.handleDragOver=function(e){e.preventDefault(),r.startDrag(e),r.continueDragThrottled(e)},r.handleDrop=function(e){e.preventDefault();var t=Array.from(e.dataTransfer.files);t.length>0&&u.createAndCommit(function(e){i.completeNativeDrag({files:t,analyticsFrom:"native_drag",transaction:e})})},r.startDrag=function(e){i.startDrag({startX:e.clientX,startY:e.clientY,stores:[],isNativeDrag:!0})&&l.clear()},r.continueDrag=function(e){r.cancelDragTimeout&&window.clearTimeout(r.cancelDragTimeout),r.cancelDragTimeout=window.setTimeout(r.cancelDrag,r.getCancelDragTimeoutMS()),i.continueDrag({currentX:e.clientX,currentY:e.clientY})},r.continueDragThrottled=a.throttle(r.continueDrag,t.dragOverThrottleMS),r.cancelDrag=function(){i.cancelDrag()},r}return o(t,e),t.prototype.didMount=function(){e.prototype.didMount.call(this),window.addEventListener("dragover",this.handleDragOver),window.addEventListener("drop",this.handleDrop)},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),window.removeEventListener("dragover",this.handleDragOver),window.removeEventListener("drop",this.handleDrop)},t.prototype.getCancelDragTimeoutMS=function(){return c.default.isLinux?2e3:200},t.dragOverThrottleMS=62.5,t}(s.default);t.default=d},Bzsy:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},C7oc:function(e,t,r){"use strict";var n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l,s=r("q1tI"),u=r("t+pW"),c=r("Sb6f"),d=r("zmp8");!function(e){e[e.Red=0]="Red",e[e.Gray=1]="Gray"}(l||(l={}));var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderComponent=function(){var e=this.props.color===l.Red;return s.createElement("div",{style:i({},t.style,this.props.style,{background:e?d.default.red:this.theme.lightIconColor})},s.createElement("div",null,this.renderNumber()))},t.prototype.renderNumber=function(){var e=this.props.count;return 1===e?s.createElement("span",{style:{marginLeft:-.5}},"1"):e>9?s.createElement("span",{style:{letterSpacing:-1}},"9+"):e},t.Color=l,t.style=((o={display:"inline-flex",alignItems:"center",justifyContent:"center",height:14,width:14,flexShrink:0,textAlign:"center",fontSize:9,fontWeight:c.default.fontWeight.semibold,borderRadius:3,color:d.default.white}).WebkitFontSmoothing="auto",o),t}(u.default);t.default=p},CC14:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("aqBw"),o=r("8d11");t.encode=function(e){var t=o.encode(e);return n.encode(t)},t.decode=function(e){var t=n.decode(e);return o.decode(t)}},CCCS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("q1tI"),l=r("wldR"),s=r("6BTz"),u=r("pxbK"),c=r("bPtJ"),d=r("fB7H"),p=r("D2XV"),f=r("3DNc"),h=r("oRaq"),m=r("nFzZ"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formulaValueStore=t.createComputedStore(function(){var e=t.props,r=e.property,n=e.store,o=e.schema,a=n.getValue();if(a)return u.evaluateFormula({property:r,schema:o,block:a,getRecordValue:t.getRecordValue,userTimeZone:p.currentTimeZone,depth:0})}),t.getRecordValue=function(e,r){return c.createRecordStore(t.props.store,e,r).getValue()},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.property,r=e.schema,n=e.style,o=e.isDesktopCalendar,l=r[t];if(l&&"formula"===l.type){var u=l.formula,c=l.number_format,y=u?u.result_type:null,g=this.formulaValueStore.state;if("checkbox"===y&&"boolean"==typeof g)return i.createElement(f.default,{checked:g,disabled:!0,size:o?12:16,checkSize:o?8:12});if("number"===y&&"number"==typeof g){var v=c||s.defaultNumberFormat;if(!a.isNaN(g)&&!m.isNotDefined(g))return i.createElement("span",{style:n},s.formatNumber(g,v))}else{var b;if("date"===y&&p.isPersistedDate(g))return h.getFormulaDependencies(u).find(function(e){var t=r[e];return!(!t||"date"!==t.type)&&(b=t,!0)}),i.createElement(d.default,{value:g,dateFormat:b&&b.date_format?b.date_format:p.defaultDateFormat,timeFormat:b&&b.time_format?b.time_format:p.defaultTimeFormat,style:n});if("text"===y&&"string"==typeof g)return i.createElement("div",{style:n},g?g.toString():null)}}},t}(l.default);t.default=y},CIk0:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("y6Dp"),u=r("FcJC"),c=r("loBV"),d=r("t+pW"),p=r("LeVO"),f=r("MBf9"),h=r("d9nj"),m=r("6rsX"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleBookmarkClick=function(){m.clear(),s.trackBookmark({from:"topbar"}),f.createAndCommit(function(e){u.bookmarkPage({spaceViewStore:t.props.spaceViewStore,store:t.props.store,transaction:e})})},t.handleUnbookmarkClick=function(){m.clear(),s.trackUnbookmark({from:"topbar"}),f.createAndCommit(function(e){u.unbookmarkPage({spaceViewStore:t.props.spaceViewStore,store:t.props.store,transaction:e})})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=c.default({spaceViewStore:this.props.spaceViewStore,pageId:this.props.store.id}),r=t?i.createElement("div",{style:{textAlign:"center"}},"Hide this page from your sidebar",i.createElement("br",null),i.createElement("span",{style:{color:this.theme.mediumInvertedTextColor}},"Currently visible")):i.createElement("div",{style:{textAlign:"center"}},"Show this page in your sidebar",i.createElement("br",null),i.createElement("span",{style:{color:this.theme.mediumInvertedTextColor}},"Currently hidden"));return i.createElement(p.default,{placement:p.default.Placement.Bottom,renderTooltip:function(){return r},render:function(r){return i.createElement(h.default,a({},r,{onClick:t?e.handleUnbookmarkClick:e.handleBookmarkClick,icon:t?l.default.check:void 0}),t?"Favorited":"Favorite")}})},t}(d.default);t.default=y},CSYU:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{ready:!1,loading:!1}},t}(r("LEzx").default);t.default=a},CTEM:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("e4sT");t.default=function(e){return!(!e||e.length>100||e.startsWith("data")||e.startsWith("http"))&&n.onlyEmoji(e).length>0}},CXc9:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("t+pW"),u=r("bFnu"),c=r("iVjn"),d=r("r8oj"),p=r("FcJC"),f=r("LeVO"),h=r("uSCg"),m=r("RI9y"),y=r("6rsX"),g=r("nZ1u"),v=r("UcZb"),b=r("0zNc"),w=r("HTHG"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.didDragMove=!1,t.renderTooltip=function(){var e=w.sidebarIsExpanded();return i.createElement("div",{style:{textAlign:"center"}},"Drag"," ",i.createElement("span",{style:{color:t.theme.mediumInvertedTextColor}},"to resize"),i.createElement(l.Fragment,null,i.createElement("br",null),"Click"," ",i.createElement("span",{style:{color:t.theme.mediumInvertedTextColor}},e?"to close":"to lock open")))},t.isDragging=t.createComputedStore(function(){return b.default.state.isDragging||g.default.state.isActive}),t.handleMouseEnter=function(e){return v.default.setState(a({},v.default.state,{mouseEnterY:e.clientY}))},t.handleMouseMove=function(){return v.default.setState(a({},v.default.state,{isResizerHovered:!0}))},t.handleMouseLeave=function(){return v.default.setState(a({},v.default.state,{isResizerHovered:!1}))},t.handleDragStart=function(){y.clear(),t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mousePressed:!0})),t.didDragMove=!1,v.default.setState(a({},v.default.state,{isResizing:!0}))},t.handleDragMove=function(e){m.clear(),t.didDragMove=!0,p.setWidth({width:t.calculateWidth(e.currentX)})},t.handleDragEnd=function(){t.didDragMove||(p.setExpand({isExpanded:!v.default.state.expanded}),v.default.setState(a({},v.default.state,{open:!1})),t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))),t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mousePressed:!1})),v.default.setState(a({},v.default.state,{isResizing:!1}))},t.handleDragCancel=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mousePressed:!1})),v.default.setState(a({},v.default.state,{isResizing:!1}))},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=v.default.state,r=t.width,n=t.mouseEnterY;if(!this.isDragging.state&&!d.default.isChromebook)return i.createElement(f.default,{renderTooltip:this.renderTooltip,originRect:{top:n,left:r,width:0,height:0,bottom:n,right:r},delayThreshold:500,placement:f.default.Placement.Right,originGap:10,render:function(t){return i.createElement("div",a({style:e.getWrapStyle()},h.default(t,{onMouseMove:e.handleMouseMove,onMouseLeave:e.handleMouseLeave,onMouseEnter:e.handleMouseEnter})),i.createElement(c.default,{onDraggableDragStart:e.handleDragStart,onDraggableDragMove:e.handleDragMove,onDraggableDragEnd:e.handleDragEnd,onDraggableDragCancel:e.handleDragCancel,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:function(t){return i.createElement("div",a({style:e.getStyle()},t))}}))}})},t.prototype.getWrapStyle=function(){var e=w.sidebarIsExpanded();return{position:"absolute",right:0,width:0,flexGrow:0,zIndex:1,top:e?0:-1,bottom:e?0:-1}},t.prototype.getStyle=function(){return{cursor:"col-resize",height:"100%",width:16,marginLeft:-8}},t.prototype.calculateWidth=function(e){return e>t.maxWidth?t.maxWidth:e<t.minWidth?t.minWidth:e},t.stores={mouseStore:u.default},t.minWidth=190,t.maxWidth=480,t}(s.default);t.default=S},CaJT:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("7Qu9"),l=r("MBf9"),s=r("sjR4"),u=r("DNgp"),c=r("7Qu9"),d=function(){var e=c.default.state,t=e.currentIndex,r=t+1;return{revision:e.revisionStack[t],index:r}},p=function(){var e=c.default.state,t=e.currentIndex-1;return{revision:e.revisionStack[t],index:t}};t.checkpoint=function(e){u.default.state;var t=c.default.state,r=t.revisionStack,o=t.currentIndex;r=a.slice(r,o,r.length);var l=(new Date).getTime(),s=r[0];!e.undoCheckpoint&&s&&l-s.timestamp<=i.groupInterval&&s.transactions[0].isLocal===e.transaction.isLocal?s.transactions.push(e.transaction):r.unshift({transactions:[e.transaction],timestamp:l}),c.default.setState(n({},c.default.state,{revisionStack:r,currentIndex:0}))},t.removeTransaction=function(e){var t=c.default.state,r=t.revisionStack;t.revisionStack=a.reject(r,function(t){return t===e.transaction}),c.default.emit()},t.undo=function(){var e=d(),t=e.revision,r=e.index;t&&function(e,t){var r,i,d,p,f=l.create(),h=e.transactions;(h=a.clone(h)).reverse();try{for(var m=o(h),y=m.next();!y.done;y=m.next()){var g=y.value,v=a.clone(g.invertedOperations);v.reverse();var b=function(e){var t=g.stores.find(function(t){return t.table===e.table&&t.id===e.id});e&&t&&l.addOperation({transaction:f,store:t,operation:e})};try{for(var w=o(v),S=w.next();!S.done;S=w.next())b(S.value)}catch(e){d={error:e}}finally{try{S&&!S.done&&(p=w.return)&&p.call(w)}finally{if(d)throw d.error}}g.beforeSelection&&s.default.setState(n({},s.default.state,g.beforeSelection)),g.beforeTextSelection&&u.default.setState(g.beforeTextSelection)}}catch(e){r={error:e}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}l.commit({transaction:f,canUndo:!1}),c.default.setState(n({},c.default.state,{currentIndex:t}))}(t,r)},t.redo=function(){var e=p(),t=e.revision,r=e.index;t&&function(e,t){var r,a,i,d,p=l.create(),f=e.transactions;try{for(var h=o(f),m=h.next();!m.done;m=h.next()){var y=m.value,g=function(e){var t=y.stores.find(function(t){return t.table===e.table&&t.id===e.id});t&&l.addOperation({transaction:p,store:t,operation:e})};try{for(var v=o(y.operations),b=v.next();!b.done;b=v.next())g(b.value)}catch(e){i={error:e}}finally{try{b&&!b.done&&(d=v.return)&&d.call(v)}finally{if(i)throw i.error}}y.afterSelection&&s.default.setState(n({},s.default.state,y.afterSelection)),y.afterTextSelection&&u.default.setState(y.afterTextSelection)}}catch(e){r={error:e}}finally{try{m&&!m.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}l.commit({transaction:p,canUndo:!1}),c.default.setState(n({},c.default.state,{currentIndex:t}))}(t,r)},t.clearRevisionStack=function(){c.default.reset()},t.canUndo=function(){var e=d(),t=e.revision;e.index;return!!t},t.canRedo=function(){var e=p(),t=e.revision;e.index;return!!t}},"Cb/J":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o=r("g90h");t.getSpaceRecoverPagesId=function(e){return o.deterministicID(""+e.spaceId+e.userId)};var a={table:"space_recover_pages",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,user_id:n.default.UUID,space_id:n.default.UUID,pages:n.default.StringArray}};t.default=a},Cgnk:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{overlays:{}}},t}(r("LEzx").default);t.default=a},Cihu:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("q1tI"),l=r("r8oj"),s=r("6f7s"),u=r("WcpM"),c=r("46dX"),d=r("lIq7"),p=r("wldR"),f=r("wI8D"),h=r("2u2U"),m=r("ls6I"),y=r("80lM"),g=r("Lrld"),v=r("mg1p"),b=r("vk1c"),w=r("BuhN"),S=r("i72H"),_=r("Hl/2"),k=r("sxKp"),C=r("gSH5"),E=r("xboH"),P=r("3HSV"),x=r("N40t"),T=r("EPZ6"),O=r("P0zr"),M=r("F2y6"),I=r("m/OJ"),A=r("E4ni"),D=r("rhAD"),L=r("KhO9"),R=r("QcDD"),B=r("T1hA"),j=r("PuL6"),V=r("EmAo"),F=r("szb2"),N=r("0DtT"),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMount=function(){l.default.isMobile&&document.addEventListener("gesturestart",function(e){e.preventDefault()})},t.prototype.renderComponent=function(){var e=B.default.isLoggedIn(),t=l.default.isMobile,r=l.default.isElectron,n=R.default.state.currentSpaceStore;return a.createElement(i.Fragment,null,a.createElement(h.default,null),a.createElement(k.default,null),a.createElement(C.default,null),a.createElement(E.default,null),a.createElement(u.default,null),a.createElement(s.default,{isRoot:!0,capture:!0}),a.createElement(s.default,{isRoot:!1,capture:F.default.state.open}),a.createElement(c.default,null),e&&!t&&a.createElement(d.default,null),e&&n&&a.createElement(f.default,{key:n.id,rootStore:n,spaceId:n.id}),a.createElement(g.default,null),a.createElement(w.default,null),a.createElement(m.default,null),a.createElement(S.default,null),a.createElement(N.default,null),a.createElement(v.default,null),a.createElement(y.default,null),!t&&a.createElement(O.default,null),a.createElement(b.default,null),a.createElement(_.default,{store:V.default}),a.createElement(_.default,{store:j.default}),a.createElement(P.default,null),a.createElement(x.default,null),a.createElement(T.default,null),r&&a.createElement(M.default,null),a.createElement(I.default,null),a.createElement(A.default,null),a.createElement(D.default,null),e&&a.createElement(L.default,null))},t}(p.default);t.default=U},ClNu:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isHidden:!1}},t}(r("LEzx").default);t.default=a},Cm2F:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this;Object.defineProperty(t,"__esModule",{value:!0});var i=r("r8oj"),l=r("bPtJ"),s=r("y6Dp"),u=r("I6hv"),c=r("bmSz"),d=r("7TLZ"),p=r("LNOE"),f=r("yjqD"),h=r("6rsX"),m=r("unoy"),y=r("3k5a"),g=r("gYhp"),v=r("w5u6"),b=r("I6hv");t.openBlockDiscussionMenu=function(e){return n(a,void 0,void 0,function(){var t,r,n,a,w,S,_,k,C,E,P,x,T,O,M;return o(this,function(o){switch(o.label){case 0:return t=e.blockStore,r=e.analyticsFrom,n=e.discussionId,a=e.rect,w=b.default.state.open&&b.default.state.blockStore.id===t.id&&b.default.state.discussionId===n,i.default.isMobile&&h.clear(),[4,v.default.afterNextFlush()];case 1:return o.sent(),t.isNavigableBlock()?n?(x=l.createRecordStore(t,c.default.table,n),(T=x.getValue())&&T.resolved&&(S=y.default.findBlockWithMethodFromStore(t,"openResolvedDiscussionPopup"))?(S.openResolvedDiscussionPopup(),[4,v.default.afterNextFlush()]):[3,3]):[3,3]:[3,4];case 2:o.sent(),p.scrollDiscussionIntoView(n),o.label=3;case 3:return s.trackOpenBlockDiscussionMenu({from:r}),[2];case 4:if(!a){if(!(_=y.default.getRect(t)))return[2];k=_.width,C=_.height,E=_.right-k,a={top:_.top,left:E,right:_.right,bottom:_.top+C,height:C,width:k}}return P=u.BlockDiscussionsMenuTab.Open,e.discussionId?(x=l.createRecordStore(t,c.default.table,e.discussionId),(T=x.getValue())&&T.resolved&&(P=u.BlockDiscussionsMenuTab.Resolved)):0===d.getUnresolvedDiscussionStores(t).length&&(P=u.BlockDiscussionsMenuTab.Resolved),i.default.isMobile&&h.clear(),b.default.setState({open:!0,rect:a,tab:P,blockStore:t,discussionId:n}),s.trackOpenBlockDiscussionMenu({from:r}),n?[4,f.timeout(10)]:[3,7];case 5:return o.sent(),[4,v.default.afterNextFlush()];case 6:return o.sent(),p.scrollDiscussionIntoView(n),i.default.isMobile||w||(M=g.default.findComponent(function(e){return e.props.store.id===n}))&&(h.clear(),m.setSelectionAtStart({store:M.stores.discussionInputStore.state.textStore})),[3,10];case 7:return i.default.isMobile?[3,10]:(O=d.getUnresolvedDiscussionStores(t)).length>0?[4,f.timeout(10)]:[3,10];case 8:return o.sent(),[4,v.default.afterNextFlush()];case 9:o.sent(),(M=g.default.findComponent(function(e){return e.props.store.id===O[0].id}))&&(h.clear(),m.setSelectionAtStart({store:M.stores.discussionInputStore.state.textStore})),o.label=10;case 10:return[2]}})})},t.closeBlockDiscussionMenu=function(){var e=b.default.state;e.open&&b.default.setState({open:!1,rect:e.rect})},t.closeBlockDiscussionWhenOpenTabIsEmpty=function(){var e=b.default.state;e.open&&e.tab===u.BlockDiscussionsMenuTab.Open&&(0===d.getUnresolvedDiscussionStores(e.blockStore).length&&t.closeBlockDiscussionMenu())}},CpD0:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r("LvDl"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pause=function(){t.setState({active:!1,onActive:[]})},t.resume=function(){t.state.onActive.map(function(e){return e()}),t.setState({active:!0,onActive:[]})},t}return o(t,e),t.prototype.getInitialState=function(){return{active:!0,onActive:[]}},t.prototype.whenActive=function(e){this.state.active?e():this.setState(a({},this.state,{onActive:s.uniq(l(this.state.onActive,[e]))}))},t}(r("LEzx").default);t.default=new u},"Cqq/":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("uSCg"),u=r("LeVO"),c=r("IwFn"),d=r("gbGO"),p=r("zmp8"),f=r("MeYt"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=this.props,n=r.onClick,o=r.onMouseDown,l=r.onMouseEnter,d=r.onMouseLeave;return i.createElement(u.default,{renderTooltip:function(){return e.props.tooltip},placement:u.default.Placement.Bottom,delayThreshold:80,render:function(r){return i.createElement(f.default,a({mobileFeedback:e.context.isMobile,onClick:n,onMouseDown:o,hovered:e.props.focused,style:a({width:"100%"},e.context.isMobile?t.mobileButtonStyle:t.desktopButtonStyle,{justifyContent:"center",color:e.props.isActive?p.default.blue:"inherit"})},s.default(r,{onMouseEnter:l,onMouseLeave:d})),i.createElement("div",{style:t.optionItemStyle},i.createElement("div",{style:a({},e.props.style,{height:25})},"Ag"),i.createElement(c.default,{hasMarginTop:!0},e.props.caption)))}})},t.contextTypes=d.menuContextTypes,t.optionItemStyle={display:"flex",flexDirection:"column",alignItems:"center",minWidth:34,justifyContent:"flex-end"},t.desktopButtonStyle={padding:6,paddingTop:10,borderRadius:3,transition:"color 300ms, border 300ms",lineHeight:1},t.mobileButtonStyle={padding:16,paddingTop:20,transition:"color 300ms, border 300ms",lineHeight:1},t}(l.default);t.default=h},Cycz:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("q1tI"),a=r("LvDl"),i=r("A9TN"),l=r("r8oj"),s=r("hfHo"),u=r("6BTz"),c=r("q1tI"),d=r("IdSf"),p=r("z22Z"),f=r("LeVO"),h=r("QcDD"),m=r("+fkW"),y=r("zmp8"),g=r("MeYt"),v=r("a2fa");function b(){var e=h.default.state.currentSpaceStore;if(e){var t=m.default.getPublicSpaceData(e.id);if(t)return t.productId===i.default.pricing.personal.productId?"personal":t.productId===i.default.pricing.team.productId?"team":t.productId===i.default.pricing.enterprise.productId?"enterprise":"free"}}t.isCanceled=function(e){return"subscribed_admin"===e.type&&"number"==typeof e.canceledAt&&"number"==typeof e.willCancelAt},t.isSubscribed=function(e){return Boolean(e&&"unsubscribed"!==e.type)},t.isUnsubscribed=function(e){return Boolean(e&&"unsubscribed"===e.type)},t.getCurrentSubscriptionTier=b,t.userIsTier=function(e){return e===b()},t.isLegacyProductId=function(e){return e!==i.default.pricing.personal.productId&&e!==i.default.pricing.team.productId&&e!==i.default.pricing.enterprise.productId},t.getMembers=function(e){return e&&e.members?e.members:[]},t.getMemberCount=function(e){return t.getMembers(e).filter(function(e){return p.isMemberOrAdmin(e.role)}).length},t.getGuestCount=function(e){return t.getMembers(e).filter(function(e){return!p.isMemberOrAdmin(e.role)}).length},t.getBlockUsage=function(e){return e&&t.isUnsubscribed(e)?e.blockUsage:0},t.isOverBlockLimit=function(e){return!!t.isUnsubscribed(e)&&t.getBlockUsage(e)>=i.default.pricing.free.spaceBlockLimit},t.getUsagePercent=function(e){return t.getBlockUsage(e)/i.default.pricing.free.spaceBlockLimit},t.getUsageDescription=function(e){return"Your workspace has used "+t.getBlockUsage(e)+" of your "+i.default.pricing.free.spaceBlockLimit+" block storage limit ("+Math.floor(100*t.getUsagePercent(e))+"%)."},t.renderSubscriptionStatus=function(e,r){if(t.isUnsubscribed(r))return o.createElement(c.Fragment,null,t.getUsageDescription(r)," Upgrade to go unlimited.");if(t.isLegacyProductId(r.productId))return o.createElement(c.Fragment,null,"Our subscription system is currently being migrated. Please check back in a bit to see what's new!");var n=t.getProductName(r.productId);if("subscribed_admin"===r.type&&t.isCanceled(r))return o.createElement(c.Fragment,null,"Your ",o.createElement("b",null,n)," plan was canceled on"," ",s.default(r.canceledAt).format("MMMM Do YYYY")," and will expire on"," ",s.default(r.willCancelAt).format("MMMM Do YYYY"),".");if("subscribed_admin"===r.type){var a=u.formatHumanReadableCurrency(r.planAmount*r.quantity,"dollar"),i=u.formatHumanReadableCurrency(Math.max(0,r.nextInvoiceAmount||0),"dollar"),l=o.createElement(d.default,{inline:!0,style:{color:y.default.uiGray,whiteSpace:"nowrap"},innerStyle:{color:y.default.uiGray,padding:"2px 3px",borderRadius:3},href:"/invoice/upcoming?spaceId="+e,external:!0},"(View Upcoming Invoice)");return r.periodEnd===r.nextInvoiceTime?o.createElement(c.Fragment,null,"Your ",o.createElement("b",null,n)," plan is set to"," ",o.createElement("b",null,a," per ",r.interval)," ","and will renew on ",o.createElement("b",null,s.default(r.periodEnd).format("MMMM Do YYYY")),". Adjusted for your account balance, you will be charged"," ",i,". ",l):o.createElement(c.Fragment,null,"Your ",o.createElement("b",null,n)," plan is set to"," ",o.createElement("b",null,a," per ",r.interval)," ","and will renew on ",o.createElement("b",null,s.default(r.periodEnd).format("MMMM Do YYYY")),". You have an upcoming prorated charge on"," ",o.createElement("b",null,s.default(r.nextInvoiceTime).format("MMMM Do YYYY"))," for"," ",o.createElement("b",null,i),". ",l)}},t.getProductName=function(e){return e===i.default.pricing.personal.productId?"Personal":e===i.default.pricing.team.productId?"Team":e===i.default.pricing.enterprise.productId?"Enterprise":"Legacy"};var w=function(e){return t.renderFeatureWithTooltip(e,o.createElement(c.Fragment,null,o.createElement("div",{style:{marginBottom:4}},"A member has access to all workspace pages and can create new pages."),o.createElement("div",null,"Guests only have access to the pages shared with them. All plans come with unlimited guests for free.")),240)},S=function(){return t.renderFeatureWithTooltip(i.default.pricing.free.spaceBlockLimit+" block storage",o.createElement(c.Fragment,null,o.createElement("div",{style:{marginBottom:4}},"A block is any single piece of content you add to your page, like a to-do item, an image, a code block, an embedded file, etc. Think of your page as being made up of these building blocks."),o.createElement("div",null,i.default.pricing.free.spaceBlockLimit," is plenty to get you started. Create at your own pace without a time limit ✌️")),240)},_=function(){return t.renderFeatureWithTooltip("Unlimited block storage","Create as much content as you'd like.")},k=function(e){return t.renderFeatureWithTooltip(e,"This applies to any file that you upload to a Notion page or database.",240)},C=function(){return t.renderFeatureWithTooltip("Admin tools","Create separate admin and member permissions for more control.\n\t\tOnly admins can invite new members and change the workspaces's settings.",240)},E=function(){return t.renderFeatureWithTooltip("Advanced permissions","Unlock extra permission controls to prevent certain\n\t\tpeople from sharing the page externally.",240)},P=function(){return t.renderFeatureWithTooltip("Priority support","We're always around to help 🤗")},x=function(){return t.renderFeatureWithTooltip("Version history","Preview and restore previous versions up to 30 days ago.",240)};t.renderFeatureWithTooltip=function(e,t,r){return l.default.isMobile?e:o.createElement(f.default,{delayThreshold:0,placement:f.default.Placement.Right,renderTooltip:function(){return o.createElement("div",{style:r?{width:r}:{whiteSpace:"nowrap"}},t)},textWrap:!0,render:function(t){return o.createElement("div",n({style:{display:"inline",borderBottomWidth:1,borderBottomStyle:"dotted",cursor:"help",whiteSpace:"nowrap"}},t),e)}})},t.getFreeFeatures=function(){return[w("Unlimited members"),S(),k(i.default.pricing.free.fileUploadMaxBytes/1e6+"MB file upload limit")]},t.getPersonalFeatures=function(){return a.compact([t.renderFeatureWithTooltip("One member only","The Personal plan is limited to a single member (you), but you can\n\t\t\thave unlimited guest collaborators for free. Guests only have access\n\t\t\tto the pages shared with them.",240),_(),k("No file upload limit"),E(),P(),x()])},t.getTeamFeatures=function(){return a.compact([w("Unlimited members"),_(),k("No file upload limit"),E(),P(),x(),C()])},t.getEnterpriseFeatures=function(){return[t.renderFeatureWithTooltip("All Team Features","All of the features from the Team plan."),t.renderFeatureWithTooltip("Unlimited version history","Review and restore previous versions of your content without any limits."),t.renderFeatureWithTooltip("Dedicated manager","Reserved for teams larger than 20 people on our Yearly plan."),o.createElement(c.Fragment,null,o.createElement(g.default,{style:{display:"inline-block",textDecoration:"underline"},onClick:function(){return v.openTypeform("https://notionup.typeform.com/to/FbZ6Tk")}},"Contact us")," ","for details")]},t.priceDisclaimer=o.createElement(c.Fragment,null,"Prices shown are for annual billing. When billed month-to-month, the"," ",o.createElement("b",null,"Personal")," plan is"," ",u.formatHumanReadableCurrency(i.default.pricing.personal.monthlyPrice,"dollar")," ","per month, the ",o.createElement("b",null,"Team")," plan is"," ",u.formatHumanReadableCurrency(i.default.pricing.team.monthlyPricePerMember,"dollar")," ","per member per month, and the ",o.createElement("b",null,"Enterprise")," plan is"," ",u.formatHumanReadableCurrency(i.default.pricing.enterprise.monthlyPricePerMember,"dollar")," ","per member per month."),t.price={free:""+u.formatHumanReadableCurrency(0,"dollar"),personal:""+u.formatHumanReadableCurrency(i.default.pricing.personal.yearlyPrice/12,"dollar"),team:""+u.formatHumanReadableCurrency(i.default.pricing.team.yearlyPricePerMember/12,"dollar"),enterprise:""+u.formatHumanReadableCurrency(i.default.pricing.enterprise.yearlyPricePerMember/12,"dollar")},t.priceCaption={free:void 0,personal:o.createElement(c.Fragment,null,"flat price",o.createElement("br",null),"per month"),team:o.createElement(c.Fragment,null,"per member",o.createElement("br",null),"per month"),enterprise:o.createElement(c.Fragment,null,"per member",o.createElement("br",null),"per month")}},CyyH:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("mF3+"),u=r("r8oj"),c=r("y6Dp"),d=r("aubc"),p=r("7M94"),f=r("BL9y"),h=r("p26Z"),m=r("bFnu"),y=r("n8tN"),g=r("ZrIN"),v=r("Dime"),b=r("6fCZ"),w=r("fJHT"),S=r("LeVO"),_=r("MBf9"),k=r("nM47"),C=r("lCCU"),E=r("d9nj"),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseMove=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t.handleButtonClick=function(){t.canEdit()&&k.validateCanCreate()&&_.createAndCommit(function(e){d.duplicateListChildren({store:t.props.store,transaction:e})})},t.handleToggleConfigure=function(){t.stores.configurableStore.state.open?t.stores.configurableStore.setState(a({},t.stores.configurableStore.state,{open:!1})):(c.trackConfigureTemplateButton({from:"gear_button"}),t.stores.configurableStore.setState(a({},t.stores.configurableStore.state,{open:!0})))},t}return o(t,e),t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t),f.pageSubtreeIsLoaded(t.store)},t.prototype.handleCreated=function(){this.configure()},t.prototype.activate=function(){this.handleButtonClick()},t.prototype.configure=function(){this.stores.configurableStore.setState(a({},this.stores.configurableStore.state,{open:!0}))},t.prototype.renderPersisted=function(){var e=this.getDisabled();return i.createElement("div",{style:{display:"flex"}},i.createElement(g.default,{title:"Configure Template Button",origin:this.renderFactory(),store:this.stores.configurableStore,properties:[{title:"Button Name",subtitle:"What should this button be called?",value:i.createElement(w.default,{disabled:e,store:this.props.store.getBlockTitleStore(),placeholder:"Add a New Item",onEnter:l.identity})},{title:"Template",subtitle:"Drop blocks here that you want to duplicate whenever the button is clicked.",value:i.createElement(v.default,{disabled:e,store:this.props.store.getContentStore(),emptyPlaceholder:i.createElement("div",{style:{caretColor:this.theme.regularTextColor,color:this.theme.regularTextColor}},"Empty. Drop blocks here...")})}]}),this.renderDiscussion())},t.prototype.renderFactory=function(){var e=this.getDisabled();return i.createElement(E.default,{icon:s.default.plus,isGray:!0,isLarge:!0,style:{fontSize:"inherit",width:"100%"},onClick:this.handleButtonClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,disabled:e},i.createElement(w.default,{disabled:!0,store:this.props.store.getBlockTitleStore(),placeholder:"Add a New Item",style:t.buttonTextStyle,placeholderStyle:this.getPlaceholderStyle()}),!e&&(u.default.isMobile||this.stores.mouseStore.state.mouseEntered)&&i.createElement("div",{style:{display:"flex",alignItems:"center"},className:p.fadeIn},!u.default.isMobile&&this.renderConfigureButton(),i.createElement(b.default,{tooltipContent:"More actions...",store:this.props.store,fadeIn:!0})))},t.prototype.renderConfigureButton=function(){var e=this;return i.createElement(S.default,{renderTooltip:function(){return"Configure Template"},delayThreshold:300,render:function(t){return i.createElement(C.default,a({icon:s.default.factoryBlockSettings,onClick:e.handleToggleConfigure},t))}})},t.prototype.getDisabled=function(){return this.props.disabled||!this.canEdit()},t.prototype.getPlaceholderStyle=function(){return a({width:"100%",display:"block",caretColor:this.theme.regularTextColor,color:this.theme.regularTextColor},t.truncateStyle)},t.stores={configurableStore:h.default,mouseStore:m.default},t.buttonTextStyle={pointerEvents:"none"},t.truncateStyle={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},t}(y.default);t.default=P},D2XV:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("hfHo");t.DateFormatDisplayNameMap={"MMM DD, YYYY":"Month Day, Year","MM/DD/YYYY":"Month/Day/Year","DD/MM/YYYY":"Day/Month/Year","YYYY/MM/DD":"Year/Month/Day",relative:"Relative"},t.DateFormatOptions=["MMM DD, YYYY","MM/DD/YYYY","DD/MM/YYYY","YYYY/MM/DD","relative"],t.defaultDateReminderTime="09:00",t.dateTimeReminderOptions=[void 0,{unit:"minute",value:0},{unit:"minute",value:5},{unit:"minute",value:10},{unit:"minute",value:15},{unit:"minute",value:30},{unit:"hour",value:1},{unit:"hour",value:2},{unit:"day",value:1,time:t.defaultDateReminderTime},{unit:"day",value:2,time:t.defaultDateReminderTime}],t.dateReminderOptions=[void 0,{unit:"day",value:0,time:t.defaultDateReminderTime},{unit:"day",value:1,time:t.defaultDateReminderTime},{unit:"day",value:2,time:t.defaultDateReminderTime},{unit:"week",value:1,time:t.defaultDateReminderTime}],t.defaultDateFormat="MMM DD, YYYY",t.DateFormatDisplayNames=o.values(t.DateFormatDisplayNameMap),t.TimeFormatDisplayNameMap={"h:mm A":"12 Hour","H:mm":"24 Hour"},t.TimeFormatOptions=["h:mm A","H:mm"],t.defaultTimeFormat="h:mm A",t.TimeFormatDisplayNames=o.values(t.TimeFormatDisplayNameMap);var i={year:!1,month:!1,week:!1,day:!1,hour:!0,minute:!0};function l(e){return!i[e.unit]}function s(e,r){if("date"===e.type||"daterange"===e.type){if(!e.reminder)return;var n=e.reminder,o=n.unit,i=n.value,l=n.time;return a.default.tz(e.start_date+" "+l,t.persistedDateFormat+" "+t.persistedTimeFormat,t.persistedLocale,!0,r).subtract(i,o)}if(e.reminder){var s=e.reminder;o=s.unit,i=s.value;return v(e,r).start.subtract(i,o)}}function u(e,t){var r=s(e,t);if(r)return r.valueOf()-a.default().valueOf()}t.isDateReminder=l,t.convertToDateReminder=function(e){return l(e)?e:{unit:"day",value:0,time:t.defaultDateReminderTime}},t.convertToDateTimeReminder=function(e){return l(e)&&0===e.value?{unit:"minute",value:0}:e},t.isDateFirstLocale=function(){return a.default("1990-12-28").format("L").startsWith("28")},t.is24HourTimeLocale=function(){return"00:00"===a.default("00:00","HH:mm").format("LT")},t.getReminderMoment=s,t.timeTilReminder=u,t.isReminderOverdue=function(e,t){var r=u(e,t);return void 0!==r&&r<=0},t.rangeIntersects=function(e,r,n,o){return Boolean(t.isBetweenInclusive(e,r,n)||o&&(t.isBetweenInclusive(n,o,e)||t.isBetweenInclusive(n,o,r)))},t.isBetweenInclusive=function(e,t,r){return r>=e&&r<=t},t.currentTimeZone=a.default.tz.guess(),t.currentLocale=a.default.locale(),t.isPersistedDate=function(e){var t=e;return Boolean(t&&t.type&&t.start_date)};var c="→",d=["MMMM D YYYY, HH:mm ZZ","YYYY MM DD, HH:mm ZZ","MM DD YYYY, HH:mm ZZ","MMM DD YYYY, HH:mm ZZ","DD MMM YYYY, HH:mm ZZ","MM/DD/YYYY, HH:mm ZZ","MM-DD-YYYY, HH:mm ZZ","M/D/YYYY, HH:mm ZZ","M-D-YYYY, HH:mm ZZ","MM/DD/YY, HH:mm ZZ","MM-DD-YY, HH:mm ZZ","M/D/YY, HH:mm ZZ","M-D-YY, HH:mm ZZ","D MMM YY, HH:mm ZZ","D/MMM/YY, HH:mm ZZ","D-MMM-YY, HH:mm ZZ","MMMM D YYYY, HH:mm","YYYY MM DD, HH:mm","MM DD YYYY, HH:mm","MMM DD YYYY, HH:mm","DD MMM YYYY, HH:mm","MM/DD/YYYY, HH:mm","MM-DD-YYYY, HH:mm","M/D/YYYY, HH:mm","M-D-YYYY, HH:mm","MM/DD/YY, HH:mm","MM-DD-YY, HH:mm","M/D/YY, HH:mm","M-D-YY, HH:mm","D MMM YY, HH:mm","D/MMM/YY, HH:mm","D-MMM-YY, HH:mm","D MMM YYYY, HH:mm","D/MMM/YYYY, HH:mm","D-MMM-YYYY, HH:mm"],p=["MMMM D YYYY","YYYY MM DD","MM DD YYYY","MMM DD YYYY","DD MMM YYYY","MM/DD/YYYY","MM-DD-YYYY","M/D/YYYY","M-D-YYYY","MM/DD/YY","MM-DD-YY","M/D/YY","M-D-YY","D MMM YY","D/MMM/YY","D-MMM-YY","D MMM YYYY","D/MMM/YYYY","D-MMM-YYYY"];t.persistedDateFormat="YYYY-MM-DD",t.persistedTimeFormat="HH:mm",t.persistedLocale="en";var f=/(.+) \((.+)\)/;function h(e){var r=a.default.tz(e,p,t.persistedLocale,!0,t.currentTimeZone);if(r.isValid())return r.format(t.persistedDateFormat)}function m(e,r){var n=a.default.tz(e,d,t.persistedLocale,!0,r);if(n.isValid())return{date:n.format(t.persistedDateFormat),time:n.format(t.persistedTimeFormat),timeZone:r}}function y(e){return a.default.tz(e,d,t.persistedLocale,!0,t.currentTimeZone).isValid()}function g(e){var r=a.default.tz(e).format(t.persistedDateFormat);return a.default.tz(r,t.persistedDateFormat,e)}function v(e,r){return"datetimerange"===e.type?{start:a.default.tz(e.start_date+" "+e.start_time,t.persistedDateFormat+" "+t.persistedTimeFormat,t.persistedLocale,!0,e.time_zone),end:a.default.tz(e.end_date+" "+e.end_time,t.persistedDateFormat+" "+t.persistedTimeFormat,t.persistedLocale,!0,e.time_zone)}:"datetime"===e.type?{start:a.default.tz(e.start_date+" "+e.start_time,t.persistedDateFormat+" "+t.persistedTimeFormat,t.persistedLocale,!0,e.time_zone)}:"daterange"===e.type?{start:a.default.tz(e.start_date,t.persistedDateFormat,t.persistedLocale,!0,r),end:a.default.tz(e.end_date,t.persistedDateFormat,t.persistedLocale,!0,r)}:{start:a.default.tz(e.start_date,t.persistedDateFormat,t.persistedLocale,!0,r)}}t.parseDateTimeRangeString=function(e){var r,n,o=f.exec(e);o&&o[1]&&o[2]?(r=o[1],n=o[2]):r=e;var a=r.split(c);if(a[0]&&a[1]){var i=a[0].trim(),l=a[1].trim();if(y(i)&&y(l)){var s=m(i,n=n||t.currentTimeZone),u=m(l,n);if(s&&u)return{type:"datetimerange",start_date:s.date,start_time:s.time,end_date:u.date,end_time:u.time,time_zone:n}}else{var d=h(i),p=h(l);if(d&&p)return{type:"daterange",start_date:d,end_date:p}}}else if(a[0])if(y(i=a[0].trim())){if(s=m(i,n=n||t.currentTimeZone))return{type:"datetime",start_date:s.date,start_time:s.time,time_zone:n}}else if(d=h(i))return{type:"date",start_date:d}},t.todayMoment=g,t.today=function(e){return{type:"date",start_date:g(e).format("YYYY-MM-DD")}},t.tomorrow=function(e){return{type:"date",start_date:g(e).add(1,"day").format(t.persistedDateFormat)}},t.nextWeek=function(e){var r=g(e),n=r.clone().day(1);return n.isSameOrBefore(r)&&n.add(1,"week"),{type:"date",start_date:n.format(t.persistedDateFormat)}},t.nextMonth=function(e){var r=g(e),n=r.clone().date(1);return n.isSameOrBefore(r)&&n.add(1,"month"),{type:"date",start_date:n.format(t.persistedDateFormat)}},t.yesterday=function(e){return{type:"date",start_date:a.default.tz(e).subtract(1,"day").format(t.persistedDateFormat)}},t.now=function(e){var r=a.default.tz(e);return{type:"datetime",start_date:r.format(t.persistedDateFormat),start_time:r.format(t.persistedTimeFormat),time_zone:e}},t.date=function(e,r){return{type:"date",start_date:a.default.tz(e,r).format(t.persistedDateFormat)}},t.dateTime=function(e,r){var n=a.default.tz(e,r);return{type:"datetime",start_date:n.format(t.persistedDateFormat),start_time:n.format(t.persistedTimeFormat),time_zone:r}},t.dateRange=function(e,r,n){var o=a.default.tz(e,n),i=a.default.tz(r,n);return{type:"daterange",start_date:o.format(t.persistedDateFormat),end_date:i.format(t.persistedDateFormat)}},t.dateTimeRange=function(e,r,n){var o=a.default.tz(e,n),i=a.default.tz(r,n);return{type:"datetimerange",start_date:o.format(t.persistedDateFormat),start_time:o.format(t.persistedTimeFormat),end_date:i.format(t.persistedDateFormat),end_time:i.format(t.persistedTimeFormat),time_zone:n}},t.getMomentRange=v,t.timeStamp=function(e,t){return v(e,t).start.valueOf()},t.constrainStartBeforeEnd=function(e){if("date"===e.type||"datetime"===e.type)return e;var r=v(e,t.currentTimeZone);return r.end&&r.start.isAfter(r.end)?"daterange"===e.type?n({},e,{start_date:e.end_date,end_date:e.start_date}):n({},e,{start_date:e.end_date,start_time:e.end_time,end_date:e.start_date,end_time:e.start_time}):e},t.convertToTimezone=function(e,r){if("date"===e.type||"daterange"===e.type)return e;var n;if("datetime"===e.type)return{type:"datetime",start_date:(n=v(e,r)).start.tz(r).format(t.persistedDateFormat),start_time:n.start.tz(r).format(t.persistedTimeFormat),time_zone:r,reminder:e.reminder};if(!(n=v(e,r)).end)throw new Error("Datetimerange with no end.");return{type:"datetimerange",start_date:n.start.tz(r).format(t.persistedDateFormat),start_time:n.start.tz(r).format(t.persistedTimeFormat),end_date:n.end.tz(r).format(t.persistedDateFormat),end_time:n.end.tz(r).format(t.persistedTimeFormat),time_zone:r,reminder:e.reminder}},t.getPersistedTimezone=function(e){if("datetime"===e.type||"datetimerange"===e.type)return e.time_zone},t.getUserTimezone=function(e,r){return e&&e.settings&&e.settings.time_zone||r&&r.settings&&r.settings.time_zone||t.currentTimeZone},t.getDefaultStartDayOfWeek=function(){return 1===a.default().startOf("week").day()?1:0},t.getMomentStartOfWeek=function(e,t){return e.day(t||0)},t.getMomentEndOfWeek=function(e,t){return e.day(6+(t||0))}},D5Cs:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("Na01"),u=r("VPGQ"),c=r("mF3+"),d=r("30UQ"),p=r("MBf9"),f=r("Ma8p"),h=r("y6Dp"),m=r("bFnu"),y=r("7M94"),g=r("LeVO"),v=r("uSCg"),b=r("wXH4"),w=r("DNfA"),S=r("v/t1"),_=r("rro+"),k=r("enKW"),C=r("MeYt"),E=r("QcDD"),P=r("5Nka"),x=r("zmp8"),T=r("Ng05"),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderWelcomePopup=function(){return i.createElement("div",{className:y.welcomePopup,style:{display:"flex",flexDirection:"column",width:300,padding:24}},i.createElement("img",{src:P.default.tutorial.simonHalfWhitePng,style:{width:90,height:90}}),i.createElement("div",{style:{marginTop:12,marginBottom:12}},"One last thing! We added a few templates we think you might like. Check them out!"),i.createElement(T.default,{onClick:t.handleWindowClick},"Close"))},t.handleMouseMove=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t.handleClick=function(){var e=t.props,r=e.item,n=e.isPrivate,o=e.onClick,a=E.default.state.currentBlockStore;a&&(d.open({store:a,item:r,sections:_.templatePreviewSections,createNewPage:!0,isPrivate:n}),o&&o(),h.trackOutlinerTemplateItemClick({name:r.name}))},t.handleHideClick=function(){var e=t.props.item,r=E.default.state.currentSpaceViewStore;r&&(p.createAndCommit(function(t){d.setTemplateSidebarHidden({item:e,spaceViewStore:r,transaction:t})}),h.trackOutlinerTemplateItemClose({name:e.name}))},t.handleWindowClick=function(){t.welcomePopupIsOpen()&&u.default.setState({isOpen:!1,shouldOpen:!1})},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),S.addPassiveEventListener(window,"click",this.handleWindowClick),this.props.isFirstItem&&u.default.state.shouldOpen&&setTimeout(function(){u.default.setState({shouldOpen:!1,isOpen:!0})},500)},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),S.removePassiveEventListener(window,"click",this.handleWindowClick)},t.prototype.renderComponent=function(){var e=this,r=this.props.item;return this.props.isMobile?i.createElement(C.default,{onClick:this.handleClick},i.createElement(s.default,{style:{width:"100%"},isMobile:!0,left:this.getPlusIcon(),icon:i.createElement("div",{style:t.iconWrapStyle},i.createElement(f.default,{size:24,emoji:r.emoji}),i.createElement("div",{style:this.getBlueDotStyle()})),right:this.renderHideButton()},r.name)):i.createElement(b.Popup,{open:this.welcomePopupIsOpen(),popupType:b.PopupType.Popup,placementToOrigin:w.Placement.Right,disableMouseCapture:!0,origin:i.createElement(g.default,{placement:g.default.Placement.Right,textWrap:!0,delayThreshold:0,renderTooltip:function(){return i.createElement("div",{style:{width:180}},i.createElement("div",null,"Click to preview this template"),i.createElement("div",{style:{color:e.theme.mediumInvertedTextColor}},"You can find more templates like this when you create a new page."))},render:function(n){return i.createElement(C.default,a({onClick:e.handleClick},v.default(n,{onMouseMove:e.handleMouseMove,onMouseLeave:e.handleMouseLeave})),i.createElement(s.default,{isMobile:!1,left:e.getPlusIcon(),icon:i.createElement("div",{style:t.iconWrapStyle},i.createElement(f.default,{size:20,emoji:r.emoji}),i.createElement("div",{style:e.getBlueDotStyle()})),right:e.stores.mouseStore.state.mouseEntered&&e.renderHideButton()},r.name))}}),render:this.renderWelcomePopup})},t.prototype.renderHideButton=function(){return this.props.isMobile?i.createElement(C.default,{style:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32},onClick:this.handleHideClick,className:y.fadeIn},c.default.trash({width:20,fill:this.theme.lightIconColor})):i.createElement(C.default,{onClick:this.handleHideClick,className:y.fadeIn,style:{fontSize:12,paddingLeft:4,paddingRight:4,borderRadius:3,background:this.theme.sidebarItemSelectedBackground},hoveredStyle:{background:this.theme.sidebarHideButtonHoveredBackground},pressedStyle:{background:this.theme.sidebarHideButtonPressedBackground}},"Hide")},t.prototype.welcomePopupIsOpen=function(){return this.props.isFirstItem&&u.default.state.isOpen},t.prototype.getBlueDotStyle=function(){return{position:"absolute",top:1,right:-1,width:10,height:10,borderRadius:"100%",background:x.default.blue,border:"2px solid "+x.default.white,boxShadow:k.getShadow({elevation:2,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity})}},t.prototype.getPlusIcon=function(){return i.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},c.default.plus({fill:this.theme.mediumIconColor,width:14,height:14}))},t.stores={mouseStore:m.default},t.iconWrapStyle={position:"relative"},t}(l.default);t.default=O},D8Ld:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("wldR"),u=r("VyA+"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e={capture:this.props.capture,onEnter:this.props.allowMenuList?void 0:l.identity,onCommandEnter:l.identity,onCommandShiftEnter:l.identity,onCommandSlash:l.identity,onEsc:this.props.allowMenuList||this.props.allowEsc?void 0:l.identity,onUp:this.props.allowMenuList?void 0:l.identity,onDown:this.props.allowMenuList?void 0:l.identity,onDelete:l.identity,onSpace:l.identity,onBackspace:l.identity,onLeft:l.identity,onRight:l.identity,onUntab:this.props.allowTabUntab?void 0:l.identity,onTab:this.props.allowTabUntab?void 0:l.identity,onSelectAll:l.identity,onRedo:this.props.allowUndo?void 0:l.identity,onUndo:this.props.allowUndo?void 0:l.identity,onToggleUnderline:l.identity,onToggleHighlight:l.identity,onToggleBold:l.identity,onToggleItalics:l.identity,onToggleStrike:l.identity,onToggleCode:l.identity,onCut:l.identity,onCopy:l.identity,onPaste:l.identity,onKeypress:l.identity,onHome:l.identity,onEnd:l.identity,onDuplicate:l.identity,onOpenLinkMenu:l.identity,onSearch:l.identity,onGoToBeginningOfLine:l.identity,onGoToEndOfLine:l.identity,onGoForwardOneChar:l.identity,onGoBackwardOneChar:l.identity,onMoveUp:l.identity,onMoveDown:l.identity,onComment:l.identity,onCaption:l.identity,onRename:l.identity,onTurnIntoType:l.identity,onOpenFile:l.identity,onMoveTo:l.identity,onToggleAllToggles:l.identity,onGoBack:void 0,onGoForward:void 0,onGoUp:void 0,onSwitchSpaces:void 0,onQuickFind:void 0,onToggleSidebar:void 0,onZoomIn:void 0,onZoomOut:void 0,onNewPage:void 0,onBackButton:void 0,onSettings:void 0,onCopyLinkToCurrentPage:void 0,onToggleDarkMode:void 0};return i.createElement(u.default,a({},e),this.props.children)},t}(s.default);t.default=c},DMKC:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{searchQuery:"",limit:t.defaultLimit}},t.defaultLimit=20,t.loadMoreScrollOffset=200,t.loadMoreIncrement=20,t}(r("LEzx").default);t.default=a},DNfA:function(e,t,r){"use strict";var n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l,s,u=r("q1tI"),c=r("nFzZ"),d=r("wldR");!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Left=2]="Left",e[e.Right=3]="Right"}(l=t.Placement||(t.Placement={})),function(e){e[e.Start=0]="Start",e[e.Center=1]="Center",e[e.End=2]="End"}(s=t.Alignment||(t.Alignment={}));var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderComponent=function(){return u.createElement("div",{style:this.getStyle()},this.props.origin,u.createElement("div",{style:this.getOriginFillerStyle()},u.createElement("div",{style:this.getChildrenWrapStyle()},this.props.children)))},t.prototype.getStyle=function(){return i({position:"relative"},this.props.style)},t.prototype.getOriginFillerStyle=function(){var e=this.getAlignmentAndPlacement(),t=e.alignItems;return{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:e.justifyContent,alignItems:t}},t.prototype.getChildrenWrapStyle=function(){var e=this.getAlignmentAndPlacement(),t=e.top,r=e.left,n=e.right,o=e.bottom,a={position:"relative"};return t&&(a.top=t),o&&(a.bottom=o),r&&(a.left=r),n&&(a.right=n),i({},a,this.props.childrenWrapStyle)},t.prototype.getAlignmentAndPlacement=function(){var e,r,n,o,a,i,u=c.isNotDefined(this.props.placement)?l.Bottom:this.props.placement,d=c.isNotDefined(this.props.alignment)?s.Center:this.props.alignment;return u===l.Top?(i="flex-end",r="100%",a=t.alignmentToFlex[d]):u===l.Bottom?(i="flex-start",e="100%",a=t.alignmentToFlex[d]):u===l.Left?(i=t.alignmentToFlex[d],o="100%",a="flex-end"):u===l.Right&&(i=t.alignmentToFlex[d],n="100%",a="flex-start"),{alignItems:a,justifyContent:i,top:e,left:n,right:o,bottom:r}},t.alignmentToFlex=((o={})[s.Start]="flex-start",o[s.Center]="center",o[s.End]="flex-end",o),t}(d.default);t.default=p},DNgp:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("LEzx"),l=r("kaWB"),s=r("LqYT"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isEditingStore=new s.default(function(){return t.state.editing}),t}return o(t,e),t.prototype.cloneState=function(){return this.state.editing?{editing:!0,store:this.state.store,selection:a.cloneDeep(this.state.selection),extendAnnotations:this.state.extendAnnotations.clone(),savedSelectionXPosition:this.state.savedSelectionXPosition}:{editing:!1}},t.prototype.isEmptySelection=function(){if(this.state.editing){var e=this.state.selection;return e.startIndex===e.endIndex}},t.prototype.isEditingComment=function(){return this.state.editing&&this.state.store.table===l.default.table},t.prototype.isEditingCaption=function(){return this.state.editing&&a.isEqual(this.state.store.path,["properties","caption"])},t.prototype.hasSelection=function(){if(this.state.editing){var e=this.state.selection;return e.startIndex>=0&&e.endIndex>=0}},t.prototype.getInitialState=function(){return{editing:!1}},t}(i.default);t.TextSelectionStore=u;var c=new u;t.default=c},DQmc:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var d=r("LvDl"),p=r("q1tI"),f=r("q1tI"),h=r("z22Z"),m=r("5/h/"),y=r("mF3+"),g=r("Mr7a"),v=r("4HCU"),b=r("r8oj"),w=r("wldR"),S=r("yisX"),_=r("7Q97"),k=r("y6Dp"),C=r("tw5M"),E=r("zmp8"),P=r("Sb6f"),x=r("LeVO"),T=r("Pl3d"),O=r("WgIs"),M=r("2Y+N"),I=r("f0kS"),A=r("SR/M"),D=r("gbGO"),L=r("zTdN"),R=r("W3at"),B=r("xRf7"),j=r("Cycz"),V=r("r8MX"),F=r("Ng05"),N=r("nFzZ"),U=r("7M94"),W=r("WLsh"),z=r("KTXS"),H=r("qqdV"),q=r("bsBB"),G=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderOverlay=function(){var e,n=r.stores.permissionsInviteStore,o=n.state,s=o.inviteUsers,d=o.tokenQuery,g=s.map(function(e){var t;return t=e.givenName||e.givenName?m.getFullName(r.userResultToUserValue(e)):e.email.trim(),p.createElement(_.default,{showRemoveButton:!0,isSingle:!1,key:e.userId||e.email,format:b.default.isMobile?_.default.Format.Large:_.default.Format.Medium,onClickRemove:function(){r.stores.permissionsInviteStore.setState(a({},r.stores.permissionsInviteStore.state,{inviteUsers:r.stores.permissionsInviteStore.state.inviteUsers.filter(function(t){return t!==e})}))},value:t})}),w={request:d,performRequest:function(e){return i(r,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,v.searchUsers({query:e,membersOnly:this.props.membersOnly})];case 1:return[2,t.sent()]}})})},render:function(e,o,i){var l,s;if(e)return p.createElement(M.default,{title:"Select a person",loading:!i},p.createElement(L.default,{title:"Something went wrong."}));var m=(o||[]).filter(function(e){return!r.alreadyInvitingUser(e)&&(!e.userId||!r.userHasPermission(e.userId))}),g=[],v=function(e){var n=V.default.state.data;g.push({key:e.userId||e.email,render:function(o){var i,l=(n?j.getMembers(n):[]).find(function(t){return t.userId===e.userId});if(e.isGoogleContact?i=p.createElement(x.default,{renderTooltip:function(){return"Imported from Google Contacts"},render:function(e){return p.createElement("div",a({style:r.getBadgeStyle()},e),"From",y.default.googleLogo({width:10,height:10,marginLeft:4}))}}):l&&h.canAdmin(l.role)?i=p.createElement(x.default,{renderTooltip:function(){return"This person is an admin in this workspace"},render:function(e){return p.createElement("div",a({style:r.getBadgeStyle()},e),"Admin")}}):l&&h.canEdit(l.role)?i=p.createElement(x.default,{renderTooltip:function(){return"This person is a member in this workspace"},render:function(e){return p.createElement("div",a({style:r.getBadgeStyle()},e),"Member")}}):l&&(i=p.createElement(x.default,{renderTooltip:function(){return"This person is a guest in this workspace"},render:function(e){return p.createElement("div",a({style:r.getBadgeStyle()},e),"Guest")}})),e.givenName||e.givenName||e.profilePhoto){var s=r.userResultToUserValue(e);return p.createElement(I.default,a({},o,{user:s,right:i}))}return p.createElement(A.default,a({},o,{icon:y.default.mail({width:t.avatarSize,height:t.avatarSize}),right:i,title:e.email.trim()}))},action:function(){r.stores.permissionsInviteStore.setState(a({},r.stores.permissionsInviteStore.state,{inviteUsers:u(r.stores.permissionsInviteStore.state.inviteUsers,[e]),tokenQuery:""}))}})};try{for(var b=c(m),w=b.next();!w.done;w=b.next()){v(_=w.value)}}catch(e){l={error:e}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(l)throw l.error}}if(0===g.length){var S=W.sanitizeEmail(n.state.tokenQuery);if(S){var _;if((_=(o||[]).find(function(e){return e.email===S}))&&r.alreadyInvitingUser(_)){var k=r.userResultToUserValue(_);return p.createElement(M.default,{title:"Select a person",loading:!i},p.createElement(L.default,{title:p.createElement(f.Fragment,null,"Already inviting"," ",p.createElement(q.default,{style:{display:"inline-flex",fontWeight:"bold"},userValue:k,format:q.default.Format.FullNameOnly}),".")}))}if(_&&_.userId&&r.userHasPermission(_.userId)){k=r.userResultToUserValue(_);return p.createElement(M.default,{title:"Select a person",loading:!i},p.createElement(L.default,{title:p.createElement(f.Fragment,null,p.createElement(q.default,{style:{display:"inline-flex",fontWeight:"bold"},userValue:k,format:q.default.Format.FullNameOnly})," ","already has permission.")}))}}return p.createElement(M.default,{title:"Select a person",loading:!i},p.createElement(L.default,{title:"No Results"}))}return p.createElement(O.default,{initialFocus:d.length>0?0:void 0,sections:[{key:"results",render:function(e){return p.createElement(M.default,a({},e,{title:"Select a person",loading:!i}))},items:g}]})}},S=p.createElement(R.default,{focus:!b.default.isMobile||void 0,focusInitial:b.default.isMobile,focusAfterAnimation:!0,format:R.default.Format.Share,value:d,onChange:r.handleInputChange,type:"email",tokens:g,disabled:!1,placeholder:"Search a person or type an email...",onRemoveLastToken:function(){r.stores.permissionsInviteStore.setState(a({},r.stores.permissionsInviteStore.state,{inviteUsers:r.stores.permissionsInviteStore.state.inviteUsers.slice(0,r.stores.permissionsInviteStore.state.inviteUsers.length-1)}))},right:!b.default.isMobile&&r.renderInputRightInner(),onEmptyEnter:r.handleInviteClick,dontShowBorderBottom:b.default.isAndroid});return e=b.default.isMobile?{menuType:D.default.MenuType.Modal,title:r.props.isSpace?"Add a Member":"Invite a Person",right:p.createElement("div",{style:{color:E.default.blue}},"Invite"),left:"Cancel",onClickLeft:r.handleModalDismiss,onClickRight:r.handleInviteClick,header:S}:{menuType:D.default.MenuType.Popup,width:480,height:"60vh",header:S,footer:r.renderHelpButton()},p.createElement(D.default,a({},e,{className:U.inviteModal}),p.createElement(f.Fragment,null,b.default.isMobile&&p.createElement(M.default,{title:"Permission Level"},r.renderInputRightInnerSelect()),p.createElement(T.default,a({},w)),b.default.isMobile&&r.renderHelpButton()))},r.handleButtonClick=function(){r.stores.permissionsInviteStore.setState({modalOpen:!0,tokenQuery:"",inviteUsers:[],inviteRole:r.props.isSpace&&r.props.isSubscribed?"read_and_write":"editor"}),r.props.isSpace?k.trackOpenSpaceInvite():k.trackOpenPageShareInvite()},r.handleInviteClick=function(){return i(r,void 0,void 0,function(){var e,t,r,n,o,i,s,c;return l(this,function(l){switch(l.label){case 0:return e=this.props.store,t=this.stores.permissionsInviteStore,r=this.props.isSpace,n=t.state.tokenQuery,W.validateEmail(n.trim())&&(o={email:n.trim()},this.alreadyInvitingUser(o)||t.setState(a({},t.state,{inviteUsers:u(t.state.inviteUsers,[o]),tokenQuery:""}))),i=t.state,s=i.inviteUsers,c=i.inviteRole,s.length>0?(this.props.onInviteClick&&this.props.onInviteClick(),t.reset(),[4,g.inviteUsers({store:e,inviteUsers:s,inviteRole:c,isSpace:r})]):[3,2];case 1:l.sent(),this.props.onInviteComplete&&this.props.onInviteComplete(),l.label=2;case 2:return[2]}})})},r.handleModalDismiss=function(){r.stores.permissionsInviteStore.setState(a({},r.stores.permissionsInviteStore.state,{modalOpen:!1}))},r.handleInputChange=function(e){var n=e.target.value,o=n.match(t.extractEmailsRegex)||[];if(o.length>1||1===o.length&&o[0]!==n){var i=d.uniq(N.compact(o.map(function(e){return W.sanitizeEmail(e)}))).map(function(e){return{email:e}}).filter(function(e){return!r.alreadyInvitingUser(e)});r.stores.permissionsInviteStore.setState(a({},r.stores.permissionsInviteStore.state,{inviteUsers:u(r.stores.permissionsInviteStore.state.inviteUsers,i),tokenQuery:""}))}else r.stores.permissionsInviteStore.setState(a({},r.stores.permissionsInviteStore.state,{tokenQuery:e.target.value}))},r}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.isSpace,r=e.store,n=this.stores.permissionsInviteStore.state.modalOpen;return p.createElement(B.default,{open:n,onDismiss:this.handleModalDismiss,renderContent:this.renderOverlay,origin:p.createElement(F.default,{isLarge:!0,onClick:this.handleButtonClick,disabled:!r.canAdmin(),style:{flex:this.props.shouldGrow?1:0}},t?"Add a Member":"Invite a Person")})},t.prototype.renderHelpButton=function(){return p.createElement(M.default,{topBorder:!0,disableDesktopPadding:!0},p.createElement(z.default,{title:"Learn how to invite people and set permissions",href:H.guides.invitePerson,analyticsFrom:"invite_person"}))},t.prototype.renderInputRightInner=function(){return p.createElement("div",{style:{marginLeft:8,display:"flex",alignItems:"center"}},this.renderInputRightInnerSelect(),this.renderInputRightInnerButton())},t.prototype.renderInputRightInnerButton=function(){var e=this.props.disabled;return p.createElement(F.default,{style:{minWidth:t.inviteButtonWidth},onClick:this.handleInviteClick,disabled:e},"Invite")},t.prototype.renderInputRightInnerSelect=function(){var e=this.props,t=e.isSpace,r=e.isSubscribed,n=this.stores.permissionsInviteStore,o=n.state.inviteRole;return p.createElement(S.default,{role:o,isSpace:t,isSubscribed:r,isUser:!0,isInvite:!0,onUpgradeButtonClick:this.props.onUpgradeButtonClick,upgradeButtonName:this.props.upgradeButtonName,buttonStyle:{display:"flex",whiteSpace:"nowrap",marginTop:b.default.isMobile?4:0,color:E.default.uiGray},isMenuItem:b.default.isMobile,onChange:function(e){n.setState(a({},n.state,{inviteRole:e}))}})},t.prototype.userResultToUserValue=function(e){return{id:e.userId,email:e.email,given_name:e.givenName,family_name:e.familyName,profile_photo:e.profilePhoto}},t.prototype.alreadyInvitingUser=function(e){return this.stores.permissionsInviteStore.state.inviteUsers.some(function(t){return W.sanitizeEmail(t.email)===W.sanitizeEmail(e.email)||void 0!==t.userId&&t.userId===e.userId})},t.prototype.userHasPermission=function(e){return this.props.store.getPermissionItems().filter(h.isUserPermission).some(function(t){return t.user_id===e})},t.prototype.getBadgeStyle=function(){return{display:"inline-flex",height:18,textTransform:"uppercase",fontSize:10,marginBottom:2,fontWeight:P.default.fontWeight.medium,letterSpacing:1,color:E.default.uiLightGray,border:"1px solid "+E.default.uiLightGray,minWidth:t.inviteButtonWidth,alignItems:"center",justifyContent:"center",paddingTop:b.default.isAndroid?2:1,paddingBottom:1,paddingLeft:3,paddingRight:3,borderRadius:3}},t.extractEmailsRegex=/([a-zA-Z0-9\.\_\-\+]+@[a-zA-Z0-9\.\_\-\+]+\.[a-zA-Z0-9\.\_\-\+]+)/gi,t.stores={permissionsInviteStore:C.default},t.avatarSize=24,t.inviteButtonWidth=70,t}(w.default);t.default=G},DT29:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("wldR"),u=r("zmp8"),c=r("Sb6f"),d=r("4NII"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(l.Fragment,null,this.props.topDivider&&this.renderDivider(),this.props.illustration,i.createElement("div",{style:{textAlign:this.props.alignLeft?"left":"center",marginBottom:d.default()?18:36,marginTop:d.default()?6:12}},i.createElement("div",{style:{fontSize:d.default()?24:36,fontWeight:c.default.fontWeight.bold,lineHeight:1.3,marginBottom:d.default()?4:8}},this.props.title),this.props.caption&&i.createElement("div",{style:a({color:u.default.FrontBaseGrayTextColor},this.props.isSmallCaption?{fontSize:d.default()?14:16}:{fontSize:d.default()?17:22},this.props.isSmallCaption&&{maxWidth:650})},this.props.caption)))},t.prototype.renderDivider=function(){return i.createElement("div",{style:{width:"100%",height:1,background:u.default.frontBorderColor,marginTop:d.default()?32:64,marginBottom:d.default()?32:90}})},t}(s.default);t.default=p},DUpR:function(e,t){},De9r:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("4a5t"),u=r("r8oj"),c=r("A9TN"),d=r("oWRT"),p=r("0eZC"),f=r("bK/N"),h=r("oqYu"),m=r("VMJe"),y=r("ZQ9l"),g=r("LeVO"),v=r("imne"),b=r("hfHo"),w=r("MeYt"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderUpdateInfo=function(){var e=v.default.state.appUpdate?t.renderUpdateState("App.js - ",v.default.state.appUpdate):"App.js - Waiting...",r=v.default.state.electronUpdate&&t.renderUpdateState("Electron - ",v.default.state.electronUpdate);return i.createElement("div",null,e,r)},t.handleResetCache=function(){v.default.setState({appUpdate:void 0,electronUpdate:v.default.state.electronUpdate}),h.resetAssetCache()},t.handleShowUpdateInfo=function(){t.stores.store.setState({showUpdateInfo:!0})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t="Notion 2.4."+c.default.version,r=i.createElement(i.Fragment,null,t,i.createElement("br",null),"Updated ",b.default(c.default.lastUpdatedTime).fromNow());if(u.default.isCordova){var n=d.getMobileVersion();r=i.createElement(i.Fragment,null,t,i.createElement("br",null),"Mobile "+m.formatVersion(n),i.createElement("br",null),"Updated ",b.default(c.default.lastUpdatedTime).fromNow())}if(u.default.isReactNative){var o=p.getMobileVersion();r=i.createElement(i.Fragment,null,t,i.createElement("br",null),"Mobile "+m.formatVersion(o),i.createElement("br",null),"Updated ",b.default(c.default.lastUpdatedTime).fromNow())}if(u.default.isElectron){var l=f.getDesktopVersion();r=i.createElement(i.Fragment,null,t,i.createElement("br",null),"Desktop "+m.formatVersion(l),i.createElement("br",null),"Updated ",b.default(c.default.lastUpdatedTime).fromNow())}var s=c.default.isLocalhost||"local"===c.default.env||"development"===c.default.env;if(u.default.isMobile){var h=s&&this.stores.store.state.showUpdateInfo&&i.createElement("div",null,this.renderUpdateInfo(),i.createElement(w.default,{style:{paddingTop:4},onClick:this.handleResetCache},"Clear Cache"));return i.createElement(y.default,{caption:i.createElement("div",{style:{color:this.theme.lightTextColor}},i.createElement("div",{style:{userSelect:"none",WebkitUserSelect:"none"}},r),h),onClick:s?this.handleShowUpdateInfo:void 0})}return s?i.createElement(g.default,{renderTooltip:this.renderUpdateInfo,placement:g.default.Placement.Left,render:function(t){return i.createElement(y.default,a({caption:i.createElement("div",{style:{color:e.theme.lightTextColor}},r)},t))}}):i.createElement(y.default,{caption:i.createElement("div",{style:{color:this.theme.lightTextColor}},r)})},t.prototype.renderUpdateState=function(e,t){return"checking"===t.state?i.createElement("div",null,e," Checking for updates..."):"no-update"===t.state?i.createElement("div",null,e," No update ",b.default(t.timestamp).fromNow()):"downloading"===t.state?i.createElement("div",null,e," Downloading ",m.formatVersion(t.version)," ",Math.round(100*t.progress),"%"):"ready"===t.state?i.createElement("div",null,e," Update ready ",m.formatVersion(t.version)):"error"===t.state?i.createElement("div",null,e," Update error ",t.error&&t.error.message):void 0},t.stores={store:s.default},t}(l.default);t.default=S},Dime:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("UWAZ"),u=r("Qfcx"),c=r("wpmu"),d=r("wldR"),p=r("FDF6"),f=r("AOw3"),h=r("g90h"),m=r("6Jq+"),y=r("udrG"),g=r("MBf9"),v=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.registries=[m.default],r.renderItem=function(e,n,o){return e===t.emptyDroppableKey?r.renderEmptyDroppable():e===t.placeholderKey?i.createElement("div",{key:e},r.props.emptyPlaceholder):r.renderChild(e,n,o)},r.handleEmptyDrop=function(e){var t=e.droppedDirection,n=e.droppedStores,o=e.duplicate;g.createAndCommit(function(e){s.handleDrop({targetParentStore:r.props.store,targetStore:void 0,droppedDirection:t,droppedStores:n,duplicate:o,transaction:e})})},r.handleEmptyNativeDrop=function(e){var t=e.files,n=e.droppedDirection;g.createAndCommit(function(e){s.handleNativeDrop({files:t,targetParentStore:r.props.store,targetStore:void 0,droppedDirection:n,transaction:e})})},r.canEditStore=r.createComputedStore(function(){return!r.props.disabled&&r.props.store.canEdit()}),r.itemKeysStore=r.createComputedStore(function(){var e=r.props.store.getValue()||[],n=e,o=r.getChildrenLimit(),a=r.canEdit(),i=0===e.length;return void 0!==o&&(n=l.slice(n,0,o)),a&&i&&n.push(t.emptyDroppableKey),a&&i&&r.props.emptyPlaceholder&&n.push(t.placeholderKey),n}),r.numberedListCounterStore=r.createComputedStore(function(){var e,n,o=r.itemKeysStore.state,i=[];try{for(var l=a(o),s=l.next();!s.done;s=l.next()){var u=s.value;if(u!==t.emptyDroppableKey&&u!==t.placeholderKey){var c=r.createStoreForItemId(u).getValue();c&&c.type===y.default.numberedList?i.push(u):i.push(void 0)}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return i}),r}return o(t,e),t.prototype.renderComponent=function(){if(!this.props.disableContent)return this.itemKeysStore.state.map(this.renderItem)},t.prototype.renderChild=function(e,t,r){var n=this.props.disabled,o=this.createStoreForItemId(e),a=l.findLastIndex(r,function(e){return h.isUUIDWithDashes(e)});return i.createElement(p.default,{key:e,store:o,renderItem:this.props.renderItem,listStore:this.props.store,isFirstItem:0===t,isLastItem:t===a,disabled:n,disableLayout:this.props.disableLayout,canEditList:this.canEdit(),numberedListCounterStore:this.numberedListCounterStore})},t.prototype.renderEmptyDroppable=function(){var e=c.default.createChildStore(this.props.store,this.props.store.id),r=this.canEdit();return i.createElement(f.default,{key:t.emptyDroppableKey,store:e,canDropBelow:r,canNativeDropBelow:r,onSelectableDrop:this.handleEmptyDrop,onNativeDrop:this.handleEmptyNativeDrop,style:this.props.emptyDroppableStyle,analyticsName:"page_content",shouldShowDropZone:!0})},t.prototype.canEdit=function(){return this.canEditStore.state},t.prototype.getChildrenLimit=function(){var e,t=u.default.state.limitParents,r=this.props.store.id;return this.props.store.findRecordStoreAncestor(function(n){var o=t.get(n);return!(!o||!o.hasOwnProperty(r))&&(e=o[r],!0)}),e},t.prototype.createStoreForItemId=function(e){return c.default.createChildStore(this.props.store,e)},t.placeholderKey="placeholder",t.emptyDroppableKey="emptyDroppableKey",t}(d.default);t.default=v},DkKf:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("OjB8"),a=r("r8oj");t.minDragDist={mouse:6,finger:0,stylus:6};var i={x:0,y:0,moved:!1,device:"mouse"};function l(e){return e&&"stylus"===e.touchType?"stylus":"finger"}function s(e){var t=e.touches[0];i={moved:!1,x:t.clientX,y:t.clientY,device:l(t)}}function u(e){var r=i.x,a=i.y,s=e.touches[0];o.default(r,a,s.clientX,s.clientY)>t.minDragDist[l(s)]&&(i=n({},i,{moved:!0}))}function c(e){i={moved:!1,x:e.clientX,y:e.clientY,device:"mouse"}}function d(e){var r=i.x,a=i.y;o.default(r,a,e.clientX,e.clientY)>t.minDragDist.mouse&&(i=n({},i,{moved:!0}))}t.getTouchDeviceType=l,t.startListeners=function(){a.default.isMobile?(window.addEventListener("touchstart",s),window.addEventListener("touchmove",u)):(window.addEventListener("mousedown",c),window.addEventListener("mousemove",d))},t.mouseDidMoveAfterLastMouseDown=function(){return i.moved}},DlEO:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("1Imc");t.default=new n.default},Dnhi:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("LEzx"),l=r("AXh+"),s=r("z22Z"),u=r("T1hA"),c=r("r8MX"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isActive:!1}},t.prototype.isReady=function(){return Boolean(this.state.remotePresenceData)},t.prototype.getUserData=function(){var e=c.default.state.data,t=this.state,r=t.remotePresenceData,n=t.rootStore;if(r&&n&&e){var o=l.getMostPermissiveBlockPermissions(n).map(function(e){return e.permissionItem}).filter(s.isUserPermission).map(function(e){return e.user_id}),i=e.members.map(function(e){return e.userId}),u=a.union(o,i),d=[];return a.forOwn(r,function(e){e&&e.userId&&n.canEdit()&&u.includes(e.userId)&&d.push(e)}),d=a.sortBy(d,function(e){var t=e.activityTimestamp;return t?-t:0})}return[]},t.prototype.getUserBlockId=function(e){if(e&&e.blockId)return e.blockId},t.prototype.getUserIsPresent=function(e){var r=u.default.state.userId;if(e.userId===r)return!0;var n=Date.now();return Boolean(e.present&&e.activityTimestamp&&n-e.activityTimestamp<=t.presentMaxActivityAge)},t.presentMaxActivityAge=6e4,t}(i.default);t.default=d},Dr7L:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,iconSvg:l.default.invision,mediaMenuCurrentTab:"embed",mediaMenuTabs:["embed"],mediaMenuEmbedCaption:"Works with Invision projects",embedButtonText:"Embed Invision",urlInputPlaceholder:"https://invis.io/..."}),"Embed an Invision project")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},DrHl:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("t+pW"),l=r("IdIf"),s=r("7Q97"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props.options.find(function(t){return l.groupValuesEqual(t.value,e.props.value)});if(t)return a.createElement(s.default,{format:this.props.format,value:t.value,onClickRemove:this.props.onClickRemove,showRemoveButton:this.props.showRemoveButton,isSingle:this.props.isSingle,backgroundColor:this.theme.selectColors[t&&t.color||"default"],shouldShrink:this.props.shouldShrink})},t.Format=s.TokenFormat,t}(i.default);t.default=u},E16d:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("frzs"),u=r("wldR"),c=r("5jDe"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.didMount=function(){return a(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,s.actuallyLogout()];case 1:return e.sent(),[2]}})})},t.prototype.renderComponent=function(){return l.createElement(c.default,null)},t}(u.default);t.default=d},E4ni:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("t+pW"),c=r("/6eU"),d=r("r8oj"),p=r("q1tI"),f=r("i3uR"),h=r("wXH4"),m=r("Pl3d"),y=r("gbGO"),g=r("2Y+N"),v=r("WgIs"),b=r("zTdN"),w=r("4HCU"),S=r("bjn0"),_=r("sbdd"),k=r("dXb3"),C=r("Etmo"),E=r("g4rC"),P=r("ZQ9l"),x=r("OxuQ"),T=r("TWhA"),O=r("5Nka"),M=r("Erf6"),I=r("Oy36"),A=r("QcDD"),D=r("Ng05"),L=r("IULH"),R=r("MeYt"),B=r("mF3+"),j=r("sSHh"),V=r("qqdV"),F=r("KTXS"),N=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderDesktopModalContent=function(){var e=A.default.state.currentBlockStore,n=M.default.state;if(n.open&&e)return s.createElement("div",{style:t.modalStyle},s.createElement("div",{style:t.modalHeaderStyle},"Create a relation to another database"),s.createElement("div",{style:t.sourceSectionStyle},s.createElement("div",{style:t.defaultTextStyle},"A relation allows you to link pages from other databases."),r.renderDatabaseButtonPopup()),n.relationCollectionId===n.targetCollectionId&&s.createElement("div",{style:t.selfRelationSectionStyle},s.createElement("div",{style:t.defaultTextStyle},"You selected the same database. In which property should the link pages appear?"),r.renderSelfRelationConfigure()),s.createElement("div",{style:{display:"flex",alignItems:"center"}},s.createElement(j.default,{title:"Learn about relations",href:V.guides.relations,analyticsFrom:"configure_relation_modal"}),s.createElement(L.default,{isLarge:!0,style:{marginLeft:"auto",marginRight:12},onClick:r.handleCancelClick},"Cancel"),s.createElement(D.default,{isLarge:!0,onClick:r.handleDoneClick,disabled:!r.canAccept()},"Create Relation")))},r.renderMobilePopupContent=function(){var e=M.default.state;if(e.open)return s.createElement(y.default,{menuType:y.default.MenuType.Modal,title:"Select a Database",right:"Done",left:"Cancel",onClickRight:r.handleDoneClick,onClickLeft:r.handleCancelClick,rightDisabled:!r.canAccept()},s.createElement(g.default,{title:"Database Source"},s.createElement(P.default,{title:r.renderDatabaseButtonPopup()})),s.createElement("div",{style:r.getMobileSectionCaption()},"The database you wish to link to."),e.relationCollectionId===e.targetCollectionId&&s.createElement(p.Fragment,null,s.createElement("div",{style:a({},r.getMobileSectionHeading(),{marginTop:28})},"Self-relation Type"),s.createElement("div",{style:r.getMobileSectionCaption()},"You selected the same database. In which property should the link pages appear?"),s.createElement(g.default,{disableMobilePadding:!0},s.createElement(P.default,{title:r.renderSelfRelationConfigure()})),s.createElement("div",{style:r.getMobileSectionCaption()},r.renderSelfRelationCaption(e.selfRelationType))),s.createElement(g.default,null,s.createElement(F.default,{title:"Learn about relations",href:V.guides.relations,analyticsFrom:"configure_relation_modal"})))},r.renderDatabaseButtonPopupOrigin=function(e){var t=A.default.state.currentBlockStore;if(M.default.state.open&&t)return d.default.isMobile?s.createElement(R.default,a({mobileFeedback:!0,style:{width:"100%"}},e),r.getButtonTitle()):s.createElement(L.default,a({isLarge:!0,style:{width:"100%"}},e),r.getButtonTitle(),B.default.chevronDown({width:10,marginLeft:4,fill:r.theme.lightIconColor}))},r.renderDatabaseButtonPopupContent=function(){var e=A.default.state.currentBlockStore,n=M.default.state;if(n.open&&e){var o,i={request:n.collectionSearchQuery,debounce:w.defaultSearchDebounce,performRequest:r.getCollectionAutocompleteItems,render:function(o,i,l){var u;if(o&&(u=s.createElement(g.default,null,s.createElement(b.default,{title:"Something went wrong."}))),l||(u=s.createElement(g.default,null,s.createElement(b.default,{title:"Loading..."}))),i&&0===i.length)u=s.createElement(g.default,null,s.createElement(b.default,{title:"No Results"}));else{var c=(i||[]).map(function(t){var n=S.default.createChildStore(e,t);return{key:t,render:function(e){return s.createElement(_.default,a({store:n},e))},action:function(){r.handleSelectCollection(t)}}});u=s.createElement(v.default,{initialFocus:n.collectionSearchQuery?0:void 0,sections:[{key:"results",render:function(e){return s.createElement(g.default,a({},e))},items:c}]})}return d.default.isMobile?s.createElement(p.Fragment,null,u):s.createElement("div",{style:t.customPopupStyle},u)}},l=s.createElement(g.default,{isInput:!0},r.renderDatabaseInputMenuItem());return o=d.default.isMobile?{menuType:y.default.MenuType.Modal,title:"Select a Database",right:"Done",header:l,onClickRight:r.handleDatabaseSearchDoneClick}:{menuType:y.default.MenuType.Popup,width:"100%",header:l},s.createElement(y.default,a({},o),s.createElement(m.default,a({},i)))}},r.handleSamePropertyClick=function(){var e=M.default.state;e.open&&M.default.setState(a({},e,{selfRelationType:"same_property"}))},r.handleSeparatePropertyClick=function(){var e=M.default.state;e.open&&M.default.setState(a({},e,{selfRelationType:"separate_property"}))},r.getCollectionAutocompleteItems=function(e){return i(r,void 0,void 0,function(){return l(this,function(t){return[2,w.searchCollections({query:e,limit:20})]})})},r.handleDatabaseSearchInputChange=function(e){var t=M.default.state;t.open&&M.default.setState(a({},t,{collectionSearchQuery:e.target.value}))},r.handleSelectCollection=function(e){var t=M.default.state;t.open&&(M.default.setState(a({},t,{targetCollectionId:e})),r.stores.databaseSearchButtonPopupStore.setState({open:!1}))},r.handleDatabaseSearchDoneClick=function(){r.stores.databaseSearchButtonPopupStore.setState({open:!1})},r.handleCancelClick=function(){C.close()},r.handleDoneClick=function(){C.accept()},r.handleDatabaseButtonPopupClick=function(){var e=M.default.state;e.open&&M.default.setState(a({},e,{collectionSearchQuery:""}))},r}return o(t,e),t.prototype.renderComponent=function(){var e=M.default.state.open;return d.default.isMobile?s.createElement(h.Popup,{popupType:h.PopupType.SlideUp,alignmentToOrigin:h.Popup.Alignment.Start,open:e,render:this.renderMobilePopupContent,onDismiss:C.close}):s.createElement(c.default,{open:e,render:this.renderDesktopModalContent,onDismiss:C.close})},t.prototype.renderSelfRelationConfigure=function(){var e=M.default.state;if(e.open)return s.createElement("div",{style:this.getSelfRelationButtonWrapStyle()},s.createElement(T.default,{title:"Create a new property",caption:this.renderSelfRelationCaption("separate_property"),image:O.default.images.selfRelationSeparateSvg,selected:"separate_property"===e.selfRelationType,onClick:this.handleSeparatePropertyClick}),s.createElement(T.default,{title:"Use the same property",caption:this.renderSelfRelationCaption("same_property"),image:O.default.images.selfRelationSameSvg,selected:"same_property"===e.selfRelationType,onClick:this.handleSamePropertyClick}))},t.prototype.getButtonTitle=function(){var e=A.default.state.currentBlockStore,t=M.default.state;if(t.open&&e){if(t.targetCollectionId){var r=S.default.createChildStore(e,t.targetCollectionId);return s.createElement("div",{style:{display:"flex",alignItems:"center"}},s.createElement(I.default,{disabled:!0,icon:r.getIcon(),isEmptyPage:!1,size:20}),s.createElement(x.default,{store:r,style:{margin:"0 6px"}}))}return s.createElement("span",{style:{color:this.theme.mediumTextColor}},"Select a Database")}},t.prototype.renderDatabaseButtonPopup=function(){return s.createElement(f.default,{popupType:d.default.isMobile?h.PopupType.SlideUp:h.PopupType.Popup,renderOrigin:this.renderDatabaseButtonPopupOrigin,render:this.renderDatabaseButtonPopupContent,buttonPopupStore:this.stores.databaseSearchButtonPopupStore,onClick:this.handleDatabaseButtonPopupClick,style:{width:440}})},t.prototype.renderDatabaseInputMenuItem=function(){var e=M.default.state;if(e.open)return s.createElement(k.default,{focus:!0,focusAfterAnimation:!0,value:e.collectionSearchQuery,onChange:this.handleDatabaseSearchInputChange,placeholder:"Search for a Database..."})},t.prototype.renderSelfRelationCaption=function(e){return"same_property"===e?s.createElement(p.Fragment,null,s.createElement("b",{style:{color:this.theme.regularTextColor}},"No syncing."),' Use this option when modeling a "Related Tasks" property in a "Task" database.'):s.createElement(p.Fragment,null,s.createElement("b",{style:{color:this.theme.regularTextColor}},"Sync both ways.")," ",'Use this option when modeling "Parent Task" and "Child Task" properties in a "Task" database.')},t.prototype.canAccept=function(){var e=M.default.state;return e.open&&e.targetCollectionId},t.prototype.getSelfRelationButtonWrapStyle=function(){return{display:"flex",flexDirection:d.default.isMobile?"row":"column",justifyContent:"space-between"}},t.prototype.getMobileSectionHeading=function(){return{marginTop:8,marginRight:16,marginBottom:8,marginLeft:16,fontSize:12,textTransform:"uppercase",color:this.theme.mediumTextColor}},t.prototype.getMobileSectionCaption=function(){return{marginTop:8,marginRight:16,marginBottom:8,marginLeft:16,fontSize:12,color:this.theme.mediumTextColor}},t.stores={databaseSearchButtonPopupStore:E.default},t.defaultTextStyle={marginBottom:8,fontSize:14},t.modalStyle={padding:30,width:538},t.modalHeaderStyle={fontWeight:600,marginBottom:20},t.sourceSectionStyle={marginBottom:30},t.selfRelationSectionStyle={marginBottom:30},t.customPopupStyle={maxHeight:"24vh"},t}(u.default);t.default=N},E4rx:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},l=this;Object.defineProperty(t,"__esModule",{value:!0});var s=r("LvDl"),u=r("rJFj"),c=r("A9TN"),d=r("d933"),p=r("u5ao"),f=r("6Ydq"),h=r("sjR4"),m=r("DNgp"),y=r("T1hA"),g=r("l2mL"),v=r("Uy0f"),b=r("JuT7");t.destroyPresence=function(e){var t=e.presenceStore,r=t.state,n=r.persistAutoListener,o=r.rootStore,a=r.isActive,i=r.listenerReference;if(a){if(n&&n.destroy(),i&&b.default.removeListener(i),o){var l="presence/"+o.id,s=y.default.state.userId;s&&b.default.updateField(l,s,{present:!1},void 0),b.default.clearOnDisconnect(l,"presenceActions").catch(function(e){f.log({level:"error",from:"destroyPresence",type:"SystemError",error:e})})}t.reset()}},t.initializePresence=function(e){return o(l,void 0,void 0,function(){var r,o,i,l,u,c,p;return a(this,function(a){switch(a.label){case 0:return r=e.rootStore,(o=e.presenceStore).state.rootStore&&o.state.rootStore===r?[3,4]:(o.state.isActive&&t.destroyPresence({presenceStore:o}),[4,r.load()]);case 1:return a.sent(),_(r)?(o.setState(n({},o.state,{isActive:!0,rootStore:r})),i=s.throttle(function(){o&&o.state.isActive&&o.state.rootStore===r&&w(o)},100),l=function(e,t){o&&o.state.isActive&&o.state.rootStore===r&&S(k(t),o)},u="presence/"+r.id,c=b.default.addListener(u,l,void 0),o.setState(n({},o.state,{persistAutoListener:new d.default({onChange:i}),listenerReference:c})),(p=y.default.state.userId)?[4,b.default.onDisconnect({key:u,field:p,updates:{present:!1},ttl:void 0},"presenceActions")]:[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:w(o),a.label=4;case 4:return[2]}})})};var w=function(e){var t=e.state,r=t.persistAutoListener,n=t.rootStore;r&&r.startListener(!0);var o=y.default.state.userId;if(n){var a;if(o&&n.canEdit()){var i=void 0,l=g.default.state.lastHoveredStore;l&&l.id&&n&&n.contains(l)&&(i=l.id);var s=m.default.state;if(s.editing&&n.contains(s.store)&&"block"===s.store.table)i=s.store.id;else{var u=h.default.state.stores;u[0]&&(i=u[0].id)}a={userId:o,present:v.default.state.isVisible,activityTimestamp:Date.now(),blockId:i||null}}if(r&&r.stopListener(),a){var c="presence/"+n.id,d=y.default.state.userId;d&&b.default.updateField(c,d,a,void 0)}}},S=function(e,t){var r=t.state.remotePresenceData,o=e||{};s.isEqual(r,o)||t.setState(n({},t.state,{remotePresenceData:o}))},_=function(e){return!c.default.isAdminMode&&Boolean(e)&&u.default(e.id)&&e.canEdit()&&Boolean(y.default.state.userId)},k=function(e){var t,r,n={};if(s.isObject(e)){var o=Object.keys(e);try{for(var a=i(o),l=a.next();!l.done;l=a.next()){var u=l.value,c=e[u];c&&p.userPresenceDataSchema(c)&&(n[u]=c)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}}return n}},E5KU:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,arguments)},t.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info.apply(console,arguments)},t.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"==typeof window?console.log.apply(console,arguments):console.error.apply(console,arguments)},t.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.trace.apply(console,o(e))}},ECjM:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isCreatingSpace:!1}},t}(r("LEzx").default);t.default=a},EKpD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("t+pW"),l=r("hU3F"),s=r("MeYt"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOpen=function(){t.stores.open.set(!0)},t}return o(t,e),t.prototype.renderComponent=function(){return this.stores.open.get()?a.createElement("div",null,this.props.items):this.props.items.length<=this.props.visible?a.createElement("div",null,this.props.items):a.createElement("div",null,this.props.items.slice(0,this.props.visible),a.createElement(s.default,{onClick:this.handleOpen,style:this.getStyle()},"View ",this.props.items.length-this.props.visible," more"))},t.prototype.getStyle=function(){return{display:"flex",alignItems:"center",height:28,marginBottom:6,fontSize:12,color:this.theme.lightTextColor,padding:0,paddingLeft:52,paddingRight:16}},t.stores={open:l.default.of(!1)},t}(i.default);t.default=u},EPZ6:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},l=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var u=r("q1tI"),c=r("Wfos"),d=r("r8oj"),p=r("wldR"),f=r("wXH4"),h=r("gbGO"),m=r("WgIs"),y=r("2Y+N"),g=r("SR/M"),v=r("F1uM"),b=r("udrG"),w=r("nFzZ"),S=r("nFzZ"),_=r("wpmu"),k=r("A9TN"),C=r("DNgp"),E=r("7IvN"),P=r("tP7q"),x={image:"Embed Image",video:"Embed Video",tweet:"Embed Tweet",drive:"Embed Google Drive",gist:"Embed GitHub Gist",invision:"Embed Invision Project",framer:"Embed Framer Prototype",audio:"Embed Audio",maps:"Embed Google Map",figma:"Embed Figma",loom:"Embed Loom",typeform:"Embed Typeform",codepen:"Embed CodePen",pdf:"Embed PDF",embed:"Create Embed"},T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderMenu=function(){var e=E.default.state;if(e.open){var r,n=t.getSections(e);return r=d.default.isMobile?{menuType:h.default.MenuType.ActionSheet}:{menuType:h.default.MenuType.Popup,width:320,maxHeight:"40vh"},u.createElement(h.default,a({},r),u.createElement(m.default,{sections:n,initialFocus:0}))}},t.handleDismiss=function(){c.close()},t.handleAccept=function(e){c.accept({blockType:e})},t}return o(t,e),t.prototype.willMountOrUpdate=function(){var e=E.default.state;if(e.open){var t=C.default.state;t.editing&&t.store.id===e.textStore.id&&t.selection.endIndex===e.urlSelection.endIndex||c.close()}},t.prototype.renderComponent=function(){var e=E.default.state;return u.createElement(f.default,{popupType:d.default.isMobile?f.default.PopupType.SlideUp:f.default.PopupType.Popup,open:e.open,originRect:e.open?e.selectionRect:void 0,placementToOrigin:f.default.Placement.Bottom,alignmentToOrigin:f.default.Alignment.Start,originGap:4,disableMouseCapture:!0,disableContentScroll:!0,disableDarkOverlayBackground:d.default.isMobile,keepFocus:d.default.isMobile,render:this.renderMenu,onDismiss:this.handleDismiss})},t.prototype.getSections=function(e){var t,r,n=this,o=e.url,l=e.textStore,c=[],p=P.parseRoute({url:o,baseUrl:k.default.baseURL,isMobile:d.default.isMobile,protocol:k.default.protocol,currentUrl:window.location.href});if("page"===p.name){var f=_.default.createChildStore(l,p.blockId);c.push({name:"Link to Page",validator:function(){return!f.isCollectionView()},type:b.default.page}),c.push({name:"Create Linked Database",validator:function(){return f.isCollectionView()},type:b.default.collectionViewPage})}var h=S.keys(x);try{for(var m=i(h),C=m.next();!C.done;C=m.next()){var E=C.value;"embed"!==E&&c.push({name:x[E],validator:v.embedTypeValidators[E],type:E})}}catch(e){t={error:e}}finally{try{C&&!C.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}return c.push({name:"Create Bookmark",validator:v.isUrlThatIsntNotionPage,type:b.default.bookmark}),c.push({name:x.embed,validator:v.embedTypeValidators.embed,type:"embed"}),[{key:"embed section",render:function(e){return u.createElement(y.default,a({},e))},items:s([{key:"dismiss",render:function(e){return u.createElement(g.default,a({},e,{title:"Dismiss"}))},action:this.handleDismiss}],w.compact(c.map(function(e){var t=e.name,r=e.validator,i=e.type;if(r({url:o,baseUrl:k.default.baseURL}))return{key:"embed "+t,render:function(e){return u.createElement(g.default,a({},e,{title:t}))},action:function(){return n.handleAccept(i)}}})))}]},t}(p.default);t.default=T},ETM2:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("y6Dp"),u=r("i3uR"),c=r("t+pW"),d=r("VOS9"),p=r("r8oj"),f=r("gbGO"),h=r("QcDD"),m=r("MeYt"),y=r("6rsX"),g=r("BJyN"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderOrigin=function(e){return i.createElement(m.default,a({style:t.getButtonStyle(),mobileFeedback:p.default.isMobile},e),l.default.dots({width:18,height:18}))},t.renderPopup=function(){var e,r={blocks:[t.props.store]};return e=p.default.isMobile?{menuType:f.default.MenuType.ActionSheet}:{menuType:f.default.MenuType.Popup,width:210,maxHeight:"80vh"},i.createElement(f.default,a({},e),i.createElement(d.default,{sections:g.publicTopbarMoreActions,onAccept:t.handleAccept,context:r}))},t.handleClick=function(){y.clear(),s.trackOpenPublicMoreMenu()},t.handleDismiss=function(){t.props.buttonPopupStore.setState(a({},t.props.buttonPopupStore.state,{open:!1}))},t.handleAccept=function(e){var r=h.default.state.currentBlockStore;if(r&&e.name){var n=r.getType();n&&s.trackBlockAction({name:e.name,from:"public_topbar_more_menu",block_type:n})}e.closeParentMenu&&t.handleDismiss()},t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(u.default,{popupType:p.default.isMobile?u.default.PopupType.SlideUp:u.default.PopupType.Popup,buttonPopupStore:this.props.buttonPopupStore,renderOrigin:this.renderOrigin,onClick:this.handleClick,render:this.renderPopup,originGap:8})},t.prototype.getButtonStyle=function(){return p.default.isMobile?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",marginLeft:8,marginRight:8}:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:3}},t}(c.default);t.default=v},EU62:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("YUnZ"),s=r("Oy/b"),u=r("Sb6f"),c=r("mF3+"),d=r("N34Z"),p=r("Z0iJ"),f=r("n8tN"),h=r("wXH4"),m=r("JwIb"),y=r("6rsX"),g=r("cBa6"),v=r("6fCZ"),b=r("r8oj"),w=r("bFnu"),S=r("g4rC"),_=r("MBf9"),k=r("gbGO"),C=r("dXb3"),E=r("2Y+N"),P=r("Z1H8"),x=r("0GcB"),T=r("zmp8"),O=r("MeYt"),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){_.createAndCommit(function(r){d.updateValue({store:t.props.store.getPropertiesStore(),data:{title:g.createTextValue(e.target.value)},transaction:r})})},t.handleOpen=function(){t.stores.buttonPopupStore.setState(a({},t.stores.buttonPopupStore.state,{open:!0}))},t.handleClose=function(){t.stores.buttonPopupStore.setState(a({},t.stores.buttonPopupStore.state,{open:!1})),y.select({store:t.props.store})},t.handleMouseMove=function(e){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(e){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),p.default("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css",p.ResourceType.Stylesheet)},t.prototype.activate=function(){this.stores.buttonPopupStore.state.open?this.handleClose():this.handleOpen()},t.prototype.renderPersisted=function(){var e,t=this,r=this.props,n=r.store,o=r.disabled,d=this.getValue();e="light"===x.default.state.mode?l(this.theme.sidebarBackground).darken(.1).css():l(this.theme.sidebarBackground).brighten(.2).css();var p,f={};if(d)try{var y=s.renderToString(d,{displayMode:!0});p=i.createElement("div",{key:"value",style:this.getContainerStyle(!1),dangerouslySetInnerHTML:{__html:y}})}catch(e){p=i.createElement("div",{key:"error",style:this.getContainerStyle(!0)},e.message)}else p=i.createElement(m.default,{key:"button",iconSvg:c.default.tex,iconStyle:{width:28,height:28,marginRight:8},style:{background:void 0}},"Add a TeX equation."),f={background:e};return i.createElement("div",{style:{display:"flex",position:"relative"}},i.createElement(h.default,{popupType:b.default.isMobile?h.default.PopupType.SlideUp:h.default.PopupType.Popup,open:this.stores.buttonPopupStore.state.open,origin:i.createElement(O.default,{disabled:o,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleOpen,style:a({position:"relative",width:"100%",borderRadius:3},f)},p,!o&&(this.stores.mouseStore.state.mouseEntered||b.default.isMobile)&&i.createElement(v.default,{store:n,tooltipContent:"Rename, delete, and more...",style:{position:"absolute",top:4,right:4,color:this.theme.mediumTextColor},fadeIn:!0})),onDismiss:this.handleClose,render:function(){return i.createElement(P.default,{capture:!0,allowEsc:!0,render:function(e){var r;return r=b.default.isMobile?a({menuType:k.default.MenuType.ActionSheet},e):a({menuType:k.default.MenuType.Popup,width:400},e),i.createElement(k.default,a({},r),i.createElement(E.default,null,i.createElement(C.default,{placeholder:"Type a TeX Equation",textarea:!1,focus:!0,value:d,onChange:t.handleChange,style:{fontFamily:u.default.fontFamily.mono},onSubmit:t.handleClose})))}})}}),this.renderDiscussion())},t.prototype.getValue=function(){var e=this.props.store.getProperties();return g.getTextWithoutTokens(e&&e.title)},t.prototype.getContainerStyle=function(e){var t={display:"flex",padding:"4px 8px",width:"100%"};return this.getValue()?(t.flexDirection="column",t.overflow="auto"):t.color=T.default.contentPlaceholder,e&&(t.background=T.default.redWithAlpha(.2)),a({},t,this.getBlockColorStyle())},t.stores={mouseStore:w.default,buttonPopupStore:S.default},t}(f.default);t.default=M},EUMY:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("LvDl"),l=r("UWAZ"),s=r("FmD2"),u=r("unoy"),c=r("r8oj"),d=r("EZe4"),p=r("DkKf"),f=r("NOLh"),h=r("n8tN"),m=r("U+cP"),y=r("K6K+"),g=r("Dime"),v=r("AOw3"),b=r("w5u6"),w=r("MBf9"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDrop=function(e){var r=e.droppedDirection,n=e.droppedStores,o=e.duplicate;w.createAndCommit(function(e){l.handleDrop({droppedDirection:r,droppedStores:n,targetParentStore:t.props.columnListStore.getContentStore(),targetStore:t.props.store,duplicate:o,transaction:e})})},t.handleMouseDown=function(e){c.default.isMobile||d.default({event:e,context:d.EventContext.EditorMouseDown,callback:function(){t.capturedMouseDown=!0,e.preventDefault(),s.startRectangularSelection({target:e.target,startX:e.clientX,startY:e.clientY,showSelectionRect:!0,preventSelectStores:[]})}})},t.handleMouseUp=function(e){if(t.capturedMouseDown&&!p.mouseDidMoveAfterLastMouseDown()){var r=e.clientX,n=e.clientY;b.default.afterNextFlush(function(){u.editNearestBlock({x:r,y:n}),t.capturedMouseDown=!1})}},t}return o(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.ratio,n=t.store,o=t.isLastItem,i=t.disabled,l=1===n.getContentIds().length,s=this.canEdit();return a.createElement(f.default,{isVisible:!0,animationStyle:this.getAnimationStyle({ratio:r}),render:function(){return a.createElement("div",{style:e.getStyle(),onMouseDown:e.handleMouseDown,onMouseUp:e.handleMouseUp},a.createElement(v.default,{store:n,canDropLeft:s&&!c.default.isMobile,canDropRight:o&&s&&!c.default.isMobile,onSelectableDrop:e.handleDrop,analyticsName:"column",style:{display:"flex",flexDirection:"column"},shouldShowDropZone:!0},a.createElement(g.default,{store:n.getContentStore(),disabled:i,disableLayout:l})))}})},t.prototype.getStyle=function(){var e={paddingTop:y.default.topBottomPadding,paddingBottom:y.default.topBottomPadding};return c.default.isMobile||i.assign(e,{flexGrow:0,flexShrink:0}),e},t.prototype.getAnimationStyle=function(e){var t=e.ratio,r={width:"100%"};return this.props.numColumns>1&&(r.width="calc((100% - "+m.default.width*(this.props.numColumns-1)+"px) * "+t+")"),c.default.isMobile&&(r.width="100%"),r},t}(h.default);t.default=S},EVoB:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1,openAnimationCompleted:!0,closeAnimationCompleted:!0}},t}(r("LEzx").default);t.default=a},EVtw:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("q1tI"),l=r("wldR"),s=r("Cycz"),u=r("4NII"),c=r("+P8o"),d=r("5Nka"),p=r("zmp8"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.shouldShowEnterprise;return a.createElement(i.Fragment,null,a.createElement("div",{style:this.getWrapStyle()},this.renderFreePlan(),this.renderSeparator(),this.renderPersonalPlan(),this.renderSeparator(),this.renderTeamPlan(),e&&this.renderSeparator(),e&&this.renderEnterprisePlan()),this.renderPriceDisclaimer())},t.prototype.renderFreePlan=function(){return a.createElement(c.default,{image:d.default.front.pricing.pricingFreePng,title:"Free",price:s.price.free,features:s.getFreeFeatures(),isSettings:!1,isSmallScreen:u.default()})},t.prototype.renderPersonalPlan=function(){return a.createElement(c.default,{image:d.default.front.pricing.pricingPersonalPng,title:"Personal",price:s.price.personal,caption:s.priceCaption.personal,features:s.getPersonalFeatures(),isSettings:!1,isSmallScreen:u.default()})},t.prototype.renderTeamPlan=function(){return a.createElement(c.default,{image:d.default.front.pricing.pricingTeamPng,title:"Team",price:s.price.team,caption:s.priceCaption.team,features:s.getTeamFeatures(),isSettings:!1,isSmallScreen:u.default()})},t.prototype.renderEnterprisePlan=function(){return a.createElement(c.default,{image:d.default.front.pricing.pricingEnterprisePng,title:"Enterprise",price:s.price.enterprise,caption:s.priceCaption.enterprise,features:s.getEnterpriseFeatures(),isSettings:!1,isSmallScreen:u.default()})},t.prototype.renderSeparator=function(){return u.default()?a.createElement("div",{style:{flex:"none",height:20}}):a.createElement("div",{style:{flex:"none",width:20}})},t.prototype.renderPriceDisclaimer=function(){return a.createElement("div",{style:this.getPriceDisclaimerStyle()},s.priceDisclaimer)},t.prototype.getWrapStyle=function(){return{display:"flex",width:this.props.shouldShowEnterprise||u.default()?"100%":720,maxWidth:900,flexDirection:u.default()?"column":"row"}},t.prototype.getPriceDisclaimerStyle=function(){return{width:u.default()?"100%":"60%",marginTop:24,marginBottom:48,fontSize:14,textAlign:u.default()?"left":"center",color:p.default.uiGray}},t}(l.default);t.default=f},EZe4:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ButtonMouseDown=0]="ButtonMouseDown",e[e.EditorMouseDown=1]="EditorMouseDown",e[e.EditorMouseUp=2]="EditorMouseUp",e[e.EditorClick=3]="EditorClick",e[e.MenuListClick=4]="MenuListClick",e[e.EditorContextMenu=5]="EditorContextMenu",e[e.EditorMouseOver=6]="EditorMouseOver",e[e.EditorHoverMouseMove=7]="EditorHoverMouseMove",e[e.EditorDropMouseMove=8]="EditorDropMouseMove",e[e.EditorDoubleClick=9]="EditorDoubleClick",e[e.SidebarMouseMove=10]="SidebarMouseMove",e[e.MobileTap=11]="MobileTap"}(n=t.EventContext||(t.EventContext={}));var o={},a=function(e){var t=o[e.context],r=e.event.nativeEvent||e.event;t!==r&&(o[e.context]=r,e.callback&&e.callback())};t.captureEditorMouseDown=function(e){a({event:e,context:n.EditorMouseDown,callback:function(){}})},t.captureEditorClick=function(e){a({event:e,context:n.EditorClick,callback:function(){}})},t.captureButtonMouseDown=function(e){a({event:e,context:n.ButtonMouseDown,callback:function(){}})},t.default=a},EarS:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("udrG"),a=r("jZoB"),i=r("N34Z"),l=r("unoy"),s=r("6rsX"),u=r("1P/O"),c=r("+UXM"),d="ToggleBlock";function p(e){return d+"-"+e}function f(e,t){u.default.setOpen(e,t),c.default.set(p(e),t)}function h(e){var t=c.default.get(p(e));u.default.setOpen(e,t)}function m(e,t){var r,a;t||(t=[]),e.getType()===o.default.toggle&&t.push(e.id);var i=e.getContentStores();try{for(var l=n(i),s=l.next();!s.done;s=l.next()){var u=s.value;u.isNavigableBlock()||m(u,t)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return t}t.insertEmptyText=function(e){var t=e.store,r=e.transaction,n=i.createBlock({type:o.default.text,recordCacheStore:t.recordCacheStore,transaction:r});a.append({parent:t.getContentStore(),append:n,transaction:r});var u=t.getContentStores()[0];s.edit({store:u});var c=u.getBlockTitleStore();l.setSelectionAtStart({store:c})},t.setToggle=f,t.initToggle=h,t.getAllTogglesInSubtree=m,t.toggleAllTogglesInSubtree=function(e){var t=m(e);t.forEach(h);var r=!t.every(function(e){return u.default.isOpen(e)});t.forEach(function(e){return f(e,r)})}},EjWR:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("S26v"),c=r("wldR"),d=r("stZG"),p=r("L/h7"),f=r("f8Hx"),h=r("ttM1"),m=r("wlCD"),y=r("qHvo"),g=r("nZ1u"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDragging=t.createComputedStore(function(){return y.default.state.isDragging||g.default.state.isActive}),t}return o(t,e),t.prototype.didMount=function(){return i(this,void 0,void 0,function(){var e,t,r;return l(this,function(n){switch(n.label){case 0:e="https://gist.github.com/"+this.getGistId()+".json",n.label=1;case 1:return n.trys.push([1,3,,4]),[4,p.default(e)];case 2:return t=n.sent(),this.stores.store.setState({loading:!1,error:!1,html:t.div}),document.querySelector('link[href="'+t.stylesheet+'"]')||((r=document.createElement("link")).type="text/css",r.rel="stylesheet",r.href=t.stylesheet,document.head&&document.head.appendChild(r)),[3,4];case 3:return n.sent(),this.stores.store.setState({loading:!1,error:!0,html:void 0}),[3,4];case 4:return[2]}})})},t.prototype.renderComponent=function(){var e=this;return s.createElement("div",null,s.createElement(d.default,{capture:!0,render:function(t){return s.createElement("div",a({},t,{ref:e.props.handleEmbedComp,style:e.getStyle()}),e.renderGist())}}))},t.prototype.renderGist=function(){var e=this;return s.createElement(h.default,{show:this.stores.store.state.loading,showDelay:1e3,showHold:500,render:function(r){return r||e.stores.store.state.loading?s.createElement("div",{style:{marginBottom:"1em"}},s.createElement("div",{style:a({display:"inline-flex",alignItems:"center",opacity:r?1:0},t.loadingStyle)},s.createElement(m.default,null),s.createElement("div",{style:{marginLeft:8}},"Loading Gist"))):e.stores.store.state.error?s.createElement("div",{style:{marginBottom:"1em"}},s.createElement("div",{style:t.loadingStyle},"Error Loading Gist")):s.createElement("div",{dangerouslySetInnerHTML:{__html:e.stores.store.state.html}})}})},t.prototype.getStyle=function(){return this.stores.store.state.html?{width:"100%",marginBottom:"-1em",overflowY:"auto",height:"100%",pointerEvents:this.isDragging.state?"none":"auto"}:{width:"100%",marginBottom:"-1em"}},t.prototype.getGistId=function(){var e=this.props.source;return(u.parse(e).pathname||"").split("/").pop()},t.stores={store:f.default},t.loadingStyle={userSelect:"none",padding:"6px 10px",borderRadius:3,border:"1px solid #dddddd",fontSize:14,width:"100%"},t}(c.default);var b={render:function(e){var t=e.source,r=e.handleEmbedComp;return s.createElement(v,{source:t,handleEmbedComp:r})},renderFullScreen:void 0,resizable:!1,embedGhost:!0,hideActions:!0};t.default=b},EmAo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("pSmD");t.default=new n.default},ErXr:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("2gm8"),u=r("IdSf"),c=r("zmp8"),d=r("5Nka"),p=r("qqdV"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,{episode:"03",interviewee:"Ted Nelson",subtitle:"Creator of Project Xanadu",portraitImg:d.default.front.toolsAndCraft.ted.tedIllustrationPng,analyticsName:"tools-and-craft-03-ted-nelson",intro:i.createElement("div",null,i.createElement("p",null,"Ted Nelson is the founding designer of Xanadu, the world's first hypertext project. Xanadu's influence on the Internet as we know it today is unmistakable. Ted coined the word \"hypertext\" to describe non-sequential writing — but clickable links are only the start of his expansive vision for digital technology. His ideas have influenced projects ranging from Objective-C to the original WWW to entire political philosophies about the role computing tools should play in our lives."),i.createElement("p",null,"I'm thrilled to talk to Ted, who I see as a poet among engineers. He brought a vision full of elegance and purpose to the digital frontier, and his work will continue to shape the web and all of our tools for years to come. It was apt for us to meet at the"," ",i.createElement(u.default,{inline:!0,external:!0,href:"https://archive.org/",style:s.default.linkStyle},"Internet Archive"),", the non-profit digital library that preserves versions of the web for free access by the public. It's a setting that dovetails perfectly with Ted's vision for a free and open Internet."))},i.createElement("div",{style:{position:"relative",paddingBottom:"72%",width:"100vw",height:0}},i.createElement("iframe",{src:"https://www.youtube.com/embed/JN1IBkAcJ1E?rel=0&amp;showinfo=0",frameBorder:"0",allowFullScreen:!0,style:{position:"absolute",width:"100%",height:"100%"}})),i.createElement("div",{style:{marginTop:36,display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"100%"}},i.createElement("div",{style:s.default.getQuoteStyle()},'"Remember that things keep changing. The environment in which you become successful will be different from the environment in which you\'re starting."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," My name is Devon Zuegel, and I'm a software engineer and writer based out of San Francisco. Today, I'm talking to"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Ted_Nelson",style:s.default.linkStyle},"Ted Nelson")," ","at the Internet Archive. We're going to talk about the development of personal knowledge bases and the design of his system,"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Project_Xanadu",style:s.default.linkStyle},"Xanadu"),"."),i.createElement("p",null,"So Ted, can you introduce yourself?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," I'm a controversial figure. Some call me an Internet pioneer. I have accomplished much less than I intended to in my lifetime. I've written a lot that has influenced people. I’ve given a lot of speeches that have influenced people, and my principal work is still unfinished. So at the age of 81, I'm still working hard."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," Can you tell us a little bit about how you got involved in computing and the path that you took to get there?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," I believe it was 1952 when Time magazine had a picture of the Mark II computer on its cover, and I read the article. I was 13 or something, and I had no comprehension what it was about, but it was important."),i.createElement("p",{style:s.default.pStyle},"I was interested in computers from that point on. But I was from a literary family, so I was very interested in evolution. My great-grandparents and grandparents would take me to the planetarium frequently or the museums. And I was fascinated by everything."),i.createElement("p",{style:s.default.pStyle},"My problem has always been that I had too many interests. I found everything interesting as I grew up. I became interested in the future. I thought it was going to be a wonderful future, all chromium and Art Deco with rocket ships. And when I was 13 or 14 in the so-called “golden age of science fiction,” I was avidly reading about how wonderful it was going to be when we had space satellites. My favorite author — amazingly — was L. Ron Hubbard when I was 13, before he invented Dianetics and Scientology."),i.createElement("p",{style:s.default.pStyle},"A key moment was when"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://www.theatlantic.com/magazine/archive/1945/07/as-we-may-think/303881/",style:s.default.linkStyle},"Vannevar Bush's article")," ","appeared in 1945. Now, it appeared first in the Atlantic Monthly, and I believe we read it around the dinner table, and then again it appeared that December in Life Magazine, and I read it again.")),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.ted.vannevarBushJpg,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionStyle},"Vannevar Bush's 1945 article as it appeared in Life Magazine.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," So Bush, who had been President Roosevelt's science advisor, was talking about a future world in which scientists would be able to annotate microfilm. So he imagined something he called a Memex, which would have all the world's writings on microfilm, and you'd be able to call up any frame and annotate it and create what he called “trails.\""),i.createElement("p",{style:s.default.pStyle},"This fundamental article by Vannevar Bush influenced me strongly, and simultaneously influenced"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Douglas_Engelbart",style:s.default.linkStyle},"Douglas Engelbart")," ","who is, like me, one of the grandfathers of the web."),i.createElement("p",{style:s.default.pStyle},"I'm dithering a bit. So, I had literary interests, theatrical interests. My father put me on television when I was 12. I went to college and had no idea what I wanted to major in, and I finally ended up majoring in philosophy because it was easiest.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"I was interested in all subjects. I suddenly hated this business of majoring because it meant restricting and narrowing down. Instead, I wanted to take everything."'),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.ted.tedIa2Jpg,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionStyle},"Ted Nelson at the Internet Archive.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," So my sophomore year, for example, I took extra courses at the University of Pennsylvania. I took a Linguistics course, which was thrilling. It was with the teacher of"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Noam_Chomsky",style:s.default.linkStyle},"Noam Chomsky")," ",", and I was so happy. As with many subjects before they became popular in college, you realize, hey, I shouldn't be worrying about the academic stuff. I can manage my own education, and here's an opportunity to do new projects of all kinds."),i.createElement("p",{style:s.default.pStyle},"So I was in theater. I directed a play and got a prize for that. I was an actor. I had my own magazine. Here's the third issue of my magazine called Nothing. I'm terribly proud. So it was kite-shaped and you had to unfold it gradually in peculiar ways. And the illustration, by the way, was by a wonderful guy named Russ Ryan, but I designed the whole thing."),i.createElement("p",{style:s.default.pStyle},"I laid it out. The printer had no idea what we were doing. I showed him the mock-up, and I thought he understood. But we actually had to staple together the first copy. He had no idea what to do. And now I look at it, and I say, \"How in the hell did I plan on that?\" I have no idea, but I'm terribly proud of it still. It's elegant, and I was on the student council, and I campaigned for sexual freedom."),i.createElement("p",{style:s.default.pStyle},"Now, this was a time when women had to sign back into their dorms every night. The college administration knew where they were, and they had to be in at a certain time.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"Control the women and you\'ve got the whole thing settled. Of course the upperclass people, you know, they got around these rules."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," We really did have sex, but it was furtive and stupid. I was arguing with the Dean of Students about this on the Student Affairs Committee in my senior year. So then she called up the head of the biology department, and she said, \"We're going to get Ted Nelson. We're going to expel him.\""),i.createElement("p",{style:s.default.pStyle},'This was the second semester of my senior year. And Dr. Enders, the head of the biology department said, "No, you\'re not. The faculty will stand behind him." They were always my audience, because they were very sticky.'),i.createElement("p",{style:s.default.pStyle},"So the climax of all this was my senior year when I wanted to see if I could make movies. So, my roommate and I got a $700 grant from the student council to make a movie. $700 in those days would buy you one hour of black and white film stock development and a work print. That's it. No sound and 16 millimeter, of course. And so I said, okay, I'll shoot it silent and then we'll put the sound on later. That was called 'wild sound' in those days. So it was all planned."),i.createElement("p",{style:s.default.pStyle},"Tony was going to write it, and I was going to film. And then Tony died. So I said, oh that's the end of that. But at the end of that second semester, I thought, \"No, wait a minute. Tony would have wanted me to go on.\" I made the movie, and I made it up as I went along. So it's a half hour comedy about loneliness in college."),i.createElement("p",{style:s.default.pStyle},"I'm terribly proud of it. I consider myself a good filmmaker. But most people don't get it because A) it's badly synchronized, B) it's in black and white, and C) it's a melancholy satire that's slow-moving. So it's humorous, but it's a slow-moving satire, and that doesn't fit people's notions — so people don't get it."),i.createElement("p",{style:s.default.pStyle},"In any case, I consider myself a filmmaker. That was that — that was what I was going to do. However, I made the mistake of going to graduate school. And in graduate school, I took a computer course."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"And holy smoke, they lied! It's not a mathematical machine. It's not an engineering machine. It's an all-purpose machine, and you can put screens on it and the screens can interact.")),i.createElement("p",{style:s.default.pStyle},"Screens! I'm a movie maker! I know what to do. So it's my job to design the documents of the future, because if I don't do it, the techies will screw it up and that's exactly what has happened as far as I'm concerned.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"So since then, my life has been a campaign to create a different kind of document on interactive computer screens."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," For the first 20 years, I would tell people — I would say,"," ",i.createElement("b",null,"\"Look, soon we'll have interactive screens, and we'll be able to have documents on those screens, and they'll be able to jump from one to the other. And we'll show visible bands of connection between them, and you'll have automatic royalty and automatic backup, and it'll all be available online.\""))),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.ted.xanaduSchematicPng,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionStyle},"A panoramic view of postulated hypertext from Ted's 1965 paper on the subject.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:"),' The term “online” wasn\'t popular then. And people would look at me with a glazed expression. For the first 15 years, almost always they would say, "Is it like a tape?" And I was stymied. I should have just said, "Yeah, it\'s like a tape." But I found three people who actually heard and understood me in those days — three out of the hundreds I talked to.'),i.createElement("p",{style:s.default.pStyle},"Then came personal computing in the '70s, and I had a computer store. But the problem is that, you know, things got standardized."," ",i.createElement("b",null,"I wanted to start the personal computer industry, but no that was already done by a guy named Steve Jobs, and he did it his way but not my way.")),i.createElement("p",{style:s.default.pStyle},"The Macintosh paved the way for today's \"modern GUI\" — the way we manipulate things. That's how Steve interpreted what Xerox Parc had done. And once again, that's not what I would have done.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"So what we have now are documents which imitate paper — which to me, is stupid. You know, it\'s like putting an imitation horse on a car."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Because you've got something different. So to me, hypertext — by which I mean not just the World Wide Web with one-way jump links, but with visible connections between pages — this was going to be the document system of the future for all mankind as I hoped. And every standard makes it impossible to do that: Microsoft Word, text files, the World Wide Web, PDFs."),i.createElement("p",{style:s.default.pStyle},'All have basically only one column, and I say, "Why?" Well, because originally there was something called Project Bravo, which became Microsoft Word, and everybody was so hypnotized by fonts — which are fun — that they didn\'t realize that connection is much more important. Now, I love fonts. I designed a font in college. But to me, connection is more important than fonts.'),i.createElement("p",{style:s.default.pStyle},"I learned to write on a typewriter, okay? That's how you should learn to write, so that you can't put things into screwy italics and funny arrangements. Because then you learn to write as distinct from arrange visibly. This concept became the Xanadu Project, which became an ongoing project for years and years and years.")),i.createElement("div",{style:{position:"relative",paddingBottom:"72%",width:"100vw",height:0}},i.createElement("iframe",{src:"https://www.youtube.com/embed/En_2T7KH6RA?start=194&rel=0",frameBorder:"0",allowFullScreen:!0,style:{position:"absolute",width:"100%",height:"100%"}})),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," I called it Xanadu first in 1966 when I was assistant to the president of Harcourt Brace and Company, and I thought they were going to fund a project where I would have a computer with an actual interactive computer screen that we could experiment with. This was after we'd seen Engelbart — I'll talk about Engelbart in a minute. I didn't realize that in any big corporation, your enemy is the other department. There was already a department of computers that had IBM computers. So guess what? No way are they going to allow a non-IBM computer to be put into another department in that company, at least in the 1960s."),i.createElement("p",{style:s.default.pStyle},"Perhaps this is a good time to talk about Douglas Engelbart. So, I proceeded with my designs for computer documents from 1960 to my first publications in 1965. And after that — after my first my big presentation at the ACM (",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Association_for_Computing_Machinery",style:s.default.linkStyle},"Association for Computing Machinery")," ",") — a guy with a crew haircut came up to me and asked if I'd heard of Douglas Engelbart. The guy with the crewcut was Bob Taylor, who was Doug Engelbart's sponsor, giving him money from Washington.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"Doug Engelbart was an almost mystical visionary — the warmest and sweetest and kindest man I\'ve ever known, but also an engineer, also able to do work with deeply technical stuff and powered by an enormous ambition to fix the world."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," As he put it, we have more and more problems that are getting more and more tangled. We've got to be able to solve them at scale. Douglas Engelbart essentially single-handedly and single-mindedly carried out his vision at Stanford Research Institute — which was not part of Stanford University. For a number of years, his laboratory pioneered word processing, outline processing, multiple windows on a screen."),i.createElement("p",{style:s.default.pStyle},"It was a group that did so many things we take for granted today — all of which were radical, and which were not necessarily respected by the other departments. One thing someone had said: \"You don't think what they're doing in there is science, do you?\" But Doug was an incredible visionary, and he built this system, and the climax of it was in December '68 with the"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"http://www.dougengelbart.org/content/view/209/448//",style:s.default.linkStyle},"Great Demo"),"."),i.createElement("p",{style:s.default.pStyle},"Doug's Great Demo was in December in 1968, so the 50th anniversary is coming up this year. Everything worked. They were running it on a small computer by today's standards — less computer than you have in your wrist watch. And yet, time sharing I think — I was told the maximum number that they could do was seven maybe four users at a time. But they showed all these things on the screen, and Doug was on his microphone from San Francisco directing the whole affair, which was being transmitted via truck up on the highway that could see both Stanford and San Francisco. And the projector they used at the Demo was an Eidophor projector — one of these insane things that had a metal surface covered with oil and an electron beam wrote the picture on this oil, which was then reflected by a bright light through the projector. Then a windshield wiper would restore the oil for the next frame. That was just how the audience saw it. So this incredible chain of implausible structures worked perfectly on that day."),i.createElement("p",{style:s.default.pStyle},"And that was the height of Doug Engelbart's career. Because after that, he lost his funding, he lost his laboratory, and for the next 40 years, he was in the wilderness writing specs — and trying to get back again. His backer Bob Taylor betrayed him and hired away his best people for Xerox Parc. So Doug felt betrayed by the people who left him, and an AI guy named"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Bertram_Raphael",style:s.default.linkStyle},"Bertram Rafael")," ","convinced Doug's boss that he deserved Doug's office instead."),i.createElement("p",{style:s.default.pStyle},"So Doug lost his office, and eventually they sold the project to"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/McDonnell_Douglas",style:s.default.linkStyle},"McDonnell Douglas"),", an aircraft company that didn't know what to do with it. What it needed was much more product development to make it something real, and nobody had the vision to go ahead with it except Doug — and he was essentially left in the dirt."),i.createElement("p",{style:s.default.pStyle},"In '65, when I gave my big ACM talk, Taylor comes up to me asking if I've heard of Doug — and I hadn't. But in '66, when I was working for the publishing company, Harcourt Brace, I went out there with the president of Harcourt, Billy Jovanovich, and we visited Doug's laboratory. This was two years before his Great Demo, and we saw the mouse and word processor and all this wonderful stuff he'd done. And it was great, and Doug was obviously a wonderful man, and we were very friendly. He kind of half offered me a programming job, but I wanted to do it my way. Doug's system was hierarchical, and I'm anti-hierarchical. But I loved him as a person."),i.createElement("p",{style:s.default.pStyle},"And so I flew back with Jovanovich thinking on this, and Jovanovich was budgeting my system — then to be called Xanadu — at $50,000 for the first year, which would have bought the equivalent of a tiny PC today. And as I said, that was killed by a rival department. So that was essentially the first part of it."),i.createElement("p",{style:s.default.pStyle},"My friendship with Doug Engelbart resumed much later. We became very close in his later days, and he actually carried out the marriage ceremony when I married Marlene.")),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.ted.tedIa24Jpg,style:s.default.getFigureImgStyle()}),i.createElement("img",{style:s.default.getFigureImgStyle(),src:d.default.front.toolsAndCraft.ted.tedIa26Jpg}),i.createElement("caption",{style:s.default.figureCaptionStyle},"Scenes from Ted's stomping grounds at the Archive.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," So earlier, you talked about how Vannevar Bush's piece inspired you about connections between writing. Can you expand on that a little bit and describe how it influenced your later work?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," No idea. All I know is that there was this article about how researchers of the future — now, this came out in '45 when I was eight years old — about how researchers of the future could make connections between pieces of writing like frames of microfilm. And Bush talked about trails. And a trail — he never defined it — but it was a series of connected pieces. And he also talked about side trails. Again, we can only speculate as to what he meant."),i.createElement("p",{style:s.default.pStyle},"This has inspired many people. It inspired Doug Engelbart, who was on a Pacific island reading it in a library in the Philippines. It probably inspired me, though many things have inspired me. But I do remember reading it — I think — I was eight."),i.createElement("p",{style:s.default.pStyle},'So hey. I\'ve been fascinated by the number of different ways people have interpreted Bush\'s piece. Several people have shown me things saying, "Here, this is a memex." "No, this is a memex." And it\'s always different.')),i.createElement("div",{style:s.default.getQuoteStyle()},'"Wherever there are ideas, there are variations. And then there\'s the true idea of the founder. Once the founder is dead, who knows what it is."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:"),' But someone\'s always going to say, "I\'m carrying on the true idea of the founder. My own system is additive." My own system, Xanadu, has more interpretations than stars in the sky. People keep saying, "I know how to implement your Xanadu system now with blockchain, with anonymity, with physical location."'),i.createElement("p",{style:s.default.pStyle},"I get these strange emails. I have them answered by an assistant so I don't get irritated. But there are all these different interpretations."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"So how should writings be connected? My idea — my simplification of it — is parallel pages with visible connections.")),i.createElement("p",{style:s.default.pStyle},"There are many other ways you could connect ideas, many other forms of writing. I've chosen this particular simplification because I think it's elegant. It's simple. It's instantly understandable, and it's extensible. Someday, I hope that the elegance of the design will be recognized because elegance in design is one of the things I believe in. But I'm just pounding on trying to make people understand it, and trying very hard still to get it implemented in a deployable form.")),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.ted.tedIa9Jpg,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionLeftStyle},"Ted is known for constantly documenting his life, and often shows up to meetings equipped with tape recorders, notebooks, pens, and his digital camera.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," Earlier, you used the word hypertext, which is a term that you coined. How does hypertext tie into Xanadu, the system that you've thought up, and how is it different than the way people usually conceive of the word today?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Well, I came up with the word hypertext in '63, I think. It would be on a dated file card, and someone someday will find out. But I published it in '65 in several papers. In the summer of '65, I published three or five papers. Hypertext was in those papers.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"My definition [of hypertext] at that time was: non-sequential text with free user movements."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Now what that meant was — right at that time — there was something called computer-assisted instruction, and a lot of people were hot on the trail of computer-assisted instruction. This was going to be what would rescue education because now the computer would tell you something, then it would test you, then it would tell you something else, then test you again. And it would give you this talent test, but you would have no free movement."),i.createElement("p",{style:s.default.pStyle},"So in my definition of hypertext, I defined it as having free movement because I was really annoyed by the computer-assisted instruction concept. Not that there was something wrong with it. I used it myself profitably on one occasion when I had to cram statistics for my master's degree — or what would have been my PhD. I used the teaching machine, which was talent-test-talent-test. For someone with math anxiety like me, that was great. But for reading writing on the screen, I wanted something much more free."," ",i.createElement("b",null,"So that was why freedom was in the definition"),". However, in my original drawings, you'll see the picture where I show visible connections on the screen. That could have been as late as '71. But in any case, that was part of my fundamental idea I think from the beginning."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," One of the really interesting implications that I've noticed about your work is what it means for ownership of ideas — intellectual property, copyright, and so on. What are your thoughts around that? And how does your version of hypertext solve that problem?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," My version had a complete copyright system, which is being universally ignored. People think of Creative Commons, like oh, that's the solution because now we give permission for everybody to use things."," ",i.createElement("b",null,"Creative Commons is just a way that people can give up the hope of being paid in a polite and elegant form."))),i.createElement("div",{style:s.default.getQuoteStyle()},'"I wanted to create a system of commerce that would create viable ways for people to be paid with a sensible and completely fair method."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," So in a Xanadu document, you don't deliver a packaged lump — you deliver a list of portions to bring in and how to put them together."),i.createElement("p",{style:s.default.pStyle},"Creative Commons says, \"I hereby give permission to use my stuff in somebody else's package lump.\" But we're not talking about packaged lumps. We're talking about someone creating a document using a piece from here, using a piece from there, using a piece from there — and that piece can have a pay wall."),i.createElement("p",{style:s.default.pStyle},"So the micro pay walls we plan, it would say, \"Here's a list of pieces to bring in. Now bring in this piece, which happens to be a paid piece.\" Because the person who's compiling this document doesn't have to pay. He or she has already seen it, but we're now including it in the list."),i.createElement("p",{style:s.default.pStyle},"The user, upon fulfilling these portions, has the choice of paying for that piece or not getting it. So that piece is bought by that character. This seems to be extremely fair. Anyone is free to include anything from anywhere without negotiation. Anyone is free to buy it or not buy it if it's on the"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"http://xanadu.com/xuEDL.html",style:s.default.linkStyle},"edit decision list")," ",'which brings in the document. And so the permission doctrine for this is called trans copyright, meaning: "I hereby give permission for this content to be used in any new context provided its bought from my server" — which could imply the micro-pay wall.')),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.ted.tedIa14Jpg,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionLeftStyle},"The Internet Archive's famed"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Wayback_Machine",style:s.default.linkStyle},"Wayback Machine"),", launched in 2001 to save versions of the World Wide Web throughout time, even as pages are changed or shut down.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," Right. So there's this idea of one canonical version of that — of the idea, of the work, of the text, of the image — whatever."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," There's no canonical version of an idea."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," — of the manifestation of an idea."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," I say document."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," Whereas these days, we make copies of everything. Some of the things you did to implement these systems — how did they handle that type of thing?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," I had a very clear idea of approximately what I wanted, and I got together a group of extremely brilliant guys in the summer of 1979 — and they came up with the system we now call Xanadu Classic, which is available open source. It's not quite finished. There are a few things that have to be fixed. But it works."),i.createElement("p",{style:s.default.pStyle},"It's a combination of a document management system and an operating system — meaning that it manages a federation of similar discs containing source content and links. We have no embedded markup. All markup is done by what we call links. So, a document is delivered as a list of pointers to the content and pointers to the links — all of which are assembled in the use of the machine."),i.createElement("p",{style:s.default.pStyle},"That server software is available and has worked."," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://archive.org/details/ClassicXanaduWithPYXI",style:s.default.linkStyle},"You can download that instantiation at the Internet Archive"),", which you can play with. It's called Xanadu Classic or Xanadu Green. In the presentation that's on the archive, we see visible connections between the first and last draft of the Declaration of Independence as written by Thomas Jefferson."),i.createElement("p",{style:s.default.pStyle},"Jefferson's last draft, which was signed as the Declaration of Independence, was different from his first draft, and those differences are shown by the Xanadu document method.")),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.ted.declarationGif,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionStyle},"Xanadu Green showing first and last drafts of the Declaration of Independence.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," What were some of the differences?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," He took out some phrases and put some in. I think 'pursuit of happiness' was in the final draft but not in the previous. And his long list of grievances was I think varied and, well, I don't remember. But it's interesting because in the in the presentation, you can see gray on the left for the parts that were omitted and gray on the right for the parts that were new."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," One of the terms that you came up with was"," ",i.createElement("b",null,"transclusion")," — and you touched on this a little bit before — where you could include links from other documents —"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," — parts of other documents."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," Can you expand on that a bit?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Sure. Well, the term has become common, but it means something a little different to me.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"Transclusion means that part of one thing is included in another and brought from the original."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Something like iframes for example is transclusion. Video from YouTube is embedded in another document — that's transclusion. But in the Xanadu method, the transcluded portion has a path back to the original, which you can follow so you can see its original context. That was always part of the Xanadu idea, and is still part of the instantiation I'm working on now.")),i.createElement("div",{style:s.default.figureGroupStyle},i.createElement("figure",{style:s.default.getFigureInGroupStyle()},i.createElement("img",{style:s.default.getFigureImgStyle(),src:d.default.front.toolsAndCraft.ted.tedIa22Jpg}),i.createElement("caption",{style:s.default.figureCaptionStyle},"Entrance to the Archive.")),i.createElement("figure",{style:s.default.getFigureInGroupStyle()},i.createElement("img",{style:s.default.getFigureImgStyle(),src:d.default.front.toolsAndCraft.ted.tedIa20Jpg}),i.createElement("caption",{style:s.default.figureCaptionStyle},"The Archive also collects old recording devices."))),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," So the bilateral link is the critical difference between what we have at the moment and —"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," There are links and there are transclusions — it's a different method. A link is a specific object separate from the content. A transclusion is simply following the path from a part to its original context."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," Got it."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," So it doesn't require a link. It's just: \"Here's the transcluded part, and the edit decision list says where it comes from.\" The edit decision list can show you where it is on the original."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," That's a useful distinction. If we had had these bilateral transclusions and links that would let people go back and forth and see the common source — and see where something is pointing to — how would the web today be different?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," I don't want to talk about the web today. I hate it. I mean the point is, if we'd had this in place before the web — and we should have had it a year before — the web would of had some success, but we would have had a position for deeper scholarship."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," What has your process been for communicating the ideas of Xanadu to the world?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Talk and talk and talk and talk. And you know, I've written — I don't know how many papers I've published. I don't know how many talks I've given. But what people hear is much less than you say. And I've found out later how little people hear."),i.createElement("p",{style:s.default.pStyle},"Now, Doug had this problem. Doug Engelbart had this problem but even worse because he would begin talking and then he would introduce a new term, and then he would start using it, and so by the fourth paragraph, he was combining terms that were new to you in ways you can't imagine."),i.createElement("p",{style:s.default.pStyle},"Whereas I was trying to explain what — to me — were very simple concepts. But they were so unfamiliar that nobody got them. Even"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Tim_Berners-Lee",style:s.default.linkStyle},"Tim Berners-Lee")," ","didn't understand it."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," What part of it did he miss?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Visible connection. We argued as recently as 1997 about micropayment."),i.createElement("p",{style:s.default.pStyle},'I was saying micropayment was necessary, and he would say, "No, no, no." Now he\'s come around, but no, he just did a different system. But see, the hypertext concept was last simplified in a project of Brown University, which I refer to as the Dark Brown Project. A person I thought was my friend was a professor at Brown and he invited me — no pay — to come up to Brown University and help work on it.'),i.createElement("p",{style:s.default.pStyle},"So, at great personal cost both in time and money, I went and helped, and it got so dumbed down, we lost transclusion and lost two-way links. But I was not a quitter, and I should have quit at the very beginning when he started insulting me. That's a black mark in my memory, and the concept of hypertext got reduced to one-way links and embedded markup."),i.createElement("p",{style:s.default.pStyle},"That's essentially where it all went wrong. And Tim Berners-Lee's system, which was like the sixth hypertext system on the Internet — people think it was the first — simply glorified that. By the way, he didn't need to do HTML. He didn't need to do HTTP."),i.createElement("p",{style:s.default.pStyle},'The best thing that Tim did was to create the URL, because before he started, every drive from every operating system had a different way of addressing. So, if you wanted to get a file from the Internet, you had to know its address and know the operating system it was under and the addressing system it was under in order to reach that file. So the URL changed all that, giving every operating system an overlay addressing scheme so that a space became %20. That was how Tim worked out to unify the address space of the Net. That to me is his greatest achievement, and the rest would have followed if he\'d done that. I mentioned this to him just last week, and he said, "On yeah, you get it."')),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.ted.tedIa12Jpg,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionStyle},"A zip drive on a zip line in the Great Room of the Internet Archive.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," But of course we still have broken links these days, too — in part because of the lack of the bi-directional link."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Well, also I've been told here at the Internet Archive that the average lifetime of a web page is 100 days before it changes or disappears."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," How do they measure that?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," They crawl the web constantly looking for changes. And they have billions of web pages stored."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," In the Xanadu system, how would these changes be different?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Well, look, I'm not trying to promote Xanadu as an alternative to the web anymore. I'm trying to promote it as a literary system."),i.createElement("p",{style:s.default.pStyle},"I'm trying to build it as a literary system that people can use for making parallel pages with visible connections, and we have to unfortunately use parts of web technology for that. That way, people don't have to install an application, but I don't want to talk about this relation to the web. I want to just talk about parallel pages with visible connection. And that's what the system is about."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," Sure. How would you like to see it be adopted?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," By the smartest people first."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," How are you going about finding those folks?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," I'm not looking for them. I'm trying to get a minimal viable product."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," What's your process for building this minimum viable product?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Well, it's first thinking about what people can use with the least difficulty — that is the least difficult to program. So then I talk to my programmers and we work out the exact specs. There's a ladder of specs: first this, and first that, etc."),i.createElement("p",{style:s.default.pStyle},"So, the first one I'm trying to build will just be a comment, but with two pages visibly connected. And the second bit will be several pages visibly connected. A nice example is Vladimir Nabokov's novel ",i.createElement("i",null,"Pale Fire"),", which is a long poem by the fictitious author John Shade, connected to a large number of idiotic footnotes by the fictitious academic Charles Kinbote."),i.createElement("p",{style:s.default.pStyle},"Ironically, back in the days of the Dark Brown Project, I actually got permission from the publishers of ",i.createElement("i",null,"Pale Fire")," to demonstrate it on the Brown system. So now I hope to demonstrate it on the new Xanadu."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," What do you see as the future of micropayments?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," I have no idea, but now there are so many competing systems and so many enthusiastic projects that are incompatible. So there will be many, many things. And as usual, the big guys will win. So Google or Microsoft or somebody will have a micro payment system for who knows what — probably for individual pages as distinct from the portionality of the transcluded and quoted material that we were hoping for.")),i.createElement("div",{style:s.default.getQuoteStyle()},"\"I'm very unhappy about the web but now we're stuck with it.\""),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.ted.tedIa15Jpg,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionLeftStyle},"In the Archive's Great Room sit rows of miniatures, each representing a famous computing pioneer.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," Is it something you plan to incorporate into the Xanadu system that you're building right now?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," I can't even think that far ahead."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," Your ideas around Xanadu have gone through a lot of different paradigms, and you've communicated in many different ways and different media. How have you thought about that process? And is there anything that you would have done differently in communicating it?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Oh my, yes. Oh, I have so many things I would have done differently. Yes. I was offered backing by Victor General around 1971, and I thought I'm not ready. What a stupid idea that was."),i.createElement("p",{style:s.default.pStyle},"Unfortunately, I came out of college with a combative attitude. I was ready for any debate on any subject. And only recently have I become acquainted with a book I should have read long ago called"," ",i.createElement("i",null,"How to Win Friends and Influence People"),", which essentially tells you that people need to make an idea their own to adopt it."),i.createElement("p",{style:s.default.pStyle},"And if you emphasize that it's your idea and that there's already going to be a pay wall — so many things about how I presented it were unsatisfactory.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"The only reason the idea is still alive is by the strange fact that I\'m still alive. It would be long dead otherwise, but you know, I have to do it."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," I noticed in reading a lot of your writing in preparation for this that there's a lot of emphasis on copyright and the fact that these ideas were something that you wanted to commercialize. What role did your own intellectual property play in your development of these ideas?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Let's sort this out. First of all, a number of techies at the beginning thought that copyright would end once computers made it easy to copy things. It was absolutely clear to me that it would not, and that copyright had to be a fundamental of any electronic publishing system that had to respect the author's rights. So that was always part of the Xanadu project. Now, in trying to commercialize, yes, I was trying to make money as many people were, and that's always been legitimate, and trademark was emphasized."),i.createElement("p",{style:s.default.pStyle},"I had a good friend who emphasized that hey, trademark is almost free and is a good way of distinguishing your stuff. So those are two entirely separate topics here. I supported copyright because it was necessary and part of the publishing world. And I trademark things and tried to go commercial because that was how things were done."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," So for people who are coming up with visionary new ways to rethink knowledge, to rethink the way we use technology, what advice would you give people as they develop those ideas?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," ",i.createElement("b",null,"Hang in. And don't become locked to some specific method too soon.")," ","And remember that things keep changing. So, if you're successful, the environment in which you become successful will be different from the environment you're starting in.")),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.ted.tedIa16Jpg,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionStyle},"An art piece in the Great Room of the Internet Archive.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," Can you give some examples from your own experience?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Well, when I first met Bill Gates in 1972, I guess it was, he was working for"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Micro_Instrumentation_and_Telemetry_Systems",style:s.default.linkStyle},"Micro Instrumentation and Telemetry Systems")," ","in Albuquerque, New Mexico. But he had managed to put in the contract that he was keeping the copyright to his version of BASIC that they were selling. And so he gradually snowballed this. He was a visionary in the following sense: He knew personal computing was coming, and he built BASIC at Harvard."),i.createElement("p",{style:s.default.pStyle},"He and his pal copied the digital equipment version of BASIC on stolen time at Harvard for six months or something, so they would have a version of BASIC when personal computing arrived — and that was very visionary of them. And then how he was able to maneuver around all the things that happened was quite something."),i.createElement("p",{style:s.default.pStyle},"So, the question I think you asked was: How do you sustain and maintain something through a changing environment? Watching Microsoft climb out of Micro Instrumentation and Telemetry Systems into the behemoth that it became is an interesting example."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," What did it feel like to think of and see these ideas coming up before they existed? Because there's so much that we take for granted today about how the web, how computers, and how all of this technology works. So what was it like to be there?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Well, first of all, I was on my own for five years. But I joined the ACM. I read computer journals. I read computer magazines. So I was deep in the thinking of those people to whom computers were corporate devices that lived in their department. And I was looking at all the methods developed by various researchers."),i.createElement("p",{style:s.default.pStyle},"For example, one researcher I admired very much was"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Ken_Knowlton",style:s.default.linkStyle},"Ken Knowlton"),". He and I became very good friends. He was at Bell Labs. He worked out a graph. He was the first person to fill the screen with pixels, and that screen was on the"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Stromberg-Carlson",style:s.default.linkStyle},"Stromberg Carlson 4020"),", which had 16mm film and was able to put a dot in each position."),i.createElement("p",{style:s.default.pStyle},"But to put a dot in each position would have taken too long, so Ken made pictures that would have different levels of brightness, with which he would make a bigger picture. So from a distance, you would see the bigger picture rather than seeing that it was made of little tanks and airplanes. I think there's a famous nude that is made of little tanks and airplanes that was somehow pulled off that system.")),i.createElement("div",{style:s.default.getQuoteStyle()},'"I was aware of many things that were going on, but I was sure there would be personal computing — that we would all have interactive screens — and I didn\'t know anyone else who thought that."'),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," The company that made the first little computers,"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Digital_Equipment_Corporation",style:s.default.linkStyle},"Digital Equipment Corporation"),", was headed by a visionary, Ken Olsen, who built little computers for scientific companies. And when personal computing came along, he didn't get it. He put out a personal computer that was wonderful for $12,000 when everybody else was under $1,000."),i.createElement("p",{style:s.default.pStyle},"He thought, \"Oh, the engineers want the best!\" and if it's only for engineers — he didn't get it. So, the Digital Equipment Corporation went under, and they had been the pioneers in computer graphics and in small machines. Dancing through this world, and seeing how these other people thought, and trying to push forward my visualization of electronic documents was a complicated parallel process of giving speeches, of writing things."),i.createElement("p",{style:s.default.pStyle},"I never got paid for this, you see, so I was constantly in fringe jobs, and I had no backing. My one big chance was Harcourt, and the IBM department killed me. And so after that it was one job after another — one fringe job after another. I taught sociology at Vassar for two years because no one would pay me for what I had to do. I had to do it. It was my manifest destiny — it was my obligation. And the fact that I didn't succeed, well?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," Around this time, what were some of the books or articles or movies that you read or watched that influenced you the most?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," No. There was one guy named Ivan Sutherland who built a system called"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Sketchpad",style:s.default.linkStyle},"Sketchpad"),". Well, as I mentioned with Ken Knowlton, I admire the elegance of his stuff and Sketchpad — which was a highly efficient system for drawing and sketching on screens. That was done at MIT in '65 or '64. I visited MIT, and so I got a chance to use these things. I got a chance to use a system at"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://en.wikipedia.org/wiki/Mitre_Corporation",style:s.default.linkStyle},"MITRE Corporation")," ","called — I don't remember — but a fellow named Don Walker showed it to me.")),i.createElement("div",{style:s.default.getQuoteStyle()},"\"It was the first time I'd actually used a light pen. And I wept, but only out of the eye he couldn't see. Because it was exactly how I knew it was going to be.\""),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.ted.tedIa13Jpg,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionStyle},"Filming in the Great Room of the old church that's home to the Internet Archive.")),i.createElement("div",{style:s.default.pGroupStyle},i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," Then there was the stage of trying to make money starting a computer score store in Chicago, which was briefly successful but my partners were idiots, and nobody was minding the store, and computer stores went under."),i.createElement("p",{style:s.default.pStyle},"And so it's been — you know — dancing on rainbows."),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"DEVON:")," How did you develop these ideas on your own?"),i.createElement("p",{style:s.default.pStyle},i.createElement("b",null,"TED:")," I think in writing and making notes and making sketches. It's been very lonely. But I've been absolutely sure of what I've been doing all the time."),i.createElement("p",{style:s.default.pStyle},"If one of the main definitions of paranoia is believing what nobody else believes, one cure is for the patient to change his mind and believe what the rest of the world believes. That is the low road. The other — by which I hope to cure myself — is to persuade everybody else.")),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.ted.tedIv1Jpg,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionLeftStyle},"An old copy of Computer Lib/Dream Machines by Ted Nelson (1974). You can get a new copy"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://computerlibbook.com/",style:s.default.linkStyle},"here"),".")),i.createElement("div",{style:s.default.getQuoteStyle()},'"And then I will no longer be paranoid, but rather recognized as having been right all along."'),i.createElement("figure",{style:s.default.getFigureStyle()},i.createElement("img",{src:d.default.front.toolsAndCraft.ted.tedIa6Jpg,style:s.default.getFigureImgStyle()}),i.createElement("caption",{style:s.default.figureCaptionStyle},"Ted Nelson.")),i.createElement("div",{style:a({},s.default.pGroupStyle,{color:c.default.FrontBaseGrayTextColor,paddingBottom:48,borderBottom:"1px solid "+c.default.uiLightBorder})},"To learn more about Ted and the early days of computing, you can buy a copy of his"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"https://computerlibbook.com/",style:s.default.linkStyle},"Computer Lib/Dream Machines"),".",i.createElement("div",{style:{marginTop:24}},i.createElement(u.default,{inline:!0,href:p.toolsAndCraft,style:s.default.headerActionLinkStyle},"← View other Tools & Crafts episodes")))))},t}(l.default);t.default=f},Erf6:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},EsXS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var c,d=r("q1tI"),p=r("t+pW"),f=r("njgS"),h=r("CSYU"),m=r("y6Dp"),y=r("IdSf"),g=r("2Y+N"),v=r("ZiMm"),b=r("bjn0"),w=r("wpmu"),S=r("Wvka"),_=r("A9TN"),k=r("OxuQ"),C=r("IdIf"),E=r("yNyh"),P=r("Z1H8"),x=r("Pl3d"),T=r("4HCU"),O=r("r8oj"),M=r("H4VD"),I=r("mF3+"),A=r("SR/M"),D=r("RQ1t"),L=r("gbGO"),R=r("Oy36"),B=r("xqms"),j=r("vl6i"),V=r("g90h"),F=r("wXH4"),N=r("dXb3"),U=r("nFzZ"),W=r("QcDD"),z=r("w5u6"),H=r("Sb6f"),q=r("qqdV"),G=r("7KuZ");!function(e){e[e.SelectedPage=0]="SelectedPage",e[e.SearchPage=1]="SearchPage",e[e.NewPage=2]="NewPage"}(c=t.RelationResultType||(t.RelationResultType={}));var Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSearchInputChange=function(e){var r=e.target.value;t.stores.store.setState({searchQuery:r,searchPopupOpen:!!r,searchLimit:v.default.limitIncrement})},t.handleDesktopSearchInputClick=function(){var e=t.stores.store.state;t.stores.store.setState({searchQuery:e.searchQuery,searchPopupOpen:!0,searchLimit:v.default.limitIncrement})},t.handleInputKeyDown=function(e){"Escape"===e.key&&t.resetInputState()},t.handleSearchClearButtonClick=function(){t.resetInputState()},t.handleDesktopTargetCollectionClick=function(){m.trackRelationDatabaseClick({from:t.props.analyticsFrom})},t.handleMobileTargetCollectionClick=function(){var e=t.getRenderState();e&&(M.navigate({url:e.targetParentUrl}),m.trackRelationDatabaseClick({from:t.props.analyticsFrom}))},t.handleMobileSearchInputClick=function(){var e=t.stores.store.state;t.stores.store.setState({searchQuery:e.searchQuery,searchPopupOpen:!0,searchLimit:v.default.limitIncrement})},t.handleValueRelationPropertyMenuResultsAccept=function(e,r){var n=W.default.state.currentBlockStore;if(n&&e.type===c.SelectedPage){var o=S.default({pageId:n.id,pageValue:n.getValue(),baseUrl:_.default.baseURL,peekViewBlockId:e.pageId});M.navigate({url:o,metaClick:r}),m.trackRelationPeekBlock({from:t.props.analyticsFrom})}},t.handleSearchRelationPropertyMenuResultsAccept=function(e){if(!t.props.disabled){var r=t.props,n=r.value,o=r.onChange;if(W.default.state.currentBlockStore)if(e.type===c.SearchPage)o({value:i=u(n,[e.pageId])}),t.resetInputState(),m.trackRelationAddBlock({from:t.props.analyticsFrom});else if(e.type===c.NewPage){var a=V.default(),i=u(n,[a]);o({newPageId:a,newPageName:e.name,value:i}),t.resetInputState(),m.trackRelationCreateBlock({from:t.props.analyticsFrom})}}},t.handleClickActionButton=function(e){var r=t.props,n=r.value,o=r.onChange;if(W.default.state.currentBlockStore)if(e.type===c.SearchPage)o({value:u(n,[e.pageId])}),m.trackRelationAddBlock({from:t.props.analyticsFrom});else if(e.type===c.SelectedPage){o({value:n.filter(function(t){return t!==e.pageId})}),m.trackRelationRemoveBlock({from:t.props.analyticsFrom})}},t.handleRelationPropertyMenuResultsDrag=function(e){t.props.onChange({value:e}),m.trackRelationReorder({from:t.props.analyticsFrom})},t.handleMobileSearchMenuClickRight=function(){t.resetInputState()},t.handleSearchScrollOffsetChange=function(e){var r=t.stores,n=r.store,o=r.requestStore.state,i=o.loading,l=o.result;e<v.default.incrementScrollOffset&&l&&!i&&l.length>=n.state.searchLimit&&n.setState(a({},n.state,{searchLimit:n.state.searchLimit+v.default.limitIncrement}))},t.performSearchRequest=function(e){return i(t,void 0,void 0,function(){var t,r,n,o,a,i,s,u,d;return l(this,function(l){switch(l.label){case 0:return t=this.props,r=t.value,n=t.disabled,(o=this.getRenderState())?(a=W.default.state.currentSpaceStore)?(i=o.targetCollectionValue,[4,T.searchPagesWithParent({query:e.query,parentId:i.id,limit:e.limit,spaceId:a.id})]):[2,[]]:[2,[]];case 1:return s=l.sent().results,u=s.map(function(e){return r.includes(e)?{key:e,type:c.SelectedPage,pageId:e}:{key:e,type:c.SearchPage,pageId:e}}),e&&!n&&(d={key:e.query,type:c.NewPage,name:e.query},u.push(d)),[2,u]}})})},t}return o(t,e),t.prototype.didMount=function(){var t=this;e.prototype.didMount.call(this),z.default.afterNextFlush(function(){z.default.afterNextFlush(function(){var e=t.getRenderState();e&&(0===t.getValueResults(e).length&&t.stores.store.setState({searchPopupOpen:!0,searchQuery:"",searchLimit:v.default.limitIncrement}))})})},t.prototype.renderComponent=function(){var e=this,t=this.getRenderState();if(t)return d.createElement(P.default,{capture:!0,allowMenuList:!0,allowEsc:!0,allowUndo:!0,allowTabUntab:!0,render:function(){return O.default.isMobile?e.renderMobileMenu(t):e.renderDesktopMenu(t)}})},t.prototype.renderDesktopMenu=function(e){var r=this,n=this.stores.store.state,o=n.searchQuery,i=n.searchPopupOpen,l=this.props,s=l.property,u=l.schema,c=l.parentStore,p=l.blockPropertyValueOverlayStore,f=l.disabled,h=e.targetParentUrl,m=e.showProperties,g=e.targetCollectionStore,v=this.getValueResults(e);return d.createElement(L.default,{menuType:L.default.MenuType.Popup},d.createElement(F.Popup,{popupType:F.PopupType.Popup,open:i,disableMouseCapture:!0,style:{width:t.width+40,overflow:"hidden",maxHeight:"70vh"},origin:d.createElement("div",{style:this.getHeaderWrapStyle()},d.createElement(E.default,{style:t.searchInputStyle,value:o,placeholder:t.inputPlaceholder,forceShowClearButton:Boolean(o||i),focus:!0,onChange:this.handleSearchInputChange,onClearButtonClick:this.handleSearchClearButtonClick,onClick:this.handleDesktopSearchInputClick,onKeyDown:this.handleInputKeyDown,format:E.InputFormat.Transparent}),d.createElement("div",{style:t.targetDatabaseWrapStyle},d.createElement("span",{style:{color:this.theme.mediumTextColor}},"In"),d.createElement(y.default,{href:h,style:{marginLeft:t.recordTitleMargin},innerStyle:{display:"flex"},onClick:this.handleDesktopTargetCollectionClick},d.createElement(R.default,{disabled:!0,icon:g.getIcon(),isEmptyPage:!1,size:20}),d.createElement(k.default,{store:g,underline:!0,style:a({},this.getDesktopRecordTitleStyle(),{marginLeft:t.recordTitleMargin*(O.default.isRetina?.5:1)})})))),render:function(){return r.renderSearchResults(e)}}),d.createElement(j.default,{targetCollectionStore:g,showProperties:m,results:v,property:s,schema:u,parentStore:c,disabled:f,loading:!1,canDrag:!f&&!O.default.isMobile,blockPropertyValueOverlayStore:p,onAccept:this.handleValueRelationPropertyMenuResultsAccept,onClickActionButton:this.handleClickActionButton,onDrag:this.handleRelationPropertyMenuResultsDrag,shouldShowHelpButton:!0}))},t.prototype.renderMobileMenu=function(e){var r=this,n=this.stores.store.state.searchPopupOpen,o=this.props,a=o.property,i=o.schema,l=o.parentStore,s=o.blockPropertyValueOverlayStore,u=o.disabled,c=o.onDismiss,p=e.showProperties,f=e.targetCollectionStore,h=this.getValueResults(e);return d.createElement(L.default,{menuType:L.default.MenuType.Modal,title:e.propertySchema.name,right:"Done",onClickRight:c},d.createElement(g.default,{disableMobilePadding:!0},d.createElement(A.default,{focused:!1,title:d.createElement("div",{style:{display:"flex"}},"In",d.createElement("div",{style:{display:"flex",marginLeft:2*t.recordTitleMargin}},d.createElement(R.default,{disabled:!0,icon:f.getIcon(),isEmptyPage:!1,size:20}),d.createElement(k.default,{store:f,underline:!0,style:{marginLeft:t.recordTitleMargin}}))),showExtensionArrow:!1,onClick:this.handleMobileTargetCollectionClick})),d.createElement(g.default,{topBorder:!0,disableMobilePadding:!1},d.createElement(F.Popup,{popupType:F.PopupType.SlideUp,open:n,origin:d.createElement(A.default,{focused:!1,title:d.createElement("span",{style:{display:"flex",alignItems:"center"}},I.default.plus({marginRight:8,width:O.default.isMobile?16:14,height:O.default.isMobile?16:14}),"Add a Page"),onClick:this.handleMobileSearchInputClick,style:{color:this.theme.mediumTextColor}}),render:function(){return r.renderSearchResults(e)}})),d.createElement(j.default,{targetCollectionStore:f,showProperties:p,results:h,property:a,schema:i,parentStore:l,disabled:u,loading:!1,canDrag:!u&&!O.default.isMobile,blockPropertyValueOverlayStore:s,onAccept:this.handleValueRelationPropertyMenuResultsAccept,onClickActionButton:this.handleClickActionButton,onDrag:this.handleRelationPropertyMenuResultsDrag,shouldShowHelpButton:!0}))},t.prototype.renderSearchResults=function(e){var r=this,n=this.props,o=n.value,i=n.property,l=n.schema,s=n.parentStore,u=n.blockPropertyValueOverlayStore,p=n.disabled,f=this.stores.requestStore,h=e.showProperties,m=e.targetCollectionStore,y=this.stores.store.state,g=y.searchQuery,v=y.searchLimit,b={request:{query:g,limit:v},debounce:T.defaultSearchDebounce,performRequest:this.performSearchRequest,render:function(e,n){var f=!n,y=(n||[]).map(function(e){return e.type===c.SearchPage&&o.includes(e.pageId)?{type:c.SelectedPage,key:e.key,pageId:e.pageId}:e.type!==c.SelectedPage||o.includes(e.pageId)?e:{type:c.SearchPage,key:e.key,pageId:e.pageId}}),v=d.createElement(j.default,{targetCollectionStore:m,showProperties:h,results:y,property:i,schema:l,parentStore:s,disabled:p,loading:f,canDrag:!1,blockPropertyValueOverlayStore:u,onAccept:r.handleSearchRelationPropertyMenuResultsAccept,onClickActionButton:r.handleClickActionButton,onDrag:r.handleRelationPropertyMenuResultsDrag,shouldShowHelpButton:!1,onScrollOffsetChange:r.handleSearchScrollOffsetChange});return O.default.isMobile?d.createElement(L.default,{menuType:L.default.MenuType.Modal,title:"Relation",left:r.renderMobileHelpButton(),right:"Done",header:d.createElement(N.default,{value:g,disabled:p,onChange:r.handleSearchInputChange,placeholder:t.inputPlaceholder,showClearButton:!0,focus:!O.default.isMobile||void 0,focusInitial:!0,style:a({},O.default.isAndroid&&{borderBottom:"none"})}),onClickRight:r.handleMobileSearchMenuClickRight},v):v}};return d.createElement(x.default,a({},b,{requestStore:f}))},t.prototype.renderMobileHelpButton=function(){return d.createElement(G.default,{href:q.guides.relations,analyticsFrom:"relation_menu"})},t.prototype.getRenderState=function(){var e=this.props,t=e.schema,r=e.property,n=e.parentStore,o=t[r];if(o&&"relation"===o.type&&o.collection_id){var a=b.default.createChildStore(n,o.collection_id),i=a.getValue();if(i){var l=w.default.createChildStore(a,i.parent_id),s=f.getNormalizedSchema(i),c=C.getNormalizedFormat(a.getFormat(),s,void 0,[],C.FormatContext.Collection),d=u(["title"],(c.collection_page_properties||[]).map(function(e){return e.property})),p=S.default({pageId:l.id,pageValue:l.getValue(),baseUrl:_.default.baseURL});return{propertySchema:o,targetCollectionStore:a,targetCollectionValue:i,targetParentBlock:l,showProperties:d,targetCollectionSchema:s,targetParentUrl:p}}}},t.prototype.resetInputState=function(){this.stores.store.reset()},t.prototype.getValueResults=function(e){var t=this.props,r=t.value,n=t.parentStore;return U.compact(r.map(function(t){var r=w.default.createChildStore(n,t).getValue();if(r&&r.parent_id===e.propertySchema.collection_id)return{key:t,type:c.SelectedPage,pageId:t}}))},t.prototype.getDesktopRecordTitleStyle=function(){return{fontWeight:H.default.fontWeight.semibold,fontSize:14}},t.prototype.getHeaderWrapStyle=function(){return{display:"flex",width:"100%",position:"relative",zIndex:2,padding:"6px 10px",fontSize:14,background:this.theme.inputBackground,boxShadow:"\n\t\t\t\t0 1px 0 "+this.theme.darkDividerColor+"\n\t\t\t"}},t.inputPlaceholder="Search for a page, or create a new one...",t.stores={store:v.default,requestStore:h.default,menuListStore:D.default,draggableListStore:B.default},t.width=800,t.titleColumnWidth=300,t.columnWidth=150,t.rowHeight=32,t.recordTitleMargin=4,t.targetDatabaseWrapStyle={display:"flex",marginLeft:10,alignItems:"center"},t.searchInputStyle={flexGrow:1},t}(p.default);t.default=Z},EszA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Ajfl"),o=r("unoy"),a=r("MBf9"),i=r("DNgp");t.annotateSelection=function(e){var t=e.annotation,r=i.default.state;if(r.editing){var l=r.selection,s=r.store;i.default.isEmptySelection()?o.toggleExtendAnnotation({annotation:t}):(a.createAndCommit(function(e){n.annotate({store:s,annotation:t,selection:l,transaction:e})}),o.setSelection({store:s,selection:l}))}},t.unannotateSelection=function(e){var t=e.annotationType,r=i.default.state;if(r.editing){var o=r.selection,l=r.store;i.default.isEmptySelection()||a.createAndCommit(function(e){n.removeAnnotationTypeFromSelection({store:l,type:t,selection:o,transaction:e})})}}},EtGu:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isOpen:!1,backgroundAnimationComplete:!0,fullscreenNodeAnimationComplete:!0,startScrollTop:0}},t}(r("LEzx").default);t.default=new a},Etmo:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("yjqD"),i=r("Erf6"),l=r("bjn0"),s=r("y6Dp"),u=r("QcDD");t.open=function(e){return n(this,void 0,void 0,function(){var t,r,n;return o(this,function(o){switch(o.label){case 0:return t=e.relationCollectionId,r=e.relationProperty,n=a.deferred(),i.default.setState({open:!0,relationCollectionId:t,relationProperty:r,targetCollectionId:void 0,selfRelationType:"same_property",collectionSearchQuery:"",onComplete:n.resolve}),[4,n.promise];case 1:return[2,o.sent()]}})})},t.close=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){return(e=i.default.state).open&&(e.onComplete(void 0),i.default.setState({open:!1})),[2]})})},t.accept=function(){return n(this,void 0,void 0,function(){var e,t,r,n;return o(this,function(o){return e=u.default.state.currentBlockStore,(t=i.default.state).open&&t.targetCollectionId&&e&&(r=l.default.createChildStore(e,t.targetCollectionId),(n=r.getValue())&&(t.onComplete({targetCollectionValue:n,selfRelationType:t.selfRelationType}),i.default.setState({open:!1}),s.trackConfigureRelation({type:t.relationCollectionId===t.targetCollectionId?t.selfRelationType:"other_collection"}))),[2]})})}},Ew1z:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"temporary_password",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,password:n.default.String,timestamp:n.default.Number}};t.default=o},F0Cr:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a,i=r("LvDl"),l=r("cBa6"),s=r("UV07"),u=r("rE/H");!function(e){e[e.removed=-1]="removed",e[e.added=1]="added",e[e.same=0]="same"}(a||(a={})),t.diffTextValue=function(e){var t=e.before,r=e.after,c={count:0,encoding:{},decoding:{},annotationEncoding:{},annotationDecoding:{}},d=function(e){var t=c.encoding[e];if(t)return t;var r=String.fromCharCode(c.count);return c.count++,c.encoding[e]=r,c.decoding[r]=e,r},p=function(e){var t=u(e),r=c.annotationEncoding[t];if(r)return r;var n=String.fromCharCode(c.count);return c.count++,c.annotationEncoding[t]=n,c.annotationDecoding[n]=e,n},f=function(e){return i.flatten(l.getTokens(e).map(function(e){var t=i.toArray(e[0]).map(d);if(l.isMentionToken(e)){var r=l.getTokenAnnotations(e),n=l.findMentionAnnotation(r);n&&(t[0]=p({type:"mention",value:n}),r.forEach(function(e){l.isMentionAnnotation(e)||(t.unshift(p({type:"start",value:e})),t.push(p({type:"end",value:e})))}))}else l.isAnnotatedTextToken(e)&&(r=l.getAnnotatedTextTokenAnnotations(e)).forEach(function(e){t.unshift(p({type:"start",value:e})),t.push(p({type:"end",value:e}))});return t})).join("")};if(c.count>65535)throw new Error("This string has way too many different characters.");var h=function(e,t){var r=new s({timeout:2,editCost:6}),n=r.main(t,e);return r.cleanupSemantic(n),n}(f(r),f(t)),m=[],y=[];return h.forEach(function(e){var t=n(e,2),r=t[0];t[1].split("").forEach(function(e){if(c.decoding[e]){var t=c.decoding[e];r===a.added?m.push([t,o(y,[["+"]])]):r===a.removed?m.push([t,o(y,[["-"]])]):r===a.same&&m.push([t,y])}else{var n=c.annotationDecoding[e];r===a.added?"mention"===n.type?m.push([l.mentionTokenTextValue,o(y,[["+"],n.value])]):"start"===n.type?y=o(y,[n.value]):"end"===n.type&&(y=y.filter(function(e){return!i.isEqual(e,n.value)})):r===a.removed?"mention"===n.type&&m.push([l.mentionTokenTextValue,o(y,[["-"],n.value])]):r===a.same&&("mention"===n.type?m.push([l.mentionTokenTextValue,o(y,[n.value])]):"start"===n.type?y=o(y,[n.value]):"end"===n.type&&(y=y.filter(function(e){return!i.isEqual(e,n.value)})))}})}),l.normalizeTextValue(m)}},F1uM:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("nFzZ"),s=r("GhNQ"),u=r("S26v"),c=r("tP7q"),d=r("cBa6"),p=r("udrG"),f=r("622O");function h(e,t){if(e&&t){var r=u.parse(e).pathname||"";return r.substring(r.length-t.length,r.length).toLowerCase()===t}return!1}t.maxFullWidthHeight=930,t.defaultFullWidthHeight=320,t.defaultPageWidth=708,t.hasExtension=h;var m=/(https?:)?(\/\/)?gist\.github\.com\/([^\/]+\/)?[0-9a-f]+/;function y(e){return m.test(e.url)}t.isGistURL=y;var g=/(https?:)?(\/\/)?(drive|docs|sheets)\.google\.com\/(open|(file|document|spreadsheets|presentation)\/d\/).+/;function v(e){return g.test(e.url)}t.isGoogleDriveURL=v;var b=/(https?:)?(\/\/)?twitter\.com\/[^\/]+\/status\/[^\/]+/;function w(e){return b.test(e.url)}t.isTweetURL=w;var S=/(https?:)?(\/\/)?(www\.)?google\.com\/maps\/.+/;function _(e){return S.test(e.url)}t.isMapsURL=_;var k=/(https?:)?(\/\/)?framer\.cloud\/.+/;function C(e){return k.test(e.url)}t.isFramerURL=C;var E=/(https?:)?(\/\/)?invis\.io\/.+/,P=/(https?:)?(\/\/)?invisionapp\.com\/.+/;function x(e){return!t.isImageURL(e)&&(E.test(e.url)||P.test(e.url))}t.isInvisionURL=x;var T=[".png",".jpg",".jpeg",".gif",".tif",".bmp",".svg"];t.isImageURL=function(e){return f.isUnsplashImageUrl(e.url)||T.some(function(t){return h(e.url,t)})};var O=[".mp3",".wav",".ogg",".oga",".m4a"];t.isAudioURL=function(e){return O.some(function(t){return h(e.url,t)})};var M=/(https?:)?(\/\/)?(www\.)?youtube\.com\/watch.+/,I=/(https?:)?(\/\/)?vimeo.com\/[0-9]+/;function A(e){return t.isVideoFileURL(e)||M.test(e.url)||I.test(e.url)}t.isVideoEmbedURL=A;var D=/(https?:)?(\/\/)?(www\.)?figma\.com\/.+/;function L(e){return D.test(e.url)}t.isFigmaURL=L;var R=/(https?:)?(\/\/)?(www\.)?(use)?loom\.com\/.+/;function B(e){return R.test(e.url)}t.isLoomURL=B;var j=/(https?:)?(\/\/)?[^\.]+\.typeform\.com\/to\/.+/;function V(e){return j.test(e.url)}t.isTypeformURL=V;var F=/(https?:)?(\/\/)?codepen\.io\/[^\/]+\/pen\/.+/;function N(e){return F.test(e.url)}t.isCodepenURL=N;var U=[".webm",".mkv",".flv",".flv",".vob",".ogv",".ogg",".drc",".gifv",".mng",".avi",".mov",".qt",".wmv",".yuv",".rm",".rmvb",".asf",".amv",".mp4",".m4p",".m4v",".mpg",".mp2",".mpeg",".mpe",".mpv",".mpg",".mpeg",".m2v",".m4v",".svi",".3gp",".3g2",".mxf",".roq",".nsv",".flv",".f4v",".f4p",".f4a",".f4b"];function W(e){var r=e.width,n=e.height,o=e.scale,a=e.type,i=e.pageWidth,l={block_width:r,block_height:n,block_preserve_scale:Boolean(o),block_full_width:!1,block_page_width:!1};return"embed"===a||"pdf"===a?(l.block_page_width=!l.block_width,l.block_height=n||t.defaultFullWidthHeight):"video"===a&&n?(l.block_page_width=!0,l.block_aspect_ratio=n/r):"image"===a&&n?l.block_aspect_ratio=n/r:"audio"===a&&(l.block_width=void 0,l.block_page_width=!0),r>i&&(l.block_page_width=!0,"image"!==a&&"video"!==a||(l.block_height=void 0)),l}function z(e){var t=e.source;return{type:"gist",properties:{source:d.createTextValue(t)},format:{display_source:void 0}}}function H(e){var t=e.source;return{type:"tweet",properties:{source:d.createTextValue(t)},format:{display_source:void 0}}}function q(e){var t=e.source;return{type:"audio",properties:{source:d.createTextValue(t)},format:{display_source:void 0}}}function G(e){var t=e.source;return{type:"image",properties:{source:d.createTextValue(t)},format:{display_source:t}}}function Z(e){var r=e.source;return{type:"invision",properties:{source:d.createTextValue(r)},format:{display_source:void 0,block_height:t.defaultFullWidthHeight}}}function Y(e){var r=e.source;return{type:"pdf",properties:{source:d.createTextValue(r)},format:{display_source:void 0,block_height:t.defaultFullWidthHeight}}}function K(e){return o(this,void 0,void 0,function(){var t,r,o,i,l,s,c,p,f,h;return a(this,function(a){switch(a.label){case 0:return t=e.source,r=e.pageWidth,o=e.getOembedData,i=e.type,[4,o(t)];case 1:return l=a.sent(),s=l&&l.url?l.url:t,l&&l.html&&((c=l.html.substring(l.html.indexOf('src="')+5,l.html.indexOf('width="')-2))&&(s=c),s&&(p=u.parse(s),(f=p.query.src)&&(s=f))),h=!1,l&&"photo"===l.type?(h=!0,i="image"):(l&&"video"===l.type||"video"===i)&&(h=!0,i="video"),[2,{type:i,properties:{source:d.createTextValue(t)},format:n({},W({type:i,width:l?l.width:400,height:l?l.height:void 0,scale:h,pageWidth:r}),{display_source:s})}]}})})}t.isVideoFileURL=function(e){return U.some(function(t){return h(e.url,t)})},t.isUrlThatIsntNotionPage=function(e){return!!s.default(e.url)&&"page"!==c.parseRoute({url:e.url,baseUrl:e.baseUrl,isMobile:!1,protocol:void 0,currentUrl:void 0}).name},t.isPlainURL=function(e){return!!s.default(e.url)&&("page"!==c.parseRoute({url:e.url,baseUrl:e.baseUrl,isMobile:!1,protocol:void 0,currentUrl:void 0}).name&&!l.keys(t.embedTypeValidators).filter(function(e){return"embed"!==e}).map(function(e){return t.embedTypeValidators[e]}).some(function(t){return t(e)}))},t.isPDFURL=function(e){var t=u.parse(e.url);return Boolean(t.pathname&&t.pathname.indexOf(".pdf")>=0)},t.embedTypeValidators={image:t.isImageURL,video:A,tweet:w,drive:v,gist:y,invision:x,framer:C,audio:t.isAudioURL,maps:_,figma:L,loom:B,typeform:V,codepen:N,embed:t.isPlainURL,pdf:t.isPDFURL},t.getBlockTypeForSource=function(e){var r,n,o=l.keys(t.embedTypeValidators);try{for(var a=i(o),s=a.next();!s.done;s=a.next()){var u=s.value;if(t.embedTypeValidators[u](e))return u}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return"embed"},t.getInitialFormat=W,t.getEmbedBlockData=function(e){return o(this,void 0,void 0,function(){var t,r;return a(this,function(n){return t=e.type,r=e.isDataURL,t===p.default.tweet?[2,H(e)]:t===p.default.gist?[2,z(e)]:t===p.default.audio?[2,q(e)]:t===p.default.image||r?[2,G(e)]:t===p.default.invision?[2,Z(e)]:t===p.default.pdf?[2,Y(e)]:[2,K(e)]})})},t.getNormalizedSource=function(e){var t=u.parse(e);return t&&"www.youtube.com"===t.hostname&&"/watch"===t.pathname&&t.query&&t.query.v?u.makeUrl({url:"https://www.youtube.com/embed/"+t.query.v,query:n({},t.query,{v:void 0})}):e}},F2y6:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("wldR"),u=r("y1eX"),c=r("wXH4"),d=r("gbGO"),p=r("WgIs"),f=r("SR/M"),h=r("ox2z"),m=r("2Y+N"),y=r("bK/N"),g=r("D8Ld"),v=r("RI9y"),b=r("cBa6"),w=r("unoy"),S=r("DNgp"),_=r("uLvo"),k=r("VpJM"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleContextMenu=function(e,t){if(e.preventDefault(),t.misspelledWord){var r=S.default.state;if(r.editing&&r.selection.startIndex===r.selection.endIndex){var n=b.findAll(r.store.getValue()||[],t.misspelledWord),o=r.selection.startIndex,a=b.findClosestSelection(n,o);a&&w.setSelection({store:r.store,selection:a})}}u.default.setState({open:!0,menuInfo:t})},t.handleDismiss=function(){u.default.setState(a({},u.default.state,{open:!1}))},t}return o(t,e),t.prototype.willMount=function(){y.electronApi&&y.electronApi.contextMenu&&y.electronApi.contextMenu.addListener(this.handleContextMenu)},t.prototype.willUnmount=function(){y.electronApi&&y.electronApi.contextMenu&&y.electronApi.contextMenu.removeListener(this.handleContextMenu)},t.prototype.renderComponent=function(){var e,t,r,n,o=this,a=u.default.state,s=a.menuInfo,f=a.open,h=this.getClickPosition(s),m=h.x,y=h.y,b={bottom:y,top:y,height:0,left:m,right:m,width:0},w=s?this.getMenuSections(s):[],S=document.activeElement,_=v.get(),C=null,E=null;(S instanceof HTMLInputElement||S instanceof HTMLTextAreaElement)&&(C=S.selectionStart,E=S.selectionEnd);try{for(var P=i(w),x=P.next();!x.done;x=P.next()){var T=x.value,O=function(e){var t=e.action;e.action=function(e){S.focus(),S instanceof HTMLInputElement||S instanceof HTMLTextAreaElement?(S.selectionStart=C,S.selectionEnd=E):_&&v.set(_),t(e)}};try{for(var M=i(T.items),I=M.next();!I.done;I=M.next()){O(I.value)}}catch(e){r={error:e}}finally{try{I&&!I.done&&(n=M.return)&&n.call(M)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{x&&!x.done&&(t=P.return)&&t.call(P)}finally{if(e)throw e.error}}return l.createElement(c.default,{open:f&&w.length>0,popupType:c.default.PopupType.Popup,originRect:b,render:function(){return l.createElement(g.default,{capture:!0,allowEsc:!0},l.createElement(d.default,{menuType:d.default.MenuType.Popup},l.createElement(p.default,{sections:w,initialFocus:void 0,onAccept:o.handleDismiss})))},onDismiss:this.handleDismiss,overlayContainerStore:k.default})},t.prototype.getClickPosition=function(e){var t=y.electronApi&&y.electronApi.zoom&&y.electronApi.zoom.get()||1;return{x:e?e.x/t:0,y:e?e.y/t:0}},t.prototype.getMenuSections=function(e){var t=[],r=this.getSpellingCorrectionItems(e);if(r.length>0){var n=t.length>0;t.push({key:"spellingCorrectionItems",items:r,render:function(e){return l.createElement(m.default,a({},e,{topBorder:n}))}})}var o=this.getDisableSpellCheckItems(e);if(o.length>0){var i=t.length>0;t.push({key:"disableSpellCheckItems",items:o,render:function(e){return l.createElement(m.default,a({},e,{topBorder:i}))}})}var s=this.getSearchItems(e);if(s.length>0){var u=t.length>0;t.push({key:"searchItems",items:s,render:function(e){return l.createElement(m.default,a({},e,{topBorder:u}))}})}var c=this.getLinkMenuItems(e);if(c.length>0){var d=t.length>0;t.push({key:"linkMenuItems",items:c,render:function(e){return l.createElement(m.default,a({},e,{topBorder:d}))}})}var p=this.getImageMenuItems(e);if(p.length>0){var f=t.length>0;t.push({key:"imageMenuItems",items:p,render:function(e){return l.createElement(m.default,a({},e,{topBorder:f}))}})}var h=this.getTextEditingItems(e);if(h.length>0){var y=t.length>0;t.push({key:"textEditingItems",items:h,render:function(e){return l.createElement(m.default,a({},e,{topBorder:y}))}})}var g=this.getEnableSpellCheckItem(e);if(g.length>0){var v=t.length>0;t.push({key:"enableSpellCheckItems",items:g,render:function(e){return l.createElement(m.default,a({},e,{topBorder:v}))}})}return t},t.prototype.getLinkMenuItems=function(e){var t=[];return e.linkURL&&e.linkURL.length>0&&(e.linkURL.startsWith("mailto:")?t.push({key:"copy-email",action:function(){y.electronApi&&y.electronApi.copyText&&y.electronApi&&y.electronApi.copyText(e.linkText)},render:function(e){return l.createElement(f.default,a({},e,{title:"Copy Email Address"}))}}):t.push({key:"copy-link",action:function(){y.electronApi&&y.electronApi.copyText&&y.electronApi&&y.electronApi.copyText(e.linkURL)},render:function(e){return l.createElement(f.default,a({},e,{title:"Copy Link"}))}}),t.push({key:"open-link",action:function(){y.electronApi&&y.electronApi.openExternalUrl(e.linkURL)},render:function(e){return l.createElement(f.default,a({},e,{title:"Open Link"}))}})),t},t.prototype.getImageMenuItems=function(e){var t=[];return e.hasImageContents&&e.srcURL&&e.srcURL.length>0&&(t.push({key:"copy-image",action:function(){y.electronApi&&y.electronApi.copyImage&&y.electronApi.copyImage(e.srcURL)},render:function(e){return l.createElement(f.default,a({},e,{title:"Copy Image"}))}}),t.push({key:"copy-image-address",action:function(){y.electronApi&&y.electronApi.copyText&&y.electronApi.copyText(e.srcURL)},render:function(e){return l.createElement(f.default,a({},e,{title:"Copy Image Address"}))}})),t},t.prototype.isEditing=function(e){return e.isEditable||e.inputFieldType&&"none"!==e.inputFieldType},t.prototype.hasMisspelling=function(e){return this.isEditing(e)&&e.misspelledWord&&e.misspelledWord.length>0},t.prototype.getSpellingCorrectionItems=function(e){var t,r,n=[];if(this.hasMisspelling(e)&&_.default.isEnabled()){var o=_.default.getCorrections(e.misspelledWord),s=function(e){n.push({key:e,action:function(){y.electronApi&&y.electronApi.replaceMisspelling&&y.electronApi.replaceMisspelling(e)},render:function(t){return l.createElement(f.default,a({},t,{title:e}))}})};try{for(var u=i(o),c=u.next();!c.done;c=u.next()){s(c.value)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}}return n},t.prototype.getDisableSpellCheckItems=function(e){var t=[];return this.hasMisspelling(e)&&_.default.isEnabled()&&t.push({key:"disable",action:function(){_.default.setEnabled(!1)},render:function(e){return l.createElement(f.default,a({},e,{title:"Disable Spellcheck"}))}}),t},t.prototype.getEnableSpellCheckItem=function(e){var t=[];return this.isEditing(e)&&!_.default.isEnabled()&&t.push({key:"enable",action:function(){_.default.setEnabled(!0)},render:function(e){return l.createElement(f.default,a({},e,{title:"Enable Spellcheck"}))}}),t},t.prototype.getSearchItems=function(e){var t=[];return e.selectionText&&e.selectionText.length>0&&t.push({key:"google",action:function(){if(y.electronApi){var t="https://www.google.com/#q="+encodeURIComponent(e.selectionText.trim());y.electronApi.openExternalUrl(t)}},render:function(e){return l.createElement(f.default,a({},e,{title:"Search with Google"}))}}),t},t.prototype.getTextEditingItems=function(e){var t=[];return this.isEditing(e)&&(e.editFlags.canCut&&t.push({key:"cut",action:function(){y.electronApi&&y.electronApi.cut&&y.electronApi.cut()},render:function(e){return l.createElement(h.default,a({},e,{title:"Cut",shortcuts:["cut"]}))}}),e.editFlags.canCopy&&t.push({key:"copy",action:function(){y.electronApi&&y.electronApi.copy&&y.electronApi.copy()},render:function(e){return l.createElement(h.default,a({},e,{title:"Copy",shortcuts:["copy"]}))}}),e.editFlags.canPaste&&t.push({key:"paste",action:function(){y.electronApi&&y.electronApi.paste&&y.electronApi.paste()},render:function(e){return l.createElement(h.default,a({},e,{title:"Paste",shortcuts:["paste"]}))}})),t},t.stores={contextMenuStore:u.default},t}(s.default);t.default=C},F6Yi:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("Sb6f"),u=r("IdSf"),c=r("mF3+"),d=r("5Nka"),p=r("zmp8"),f=r("qqdV"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",maxWidth:380,fontSize:15,marginTop:64,marginBottom:64}},i.createElement("div",{style:t.authorWrapStyle},i.createElement("div",{style:t.authorImgWrapStyle},i.createElement("img",{src:d.default.front.toolsAndCraft.devonPng,style:{width:80,height:80,margin:6,marginTop:28,flexShrink:0}})),i.createElement("div",{style:t.authorTextWrapStyle},i.createElement("div",{style:{fontFamily:s.default.fontFamily.serif,fontSize:18,lineHeight:1,marginBottom:12}},"Brought to you by"),i.createElement("div",{style:t.authorNameStyle},"Devon Zuegel"),i.createElement("div",null,i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:t.devonTwitterURL,style:t.authorLinkStyle},"@DevonZuegel"),i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:t.devonWebsiteURL,style:t.authorLinkStyle},"devonzuegel.com")),i.createElement("div",{style:t.authorDescriptionStyle},"Devon is a software engineer and writer based out of San Francisco."))),i.createElement("div",{style:t.authorWrapStyle},i.createElement("div",{style:t.authorImgWrapStyle},c.default.notionLogo({width:50,margin:6,flexShrink:0})),i.createElement("div",{style:t.authorTextWrapStyle},i.createElement("div",{style:t.authorNameStyle},"Notion"),i.createElement("div",null,i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:f.notionTwitter,style:t.authorLinkStyle},"@NotionHQ"),i.createElement(u.default,{inline:!0,centerAlign:!0,href:f.product,style:t.authorLinkStyle},"Try product"),i.createElement(u.default,{inline:!0,centerAlign:!0,href:f.joinUs,style:t.authorLinkStyle},"Join us")),i.createElement("div",{style:t.authorDescriptionStyle},"The all-in-one workspace for your notes, tasks, wikis, and database. Inspirated by the tools and ideas."),i.createElement("div",{style:a({},t.authorDescriptionStyle,{marginTop:20})},"Videos by"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"http://slowclap.com/",style:t.authorLinkStyle},"Slow Clap")),i.createElement("div",{style:t.authorDescriptionStyle},"Illustrations by"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"http://www.bluebed.net",style:t.authorLinkStyle},"Roman")),i.createElement("div",{style:t.authorDescriptionStyle},"Photos by"," ",i.createElement(u.default,{inline:!0,centerAlign:!0,external:!0,href:"http://ulyssesortega.com/",style:t.authorLinkStyle},"Ulysses")))))},t.devonWebsiteURL="https://devonzuegel.com",t.devonTwitterURL="https://twitter.com/devonzuegel",t.authorWrapStyle={display:"flex",alignItems:"flex-start",marginTop:18,flexWrap:"wrap"},t.linkStyle={color:p.default.red,textDecoration:"underline",borderRadius:3},t.authorImgWrapStyle={flexGrow:0,flexShrink:0,width:80,display:"flex",justifyContent:"center",alignItems:"flex-start",marginRight:8},t.authorTextWrapStyle={flex:1,minWidth:280},t.authorLinkStyle=a({},t.linkStyle,{marginRight:6}),t.authorNameStyle={fontFamily:s.default.fontFamily.serif,fontWeight:s.default.fontWeight.bold,fontSize:30,lineHeight:1.3},t.authorDescriptionStyle={color:p.default.FrontBaseGrayTextColor,marginTop:4,marginBottom:4},t}(l.default);t.default=h},F9et:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseDown=function(e){if(t.props.capture){if(t.isFocusable(e.target))return;t.isFocusable(document.activeElement)&&e.preventDefault()}},t}return o(t,e),t.prototype.renderComponent=function(){return this.props.render({onMouseDown:this.handleMouseDown})},t.prototype.isFocusable=function(e){return"true"===e.contentEditable||"input"===e.tagName.toLowerCase()},t}(r("wldR").default);t.default=a},FDF6:function(e,t,r){"use strict";var n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("LvDl"),u=r("17x9"),c=r("udrG"),d=r("jZoB"),p=r("UWAZ"),f=r("r8oj"),h=r("M64d"),m=r("jmjn"),y=r("NOLh"),g=r("QTGx"),v=r("t+pW"),b=r("XBB3"),w=r("AOw3"),S=r("WM0W"),_=r("VpIZ"),k=r("HRSx"),C=r("vo/r"),E=r("QcDD"),P=r("T1hA"),x=r("UcZb"),T=r("1P/O"),O=r("szb2"),M=r("enHn"),I=r("HTHG"),A=r("ICWk"),D=r("q2qQ"),L=r("MBf9"),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPreventSidebar=function(){return t.isInlineCollectionView()?t.renderSelectable():h.default(t.renderSelectable)},t.renderSelectable=function(e){var r=t.props.canEditList,n=t.isColumnList(),o=t.isInlineCollectionView(),a=t.isCollectionView(),s=t.isRootChild(),u=t.canDropOnto.state,c=s&&!n&&r&&!f.default.isMobile,d=t.props.store.canRead()&&!n&&!o,p=d&&!o,h=p,m=r&&!n&&!o,y="comment_only"===t.props.store.getRole()&&!r&&!n&&!a&&P.default.isLoggedIn(),g=r&&!n||y,v=r&&!n;return l.createElement(w.default,i({style:t.getStyle(),store:t.props.store,canSelect:d,canEditText:t.canEdit(),shouldShowHalo:p,shouldShowParentHalo:h,canDrag:v,canDropAbove:r&&t.props.isFirstItem,canDropBelow:r,canDropLeft:c,canDropRight:c,canDropOnto:r&&u,canNativeDropAbove:r&&t.props.isFirstItem,canNativeDropBelow:r,canNativeDropLeft:c,canNativeDropRight:c,onSelectableDrop:t.handleDrop,onNativeDrop:t.handleNativeDrop,canTriggerContextMenu:r&&!n,onInsertAfter:t.handleInsertAfter,onInsertBefore:t.handleInsertBefore,canInsertBefore:r,canInsertAfter:r,onEditText:t.handleEditText,onEnter:t.handleEnter,showBlockMenuInput:!0,shouldShowHoverMenu:m,shouldComputeHoverMenuRect:g,shouldShowCommentMenu:y,shouldShowDropZone:!0,analyticsName:"page_content"},e),t.renderBlock())},t.handleInsertBefore=function(e){var r=e.insertStores,n=e.transaction;return s.clone(r).reverse().map(function(e){return d.insertBefore({parent:t.props.listStore,insert:e,before:t.props.store,transaction:n}).child})},t.handleInsertAfter=function(e){var r=e.insertStores,n=e.transaction;return s.clone(r).reverse().map(function(e){return d.insertAfter({parent:t.props.listStore,insert:e,after:t.props.store,transaction:n}).child})},t.handleDrop=function(e){var r=e.droppedDirection,n=e.droppedStores,o=e.duplicate;L.createAndCommit(function(e){p.handleDrop({targetParentStore:t.props.listStore,targetStore:t.props.store,droppedDirection:r,droppedStores:n,duplicate:o,transaction:e})})},t.handleNativeDrop=function(e){var r=e.files,n=e.droppedDirection;L.createAndCommit(function(e){return p.handleNativeDrop({files:r,targetParentStore:t.props.listStore,targetStore:t.props.store,droppedDirection:n,transaction:e})})},t.handleEditText=function(e){return p.handleEditText({targetStore:t.props.store,targetParentStore:t.props.listStore,isAtStart:e.isAtStart,transaction:e.transaction})},t.handleEnter=function(e){t.handleEditText({isAtStart:!1,transaction:e.transaction})||D.insertBlockAndEdit({createBlockItem:A.allCreateBlockItems[c.default.text],selection:e.blocks,analyticsFrom:"text_enter",transaction:e.transaction})},t.canDropOnto=t.createComputedStore(function(){var e=t.props.store.getType();return e===c.default.page||e===c.default.collectionViewPage||e===c.default.toggle&&!T.default.isOpen(t.props.store.id)}),t}return a(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),this.isCopyIndicatorWithoutPendingTransaction="copy_indicator"===t.store.getType()&&!M.default.isPendingTransactionForRecord(k.default.table,t.store.id)},t.prototype.renderComponent=function(){var e=this;if(!this.isCopyIndicatorWithoutPendingTransaction)return this.shouldAnimateWidth()?l.createElement(y.default,{isVisible:!0,animationStyle:this.getAnimationStyle(),render:function(){return e.renderPreventSidebar()}}):this.renderPreventSidebar()},t.prototype.renderBlock=function(){var e=this.props,t=e.disabled,r=e.store,n=e.numberedListCounterStore,o=g.getBlockRenderer(r);return this.props.renderItem?this.props.renderItem(this.props.store):o?l.createElement(o,{store:this.props.store,disabled:t,isFirstItem:this.props.isFirstItem,isLastItem:this.props.isLastItem,isListItem:!0,blockResizerStore:this.stores.blockResizerStore,numberedListCounterStore:n}):void 0},t.prototype.isRootChild=function(){return this.props.store.depth()<=2},t.prototype.getItemBlockType=function(){return this.props.store.getType()},t.prototype.isColumnList=function(){return this.getItemBlockType()===c.default.columnList},t.prototype.shouldAnimateWidth=function(){var e=this.props.store.getType();return!!e&&Boolean(k.mediaTypes[e])},t.prototype.isOverflowEdgeBlockType=function(){var e=this.props.store.getValue();return!!e&&_.canOverflowEdgeType(e)},t.prototype.isInColumnList=function(){return this.context.isInColumnList},t.prototype.isFullWidth=function(){var e=this.stores.blockResizerStore.state,t=e.dragging,r=e.temporaryFullWidth;return t?r:this.props.store.getFormat().block_full_width},t.prototype.canEdit=function(){return!this.props.disabled&&this.props.store.canEdit()},t.prototype.isInlineCollectionView=function(){return g.getBlockRenderer(this.props.store)===C.default},t.prototype.isCollectionView=function(){var e=this.props.store.getValue();return Boolean(e&&_.isCollectionView(e))},t.prototype.getStyle=function(){var e=this.getItemBlockType(),r={width:"100%"};r.maxWidth=this.getFullWidthCSS(),(f.default.isMobile&&!this.isFullWidth()||this.isInColumnList()||!this.isRootChild())&&(r.maxWidth="100%");var n=this.props.store.getValue();this.isRootChild()&&n&&_.isRootChildCenterAlignBlockType(n)?r.alignSelf="center":n&&_.isMediaType(n)&&(r.alignSelf="flex-start");var o=t.topGap,a=t.gap,i=t.bottomGap;if(r.marginTop=this.props.isFirstItem?o:a,r.marginBottom=this.props.isLastItem?i:a,this.isMediaWithoutSource()?r.marginTop=t.marginStyle.marginTop:!this.props.isFirstItem&&e&&t.defaultMarginTop[e]&&(r.marginTop=t.defaultMarginTop[e]),this.isMediaWithoutSource()?r.marginBottom=t.marginStyle.marginBottom:!this.props.isLastItem&&e&&t.defaultMarginBottom[e]&&(r.marginBottom=t.defaultMarginBottom[e]),e&&t.darkerHeadingText[e]&&(r.color=this.theme.regularTextColor),this.isInlineCollectionView()&&(this.isRootChild()||f.default.isMobile)){var l=this.getFullWidthCSS();r.maxWidth=this.isInPeekRenderer()?this.getInlineCollectionInPeekViewMaxWidth():l,r.width=l,r.alignSelf="center"}return r},t.prototype.getAnimationStyle=function(){var e=this.stores.blockResizerStore.state,t=e.dragging,r=e.temporaryWidth,n=e.temporaryFullWidth,o=e.temporaryPageWidth,a=this.props.store.getFormat(),i=a.block_width,l=a.block_full_width,s=a.block_page_width,u=t?r:i,c=t?o:s;return{width:(t?n:l)?this.getFullWidthCSS():c?"100%":u}},t.prototype.isInPeekRenderer=function(){var e=O.default.state;return Boolean(e.open&&this.props.store.findRecordStoreAncestor(function(t){return t===e.target}).ancestor)},t.prototype.isInHistoryModal=function(){return Boolean(this.props.store.recordCacheStore.snapshotData)},t.prototype.getFullWidthCSS=function(){var e="100vw - "+E.default.scrollbarWidth+"px";if(this.isInHistoryModal())return"calc(80vw - 240px - "+E.default.scrollbarWidth+"px)";if(this.isInPeekRenderer())return S.default.width-E.default.scrollbarWidth+"px";if(f.default.isMobile)return"calc("+e+")";var t=[e],r=I.sidebarIsExpanded(),n=I.AppRenderStateStore.state.shouldShowSidebar;return r&&!f.default.isMobile&&n&&t.push("- "+x.default.state.width+"px"),this.isOverflowEdgeBlockType()||t.push("- "+2*b.default.defaultPaddingLeftRight+"px"),"calc("+t.join(" ")+")"},t.prototype.getInlineCollectionInPeekViewMaxWidth=function(){return"calc(100% + "+(2*b.default.defaultPaddingLeftRight-E.default.scrollbarWidth)+"px)"},t.prototype.isMediaWithoutSource=function(){var e=this.props.store.getValue();if(e&&_.isMediaType(e)){var t=e.properties;return!(t&&t.source)}return!1},t.stores={blockResizerStore:m.default},t.contextTypes={isInColumnList:u.any},t.marginStyle={marginTop:4,marginBottom:4},t.defaultMarginTop={quote:t.marginStyle.marginTop,code:t.marginStyle.marginTop,bookmark:t.marginStyle.marginTop,file:t.marginStyle.marginTop,video:t.marginStyle.marginTop,embed:t.marginStyle.marginTop,tweet:t.marginStyle.marginTop,audio:t.marginStyle.marginTop,drive:t.marginStyle.marginTop,gist:t.marginStyle.marginTop,maps:t.marginStyle.marginTop,framer:t.marginStyle.marginTop,invision:t.marginStyle.marginTop,figma:t.marginStyle.marginTop,loom:t.marginStyle.marginTop,typeform:t.marginStyle.marginTop,codepen:t.marginStyle.marginTop,equation:t.marginStyle.marginTop,pdf:t.marginStyle.marginTop,header:"2em",sub_header:"1em",sub_sub_header:"0.5em",image:"0.5em",page:void 0,collection_view:void 0,collection_view_page:void 0,column_list:void 0,column:void 0,breadcrumb:void 0,text:void 0,bulleted_list:void 0,numbered_list:void 0,to_do:void 0,toggle:void 0,factory:void 0,copy_indicator:void 0,divider:void 0,link_to_collection:void 0,link_to_page:void 0,table_of_contents:t.marginStyle.marginTop},t.defaultMarginBottom={quote:t.marginStyle.marginBottom,code:t.marginStyle.marginBottom,header:t.marginStyle.marginBottom,bookmark:t.marginStyle.marginBottom,file:t.marginStyle.marginBottom,video:t.marginStyle.marginBottom,embed:t.marginStyle.marginBottom,tweet:t.marginStyle.marginBottom,drive:t.marginStyle.marginBottom,audio:t.marginStyle.marginBottom,gist:t.marginStyle.marginBottom,maps:t.marginStyle.marginBottom,framer:t.marginStyle.marginBottom,invision:t.marginStyle.marginBottom,figma:t.marginStyle.marginBottom,loom:t.marginStyle.marginBottom,typeform:t.marginStyle.marginBottom,codepen:t.marginStyle.marginBottom,equation:t.marginStyle.marginBottom,pdf:t.marginStyle.marginBottom,image:"0.5em",sub_header:void 0,sub_sub_header:void 0,page:void 0,collection_view:void 0,collection_view_page:void 0,column_list:void 0,column:void 0,breadcrumb:void 0,text:void 0,bulleted_list:void 0,numbered_list:void 0,to_do:void 0,toggle:void 0,factory:void 0,copy_indicator:void 0,divider:void 0,link_to_collection:void 0,link_to_page:void 0,table_of_contents:t.marginStyle.marginBottom},t.darkerHeadingText=((o={})[c.default.header]=!0,o[c.default.subHeader]=!0,o[c.default.subSubHeader]=!0,o),t.topGap=2,t.gap=1,t.bottomGap=0,t}(v.default);t.default=R},FGgp:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("r8oj"),s=r("tvfY"),u=r("5/h/"),c=r("6BTz"),d=r("LB1/"),p=r("y6Dp"),f=r("qqdV"),h=r("zmp8"),m=r("prF1"),y=r("9PHN"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSignupClick=function(){p.trackFrontPageReferralSignupClick()},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.referralUserId,t=new s.default(e).getValue(),r=u.getFullName(t);if(t)return a.createElement("div",{style:this.getTitle()},this.getCopy(r),a.createElement(m.default,{style:{marginLeft:12},href:f.signup,onClick:this.handleSignupClick},a.createElement(y.default,null,this.getButtonTitle())))},t.prototype.getCopy=function(e){return l.default.isMobile?"You're invited to Notion!":a.createElement("span",null,a.createElement("b",null,e)," has invited you to Notion!")},t.prototype.getButtonTitle=function(){return a.createElement("span",null,"Sign up and get"," ",a.createElement("b",null,c.formatHumanReadableCurrency(d.creditValueMap.invited_by_user,"dollar"))," ","credit")},t.prototype.getTitle=function(){return{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,whiteSpace:"nowrap",padding:"0px 12px",width:"100%",height:t.height,fontSize:14,lineHeight:1.2,color:h.default.white,background:h.default.blue}},t.height=45,t}(i.default);t.default=g},FMYg:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("q1tI"),l=r("t+pW"),s=r("Sb6f"),u=r("/YYm"),c=r("Oy36"),d=r("OxuQ"),p=r("mF3+"),f=r("IdIf"),h=r("bPtJ"),m=r("0lqH"),y=r("D2XV"),g=r("7TLZ"),v=r("prF1"),b=r("SR/M"),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getRecordValue=function(e,r){return h.createRecordStore(t.props.store,e,r).getValue()},t.renderProperty=function(e){var r=t.props,n=r.schema,o=r.store,i=r.blockPropertyValueOverlayStore;if(n[e])return a.createElement(m.default,{key:e,store:o,property:e,schema:n,disabled:!0,locked:!1,format:m.default.Format.Calendar,tableWrap:!1,blockPropertyValueOverlayStore:i})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.store,t=e.hasIcon()||!e.isEmptyPage(),r=u.default({store:e,fullyQualified:!1}),n=g.getNumberOfUnresolvedComments(e);return a.createElement(v.default,{href:r},a.createElement(b.default,{focused:!1,title:a.createElement(i.Fragment,null,this.props.time&&a.createElement("div",{style:{display:"flex",color:this.theme.mediumTextColor,fontSize:14}},this.props.time),a.createElement("div",{style:{display:"flex",alignItems:"center"}},t&&a.createElement(c.default,{disabled:!0,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:24,style:{flexShrink:0,marginRight:8}}),a.createElement(d.default,{store:e,style:{fontWeight:s.default.fontWeight.semibold}}),n>0&&a.createElement("div",{style:{display:"flex",alignItems:"center",color:this.theme.regularDividerColor,fontSize:12,marginLeft:4,flexShrink:0}},p.default.speechBubble({width:12,height:12,marginRight:4,fill:this.theme.mediumIconColor}),n))),caption:this.renderProperties()}))},t.prototype.renderProperties=function(){var e=this,t=this.props,r=t.format,n=t.schema,o=t.store,i=(r.calendar_properties?r.calendar_properties.filter(function(e){return e.visible}).map(function(e){return e.property}):[]).filter(function(t){return f.cardPropertyFormatIsVisible({blockValue:o.getValue(),property:t,schema:n,getRecordValue:e.getRecordValue,userTimeZone:y.currentTimeZone})});if(i.length>0)return a.createElement("div",{style:{marginTop:8}},i.map(this.renderProperty))},t}(l.default);t.default=w},FUUC:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o=r("pQrc"),a=r("74/9"),i=r("Nvzn");t.spaceMemberAllowedPropertyChanges={version:!0,pages:!0,created_by:!0,created_time:!0,last_edited_by:!0,last_edited_time:!0};var l={table:"space",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,name:n.default.String,domain:n.default.String,permissions:n.default.JSON,permission_groups:n.default.JSON,email_domains:n.default.StringArray,pages:n.default.StringArray,icon:n.default.String,disable_public_access:n.default.Boolean,disable_guests:n.default.Boolean,disable_move_to_space:n.default.Boolean,disable_export:n.default.Boolean,beta_enabled:n.default.Boolean,created_by:n.default.UUID,created_time:n.default.Number,last_edited_by:n.default.UUID,last_edited_time:n.default.Number,deleted_by:n.default.Number}};t.createSpaceNameFromUser=function(e){var t=o.default(e.email);if(t&&a.default(e.email)){var r=t.split(".")[0];if(r)return i.default(r.toLowerCase())}return e.given_name?e.given_name:e.email},t.default=l},FZgz:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("t+pW"),l=r("Na01"),s=r("mF3+"),u=r("0GcB"),c=r("wvIE"),d=r("y6Dp"),p=r("MeYt"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=u.default.state.mode,t="light"===e?"dark":"light",r="light"===e?"Dark Mode":"Light Mode";return a.createElement(p.default,{onClick:this.toggleMode(t)},a.createElement(l.default,{left:this.renderIcon(),isMobile:this.props.isMobile,disableMobileBorder:!0},r))},t.prototype.renderIcon=function(){return s.default.darkMode({fill:this.theme.mediumIconColor,width:16})},t.prototype.toggleMode=function(e){return function(){c.setTheme({mode:e}),d.trackToggleThemeMode({mode:e})}},t}(i.default);t.default=f},FcJC:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("r8oj"),s=r("y6Dp"),u=r("wpmu"),c=r("bkwR"),d=r("H4VD"),p=r("jZoB"),f=r("nM47"),h=r("sdlW"),m=r("Ugx7"),y=r("MBf9"),g=r("HSWF"),v=r("N34Z"),b=r("lufz"),w=r("bjn0"),S=r("QcDD"),_=r("fwa5"),k=r("nZ1u"),C=r("UcZb"),E=r("w5u6"),P=r("6BvA"),x=r("p0Uu"),T=r("cbKx"),O=r("xb3e"),M=r("3O7B"),I=r("9vSW"),A=r("+UXM"),D=r("raUL"),L=r("+DAh");t.open=function(){C.default.state.open||k.default.state.isActive||C.default.setState(n({},C.default.state,{open:!0}))},t.close=function(){!C.default.state.open||T.default.state.open||O.default.state.open||I.default.state.open||M.default.state.open||_.default.state.isActive||P.default.state.blockStore||C.default.state.isResizing||C.default.setState(n({},C.default.state,{open:!1}))},t.setExpand=function(e){var t=C.default;t.setState(n({},t.state,{expanded:e.isExpanded})),B(),e.isExpanded?s.trackSidebarUnexpand():s.trackSidebarExpand()},t.setWidth=function(e){C.default.setState(n({},C.default.state,{width:e.width})),B()},t.leaveBlocks=function(e){return o(this,void 0,void 0,function(){var t,r,n,o,l,s,u,f;return a(this,function(a){switch(a.label){case 0:if(n=e.blocks,o=e.transaction,l=S.default.state.currentSpaceViewStore)try{for(s=i(n),u=s.next();!u.done;u=s.next())f=u.value,p.remove({parent:l.getSharedPagesStore(),remove:f,transaction:o})}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return d.navigateAwayIfCurrentPage({blocks:n}),[4,Promise.all(n.map(function(e){return c.leaveBlock({blockId:e.id})}))];case 1:return a.sent(),[2]}})})},t.bookmarkPage=function(e){var t=e.store,r=e.spaceViewStore,n=e.transaction,o=r.getBookmarkedPagesStore(),a=u.default.createChildStore(o,t.id);p.prepend({parent:o,prepend:a,transaction:n})},t.unbookmarkPage=function(e){var t=e.store,r=e.spaceViewStore,n=e.transaction,o=r.getBookmarkedPagesStore(),a=u.default.createChildStore(o,t.id);p.remove({parent:o,remove:a,transaction:n})},t.quickAddPage=function(e){return o(this,void 0,void 0,function(){var r,n,o,i,c,_,k,C,P;return a(this,function(a){switch(a.label){case 0:return r=e.from,n=S.default.state,o=n.currentSpaceStore,i=n.currentSpaceViewStore,f.validateCanCreate()&&o&&i?(c=y.create(),[4,g.getQuickAddParent(o,o.id)]):[3,2];case 1:_=a.sent(),k=void 0,_&&"collection"===_.table?(k=v.createBlock({type:"page",recordCacheStore:L.default,transaction:c}),b.setParent({parentStore:w.default.createChildStore(k,_.id),childStore:k,alive:!0,transaction:c})):_&&"block"===_.table?(k=v.createBlock({type:"page",recordCacheStore:L.default,transaction:c}),C=u.default.createChildStore(k,_.id),P=C.getContentStore(),p.append({parent:P,append:k,transaction:c})):k=h.createEmptyPageInSpace({spaceStore:o,spaceViewStore:i,isPrivate:!0,prepend:!1,transaction:c}),y.commit({transaction:c}),l.default.isMobile?(d.navigateToBlock({store:k,showMoveTo:!0,saveParent:!0}),t.close()):d.peekBlock({store:k,showMoveTo:!0,saveParent:!0}),m.setSectionHidden({spaceViewStore:i,type:"private",outlinerToggleButtonStore:D.default,newValue:!1}),s.trackCreateBlock({from:r,type:"page"}),E.default.afterNextFlush(function(){x.default.SidebarScroller&&x.default.SidebarScroller.scrollToBottom()}),a.label=2;case 2:return[2]}})})};var R="sidebar";function B(){var e=C.default.state,t={expanded:e.expanded,width:e.width};A.default.set(R,t)}t.startListeners=function(){var e=A.default.get(R);e&&C.default.setState(n({},C.default.state,e))}},Fe7V:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this;Object.defineProperty(t,"__esModule",{value:!0});var i=r("bkwR"),l=r("dACB"),s=r("j76I"),u=r("JU1L"),c=r("l+8X"),d=r("+DAh"),p=r("enHn"),f=r("E5KU");t.setRecordValue=function(e){var t=e.table,r=e.id,n=e.recordCacheStore,o=e.recordWithRole;if((e.force||!o||!o.value||o.value.version>n.getVersion(t,r)||n.getRole(t,r)!==o.role)&&(n.setRecord(t,r,o),n.emitRecord(t,r),c.default)){var a=u.getCombinedId(t,r);c.default.set(a,o)}},t.setRecordMap=function(e){var r=e.recordMap,i=e.recordCacheStore;s.forEachRecordMapWithRole(r,function(e){var r=e.table,l=e.id,s=e.record;return n(a,void 0,void 0,function(){var e,n;return o(this,function(o){switch(o.label){case 0:return p.default.isPendingTransactionForRecord(r,l)?c.default?(e=u.getCombinedId(r,l),[4,c.default.get(e)]):[3,2]:[3,3];case 1:(n=o.sent())&&t.setRecordValue({recordCacheStore:i,table:r,id:l,recordWithRole:n}),o.label=2;case 2:return[3,4];case 3:t.setRecordValue({recordCacheStore:i,table:r,id:l,recordWithRole:s}),o.label=4;case 4:return[2]}})})})},t.fetchRemoteRecord=function(e){return n(this,void 0,void 0,function(){var r,n,a,l,s,d,h;return o(this,function(o){switch(o.label){case 0:return r=e.recordCacheStore,n=e.table,a=e.id,l=p.default.isPendingTransactionForRecord(n,a),c.default?(s=u.getCombinedId(n,a),[4,c.default.get(s)]):[3,2];case 1:(d=o.sent())&&t.setRecordValue({recordCacheStore:r,table:n,id:a,recordWithRole:d}),o.label=2;case 2:if(l)return[3,6];o.label=3;case 3:return o.trys.push([3,5,,6]),[4,i.getRecordValue({table:n,id:a})];case 4:return(d=o.sent())&&t.setRecordValue({recordCacheStore:r,table:n,id:a,recordWithRole:d}),[3,6];case 5:return h=o.sent(),f.error(h),[3,6];case 6:return[2]}})})},t.forceFetchRemoteRecord=function(e){return n(this,void 0,void 0,function(){var r,n,a,l;return o(this,function(o){switch(o.label){case 0:return r=e.recordCacheStore,n=e.table,a=e.id,[4,i.getRecordValue({table:n,id:a})];case 1:return(l=o.sent())&&(t.clearRecordValue({recordCacheStore:r,table:n,id:a}),t.setRecordValue({recordCacheStore:r,table:n,id:a,recordWithRole:l})),[2]}})})},t.clearRecordValue=function(e){var t=e.recordCacheStore,r=e.table,n=e.id;t.deleteRecord(r,n),t.emitRecord(r,n)},t.garbageCollectCache=function(){var e=d.default.state.cache;Object.keys(e).forEach(function(t){var r=u.extractCombinedId(t),n=r.table,o=r.id;d.default.hasListener(n,o)||(l.unsubscribe({table:n,id:o}),delete e[t])})},t.startListeners=function(){setInterval(t.garbageCollectCache,6e4)}},FmD2:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("Ucj+"),l=r("x0lk"),s=r("6rsX"),u=r("JZPr"),c=r("lBar"),d=r("v/t1"),p=r("jWHj"),f=r("sjR4"),h=r("QcDD"),m=r("nZ1u"),y=r("AmMh");t.startRectangularSelection=function(e){var r=e.target,n=e.startX,o=e.startY,a=e.showSelectionRect,i=e.preventSelectStores,l=y.default.getSortedComponents(),g=f.default.state.defaultContainer;if(g&&!(n>=window.innerWidth-h.default.scrollbarWidth||o>=window.innerHeight-h.default.scrollbarWidth)){var v=c.getVerticalScrollableAncestor(r),b=c.getHorizontalScrollableAncestor(r),w=l.filter(function(e){return e.getContextSelectableContainer()===g}),S=function(){m.default.state.isActive&&(s.recomputeSelectableRects(),t.continueRectangularSelection({currentX:m.default.state.currentX,currentY:m.default.state.currentY,toggle:p.getKeyboardState().shift}))};v&&d.addPassiveEventListener(v,"scroll",S),b&&d.addPassiveEventListener(b,"scroll",S),m.default.setState({moved:!1,isActive:!0,startX:n,startY:o,currentX:n,currentY:o,currentRect:void 0,startSelection:f.default.state.stores,startSelectables:w,verticalScrollerEl:v,horizontalScrollerEl:b,startScrollTop:v?v.scrollTop:0,startScrollLeft:b?b.scrollLeft:0,showSelectionRect:a,handleScroll:S,preventSelectStores:i}),s.clear(),u.clearSelection()}},t.continueRectangularSelection=function(e){var t,r,u=m.default.state;if(u.isActive){var c=u.currentX,d=u.currentY,p=u.verticalScrollerEl,f=u.horizontalScrollerEl,h=u.startScrollTop,y=u.startScrollLeft,g=u.preventSelectStores,b=u.startY;if(p)b-=p.scrollTop-h;var w=u.startX;if(f)w-=f.scrollLeft-y;var S={top:Math.min(b,d),bottom:Math.max(b,d),left:Math.min(w,c),right:Math.max(w,c)},_=i.default.state.selectableRectMap,k=u.startSelectables.filter(function(e){var t=_.get(e);return e.props.canSelect&&t&&l.intersects(S,t)&&g.indexOf(e.props.store)<0}),C=v(k),E=[],P=C.find(function(e){return e.length>1});if(P)E=P;else{var x=a.last(C);x&&(E=x)}var T=a.map(E,function(e){return e.props.store});if(e.toggle)try{for(var O=o(u.startSelection),M=O.next();!M.done;M=O.next()){var I=M.value;a.includes(T,I)?T=a.without(T,I):T.push(I)}}catch(e){t={error:e}}finally{try{M&&!M.done&&(r=O.return)&&r.call(O)}finally{if(t)throw t.error}}m.default.setState(n({},u,{moved:!0,currentX:e.currentX,currentY:e.currentY,currentRect:S})),s.setSelection({stores:T})}},t.completeRectangularSelection=function(){var e=m.default.state;if(e.isActive){var t=e.moved,r=e.verticalScrollerEl,n=e.horizontalScrollerEl,o=e.handleScroll;t||s.clear(),r&&d.removePassiveEventListener(r,"scroll",o),n&&d.removePassiveEventListener(n,"scroll",o),m.default.setState({isActive:!1})}},t.startListeners=function(){var e=function(e){m.default.state.isActive&&(e.preventDefault(),t.continueRectangularSelection({currentX:m.default.state.currentX,currentY:m.default.state.currentY,toggle:e.shiftKey}))};window.addEventListener("keydown",e),window.addEventListener("keyup",e),window.addEventListener("mousemove",function(e){m.default.state.isActive&&(e.preventDefault(),t.continueRectangularSelection({currentX:e.clientX,currentY:e.clientY,toggle:e.shiftKey}))}),window.addEventListener("mouseup",function(e){m.default.state.isActive&&(e.preventDefault(),t.completeRectangularSelection())})};var g=function(e){if(e)for(;;){if(!(e=e.getContextClosestSelectable()))return;if(e.props.canSelect)return e}},v=function(e){var t,r,n=new Map,a={root:!0};try{for(var i=o(e),l=i.next();!l.done;l=i.next()){var s=l.value,u=g(s)||a;n.get(u)||n.set(u,[]),n.get(u).push(s)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return Array.from(n.values())}},FmD4:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t}(r("LEzx").default);t.default=a},Fo9m:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("N34Z"),a=r("p+Y9"),i=r("cBa6"),l=r("BRCg"),s=r("MBf9"),u=r("vX3W");t.uploadFile=function(e){var r=e.store,o=e.file,i=l.default.getBlockKey(r.id);u.clear(),a.uploadFile({file:o,bucket:"secure",onStart:function(e){l.default.setKeyState(i,{progressPercent:0,file:o,name:e.name,size:e.size})},onProgress:function(e){var t=l.default.getKeyState(i);t&&l.default.setKeyState(i,n({},t,{progressPercent:e.progressPercent}))},onComplete:function(e){var n=l.default.getKeyState(i);n&&s.createAndCommit(function(o){t.updateSource({store:r,source:e,name:n.name,size:n.size,transaction:o}),l.default.setKeyState(i,void 0)})},onError:function(e){l.default.setKeyState(i,void 0)}})},t.updateSource=function(e){var t,r=e.store,n=e.source,a=e.name,l=e.size,s=e.transaction;a?t=a:n&&(t=n.substring(n.lastIndexOf("/")+1)),o.updateValue({store:r.getPropertiesStore(),data:{source:i.createTextValue(n),title:i.createTextValue(t),size:i.createTextValue(l)},transaction:s})}},Fv2F:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("CxY0");function o(e){return e.src.endsWith("/")?e.dest.endsWith("/")?e.dest:e.dest+"/":e.dest.endsWith("/")?e.dest.slice(0,e.dest.length-1):e.dest}t.getSchemeUrl=function(e){var t=n.parse(e.httpUrl,!0);t.protocol=e.protocol+":",t.port=void 0,t.host=void 0;var r=n.format(t);return o({src:e.httpUrl,dest:r})},t.getHttpUrl=function(e){var t=n.parse(e.baseUrl),r=n.parse(e.schemeUrl,!0);r.protocol=t.protocol,r.port=t.port,r.host=t.host;var a=n.format(r);return o({src:e.schemeUrl,dest:a})},t.fixSchemeUrl=function(e){if(!e.url.startsWith(e.protocol+":"))return e.url;var t=n.parse(e.baseUrl,!0);return n.parse(e.url,!0).hostname===t.hostname?e.url:e.url.replace(e.protocol+"://*",e.protocol+":/")}},FxE9:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("STAJ"),s=r("njgS"),u=r("IdIf"),c=r("t+pW"),d=r("g8hj"),p=r("Vga2"),f=r("r8oj"),h=r("q1tI"),m=r("zmp8"),y=r("09Jm"),g=r("wF3w"),v=r("y6Dp"),b=r("gbGO"),w=r("2Y+N"),S=r("nObc"),_=r("Z1H8"),k=r("Bc2g"),C=r("i3uR"),E=r("wXH4"),P=r("MHAS"),x=r("AlLG"),T=r("rX6N"),O=r("sk4J"),M=r("SR/M"),I=r("lEhh"),A=r("zEGb"),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderCoverAspectFormatToggle=function(){return i.createElement(M.default,{focused:!1,title:"Fit Image",onClick:t.handleCoverAspectFormatToggle,right:i.createElement(I.default,{on:"contain"===t.getCoverAspectFormat(),onClick:t.handleCoverAspectFormatToggle})})},t.renderCoverSizePopup=function(e){return i.createElement(O.default,{schema:t.props.schema,onAccept:t.handleCoverSizeFormatAccept,onClose:e.close})},t.renderCoverFormatPopup=function(e){return i.createElement(T.default,{schema:t.props.schema,onAccept:t.handleCoverFormatAccept,onClose:e.close})},t.handleDraggableDrop=function(e){var r=t.props,n=r.onChange,o=r.format,a=r.viewType,i=t.getProperties(),s=e.map(function(e){return l.find(l.propEq("property",e),i)});n({newFormat:l.assoc(t.getPropertiesFormatKey(),s,o)}),v.trackConfigureView({view_type:a,action:"reorder_properties"})},t.handleAddPropertyClick=function(){var e=t.props,r=e.schema,n=e.onChange,o=Object.keys(r),i=y.default("Property",function(e){return!o.find(function(t){var n=r[t];return Boolean(n&&n.name===e)})}),s=g.default(),u={name:i,type:"text"};n({newSchema:l.assoc(s,u,r)}),v.trackCreateProperty({from:"view_properties"}),t.stores.store.setState(a({},t.stores.store.state,{openProperty:s}))},t.handleCoverFormatAccept=function(e){var r,n,o=t.props,i=o.format,l=o.onChange,s=o.viewType,u=t.getCoverFormatKey(),c=t.getTitleVisibilityFormatKey();if(u){var d=a({},i,((r={})[u]=e,r));c&&(d=a({},d,((n={})[c]=!e||t.getTitleVisibilityFormat(),n))),l({newFormat:d})}v.trackConfigureView({view_type:s,action:"set_cover_format"})},t.handleCoverSizeFormatAccept=function(e){var r,n=t.props,o=n.format,i=n.onChange,l=n.viewType,s=t.getCoverSizeFormatKey();s&&i({newFormat:a({},o,((r={})[s]=e,r))});v.trackConfigureView({view_type:l,action:"set_cover_size_format"})},t.handleCoverAspectFormatToggle=function(){var e,r=t.props,n=r.format,o=r.onChange,i=r.viewType,l=t.getCoverAspectFormatKey();l&&o({newFormat:a({},n,((e={})[l]="contain"===n[l]?"cover":"contain",e))});v.trackConfigureView({view_type:i,action:"set_cover_aspect_format"})},t.handleTitleVisibilityToggle=function(){var e,r=t.props,n=r.format,o=r.onChange,i=r.viewType,l=t.getTitleVisibilityFormatKey();l&&o({newFormat:a({},n,((e={})[l]=!t.getTitleVisibilityFormat(),e))});v.trackConfigureView({view_type:i,action:"set_title_visibility_format"})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return i.createElement(_.default,{capture:!0,allowEsc:!0,allowUndo:!0,render:function(t){var r;return r=f.default.isMobile?a({menuType:b.default.MenuType.Modal,title:"Properties",right:"Done",onClickRight:e.props.onDismiss},t):a({menuType:b.default.MenuType.Popup,width:260},t),i.createElement(b.default,a({},r),e.renderCardSettings(),e.renderTitleVisibilityFormatToggle(),e.renderProperties(),e.renderAddProperty())}})},t.prototype.renderCardSettings=function(){var e=this;if(this.getCoverFormatKey()){var t=this.getCoverFormat(),r=this.getCoverSizeFormat(),n=!f.default.isMobile||"board"===this.props.viewType;return i.createElement(w.default,null,i.createElement(C.default,{popupType:f.default.isMobile?E.PopupType.SlideUp:E.PopupType.Popup,alignmentToOrigin:C.default.Alignment.End,placementToOrigin:C.default.Placement.Bottom,originGap:8,renderOrigin:function(r){return e.renderCoverFormatOrigin(t,r)},render:this.renderCoverFormatPopup}),n&&i.createElement(C.default,{popupType:f.default.isMobile?E.PopupType.SlideUp:E.PopupType.Popup,renderOrigin:function(t){return e.renderCoverSizeFormatOrigin(r,t)},alignmentToOrigin:C.default.Alignment.End,placementToOrigin:C.default.Placement.Bottom,originGap:8,render:this.renderCoverSizePopup}),t&&this.renderCoverAspectFormatToggle())}},t.prototype.renderCoverSizeFormatOrigin=function(e,t){var r=this.props.disabled;return i.createElement(P.default,a({},t,{title:"Card Size",focused:!1,showExtensionArrow:f.default.isMobile,right:u.getCoverSizeHumanReadableName(e),disabled:r}))},t.prototype.renderCoverFormatOrigin=function(e,t){var r,n=this.props,o=n.disabled,l=n.schema;if(e&&"property"===e.type){var s=l[e.property];s&&(r=i.createElement(x.default,{propertySchema:s,showIcon:!0}))}else r=u.getCoverFormatHumanReadableName(e);return i.createElement(P.default,a({},t,{title:"Card Preview",focused:!1,showExtensionArrow:f.default.isMobile,right:r,disabled:o}))},t.prototype.renderTitleVisibilityFormatToggle=function(){var e=this.getCoverFormat();if(this.getTitleVisibilityFormatKey()&&e){var t=Boolean(this.getCoverFormatKey());return i.createElement(w.default,{topBorder:t},i.createElement(M.default,{focused:!1,title:"Name",onClick:this.handleTitleVisibilityToggle,icon:i.createElement(A.default,{type:"title",size:f.default.isMobile?16:14,theme:this.theme,style:{fill:this.theme.regularIconColor}}),right:i.createElement(I.default,{on:Boolean(this.getTitleVisibilityFormat()),onClick:this.handleTitleVisibilityToggle})}))}},t.prototype.renderProperties=function(){var e=this,t=this.props.collectionValue,r=this.getProperties(),n=Boolean(this.getCoverFormatKey());if(f.default.isMobile){var o=r.filter(function(e){return e.visible}).map(function(r){return i.createElement(p.default,{collectionValue:t,key:r.property,disabled:e.props.disabled,viewType:e.props.viewType,format:e.props.format,formatKey:e.getPropertiesFormatKey(),query:e.props.query,schema:e.props.schema,onChange:e.props.onChange,property:r.property,store:e.stores.store})}),a=r.filter(function(e){return!e.visible}).map(function(r){return i.createElement(p.default,{collectionValue:t,key:r.property,disabled:e.props.disabled,viewType:e.props.viewType,format:e.props.format,formatKey:e.getPropertiesFormatKey(),query:e.props.query,schema:e.props.schema,onChange:e.props.onChange,property:r.property,store:e.stores.store})});return i.createElement(h.Fragment,null,o.length>0&&i.createElement(w.default,{title:"Visible Properties"},o),a.length>0&&i.createElement(w.default,{title:"Hidden Properties"},a))}return i.createElement(w.default,{topBorder:n},i.createElement(d.default,{direction:d.DraggableListDirection.Vertical,keys:r.map(function(e){return e.property}),renderKey:function(r){return i.createElement(p.default,{collectionValue:t,key:r,disabled:e.props.disabled,viewType:e.props.viewType,format:e.props.format,formatKey:e.getPropertiesFormatKey(),query:e.props.query,schema:e.props.schema,onChange:e.props.onChange,property:r,store:e.stores.store})},onDrop:this.handleDraggableDrop}))},t.prototype.renderAddProperty=function(){return i.createElement(w.default,{topBorder:!0},i.createElement(S.default,{title:"Add a property",focused:!1,onClick:this.handleAddPropertyClick}))},t.prototype.getPropertiesFormatKey=function(){return s.collectionViewPropertiesFormatKeyMap[this.props.viewType]},t.prototype.getProperties=function(){var e=this.props.format,t=this.getPropertiesFormatKey();return e&&e[t]||[]},t.prototype.getCoverFormatKey=function(){return s.collectionViewCoverFormatKeyMap[this.props.viewType]},t.prototype.getCoverSizeFormatKey=function(){return s.collectionViewCoverSizeFormatKeyMap[this.props.viewType]},t.prototype.getCoverAspectFormatKey=function(){return s.collectionViewCoverAspectFormatKeyMap[this.props.viewType]},t.prototype.getTitleVisibilityFormatKey=function(){return s.collectionViewTitleVisibleFormatKeyMap[this.props.viewType]},t.prototype.getCoverFormat=function(){var e=this.props.format,t=this.getCoverFormatKey();if(t&&e)return e[t]},t.prototype.getCoverSizeFormat=function(){var e=this.props.format,t=this.getCoverSizeFormatKey();if(t&&e)return e[t]},t.prototype.getCoverAspectFormat=function(){var e=this.props.format,t=this.getCoverAspectFormatKey();if(t&&e)return e[t]},t.prototype.getTitleVisibilityFormat=function(){var e=this.props.format,t=this.getTitleVisibilityFormatKey();return!t||!e||(void 0===e[t]||e[t])},t.stores={store:k.default},t.addButtonStyle={color:m.default.uiGray,padding:"2px 3px",whiteSpace:"nowrap",fontSize:14,marginTop:4,paddingLeft:8,paddingRight:8,height:28},t}(c.default);t.default=D},"G+ib":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r("q1tI"),s=r("LvDl"),u=r("q1tI"),c=r("/YYm"),d=r("g4rC"),p=r("IwFn"),f=r("t+pW"),h=r("IdSf"),m=r("4QR2"),y=r("yisX"),g=r("OxuQ"),v=r("y6Dp"),b=r("lEhh"),w=r("LeVO"),S=r("r8oj"),_=r("wS9/"),k=r("MeYt"),C=r("5Nka");!function(e){e[e.Web=0]="Web",e[e.Workspace=1]="Workspace",e[e.User=2]="User"}(i=t.PermissionItemFormat||(t.PermissionItemFormat={}));var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderAllowSearchEngineTooltip=function(){return t.renderTooltip(l.createElement("span",null,"If allowed, your public page may appear in search engines such as Google, but only if you or someone links to it elsewhere on the web."),C.default.images.tooltips.share.allowSearchEnginesPng,120)},t.renderAllowDuplicateTooltip=function(){return t.renderTooltip(l.createElement("span",null,"If allowed, this will allow other people to duplicate your public page to their workspace."),C.default.images.tooltips.share.allowDuplicateV2Png,120)},t.handleToggleSearchEngine=function(){var e=t.props.permissionItem;if("public_permission"===e.type){var r=e,n=Boolean(r.allow_search_engine_indexing),o=s.clone(r),a=!n;o.allow_search_engine_indexing=a,t.props.onChange(o),v.trackToggleAllowSearchEngineIndexing({allow_search_engine_indexing:a})}},t.handleToggleDuplicate=function(){var e=t.props.permissionItem;if("public_permission"===e.type){var r=e,n=void 0===r.allow_duplicate||!0===r.allow_duplicate,o=s.clone(r),a=!n;o.allow_duplicate=a,t.props.onChange(o),v.trackToggleAllowDuplicate({allow_duplicate:a})}},t.handleRoleSelect=function(e){var r=s.clone(t.props.permissionItem);r.role=e,t.props.onChange(r)},t.handleSwitcherButtonClick=function(){var e=t.props,r=e.role,n=e.switcherRole;"none"===r?t.handleRoleSelect(n||"editor"):t.handleRoleSelect("none")},t.handleUserItemClick=function(){t.stores.buttonPopupStore.setState(a({},t.stores.buttonPopupStore.state,{open:!0}))},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props,r=t.tooltip,n=t.isInherited,o=t.disabled,i=this.isUserItem()?this.handleUserItemClick:this.handleSwitcherButtonClick;return r?l.createElement(u.Fragment,null,l.createElement(w.default,{delayThreshold:0,renderTooltip:function(){return r},render:function(t){return l.createElement(k.default,a({disabled:n||o,mobileFeedback:S.default.isMobile,style:a({},(n||o)&&{cursor:"not-allowed"}),onClick:i},t),e.renderMenuItem())},placement:w.default.Placement.Left}),this.renderPublicPermissionSettings()):l.createElement(u.Fragment,null,l.createElement(k.default,{disabled:n||o,style:a({},(n||o)&&{cursor:"not-allowed"}),onClick:i},this.renderMenuItem()),this.renderPublicPermissionSettings())},t.prototype.renderMenuItem=function(){var e=this.props,r=e.store,n=e.role,o=e.isPublic,i=e.isInherited,s=e.disabled,u=r.getPermissionItems(),c=this.isUserItem(),d=!c&&!S.default.isMobile;return l.createElement(m.default,{style:this.getMenuItemStyle(),left:this.props.icon,leftStyle:{width:t.iconSize,height:t.iconSize},right:l.createElement("div",{style:{display:"flex",alignItems:"center"}},l.createElement(y.default,{role:this.props.role,isSpace:!1,isPublic:o,disabled:i||this.props.disabled,isSubscribed:this.props.isSubscribed,isUserPermission:y.default.permissionItemIsUserItem(this.props.permissionItem,u),isUser:this.props.isUser,onChange:this.handleRoleSelect,onUpgradeButtonClick:this.props.onUpgradeButtonClick,upgradeButtonName:this.props.upgradeButtonName,buttonPopupStore:this.stores.buttonPopupStore,buttonStyle:{marginRight:S.default.isMobile||c?0:8}}),d&&l.createElement(b.default,{on:"none"!==n,onClick:this.handleSwitcherButtonClick,disabled:i||s,isAndroid:S.default.isAndroid})),rightStyle:{marginLeft:8},hasExtraPadding:!0},l.createElement("div",{style:a({fontSize:14},t.textOverflowStyle)},this.props.title),this.props.subtitle&&l.createElement(p.default,{style:t.textOverflowStyle},this.props.subtitle),i&&this.renderInheritedRecordTitle())},t.prototype.getPublicPermissionSettingsHeight=function(e){return e?0:S.default.isMobile?89:73},t.prototype.renderPublicPermissionSettings=function(){var e=this,t=this.props,r=t.permissionItem,n=t.disabled,o=t.isInherited;if("public_permission"===r.type){var i=r,s="none"===i.role;return l.createElement("div",{style:a({height:this.getPublicPermissionSettingsHeight(s),transition:"height ease-in-out 300ms",overflow:"hidden",background:this.theme.accordeonBackground},this.getTopBorderStyle())},l.createElement(w.default,{placement:w.default.Placement.Left,renderTooltip:this.renderAllowSearchEngineTooltip,render:function(t){return l.createElement(k.default,a({onClick:e.handleToggleSearchEngine,style:e.getBottomBorderStyle(),disabled:n||o},t),l.createElement(m.default,{style:e.getSubMenuItemStyle()},l.createElement("div",{style:{display:"flex",alignItems:"center"}},l.createElement("div",{style:{marginRight:"auto",opacity:o||n?.3:1}},"Allow Search Engines"),l.createElement(b.default,{on:Boolean(i.allow_search_engine_indexing),onClick:e.handleToggleSearchEngine,disabled:n||o,isAndroid:S.default.isAndroid}))))}}),l.createElement(w.default,{placement:w.default.Placement.Left,renderTooltip:this.renderAllowDuplicateTooltip,render:function(t){return l.createElement(k.default,a({onClick:e.handleToggleDuplicate,disabled:n||o},t),l.createElement(m.default,{style:e.getSubMenuItemStyle()},l.createElement("div",{style:{display:"flex",alignItems:"center"}},l.createElement("div",{style:{marginRight:"auto",opacity:o||n?.3:1}},"Allow Duplicate as Template"),l.createElement(b.default,{on:!1!==i.allow_duplicate,onClick:e.handleToggleDuplicate,disabled:n||o,isAndroid:S.default.isAndroid}))))}}))}},t.prototype.renderInheritedRecordTitle=function(){var e=this.props.store,t=c.default({store:e,fullyQualified:!1});return l.createElement(p.default,{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},"Based on"," ",l.createElement(h.default,{underline:!0,inline:!0,href:t},l.createElement(g.default,{store:e,style:{display:"inline"}})))},t.prototype.renderTooltip=function(e,t,r){return l.createElement("div",{style:{width:240,marginTop:4,marginBottom:4}},l.createElement("div",{style:{width:"100%",height:r||180,borderRadius:3,backgroundImage:"url("+t+")",backgroundSize:"cover",marginBottom:6}}),l.createElement("div",{style:{whiteSpace:"normal",lineHeight:1.4}},e))},t.prototype.isUserItem=function(){return this.props.format===i.User},t.prototype.getMenuItemStyle=function(){return{minHeight:52,paddingTop:6,paddingBottom:8,paddingLeft:_.default.calcPaddingLeft(14),paddingRight:_.default.calcPaddingRight(14)}},t.prototype.getSubMenuItemStyle=function(){return{minHeight:0,height:S.default.isMobile?44:36,paddingLeft:_.default.calcPaddingLeft(14),paddingRight:S.default.isMobile?_.default.calcPaddingRight(20):_.default.calcPaddingRight(14),fontSize:14}},t.prototype.getBottomBorderStyle=function(){return{boxShadow:"0 1px 0 "+this.theme.regularDividerColor,marginBottom:1}},t.prototype.getTopBorderStyle=function(){return{boxShadow:"0 -1px 0 "+this.theme.regularDividerColor,marginBottom:-1}},t.Format=i,t.stores={buttonPopupStore:d.default},t.iconSize=30,t.textOverflowStyle={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t}(f.default);t.default=E},G2eB:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("hfHo"),l=r("yjqD"),s=r("wpmu"),u=r("bkwR"),c=r("N34Z"),d=r("MBf9"),p=r("p+Y9"),f=r("sdlW"),h=r("hvW1"),m=r("VBxf"),y=r("jZoB"),g=r("miBo"),v=r("VcB+"),b=r("LvDl"),w=r("HRSx"),S=r("udrG"),_=r("cw0H"),k=r("E5KU");t.importFiles=function(e){return n(this,void 0,void 0,function(){var t,r,n,c,g,v,b,w,S,_,k,C,E,P,x,T,O,M,I,A,D,L,R,B,j;return o(this,function(o){switch(o.label){case 0:n=e.pageStore,c=e.spaceStore,g=e.isTeamPage,v=e.spaceViewStore,o.label=1;case 1:return o.trys.push([1,18,,19]),[4,p.openFilePicker({multiple:!0})];case 2:return 0===(w=o.sent()).length?[2]:(S=1===w.length,[4,new Promise(function(e,t){p.uploadFiles({files:w,bucket:"temporary",preventLimitFreeFileSize:!0,onStart:function(){h.display({message:S?"Uploading...":"Uploaded 0 of "+w.length})},onProgress:function(e){var t=e.uploadedFiles;h.display({message:S?"Uploading...":"Uploaded "+t+" of "+w.length})},onComplete:function(t){h.display({message:S?"Uploading...":"Uploaded "+w.length+" of "+w.length}),e(t)},onError:t})})]);case 3:return _=o.sent(),k=void 0,C=void 0,n&&n.isEmptyPage()?(w.length>1||n.isInsideCollection()?(k=n.id,C="AppendToBlock"):(k=n.id,C="ReplaceBlock"),[3,6]):[3,4];case 4:return E=d.create(),P=f.createEmptyPageInSpace({spaceStore:c,spaceViewStore:v,isPrivate:!g,prepend:!g,title:"Import "+i.default().format("MMM DD, YYYY"),transaction:E}),b=P,k=P.id,C=w.length>1?"AppendToBlock":"ReplaceBlock",x=l.deferred(),E.postSubmitCallbacks.push(x.resolve),d.commit({transaction:E}),[4,x.promise];case 5:o.sent(),o.label=6;case 6:T=_.map(function(e,t){return{fileURL:e,fileName:w[t].name}}),O=0,h.display({message:S?"Importing...":"Imported "+O+" of "+w.length}),o.label=7;case 7:o.trys.push([7,15,16,17]),M=a(T),I=M.next(),o.label=8;case 8:return I.done?[3,14]:(A=I.value,D=A.fileURL,L=A.fileName,"AppendToBlock"!==C?[3,10]:[4,u.importFile({fileURL:D,fileName:L,importType:C,pageId:k}).next()]);case 9:if((R=o.sent().value).error)throw R.error;return[3,12];case 10:return"ReplaceBlock"!==C?[3,12]:[4,u.importFile({fileURL:D,fileName:L,importType:C,pageId:k}).next()];case 11:if((R=o.sent().value).error)throw R.error;o.label=12;case 12:O++,h.display({message:S?"Importing...":"Imported "+O+" of "+w.length}),o.label=13;case 13:return I=M.next(),[3,8];case 14:return[3,17];case 15:return B=o.sent(),t={error:B},[3,17];case 16:try{I&&!I.done&&(r=M.return)&&r.call(M)}finally{if(t)throw t.error}return[7];case 17:return h.close(),[2,s.default.createChildStore(c,k)];case 18:throw j=o.sent(),h.close(),d.createAndCommit(function(e){b&&y.remove({parent:c.getPagesStore(),remove:b,transaction:e})}),m.showError({error:new Error("Import Failed.")}),j;case 19:return[2]}})})},t.importTrello=function(e){return n(this,void 0,void 0,function(){var t,r,i,l,s,c,p=this;return o(this,function(g){switch(g.label){case 0:return t=e.boards,r=e.spaceStore,i=e.spaceViewStore,h.display({message:T(t.length,"Board","Trello")}),v.default.setState({open:!1}),l=d.create(),s=t.map(function(e){return f.createEmptyPageInSpace({spaceStore:r,spaceViewStore:i,isPrivate:!0,prepend:!0,loading:!0,title:e.name,transaction:l})}),[4,new Promise(function(e){l.postSubmitCallbacks.push(e),d.commit({transaction:l})})];case 1:g.sent(),g.label=2;case 2:return g.trys.push([2,4,,5]),[4,Promise.all(s.map(function(e,r){return n(p,void 0,void 0,function(){var n,a;return o(this,function(o){switch(o.label){case 0:return n=t[r],[4,u.importTrello({boardId:n.id,blockId:e.id}).next()];case 1:if((a=o.sent().value).error)throw a.error;return[2]}})})}))];case 3:return g.sent(),h.close(),[2,s[0]];case 4:throw c=g.sent(),d.createAndCommit(function(e){var t,n;try{for(var o=a(s),i=o.next();!i.done;i=o.next()){var l=i.value;y.remove({parent:r.getPagesStore(),remove:l,transaction:e})}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}),m.showError({error:new Error("Trello Import Failed.")}),h.close(),new Error(c);case 5:return[2]}})})},t.importAsana=function(e){return n(this,void 0,void 0,function(){var t,r,i,l,s,c,p=this;return o(this,function(v){switch(v.label){case 0:return t=e.projects,r=e.spaceStore,i=e.spaceViewStore,h.display({message:T(t.length,"Project","Asana")}),g.default.setState({open:!1}),l=d.create(),s=t.map(function(e){return f.createEmptyPageInSpace({spaceStore:r,spaceViewStore:i,isPrivate:!0,prepend:!0,loading:!0,title:e.name,transaction:l})}),[4,d.commit({transaction:l})];case 1:v.sent(),v.label=2;case 2:return v.trys.push([2,4,,5]),[4,Promise.all(s.map(function(e,r){return n(p,void 0,void 0,function(){var n,a;return o(this,function(o){switch(o.label){case 0:return n=t[r],[4,u.importAsana({blockId:e.id,projectId:n.id}).next()];case 1:if((a=o.sent().value).error)throw a.error;return[2]}})})}))];case 3:return v.sent(),h.close(),[2,s[0]];case 4:throw c=v.sent(),d.createAndCommit(function(e){var t,n;try{for(var o=a(s),i=o.next();!i.done;i=o.next()){var l=i.value;y.remove({parent:r.getPagesStore(),remove:l,transaction:e})}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}),m.showError({error:new Error("Asana Import Failed.")}),h.close(),new Error(c);case 5:return[2]}})})},t.importEvernote=function(e){return n(this,void 0,void 0,function(){var t,r,n,a,i,l,s;return o(this,function(o){switch(o.label){case 0:if(t=e.spaceStore,r=e.spaceViewStore,n=e.notebooks,a=e.userSettingsStore,0===n.length)throw new Error("Expected at least one notebook");return h.display({message:T(n.length,"Notebook","Evernote")}),_.default.setState({open:!1}),[4,x({spaceStore:t,spaceViewStore:r,notebooks:n})];case 1:i=o.sent(),l=i[n[0].guid],o.label=2;case 2:return o.trys.push([2,4,,5]),[4,E({waitForNotebook:l,notebookMapping:i,notebooks:n,spaceStore:t,spaceViewStore:r,userSettingsStore:a})];case 3:return o.sent(),h.close(),[2,l];case 4:throw s=o.sent(),m.showError({error:new Error("Evernote Import Failed.")}),h.close(),s;case 5:return[2]}})})};var C=2;function E(e){return n(this,void 0,void 0,function(){var t,r,a,i,s,u,c,d=this;return o(this,function(p){switch(p.label){case 0:if(t=e.spaceStore,r=e.spaceViewStore,a=e.notebooks,i=e.waitForNotebook,s=e.notebookMapping,u=e.userSettingsStore,l.batch(a,C,function(e){return n(d,void 0,void 0,function(){var t=this;return o(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(e){return n(t,void 0,void 0,function(){var t,r;return o(this,function(n){switch(n.label){case 0:if(!(t=s[e.guid]))throw new Error("Missing notebook page "+e.guid);return r=l.deferred(),t===i&&(c=r),[4,P({notebookStore:t,notebook:e,firstCompleted:r})];case 1:return n.sent(),[2]}})})}))];case 1:return r.sent(),[2]}})})}),!c)throw new Error("waitForNotebookFirstCompleted not defined.");return u.getSettings().created_evernote_getting_started?[3,2]:[4,f.createGettingStartedPageInSpace({type:f.GettingStartedPageType.Evernote,spaceStore:t,spaceViewStore:r,userSettingsStore:u})];case 1:p.sent(),p.label=2;case 2:return[4,c.promise];case 3:return p.sent(),[2]}})})}function P(e){return n(this,void 0,void 0,function(){var t,r,n,a;return o(this,function(o){switch(o.label){case 0:return t=e.notebookStore,r=e.notebook,n=e.firstCompleted,[4,u.importEvernote({notebookId:r.guid,blockId:t.id,timestamp:Date.now(),parentTable:w.default.table}).next()];case 1:if((a=o.sent().value).error)throw k.error(a.error),d.createAndCommit(function(e){var r=t.getParentBlockStore();if(r){var n=r.getContentStore();y.remove({parent:n,remove:t,transaction:e})}}),a.error;return n.resolve(void 0),[2]}})})}function x(e){return n(this,void 0,void 0,function(){var t,r,n,a,i,l,s;return o(this,function(o){switch(o.label){case 0:return t=e.spaceStore,r=e.spaceViewStore,n=e.notebooks,a=d.create(),i=b.uniq(b.compact(n.map(function(e){return e.stack}))).sort().reverse(),l={},s=function(e){return!0},n.length>1&&i.length>0&&(i.forEach(function(e){var o=f.createEmptyPageInSpace({spaceStore:t,spaceViewStore:r,isPrivate:!0,prepend:!0,loading:!1,title:e,transaction:a}),i=o.getContentStore();n.filter(function(t){return t.stack===e}).forEach(function(e){var t=c.createBlock({type:S.default.copyIndicator,recordCacheStore:o.recordCacheStore,transaction:a});y.append({parent:i,append:t,transaction:a}),l[e.guid]=t})}),s=function(e){return!Boolean(e.stack)}),n.filter(s).reverse().forEach(function(e){var n=f.createEmptyPageInSpace({spaceStore:t,spaceViewStore:r,isPrivate:!0,prepend:!0,loading:!0,title:e.title,transaction:a});l[e.guid]=n}),[4,d.commit({transaction:a})];case 1:return o.sent(),[2,l]}})})}var T=function(e,t,r){return"Importing "+e+" "+t+(e>1?"s":"")+" from "+r+"..."}},G414:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("wpmu"),s=r("6rsX"),u=r("G4cA"),c=r("y6Dp"),d=r("jZoB"),p=r("lufz"),f=r("Mr7a"),h=r("N34Z"),m=r("bjn0"),y=r("HSWF"),g=r("QcDD"),v=r("T1hA"),b=r("ov3o"),w=r("uUOz"),S=r("pl8j"),_=r("hi+p"),k=r("fbat"),C=r("RvCr");t.open=function(e){var t=e.blocks,r=e.originRect,n=e.analyticsFrom,o=e.onAccept;t.length&&(w.default.reset(),S.default.reset(),_.close(),k.default.reset(),b.default.setState({isOpen:!0,rect:r,targets:t,autocompleteQuery:"",analyticsFrom:n,onAccept:o}))},t.accept=function(e){return o(this,void 0,void 0,function(){var r,o,s,w,S,_,k,E,P,x,T,O,M,I,A,D,L,R,B,j,V,F;return a(this,function(a){switch(a.label){case 0:if(s=e.table,w=e.id,S=e.transaction,_=b.default.state,k=g.default.state,E=k.currentBlockStore,P=k.userRootStore,x=v.default.state.userId,_.isOpen&&E&&P&&x){if(T=_.targets,t.close(),O=void 0,"block"===s?(M=l.default.createChildStore(E,w),O=M.isCollectionView()?M.getCollectionViewCollectionStore():M):"space"===s?O=u.default.createChildStore(E,w):"collection"===s&&(O=m.default.createChildStore(E,w)),!O)throw new Error("Move to store invalid.");try{for(I=i(T),A=I.next();!A.done;A=I.next())D=A.value,(L=D.getParentStore())instanceof l.default?d.remove({parent:L.getContentStore(),remove:D,transaction:S}):L instanceof u.default&&d.remove({parent:L.getPagesStore(),remove:D,transaction:S}),O instanceof l.default?(d.append({parent:O.getContentStore(),append:D,transaction:S}),f.clearPermissions({store:D,transaction:S})):O instanceof m.default?(f.clearPermissions({store:D,transaction:S}),C.addBlockToGroup({store:D,collectionStore:O,coerce:!0,transaction:S})):O instanceof u.default&&(d.append({parent:O.getPagesStore(),append:D,transaction:S}),R={type:"user_permission",user_id:x,role:"editor"},h.updateValue({store:D,data:{permissions:[R]},transaction:S})),p.setParent({parentStore:O,childStore:D,alive:!0,transaction:S})}catch(e){r={error:e}}finally{try{A&&!A.done&&(o=I.return)&&o.call(I)}finally{if(r)throw r.error}}O instanceof u.default&&(B=u.default.createChildStore(E,w),j=P.getSpaceViewStores(),V=j.find(function(e){return e.getSpaceId()===B.id}),Boolean(T.find(function(e){return e.id===E.id}))&&V&&g.default.setState(n({},g.default.state,{currentSpaceStore:B,currentSpaceViewStore:V}))),c.trackMoveTo({table:s,from:_.analyticsFrom}),_.onAccept&&_.onAccept({table:s,id:w})}return(F=g.default.state.currentSpaceStore)?[4,y.addRecentMoveToTarget(F,F.id,{table:s,id:w})]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.close=function(){b.default.setState({isOpen:!1}),s.clear()}},G4GV:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{inputValue:"",focus:!1}},t}(r("LEzx").default);t.default=a},G4cA:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("FUUC"),i=r("wpmu"),l=r("bPtJ"),s=r("VpIZ"),u=r("+fkW"),c=function(e){function t(t,r){return e.call(this,a.default.table,t,[],r)||this}return o(t,e),t.createChildStore=function(e,r){var n=l.default.getChildStoreKey(a.default.table,r,t.keyName),o=e.getRecordStoreChildStore(n),i=o||new t(r,e.recordCacheStore);return o||i.setRecordStoreParent(e,n),i},t.prototype.clone=function(){return new t(this.id,this.recordCacheStore)},t.prototype.getPageIds=function(){var e=this.getValue();return e&&e.pages?e.pages:[]},t.prototype.getName=function(){var e=this.getValue();if(e&&e.name)return e.name||"Untitled Workspace";var t=u.default.getPublicSpaceData(this.id);return t?t.name||"Untitled Workspace":void 0},t.prototype.getDomain=function(){var e=this.getValue();if(e&&e.domain)return e.domain;var t=u.default.getPublicSpaceData(this.id);return t?t.domain:void 0},t.prototype.getIcon=function(){var e=this,t=this.getValue();if(t)return s.getRecordIcon({table:"space",value:t,getRecordValue:function(t,r){return l.createRecordStore(e,t,r).getValue()}});var r=u.default.getPublicSpaceData(this.id);return r&&r.icon?{table:"space",id:this.id,icon:r.icon}:void 0},t.prototype.getDisablePublicAccess=function(){var e=this.getValue();if(e)return Boolean(e.disable_public_access);var t=u.default.getPublicSpaceData(this.id);return!!t&&t.disablePublicAccess},t.prototype.getDisableGuests=function(){var e=this.getValue();if(e)return Boolean(e.disable_guests);var t=u.default.getPublicSpaceData(this.id);return!!t&&t.disableGuests},t.prototype.getDisableMoveToSpace=function(){var e=this.getValue();if(e)return Boolean(e.disable_move_to_space);var t=u.default.getPublicSpaceData(this.id);return!!t&&t.disableMoveToSpace},t.prototype.getIconStore=function(){return l.createRecordKeyStore(this,a.default.table,this.id,"icon")},t.prototype.getPagesStore=function(){return l.createRecordKeyStore(this,a.default.table,this.id,"pages")},t.prototype.getPagesStores=function(){var e=this.getPagesStore(),t=e.getValue();return t?t.map(function(t){return i.default.createChildStore(e,t)}):[]},t.prototype.getPermissionsStore=function(){return l.createRecordKeyStore(this,a.default.table,this.id,"permissions")},t.prototype.getPermissionItems=function(){var e=this.getValue();return e&&e.permissions&&e.permissions?e.permissions:[]},t.prototype.getPermissionGroups=function(){var e=this.getValue();return e&&e.permission_groups&&e.permission_groups?e.permission_groups:[]},t.keyName="SpaceStore",t}(l.default);t.default=c},GEFS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("LvDl"),c=r("wldR"),d=r("UYyv"),p=r("stZG");r("mva1");var f=r("wlCD"),h=r("zmp8"),m=r("cYwG"),y=r("8fuX"),g=r("r8oj"),v=r("WxaJ"),b=r("QcDD"),w=r("6rsX"),S=r("uSCg"),_=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.handleMouseDown=function(){w.clear()},r.handleDocumentLoadSuccess=function(e){e&&e.pdfInfo&&r.stores.store.setState(a({},r.stores.store.state,{pages:e.pdfInfo.numPages,showPages:1}))},r.handlePageRenderSuccess=function(){r.stores.store.setState(a({},r.stores.store.state,{ready:!0}))},r.handleScrollOffsetChange=function(e){e<t.loadMoreOffset&&r.stores.store.state.ready&&r.renderNextPage()},r.updateRenderWidth=function(){r.stores.store.setState(a({},r.stores.store.state,{renderWidth:r.props.width}))},r.updateRenderWidthDebounced=u.debounce(r.updateRenderWidth,1e3),r}return o(t,e),t.prototype.willMount=function(t){return i(this,void 0,void 0,function(){var n;return l(this,function(o){switch(o.label){case 0:return e.prototype.willMount.call(this,t),this.stores.store.setState(a({},this.stores.store.state,{renderWidth:t.width})),n=this,[4,Promise.resolve().then(function(){return r("x0Sh")})];case 1:return n.ReactPDF=o.sent(),this.enqueueForceUpdate(),[2]}})})},t.prototype.willUpdate=function(t){e.prototype.willUpdate.call(this,t),this.updateRenderWidthDebounced()},t.prototype.renderComponent=function(){var e=this;if(this.ReactPDF){var r=this.props.source,n=this.stores.store.state,o=this.ReactPDF,i=o.Document,l=o.Page;return s.createElement(p.default,{capture:!0,render:function(o){return s.createElement(y.default,a({type:y.OverflowType.All,style:e.getStyle()},S.default(o,{onMouseDown:e.handleMouseDown})),s.createElement(i,{file:r,loading:s.createElement(f.default,{style:t.loadingSpinnerStyle}),onLoadSuccess:e.handleDocumentLoadSuccess},u.range(n.showPages).map(function(t){return s.createElement(l,{key:t+1,pageNumber:t+1,width:e.getPageWidth(),loading:"",renderAnnotations:!1,renderInteractiveForms:!1,onRenderSuccess:e.handlePageRenderSuccess})})),s.createElement(m.default,{onChange:e.handleScrollOffsetChange}))}})}},t.prototype.getPageWidth=function(){var e=this.stores.store.state;return Math.min(window.innerWidth,e.renderWidth)-2*t.leftRightPadding-b.default.scrollbarWidth},t.prototype.renderNextPage=function(){var e=this.stores.store.state,t=e.showPages;t<e.pages&&this.stores.store.setState(a({},this.stores.store.state,{ready:!1,showPages:t+1}))},t.prototype.getStyle=function(){return{position:"relative",height:this.props.height,maxHeight:g.default.isMobile?"75vh":void 0,background:h.default.uiExtraLightGray,paddingTop:t.topBottomPadding,paddingBottom:t.topBottomPadding,paddingLeft:t.leftRightPadding,paddingRight:t.leftRightPadding,overflow:"visible"}},t.loadMoreOffset=200,t.stores={store:d.default},t.topBottomPadding=8,t.leftRightPadding=16,t.loadingSpinnerStyle={position:"absolute",top:"calc(50% - 9px)",left:"calc(50% - 9px)",width:18,height:18},t}(c.default),k={render:function(e){var t=e.contentWrapStyle,r=e.width,n=e.height;return s.createElement(v.default,{url:e.source,permissionRecord:{table:e.store.table,id:e.store.id},render:function(e,o,a){return a?o?s.createElement("div",{style:t},s.createElement(_,{source:o,width:r||500,height:n||500})):void 0:s.createElement("div",null)}})},embedGhost:!0,resizable:!0};t.default=k},GId0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reactNativeDeviceInfoKey="__reactNativeDeviceInfo";t.appJsToReactNativeCapabilities=Object.keys({setStatusBarBackgroundColor:!0,setStatusBarStyle:!0,openInAppBrowser:!0,closeInAppBrowser:!0,exitApp:!0,showSplashScreen:!0,hideSplashScreen:!0,setWebViewAllowsNavigationGestures:!0,buzz:!0,share:!0,requestGoogleJwt:!0,logoutOfGoogle:!0,setBadgeNumber:!0,registerPushNotifications:!0,unregisterPushNotifications:!0,execSql:!0,checkForAppUpdates:!0,resetAppCache:!0,setLogglyData:!0,cancelUserBackgroundTasks:!0,ready:!0}),t.appJsToReactNativeCapabilitiesKey="__reactNativeCapabilities";t.reactNativeToAppJsCapabilities=Object.keys({openLink:!0,pushNotificationTokenRefresh:!0,backButtonPress:!0,keyboardWillShow:!0,keyboardDidShow:!0,keyboardWillHide:!0,keyboardDidHide:!0,pause:!0,resume:!0,appUpdateError:!0,appUpdateChecking:!0,appUpdateAvailable:!0,appUpdateNotAvailable:!0,appUpdateProgress:!0,appUpdateReady:!0,appUpdateFinished:!0,statusBarTap:!0})},GJWe:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("q1tI"),s=r("q1tI"),u=r("KAy6"),c=r("S26v"),d=r("cBa6"),p=r("O+wX"),f=r("5/h/"),h=r("Wvka"),m=r("D2XV"),y=r("mF3+"),g=r("bmSz"),v=r("CTEM"),b=r("di7S"),w=r("VpIZ"),S=r("zmp8"),_=r("Sb6f"),k=r("622O");t.BufferClassName="notion-text-buffer",t.MentionTokenClassName="notion-text-mention-token",t.ZeroWidthSpace="\ufeff";var C={b:{fontWeight:_.default.fontWeight.semibold},i:{fontStyle:"italic"},c:{fontFamily:_.default.fontFamily.githubMono,lineHeight:"normal",background:S.grayscale.light.gray.alpha(.15).css(),color:S.default.red,borderRadius:3,fontSize:"85%",padding:"0.2em 0.4em"},a:{textDecoration:"underline",color:S.default.inherit,cursor:"pointer",wordWrap:"break-word"},s:{textDecoration:"line-through"},_:{textDecoration:"underline",color:S.default.inherit,wordWrap:"break-word"},"+":{color:S.default.diffTextColor,backgroundColor:S.default.diffBackground},"-":{opacity:.4,marginBottom:6,textDecoration:"line-through"},z:{background:S.temporaryCommentBackground,borderBottom:"2px solid "+S.commentUnderlineColor}};function E(e){var r=e.key;return l.createElement(s.Fragment,{key:r},e,l.createElement("span",{className:t.BufferClassName},t.ZeroWidthSpace))}t.annotationStyleOrder=["h","m","z","b","i","c","s","_","a","u","p","d","+","-"],t.renderText=function(e){var r=e.textValue,s=e.disableStyleAnnotations,u=e.getRecordValue,_=e.baseUrl,x=e.userTimeZone,T=e.disabled,O=e.isAndroid,M=e.isSafariOrIOS,I=e.showEmojiInline,A=e.highlightDiscussionId,D=e.theme,L=d.filterAnnotations(r||[],function(e){if(d.isDiscussionAnnotation(e)){var t=d.getDiscussionAnnotationData(e);if(A)return t===A;var r=u(g.default.table,t);return Boolean(r&&!r.resolved)}return!0}),R=L.map(function(e,r){var g=d.getTokenValue(e),A=d.getTokenAnnotations(e);if(0===A.length)return g;var L=s?{textDecoration:"none",color:S.default.inherit}:function(e,r){var n,o,l={},s=e.filter(function(e){var t=d.getAnnotationType(e);return"m"===t||"z"===t}).length,u=e.filter(function(e){var t=d.getAnnotationType(e);return"m"!==t&&"z"!==t});s>0&&u.push(["z"]);var c=u.sort(function(e,r){return t.annotationStyleOrder.indexOf(d.getAnnotationType(r))-t.annotationStyleOrder.indexOf(d.getAnnotationType(e))});try{for(var p=a(c),f=p.next();!f.done;f=p.next()){var h=f.value,m=d.getAnnotationType(h);if("z"===m)i.assign(l,{background:S.commentBackgroundWithLevel(s,r),borderBottom:"2px solid "+S.commentUnderlineColor});else if(d.isHighlightAnnotation(h)){var y=d.getHighlightAnnotationData(h),g=S.getHighlightColorStyle(y,r);i.assign(l,g)}else{var v=C[m];v&&i.assign(l,v)}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}return l}(A,D),R=d.findLinkAnnotation(A);if(R&&!s){var B=d.getLinkAnnotationData(R);if(B){var j=c.sanitizeUrl(c.parse(B).href);return l.createElement("a",{key:r,href:j,style:L,target:"_blank",rel:"noopener noreferrer","data-token-index":r},g)}}var V=d.findUserAnnotation(A);if(V){var F=d.getUserAnnotationData(V),N=u("notion_user",F),U=l.createElement("span",{key:r,style:n({color:D.mediumTextColor},L),contentEditable:!1,className:t.MentionTokenClassName,"data-token-index":r},l.createElement("span",null),l.createElement("span",null,l.createElement("span",{style:{opacity:.6}},"@"),f.getFullName(N)),l.createElement("span",null));return O?E(U):U}var W=d.findPageAnnotation(A);if(W){var z=d.getPageAnnotationData(W),H=u("block",z),q=P(z,u),G=h.default({pageId:z,pageValue:H,baseUrl:_}),Z=void 0,Y=void 0;if(H&&w.isCollectionView(H)){var K=H.collection_id;if(K){var J=u("collection",K);J&&J.icon&&(Z=J.icon,Y={table:"collection",id:K})}}else H&&H.format&&H.format.page_icon&&(Z=H.format.page_icon,Y={table:"block",id:H.id});var Q=void 0;if(v.default(Z))Q=l.createElement("span",{style:{display:I?"inline":"inline-block",verticalAlign:"-0.1em",height:"1em",width:"1em",marginLeft:M?0:"0.2em",marginRight:M?"0.6em":"0.2em",marginBottom:M?"0.2em":0}},Z);else if(Z){var X=k.shouldProxyImageUrl(Z)?b.getImageProxyUrl({url:Z,permissionRecord:Y,width:100,fullyQualified:!0,baseUrl:_||""}):Z;Q=l.createElement("img",{style:{width:"1em",height:"1em",verticalAlign:"-0.15em",marginLeft:"0.2em",marginRight:"0.2em",borderRadius:1},src:X})}U=l.createElement("a",{key:r,style:n({},L,{cursor:"pointer",color:S.default.inherit,textDecoration:"underline"}),contentEditable:!1,className:t.MentionTokenClassName,"data-token-index":r,href:G},l.createElement("span",null),l.createElement("span",null,Q,l.createElement("span",{style:{opacity:.5}},q||"Untitled")),l.createElement("span",null));return O?E(U):U}var $=d.findDateAnnotation(A);if($){var ee=d.getDateAnnotationData($),te=ee.date_format,re=ee.time_format,ne=o(ee,["date_format","time_format"]),oe=p.formatPersistedDate({value:ne,date_format:te,time_format:re,userTimeZone:x}),ae={opacity:.5},ie=void 0;ne.reminder&&(ae=(ie=m.isReminderOverdue(ne,x))?{color:S.default.red}:{color:S.default.blue});U=l.createElement("span",{key:r,style:n({},L,ae,{cursor:T?"auto":"pointer"}),contentEditable:!1,className:t.MentionTokenClassName,"data-token-index":r},l.createElement("span",null),l.createElement("span",null,l.createElement("span",{style:{opacity:.5}},"@"),l.createElement("span",{className:"notion-reminder"},oe),ne.reminder&&l.createElement("div",{style:{display:"inline-block",width:"1em",marginLeft:4,marginRight:2,paddingBottom:3,verticalAlign:"middle"}},y.default.alarmClock({fill:ie?S.default.red:S.default.blue}))),l.createElement("span",null));return O?E(U):U}return l.createElement("span",{key:r,style:L,"data-token-index":r},g)}),B=L[L.length-1],j=B?d.getTokenValue(B):"";return(j.endsWith("\n")||j.endsWith(d.mentionTokenTextValue))&&R.push("\n"),R},t.renderTextAsHTML=function(e){var r=t.renderText(e);return u.renderToString(l.createElement(s.Fragment,null,r))},t.renderTextAsString=function(e){var t,r,n=e.textValue,i=e.getRecordValue,l=e.userTimeZone,s=d.getTokens(n),u="";try{for(var c=a(s),h=c.next();!h.done;h=c.next()){var m=h.value,y=d.getTokenValue(m),g=d.getTokenAnnotations(m),v=d.findUserAnnotation(g),b=d.findPageAnnotation(g),w=d.findDateAnnotation(g);if(v){var S=d.getUserAnnotationData(v);if(S){var _=i(f.default.table,S);u+="@"+f.getFullName(_)}}else if(b){var k=d.getPageAnnotationData(b);k&&(u+="@"+(P(k,i)||"Untitled"))}else if(w){var C=d.getDateAnnotationData(w),E=C.date_format,x=C.time_format,T=o(C,["date_format","time_format"]);u+="@"+p.formatPersistedDate({value:T,date_format:E,time_format:x,userTimeZone:l})}else u+=y}}catch(e){t={error:e}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return u};var P=function(e,t){var r=t("block",e);if(r){if("collection_view"!==r.type&&"collection_view_page"!==r.type){var n=r.properties&&r.properties.title?r.properties.title:[];return d.getTextWithoutTokens(n)}var o=r.collection_id;if(o){var a=t("collection",o);if(a&&a.name)return d.getTextWithoutTokens(a.name)}}return""}},GKeo:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},GNv7:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("STAJ"),s=r("wldR"),u=r("IdIf"),c=r("njgS"),d=r("mF3+"),p=r("G4GV"),f=r("VBxf"),h=r("y6Dp"),m=r("gbGO"),y=r("WgIs"),g=r("2Y+N"),v=r("ox2z"),b=r("GUcd"),w=r("nFzZ"),S=r("tzV5"),_=r("MBf9"),k=r("RvCr"),C=r("r8oj"),E=r("zmp8"),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSelectPropertyColorPickerChange=function(e){var r=t.props,n=r.groupFormat,o=r.schema,a=r.collectionViewLocalStore,i=o[n.property].options||[],s=l.findIndex(function(e){return u.groupValuesEqual(e.value,n.value)},i),c=l.lensPath([n.property,"options",s,"color"]),d=l.set(c,e,o);_.createAndCommit(function(e){k.updateBoardGroup({collectionViewLocalStore:a,groupFormat:n,newSchema:d,transaction:e})}),h.trackConfigureView({view_type:"board",action:"board_group_change_color"})},t.handleRename=function(){var e=t.props.groupFormat;t.stores.inputStore.setState({focus:!0,inputValue:e.value||""})},t.handleHide=function(){var e=t.props,r=e.groupFormat,n=e.collectionViewLocalStore,o=a({},r,{hidden:!0});_.createAndCommit(function(e){k.updateBoardGroup({collectionViewLocalStore:n,groupFormat:r,newGroupFormat:o,transaction:e})}),h.trackConfigureView({view_type:"board",action:"board_hide_group"})},t.handleShow=function(){var e=t.props,r=e.groupFormat,n=e.collectionViewLocalStore,o=a({},r,{hidden:!1});_.createAndCommit(function(e){k.updateBoardGroup({collectionViewLocalStore:n,groupFormat:r,newGroupFormat:o,transaction:e})}),h.trackConfigureView({view_type:"board",action:"board_hide_group"})},t.handleDelete=function(){var e=t.props.groupFormat;f.showDialog({message:"Are you sure? All blocks inside this column will be deleted.",showCancel:!0,keepFocus:!1,items:[{label:"Delete",color:"red",onAccept:function(){var r=_.create(),n=t.props,o=n.collectionViewLocalStore,a=n.schema,i=o.state.collectionStore,s=a[e.property],d=t.getCurrentGroups(),p=l.reject(function(t){return u.groupValuesEqual(e.value,t.value)},d);if(k.updateGroups({collectionViewLocalStore:o,newGroups:p,transaction:r}),s&&l.contains(s.type,c.selectTypes)&&i){var f=s.options||[],m=l.reject(function(t){return u.groupValuesEqual(e.value,t.value)},f),y=l.lensPath([e.property,"options"]),g=l.set(y,m,a);S.updateCollection({collectionStore:i,update:{schema:g},transaction:r})}i&&e.value&&k.deleteGroup({collectionStore:i,property:e.property,value:e.value,transaction:r}),_.commit({transaction:r}),h.trackConfigureView({view_type:"board",action:"board_delete_group"})}}]})},t}return o(t,e),t.prototype.renderComponent=function(){var e,r=this.props.parent,n=w.compact([this.getBoardActionsSection(),this.getBoardColorSection()]);return e=C.default.isMobile?{menuType:m.default.MenuType.Modal,title:"Action",right:"Done",onClickRight:r.close}:{menuType:m.default.MenuType.Popup},i.createElement(m.default,a({},e),i.createElement(y.default,{initialFocus:0,sections:n,onAccept:function(e){"string"==typeof e.key&&e.key.indexOf(t.colorActionKeyPrefix)>=0||r.close()}}))},t.prototype.getBoardActionsSection=function(){var e=this.props,t=e.groupFormat,r=e.hidden,n=e.showRename,o=[];return t.value&&n&&o.push({key:"rename",render:function(e){return i.createElement(v.default,a({},e,{title:"Rename",svg:d.default.rename}))},action:this.handleRename}),r?o.push({key:"hide",render:function(e){return i.createElement(v.default,a({},e,{title:"Show",svg:d.default.collectionShow}))},action:this.handleShow}):o.push({key:"hide",render:function(e){return i.createElement(v.default,a({},e,{title:"Hide",svg:d.default.collectionHide}))},action:this.handleHide}),t.value&&o.push({key:"delete",render:function(e){return i.createElement(v.default,a({},e,{title:"Delete",svg:d.default.trash}))},action:this.handleDelete}),{key:"board group",render:function(e){return i.createElement(g.default,a({},e))},items:o}},t.prototype.getBoardColorSection=function(){var e=this;if(this.props.groupFormat.value&&this.isSelectType()){var r=this.props.groupFormat,n=this.getSelectOptions(),o=l.find(function(e){return e.value===r.value},n);if(o)return{key:"board color section",render:function(e){return i.createElement(g.default,a({},e,{title:"Colors",topBorder:!0}))},items:E.selectColors.map(function(r){return{key:t.colorActionKeyPrefix+"_"+r,render:function(e){return i.createElement(b.default,a({},e,{color:r,checkState:o.color===r}))},action:function(){e.handleSelectPropertyColorPickerChange(r)}}})}}},t.prototype.getCurrentGroups=function(){var e=this.props.format;return e&&e.board_groups||[]},t.prototype.isSelectType=function(){var e=this.props,t=e.schema[e.groupFormat.property];return t&&c.isSelectType(t)},t.prototype.getSelectOptions=function(){var e=this.props,t=e.schema[e.groupFormat.property];return t&&c.isSelectType(t)&&t.options?t.options:[]},t.colorActionKeyPrefix="color",t.stores={inputStore:p.default},t}(s.default);t.default=P},GQAS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return this.props.render(this.theme)},t}(r("t+pW").default);t.default=a},"GQP/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl"),o=r("cBa6"),a=r("yFBc"),i=r("Ajfl"),l=r("MBf9"),s=r("DNgp"),u=r("ieCD"),c=r("unoy");t.openLinkAnnotationMenu=function(){var e=s.default.state;if(e.editing){var t=e.store,r=e.selection,a=t.getValue(),i=o.getTokens(a||[]),l=0,c=i.find(function(e){var t=o.getTokenAnnotations(e),a=n.toArray(o.getTokenValue(e)).length,i=l,s=i+a,u=t.find(function(e){return o.isLinkAnnotation(e)&&(i<=r.startIndex&&s>=r.startIndex||i<=r.endIndex&&s>=r.endIndex)});return l+=a,Boolean(u)}),d=void 0,p="";if(c){var f=o.getTokenAnnotations(c);if(d=o.findLinkAnnotation(f)){var h=o.getLinkAnnotationData(d);h&&(p=h)}}u.default.setState({open:!0,url:p,editingToken:c,savedTextSelectionState:e})}},t.linkSelection=function(){var e=u.default.state;if(e.open){var t=e.editingToken,r=e.savedTextSelectionState,n=a.default(e.url);n&&(l.createAndCommit(function(e){t&&i.removeAnnotationTypeFromSelection({store:r.store,type:"a",selection:r.selection,transaction:e}),i.annotate({store:r.store,annotation:["a",n],selection:r.selection,transaction:e})}),c.setSelection({store:r.store,selection:{startIndex:r.selection.endIndex,endIndex:r.selection.endIndex}}),u.default.reset())}},t.unlinkSelection=function(){var e=u.default.state;if(e.open){var t=e.editingToken,r=e.savedTextSelectionState;t&&(l.createAndCommit(function(e){i.removeAnnotationTypeFromSelection({store:r.store,type:"a",selection:r.selection,transaction:e})}),s.default.emit(),u.default.reset())}}},GRWW:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isScrolling:!1,scrollTop:0,scrollHeight:0,scrollLeft:0,scrollWidth:0}},t}(r("LEzx").default);t.default=a},GUcd:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("q1tI"),s=r("t+pW"),u=r("SR/M"),c=r("gbGO"),d=r("enKW"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return l.createElement(u.default,a({},this.props,{icon:this.renderColorTile(),title:i.capitalize(this.props.color)}))},t.prototype.renderColorTile=function(){return l.createElement("div",{style:{width:this.context.isMobile?24:18,height:this.context.isMobile?24:18,background:this.theme.selectColors[this.props.color],boxShadow:d.getShadow({elevation:0,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity,inner:"light"===this.theme.mode}),borderRadius:3}})},t.contextTypes=a({},c.menuContextTypes),t}(s.default);t.default=p},GhNQ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("dP7y");t.default=function(e){return e&&n.test(e,"url")}},GiiL:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("KcXv"),s=r("n8tN"),u=r("fJHT"),c=r("Sb6f"),d=r("r8oj"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){var e=this.props.disabled;return i.createElement("div",{style:this.getStyle()},i.createElement(u.default,{disabled:e,store:this.props.store.getBlockTitleStore(),placeholder:"Heading 2",placeholderStyle:{WebkitTextFillColor:this.theme.headerBlockPlaceholderTextColor},style:l.itemStyle}),this.renderDiscussion())},t.prototype.getStyle=function(){return a({display:"flex",width:"100%",fontWeight:c.default.fontWeight.semibold,fontSize:d.default.isMobile?"1.25em":"1.5em",letterSpacing:"-0.002em",lineHeight:1.2},this.getBlockColorStyle(),this.props.style)},t}(s.default);t.default=p},Gjxv:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("t+pW"),u=r("mF3+"),c=r("bFnu"),d=r("LeVO"),p=r("zmp8"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseMove=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{style:t.wrapStyle,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},this.renderButton())},t.prototype.renderButton=function(){var e=this,t=this.props,r=t.isSelected,n=t.isFocused,o=t.onClick,s=this.stores.mouseStore.state.mouseEntered,c=n||s;return r?i.createElement("div",{onClick:o,style:this.getFloatingButtonStyle(s,!0)},u.default.plus({width:14,transform:"rotate(45deg)"})):c?i.createElement(d.default,{renderTooltip:function(){return i.createElement(l.Fragment,null,"Add page to relation",i.createElement("br",null),i.createElement("span",{style:{color:e.theme.mediumInvertedTextColor}},"Enter"))},render:function(t){return i.createElement("div",a({onClick:o,style:e.getFloatingButtonStyle(s,!1)},t),u.default.plus({width:14}))}}):void 0},t.prototype.getFloatingButtonStyle=function(e,t){return{display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20,borderRadius:20,marginLeft:10,cursor:"pointer",fill:p.default.white,transition:"opacity 200ms",opacity:e?.9:1,background:t?p.default.red:p.default.blue}},t.stores={mouseStore:c.default},t.wrapStyle={display:"flex",alignItems:"center",justifyContent:"flex-end",height:32},t}(s.default);t.default=f},Gw5o:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s,u=r("q1tI"),c=r("LvDl"),d=r("LNOE"),p=r("t+pW"),f=r("cBa6"),h=r("7TLZ"),m=r("OXV6"),y=r("kolZ"),g=r("MBf9"),v=r("VBxf"),b=r("SeL1"),w=r("IzPW"),S=r("Uc+B"),_=r("r8oj"),k=r("bFnu"),C=r("unoy"),E=r("Cm2F"),P=r("zmp8"),x=r("DNgp"),T=r("T1hA"),O=r("gYhp"),M=r("0zNc"),I=r("w5u6"),A=r("wS9/"),D=r("bxQm"),L=r("IULH");!function(e){e[e.Menu=0]="Menu",e[e.Page=1]="Page"}(s||(s={}));var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registries=[O.default],t.handleResolve=function(){g.createAndCommit(function(e){d.resolveDiscussion({discussionStore:t.props.store,transaction:e,discussionLocation:t.props.discussionLocation})}),E.closeBlockDiscussionWhenOpenTabIsEmpty()},t.handleReopen=function(){g.createAndCommit(function(e){d.reopenDiscussion({discussionStore:t.props.store,transaction:e,discussionLocation:t.props.discussionLocation})})},t.handleCancelReply=function(){return i(t,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return(e=this.stores.discussionInputStore.state.textStore.getValue())&&e.length>0?[4,v.confirmUserAction({message:"Do you want to discard this reply?",acceptLabel:"Discard"})]:[3,5];case 1:return t.sent()?(this.handleResetInput(),this.props.onDismiss&&this.props.onDismiss(),[3,4]):[3,2];case 2:return[4,I.default.afterNextFlush()];case 3:t.sent(),C.setSelectionAtEnd({store:this.stores.discussionInputStore.state.textStore}),t.label=4;case 4:return[3,6];case 5:this.handleResetInput(),this.props.onDismiss&&this.props.onDismiss(),t.label=6;case 6:return[2]}})})},t.handleSumbitReply=function(){return i(t,void 0,void 0,function(){var e,t=this;return l(this,function(r){switch(r.label){case 0:return(e=this.stores.discussionInputStore.state.textStore.getValue())&&e.length>0?(g.createAndCommit(function(r){d.submitReply({discussionStore:t.props.store,textValue:e,transaction:r,discussionLocation:t.props.discussionLocation})}),this.handleResetInput(),_.default.isMobile?(C.clear(),[3,3]):[3,1]):[3,3];case 1:return[4,I.default.afterNextFlush()];case 2:r.sent(),C.setSelectionAtStart({store:this.stores.discussionInputStore.state.textStore}),r.label=3;case 3:return[2]}})})},t.handleLoadMore=function(){t.stores.discussionStore.setState(a({},t.stores.discussionStore.state,{showItems:t.stores.discussionStore.state.showItems+m.default.showItemsChunkSize}))},t.handleResetInput=function(){t.stores.discussionInputStore.reset()},t.handleMouseMove=function(e){M.default.state.isDragging||t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(e){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t.isEditing=t.createComputedStore(function(){var e=x.default.state;return e.editing&&e.store===t.stores.discussionInputStore.state.textStore}),t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=h.getCommentStores(this.props.store),r=c.takeRight(t,this.stores.discussionStore.state.showItems),n=t.length-r.length,o=n>0,i=r.map(function(t,r){return u.createElement(y.default,{key:t.id,store:t,discussionStore:e.props.store,blockStore:e.props.blockStore,hoveringDiscussion:e.stores.mouseStore.state.mouseEntered,discussionLocation:e.props.discussionLocation,alwaysShowResolve:e.props.alwaysShowResolve})}),l=o&&u.createElement(y.default,{key:t[0].id,store:t[0],discussionStore:this.props.store,blockStore:this.props.blockStore,hoveringDiscussion:this.stores.mouseStore.state.mouseEntered,discussionLocation:this.props.discussionLocation,alwaysShowResolve:this.props.alwaysShowResolve}),d=n>1&&u.createElement(D.default,{style:{marginBottom:6},onClick:this.handleLoadMore,key:"loadMoreButton"},"Click to show "+(n-1)+" older comment"+(n>2?"s":"")),p="reader"===this.props.blockStore.getRole(),f=T.default.isLoggedIn();return u.createElement("div",{style:a({},this.props.format===s.Page&&{borderTop:this.props.isFirst?"1px solid "+this.theme.regularDividerColor:"none",borderBottom:"\n\t\t\t\t\t\t\t1px solid "+this.theme.regularDividerColor+"\n\t\t\t\t\t\t",padding:"12px 4px"},this.props.format===s.Menu&&{paddingTop:12,paddingBottom:12,boxShadow:this.props.isFirst?"none":"0 -1px 0 "+this.theme.regularDividerColor,marginTop:this.props.isFirst?0:1,background:!this.props.isOnly&&this.isEditing.state?this.theme.focusDiscussionBackground:P.default.transparent,paddingLeft:_.default.isMobile?A.default.calcPaddingLeft(14):14,paddingRight:_.default.isMobile?A.default.calcPaddingRight(14):14}),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},this.renderDiscussionContext(),l,d,i,f&&!p&&u.createElement(b.default,{parentStore:this.props.store,onCancel:this.handleCancelReply,onSubmit:this.handleSumbitReply,discussionInputStore:this.stores.discussionInputStore,isCordovaSlideUpMenu:!1}))},t.prototype.renderDiscussionContext=function(){var e=this.props.store.getValue();if(e&&e.context){var t=f.filterAnnotations(e.context,function(t){return!f.isDiscussionAnnotation(t)||f.getDiscussionAnnotationData(t)===e.id}),r=w.renderText({textValue:t,parentStore:this.props.store,disableStyleAnnotations:!1,disabled:!0,highlightDiscussionId:this.props.store.id,theme:this.theme}),n=0===f.getDiscussionIds(t).length,o="comment_only"===this.props.blockStore.getRole(),i="reader"===this.props.blockStore.getRole(),l=T.default.isLoggedIn();return u.createElement("div",{style:a({display:"flex",alignItems:"flex-start",fontSize:14,marginBottom:8,lineHeight:1.4},n&&{color:this.theme.mediumTextColor})},n&&u.createElement("div",{style:{flexShrink:0,alignSelf:"center",width:3,borderRadius:3,marginLeft:2,marginRight:8,height:20,background:P.commentContextBarBackground}}),u.createElement("div",{style:a({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginRight:"auto"},!n&&{paddingBottom:2})},r),!_.default.isMobile&&!o&&!i&&l&&this.renderResolveButton())}},t.prototype.renderResolveButton=function(){var e=this.props.store.getValue(),t=e&&e.resolved;return u.createElement(L.default,{isSmall:!0,onClick:t?this.handleReopen:this.handleResolve,style:{marginTop:-2,marginLeft:12}},t?"Re-open":"Resolve")},t.Format=s,t.stores={discussionStore:m.default,discussionInputStore:S.default,mouseStore:k.default},t}(p.default);t.default=R},H1ac:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{pageMap:{}}},t.prototype.setStatus=function(e,t){var r=this.state.pageMap;t?r[e]=!0:delete r[e],this.emit()},t}(r("LEzx").default);t.default=new a},H4VD:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("A9TN"),s=r("r8oj"),u=r("/YYm"),c=r("hbKx"),d=r("wpmu"),p=r("hi+p"),f=r("CaJT"),h=r("6rsX"),m=r("bK/N"),y=r("oqYu"),g=r("oWRT"),v=r("Cm2F"),b=r("JZPr"),w=r("bkwR"),S=r("sdlW"),_=r("X4ZB"),k=r("ijm6"),C=r("S26v"),E=r("HSWF"),P=r("tP7q"),x=r("Fv2F"),T=r("wF3w"),O=r("y6Dp"),M=r("OUVA"),I=r("sZEU"),A=r("Qc1K"),D=r("KSnN"),L=r("622O"),R=r("di7S"),B=r("wweX"),j=r("g90h"),V=r("LB1/"),F=r("QcDD"),N=r("sjR4"),U=r("AmMh"),W=r("Iece"),z=r("w5u6"),H=r("8kr4"),q=r("Sd8d"),G=r("uUOz"),Z=r("RuPz"),Y=r("pl8j"),K=r("TAMl"),J=r("ZbKq"),Q=r("xb3e"),X=r("9vSW"),$=r("+UXM"),ee=r("PuL6"),te=r("EmAo"),re=r("szb2"),ne=r("cR5F"),oe=r("uwoq"),ae=(r("vRGJ"),r("5JRq")),ie=r("imne"),le=r("p+Y9"),se=r("fbat");function ue(){var e=0,t=[];if(F.default.state.currentBlockStore){var r=N.default.state.stores;t=i.compact(r.map(function(e){return e.id})),e=W.default.state.scrollTop}return{scrollTop:e,blockIds:t}}function ce(e,t){var r=n({},ue(),{index:t});$.default.set(e,r)}function de(e){var t=$.default.get(e);if(t){var r=n({},ue(),{index:t.index});$.default.set(e,r)}}function pe(){var e=oe.default.state.id;$.default.remove(e)}function fe(){return o(this,void 0,void 0,function(){var e,t;return a(this,function(r){switch(r.label){case 0:return(e=F.default.state.currentBlockStore)?"page"!==oe.default.state.route.name?[2]:oe.default.state.route.scrollToBlockId?(t=[oe.default.state.route.scrollToBlockId],0!==i.compact(U.default.findSelectablesFromIds(t)).length?[3,3]:[4,D.loadScrollToBlocks(e,t)]):[3,3]:[2];case 1:return r.sent(),[4,z.default.afterNextFlush()];case 2:r.sent(),r.label=3;case 3:return A.handleFrameReady(),[2]}})})}t.resetPageState=function(){H.default.reset(),q.default.reset(),G.default.reset(),Z.default.reset(),B.close({blockPropertyValueOverlayStore:te.default}),le.removeUploadLimitBanner()},t.resetPeekState=function(){Y.default.reset(),K.default.reset(),J.default.reset(),B.close({blockPropertyValueOverlayStore:ee.default}),le.removeUploadLimitBanner()},t.resetEditorState=function(){m.inPageSearch.stop(),h.clear(),b.clearSelection(),h.setPivot({pivot:void 0}),p.close(),se.default.reset(),f.clearRevisionStack(),v.closeBlockDiscussionMenu(),_.close(),k.close()},t.resetSidebarState=function(){Q.default.reset(),X.default.reset(),ne.default.setState(n({},ne.default.state,{open:!1}))},t.clearHistoryState=pe,t.navigate=function(e){var r=e.redirect,n=e.metaClick,o=P.parseRoute({url:e.url,baseUrl:l.default.baseURL,isMobile:s.default.isMobile,protocol:l.default.protocol,currentUrl:window.location.href});if("external"!==o.name){var a,i,u=x.getHttpUrl({schemeUrl:e.url,baseUrl:l.default.baseURL}),c=C.removeBaseUrl(e.url);if(n)s.default.isElectron&&"page"===o.name?m.openInNewWindow(c):t.navigateToExternalURL({url:u});else{var d=oe.default.state.route,p="page"===d.name&&"page"===o.name&&d.blockId===o.blockId,f=ie.default.state.appUpdate;if(!p&&!e.redirect&&ae.shouldUpdateOnNavigate(f))return void ae.installAppJsUpdate({url:c,version:f.version,broadcast:!0});r||p||de(oe.default.state.id),t.resetSidebarState();var h=T.default();r?window.history.replaceState({id:h},void 0,c):window.history.pushState({id:h},void 0,c);var y=(a=oe.default.state.id,(i=$.default.get(a))?i.index:0);ce(h,r?y:y+1),he({id:h,action:r?"replace":"push",href:c}),p&&fe(),window.scrollTo(0,0)}}else t.navigateToExternalURL({url:e.url})},t.navigateToBlock=function(e){var r=e.store,n=e.redirect,o=e.scrollToBlockId,a=e.collectionViewId,i=e.metaClick,l=e.discussionId,s=e.showMoveTo,c=e.saveParent,d=u.default({store:r,fullyQualified:!1,scrollToBlockId:o,collectionViewId:a,discussionId:l,showMoveTo:s,saveParent:c});t.navigate({url:d,redirect:n,metaClick:i})},t.peekBlock=function(e){var r=e.store,n=e.metaClick,o=e.showMoveTo,a=e.saveParent,i=F.default.state.currentBlockStore;if(i){var l=u.default({store:i,peekViewBlockId:r.id,fullyQualified:!1,showMoveTo:o,saveParent:a});t.navigate({url:l,metaClick:n})}},t.navigateToExternalURL=function(e){var t=e.url;if("/"===t[0]&&(t=l.default.baseURL+t),s.default.isElectron)m.openInBrowser(t);else if(s.default.isReactNative)t.startsWith("http:")||t.startsWith("https:")?y.openInAppBrowser(t):window.location.href=t;else if(s.default.isCordova)t.startsWith("http:")||t.startsWith("https:")?g.openInAppBrowser(t):window.location.href=t;else{var r=document.createElement("a");r.href=e.url,r.classList.add("notion-link"),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener noreferrer"),document.body.appendChild(r),r.click(),r.remove()}},t.openFileUrl=function(e){return o(this,void 0,void 0,function(){var r,o;return a(this,function(a){switch(a.label){case 0:return L.isSecureFileUrl(e.url,l.default.secureFileS3.url)?s.default.isElectron||s.default.isReactNative||s.default.isCordova?[4,w.getSignedFileUrl(e)]:[3,2]:[3,4];case 1:return(r=a.sent())&&t.navigateToExternalURL({url:r}),[3,3];case 2:o=R.getSignedFileProxyUrl(n({},e,{baseURL:l.default.baseURL})),t.navigateToExternalURL({url:o}),a.label=3;case 3:return[3,5];case 4:t.navigateToExternalURL({url:e.url}),a.label=5;case 5:return[2]}})})},t.downloadFileUrl=function(e){return o(this,void 0,void 0,function(){var r,o;return a(this,function(a){switch(a.label){case 0:return L.isSecureFileUrl(e.url,l.default.secureFileS3.url)?s.default.isElectron||s.default.isReactNative||s.default.isCordova?[4,w.getSignedFileUrl(e)]:[3,2]:[3,4];case 1:return(r=a.sent())&&t.downloadUrl({url:r}),[3,3];case 2:o=R.getSignedFileProxyUrl(n({},e,{baseURL:l.default.baseURL})),t.downloadUrl({url:o}),a.label=3;case 3:return[3,5];case 4:t.navigateToExternalURL({url:e.url}),a.label=5;case 5:return[2]}})})},t.navigateAwayIfCurrentPage=function(e){return o(this,void 0,void 0,function(){var r,n,o,i,l,s,u,d;return a(this,function(a){switch(a.label){case 0:return r=e.blocks,n=F.default.state,o=n.currentBlockStore,i=n.currentSpaceViewStore,l=n.userSettingsStore,s=re.default.state,(u=o&&r.find(function(e){return e.id===o.id}))&&i?(d=c.getNavigableAncestor(u,1))?(t.navigateToBlock({store:d}),[3,3]):[3,1]:[3,3];case 1:return[4,S.navigateToSpace({spaceViewStore:i,userSettingsStore:l})];case 2:a.sent(),a.label=3;case 3:return Boolean(s.open&&r.find(function(e){return e.id===s.target.id}))&&o&&t.navigateToBlock({store:o}),[2]}})})},t.back=function(){window.history.back()},t.forward=function(){window.history.forward()},t.canGoUp=function(){var e=F.default.state.currentBlockStore;return!!e&&!!c.getNavigableAncestor(e,1)},t.up=function(){var e=F.default.state.currentBlockStore;if(e){var r=c.getNavigableAncestor(e,1);r&&t.navigateToBlock({store:d.default.createChildStore(r,r.id)})}},t.downloadUrl=function(e){if(s.default.isReactNative)y.share(e.url);else if(s.default.isCordova)g.share(e.url);else if(s.default.isElectron){var t=document.createElement("a");t.download=e.url,t.href=e.url,t.click()}else window.location.href=e.url},t.downloadMacApp=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(r){switch(r.label){case 0:return[4,w.getDesktopDownloadUrl({platform:"mac"})];case 1:return"success"===(e=r.sent()).type&&e.data.url&&t.downloadUrl({url:e.data.url}),[2]}})})},t.downloadWindowsApp=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(r){switch(r.label){case 0:return[4,w.getDesktopDownloadUrl({platform:"windows"})];case 1:return"success"===(e=r.sent()).type&&e.data.url&&t.downloadUrl({url:e.data.url}),[2]}})})},t.openInNativeApp=function(e){var r=C.removeBaseUrl(e);s.default.isNative?t.navigate({url:r}):window.location.href=x.getSchemeUrl({httpUrl:r,protocol:l.default.protocol})};function he(e){var t=e.id,r=e.action,n=e.href,o=P.parseRoute({url:e.href,isMobile:s.default.isMobile,baseUrl:l.default.baseURL,protocol:l.default.protocol,currentUrl:window.location.href}),a=$.default.get(t);oe.default.setState({id:t,historyState:a,action:r,route:o});var i=C.parse(n),u=i.query[V.referralUserIdQueryKey],c=u?j.withDashes(u):void 0;c&&E.setReferralUserId(c);var d=i.query[M.analyticsTagsKey];d&&(E.setSessionAnalyticsTags(d),me(M.analyticsTagsKey)),"page"!==o.name&&O.trackVisit({pathname:i.pathname,query:i.query}),"intercom"===i.query.target&&(I.openIntercomMessages({from:"query_param"}),me("target"))}function me(e){var t=C.removeBaseUrl(C.removeQueryParam(window.location.href,"target"));window.history.replaceState(history.state,void 0,t)}t.startListeners=function(){var e=window.history.state&&window.history.state.id||T.default();window.history.state||(window.history.replaceState({id:e},void 0,window.location.href),ce(e,0)),he({id:e,action:"pop",href:window.location.href});var r=E.getInitialPage();if(!r||"undefined"===r){var n=window.location.pathname;n&&E.setInitialPage(n)}if(window.addEventListener("beforeunload",function(){de(oe.default.state.id)}),window.onpopstate=function(e){var t=window.location.href,r=oe.default.state.route,n=P.parseRoute({url:t,isMobile:s.default.isMobile,baseUrl:l.default.baseURL,protocol:l.default.protocol,currentUrl:window.location.href}),o="page"===r.name&&"page"===n.name&&r.blockId===n.blockId;de(oe.default.state.id),he({id:e.state&&e.state.id||T.default(),action:"pop",href:t}),o&&fe()},s.default.isReactNative||s.default.isCordova){var o=function(e){var r=x.fixSchemeUrl({url:e,protocol:l.default.protocol,baseUrl:l.default.baseURL}),n=x.getHttpUrl({schemeUrl:r,baseUrl:l.default.baseURL}),o=P.parseRoute({url:n,baseUrl:l.default.baseURL,isMobile:s.default.isMobile,protocol:l.default.protocol,currentUrl:window.location.href});s.default.isAndroid&&pe(),y.closeInAppBrowser(),g.closeInAppBrowser(),o.name,t.navigate({url:n})};y.subscribeToOpenLink(o),g.subscribeToOpenLink(o);g.subscribeToPushNotifications(function(e){})}var a=!1;window.addEventListener("keydown",function(e){(e.metaKey||e.ctrlKey)&&(a=!0)}),window.addEventListener("keyup",function(e){e.metaKey||e.ctrlKey||(a=!1)}),m.onNewWindow(function(e,r){e.preventDefault(),t.navigate({url:r,metaClick:a})})}},HE4M:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("IzPW"),l=r("+575"),s=r("mF3+"),u=r("bsBB"),c=r("wpmu"),d=r("tvfY"),p=r("fB7H"),f=r("D2XV"),h=r("t+pW"),m=r("zmp8"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderRelation=function(e,r){var n=t.getBlockValue(e),o=n&&n.properties&&n.properties.title||[];return a.createElement("div",{key:r,style:{maxWidth:180,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},i.renderText({textValue:o,parentStore:t.props.rootStore,disableStyleAnnotations:!1,disabled:!0,theme:t.theme}))},t.getUserValue=function(e){return d.default.createChildStore(t.props.rootStore,e).getValue()},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.value,t=this.props.propertySchema.type;return"checkbox"!==t&&0===e.length?this.renderEmptyProperty():"text"===t?this.renderTextProperty():"checkbox"===t?this.renderCheckboxProperty():"multi_select"===t?this.renderMultiSelectProperty():"select"===t?this.renderSelectProperty():"person"===t?this.renderPersonProperty():"number"===t?this.renderNumberProperty():"date"===t?this.renderDateProperty():"url"===t?this.renderUrlProperty():"file"===t?this.renderFileProperty():"email"===t?this.renderEmailProperty():"phone_number"===t?this.renderPhoneNumberProperty():"title"===t?this.renderTextProperty():"created_time"===t?this.renderDateProperty():"created_by"===t?this.renderPersonProperty():"relation"===t?this.renderRelationProperty():null},t.prototype.renderEmptyProperty=function(){return a.createElement("div",{style:{color:this.theme.mediumTextColor,fontSize:12}},"Empty")},t.prototype.renderTextProperty=function(){var e=this.props.value;return a.createElement("span",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}},i.renderText({textValue:e,parentStore:this.props.rootStore,disableStyleAnnotations:!1,disabled:!0,theme:this.theme}))},t.prototype.renderCheckboxProperty=function(){var e=l.toCheckboxValue(this.props.value);return a.createElement("div",{style:{width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,backgroundColor:e?m.default.blue:m.default.transparent}},e?this.getCheckedIcon():this.getUncheckedIcon())},t.prototype.renderMultiSelectProperty=function(){var e=this,t=this.props.propertySchema.options||[],r=l.toMultiSelectValue(this.props.value,t);return a.createElement("div",{style:{display:"inline-flex"}},r.map(function(r,n,o){var i=t.find(function(e){return e.value===r}),l=o.length-1===n,s=e.theme.selectColors[i&&i.color||"default"];return a.createElement(g,{color:s,key:r,rightMargin:!l},r)}))},t.prototype.renderSelectProperty=function(){var e=this.props.propertySchema.options||[],t=l.toSelectValue(this.props.value,e),r=e.find(function(e){return e.value===t}),n=this.theme.selectColors[r&&r.color||"default"];return a.createElement("div",{style:{display:"inline-flex"}},a.createElement(g,{color:n},t))},t.prototype.renderPersonProperty=function(){var e=this,t=l.toPersonValue(this.props.value),r=[];return t.forEach(function(n,o){var i=t.length-1===o,l=e.getUserValue(n);r.push(a.createElement("div",{key:o,style:{marginTop:4,marginRight:i?0:8}},a.createElement(u.default,{userValue:l,inline:!0,format:u.default.Format.Default,avatarSize:18,style:{fontSize:12},avatarShouldShowShadow:!0})))}),a.createElement("div",{style:{display:"inline-flex"}},r)},t.prototype.renderNumberProperty=function(){var e=l.toNumberValue(this.props.value);return a.createElement("div",null,e)},t.prototype.renderDateProperty=function(){var e=this.props.propertySchema,t=l.toDateValue(this.props.value);return a.createElement(p.default,{value:t,dateFormat:e.date_format||f.defaultDateFormat,timeFormat:e.time_format||f.defaultTimeFormat})},t.prototype.renderUrlProperty=function(){return l.toUrlValue(this.props.value)},t.prototype.renderFileProperty=function(){var e=l.toFileValue(this.props.value);return a.createElement("div",{style:{display:"inline-flex"}},e.map(function(e,t,r){var n=r.length-1===t;if(e.type===l.TokenType.Link)return a.createElement(g,{rightMargin:!n,key:t},e.data)}))},t.prototype.renderEmailProperty=function(){var e=l.toUrlValue(this.props.value);return a.createElement("div",null,e)},t.prototype.renderPhoneNumberProperty=function(){var e=l.toUrlValue(this.props.value);return a.createElement("div",null,e)},t.prototype.renderRelationProperty=function(){var e=l.toRelationValue(this.props.value);if(e.length>5){var t=e.slice(5).length;return e=e.slice(0,5),a.createElement("div",null,e.map(this.renderRelation),a.createElement("div",{style:{maxWidth:180,color:this.theme.mediumTextColor}},t+" more"))}return a.createElement("div",null,e.map(this.renderRelation))},t.prototype.getBlockValue=function(e){return c.default.createChildStore(this.props.rootStore,e).getValue()},t.prototype.getCheckedIcon=function(){return s.default.check({fill:m.default.white,width:12,height:12})},t.prototype.getUncheckedIcon=function(){return s.default.checkboxSquare()},t}(h.default),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.children,r=e.color,n=e.rightMargin;return a.createElement("div",{style:{backgroundColor:r,color:this.theme.regularTextColor,display:"inline-flex",alignItems:"center",fontSize:12,height:18,paddingLeft:8,paddingRight:8,borderRadius:3,marginRight:n?4:0}},a.createElement("span",{style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},t))},t}(h.default);t.default=y},HHyf:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__await||function(e){return this instanceof a?(this.v=e,this):new a(e)},i=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},l("next"),l("throw"),l("return"),n[Symbol.asyncIterator]=function(){return this},n;function l(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{(r=o[e](t)).value instanceof a?Promise.resolve(r.value.v).then(u,c):d(i[0][2],r)}catch(e){d(i[0][3],e)}var r}function u(e){s("next",e)}function c(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("bkwR"),s=r("FUUC"),u=r("yUnD"),c=r("HRSx"),d=r("AOGK"),p=r("T1hA"),f=r("6SEd"),h=r("5/h/"),m=r("ezkE");function y(e){return n(this,void 0,void 0,function(){var t,r,n,a,i,l,y,g,v,b;return o(this,function(o){switch(o.label){case 0:return t=e.blockId,r=p.default.state.userId,t&&r?[4,u.generateLocalRecordMap([{table:c.default.table,id:t},{table:h.default.table,id:r}],function(e,r,o){var u=[];if(e===c.default.table&&r===t&&o&&o.value&&(n=o.value),e===s.default.table&&o&&o.value&&(a=o.value),e===f.default.table&&o&&o.value&&n&&n.parent_id===r&&(i=o.value),e===h.default.table&&o&&o.value&&(l=o.value),o&&o.value){var d=o.value;d.parent_id&&d.parent_table&&u.push({table:d.parent_table,id:d.parent_id})}return u})]:[3,2];case 1:if(y=o.sent(),n&&a&&l)return g=m.getPathFromRecordMapWithRole({table:c.default.table,id:t},y),v=Boolean(m.pathHasUserPermission(g,r)),b=m.pathHasPublicPermission(g),[2,d.getPublicPageData(n,a,i,l,v,b)];o.label=2;case 2:throw new Error("No offline public page data found.")}})})}t.loadPublicPageData=function(e){return i(this,arguments,function(){var t,r,n;return o(this,function(o){switch(o.label){case 0:t=e.request,o.label=1;case 1:return o.trys.push([1,5,,6]),[4,a(y(t))];case 2:return r=o.sent(),[4,a(r)];case 3:return[4,o.sent()];case 4:return o.sent(),[3,6];case 5:return o.sent(),[3,6];case 6:return[4,a(l.getPublicPageData(t))];case 7:return"success"!==(n=o.sent()).type?[3,10]:[4,a(n.data)];case 8:return[4,o.sent()];case 9:return o.sent(),[3,11];case 10:throw n.error;case 11:return[2]}})})}},HKW6:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("KcXv"),s=r("n8tN"),u=r("Dime"),c=r("fJHT"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){var e=this.props,t=e.store,r=e.hideContent,n=e.disabled,o=this.props.isListItem?l.itemStyle:{};return i.createElement("div",{style:this.getStyle()},i.createElement("div",{style:{display:"flex"}},i.createElement(c.default,{style:o,placeholderStyle:o,disabled:n,store:t.getBlockTitleStore()}),this.renderDiscussion()),!r&&this.renderContent())},t.prototype.renderContent=function(){var e=this.props,r=e.store,n=e.disabled,o=r.getContentStore();return(o.getValue()||[]).length>0?i.createElement("div",{style:t.listStyle},i.createElement(u.default,{disabled:n,store:o})):i.createElement(u.default,{disabled:!0,store:o})},t.prototype.getStyle=function(){return a({},this.getBlockColorStyle(),this.props.style)},t.listStyle={paddingLeft:"1.5em",display:"flex",flexDirection:"column"},t}(s.default);t.default=d},HOaV:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("sS7W"),u=r("FcJC"),c=r("r8oj"),d=r("7M94"),p=r("EZe4"),f=r("ikHm"),h=r("bFnu"),m=r("GRWW"),y=r("DNfA"),g=r("NOLh"),v=r("t+pW"),b=r("TDb4"),w=r("QtqF"),S=r("8fuX"),_=r("zK7c"),k=r("Na01"),C=r("ZP4g"),E=r("geEl"),P=r("LeVO"),x=r("AjLL"),T=r("2Zgn"),O=r("b936"),M=r("OIKt"),I=r("iQaW"),A=r("IwFn"),D=r("NQmS"),L=r("Sb6f"),R=r("D5Cs"),B=r("y6Dp"),j=r("mF3+"),V=r("CXc9"),F=r("MeYt"),N=r("m4z9"),U=r("QcDD"),W=r("nZ1u"),z=r("UcZb"),H=r("0zNc"),q=r("p0Uu"),G=r("raUL"),Z=r("/wWF"),Y=r("r8MX"),K=r("szb2"),J=r("RqMp"),Q=r("cy36"),X=r("enKW"),$=r("HTHG"),ee=r("d9nj"),te=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderSidebarContainer=function(){return i.createElement("div",{style:r.containerStyle(),className:"notion-sidebar-container"},i.createElement("div",{style:r.getWrapStyle()},i.createElement("div",{style:t.contentStyle,onMouseMove:r.handleMouseMove},i.createElement(g.default,{isVisible:!0,animationStyle:r.getPaneAnimationStyle(),useCompositeLayer:!0,render:r.renderSidebar}))))},r.renderSidebar=function(){if(U.default.state.currentSpaceStore)return i.createElement("div",{style:r.getPaneStyle(),className:d.sidebar,onMouseMove:r.handlePaneMouseMove,onMouseLeave:r.handlePaneMouseLeave},i.createElement("div",{style:r.getPaneBackgroundStyle()}),i.createElement("div",{style:r.getResizerStyle()}),r.renderHeader(),r.renderActions(),r.renderOutliner(),r.renderFooter(),i.createElement(V.default,null))},r.handleMouseMove=function(e){p.default({event:e,context:p.EventContext.SidebarMouseMove,callback:function(){u.open()}})},r.handlePaneMouseMove=function(e){r.stores.mouseStore.setState(a({},r.stores.mouseStore.state,{mouseEntered:!0}))},r.handlePaneMouseLeave=function(e){r.stores.mouseStore.setState(a({},r.stores.mouseStore.state,{mouseEntered:!1}))},r.handleCreatePageClick=function(){u.quickAddPage({from:"sidebar_new_page_button"})},r.handlecreateSpaceClick=function(){D.createOrJoinSpace()},r.handleImportClick=function(){J.default.setState({open:!0}),B.trackOpenImportModal()},r.handleScrollerMount=function(e){q.default.SidebarScroller=e},r.isScrolledToTop=r.createComputedStore(function(){return 0===r.stores.scrollerStore.state.scrollTop}),r.shouldShowResizerBar=r.createComputedStore(function(){return!H.default.state.isDragging&&!W.default.state.isActive&&(z.default.state.isResizerHovered||z.default.state.isResizing)}),r}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(g.default,{isVisible:!0,animationStyle:{width:this.props.isExpanded?z.default.state.width:0},render:this.renderSidebarContainer})},t.prototype.renderHeader=function(){var e=this.props,r=e.isExpanded,n=e.isElectronMac,o=Z.default.state.isFullScreen,a=this.stores.mouseStore.state.mouseEntered,l=n&&r&&!o,s=r&&a&&(!n||o);return i.createElement("div",{style:t.headerStyle},l&&i.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",height:n&&r?x.default.desktopMacHeight:x.default.defaultHeight,paddingRight:11}},this.stores.mouseStore.state.mouseEntered&&i.createElement("div",{className:d.fadeIn},i.createElement(T.default,null))),i.createElement(E.default,{shouldShowUnexpandButton:s,format:n&&r?E.default.Format.DesktopMac:E.default.Format.Regular}))},t.prototype.renderActions=function(){var e=this;return i.createElement("div",{style:a({},t.actionsStyle,{paddingBottom:8,boxShadow:this.isScrolledToTop.state?"0 0 0 transparent":"0 1px 0 "+this.theme.regularDividerColor,transition:"box-shadow 300ms"})},i.createElement(P.default,{renderTooltip:function(){return i.createElement("div",null,i.createElement("div",null,"Search and quickly jump to a page"),i.createElement(b.default,{style:{color:e.theme.mediumInvertedTextColor},name:"quickFind"}))},originGap:6,placement:y.Placement.Right,render:function(t){return i.createElement(F.default,a({},t,{onClick:function(){return s.toggleQuickFind({analyticsFrom:"sidebar"})}}),i.createElement(k.default,{left:j.default.sidebarSearch({fill:e.theme.mediumIconColor,width:14}),isMobile:!1},"Quick Find"))}}),i.createElement(I.default,null),i.createElement(P.default,{renderTooltip:function(){return i.createElement("div",{style:{width:200}},"Update your profile, upgrade to Pro, or invite new members")},originGap:6,textWrap:!0,placement:y.Placement.Right,render:function(e){return i.createElement(C.default,a({isMobile:!1},e))}}))},t.prototype.renderBottomActions=function(){var e=this,r=U.default.state.currentBlockStore;return i.createElement("div",{style:t.actionsStyle},i.createElement(P.default,{renderTooltip:function(){return"Import from Word, Markdown, HTML, and more."},originGap:6,placement:y.Placement.Right,render:function(t){return i.createElement(F.default,a({onClick:e.handleImportClick},t),i.createElement(k.default,{left:j.default.sidebarImport({fill:e.theme.mediumIconColor,height:15}),isMobile:!1},"Import"))}}),r&&i.createElement(P.default,{renderTooltip:function(){return"Restore deleted pages."},originGap:6,placement:y.Placement.Right,render:function(e){return i.createElement(O.default,a({store:r,isMobile:!1},e))}}))},t.prototype.renderOutliner=function(){var e=this,r=$.getSidebarData(),n=U.default.state,o=n.currentSpaceStore,s=n.currentSpaceViewStore,u=n.userRootStore,c=n.userStore,d=n.currentBlockStore;if(r&&d&&s&&u&&o&&c){var p=this.stores.mouseStore.state.mouseEntered;return i.createElement(l.Fragment,null,i.createElement(_.default,{store:o,disableEditNearestBlock:!0,disable:Boolean(K.default.state.open||Q.default.state.open),render:function(n){return i.createElement(S.default,a({key:s.id,type:S.default.OverflowType.Y,store:e.stores.scrollerStore,style:t.scrollerStyle,ref:e.handleScrollerMount},n),r.showBookmarksSection&&i.createElement(M.default,{isMobile:!1,type:"bookmarks",spaceStore:o,spaceViewStore:s,showAddPageButton:!1,labelTooltip:"Pages you have favorited.",renderSidebar:function(){return i.createElement(w.default,{isMobile:!1,type:"bookmarks",isTopLevel:!0,spaceStore:o,spaceViewStore:s,parentStore:r.bookmarkedPagesStore,childStores:r.bookmarkedPages,showAddPageButton:!1,style:t.outlinerStyle,disabled:!o.canEdit()})}}),r.showWorkspaceSection&&i.createElement(M.default,{isMobile:!1,type:"workspace",spaceStore:o,spaceViewStore:s,showAddPageButton:p,labelTooltip:"All workspace members can access these pages.",renderSidebar:function(){return i.createElement(l.Fragment,null,i.createElement(w.default,{isMobile:!1,type:"workspace",isTopLevel:!0,spaceStore:o,spaceViewStore:s,parentStore:r.spacePagesStore,childStores:r.workspacePages,addPageTitle:"Add a Page",showAddPageButton:r.stickTemplateItemsToBottom||0===r.sidebarTemplateItems.workspaceTemplates.length,style:t.outlinerStyle,disabled:!o.canEdit()}),!r.stickTemplateItemsToBottom&&r.sidebarTemplateItems.workspaceTemplates.map(function(e,t){return i.createElement(R.default,{key:e.name,item:e,isMobile:!1,isVisited:r.visitedTemplateIds.indexOf(e.rootId)>=0,isPrivate:!1,isFirstItem:0===t})}))}}),r.showSharedSection&&i.createElement(M.default,{isMobile:!1,type:"shared",spaceStore:o,spaceViewStore:s,showAddPageButton:!1,labelTooltip:"Only people you shared with can access these pages.",renderSidebar:function(){return i.createElement(w.default,{isMobile:!1,type:"shared",isTopLevel:!0,spaceStore:o,spaceViewStore:s,parentStore:r.sharedPagesStore,childStores:r.sharedPages,showAddPageButton:!1,style:t.outlinerStyle,disabled:!o.canEdit()})}}),r.showPrivateSection&&!r.showOnlyPrivateSection&&i.createElement(M.default,{isMobile:!1,type:"private",spaceStore:o,spaceViewStore:s,showAddPageButton:p,outlinerToggleButtonStore:G.default,labelTooltip:"Only you can access these pages.",renderSidebar:function(){return i.createElement(l.Fragment,null,i.createElement(w.default,{isMobile:!1,type:"private",isTopLevel:!0,spaceStore:o,spaceViewStore:s,parentStore:r.spacePagesStore,childStores:r.privatePages,addPageTitle:"Add a Page",showAddPageButton:r.stickTemplateItemsToBottom||0===r.sidebarTemplateItems.privateTemplates.length,style:t.outlinerStyle,disabled:!o.canEdit()}),!r.stickTemplateItemsToBottom&&r.sidebarTemplateItems.privateTemplates.map(function(e,t){return i.createElement(R.default,{key:e.name,item:e,isMobile:!1,isPrivate:!0,isVisited:r.visitedTemplateIds.indexOf(e.rootId)>=0,isFirstItem:0===t&&0===r.sidebarTemplateItems.workspaceTemplates.length})}))}}),r.showOnlyPrivateSection&&i.createElement(l.Fragment,null,i.createElement(w.default,{isMobile:!1,type:"private",isTopLevel:!0,spaceStore:o,spaceViewStore:s,parentStore:r.spacePagesStore,childStores:r.privatePages,addPageTitle:"Add a Page",showAddPageButton:r.stickTemplateItemsToBottom||0===r.sidebarTemplateItems.privateTemplates.length,style:t.outlinerStyle,disabled:!o.canEdit()}),!r.stickTemplateItemsToBottom&&r.allCurrentTemplateItems.map(function(e,t){return i.createElement(R.default,{key:e.name,item:e,isPrivate:!0,isMobile:!1,isFirstItem:0===t,isVisited:r.visitedTemplateIds.indexOf(e.rootId)>=0})})),i.createElement("div",{style:{marginTop:M.default.marginBottom}}),o.canEdit()&&e.renderBottomActions())}}))}},t.prototype.renderStickToBottomTemplateItems=function(){var e=$.getSidebarData();if(e&&e.stickTemplateItemsToBottom&&e.allCurrentTemplateItems.length>0)return i.createElement("div",{style:{marginBottom:8,marginTop:4}},i.createElement(k.default,{isMobile:!1},i.createElement("span",{style:this.getSectionLabelStyle()},"Templates")),e.allCurrentTemplateItems.map(function(t,r){return i.createElement(R.default,{key:t.name,item:t,isPrivate:!0,isMobile:!1,isFirstItem:0===r,isVisited:e.visitedTemplateIds.indexOf(t.rootId)>=0})}))},t.prototype.renderFooter=function(){var e=U.default.state,r=e.currentSpaceStore,n=e.userRootStore,o=e.userSettingsStore,l=Y.default.state.data,s=(l?l.credits:[]).find(function(e){return"invited_by_user"===e.type});if(r&&n&&o){var u=o.getSettings();return r.canEdit()?i.createElement("div",{style:t.footerStyle},s&&!u.hide_referral_notification&&i.createElement(N.default,null),this.renderStickToBottomTemplateItems(),i.createElement(F.default,{onClick:this.handleCreatePageClick,style:{boxShadow:"0 -1px 0 "+this.theme.regularDividerColor}},i.createElement(k.default,{style:{color:this.theme.mediumTextColor,height:45},left:this.getPlusIcon(),isMobile:!1},"New Page"))):i.createElement("div",{style:a({},t.footerStyle,{padding:14,boxShadow:"0 -1px 0 "+this.theme.regularDividerColor})},i.createElement(A.default,null,"You are currently a guest. To see all the workspace pages, ask an admin to upgrade you to a member."),i.createElement(ee.default,{icon:j.default.team,onClick:this.handlecreateSpaceClick,style:{marginTop:8,marginLeft:-8}},"Create a Workspace"))}},t.prototype.isVisible=function(){var e=z.default.state.open,t=this.props.isExpanded;return e||t},t.prototype.containerStyle=function(){return a({flexGrow:0,flexShrink:0,pointerEvents:"none",position:"relative",zIndex:f.sidebarContainer,background:this.theme.sidebarBackground},this.getResizerHoverStyle())},t.prototype.getResizerHoverStyle=function(){return a({transition:"box-shadow 300ms ease-in"},this.shouldShowResizerBar.state&&{boxShadow:this.theme.sidebarResizerBoxShadow})},t.prototype.getTopbarHeight=function(){return c.default.isElectronMac?x.default.desktopMacHeight:x.default.defaultHeight},t.prototype.getTop=function(){return this.getTopbarHeight()+15},t.prototype.getWrapStyle=function(){return{color:this.theme.sidebarTextColor,fontWeight:L.default.fontWeight.medium,height:"100%"}},t.prototype.getPaneStyle=function(){var e=this.props.isExpanded;return{display:"flex",flexDirection:"column",height:e?"100%":"auto",position:"relative",pointerEvents:this.isVisible()?"auto":"none",maxHeight:e?"100%":"calc(100vh - "+2*this.getTop()+"px)"}},t.prototype.getPaneAnimationStyle=function(){var e=z.default.state.open,r=this.props.isExpanded,n=z.default.state.width;return r?{width:n,translateX:0,translateY:t.expandedTop,opacity:1}:e?{width:n,translateX:0,translateY:this.getTop(),opacity:1}:{width:n,translateX:20-n,translateY:this.getTop(),opacity:0}},t.prototype.getPaneBackgroundStyle=function(){return{display:this.props.isExpanded?"none":"block",position:"absolute",top:0,left:0,bottom:0,right:0,borderTopRightRadius:3,borderBottomRightRadius:3,zIndex:-1,background:this.theme.floatingSidebarBackground,boxShadow:X.getShadow({elevation:3,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity})}},t.prototype.getResizerStyle=function(){var e=this.props.isExpanded;return a({position:"absolute",top:0,left:0,bottom:0,right:0,borderTopRightRadius:3,borderBottomRightRadius:3,zIndex:-1,display:e?"none":"block"},this.getResizerHoverStyle())},t.prototype.getSectionLabelStyle=function(){return{letterSpacing:"0.03em",textTransform:"uppercase",fontSize:11.5,lineHeight:1,marginBottom:1,color:this.theme.lightTextColor,fontWeight:L.default.fontWeight.semibold}},t.prototype.getPlusIcon=function(){return i.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},j.default.plus({fill:this.theme.mediumIconColor,width:14,height:14}))},t.stores={scrollerStore:m.default,mouseStore:h.default},t.expandedTop=0,t.scrollerStyle={paddingTop:14,paddingBottom:20},t.headerStyle={display:"block",flexShrink:0,flexGrow:0},t.actionsStyle={flexGrow:0,flexShrink:0},t.footerStyle={display:"block",flexGrow:0,flexShrink:0,flexBasis:"auto",marginTop:"auto"},t.contentStyle={position:"absolute",top:0,left:0,bottom:0,display:"flex",flexDirection:"column",width:0,overflow:"visible",zIndex:f.sidebarContent,pointerEvents:"none"},t.outlinerStyle={display:"block"},t}(v.default);t.default=te},HRSx:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("fIr1");t.contentTypes={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,page:!0,column:!0,column_list:!0,factory:!0},t.enterIntoNonEmptyChildrenTypes={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0},t.annotatedContentTypes={header:!0,sub_header:!0,sub_sub_header:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,quote:!0},t.contentCoverTypes={text:!0,page:!0,collection_view_page:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,quote:!0,to_do:!0,header:!0,sub_header:!0,sub_sub_header:!0},t.plainTextTypes={text:!0,header:!0,sub_header:!0,sub_sub_header:!0},t.resetOnEnterTypes={header:!0,sub_header:!0,sub_sub_header:!0,quote:!0},t.mediaTypes={image:!0,video:!0,embed:!0,tweet:!0,drive:!0,gist:!0,invision:!0,framer:!0,audio:!0,maps:!0,figma:!0,loom:!0,typeform:!0,codepen:!0,pdf:!0},t.captionTypes=n({},t.mediaTypes,{bookmark:!0,file:!0}),t.configurableTypes={factory:!0},t.transformableTypes={text:!0,header:!0,sub_header:!0,sub_sub_header:!0,page:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,code:!0,quote:!0},t.transformableTypeKeyboardShortcuts=["text","header","sub_header","sub_sub_header","to_do","bulleted_list","numbered_list","toggle","code","page"],t.canOverflowEdgeBlockTypes={image:!0,video:!0,tweet:!0,drive:!0,maps:!0,gist:!0,audio:!0,file:!0,collection_view:!0,pdf:!0},t.rootChildCenterAlignBlockTypes=n({column_list:!0,collection_view:!0},t.mediaTypes),t.colorableTypes={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,quote:!0,page:!0,header:!0,sub_header:!0,sub_sub_header:!0,bookmark:!0,file:!0,collection_view_page:!0,table_of_contents:!0},t.navigableTypes={page:!0,collection_view:!0,collection_view_page:!0},t.ignoreSnapshotTypes={copy_indicator:!0,link_to_page:!0,link_to_collection:!0},t.ignoreActivityTypes={column:!0,column_list:!0,copy_indicator:!0,divider:!0,link_to_page:!0,link_to_collection:!0,table_of_contents:!0},t.noCommentTypes={column:!0,column_list:!0,copy_indicator:!0,divider:!0,link_to_page:!0,link_to_collection:!0,table_of_contents:!0},t.titleTypes={text:!0,page:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,factory:!0,code:!0,header:!0,sub_header:!0,sub_sub_header:!0},t.headingTypes={header:!0,sub_header:!0,sub_sub_header:!0},t.multilineTextTypes={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,header:!0,sub_header:!0,sub_sub_header:!0},t.blockCommentOnlyAllowedEditColumns=["properties","discussions","last_edited_time","last_edited_by","version","alive"];var a={table:"block",columnTypes:{id:o.default.UUID,version:o.default.Number,last_version:o.default.Number,type:o.default.String,properties:o.default.JSON,content:o.default.StringArray,discussions:o.default.StringArray,view_ids:o.default.StringArray,collection_id:o.default.UUID,format:o.default.JSON,permissions:o.default.JSON,created_by:o.default.UUID,created_time:o.default.Number,last_edited_by:o.default.UUID,last_edited_time:o.default.Number,copied_from:o.default.UUID,file_ids:o.default.StringArray,ignore_block_count:o.default.Boolean,is_template:o.default.Boolean,parent_id:o.default.UUID,parent_table:o.default.String,alive:o.default.Boolean},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0,type:!0},defaultColumnValues:{alive:!1}};t.default=a},HSWF:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=r("LvDl"),s=r("tP7q"),u=r("/YYm"),c=r("wpmu"),d=r("fke4"),p=r("bPtJ"),f="lastVisitedRoute",h="sessionTags",m="uniqueId",y="frontPageTemplate",g="forkPageTemplate",v="referralUserId",b="sessionVisitedEvernotePage",w=10,S=10;function _(){return d.default.get(f)}function k(e){var t=d.default.get(C(e));return t?JSON.parse(t):[]}function C(e){return"recentlyVisitedPages:"+e}function E(e,t){return n(this,void 0,void 0,function(){var r,a,i,l=this;return o(this,function(s){switch(s.label){case 0:return(r=d.default.get(P(t)))?(a=JSON.parse(r),[4,Promise.all(a.map(function(t){var r=t.table,a=t.id;return n(l,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,(t=p.createRecordStore(e,r,a)).load()];case 1:return n.sent(),[2,t.canEdit()]}})})}))]):[3,2];case 1:return i=s.sent(),[2,a.filter(function(e,t){return i[t]})];case 2:return[2,[]]}})})}function P(e){return"recentMoveToTargets:"+e}t.setInitialPage=function(e){d.default.set("sourceInitialPage",e)},t.getInitialPage=function(){return d.default.get("sourceInitialPage")},t.setSessionAnalyticsTags=function(e){sessionStorage.setItem(h,JSON.stringify(e))},t.getSessionAnalyticsTags=function(){var e=sessionStorage.getItem(h);if(e)return JSON.parse(e)},t.setLastVisitedRoute=function(e){d.default.set(f,e)},t.getLastVisitedRoute=_,t.getLastVisitedRouteUrl=function(){var e=_();if(e){if("page"===e.name)return u.default({fullyQualified:!1,store:new c.default(e.blockId),scrollToBlockId:e.scrollToBlockId,peekViewBlockId:e.peekViewBlockId,collectionViewId:e.collectionViewId,discussionId:e.discussionId});if("space"===e.name)return s.createUrlPath({route:e})}},t.addRecentlyVisitedPage=function(e,t){var r=k(e),n=l.uniq(i([t],r)).slice(0,w);d.default.set(C(e),JSON.stringify(n))},t.getRecentlyVisitedPages=k,t.addRecentMoveToTarget=function(e,t,r){return n(this,void 0,void 0,function(){var n,a;return o(this,function(o){switch(o.label){case 0:return[4,E(e,t)];case 1:return n=o.sent(),a=l.uniqBy(i([r],n),function(e){return e.id}).slice(0,S),d.default.set(P(t),JSON.stringify(a)),[2]}})})},t.getRecentMoveToTargets=E,t.setFrontPageTemplate=function(e){d.default.set(y,e)},t.getFrontPageTemplate=function(){return d.default.get(y)},t.setFingerprintId=function(e){d.default.set(m,e)},t.getFingerprintId=function(){return d.default.get(m)},t.setForkPageTemplate=function(e){d.default.set(g,e)},t.getForkPageTemplate=function(){return d.default.get(g)};var x=function(e){return"quickAddParent:"+e};t.setQuickAddParent=function(e,t){t?d.default.set(x(e),t):d.default.remove(x(e))},t.getQuickAddParent=function(e,t){return n(this,void 0,void 0,function(){var r,n;return o(this,function(o){switch(o.label){case 0:return(r=d.default.get(x(t)))?[4,(n=p.createRecordStore(e,r.table,r.id)).load()]:[3,2];case 1:if(o.sent(),n.canEdit())return[2,r];o.label=2;case 2:return[2]}})})},t.setReferralUserId=function(e){e?d.default.set(v,e):d.default.remove(v)},t.getReferralUserId=function(){var e=sessionStorage.getItem(v);if(e)return e;var t=d.default.get(v);return t||void 0},t.setSessionVisitedEvernotePage=function(e){sessionStorage.setItem(b,JSON.stringify(e))},t.getSessionVisitedEvernotePage=function(){var e=sessionStorage.getItem(b);return!!e&&JSON.parse(e)}},HTHG:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=r("LvDl"),s=r("nFzZ"),u=r("wpmu"),c=r("rro+"),d=r("AXh+"),p=r("NCLm"),f=r("XBB3"),h=r("sjR4"),m=r("qHvo"),y=r("DNgp"),g=r("T1hA"),v=r("nZ1u"),b=r("dccM"),w=r("UcZb"),S=r("6BvA"),_=r("iICV"),k=r("UiOz"),C=r("PuL6"),E=r("EmAo"),P=r("szb2"),x=r("cR5F"),T=r("uLZi"),O=r("z8HZ"),M=r("7IvN"),I=r("WaiN"),A=r("GKeo"),D=r("7TLZ"),L=r("QcDD"),R=r("LqYT"),B=r("D2XV");function j(){var e=L.default.state.currentBlockStore,t=e&&e.isCollectionView();return _.default.state.isKeyboardMode&&!S.default.isActive()&&!t&&!x.default.state.open&&!O.default.state.open&&0===k.default.state.banners.length}function V(){var e=L.default.state.currentSpaceViewStore;return e?l.union(e.getWorkspacePages(),e.getSharedPages(),e.getPrivatePages()):[]}t.getCurrentPageId=function(){if(L.default.state.currentBlockStore)return L.default.state.currentBlockStore.id},t.getCurrentRootStore=function(){var e=h.default.getCurrentRootStore();if(e&&e instanceof u.default)return e},t.isExternalPublicPage=function(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return t=new u.default(e),[4,D.loadAncestors(t)];case 1:return r.sent(),[2,t.canRead()&&d.userHasPermissionViaPublicAccess(t)]}})})},t.AppRenderStateStore=new R.default(function(){var e=L.default.state.currentBlockStore,t=g.default.isLoggedIn(),r=Boolean(e&&e.canRead()&&e.getValue()),n=Boolean(e&&e.canEdit()&&e.getValue()),o=Boolean(e&&D.areAncestorsLoaded(e)),a=Boolean(e&&r&&d.userHasPermissionViaPublicAccess(e));return{shouldShowSidebar:Boolean(t&&r&&(n||o&&!a)),shouldShowFrame:Boolean(r&&(n||o&&r)),shouldShowError:!e||e&&e.isReady()&&!r}}),t.sidebarIsExpanded=function(){return g.default.isLoggedIn()&&w.default.state.expanded},t.shouldHideTopbar=j,t.shouldHideHelpButton=function(){return j()},t.getCurrentSearchablePages=V,t.getDefaultSearchResultPages=function(){var e=L.default.state.currentSpaceViewStore;return e?l.uniqBy(i(e.getBookmarkedPages(),e.getWorkspacePages(),e.getSharedPages(),e.getPrivatePages()),"id"):[]},t.getCurrentSearchablePageIds=function(){return V().map(function(e){return e.id})},t.getSidebarData=function(){var e=L.default.state,t=e.currentSpaceStore,r=e.currentSpaceViewStore,n=e.userRootStore,o=e.userSettingsStore;if(e.currentBlockStore&&r&&n&&t&&o){var a=o.getValue(),i=t.getPermissionItems(),u=r.getBookmarkedPagesStore(),d=r.getSharedPagesStore(),f=t.getPagesStore(),h=r.getBookmarkedPages(),m=r.getWorkspacePages(),y=r.getSharedPages(),g=r.getPrivatePages(),v=!t.canEdit(),b=1===i.length&&0===m.length&&a&&p.userIsPersonal(a),w=h.length>0,S=!v&&!b,_=y.length>0,k=!v,C=!w&&!S&&!_,E=function(){var e=L.default.state,t=e.userStore,r=e.currentSpaceViewStore,n=e.currentSpaceStore,o=e.userSettingsStore;if(t&&o&&r&&n&&n.canEdit()){var a=o.getValue(),i=r.getSidebarHiddenTemplateIds(),u=Boolean(a&&p.userIsPersonal(a));if(a&&a.settings&&!a.settings.use_case)return{workspaceTemplates:[],privateTemplates:[]};if(u){var d=l.difference(c.personalTemplates,i),f=s.compact(d.map(function(e){return c.allTemplateItems.find(function(t){return t.rootId===e})}));return{workspaceTemplates:[],privateTemplates:f}}var h=a&&a.settings&&a.settings.use_case?a.settings.use_case:"team_docs_knowledge_base",m=l.difference(c.teamWorkspaceTemplateRootIdMap[h],i),y=s.compact(m.map(function(e){return c.allTemplateItems.find(function(t){return t.rootId===e})})),d=l.difference(c.teamPrivateTemplates,i),f=s.compact(d.map(function(e){return c.allTemplateItems.find(function(t){return t.rootId===e})}));return{workspaceTemplates:y,privateTemplates:f}}return{workspaceTemplates:[],privateTemplates:[]}}(),P=r.getVisitedTemplateIds(),x=h.length+y.length+m.length+g.length>=8,T=E.workspaceTemplates.concat(E.privateTemplates);return{bookmarkedPagesStore:u,sharedPagesStore:d,spacePagesStore:f,bookmarkedPages:h,workspacePages:m,sharedPages:y,privatePages:g,isGuest:v,isPersonalSpace:b,showBookmarksSection:w,showWorkspaceSection:S,showSharedSection:_,showPrivateSection:k,showOnlyPrivateSection:C,sidebarTemplateItems:E,visitedTemplateIds:P,stickTemplateItemsToBottom:x,allCurrentTemplateItems:T}}},t.menuIsOpen=function(){return _.default.state.isKeyboardMode||v.default.state.isActive||m.default.state.isDragging||A.default.state.open||I.default.state.open||M.default.state.open||T.default.state.openPopups.size>0||E.default.state.isOpen&&!P.default.state.open||C.default.state.isOpen},t.getCurrentContainerPageWidth=function(){var e=h.default.state.defaultContainer,t=f.default.defaultWidth-2*f.default.defaultPaddingLeftRight;if(e){var r=b.default.findComponent(function(t){return t.props.store===e.props.store});if(r){var n=r.getContentInnerWidth();if(n)return Math.min(t,n)}}return t},t.isEditingCurrentPage=function(){var e=L.default.state.currentBlockStore,t=P.default.state,r=y.default.state;return r.editing&&(e&&e.id===r.store.id&&r.store.path.includes("title")||t.open&&t.target.id===r.store.id&&r.store.path.includes("title"))},t.getCurrentSpaceIds=function(){var e=L.default.state.userRootStore;if(e){var t=e.getSpaceViewStores();return s.compact(t.map(function(e){return e.getSpaceId()}))}return[]},t.getUserMemberOrAdminSpaceViewStores=function(e){return l.uniqBy(e.getSpaceViewStores(),function(e){var t=e.getValue();return t&&t.space_id}).filter(function(e){var t=e.getSpaceStore();return e.getValue()&&t&&t.canEdit()})},t.loadUserSpaceViewStores=function(e){return n(this,void 0,void 0,function(){var t,r=this;return o(this,function(a){switch(a.label){case 0:return[4,e.load()];case 1:return a.sent(),t=e.getSpaceViewStores(),[4,Promise.all(t.map(function(e){return n(r,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return[4,e.load()];case 1:return r.sent(),(t=e.getSpaceStore())?[4,t.load()]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})}))];case 2:return a.sent(),[2]}})})},t.userSettingsStartOfWeekStore=new R.default(function(){var e=L.default.state.userSettingsStore,t=B.getDefaultStartDayOfWeek();if(e){var r=e.getSettings();return void 0===r.start_day_of_week?t:r.start_day_of_week}return t})},Hf2Q:function(e,t){},Hj3C:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("LvDl"),c=r("q1tI"),d=r("7ovu"),p=r("p+Y9"),f=r("r8oj"),h=r("t3i2"),m=r("G4GV"),y=r("UZfs"),g=r("t+pW"),v=r("APM9"),b=r("2m/B"),w=r("LeVO"),S=r("BfkC"),_=r("p+Y9"),k=r("5w/s"),C=r("gbGO"),E=r("R+Q+"),P=r("fCO4"),x=r("2Y+N"),T=r("dXb3"),O=r("T4gQ"),M=r("mF3+"),I=r("Cycz"),A=r("mVDJ"),D=r("wS9/"),L=r("r8MX"),R=r("cX/5"),B=r("MeYt"),j=r("bxQm"),V=r("d9nj"),F=r("prF1"),N=r("1y3T"),U=r("Pl3d"),W=r("bkwR"),z=r("4HCU"),H=r("wlCD"),q=r("IYZQ"),G=r("5FB0"),Z=r("0KcA"),Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderUnsplashResults=function(e,r,n,o){return o?!n||n&&!n.length?s.createElement(y.default,{shouldWrapCaption:!0,caption:"No results found",style:{textAlign:t.props.isSmallWidth?"left":"center",color:t.theme.mediumTextColor}}):s.createElement(c.Fragment,null,n.map(function(r){return t.renderUnsplashImage(e,r)}),s.createElement(y.default,{shouldWrapCaption:!0,caption:"Search to find more results",style:{textAlign:t.props.isSmallWidth?"left":"center",color:t.theme.mediumTextColor}})):s.createElement("div",{style:t.getLoadingContainerStyle()},s.createElement(H.default,null))},t.renderUnsplashImage=function(e,r){return s.createElement("div",{key:r.id,style:{width:f.default.isMobile?"33%":"25%",padding:3}},s.createElement(B.default,{hoveredStyle:{opacity:.85},onClick:function(){return t.handleSelectUnsplashImage(e,r)}},s.createElement(b.default,{src:r.thumbUrl,style:{width:"100%",height:64,objectFit:"cover",objectPosition:"center 0%",borderRadius:3}})),s.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2,marginBottom:4,fontSize:11,color:t.theme.lightTextColor}},"by ",s.createElement(q.default,{href:r.unsplashUrl,external:!0},r.authorName)))},t.handleEmbedSubmit=function(e){return function(){var r=t.stores.embedInputStore.state.inputValue;r&&e.onChange(r)}},t.handleSelectUnsplashImage=function(e,r){return i(t,void 0,void 0,function(){var t;return l(this,function(n){switch(n.label){case 0:return[4,G.default({url:r.downloadUrl,method:"GET",json:!0})];case 1:return"success"===(t=n.sent()).type&&e.onChange({url:t.data.url}),[2]}})})},t.handleSwipeLeft=function(){if(R.default.state.isActive){var e=t.getTabs(),r=e.map(function(e){return e.type}).indexOf(R.default.state.currentTab),n=e[r+1];void 0!==n&&t.handleTabChange(n.type)}},t.handleSwipeRight=function(){if(R.default.state.isActive){var e=t.getTabs(),r=e.map(function(e){return e.type}).indexOf(R.default.state.currentTab),n=e[r-1];void 0!==n&&t.handleTabChange(n.type)}},t.handleTabChange=function(e){R.default.state.isActive&&R.default.setState(a({},R.default.state,{currentTab:e}))},t.handleUpload=function(){return i(t,void 0,void 0,function(){var e,t,r,n=this;return l(this,function(o){switch(o.label){case 0:return e=this.getTabs(),(t=e.find(function(e){return e.type===n.props.currentTab}))&&"file"===t.type?[4,_.openFilePicker({multiple:!1})]:[3,2];case 1:(r=o.sent()).length&&t.onUpload(r[0]),o.label=2;case 2:return[2]}})})},t.handleRandomEmojiClick=function(){var e=t.getTabs().find(function(e){return e.type===t.props.currentTab});if(e&&"emoji"===e.type){var r=k.getRandomPageEmojiIcon();e.onChange(r.char,{keepVisible:!f.default.isMobile})}},t}return o(t,e),t.prototype.renderComponent=function(){var e,t=this,r=this.renderTabsHeader(),n=this.renderInputHeader(),o=(r||n)&&s.createElement(c.Fragment,null,r,n);return f.default.isMobile?e={menuType:C.default.MenuType.Modal,title:this.props.title,header:o,right:"Close",onClickRight:this.props.onCancel,left:this.props.onDelete&&"Remove",onClickLeft:this.props.onDelete}:((e={menuType:C.default.MenuType.Popup,header:o}).width=this.props.popupWidth||300,e.height=this.props.popupHeight,e.maxHeight=this.props.maxHeight,e.maxWidth=this.props.maxWidth),s.createElement(P.default,{onSwipeLeft:this.handleSwipeLeft,onSwipeRight:this.handleSwipeRight,render:function(r){return s.createElement(C.default,a({},e,r),t.renderCurrentTab())}})},t.prototype.renderTabsHeader=function(){var e=this;if(!(this.getTabs().length<=1)||this.props.onDelete){var t={gallery:"Gallery",embed:"Embed Link",file:"Upload",emoji:"Emoji",unsplash:s.createElement(c.Fragment,null,M.default.unsplashLogo({width:12,marginRight:4,height:12}),s.createElement("span",null,"Unsplash"),s.createElement(Z.default,null))},r=this.getTabs(),n=r.findIndex(function(t){return t.type===e.props.currentTab}),o=r.map(function(e){return e.title||t[e.type]}),i=r.find(function(t){return t.type===e.props.currentTab}),l=i&&"emoji"!==i.type&&f.default.isAndroid;return s.createElement(E.default,{tabs:o,selectedIndex:n,onChange:function(t){var n=r[t];e.handleTabChange(n.type)},right:s.createElement(c.Fragment,null,i&&"emoji"===i.type&&s.createElement(V.default,{isGray:!0,icon:M.default.random,onClick:this.handleRandomEmojiClick},"Random"),this.props.onDelete&&!f.default.isMobile&&s.createElement(V.default,{isGray:!0,onClick:this.props.onDelete},"Remove")),style:a({},l&&{borderBottom:"none"})})}},t.prototype.renderInputHeader=function(){var e=this,t=this.getTabs().find(function(t){return t.type===e.props.currentTab});if(t&&"emoji"===t.type)return s.createElement("div",{style:{margin:f.default.isMobile?0:"10px 0"}},s.createElement(T.default,{value:this.stores.emojiInputStore.state.inputValue,focus:!f.default.isMobile||void 0,placeholder:"Filter...",showClearButton:!0,left:M.default.searchThick(this.getSearchIconStyle()),onChange:function(t){e.stores.emojiInputStore.setState({focus:!1,inputValue:t.target.value}),e.stores.emojiPickerStore.setState(a({},e.stores.emojiPickerStore.state,{loadCategoryCount:A.default.defaultLoadCategoryCount}))},style:a({},f.default.isAndroid&&{borderBottom:"none"})}))},t.prototype.renderCurrentTab=function(){var e=this,t=this.getTabs().find(function(t){return t.type===e.props.currentTab});if(!t)return"Uh oh! Something went wrong.";switch(t.type){case"embed":return this.renderEmbedTab(t);case"file":return this.renderFileTab(t);case"emoji":return this.renderEmojiTab(t);case"gallery":return this.renderGalleryTab(t);case"unsplash":return this.renderUnsplashTab(t)}},t.prototype.renderEmojiTab=function(e){return s.createElement(v.default,{onSubmit:e.onChange,filter:this.stores.emojiInputStore.state.inputValue,store:this.stores.emojiPickerStore})},t.prototype.renderGalleryTab=function(e){var t=this;return s.createElement("div",{style:{paddingBottom:8}},u.map(h.default,function(r,n){return s.createElement(x.default,{key:n,title:s.createElement(F.default,{style:{marginLeft:-5},href:r.url,external:!0},s.createElement(j.default,null,r.title)),isTitleUppercase:!0,noTextOverflow:!0},s.createElement("div",{style:t.getGalleryWrapStyle()},r.items.map(function(r,n){var o=r.coverUrl,i=r.title,l=r.subtitle,u=r.position;return s.createElement("div",{key:n,style:{width:"25%",padding:3}},s.createElement(w.default,{originGap:0,placement:w.default.Placement.Bottom,delayThreshold:600,renderTooltip:function(){return s.createElement("div",{style:{fontSize:10.5,maxWidth:180,overflow:"hidden",textOverflow:"ellipsis",color:t.theme.mediumInvertedTextColor}},s.createElement("span",{style:{color:t.theme.regularInvertedTextColor}},i)," ",l)},render:function(t){return s.createElement(B.default,a({hoveredStyle:{opacity:.85}},t,{onClick:function(){e.onChange({url:o,position:u})}}),s.createElement(N.default,{url:o,width:200,permissionRecord:void 0,render:function(e,t){return t&&s.createElement(b.default,{src:t,style:{width:"100%",height:64,objectFit:"cover",objectPosition:"center "+100*(u||0)+"%",borderRadius:3}})}}))}}))})))}))},t.prototype.renderUnsplashTab=function(e){var t=this;return s.createElement("div",{style:{paddingBottom:8}},s.createElement(x.default,{desktopStyle:{marginTop:8,marginBottom:6}},s.createElement(T.default,{value:this.stores.unsplashInputStore.state.inputValue,placeholder:"Search for an image...",showClearButton:!0,focus:!f.default.isMobile||void 0,onChange:function(e){t.stores.unsplashInputStore.setState(a({},t.stores.unsplashInputStore.state,{inputValue:e.target.value}))}})),s.createElement("div",{style:this.getGalleryWrapStyle()},s.createElement(U.default,{request:this.stores.unsplashInputStore.state.inputValue,debounce:z.defaultSearchDebounce,performRequest:function(e){return i(t,void 0,void 0,function(){var t;return l(this,function(r){switch(r.label){case 0:return[4,W.searchUnsplashImages({query:e,page:0})];case 1:if("success"===(t=r.sent()).type)return[2,t.data.results];throw t.error}})})},render:function(r,n,o){return t.renderUnsplashResults(e,r,n,o)}})))},t.prototype.renderFileTab=function(e){var t=this,r=L.default.state.data;return s.createElement(c.Fragment,null,s.createElement(x.default,{desktopStyle:{marginTop:this.props.isSmallWidth?8:24}},s.createElement(O.default,{title:"Choose a File",focused:!1,onClick:this.handleUpload,fullWidth:this.props.isSmallWidth})),e.caption&&s.createElement(y.default,{shouldWrapCaption:!0,caption:e.caption,style:{textAlign:this.props.isSmallWidth?"left":"center",color:this.theme.mediumTextColor}}),e.preventUploadLimitFreeFileSize||r&&I.isSubscribed(r)&&s.createElement("div",{style:{height:8}}),r&&!e.preventUploadLimitFreeFileSize&&!I.isSubscribed(r)&&s.createElement(y.default,{shouldWrapCaption:!0,caption:s.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:this.props.isSmallWidth?"flex-start":"center"}},s.createElement("div",{style:{marginRight:6,color:this.theme.mediumTextColor}},"The maximum size per file is ",p.maxFreeAccountFileSizeInt,"MB"),s.createElement(S.default,{onClick:function(){t.props.onCancel&&t.props.onCancel(),d.openPlans()},analyticsName:"media_picker",desktopStyle:{marginBottom:1}}))}))},t.prototype.renderEmbedTab=function(e){var t=this;return s.createElement(c.Fragment,null,s.createElement(x.default,{desktopStyle:{marginTop:8,marginBottom:6}},s.createElement(T.default,{type:"url",value:this.stores.embedInputStore.state.inputValue,placeholder:e.inputPlaceholder||"Paste in http://...",showClearButton:!0,focus:!f.default.isMobile||void 0,onSubmit:this.handleEmbedSubmit(e),onChange:function(e){t.stores.embedInputStore.setState(a({},t.stores.embedInputStore.state,{inputValue:e.target.value}))}})),s.createElement(x.default,null,s.createElement(O.default,{onClick:this.handleEmbedSubmit(e),focused:!1,title:e.buttonText||"Embed Link",fullWidth:this.props.isSmallWidth})),e.caption&&s.createElement(y.default,{shouldWrapCaption:!0,caption:e.caption,style:{textAlign:"center"}}))},t.prototype.getTabs=function(){return this.props.tabs},t.prototype.getLoadingContainerStyle=function(){return{display:"flex",alignItems:"center",justifyContent:"center",minHeight:320,flex:1}},t.prototype.getSearchIconStyle=function(){return{width:14,height:14,marginRight:6,flexGrow:0,flexShrink:0,color:this.theme.regularIconColor}},t.prototype.getGalleryWrapStyle=function(){return{display:"flex",flexWrap:"wrap",alignContent:"flex-start",background:this.theme.popoverBackground,paddingTop:f.default.isMobile?12:0,paddingBottom:f.default.isMobile?12:0,paddingLeft:f.default.isMobile?D.default.calcPaddingLeft(14):12,paddingRight:f.default.isMobile?D.default.calcPaddingRight(14):12,boxShadow:f.default.isMobile?"0 1px 0 "+this.theme.regularDividerColor:""}},t.stores={embedInputStore:m.default,emojiInputStore:m.default,emojiPickerStore:A.default,unsplashInputStore:m.default},t}(g.default);t.default=Y},"Hl/2":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},u=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},c=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var d=r("q1tI"),p=r("LvDl"),f=r("wldR"),h=r("r8oj"),m=r("wweX"),y=r("fJHT"),g=r("+575"),v=r("tzV5"),b=r("N34Z"),w=r("6SEd"),S=r("xfty"),_=r("qC7/"),k=r("EsXS"),C=r("P9PB"),E=r("Am28"),P=r("WWtS"),x=r("jAkY"),T=r("wXH4"),O=r("VyA+"),M=r("MBf9"),I=r("HRSx"),A=r("cBa6"),D=r("udrG"),L=r("0lqH"),R=r("nFzZ"),B=r("y6Dp"),j=r("Sb6f"),V=r("rMap"),F=r("J8hh"),N=r("wpmu"),U=r("w5u6"),W=r("HTHG"),z=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderOverlay=function(){var e=t.props.store.state;if(e.isOpen)return d.createElement(O.default,{key:""+e.store.id+e.property,capture:!0,onTab:t.handleTab,onUntab:t.handleUntab,onEnter:t.handleEnter,onDelete:p.identity,onBackspace:p.identity},t.renderOverlayContent(e))},t.renderTitle=function(e){var n=e.clonedStore;return d.createElement("div",{style:r.titleStyle},d.createElement(y.default,{store:n.getPropertyStore(e.property),disableSlashCommands:!0,onEnter:t.handleEnter,onEsc:t.handleEsc,onTab:t.handleTab,onUntab:t.handleUntab,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableStyleAnnotations:!0,disableShiftEnter:!0,onChange:t.handleTextChange,disabled:t.isDisabled(e)}))},t.renderText=function(e){var n=e.clonedStore;return d.createElement("div",{style:r.textStyle},d.createElement(y.default,{store:n.getPropertyStore(e.property),disableSlashCommands:!0,onEnter:t.handleEnter,onEsc:t.handleEsc,onTab:t.handleTab,onUntab:t.handleUntab,disableSelectAllBlocks:!0,disableSelectionDrag:!0,onChange:t.handleTextChange,disabled:t.isDisabled(e)}))},t.renderURL=function(e,r){var n=g.toUrlValue(t.getPropertyValue(e)),o="url";return"phone_number"===r?o="tel":"email"===r&&(o="email"),d.createElement(V.default,{value:n,inputType:o,disabled:t.isDisabled(e),onChange:t.handleURLValueChange,onDismiss:t.close})},t.renderNumber=function(e){var r=e.format===L.BlockPropertyValueFormat.Table,n=g.toNumberValue(t.getPropertyValue(e)),o=t.getNormalizedPropertySchema(e);if(o&&"number"===o.type)return d.createElement(P.default,{value:n,isTable:r,format:o.number_format||"number",disabled:t.isDisabled(e),insertChar:e.insertChar,onChange:t.handleNumberValueChange})},t.renderSelect=function(e){var r=t.getSchema(e),n=t.getNormalizedPropertySchema(e);if(n&&"select"===n.type){var o=n.options||[],a=g.toSelectValue(t.getPropertyValue(e),o);return d.createElement(S.default,{allowMultiple:!1,value:a?[a]:[],property:e.property,schema:r,disabled:t.isDisabled(e),locked:t.isLocked(e),onChange:t.handleSelectPropertyMenuUpdate,analyticsFrom:t.getAnalyticsFrom(e),insertChar:e.insertChar,onAccept:t.handleSelectPropertyMenuAccept,onDismiss:t.close})}},t.renderMultiSelect=function(e){var r=t.getSchema(e),n=t.getNormalizedPropertySchema(e);if(n&&"multi_select"===n.type){var o=n.options||[],a=g.toMultiSelectValue(t.getPropertyValue(e),o);return d.createElement(S.default,{allowMultiple:!0,value:a,property:e.property,schema:r,disabled:t.isDisabled(e),locked:t.isLocked(e),onChange:t.handleSelectPropertyMenuUpdate,analyticsFrom:t.getAnalyticsFrom(e),insertChar:e.insertChar,onAccept:t.handleSelectPropertyMenuAccept,onDismiss:t.close})}},t.renderPerson=function(e){var r=t.getSchema(e),n=g.toPersonValue(t.getPropertyValue(e));return d.createElement(_.default,{value:n,property:e.property,schema:r,disabled:t.isDisabled(e),onChange:t.handlePersonPropertyMenuUpdate,insertChar:e.insertChar,onDismiss:t.close,parentStore:e.store})},t.renderRelation=function(e){var r=t.getSchema(e),n=g.toRelationValue(t.getPropertyValue(e));return d.createElement(k.default,{value:n,property:e.property,schema:r,disabled:t.isDisabled(e),onChange:t.handleRelationPropertyMenuUpdate,analyticsFrom:t.getAnalyticsFrom(e),insertChar:e.insertChar,onDismiss:t.close,parentStore:e.store,blockPropertyValueOverlayStore:t.props.store,locked:t.isLocked(e)})},t.renderRollup=function(e){var r=t.getSchema(e);return d.createElement(F.default,{property:e.property,schema:r,disabled:t.isDisabled(e)||t.isLocked(e),onChange:t.handleRollupPropertyMenuUpdate,parentStore:e.store,analyticsFrom:t.getAnalyticsFrom(e),onDismiss:t.close})},t.renderDate=function(e){var r=t.getNormalizedPropertySchema(e);if(r&&"date"===r.type){var n=g.toDateValue(t.getPropertyValue(e));return d.createElement(C.default,{firstDayOfWeek:W.userSettingsStartOfWeekStore.state,value:n,onChangeValue:t.handleDatePropertyValueChange,dateFormat:r.date_format,onChangeDateFormat:t.handleDatePropertyDateFormatChange,timeFormat:r.time_format,disabled:t.isDisabled(e),locked:t.isLocked(e),onChangeTimeFormat:t.handleDatePropertyTimeFormatChange,onDismiss:t.close})}},t.renderFile=function(e){var r=t.getSchema(e),n=g.toFileValue(t.getPropertyValue(e));return d.createElement(E.default,{store:e.store,value:n,property:e.property,schema:r,onDismiss:t.close,uploadFiles:e.uploadFiles,disabled:t.isDisabled(e),onChange:function(r){var n,o,a=M.create();if(R.isNotDefined(r.schema)||t.updateSchema(r.schema,a),!R.isNotDefined(r.value)){var i=g.fromFileValue(r.value);try{for(var l=s(t.getPropertyStores(e)),u=l.next();!u.done;u=l.next()){var c=u.value;b.setValue({store:c,value:i,transaction:a})}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}t.trackEditPropertyValue(e)}M.commit({transaction:a})}})},t.renderFormula=function(e){var r=t.getSchema(e),n=e.store.getValue();if(n)return d.createElement(x.default,{property:e.property,block:n,disabled:t.isDisabled(e)||t.isLocked(e),schema:r,onChange:t.handleFormulaPropertyMenuUpdate,analyticsFrom:t.getAnalyticsFrom(e)})},t.renderFunctions={title:t.renderTitle,text:t.renderText,relation:t.renderRelation,rollup:t.renderRollup,select:t.renderSelect,multi_select:t.renderMultiSelect,person:t.renderPerson,number:t.renderNumber,date:t.renderDate,file:t.renderFile,url:t.renderURL,phone_number:t.renderURL,email:t.renderURL,formula:t.renderFormula,checkbox:void 0,created_by:void 0,created_time:void 0,last_edited_by:void 0,last_edited_time:void 0},t.handleBgClick=function(){m.onBgClick({blockPropertyValueOverlayStore:t.props.store})},t.handleEsc=function(){m.onEsc({blockPropertyValueOverlayStore:t.props.store})},t.handleTab=function(){m.onTab({blockPropertyValueOverlayStore:t.props.store})},t.handleUntab=function(){m.onUntab({blockPropertyValueOverlayStore:t.props.store})},t.handleEnter=function(){m.onEnter({blockPropertyValueOverlayStore:t.props.store})},t.handleSelectPropertyMenuAccept=function(e){var r=t.props.store.state;if(r.isOpen){var n=t.getNormalizedPropertySchema(r);n&&"select"===n.type&&U.default.afterNextFlush(function(){e?m.onEnter({blockPropertyValueOverlayStore:t.props.store}):m.onEsc({blockPropertyValueOverlayStore:t.props.store})})}},t.handleSelectPropertyMenuUpdate=function(e){var r,n,o=t.props.store.state;if(o.isOpen){var a=M.create();if(R.isNotDefined(e.schema)||t.updateSchema(e.schema,a),!R.isNotDefined(e.value)){var i=g.fromMultiSelectValue(e.value);try{for(var l=s(t.getPropertyStores(o)),u=l.next();!u.done;u=l.next()){var c=u.value;b.setValue({store:c,value:i,transaction:a})}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}t.trackEditPropertyValue(o)}M.commit({transaction:a})}},t.handlePersonPropertyMenuUpdate=function(e){var r,n,o=t.props.store.state;if(o.isOpen){var a=M.create();if(R.isNotDefined(e.schema)||t.updateSchema(e.schema,a),!R.isNotDefined(e.value)){var i=g.fromPersonValue(e.value);try{for(var l=s(t.getPropertyStores(o)),u=l.next();!u.done;u=l.next()){var c=u.value;b.setValue({store:c,value:i,transaction:a})}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}t.trackEditPropertyValue(o)}M.commit({transaction:a})}},t.handleRelationPropertyMenuUpdate=function(e){return i(t,void 0,void 0,function(){var t,r,n,o,i,u,c,d,p,f,h,y,v;return l(this,function(l){switch(l.label){case 0:if(!(o=this.props.store.state).isOpen)return[2];if(!(i=this.getNormalizedPropertySchema(o))||"relation"!==i.type)return[2];if(u=this.getSchema(o),c=M.create(),e.newPageId&&e.newPageName&&i.collection_id&&(d={id:e.newPageId,version:0,type:D.default.page,parent_id:i.collection_id,parent_table:w.default.table,alive:!0,properties:{title:A.createTextValue(e.newPageName)},collection_id:void 0},b.createRecord({table:I.default.table,value:d,recordCacheStore:o.store.recordCacheStore,transaction:c})),e.value){p=g.fromRelationValue(e.value);try{for(f=s(this.getPropertyStores(o)),h=f.next();!h.done;h=f.next())y=h.value,b.setValue({store:y,value:p,transaction:c})}catch(e){t={error:e}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}this.trackEditPropertyValue(o)}return e.rollupPropertyId&&e.rollupPropertySchema&&(v=a({},u,((n={})[e.rollupPropertyId]=e.rollupPropertySchema,n)),this.updateSchema(v,c)),M.commit({transaction:c}),e.rollupPropertyId?[4,U.default.afterNextFlush()]:[3,2];case 1:l.sent(),m.onOpenProperty({blockPropertyValueOverlayStore:this.props.store,openProperty:e.rollupPropertyId}),l.label=2;case 2:return[2]}})})},t.handleDatePropertyValueChange=function(e){var r,n,o=t.props.store.state;if(o.isOpen){var a=M.create(),i=g.fromDateValue(e);try{for(var l=s(t.getPropertyStores(o)),u=l.next();!u.done;u=l.next()){var c=u.value;b.setValue({store:c,value:i,transaction:a})}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}e||m.onEsc({blockPropertyValueOverlayStore:t.props.store}),t.trackEditPropertyValue(o),M.commit({transaction:a})}},t.handleDatePropertyDateFormatChange=function(e){var r,n=t.props.store.state;if(n.isOpen){var o=t.getNormalizedPropertySchema(n);if(o&&"date"===o.type){var i=t.getSchema(n),l=a({},o,{date_format:e}),s=a({},i,((r={})[n.property]=l,r)),u=M.create();t.updateSchema(s,u),M.commit({transaction:u}),l&&(t.getAnalyticsFrom(n),B.trackConfigureProperty({property_type:l.type,action:"date_change_format",from:t.getAnalyticsFrom(n)}))}}},t.handleDatePropertyTimeFormatChange=function(e){var r,n=t.props.store.state;if(n.isOpen){var o=t.getNormalizedPropertySchema(n);if(o&&"date"===o.type){var i=t.getSchema(n),l=a({},o,{time_format:e}),s=a({},i,((r={})[n.property]=l,r)),u=M.create();t.updateSchema(s,u),M.commit({transaction:u}),l&&(t.getAnalyticsFrom(n),B.trackConfigureProperty({property_type:l.type,action:"date_change_format",from:t.getAnalyticsFrom(n)}))}}},t.handleFormulaPropertyMenuUpdate=function(e){var r=e.schema,n=e.close,o=M.create();t.updateSchema(r,o),M.commit({transaction:o}),n&&t.close()},t.handleNumberValueChange=function(e){var r=t.props.store.state;if(r.isOpen){var n=g.fromNumberValue(e);M.createAndCommit(function(e){var o,a;try{for(var i=s(t.getPropertyStores(r)),l=i.next();!l.done;l=i.next()){var u=l.value;b.setValue({store:u,value:n,transaction:e})}}catch(e){o={error:e}}finally{try{l&&!l.done&&(a=i.return)&&a.call(i)}finally{if(o)throw o.error}}}),t.trackEditPropertyValue(r)}},t.handleURLValueChange=function(e){var r=t.props.store.state;if(r.isOpen){var n=g.fromUrlValue(e);M.createAndCommit(function(e){var o,a;try{for(var i=s(t.getPropertyStores(r)),l=i.next();!l.done;l=i.next()){var u=l.value;b.setValue({store:u,value:n,transaction:e})}}catch(e){o={error:e}}finally{try{l&&!l.done&&(a=i.return)&&a.call(i)}finally{if(o)throw o.error}}}),t.trackEditPropertyValue(r)}},t.handleTextChange=function(){var e=t.props.store.state;if(e.isOpen){var r=e.store,n=e.property,o=e.additionalStores,a=r.getPropertyStore(n).getValue();M.createAndCommit(function(e){var t,r;try{for(var i=s(o),l=i.next();!l.done;l=i.next()){var u=l.value;b.setValue({store:u.getPropertyStore(n),value:a,transaction:e})}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}),t.trackEditPropertyValue(e)}},t.handleRollupPropertyMenuUpdate=function(e){t.props.store.state.isOpen&&M.createAndCommit(function(r){t.updateSchema(e.schema,r)})},t.close=function(){m.close({blockPropertyValueOverlayStore:t.props.store})},t}return o(r,e),r.prototype.renderComponent=function(){var e,t,r,n=this.props.store.state;if(n.isOpen){var o=n.format===L.BlockPropertyValueFormat.Page,i=this.getNormalizedPropertySchema(n),l=i&&i.type,s=n.store.canEdit(),u=n.rect.top,c=n.rect.left,p=n.rect.width,f=n.rect.height;o?(c-=1,p+=1):(u-=1,c-=1,p+=1,f+=2),"number"===l?t={width:p}:"date"===l?(u+=f-1,t={}):"relation"===l?t={width:Math.max(k.default.width,p),minHeight:s?97:void 0,overflow:"hidden"}:"person"===l?t={width:Math.max(240,p),minHeight:s?100:void 0}:"formula"===l?(u+=f-1,t={}):"select"===l||"multi_select"===l?t={width:Math.max(300,p)}:"rollup"===l?(u+=f-1,t={width:Math.max(260,p)}):"text"===l&&h.default.isMobile?r={maxHeight:"calc(100vh - 24px)",overflowY:"auto",WebkitOverflowScrolling:"touch",width:Math.max(240,p)}:t={width:Math.max(240,p),minHeight:Math.min(f,window.innerHeight-24),maxHeight:window.innerHeight-24,overflowY:"auto"},e={top:u,bottom:u,left:c,right:c+p,width:p,height:0}}if(n.isOpen||!this.previousPopupProps){var m=this.getPopupStyle(),y=!h.default.isMobile||m===T.default.PopupType.Popup,g={key:this.getPopupKey(),popupType:m,open:n.isOpen,originRect:e,style:h.default.isMobile?a({width:t?t.width:void 0},r):t,alignmentToOrigin:T.default.Alignment.Start,placementToOrigin:T.default.Placement.Bottom,preventScaleTransition:y,preventOpacityTransition:y,render:this.renderOverlay,onDismiss:this.handleBgClick,disableRounding:!0};return this.previousPopupProps=g,d.createElement(T.default,a({},g))}g=a({},this.previousPopupProps,{open:!1});return d.createElement(T.default,a({},g))},r.prototype.renderOverlayContent=function(e){var t=this.getNormalizedPropertySchema(e);if(t){var r=this.renderFunctions[t.type];return r?r(e,t.type):void 0}},r.prototype.getPopupStyle=function(){if(h.default.isMobile){var e=this.props.store.state;if(!e.isOpen)return T.PopupType.SlideUp;var r=this.getNormalizedPropertySchema(e);return r?t.mobilePopupStyles[r.type]:T.PopupType.SlideUp}return T.PopupType.Popup},r.prototype.getPopupKey=function(){var e=this.props.store.state;if(!e.isOpen)return"ignore";var t=this.getNormalizedPropertySchema(e);return t?t.type:"ignore"},r.prototype.getSchema=function(e){return e.store.getSchema()||{}},r.prototype.getNormalizedPropertySchema=function(e){return this.getSchema(e)[e.property]},r.prototype.getCollectionStore=function(e){return e.store.getParentCollectionStore()},r.prototype.getPropertyStores=function(e){return this.getAllEditStores(e).map(function(t){return t.getPropertyStore(e.property)})},r.prototype.getPropertyValue=function(e){return(e.store.getProperties()||{})[e.property]},r.prototype.updateSchema=function(e,t){var r=this.props.store.state;if(r.isOpen&&r.isOpen){var n=this.getCollectionStore(r);if(n){var o=n.getSchema();v.renameSelectValuesFromSchemaUpdate({collectionStore:n,oldSchema:o,newSchema:e,transaction:t}),v.updateCollection({collectionStore:n,update:{schema:e},transaction:t})}}},r.prototype.trackEditPropertyValue=function(e){var t=e.store.getType(),r=this.getNormalizedPropertySchema(e);t&&r&&B.trackEditBlockProperty({block_id:e.store.id,property:e.property,property_type:r.type,from:this.getAnalyticsFrom(e)})},r.prototype.getAnalyticsFrom=function(e){return e.format===L.BlockPropertyValueFormat.Table?"table":"page_properties"},r.prototype.getAllEditStores=function(e){return c([e.store],e.additionalStores)},r.prototype.isLocked=function(e){return e.store.isNavigableAncestorLocked()},r.prototype.isDisabled=function(e){var t=e.store.getRoot(),r=t instanceof N.default&&t.isPageBlock()&&t.isLocked();return!e.store.canEdit()||r},r.textStyle={paddingLeft:9,paddingRight:9,paddingTop:6,paddingBottom:6,fontSize:14,minHeight:34},r.titleStyle=a({},r.textStyle,{fontWeight:j.default.fontWeight.medium}),r}(f.default);t.default=z,t.mobilePopupStyles={title:T.PopupType.Popup,text:T.PopupType.Popup,number:T.PopupType.Popup,url:T.PopupType.Popup,phone_number:T.PopupType.Popup,email:T.PopupType.Popup,relation:T.PopupType.SlideUp,rollup:T.PopupType.SlideUp,select:T.PopupType.SlideUp,multi_select:T.PopupType.SlideUp,person:T.PopupType.SlideUp,date:T.PopupType.SlideUp,file:T.PopupType.SlideUp,formula:T.PopupType.SlideUp,checkbox:T.PopupType.SlideUp,created_by:T.PopupType.SlideUp,created_time:T.PopupType.SlideUp,last_edited_by:T.PopupType.SlideUp,last_edited_time:T.PopupType.SlideUp}},HnKe:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("div",{style:this.getStyle()},"·")},t.prototype.getStyle=function(){return{display:"inline-block",textAlign:"center",color:this.props.disabled?this.theme.lightTextColor:this.theme.mediumTextColor,userSelect:"none",WebkitUserSelect:"none",width:8}},t}(r("t+pW").default);t.default=i},Ho6V:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,iconSvg:l.default.pdf,mediaMenuCurrentTab:"file",mediaMenuTabs:["file","embed"],mediaMenuEmbedCaption:"Embed a PDF file",embedButtonText:"Embed PDF",urlInputPlaceholder:"https://..."}),"Embed a PDF")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},"Hq/H":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("H4VD"),u=r("wldR"),c=r("TDb4"),d=r("LeVO"),p=r("stZG"),f=r("y6Dp"),h=r("uwoq"),m=r("lCCU"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleBackClick=function(){f.trackClickDesktopNavigator({type:"back"}),s.back()},t.handleForwardClick=function(){f.trackClickDesktopNavigator({type:"forward"}),s.forward()},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return i.createElement(p.default,{capture:!0,render:function(r){return i.createElement("div",a({style:t.wrapStyle},r),e.renderBackButton(),e.renderForwardButton())}})},t.prototype.renderBackButton=function(){var e=this;return i.createElement(d.default,{renderTooltip:function(){return i.createElement("div",{style:{display:"flex"}},"Go back",i.createElement(c.default,{name:"goBack",style:{opacity:.5,marginLeft:4}}))},placement:d.default.Placement.Bottom,alignment:d.default.Alignment.Center,originGap:6,render:function(t){return i.createElement(m.default,a({icon:l.default.historyBack,isDarkIconColor:!0,className:"notion-history-back-button",disabled:!h.default.canGoBack(),style:{position:"relative"},onClick:e.handleBackClick},t))}})},t.prototype.renderForwardButton=function(){var e=this;return i.createElement(d.default,{renderTooltip:function(){return i.createElement("div",{style:{display:"flex"}},"Go forward",i.createElement(c.default,{name:"goForward",style:{opacity:.5,marginLeft:4}}))},placement:d.default.Placement.Bottom,alignment:d.default.Alignment.Center,originGap:6,render:function(t){return i.createElement(m.default,a({icon:l.default.historyForward,isDarkIconColor:!0,className:"notion-history-forward-button",disabled:!h.default.canGoForward(),style:{position:"relative"},onClick:e.handleForwardClick},t))}})},t.wrapStyle={display:"flex",flexShrink:0},t}(u.default);t.default=y},HwWE:function(e,t){},I5tp:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("SR/M"),u=r("Sb6f"),c=r("0GcB"),d=r("gbGO"),p=r("enKW"),f=r("zmp8"),h=r("TDb4"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.color,t=f.getBlockColorName(e),r=!this.context.isMobile&&this.props.shortcuts&&this.props.shortcuts[0];return i.createElement(s.default,a({},this.props,{title:t,icon:this.renderIcon(),right:this.props.right||r&&i.createElement(h.default,{name:r,style:this.getShortcutStyle()})}))},t.prototype.renderIcon=function(){return i.createElement("div",{style:this.getColorIconStyle()},"A")},t.prototype.getShortcutStyle=function(){return{color:this.theme.lightTextColor,fontSize:12,whiteSpace:"nowrap"}},t.prototype.getColorIconStyle=function(){var e=c.default.state.mode;return a({display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,textAlign:"center",fontSize:16,borderRadius:3,fontWeight:u.default.fontWeight.medium,boxShadow:p.getShadow({elevation:0,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity,inner:"light"===e})},f.getBlockColorStyle(this.props.color,this.theme))},t.contextTypes=a({},d.menuContextTypes),t}(l.default);t.default=m},I6hv:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LEzx");!function(e){e[e.Open=0]="Open",e[e.Resolved=1]="Resolved",e[e.NewThread=2]="NewThread"}(t.BlockDiscussionsMenuTab||(t.BlockDiscussionsMenuTab={}));var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1,rect:{top:0,right:0,left:0,bottom:0,width:0,height:0}}},t}(a.default);t.default=new i},"I9e+":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{paymentMethodModalOpen:!1,billingIntervalModalOpen:!1,billingEmailModalOpen:!1,applyCreditModalOpen:!1,billingEventsLimit:20}},t}(r("LEzx").default);t.default=a},ICWk:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var o=r("HRSx"),a=r("udrG"),i=r("9uZX"),l=r("5Nka");function s(e){return{title:e.title,thumbnail:e.thumbnail,tooltipPhoto:e.tooltipPhoto,description:e.description,templateRootBlockId:"root",blockType:e.blockType,searchTitle:e.searchTitle,createTemplate:function(){var t;return(t={})[o.default.table]={root:{id:"root",type:e.blockType}},t}}}t.allCreateBlockItems=((n={})[a.default.text]=s({blockType:a.default.text,title:"Text",thumbnail:l.default.images.blocks.textPng,description:"Just start writing with plain text.",tooltipPhoto:l.default.images.tooltips.blocks.textPng}),n[a.default.page]=s({blockType:a.default.page,title:"Page",thumbnail:l.default.images.blocks.pagePng,description:"Embed a sub-page inside this page.",tooltipPhoto:l.default.images.tooltips.blocks.pagePng}),n[a.default.link_to_page]=s({blockType:a.default.link_to_page,title:"Link To Page",thumbnail:l.default.images.blocks.linkPng,description:"Link to an existing page.",tooltipPhoto:l.default.images.tooltips.blocks.linkToPagePng}),n[a.default.link_to_collection]=s({blockType:a.default.link_to_collection,title:"Create Linked Database",thumbnail:l.default.images.blocks.linkPng,description:"Create custom views for a database.",tooltipPhoto:l.default.images.tooltips.blocks.tablePng}),n[a.default.toDo]=s({blockType:a.default.toDo,title:"To-do List",searchTitle:"To-Do Checkbox List",thumbnail:l.default.images.blocks.toDoPng,description:"Track tasks with a to-do list.",tooltipPhoto:l.default.images.tooltips.blocks.toDoListPng}),n[a.default.header]=s({blockType:a.default.header,title:"Heading 1",searchTitle:"Headinger 1",thumbnail:l.default.images.blocks.headerPng,description:"Big section heading.",tooltipPhoto:l.default.images.tooltips.blocks.headerPng}),n[a.default.subHeader]=s({blockType:a.default.subHeader,title:"Heading 2",searchTitle:"sub headinger 2",thumbnail:l.default.images.blocks.subheaderPng,description:"Medium section heading.",tooltipPhoto:l.default.images.tooltips.blocks.subHeaderPng}),n[a.default.subSubHeader]=s({blockType:a.default.subSubHeader,title:"Heading 3",searchTitle:"sub sub headinger 3",thumbnail:l.default.images.blocks.subsubheaderPng,description:"Small section heading.",tooltipPhoto:l.default.images.tooltips.blocks.subsubheaderPng}),n[a.default.image]=s({blockType:a.default.image,title:"Image",description:"Upload or embed with a link.",tooltipPhoto:l.default.images.tooltips.blocks.imagePng,thumbnail:l.default.images.blocks.imagePng}),n[a.default.bookmark]=s({blockType:a.default.bookmark,title:"Web Bookmark",thumbnail:l.default.images.blocks.webBookmarkPng,description:"Save a link as a visual bookmark.",tooltipPhoto:l.default.images.tooltips.blocks.webBookmarkPng}),n[a.default.divider]=s({blockType:a.default.divider,title:"Divider",thumbnail:l.default.images.blocks.dividerPng,description:"Visually divide blocks.",tooltipPhoto:l.default.images.tooltips.blocks.dividerPng}),n[a.default.code]=s({blockType:a.default.code,title:"Code",thumbnail:l.default.images.blocks.codePng,description:"Capture a code snippet.",tooltipPhoto:l.default.images.tooltips.blocks.codePng}),n[a.default.quote]=s({blockType:a.default.quote,title:"Quote",thumbnail:l.default.images.blocks.quotePng,description:"Capture a quote.",tooltipPhoto:l.default.images.tooltips.blocks.quotePng}),n[a.default.bulletedList]=s({blockType:a.default.bulletedList,title:"Bulleted List",thumbnail:l.default.images.blocks.bulletedListPng,description:"Create a simple bulleted list.",tooltipPhoto:l.default.images.tooltips.blocks.bulletedListPng}),n[a.default.numberedList]=s({blockType:a.default.numberedList,title:"Numbered List",thumbnail:l.default.images.blocks.numberedListPng,description:"Create a list with numbering.",tooltipPhoto:l.default.images.tooltips.blocks.numberedListPng}),n[a.default.toggle]=s({blockType:a.default.toggle,title:"Toggle List",thumbnail:l.default.images.blocks.togglePng,description:"Toggles can hide and show content inside.",tooltipPhoto:l.default.images.tooltips.blocks.toggleListPng}),n[a.default.file]=s({blockType:a.default.file,title:"File",thumbnail:l.default.images.blocks.filePng,tooltipPhoto:l.default.images.tooltips.blocks.filePng,description:"Upload or embed with a link."}),n[a.default.video]=s({blockType:a.default.video,title:"Video",thumbnail:l.default.images.blocks.videoPng,tooltipPhoto:l.default.images.tooltips.blocks.videoPng,description:"Embed from YouTube, Vimeo..."}),n[a.default.audio]=s({blockType:a.default.audio,title:"Audio",thumbnail:l.default.images.blocks.audioPng,description:"Embed from SoundCloud, Spotify..."}),n[a.default.embed]=s({blockType:a.default.embed,title:"Embed",thumbnail:l.default.images.blocks.embedPng,description:"For PDFs, Google Maps, and more."}),n[a.default.drive]=s({blockType:a.default.drive,title:"Google Drive",thumbnail:l.default.images.blocks.drivePng,description:"Embed a Google Doc, Google Sheet..."}),n[a.default.figma]=s({blockType:a.default.figma,title:"Figma",thumbnail:l.default.images.blocks.figmaPng,description:"Embed a Figma file."}),n[a.default.loom]=s({blockType:a.default.loom,title:"Loom",thumbnail:l.default.images.blocks.loomPng,description:"Embed a Loom recording."}),n[a.default.typeform]=s({blockType:a.default.typeform,title:"Typeform",thumbnail:l.default.images.blocks.typeformPng,description:"Embed a Typeform."}),n[a.default.codepen]=s({blockType:a.default.codepen,title:"CodePen",thumbnail:l.default.images.blocks.codepenPng,description:"Embed a CodePen."}),n[a.default.tweet]=s({blockType:a.default.tweet,title:"Tweet",thumbnail:l.default.images.blocks.twitterPng,description:"Embed a Tweet."}),n[a.default.gist]=s({blockType:a.default.gist,title:"GitHub Gist",thumbnail:l.default.images.blocks.githubPng,description:"Embed a Gist from GitHub."}),n[a.default.maps]=s({blockType:a.default.maps,title:"Google Maps",thumbnail:l.default.images.blocks.mapsPng,description:"Embed a Google Map."}),n[a.default.framer]=s({blockType:a.default.framer,title:"Framer",thumbnail:l.default.images.blocks.framerPng,description:"Embed a Framer prototype."}),n[a.default.invision]=s({blockType:a.default.invision,title:"Invision",thumbnail:l.default.images.blocks.invisionPng,description:"Embed an Invision project."}),n[a.default.equation]=s({blockType:a.default.equation,title:"Math Equation",thumbnail:l.default.images.blocks.texPng,tooltipPhoto:l.default.images.tooltips.blocks.mathPng,description:"Display a math formula using TeX."}),n[a.default.pdf]=s({blockType:a.default.pdf,title:"PDF",thumbnail:l.default.images.blocks.pdfPng,description:"Embed a PDF."}),n[a.default.factory]={title:"Template Button",thumbnail:l.default.images.blocks.templateButtonPng,templateRootBlockId:"root",blockType:a.default.factory,description:"Duplicate blocks with a click.",tooltipPhoto:l.default.images.tooltips.blocks.templateButtonPng,createTemplate:i.createFactory},n[a.default.breadcrumb]=s({title:"Breadcrumb",thumbnail:l.default.images.blocks.breadcrumbPng,tooltipPhoto:l.default.images.tooltips.blocks.breadcrumbPng,description:"Show the current page location.",blockType:a.default.breadcrumb}),n[a.default.table_of_contents]=s({title:"Table of Contents",thumbnail:l.default.images.blocks.tableOfContentsPng,tooltipPhoto:l.default.images.tooltips.blocks.tableOfContentsPng,description:"Show an outline of your page.",blockType:a.default.table_of_contents}),n);var u={blockType:a.default.collectionView,title:"Table - Inline",thumbnail:l.default.images.blocks.tableInlinePng,description:"Create a table inline in your page.",tooltipPhoto:l.default.images.tooltips.blocks.tablePng,templateRootBlockId:"root",createTemplate:function(){return i.createTable(!0)}},c={blockType:a.default.collectionView,title:"Board - Inline",thumbnail:l.default.images.blocks.boardInlinePng,description:"Create a kanban Board inline in your page.",tooltipPhoto:l.default.images.tooltips.blocks.boardPng,templateRootBlockId:"root",createTemplate:function(){return i.createBoard(!0)}},d={blockType:a.default.collectionView,title:"Gallery - Inline",thumbnail:l.default.images.blocks.galleryInlinePng,description:"Create a Gallery inline in your page.",tooltipPhoto:l.default.images.tooltips.blocks.galleryPng,templateRootBlockId:"root",createTemplate:function(){return i.createGallery(!0)}},p={blockType:a.default.collectionView,title:"List - Inline",thumbnail:l.default.images.blocks.listInlinePng,description:"Create a List inline in your page.",tooltipPhoto:l.default.images.tooltips.blocks.listPng,templateRootBlockId:"root",createTemplate:function(){return i.createList(!0)}},f={blockType:a.default.collectionView,title:"Calendar - Inline",thumbnail:l.default.images.blocks.calendarInlinePng,description:"Create a Calendar inline in your page.",tooltipPhoto:l.default.images.tooltips.blocks.calendarPng,templateRootBlockId:"root",createTemplate:function(){return i.createCalendar(!0)}},h={blockType:a.default.collectionView,title:"Table - Full Page",thumbnail:l.default.images.blocks.tablePng,description:"Create a table as its own page.",tooltipPhoto:l.default.images.tooltips.blocks.tablePng,templateRootBlockId:"root",createTemplate:function(){return i.createTable(!1)}},m={blockType:a.default.collectionView,title:"Board - Full Page",thumbnail:l.default.images.blocks.boardPng,description:"Create a kanban Board as its own page.",tooltipPhoto:l.default.images.tooltips.blocks.boardPng,templateRootBlockId:"root",createTemplate:function(){return i.createBoard(!1)}},y={blockType:a.default.collectionView,title:"Gallery - Full Page",thumbnail:l.default.images.blocks.galleryPng,description:"Create a Gallery as its own page.",tooltipPhoto:l.default.images.tooltips.blocks.galleryPng,templateRootBlockId:"root",createTemplate:function(){return i.createGallery(!1)}},g={blockType:a.default.collectionView,title:"List - Full Page",thumbnail:l.default.images.blocks.listPng,description:"Create a List as its own page.",tooltipPhoto:l.default.images.tooltips.blocks.listPng,templateRootBlockId:"root",createTemplate:function(){return i.createList(!1)}},v={blockType:a.default.collectionView,title:"Calendar - Full Page",thumbnail:l.default.images.blocks.calendarPng,description:"Create a Calendar as its own page.",tooltipPhoto:l.default.images.tooltips.blocks.calendarPng,templateRootBlockId:"root",createTemplate:function(){return i.createCalendar(!1)}};t.basicBlockItems=[t.allCreateBlockItems[a.default.text],t.allCreateBlockItems[a.default.page],t.allCreateBlockItems[a.default.toDo],t.allCreateBlockItems[a.default.header],t.allCreateBlockItems[a.default.subHeader],t.allCreateBlockItems[a.default.subSubHeader],t.allCreateBlockItems[a.default.bulletedList],t.allCreateBlockItems[a.default.numberedList],t.allCreateBlockItems[a.default.toggle],t.allCreateBlockItems[a.default.quote],t.allCreateBlockItems[a.default.divider],t.allCreateBlockItems[a.default.link_to_page]],t.mediaBlockItems=[t.allCreateBlockItems[a.default.image],t.allCreateBlockItems[a.default.bookmark],t.allCreateBlockItems[a.default.video],t.allCreateBlockItems[a.default.audio],t.allCreateBlockItems[a.default.code],t.allCreateBlockItems[a.default.file]],t.databaseBlockItems=[u,c,d,p,f,h,m,y,g,v,t.allCreateBlockItems[a.default.link_to_collection]],t.embedBlockItems=[t.allCreateBlockItems[a.default.embed],t.allCreateBlockItems[a.default.drive],t.allCreateBlockItems[a.default.tweet],t.allCreateBlockItems[a.default.gist],t.allCreateBlockItems[a.default.maps],t.allCreateBlockItems[a.default.framer],t.allCreateBlockItems[a.default.invision],t.allCreateBlockItems[a.default.pdf],t.allCreateBlockItems[a.default.figma],t.allCreateBlockItems[a.default.loom],t.allCreateBlockItems[a.default.typeform],t.allCreateBlockItems[a.default.codepen]],t.advancedBlockItems=[t.allCreateBlockItems[a.default.table_of_contents],t.allCreateBlockItems[a.default.equation],t.allCreateBlockItems[a.default.factory],t.allCreateBlockItems[a.default.breadcrumb]]},IEkk:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("q1tI"),c=r("q1tI"),d=r("t+pW"),p=r("bPtJ"),f=r("MBf9"),h=r("N34Z"),m=r("IdSf"),y=r("mF3+"),g=r("hbKx"),v=r("OxuQ"),b=r("LeVO"),w=r("lEhh"),S=r("/YYm"),_=r("VBxf"),k=r("z2pi"),C=r("y6Dp"),E=r("MeYt"),P=r("prF1"),x=r("d9nj"),T=r("5Nka"),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTooltip=function(){return u.createElement("div",{style:{width:200,marginTop:4,marginBottom:4}},u.createElement("div",{style:{width:"100%",height:100,borderRadius:3,backgroundImage:"url("+T.default.images.tooltips.pageUpdates.slackPng+")",backgroundSize:"cover",marginBottom:6}}),u.createElement("div",{style:{whiteSpace:"normal",lineHeight:1.4}},"Connect a Slack channel to get updates about this page and pages within it."))},t.handleSetupSlackIntegration=function(){return i(t,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return C.trackAddSlackIntegration(),[4,k.authWithSlack({blockId:this.props.store.id})];case 1:return e.sent(),[2]}})})},t.handleRemoveSlackIntegration=function(e){return i(t,void 0,void 0,function(){return l(this,function(t){return _.showDialog({message:"Are you sure you want to remove Slack integration?",showCancel:!0,keepFocus:!0,items:[{label:"Remove",color:"red",onAccept:function(){C.trackRemoveSlackIntegration(),f.createAndCommit(function(t){h.updateValue({store:e,data:{enabled:!1},transaction:t})})}}]}),[2]})})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.getSlackIntegration(),t=e.slackIntegrationStore,r=e.blockStore,n=t.getValue();return t.isReady()?n&&n.enabled?r.id!==this.props.store.id?this.renderInherited(n,r):this.renderConnected(n,t):this.renderEmpty():this.renderLoading()},t.prototype.renderLoading=function(){var e=this;return u.createElement(b.default,{placement:b.default.Placement.Left,render:function(t){return u.createElement(E.default,a({disabled:!0,style:e.getWrapStyle()},t),u.createElement("div",{style:{color:e.theme.mediumTextColor,marginRight:"auto"}},"Loading..."),u.createElement(w.default,{on:!1,disabled:!0}))},renderTooltip:this.renderTooltip})},t.prototype.renderEmpty=function(){var e=this;return u.createElement(b.default,{placement:b.default.Placement.Left,render:function(t){return u.createElement(E.default,a({onClick:e.handleSetupSlackIntegration,style:e.getWrapStyle()},t),u.createElement("div",{style:{marginRight:"auto"}},"Connect Slack Channel"),u.createElement(w.default,{on:!1,onClick:e.handleSetupSlackIntegration}))},renderTooltip:this.renderTooltip})},t.prototype.renderChannelLink=function(e){var t=e.channel.slice(1),r="https://www.slack.com/messages/"+e.channel_id+"/";return e.channel_id?u.createElement(P.default,{external:!0,href:r,style:{marginLeft:-6,marginRight:"auto"}},u.createElement(x.default,{isSmall:!0},this.renderChannelName(t))):u.createElement("div",{style:{display:"flex",marginRight:"auto"}},this.renderChannelName(t))},t.prototype.renderChannelName=function(e){return u.createElement(c.Fragment,null,u.createElement("div",{style:{width:16,marginRight:6,marginLeft:1,flexShrink:0}},y.default.slackLogo()),u.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis"}},e))},t.prototype.renderConnected=function(e,t){var r=this;return u.createElement(b.default,{placement:b.default.Placement.Left,render:function(n){return u.createElement(E.default,a({onClick:function(){return r.handleRemoveSlackIntegration(t)},style:r.getWrapStyle()},n),r.renderChannelLink(e),u.createElement(w.default,{on:!0,onClick:function(){return r.handleRemoveSlackIntegration(t)}}))},renderTooltip:this.renderTooltip})},t.prototype.renderInherited=function(e,t){var r=this;return u.createElement(b.default,{placement:b.default.Placement.Left,render:function(n){return u.createElement(E.default,a({style:r.getWrapStyle()},n),r.renderChannelLink(e),u.createElement("span",{style:{display:"flex",minWidth:0,marginLeft:12,marginRight:12,color:r.theme.mediumTextColor}},"Based on",u.createElement(m.default,{href:S.default({store:t}),style:{display:"inline-flex",textDecoration:"underline",marginLeft:5,minWidth:0}},u.createElement(v.default,{store:t}))),u.createElement(w.default,{on:!0,disabled:!0}))},renderTooltip:this.renderTooltip})},t.prototype.getSlackIntegration=function(){var e,t,r,n,o=g.getPathStores(this.props.store),a=[];try{for(var i=s(o),l=i.next();!l.done;l=i.next()){var u=l.value;"block"===u.table&&a.push({blockStore:u,slackIntegrationStore:p.createRecordStore(this.props.store,"slack_integration",u.id)})}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}try{for(var c=s(a),d=c.next();!d.done;d=c.next()){var f=d.value,h=f.blockStore,m=f.slackIntegrationStore;if(m.isReady()){var y=m.getValue();if(y&&y.enabled)return{blockStore:h,slackIntegrationStore:m}}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return{blockStore:this.props.store,slackIntegrationStore:p.createRecordStore(this.props.store,"slack_integration",this.props.store.id)}},t.prototype.getWrapStyle=function(){return{display:"flex",alignItems:"center",height:42,fontSize:14,paddingLeft:16,paddingRight:16,boxShadow:"0 1px 0 "+this.theme.regularDividerColor,whiteSpace:"nowrap",position:"relative",zIndex:1}},t}(d.default);t.default=O},IULH:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("MeYt"),u=r("zmp8"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,{style:this.getButtonStyle(),hoveredStyle:{background:this.getHoveredBackground()},pressedStyle:{background:this.getPressedBackground()},disabled:this.props.disabled,hovered:this.props.hovered,className:this.props.className,onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.children)},t.prototype.getButtonStyle=function(){return a({display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:3,height:this.getButtonHeight(),padding:this.props.isSmall?"0 6px":"0 12px",fontSize:this.props.isSmall?12:14,lineHeight:1.2},this.getRegularStyle(),this.props.style)},t.prototype.getRegularStyle=function(){return this.props.isRed?{color:u.default.red,border:"1px solid "+this.theme.outlineRedButtonBorder}:this.props.isBlue?{color:u.default.blue,border:"1px solid "+this.theme.blueColor}:{border:"1px solid "+this.theme.outlineButtonBorder}},t.prototype.getHoveredBackground=function(){return this.props.isRed?this.theme.outlineRedButtonHoveredBackground:this.props.isBlue?this.theme.outlineBlueButtonHoveredBackground:this.theme.buttonHoveredBackground},t.prototype.getPressedBackground=function(){return this.props.isRed?this.theme.outlineRedButtonPressedBackground:this.props.isBlue?this.theme.outlineBlueButtonPressedBackground:this.theme.buttonPressedBackground},t.prototype.getButtonHeight=function(){return this.props.isSmall?24:this.props.isLarge?32:28},t}(l.default);t.default=c},IYZQ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("prF1"),s=r("zmp8"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(l.default,{href:this.props.href,external:this.props.external,style:t.linkStyle,onClick:this.props.onClick,className:this.props.disableHover?void 0:"notion-link",onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.children)},t.linkStyle={display:"inline",textDecoration:"underline",color:s.default.inherit},t}(i.default);t.default=u},IdIf:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a,i=r("LvDl"),l=r("STAJ"),s=r("njgS"),u=r("nFzZ"),c=r("+575");!function(e){e[e.Block=0]="Block",e[e.Page=1]="Page",e[e.Collection=2]="Collection",e[e.Table=3]="Table",e[e.Board=4]="Board",e[e.Calendar=5]="Calendar",e[e.List=6]="List",e[e.Gallery=7]="Gallery"}(a=t.FormatContext||(t.FormatContext={})),t.getCoverFormatHumanReadableName=function(e){return e?"page_content"===e.type?"Page Content":"page_cover"===e.type?"Page Cover":void 0:"None"},t.getCoverSizeHumanReadableName=function(e){switch(e){case"large":return"Large";case"small":return"Small";case"medium":default:return"Medium"}},t.defaultTableNameColumnWidth=280,t.defaultTableColumnWidth=200,t.tableColumnMinWidth=100,t.getGroupId=function(e){return e&&e.value?e.value:"uncategorized"},t.isUncategorizedGroupValue=function(e){return u.isNotDefined(e)},t.getNormalizedGroupValue=function(e){if(void 0!==e)return e.trim().toLowerCase()},t.groupValuesEqual=function(e,r){return void 0!==e&&void 0!==r?t.getNormalizedGroupValue(e)===t.getNormalizedGroupValue(r):(void 0===e||void 0!==r)&&(void 0!==e||void 0===r)},t.getNormalizedFormat=function(e,t,r,o,i){return e||(e={}),i===a.Table?e=n({},e,{table_properties:f(e.table_properties||[],t,i)}):i===a.Board?e=n({},e,{board_cover:d(e.board_cover,t),board_groups:p(e.board_groups||[],t,r,o),board_properties:f(e.board_properties||[],t,i)}):i===a.Calendar?e=n({},e,{calendar_properties:f(e.calendar_properties||[],t,i)}):i===a.List?e=n({},e,{list_properties:f(e.list_properties||[],t,i)}):i===a.Gallery?e=n({},e,{gallery_cover:d(e.gallery_cover,t),gallery_properties:f(e.gallery_properties||[],t,i)}):i!==a.Page&&i!==a.Collection||(e=n({},e,{collection_page_properties:f(e.collection_page_properties||[],t,i)})),e};var d=function(e,t){if(e&&"property"===e.type){var r=t[e.property];return r&&"file"===r.type?e:void 0}return e},p=function(e,r,n,a){var i,u;if(e||(e=[]),!n)return[];var c=r[n];if(!c)return[];try{for(var d=o(a),p=d.next();!p.done;p=d.next()){var f=p.value,h={property:n,type:c.type,value:f,hidden:!1};e=l.append(h,e)}}catch(e){i={error:e}}finally{try{p&&!p.done&&(u=d.return)&&u.call(d)}finally{if(i)throw i.error}}return e=l.filter(function(e){return e.property===n&&e.type===c.type},e),e=l.filter(function(e){if(e.value){if(l.contains(c.type,s.selectTypes)&&l.contains(e.type,s.selectTypes)){var t=c.options||[];return Boolean(l.find(function(t){return t.value===e.value},t))}return"person"===c.type&&"person"===e.type}return!0},e),e=l.uniqBy(function(e){return t.getGroupId(e)},e)},f=function(e,r,n){var s,u,c=l.clone(e);c=c.filter(function(e){return e&&Boolean(r[e.property])});var d=function(e){var t=Object.keys(e);return i.sortBy(t,function(t){if("title"===t)return"";var r=e[t];return r?r.name:""})}(r),p=function(t){e.find(function(e){return e.property===t})||(n===a.Table?c.push({property:t,visible:!0}):c.push({property:t,visible:!1}))};try{for(var f=o(d),h=f.next();!h.done;h=f.next()){p(h.value)}}catch(e){s={error:e}}finally{try{h&&!h.done&&(u=f.return)&&u.call(f)}finally{if(s)throw s.error}}if(n===a.Table){var m=c.findIndex(function(e){return"title"===e.property}),y=c[m];y?y.visible||(c=l.set(l.lensPath([m,"visible"]),!0,c)):c=l.prepend({property:"title",visible:!0},c)}else c=c.filter(function(e){return"title"!==e.property});return n===a.Table&&(c=c.map(function(e){if(e.width)return e;var r="title"===e.property?t.defaultTableNameColumnWidth:t.defaultTableColumnWidth;return l.assoc("width",r,e)})),c};t.getFormatContextFromCollectionViewType=function(e){return"table"===e?a.Table:"board"===e?a.Board:"calendar"===e?a.Calendar:"list"===e?a.List:a.Gallery},t.cardPropertyFormatIsVisible=function(e){var t=e.blockValue,r=e.property,n=e.schema,o=e.getRecordValue,a=e.userTimeZone;return!!t&&!c.valueIsEmpty({property:r,schema:n,block:t,getRecordValue:o,userTimeZone:a})}},IdSf:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("17x9"),s=r("wldR"),u=r("H4VD"),c=r("S26v"),d=r("zmp8"),p=r("r8oj"),f=r("MeYt"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleWrapClick=function(e){if(e.shiftKey)e.preventDefault();else{var t=e.metaKey||e.ctrlKey;!p.default.isElectron&&t||e.preventDefault()}},t.handleClick=function(e){var r=c.sanitizeUrl(t.props.href),n=c.sanitizeUrl(t.props.metaHref),o=e.metaKey||e.ctrlKey;if(e.shiftKey)e.preventDefault();else if(p.default.isElectron||!o){if(r)if(t.props.external)e.preventDefault(),u.navigateToExternalURL({url:n||r});else if(t.context.overrideLinkClick)t.context.overrideLinkClick(n||r);else{var a=o?r:n||r;u.navigate({url:a,metaClick:o})}t.props.onClick&&t.props.onClick(e)}},t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("a",{href:c.sanitizeUrl(this.props.href),style:this.getStyle(),target:this.props.external?"_blank":void 0,rel:"noopener noreferrer",onClick:this.handleWrapClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseDown:this.props.onMouseDown},this.renderButton())},t.prototype.renderButton=function(){return i.createElement(f.default,{style:this.getInnerStyle(),hoveredStyle:this.props.hoveredStyle,pressedStyle:this.props.pressedStyle,mobileFeedback:p.default.isMobile,onClick:this.handleClick},this.props.children)},t.prototype.getStyle=function(){return a({display:this.props.inline?"inline":"block",color:d.default.inherit,textDecoration:"none"},this.props.style)},t.prototype.getInnerStyle=function(){return a({},this.props.underline&&{textDecoration:"underline"},!this.props.inline&&{width:"100%"},this.props.inline&&{display:"inline"},this.props.innerStyle)},t.contextTypes={overrideLinkClick:l.any},t}(s.default);t.default=h},Iece:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("GRWW");t.default=new n.default},IgPH:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,iconSvg:l.default.github,mediaMenuCurrentTab:"embed",mediaMenuTabs:["embed"],mediaMenuEmbedCaption:"Works with links to Gists on GitHub",embedButtonText:"Embed Gist",urlInputPlaceholder:"https://gist.github.com/..."}),"Embed a Gist")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},"Ijt+":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("t+pW"),u=r("njgS"),c=r("r8oj"),d=r("SR/M"),p=r("2Y+N"),f=r("gbGO"),h=r("WgIs"),m=r("LeVO"),y=r("uSCg"),g=r("wXH4"),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e;return e=c.default.isMobile?{menuType:f.default.MenuType.Modal,title:"Table Aggregation",right:"Done",onClickRight:this.props.onClose}:{menuType:f.default.MenuType.Popup,width:200},l.createElement(f.default,a({},e),l.createElement(h.default,{initialFocus:0,sections:[{key:0,render:function(e){return l.createElement(p.default,a({},e))},items:this.getAggregationActions()}],onAccept:this.props.onClose}))},t.prototype.getAggregationActions=function(){var e,t,r,n,o,s,c,p,f,h,m=this,y=[],g=this.props,v=g.property,b=g.schema[v];if(!b)return[];y.push({key:"none",render:function(e){return l.createElement(d.default,a({},e,{title:m.props.noneText||"None"}))},action:function(){return m.props.onChange(void 0)}});try{for(var w=i(u.rowAggregations),S=w.next();!S.done;S=w.next()){var _=S.value;y.push(this.createAggregationAction(_))}}catch(t){e={error:t}}finally{try{S&&!S.done&&(t=w.return)&&t.call(w)}finally{if(e)throw e.error}}if(u.propertySupportsDefaultPropertyAggregations(b))try{for(var k=i(u.defaultPropertyAggregations),C=k.next();!C.done;C=k.next()){_=C.value;y.push(this.createAggregationAction(_))}}catch(e){r={error:e}}finally{try{C&&!C.done&&(n=k.return)&&n.call(k)}finally{if(r)throw r.error}}if(u.propertySupportsNumericPropertyAggregations(b))try{for(var E=i(u.numericPropertyAggregations),P=E.next();!P.done;P=E.next()){_=P.value;y.push(this.createAggregationAction(_))}}catch(e){o={error:e}}finally{try{P&&!P.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}if(u.propertySupportsDatePropertyAggregations(b))try{for(var x=i(u.datePropertyAggregations),T=x.next();!T.done;T=x.next()){_=T.value;y.push(this.createAggregationAction(_))}}catch(e){c={error:e}}finally{try{T&&!T.done&&(p=x.return)&&p.call(x)}finally{if(c)throw c.error}}if(u.propertySupportsCheckboxPropertyAggregations(b))try{for(var O=i(u.checkboxPropertyAggregations),M=O.next();!M.done;M=O.next()){_=M.value;y.push(this.createAggregationAction(_))}}catch(e){f={error:e}}finally{try{M&&!M.done&&(h=O.return)&&h.call(O)}finally{if(f)throw f.error}}return y},t.prototype.createAggregationAction=function(e){var t=this,r=u.aggregationFullNameMap[e];return{key:r,render:function(t){return l.createElement(m.default,{key:t.key,placement:g.Popup.Placement.Right,delayThreshold:0,render:function(e){return l.createElement(d.default,a({title:r},y.default(e,t)))},renderTooltip:function(){return l.createElement("div",{style:{width:140,whiteSpace:"normal"}},l.createElement("img",{src:u.aggregationImages[e],style:{borderRadius:3,width:140,marginTop:4}}),u.aggregationDescriptions[e])}})},action:function(){return t.props.onChange(e)}}},t}(s.default);t.default=v},IpGr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"used_credit",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,amount:n.default.Number}};t.default=o},IsnD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("IdSf"),s=r("mF3+"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("div",{style:t.wrapStyle},a.createElement(l.default,{href:"/",innerStyle:t.logoWrapStyle},s.default.notionLogo(t.logoStyle)),a.createElement("div",{style:t.messageStyle},this.props.children))},t.wrapStyle={width:"100vw",height:"90vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},t.messageStyle={maxWidth:320,paddingLeft:18,paddingRight:18},t.logoWrapStyle={padding:8,borderRadius:3,marginBottom:2},t.logoStyle={width:42,height:42,flexShrink:0,flexGrow:0},t}(i.default);t.default=u},IwFn:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{style:this.getStyle()},this.props.children)},t.prototype.getStyle=function(){return a({fontSize:12,lineHeight:1.35,color:this.theme.mediumTextColor,marginTop:this.props.hasMarginTop?4:0},this.props.style)},t}(r("t+pW").default);t.default=l},IzPW:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("cBa6"),i=r("bPtJ"),l=r("V9q8"),s=r("RI9y"),u=r("GJWe"),c=r("E5KU"),d=r("D2XV"),p=r("r8oj"),f=function(e){try{return Boolean(e&&e.nodeType===Node.ELEMENT_NODE)}catch(e){return!1}},h=function(e){return f(e)&&e.hasAttribute("data-root")},m=function(e){return f(e)&&e.classList.contains(u.MentionTokenClassName)},y=function(e){return f(e)&&e.classList.contains(u.BufferClassName)},g=function(e){return l.closestNode(e,h)},v=function(e){try{var t=l.closestNode(e,function(e){return Boolean(e.getAttribute&&e.getAttribute("contenteditable"))||h(e)});return t&&t.isContentEditable}catch(e){return!1}},b=function(e,r){var n=g(e);if(m(e))r>0&&(r=1);else if(y(e)||e.parentElement&&y(e.parentElement)){r=(a=e.textContent||" ").length-1}else{var a=e===n?t.getRootTextValue(e):e.textContent||"";r=o.toArray(a.substring(0,r)).length}var i=0;if(n&&l.isNode(n))for(var s=0;s<n.childNodes.length;s++){var u=n.childNodes[s];if(e===n&&r===s)return i;if(u.contains(e))return i+r;i+=w(u)}return i},w=function(e){return m(e)?1:y(e)?0:o.toArray(e.textContent).length},S=function(e,t){var r=t;if(0===t&&l.isNode(e))return e.childNodes.length>0&&!m(e.childNodes[0])?{container:e.childNodes[0],offset:0}:{container:e,offset:0};if(l.isNode(e))for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n],s=void 0;s=m(i)?a.mentionTokenTextValue:y(i)?"":i.textContent;var u=o.toArray(s).length;if(n===e.childNodes.length-1?r-u<=0:r-u<0){if(m(i))return{container:i.parentNode,offset:l.getChildIndex(i.parentNode,i)};var c=o.slice(o.toArray(s),0,r).join("").length;return i.nodeType===Node.TEXT_NODE?{container:i,offset:c}:{container:i.childNodes[0],offset:c}}r-=u}return{container:e,offset:0}};t.renderText=function(e){var t=e.textValue,r=e.parentStore,n=e.disableStyleAnnotations,o=e.disabled,a=e.highlightDiscussionId,l=e.theme;return u.renderText({textValue:t,getRecordValue:function(e,t){return i.createRecordStore(r,e,t).getValue()},disableStyleAnnotations:n,userTimeZone:d.currentTimeZone,disabled:o,isAndroid:p.default.isAndroid,isSafariOrIOS:p.default.isSafari||p.default.isIOS,showEmojiInline:p.default.isWindows,highlightDiscussionId:a,theme:l})},t.renderTextAsString=function(e,t){return u.renderTextAsString({textValue:e,getRecordValue:function(e,r){return i.createRecordStore(t,e,r).getValue()},userTimeZone:d.currentTimeZone})},t.getRootTextValue=function(e){var t,r,o="";if(l.isNode(e)){try{for(var i=n(e.childNodes),s=i.next();!s.done;s=i.next()){var c=s.value;m(c)?o+=a.mentionTokenTextValue:o+=c.textContent}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}if(p.default.isAndroid){var d=new RegExp(a.mentionTokenTextValue+"$","g"),f=new RegExp("("+a.mentionTokenTextValue+")([^"+u.ZeroWidthSpace+"])","g"),h=new RegExp(""+a.mentionTokenTextValue+u.ZeroWidthSpace,"g");o=o.replace(d,"").replace(f,"$2").replace(h,a.mentionTokenTextValue)}"\n"===o[o.length-1]&&(o=o.substring(0,o.length-1))}return o},t.serializeTextSelection=function(e){if(e||(e=s.get()),e)return{startIndex:b(e.startContainer,e.startOffset),endIndex:b(e.endContainer,e.endOffset)}},t.indexSelectionToRange=function(e,t,r){var n=S(e,t),o=S(e,r),a=document.createRange();if(n.container)try{a.setStart(n.container,n.offset)}catch(e){c.log(e)}if(o.container)try{a.setEnd(o.container,o.offset)}catch(e){c.log(e)}return a},t.rangesEqual=function(e,t){if(e||t){if(e&&t){if(e.startOffset===t.startOffset&&e.endOffset===t.endOffset&&e.startContainer===t.startContainer&&e.endContainer===t.endContainer)return!0;if(v(e.startContainer)&&v(t.startContainer)){var r=g(e.startContainer),n=g(t.startContainer),o=g(e.endContainer),a=g(t.endContainer),i=b(e.startContainer,e.startOffset),l=b(t.startContainer,t.startOffset),s=b(e.endContainer,e.endOffset),u=b(t.endContainer,t.endOffset);return r===n&&o===a&&i===l&&s===u}return!1}return!1}return!0}},J36v:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("LvDl"),c=r("mF3+"),d=r("bkwR"),p=r("IwFn"),f=r("wldR"),h=r("pqiZ"),m=r("Pl3d"),y=r("rQb/"),g=r("MYfK"),v=r("6BTz"),b=r("hfHo"),w=r("IdSf"),S=r("Cycz"),_=r("q1tI"),k=r("qqdV"),C=r("zmp8"),E=r("IULH"),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.performRequest=function(){return a(t,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return"invoiceById"!==this.props.route.name?[3,2]:[4,d.getInvoiceData({type:"invoice",invoiceId:this.props.route.invoiceId})];case 1:if("failed"===(e=t.sent()).type)throw e.error;return[2,e.data];case 2:return[4,d.getInvoiceData({type:"upcoming",spaceId:this.props.route.spaceId})];case 3:if("failed"===(e=t.sent()).type)throw e.error;return[2,e.data]}})})},t.renderResult=function(e,r){if(e)return s.createElement("div",{style:{padding:48,textAlign:"center"}},s.createElement("div",{style:{lineHeight:"32px"}},"Invoice not found 👽"),s.createElement(p.default,null,"You may need to"," ",s.createElement(w.default,{style:{display:"inline"},innerStyle:{textDecoration:"underline"},href:k.login},"log in")," ","to view it."));if(r){var n="invoiceById"===t.props.route.name?t.props.route.invoiceId:"upcoming";return t.renderInvoice(n,r)}},t.renderCharge=function(e,t){return"base"===e.type?s.createElement("div",{key:t},s.createElement(g.default,{style:{marginTop:8,marginBottom:4}},s.createElement("div",null,b.default(e.start).format("MMMM Do, YYYY")," –"," ",b.default(e.end).format("MMMM Do, YYYY"))),s.createElement("div",{style:{display:"flex"}},s.createElement("div",{style:{marginRight:18}},e.quantity," × Notion"," ",S.getProductName(e.productId)," ",e.planAmount&&s.createElement(_.Fragment,null,"(at ",v.formatHumanReadableCurrency(e.planAmount,"dollar")," ","per ",e.planInterval,")")),s.createElement("div",{style:{marginLeft:"auto"}},v.formatHumanReadableCurrency(e.amount,"dollar")," "))):s.createElement("div",{key:t},s.createElement(g.default,{style:{marginTop:8,marginBottom:4}},s.createElement("div",null,b.default(e.start).format("MMMM Do, YYYY"))),s.createElement("div",{style:{display:"flex"}},s.createElement("div",{style:{marginRight:18}},e.amount>0?"Charge":"Credit"," for changing to"," ",e.quantity," × Notion"," ",S.getProductName(e.productId)," ",e.planAmount&&s.createElement(_.Fragment,null,"(at ",v.formatHumanReadableCurrency(e.planAmount,"dollar")," ","per ",e.planInterval,")")),s.createElement("div",{style:{marginLeft:"auto"}},v.formatHumanReadableCurrency(e.amount,"dollar")," ")))},t}return o(t,e),t.prototype.renderComponent=function(){var e="invoiceById"===this.props.route.name?this.props.route.invoiceId:"upcoming";return s.createElement(m.default,{key:e,request:e,performRequest:this.performRequest,render:this.renderResult})},t.prototype.renderInvoice=function(e,t){var r,n,o,a,i,d,f,m,w=b.default(t.date).format("MMMM Do, YYYY");document.title="Notion Invoice "+w;var S=t.items.filter(function(e){return e.proration}),k=t.items.filter(function(e){return!e.proration}),P=[],x=function(e){var t=P.find(function(t){return t[0].start===e.start});t?t.push(e):P.push([e])};try{for(var T=l(S),O=T.next();!O.done;O=T.next()){x(z=O.value)}}catch(e){r={error:e}}finally{try{O&&!O.done&&(n=T.return)&&n.call(T)}finally{if(r)throw r.error}}var M=[];try{for(var I=l(P),A=I.next();!A.done;A=I.next()){var D=A.value,L=D[0].start,R=D.reduce(function(e,t){return e+t.amount},0),B=[],j=function(e){var t=B.find(function(t){return t.amount===-e.amount});t?B=u.without(B,t):B.push(e)};try{for(var V=l(D),F=V.next();!F.done;F=V.next()){j(z=F.value)}}catch(e){i={error:e}}finally{try{F&&!F.done&&(d=V.return)&&d.call(V)}finally{if(i)throw i.error}}var N=B.find(function(e){return e.amount>0});N&&M.push({type:"proration",start:L,productId:N.productId,quantity:N.quantity,planAmount:N.planAmount,planInterval:N.planInterval,amount:R})}}catch(e){o={error:e}}finally{try{A&&!A.done&&(a=I.return)&&a.call(I)}finally{if(o)throw o.error}}try{for(var U=l(k),W=U.next();!W.done;W=U.next()){var z=W.value;M.push({type:"base",start:z.start,end:z.end,productId:z.productId,quantity:z.quantity,planAmount:z.planAmount,planInterval:z.planInterval,amount:z.amount})}}catch(e){f={error:e}}finally{try{W&&!W.done&&(m=U.return)&&m.call(U)}finally{if(f)throw f.error}}var H=C.getDefaultTheme();return s.createElement("div",{className:"notion-invoice",style:{padding:48,fontSize:14,height:"100vh",overflow:"auto",WebkitOverflowScrolling:"touch",background:H.contentBackground,color:H.regularTextColor}},c.default.notionLogo({width:48,height:48,marginBottom:24,color:H.regularTextColor}),s.createElement(y.default,null,"Notion Invoice & Receipt"),s.createElement(p.default,null,"Notion Labs, Inc.",s.createElement("br",null),"2948 20th St.",s.createElement("br",null),"San Francisco, CA. 94110"),s.createElement(E.default,{style:{marginTop:12},onClick:function(){return window.print()},className:"notion-print-ignore"},"Print/Export as PDF"),s.createElement(h.default,{size:51}),s.createElement(g.default,{hasMarginTop:!0},"Date"),w,s.createElement(g.default,{hasMarginTop:!0},"Payment"),"paid"===t.status&&"Paid 😇","not_paid"===t.status&&"Not Paid","upcoming"===t.status&&"Upcoming – Not Due Yet",s.createElement(g.default,{hasMarginTop:!0},"Invoice ID"),e,s.createElement(g.default,{hasMarginTop:!0},"To"),t.customer.name,t.customer.name&&s.createElement("br",null),t.customer.email,s.createElement("br",null),t.customer.addressLine1,t.customer.addressLine2,(t.customer.addressLine1||t.customer.addressLine2)&&s.createElement("br",null),t.customer.city," ",t.customer.state," ",t.customer.country," ",t.customer.zipCode,t.customer.vatId&&s.createElement(_.Fragment,null,s.createElement(g.default,{hasMarginTop:!0},"VAT ID"),t.customer.vatId),s.createElement(g.default,{hasMarginTop:!0},"Items"),s.createElement("div",{style:{display:"inline-flex",flexDirection:"column"}},M.map(this.renderCharge)),0!==t.startingBalance&&s.createElement(_.Fragment,null,s.createElement(g.default,{hasMarginTop:!0},"Account Credit"),v.formatHumanReadableCurrency(-t.startingBalance,"dollar")),s.createElement(g.default,{hasMarginTop:!0},"Amount Due"),v.formatHumanReadableCurrency(Math.max(0,t.amountDue),"dollar"))},t}(f.default);t.default=P},J8hh:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("njgS"),s=r("t+pW"),u=r("gbGO"),c=r("r8oj"),d=r("y6Dp"),p=r("WgIs"),f=r("2Y+N"),h=r("SR/M"),m=r("i3uR"),y=r("wXH4"),g=r("uSCg"),v=r("g4rC"),b=r("T1td"),w=r("bjn0"),S=r("Ijt+"),_=r("QkuB"),k=r("mF3+"),C=r("LeVO"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderRelationSelect=function(e){return i.createElement(b.default,{schema:t.props.schema,displayString:"Relation Property",onAccept:t.handleRelationAccept,onClose:e.close,allowProperty:t.handleRelationAllowProperty})},t.renderTargetPropertySelect=function(e){var r=t.getRenderState();if(r)return i.createElement(b.default,{schema:r.relatedCollectionSchema,onAccept:t.handleTargetPropertyAccept,allowProperty:t.handleTargetPropertyAllowProperty,onClose:e.close})},t.renderAggregationSelect=function(e){var r=t.getRenderState();if(r&&r.propertySchema.target_property)return i.createElement(S.default,{property:r.propertySchema.target_property,schema:r.relatedCollectionSchema,onChange:t.handlePropertyAggregationMenuChange,onClose:e.close,noneText:"Show Original"})},t.handleRelationAccept=function(e){var r,n=t.props,o=n.schema,i=n.property,l=n.onChange,s=n.analyticsFrom,u=t.getRenderState();if(u){var c=a({},u.propertySchema,{relation_property:e,target_property:"title",target_property_type:"title",aggregation:void 0});l({schema:a({},o,((r={})[i]=c,r))}),d.trackConfigureRollupRelation({from:s})}},t.handleTargetPropertyAccept=function(e){var r,n=t.props,o=n.schema,i=n.property,l=n.onChange,s=n.analyticsFrom,u=t.getRenderState();if(u&&u.relatedCollectionValue&&u.relatedCollectionSchema){var c=u.relatedCollectionSchema[e];if(c){var p=a({},u.propertySchema,{target_property:e,target_property_type:c.type,aggregation:void 0});l({schema:a({},o,((r={})[i]=p,r))}),d.trackConfigureRollupTargetProperty({from:s,property_type:c.type})}}},t.handlePropertyAggregationMenuChange=function(e){var r,n=t.props,o=n.schema,i=n.property,l=n.onChange,s=n.analyticsFrom,u=t.getRenderState();if(u){var c=a({},u.propertySchema,{aggregation:e});l({schema:a({},o,((r={})[i]=c,r))}),d.trackConfigureRollupAggregation({from:s,aggregation:e})}},t.handleRelationAllowProperty=function(e){return"relation"===e.type},t.handleTargetPropertyAllowProperty=function(e){return"rollup"!==e.type},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props.disabled,r=this.getRenderState();if(r){var n;n=c.default.isMobile?{menuType:u.default.MenuType.Modal,title:r.propertySchema.name,right:"Done",onClickRight:this.props.onDismiss}:{menuType:u.default.MenuType.Popup};var o=Boolean(r.propertySchema.relation_property),s=Boolean(r.propertySchema.relation_property&&r.propertySchema.target_property);return i.createElement(u.default,a({},n),i.createElement(p.default,{initialFocus:void 0,sections:[{key:0,render:function(e){return i.createElement(f.default,a({},e,{title:"Relation",isTitleUppercase:!0}))},items:[{key:0,render:function(n){return i.createElement(m.default,{key:n.key,popupType:c.default.isMobile?y.PopupType.SlideUp:y.PopupType.Popup,renderOrigin:function(o){return r.relationPropertySchema?i.createElement(_.default,a({},g.default(n,o),{propertySchema:r.relationPropertySchema,format:_.DisplayFormat.Name,right:e.getMenuItemChevron(),disabled:t})):i.createElement(h.default,a({},g.default(n,o),{title:"Select an existing relation...",right:e.getMenuItemChevron(),style:{color:e.theme.mediumTextColor},disabled:t}))},render:e.renderRelationSelect,buttonPopupStore:e.stores.relationButtonPopupStore})},action:function(){e.stores.relationButtonPopupStore.setState({open:!0})}}]},{key:1,render:function(e){return i.createElement(f.default,a({},e,{title:"Property",topBorder:!0,isTitleUppercase:!0}))},items:[{key:0,render:function(n){return i.createElement(C.default,{renderTooltip:function(){return"Select an existing relation first."},disableTooltip:o,key:n.key,render:function(l){return i.createElement(m.default,{popupType:c.default.isMobile?y.PopupType.SlideUp:y.PopupType.Popup,renderOrigin:function(s){return r.targetPropertySchema?i.createElement(_.default,a({},g.default(n,s),{propertySchema:r.targetPropertySchema,format:_.DisplayFormat.Name,right:e.getMenuItemChevron(),disabled:t})):i.createElement(h.default,a({},g.default(n,l),{title:"Select a property to display...",right:e.getMenuItemChevron(),disabled:!o||t,disabledFeedback:!0}))},render:e.renderTargetPropertySelect,buttonPopupStore:e.stores.targetPropertyButtonPopupStore})}})},action:function(){e.stores.targetPropertyButtonPopupStore.setState({open:!0})}}]},{key:2,render:function(e){return i.createElement(f.default,a({},e,{title:"Calculate",topBorder:!0,isTitleUppercase:!0}))},items:[{key:0,render:function(n){return i.createElement(C.default,{renderTooltip:function(){return"Select an existing relation and property first."},disableTooltip:s,key:n.key,render:function(o){return s?i.createElement(m.default,{popupType:c.default.isMobile?y.PopupType.SlideUp:y.PopupType.Popup,renderOrigin:function(o){return i.createElement(h.default,a({},g.default(n,o),{title:r.propertySchema.aggregation?l.aggregationFullNameMap[r.propertySchema.aggregation]:"Show Original",right:e.getMenuItemChevron(),disabled:t}))},render:e.renderAggregationSelect,buttonPopupStore:e.stores.aggregationButtonPopupStore}):i.createElement(h.default,a({},g.default(n,o),{title:"Show Original",right:e.getMenuItemChevron(),disabled:!0,disabledFeedback:!0}))}})},action:function(){e.stores.aggregationButtonPopupStore.setState({open:!0})}}]}]}))}},t.prototype.getMenuItemChevron=function(){return k.default.chevronDown({width:11,fill:this.theme.mediumIconColor})},t.prototype.getRenderState=function(){var e=this.props,t=e.schema,r=e.property,n=e.parentStore,o=t[r];if(o){var a,i;if(o.relation_property){var s=t[o.relation_property];s&&"relation"===s.type&&(a=s)}if(a&&a.collection_id)i=w.default.createChildStore(n,a.collection_id).getValue();var u,c=i?l.getNormalizedSchema(i):{};return i&&o.target_property&&(u=c[o.target_property]),{propertySchema:o,relationPropertySchema:a,relatedCollectionValue:i,relatedCollectionSchema:c,targetPropertySchema:u}}},t.stores={relationButtonPopupStore:v.default,targetPropertyButtonPopupStore:v.default,aggregationButtonPopupStore:v.default},t}(s.default);t.default=E},"J9+n":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("q1tI"),c=r("LvDl"),d=r("wHWa"),p=r("y6Dp"),f=r("VBxf"),h=r("sdlW"),m=r("nM47"),y=r("eamm"),g=r("TzxI"),v=r("toub"),b=r("IwFn"),w=r("wldR"),S=r("pqiZ"),_=r("4QR2"),k=r("/6eU"),C=r("mU7A"),E=r("NcGt"),P=r("MYfK"),x=r("meXu"),T=r("xcVA"),O=r("3wHm"),M=r("5XPD"),I=r("MBf9"),A=r("2HDO"),D=r("Z1H8"),L=r("yP71"),R=r("uoQt"),B=r("Cycz"),j=r("bt8z"),V=r("QcDD"),F=r("r8MX"),N=r("toub"),U=r("Sb6f"),W=r("bxQm"),z=r("MeYt"),H=r("SR/M"),q=r("lEhh"),G=r("DNfA"),Z=r("TDb4"),Y=r("LeVO"),K=r("uSCg"),J=r("0GcB"),Q=r("wvIE"),X=r("7M94"),$=r("2A6Q"),ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastSpaceSettingsModalStoreOpen=!1,t.renderContent=function(){var e={profile:t.renderProfile,notifications:t.renderNotifications,settings:t.renderSettings,members:t.renderMembers,plans:t.renderPlans,billing:t.renderBilling,credit:t.renderCredit};return s.createElement(D.default,{capture:!0,allowEsc:!0,render:function(r){return s.createElement(A.default,{capture:!0,ignoreBlockSelection:!0,restoreSelection:!0,focusOffscreenInput:!1,render:function(){return s.createElement(x.default,a({sidebar:t.renderSidebar(),sidebarStyle:{width:190}},r),e[N.default.state.currentTab]())}})}})},t.renderProfile=function(){return s.createElement(E.default,{spaceProfileSettingsStore:t.stores.spaceProfileSettingsStore})},t.renderNotifications=function(){return s.createElement($.default,null,s.createElement(M.default,null))},t.renderSettings=function(){return s.createElement(T.default,{spaceStore:t.props.spaceStore,spaceBasicSettingsStore:t.stores.spaceBasicSettingsStore})},t.renderMembers=function(){return s.createElement(O.default,{store:t.props.spaceStore,onUpgradeButtonClick:function(){N.default.setState({open:!0,currentTab:"plans"})}})},t.renderPlans=function(){var e=F.default.state.data;if(e)return s.createElement(L.default,{spaceStore:t.props.spaceStore,data:e})},t.renderBilling=function(){var e=F.default.state.data;if(e&&"subscribed_admin"===e.type)return s.createElement(R.default,{spaceStore:t.props.spaceStore,data:e})},t.renderCredit=function(){var e=F.default.state.data;if(e)return s.createElement(j.default,{data:e})},t.handleModalOpen=function(){m.refresh()},t.handleModalDismiss=function(){return t.attemptCloseCurrentTab(function(){N.default.setState(a({},N.default.state,{open:!1}))})},t}return o(t,e),t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t);var r=N.default.state.open,n=N.default.state;this.lastSpaceSettingsModalStoreOpen===r&&c.isEqual(this.lastSpaceSettingsStoreState,n)||r&&p.trackOpenSettings(),this.lastSpaceSettingsModalStoreOpen=r,this.lastSpaceSettingsStoreState=c.clone(n)},t.prototype.renderComponent=function(){var e=N.default.state.open;return s.createElement(k.default,{open:e,innerStyle:{width:900,maxWidth:"calc(100vw - 100px)",height:"calc(100vh - 100px)",overflow:"hidden",borderRadius:3,maxHeight:695},onOpen:this.handleModalOpen,onDismiss:this.handleModalDismiss,render:this.renderContent,className:X.spaceSettings})},t.prototype.renderSidebar=function(){var e=this.props.spaceStore,r=F.default.state.data;return s.createElement("div",{style:t.sidebarStyle},s.createElement("div",null,s.createElement(_.default,null,s.createElement(P.default,{hasMarginBottom:!1},"Me")),this.renderTabButton("profile"),this.renderTabButton("notifications"),r&&r.creditEnabled&&this.renderTabButton("credit"),s.createElement(S.default,{size:21,style:t.dividerStyle}),s.createElement(_.default,null,s.createElement(P.default,{hasMarginBottom:!1},"Workspace")),this.renderTabButton("settings"),e.canRead()&&this.renderTabButton("members"),e.canRead()&&this.renderTabButton("plans"),e.canAdmin()&&r&&"subscribed_admin"===r.type&&this.renderTabButton("billing"),s.createElement(S.default,{size:21,style:t.dividerStyle}),this.renderDarkModeButton(),e.canRead()&&this.renderUsage()))},t.prototype.renderUsage=function(){var e=F.default.state.data;if(e&&!B.isSubscribed(e))return s.createElement(u.Fragment,null,s.createElement(S.default,{size:27,style:t.dividerStyle}),s.createElement("div",{style:{padding:"5px 15px"}},s.createElement(b.default,null,B.getUsageDescription(e)),s.createElement(C.default,{style:{marginTop:8,marginBottom:8},percent:B.getUsagePercent(e)}),s.createElement(W.default,{underlined:!0,style:{marginLeft:-5},onClick:function(e){N.default.setState({open:!0,currentTab:"plans"})}},"Upgrade to go unlimited"),e.creditEnabled&&s.createElement(W.default,{underlined:!0,style:{marginLeft:-5},onClick:function(e){N.default.setState({open:!0,currentTab:"credit"})}},"Earn credit to use for free")))},t.prototype.renderTabButton=function(e){var r=this,n=N.default.state.currentTab===e,o=v.getTabIcons[e](),i=v.getTabTitles[e]();return s.createElement(z.default,{hovered:n,style:a({},n&&{fontWeight:U.default.fontWeight.semibold}),onClick:function(t){r.attemptCloseCurrentTab(function(){N.default.setState(a({},N.default.state,{currentTab:e})),p.trackToggleSettingsTab({tab:e})})}},s.createElement(_.default,{left:o,leftStyle:t.menuItemLeftStyle},i))},t.prototype.renderDarkModeButton=function(){var e=this,t="light"===J.default.state.mode?"dark":"light";return s.createElement(Y.default,{renderTooltip:function(){return s.createElement(Z.default,{name:"toggleDarkMode"})},originGap:10,placement:G.Placement.Right,render:function(r){return s.createElement(H.default,a({focused:!1,title:"Dark Mode",right:s.createElement(q.default,{on:"light"===t,onClick:e.toggleThemeMode(t)})},K.default(r,{onClick:e.toggleThemeMode(t)})))}})},t.prototype.toggleThemeMode=function(e){return function(){Q.setTheme({mode:e}),p.trackToggleThemeMode({mode:e})}},t.prototype.attemptCloseCurrentTab=function(e){return i(this,void 0,void 0,function(){var t,r,n,o,a,i,s,u,p,m,y,g,v,b,w,S,_,k,C;return l(this,function(l){switch(l.label){case 0:if(t=this.props.spaceStore,r=this.stores.spaceProfileSettingsStore,n=V.default.state,o=n.userStore,a=n.userSettingsStore,!o||!a)throw new Error("No user or settings store.");return"profile"!==(i=N.default.state.currentTab)?[3,1]:c.isEqual(r.state,r.getValueForUser(o,a))?(e(),[3,6]):(s=r.state,u=s.givenName,p=s.familyName,m=s.profilePhoto,f.showDialog({message:"Do you want to update your changes?",showCancel:!0,keepFocus:!0,items:[{label:"Update",color:"blue",onAccept:function(){I.createAndCommit(function(e){var t=V.default.state.userStore;t&&d.updateUserData({userStore:t,data:{givenName:u,familyName:p,profilePhoto:m},transaction:e})}),e()}}],handleCancel:function(){e()}}),[2,!0]);case 1:return"settings"===i&&t.canEdit()?(y=this.stores.spaceBasicSettingsStore,c.isEqual(y.state,y.getValueForSpace(t))?[3,3]:(g=y.state,v=g.name,b=g.domain,w=g.emailDomains,S=g.disablePublicAccess,_=g.disableGuests,k=g.disableMoveToSpace,C=g.disableExport,[4,f.confirmUserAction({message:"Do you want to update your changes?",acceptLabel:"Yes"})])):[3,5];case 2:return l.sent()?(h.updateSpaceSettings({name:v,domain:b||void 0,emailDomains:w,disablePublicAccess:S,disableGuests:_,disableMoveToSpace:k,disableExport:C,spaceStore:this.props.spaceStore}).catch(function(e){f.showError({error:e})}),e()):e(),[2,!0];case 3:e(),l.label=4;case 4:return[3,6];case 5:e(),l.label=6;case 6:return[2,!1]}})})},t.stores={spaceBasicSettingsStore:g.default,spaceProfileSettingsStore:y.default},t.dividerStyle={paddingLeft:14,paddingRight:14},t.sidebarStyle={display:"flex",flexDirection:"column",height:"100%",paddingTop:6,paddingBottom:12,justifyContent:"space-between"},t.menuItemLeftStyle={width:20,height:20,marginRight:8},t}(w.default);t.default=ee},JM1e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("622O");t.getSecureFilesFromCollection=function(e,t,r){if(r&&!e.file_ids)return[];var o,a=[],i=e.cover,l=e.icon;i&&((o=n.getSecureFileFromSource(i,e.file_ids,t,r))&&a.push(o));l&&((o=n.getSecureFileFromSource(l,e.file_ids,t,r))&&a.push(o));return a}},JQ0b:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("LvDl"),c=r("t+pW"),d=r("njgS"),p=r("g4rC"),f=r("VOS9"),h=r("G4GV"),m=r("yNyh"),y=r("uSCg"),g=r("EZe4"),v=r("zEGb"),b=r("y6Dp"),w=r("DNfA"),S=r("gbGO"),_=r("dXb3"),k=r("LeVO"),C=r("SR/M"),E=r("QkuB"),P=r("2Y+N"),x=r("B22C"),T=r("r8oj"),O=r("wXH4"),M=r("XDBA"),I=r("6rsX"),A=r("unoy"),D=r("JZPr"),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wasOpen=!1,t.renderPopup=function(){var e,r=t.stores.nameInputStore.state.inputValue;return e=T.default.isMobile?{menuType:S.default.MenuType.Modal,title:"Edit Property",right:"Done",onClickRight:t.handleNameInputSubmit}:{menuType:S.default.MenuType.Popup,width:240},s.createElement(S.default,a({},e),s.createElement(P.default,{isInput:!0},s.createElement(_.default,{value:r,format:m.default.Format.Default,focus:!T.default.isMobile||void 0,selectAll:!0,disabled:t.props.disabled,onChange:t.handleNameInputChange,onSubmit:t.handleNameInputSubmit,mobileEditLabel:"Rename"})),t.renderActionMenu())},t.createPropertyAction=function(e){return{key:(r={key:e,name:d.propertyTypeDisplayNameMap[e],icon:s.createElement(v.default,{type:e,size:14,theme:t.theme,style:{fill:t.theme.regularIconColor}}),action:function(){t.setPropertyType(e)},tooltip:t.renderTooltip(e)}).key,name:r.name,validators:[],render:function(e){return s.createElement(k.default,{key:e.key,placement:k.default.Placement.Right,render:function(t){return s.createElement(C.default,a({},y.default(e,t),{title:r.name,icon:r.icon}))},renderTooltip:function(){return r.tooltip}})},action:r.action,closeParentMenu:!0};var r},t.handleClick=function(){A.clear(),I.clear(),D.clearSelection(),t.props.onOpen()},t.handleContextMenu=function(e){g.default({event:e,context:g.EventContext.EditorContextMenu,callback:function(){t.props.disabled||(e.preventDefault(),t.props.onOpen())}})},t.handleNameInputChange=function(e){var r=t.stores.nameInputStore;r.setState(a({},r.state,{inputValue:e.target.value}))},t.handleNameInputSubmit=function(){var e,r=t.props,n=r.property,o=r.onChange,i=r.analyticsFrom,l=t.mutatedSchema||t.props.schema,s=(t.stores.nameInputStore.state.inputValue||"").trim(),u=l[n];if(u){var c=u.name;if(s&&s!==c){var d=a({},l,((e={})[n]=a({},u,{name:s}),e));t.mutatedSchema=d,o({newSchema:d})}b.trackConfigureProperty({property_type:u.type,from:i,action:"rename"}),t.props.onClose()}},t}return o(t,e),t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t);var r=t.property,n=t.schema,o=t.open,i=this.stores.nameInputStore;if(o){if(!this.wasOpen){this.wasOpen=!0;var l=n[r];l&&i.setState(a({},i.state,{inputValue:l.name}))}}else this.wasOpen=!1;this.mutatedSchema=void 0},t.prototype.renderComponent=function(){var e=this.props,t=e.property,r=e.schema,n=e.open;if(r[t])return s.createElement(O.Popup,{open:n,popupType:T.default.isMobile?O.Popup.PopupType.SlideUp:O.Popup.PopupType.Popup,onDismiss:this.handleNameInputSubmit,origin:this.props.renderOrigin({onContextMenu:this.handleContextMenu,onClick:this.handleClick}),render:this.renderPopup})},t.prototype.renderTitlePropertyMenuItem=function(e,t){return s.createElement(k.default,{key:t.key,placement:w.Placement.Top,renderTooltip:function(){return"The Name column is used as the title of each page in the database and cannot be changed."},render:function(r){return s.createElement(E.default,a({},y.default(t,r),{propertySchema:e,format:E.default.DisplayFormat.Type}))}})},t.prototype.getPropertyExtensionAction=function(e){var t=d.propertyTypeDisplayNameMap[e.type],r=[];return this.isSystemProperty()||(r.push({key:"basic section",title:"Basic",render:function(e){return s.createElement(P.default,a({isTitleUppercase:!0},e))},actions:[this.createPropertyAction("text"),this.createPropertyAction("number"),this.createPropertyAction("select"),this.createPropertyAction("multi_select"),this.createPropertyAction("date"),this.createPropertyAction("person"),this.createPropertyAction("file"),this.createPropertyAction("checkbox"),this.createPropertyAction("url"),this.createPropertyAction("email"),this.createPropertyAction("phone_number")]}),r.push({key:"advanced section",title:"Advanced",render:function(e){return s.createElement(P.default,a({isTitleUppercase:!0},e))},actions:[this.createPropertyAction("formula"),this.createPropertyAction("relation"),this.createPropertyAction("rollup"),this.createPropertyAction("created_time"),this.createPropertyAction("created_by"),this.createPropertyAction("last_edited_time"),this.createPropertyAction("last_edited_by")]})),{key:t,name:t,validators:[],render:function(t,n,o){return s.createElement(x.default,a({},t,{renderOrigin:function(t){return s.createElement(E.default,a({},t,{propertySchema:e,format:E.default.DisplayFormat.Type}))},onFocus:o.onFocus,renderExtension:function(e,t){var i;return i=T.default.isMobile?a({menuType:S.default.MenuType.Modal,title:"Edit Property",right:"Done",onClickRight:t.close},e):a({menuType:S.default.MenuType.Popup,width:200,height:457,maxHeight:"80vh"},e),s.createElement(S.default,a({},i),s.createElement(f.default,{context:n,sections:r,onAccept:o.onAccept}))}}))},subActions:function(e){return[{key:0,title:void 0,render:function(e){return s.createElement(P.default,a({isTitleUppercase:!0},e))},actions:u.flatten(r.map(function(e){return e.actions}))}]},action:function(){return null},closeParentMenu:!0}},t.prototype.getActionMenuActions=function(e){var t=this,r=[];if("title"===this.props.property){var n=d.propertyTypeDisplayNameMap[e.type];r.push({key:"title "+n,name:n,validators:[],render:function(r){return t.renderTitlePropertyMenuItem(e,a({},r,{onClick:u.identity}))},closeParentMenu:!0,action:function(){return null}})}else r.push(this.getPropertyExtensionAction(e));return r},t.prototype.renderActionMenu=function(){var e=this.props.schema[this.props.property];if(e){var t=[];return t.push({key:"property type section",title:"Property Type",render:function(e){return s.createElement(P.default,a({isTitleUppercase:!0},e))},actions:this.getActionMenuActions(e)}),this.props.actions.length>0&&t.push({key:"extra subactions",render:function(e){return s.createElement(P.default,a({},e))},actions:this.props.actions}),s.createElement(f.default,{disableKeyboard:!0,context:{blocks:[]},sections:t,onAccept:this.handleNameInputSubmit})}},t.prototype.renderTooltip=function(e){var t=d.propertyTypeDescriptionMap[e],r=d.propertyTypeDescriptionImageMap[e];return r?s.createElement("div",{style:{width:140,marginTop:4,marginBottom:4}},s.createElement("div",{style:{width:"100%",height:100,borderRadius:3,backgroundImage:"url("+r+")",backgroundSize:"cover",marginBottom:6}}),s.createElement("div",{style:{whiteSpace:"normal",lineHeight:1.4}},t)):t},t.prototype.isSystemProperty=function(){return Boolean(d.systemPropertyTypeMap[this.props.property])},t.prototype.setPropertyType=function(e){return i(this,void 0,void 0,function(){var t,r,n,o,a,i,s;return l(this,function(l){switch(l.label){case 0:return t=this.props,r=t.property,n=t.collectionId,o=t.onChange,a=t.analyticsFrom,i=this.mutatedSchema||this.props.schema,[4,M.getEditPropertyTypeUpdate({collectionId:n,schema:i,property:r,propertyType:e})];case 1:return(s=l.sent())?(this.mutatedSchema=s.newSchema,o(s),b.trackConfigureProperty({property_type:e,from:a,action:"change_type"}),[2]):[2]}})})},t.stores={buttonPopupStore:p.default,nameInputStore:h.default},t}(c.default);t.default=L},JU1L:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCombinedId=function(e,t){return t+":"+e},t.extractCombinedId=function(e){var t=e.lastIndexOf(":");return{table:e.substring(t+1),id:e.substring(0,t)}}},JZPr:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("6rsX"),a=r("N34Z"),i=r("RPv2"),l=r("cBa6"),s=r("oRaq"),u=r("bPtJ"),c=r("D2XV"),d=r("RvCr"),p=r("+575"),f=r("mxzd");t.setSelection=function(e){var t=e.collectionViewBlock,r=e.selection;f.default.setState({isActive:!0,collectionViewBlock:t,selection:r}),o.clear()},t.clearSelection=function(){f.default.setState({isActive:!1})},t.arrowLeft=function(e){var r=e.collectionViewBlock,n=e.shiftKey,o=e.columnCount,a=(e.rowCount,e.selection);if(n&&a.end.x>0){var i={x:a.end.x-1,y:a.end.y};t.setSelection({collectionViewBlock:r,selection:{start:a.start,end:i}})}else if(!n&&a.start.x>0){var l={x:a.start.x-1,y:a.start.y};t.setSelection({collectionViewBlock:r,selection:{start:l,end:l}})}else if(!n&&0===a.start.x&&a.start.y>0){l={x:o-1,y:a.start.y-1};t.setSelection({collectionViewBlock:r,selection:{start:l,end:l}})}},t.arrowRight=function(e){var r=e.collectionViewBlock,n=e.shiftKey,o=e.columnCount,a=e.rowCount,i=e.selection;if(n&&i.end.x<o-1){var l={x:i.end.x+1,y:i.end.y};t.setSelection({collectionViewBlock:r,selection:{start:i.start,end:l}})}else if(!n&&i.start.x<o-1){var s={x:i.start.x+1,y:i.start.y};t.setSelection({collectionViewBlock:r,selection:{start:s,end:s}})}else if(!n&&i.start.x>=o-1&&i.start.y<a-1){s={x:0,y:i.start.y+1};t.setSelection({collectionViewBlock:r,selection:{start:s,end:s}})}},t.arrowUp=function(e){var r=e.collectionViewBlock,n=e.shiftKey,o=e.selection;if(n&&o.end.y>0){var a={x:o.end.x,y:o.end.y-1};t.setSelection({collectionViewBlock:r,selection:{start:o.start,end:a}})}else if(!n&&o.start.y>0){var i={x:o.start.x,y:o.start.y-1};t.setSelection({collectionViewBlock:r,selection:{start:i,end:i}})}},t.arrowDown=function(e){var r=e.collectionViewBlock,n=e.shiftKey,o=e.rowCount,a=e.selection;if(n&&a.end.y<o-1){var i={x:a.end.x,y:a.end.y+1};t.setSelection({collectionViewBlock:r,selection:{start:a.start,end:i}})}else if(!n&&a.start.y<o-1){var l={x:a.start.x,y:a.start.y+1};t.setSelection({collectionViewBlock:r,selection:{start:l,end:l}})}},t.deleteSelection=function(e){e.collectionViewBlock;for(var t,r=e.selection,n=e.currentRows,o=e.currentPropertyFormats,l=e.transaction,s=i.getSelectionSpan(r),u=s.minY;u<=s.maxY;u++){var c=n[u];if(c)for(var d=s.minX;d<=s.maxX;d++){var p=o[d];a.updateValue({store:c.getPropertiesStore(),data:(t={},t[p.property]=null,t),transaction:l})}}},t.cutSelection=function(e){t.copySelection(e),t.deleteSelection(e)},t.copySelection=function(e){var t=e.collectionViewBlock,r=e.schema,n=e.selection,o=e.currentRows,a=e.currentPropertyFormats,l=e.event;if(l.clipboardData){for(var s=i.getSelectionSpan(n),d="",f=[],m=s.minY;m<=s.maxY;m++){var y=o[m];if(y){var g=y.getValue();if(g){var v=[];f.push(v);for(var b=s.minX;b<=s.maxX;b++){var w=a[b],S=h(y,r,w.property);v.push(S);var _=p.toExportStringValue({property:w.property,schema:r,block:g,getRecordValue:function(e,r){return u.createRecordStore(t,e,r).getValue()},userTimeZone:c.currentTimeZone,exportedFilePaths:!1});_&&(d+=_),b<s.maxX&&(d+="\t")}m<s.maxY&&(d+="\n")}}}l.preventDefault(),l.clipboardData.setData("text/plain",d),l.clipboardData.setData(i.tableSelectionKey,JSON.stringify(f))}},t.pasteSelection=function(e){var r,o,s,u,c,p=e.collectionViewLocalStore,f=e.collectionStore,h=e.collectionViewBlock,m=e.selection,y=e.currentRows,g=e.currentPropertyFormats,v=e.event,b=e.transaction;if(v.clipboardData){var w,S=v.clipboardData.getData(i.tableSelectionKey),_=v.clipboardData.getData("text/html");if(S)w=JSON.parse(S);else if(_){var k=document.createElement("div");k.innerHTML=_;var C=k.querySelector("table");if(C){var E=C.querySelectorAll("tr");w=[];try{for(var P=n(Array.from(E)),x=P.next();!x.done;x=P.next()){var T=x.value,O=[],M=T.querySelectorAll("td");try{for(var I=n(Array.from(M)),A=I.next();!A.done;A=I.next()){var D=A.value;O.push(l.createTextValue(D.textContent||""))}}catch(e){s={error:e}}finally{try{A&&!A.done&&(u=I.return)&&u.call(I)}finally{if(s)throw s.error}}w.push(O)}}catch(e){r={error:e}}finally{try{x&&!x.done&&(o=P.return)&&o.call(P)}finally{if(r)throw r.error}}}}if(w){var L=i.getSelectionSpan(m),R=w[0].length,B=Math.floor((L.maxX-L.minX+1)/R);0===B&&(B=1);var j=w.length,V=Math.floor((L.maxY-L.minY+1)/j);0===V&&(V=1);for(var F=0;F<V;F++)for(var N=0;N<B;N++)for(var U=L.minX+N*R,W=L.minY+F*j,z=0;z<j;z++){(O=y[W+z])||(O=d.createBlockInGroup({parentStore:f,collectionViewLocalStore:p,group:void 0,results:y,insertAtStart:!1,coerce:!0,transaction:b}));for(var H=0;H<R;H++){var q=g[U+H];if(q){var G=w[z][H];a.updateValue({store:O.getPropertiesStore(),data:(c={},c[q.property]=G,c),transaction:b})}}}t.setSelection({collectionViewBlock:h,selection:{start:{x:L.minX,y:L.minY},end:{x:L.minX+R*B-1,y:L.minY+j*V-1}}})}}};var h=function(e,t,r){var n=t[r];if(!n)throw new Error("Property not found");var o=e.getValue();if(!o)return[];var a=(e.getProperties()||{})[r];if("formula"===n.type){var i=s.toFormulaValueAsString({property:r,schema:t,block:o,getRecordValue:function(t,r){return u.createRecordStore(e,t,r).getValue()},userTimeZone:c.currentTimeZone,depth:0});return l.createTextValue(i)}return"created_time"===n.type&&o&&o.created_time?p.fromDateValue(c.dateTime(o.created_time,c.currentTimeZone)):"created_by"===n.type&&o&&o.created_by?[l.createMentionToken(["u",o.created_by])]:"last_edited_time"===n.type&&o&&o.last_edited_time?p.fromDateValue(c.dateTime(o.last_edited_time,c.currentTimeZone)):"last_edited_by"===n.type&&o&&o.last_edited_by?[l.createMentionToken(["u",o.last_edited_by])]:a||[]}},Jb4e:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("ZBwS"),i=new a,l=a.DIFF_DELETE,s=a.DIFF_INSERT,u=a.DIFF_EQUAL;function c(e,t){var r=o.toArray(e).map(function(e){var r=t.encoding[e];if(r)return r;var n=String.fromCharCode(t.count);return t.count++,t.encoding[e]=n,t.decoding[n]=e,n});if(t.count>65535)throw new Error("This string has way too many different characters.");var n=r.join("");return{cypher:t,encodedString:n}}function d(e,t){return e.split("").map(function(e){return t.decoding[e]}).join("")}t.DIFF_DELETE=l,t.DIFF_INSERT=s,t.DIFF_EQUAL=u,t.getTextDiff=function(e,t){var r=c(e,{count:0,encoding:{},decoding:{}}),o=r.encodedString,a=c(t,r.cypher),l=a.encodedString,s=a.cypher;return function(e,t){return e.map(function(e){var r=n(e,2),o=r[0],a=r[1];return[o,d(a,t)]})}(i.diff_main(o,l),s)}},Jrey:function(e,t){},JuT7:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("qRmb"),i=r("rJFj"),l=function(){function e(){this.subscriptionCount=0}return e.prototype.addListener=function(e,t,r){if(i.default(e))return this.subscriptionCount+=1,r||(r="subscription:"+this.subscriptionCount),a.subscribe(e,t,r),{key:e,subscriptionId:r}},e.prototype.removeListener=function(e){var t=e.key,r=e.subscriptionId;i.default(t)&&a.unsubscribe(t,r)},e.prototype.setValue=function(e,t,r){return n(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,a.setValue(e,t,r)];case 1:return n.sent(),[2]}})})},e.prototype.setIfGreater=function(e,t,r){return n(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,a.setIfGreater(e,t,r)];case 1:return n.sent(),[2]}})})},e.prototype.increment=function(e,t,r){return n(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,a.increment(e,t,r)];case 1:return n.sent(),[2]}})})},e.prototype.setField=function(e,t,r,i){return n(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,a.setField(e,t,r,i)];case 1:return n.sent(),[2]}})})},e.prototype.updateField=function(e,t,r,i){return n(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,a.updateField(e,t,r,i)];case 1:return n.sent(),[2]}})})},e.prototype.onDisconnect=function(e,t){return n(this,void 0,void 0,function(){var r,n,i,l,s;return o(this,function(o){switch(o.label){case 0:return r=e.key,n=e.field,i=e.updates,l=e.ttl,s=t+"/"+r,[4,a.registerOnDisconnect(s,[{operation:"updateField",key:r,field:n,updates:i,ttl:l}])];case 1:return o.sent(),[2]}})})},e.prototype.clearOnDisconnect=function(e,t){return n(this,void 0,void 0,function(){var r;return o(this,function(n){switch(n.label){case 0:return r=t+"/"+e,[4,a.unregisterOnDisconnect(r)];case 1:return n.sent(),[2]}})})},e}();t.default=new l},JwIb:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("Sb6f"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{style:this.getStyle()},i.createElement("div",{style:t.innerStyle},this.props.iconSvg(a({},this.getIconStyle())),i.createElement("div",{style:t.childrenWrapStyle},this.props.children)),this.props.right&&i.createElement("div",{style:t.rightStyle},this.props.right))},t.prototype.getStyle=function(){return a({width:"100%",fontSize:14,fontFamily:l.default.fontFamily.sans,color:this.theme.mediumTextColor,borderRadius:3,background:this.theme.embedPlaceholderBackground,position:"relative"},this.props.style)},t.prototype.getIconStyle=function(){return a({width:25,height:25,flexShrink:0,marginRight:12,fill:this.theme.mediumIconColor},this.props.iconStyle)},t.innerStyle={padding:12,paddingRight:36,display:"flex",alignItems:"center",textAlign:"left",width:"100%",overflow:"hidden"},t.rightStyle={position:"absolute",top:4,right:4},t.childrenWrapStyle={flex:"1",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},t.textPaddingLeftRight=6,t.textPaddingTopBottom=2,t.titleStyle={fontSize:14,lineHeight:"20px"},t.captionStyle={fontSize:12,paddingTop:t.textPaddingTopBottom,paddingBottom:t.textPaddingTopBottom},t.smallButtonStyle=t.captionStyle,t}(r("t+pW").default);t.default=s},Jxif:function(e,t){},K2ja:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{animatingSelectionHalo:!1,animatingDropParentHalo:!1,animatingDropZone:!1,animatingDropZoneHint:!1,animatingHoverMenu:!1,animatingCommentMenu:!1}},t}(r("LEzx").default);t.default=a},"K6K+":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("LvDl"),l=r("17x9"),s=r("r8oj"),u=r("OCqs"),c=r("n8tN"),d=r("EUMY"),p=r("U+cP"),f=r("Qfcx"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getChildrenLimit=t.createComputedStore(function(){var e,r=f.default.state.limitParents;return t.props.store.findRecordStoreAncestor(function(n){var o=r.get(n);return!!o&&(e=o[t.props.store.id],!0)}),e}),t}return o(t,e),t.prototype.getChildContext=function(){return{isInColumnList:!0}},t.prototype.renderPersisted=function(){var e=this,t=this.props.disabled,r=this.stores.columnListStore.state,n=this.getChildrenLimit.state,o=this.props.store.getContentStores();i.isNumber(n)&&(o=i.slice(o,0,n));var l=o.map(function(e,t){return r.dragging&&r.temporaryRatios.hasOwnProperty(e.id)?r.temporaryRatios[e.id]:e.getColumnRatio()}),s=i.sum(l);l=i.map(l,function(e){return e/s});var u=[];return o.forEach(function(r,n){var i=0===n,s=n===o.length-1;u.push(a.createElement(d.default,{key:r.id,store:r,isFirstItem:i,isLastItem:s,numColumns:o.length,ratio:l[n],disabled:t,columnListStore:e.props.store})),s||u.push(a.createElement(p.default,{key:"divider"+r.id,canDrag:e.canEdit(),columnList:e.props.store,leftColumn:r,rightColumn:o[n+1],columnListStore:e.stores.columnListStore}))}),a.createElement("div",{style:this.getStyle()},u)},t.prototype.getStyle=function(){var e={display:"flex"};return s.default.isMobile&&(e.display="block"),e},t.stores={columnListStore:u.default},t.childContextTypes={isInColumnList:l.any},t.topBottomPadding=12,t}(c.default);t.default=h},KCxV:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("7M94"),u=r("zmp8"),c=r("5Nka"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{style:a({position:"relative",transform:"translateZ(0)",width:this.props.width,filter:"drop-shadow(rgba(15, 15, 15, 0.2) 0px 6px 12px)"},this.props.style)},i.createElement("img",{src:c.default.front.iphoneFramePng,style:{width:"100%",display:"block"}}),i.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",background:u.default.white,transform:"translate(-50%, -50%)",width:"calc(375 / 437 * 100%)",height:"calc(667 / 867 * 100%)"}},i.createElement("div",{style:{width:"100%",height:"100%",backgroundImage:'url("'+this.props.src+'")',backgroundSize:"contain"},className:s.fadeIn,key:this.props.src})))},t}(l.default);t.default=d},KJyx:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("gbGO"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{style:this.context.isMobile?this.getCordovaStyle():this.getDesktopStyle()},this.props.children)},t.prototype.getDesktopStyle=function(){return{padding:"4px 14px 8px",fontSize:14}},t.prototype.getCordovaStyle=function(){return{padding:"12px 16px 18px",fontSize:16,background:this.theme.popoverBackground,boxShadow:"0 1px 0 "+this.theme.regularDividerColor,marginBottom:1}},t.contextTypes=a({},s.menuContextTypes),t}(l.default);t.default=u},KSnN:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("EarS"),s=r("hbKx"),u=r("BL9y"),c=r("uwoq"),d=r("wpmu");function p(e,t){return n(this,void 0,void 0,function(){var r;return o(this,function(n){switch(n.label){case 0:return r=t.map(function(t){return d.default.createChildStore(e,t)}),[4,Promise.all(r.map(function(e){return s.loadBlockPath(e)}))];case 1:return n.sent(),[2]}})})}function f(e,t){var r=t.map(function(t){return d.default.createChildStore(e,t)}).map(function(e){return s.getPathStores(e)}).filter(function(t){var r=t.slice(1).find(function(e){return"block"===e.table&&e.isNavigableBlock()});return r&&r.id===e.id}).map(function(e){var t=e.findIndex(function(e){return"block"===e.table&&e.isNavigableBlock()});return e.slice(1,t).filter(function(e){return"block"===e.table&&"toggle"===e.getType()})});return i.uniqBy(i.flatten(r),function(e){return e.id})}function h(e,t){var r,n,o=f(e,t);try{for(var i=a(o),s=i.next();!s.done;s=i.next()){var u=s.value;l.setToggle(u.id,!0)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function m(e,t){return n(this,void 0,void 0,function(){var r;return o(this,function(n){switch(n.label){case 0:return r=f(e,t),[4,Promise.all(r.map(function(e){return u.loadPageSubtree(e)}))];case 1:return n.sent(),[2]}})})}t.getScrollToBlockIds=function(){var e=c.default.state;return"page"===e.route.name&&e.route.scrollToBlockId?[e.route.scrollToBlockId]:e.historyState?e.historyState.blockIds:[]},t.loadScrollToBlockPaths=p,t.openScrollToParentToggles=h,t.loadScrollToParentToggles=m,t.loadScrollToBlocks=function(e,t){return n(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,p(e,t)];case 1:return r.sent(),h(e,t),[4,m(e,t)];case 2:return r.sent(),[2]}})})}},KTXS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("SR/M"),u=r("gbGO"),c=r("r8oj"),d=r("prF1"),p=r("mF3+"),f=r("y6Dp"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this;return i.createElement(d.default,{href:this.props.href,external:!0,onClick:function(){return f.trackClickHelpButton({from:e.props.analyticsFrom})}},i.createElement(s.default,{icon:!this.props.left&&this.renderIcon(),title:this.renderTitle(),focused:!1}))},t.prototype.renderIcon=function(){return p.default.help({width:c.default.isMobile?16:14,fill:this.theme.lightIconColor,marginRight:this.props.left?6:0})},t.prototype.renderTitle=function(){return this.props.left?i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("span",{style:a({},this.getTitleStyle(),{marginRight:"auto"})},this.props.left),this.renderIcon(),i.createElement("span",{style:this.getTitleStyle()},this.props.title)):i.createElement("span",{style:this.getTitleStyle()},this.props.title)},t.prototype.getTitleStyle=function(){return{fontSize:c.default.isMobile?14:12,verticalAlign:1,color:this.theme.lightTextColor}},t.contextTypes=a({},u.menuContextTypes),t}(l.default);t.default=h},KV6v:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{recordMap:new Set}},t}(r("LEzx").default);t.default=new a},KYd6:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("i3uR"),u=r("LeVO"),c=r("t+pW"),d=r("uSCg"),p=r("R14H"),f=r("IEkk"),h=r("mF3+"),m=r("r8oj"),y=r("lOyx"),g=r("VpIZ"),v=r("y6Dp"),b=r("gbGO"),w=r("vJXr"),S=r("5Nka"),_=r("d9nj"),k=r("6rsX"),C=r("7M94"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderOrigin=function(e){if(!m.default.isMobile)return i.createElement(u.default,{placement:u.default.Placement.Bottom,renderTooltip:function(){return"View past changes to this page"},render:function(r){return i.createElement(_.default,a({icon:t.props.blockStore.isFollowing()?h.default.check:void 0},d.default(e,r)),"Updates")}})},t.renderPopup=function(e){var r=t.props.blockStore,n=t.getActivityLogArgs(),o=w.default.state.online,s=r.canEdit();return i.createElement(b.default,{menuType:b.default.MenuType.Popup,className:C.topbarUpdatesMenu,header:i.createElement(l.Fragment,null,i.createElement(p.default,{store:r}),o&&s&&i.createElement(f.default,{store:r}))},i.createElement(y.default,a({key:r.id,empty:t.renderEmptyState("No edits in this page yet."),analyticsContext:"click_page_updates",isTopbarUpdatesMenu:!0,source:"page_updates"},n)))},t.handleClick=function(){k.clear(),v.trackOpenPageUpdates()},t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,{onClick:this.handleClick,disabled:!this.props.spaceStore,popupType:m.default.isMobile?s.default.PopupType.SlideUp:s.default.PopupType.Popup,buttonPopupStore:this.props.buttonPopupStore,renderOrigin:this.renderOrigin,originGap:8,render:this.renderPopup,style:{width:440,overflow:"hidden"}})},t.prototype.renderEmptyState=function(e,t){return i.createElement("div",{style:{marginTop:64,textAlign:"center",paddingLeft:18,paddingRight:18}},i.createElement("img",{src:S.default.images.updatesEmptyStatePng,width:32}),i.createElement("div",{style:{fontSize:14,color:this.theme.mediumTextColor,marginTop:4}},e),t&&i.createElement("div",{style:{marginTop:12}},i.createElement("img",{src:t})))},t.prototype.getActivityLogArgs=function(){var e=this.props.blockStore.id,t=this.props.spaceStore.id,r=this.props.blockStore.getValue();return{navigableBlockId:e,collectionId:r&&g.isCollectionView(r)?r.collection_id:void 0,spaceId:t}},t}(c.default);t.default=E},KcXv:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("zmp8"),o=r("Sb6f");t.baseStyle={color:n.default.defaultText,fill:"currentColor",lineHeight:1.5,fontFamily:o.default.fontFamily.sans},t.itemStyle={paddingTop:3,paddingBottom:3,paddingLeft:2,paddingRight:2},t.default=t.baseStyle},KhO9:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("LvDl"),c=r("q1tI"),d=r("t+pW"),p=r("r8oj"),f=r("wXH4"),h=r("/6eU"),m=r("gbGO"),y=r("gicP"),g=r("WgIs"),v=r("2Y+N"),b=r("SR/M"),w=r("Pl3d"),S=r("bkwR"),_=r("wlCD"),k=r("hfHo"),C=r("fNh0"),E=r("bPtJ"),P=r("5/h/"),x=r("8fuX"),T=r("fonJ"),O=r("OxuQ"),M=r("Oy36"),I=r("ttM1"),A=r("Cycz"),D=r("nFzZ"),L=r("7ovu"),R=r("LeVO"),B=r("uSCg"),j=r("mF3+"),V=r("A9TN"),F=r("BfkC"),N=r("y6Dp"),U=r("j9U3"),W=r("Ng05"),z=r("IULH"),H=r("7M94"),q=r("KTXS"),G=r("qqdV"),Z=r("7KuZ"),Y=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderSnapshotsListRequest=function(){var e=U.default.state;if(e.open){var t={request:{blockId:e.blockStore.id,size:e.size},performRequest:function(t){return r.loadSnapshotsList(t,e)},render:function(t,n,o){return s.createElement(I.default,{show:Boolean(!n||n.snapshots.length>=e.size&&e.openSnapshotNearTimestamp),showDelay:400,showHold:100,render:function(a){return p.default.isMobile?r.renderMobileHistory({snapshotValues:n?n.snapshots:[],menuState:e,error:t,initialLoading:a,loadingMore:!o}):r.renderDesktopHistory({snapshotValues:n?n.snapshots:[],menuState:e,error:t,initialLoading:a,loadingMore:!o})}})}};return s.createElement(w.default,a({},t))}},r.renderMobileHistory=function(e){var n,o;return r.historyIsEnabled()?e.loadingMore||0!==e.snapshotValues.length||(n=r.renderUnavailableMessage(t.noSnapshotsMessage,!1)):n=r.renderUnavailableMessage(t.unavailableMessage),o=e.error?s.createElement("div",{style:t.wrapStyle},"Something went wrong"):e.initialLoading?s.createElement("div",{style:t.wrapStyle},s.createElement(_.default,null)):s.createElement(c.Fragment,null,s.createElement(x.default,{type:x.default.OverflowType.Y},r.renderSnapshotsMenuList(e)),r.renderMobileSnapshotPreview(e.menuState)),s.createElement(m.default,{menuType:m.default.MenuType.Modal,title:"History",left:r.renderMobileHelpButton(),right:"Done",onClickRight:y.closeHistoryModal,header:n},o)},r.renderDesktopHistory=function(e){var n;return n=e.error?s.createElement("div",{style:t.wrapStyle},"Something went wrong"):e.initialLoading?s.createElement("div",{style:t.wrapStyle},s.createElement(_.default,null)):r.historyIsEnabled()?e.menuState.snapshot&&!r.snapshotIsAvailable(e.menuState.snapshot)?r.renderUnavailableMessage(t.restrictedMessage):e.loadingMore||0!==e.snapshotValues.length?r.renderDesktopSnapshotPreview(e.menuState):r.renderUnavailableMessage(t.noSnapshotsMessage,!1):r.renderUnavailableMessage(t.unavailableMessage),s.createElement(c.Fragment,null,s.createElement("div",{style:{display:"flex",flexDirection:"column",width:"calc(100% - "+t.sidebarWidth+"px)",boxShadow:"1px 0 0 "+r.theme.regularDividerColor}},n),r.renderDesktopSidebar(e))},r.renderSnapshotsMenuList=function(e){var n=e.menuState,o=e.loadingMore,i=u.compact(e.snapshotValues.map(function(e){var t=r.snapshotIsAvailable(e);return{key:e.id,action:function(){y.selectSnapshot(e)},render:function(o){var i=e.author_ids||[],l=u.compact(i.map(function(e,t){var r=E.createRecordStore(n.blockStore,P.default.table,e).getValue();if(r)return P.getFullName(r)})).join(", "),c=s.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},l),d=Boolean(n.snapshot&&n.snapshot.id===e.id);if(t){var f=k.default(parseInt(e.timestamp)).format("MMM DD, YYYY h:mm A");return s.createElement(R.default,{key:o.key,render:function(t){return s.createElement(b.default,a({},B.default(o,t),{title:k.default(parseInt(e.timestamp)).calendar(),focused:!p.default.isMobile&&d,caption:c}))},renderTooltip:function(){return s.createElement("div",{style:{maxWidth:270,whiteSpace:"normal"}},s.createElement("div",null,f),s.createElement("div",null,l))}})}var h=!r.historyIsEnabled();return s.createElement(R.default,{key:o.key,render:function(t){return s.createElement(b.default,a({},B.default(t,o),{title:s.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},s.createElement("div",{style:a({},p.default.isMobile&&{display:"flex",flex:1},{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})},k.default(parseInt(e.timestamp)).calendar()),!h&&s.createElement(F.default,{analyticsName:"history_modal",desktopStyle:{marginLeft:8}})),focused:!p.default.isMobile&&d,disabled:h,caption:c}))},renderTooltip:function(){return"Upgrade to view this snapshot."},disableTooltip:!h})}}})),l=n.snapshot&&n.snapshot.id,d=i.findIndex(function(e){return l===e.key}),f=[{key:"snapshots",render:function(e){return s.createElement(v.default,a({},e))},items:i}];return s.createElement(c.Fragment,null,s.createElement(g.default,{initialFocus:d,sections:f}),s.createElement(T.default,{loading:o,fetchSize:n.size,resultSize:e.snapshotValues.length,onLoadMore:y.loadMoreSnapshots}),s.createElement(I.default,{show:o,showDelay:300,showHold:100,render:function(e){return e&&s.createElement("div",{style:t.wrapStyle},s.createElement(_.default,null))}}))},r.handleUpgrade=function(){N.trackClickUpgradeInfoButton({from:"history_modal"}),L.openPlans()},r.loadSnapshotsList=function(e,t){return i(r,void 0,void 0,function(){var r,n,o,i;return l(this,function(l){switch(l.label){case 0:return[4,S.getSnapshotsList(e)];case 1:if("failed"===(r=l.sent()).type)throw r.error;return n=r.data.snapshots,t.openSnapshotNearTimestamp?(o=parseInt(t.openSnapshotNearTimestamp),i=n.findIndex(function(e){return parseInt(e.timestamp)<o}),0===n.length||(0===i?y.selectSnapshot(n[i]):i>0?y.selectSnapshot(n[i-1]):n.length<t.size?y.selectSnapshot(n[n.length-1]):y.loadMoreSnapshots())):Boolean(t.snapshot)||p.default.isMobile||U.default.setState(a({},t,{snapshot:n[0]})),[2,r.data]}})})},r}return o(t,e),t.prototype.renderComponent=function(){var e=U.default.state;return p.default.isMobile?s.createElement(f.default,{popupType:f.default.PopupType.SlideUp,open:e.open,render:this.renderSnapshotsListRequest,onDismiss:y.closeHistoryModal}):s.createElement(h.default,{open:e.open,innerStyle:{height:"80vh",width:"80vw",overflow:"hidden",display:"flex"},onDismiss:y.closeHistoryModal,render:this.renderSnapshotsListRequest,className:H.historyModal})},t.prototype.renderMobileSnapshotPreview=function(e){var r=this;if(this.historyIsEnabled())return s.createElement(f.default,{popupType:f.default.PopupType.SlideUp,open:Boolean(e.snapshot),render:function(){if(e.snapshot){var n=r.snapshotIsAvailable(e.snapshot),o=n?s.createElement(C.default,{blockStore:e.blockStore,timestamp:e.snapshot.timestamp}):r.renderUnavailableMessage(t.restrictedMessage);return s.createElement(m.default,{menuType:m.default.MenuType.Modal,title:k.default(parseInt(e.snapshot.timestamp)).calendar(),right:"Done",onClickRight:y.clearSelectedSnapshot,left:"Restore",onClickLeft:y.restoreSnapshot,whiteBackground:n},o)}}})},t.prototype.renderDesktopSidebar=function(e){var t=e.menuState,r=Boolean(t.snapshot&&this.snapshotIsAvailable(t.snapshot)),n=!this.historyIsEnabled();return s.createElement("div",{style:this.getSidebarStyle()},s.createElement(x.default,{type:x.default.OverflowType.Y,style:{flex:1}},this.renderSnapshotsMenuList(e)),s.createElement("div",{style:{display:"flex",padding:14,borderTop:"\n\t\t\t\t\t\t\t1px solid "+this.theme.regularDividerColor+"\n\t\t\t\t\t\t"}},s.createElement(R.default,{disableTooltip:!n,renderTooltip:function(){return"Upgrade to restore snapshots."},render:function(e){return s.createElement(W.default,a({isLarge:!0,onClick:y.restoreSnapshot,disabled:!r},e),"Restore version")}}),s.createElement(z.default,{isLarge:!0,style:{marginLeft:12},onClick:y.closeHistoryModal},"Cancel")),s.createElement(v.default,{topBorder:!0,disableDesktopPadding:!0},s.createElement(q.default,{title:"Learn about page history",href:G.guides.pageHistory,analyticsFrom:"page_history"})))},t.prototype.renderDesktopSnapshotPreview=function(e){if(e.snapshot)return s.createElement(c.Fragment,null,s.createElement("div",{style:{display:"flex",alignItems:"center",flexShrink:0,height:45,fontSize:14,paddingLeft:14}},e.blockStore.hasIcon()&&s.createElement(M.default,{disabled:!0,icon:e.blockStore.getIcon(),isEmptyPage:e.blockStore.isEmptyPage(),size:t.iconSize,style:{marginRight:6}}),s.createElement(O.default,{store:e.blockStore})),s.createElement(C.default,{blockStore:e.blockStore,timestamp:e.snapshot.timestamp}))},t.prototype.renderUnavailableMessage=function(e,t){return void 0===t&&(t=!0),s.createElement("div",{style:this.getUnavailableMessageStyle()},!p.default.isMobile&&this.renderVersionHistoryIcon(),s.createElement("div",{style:a({},!p.default.isMobile&&{maxWidth:340})},e),!(p.default.isIOS&&p.default.isReactNative)&&t&&s.createElement(W.default,{isLarge:!0,onClick:this.handleUpgrade,style:{marginTop:16}},"Upgrade"))},t.prototype.renderVersionHistoryIcon=function(){return j.default.versionHistory({width:64,height:"auto",fill:this.theme.lightIconColor,marginBottom:12})},t.prototype.renderMobileHelpButton=function(){return s.createElement(Z.default,{href:G.guides.pageHistory,analyticsFrom:"page_history"})},t.prototype.snapshotIsAvailable=function(e){return!!V.default.isAdminMode||!!this.historyIsEnabled()&&(!!A.userIsTier("enterprise")||parseInt(e.timestamp)>Date.now()-30*D.DayMs)},t.prototype.historyIsEnabled=function(){return!!V.default.isAdminMode||(A.userIsTier("personal")||A.userIsTier("team")||A.userIsTier("enterprise"))},t.prototype.getSidebarStyle=function(){return{display:"flex",flexDirection:"column",flexShrink:0,width:t.sidebarWidth}},t.prototype.getUnavailableMessageStyle=function(){return a({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:28,padding:16,textAlign:"center",fontSize:14},p.default.isMobile?{position:"relative",zIndex:1,background:this.theme.popoverBackground,boxShadow:"\n\t\t\t\t\t\t\t0 -1px 0 "+this.theme.regularDividerColor+",\n\t\t\t\t\t\t\t0 1px 0 "+this.theme.regularDividerColor+"\n\t\t\t\t\t\t"}:{height:"100%"})},t.restrictedMessage="Please upgrade to the Enterprise plan to access versions older than 30 days.",t.noSnapshotsMessage="This page does not have any snapshots yet. Allow up to 10 minutes for the first snapshot to be generated.",t.sidebarWidth=240,t.iconSize=p.default.isMobile?24:20,t.unavailableMessage=s.createElement(c.Fragment,null,"Version history is not available for free workspaces.",s.createElement("br",null),"Please upgrade to one of our paid plans."),t.wrapStyle={display:"flex",justifyContent:"center",padding:32},t}(d.default);t.default=Y},KvU1:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l,s=r("LvDl"),u=r("q1tI"),c=r("STAJ"),d=r("i8i4"),p=r("mF3+"),f=r("tzV5"),h=r("nFzZ"),m=r("vTDQ"),y=r("n8tN"),g=r("iZLY"),v=r("g8hj"),b=r("kkaZ"),w=r("5Faa"),S=r("nRJK"),_=r("Oqkh"),k=r("r8oj"),C=r("RPv2"),E=r("iVjn"),P=r("DkKf"),x=r("JZPr"),T=r("VyA+"),O=r("XDBA"),M=r("wweX"),I=r("nDaI"),A=r("njgS"),D=r("RvCr"),L=r("bFnu"),R=r("+575"),B=r("N34Z"),j=r("/YYm"),V=r("H4VD"),F=r("wlCD"),N=r("ttM1"),U=r("X6Ne"),W=r("cYwG"),z=r("EZe4"),H=r("M64d"),q=r("0lqH"),G=r("MBf9"),Z=r("2Yor"),Y=r("lBar"),K=r("mvTP"),J=r("ikHm"),Q=r("y6Dp"),X=r("6rsX"),$=r("x0lk"),ee=r("hi+p"),te=r("AOw3"),re=r("BJyN"),ne=r("nM47"),oe=r("unoy"),ae=r("QcDD"),ie=r("sjR4"),le=r("AmMh"),se=r("ouJW"),ue=r("w5u6"),ce=r("mxzd"),de=r("iICV"),pe=r("zmp8"),fe=r("MeYt");!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down"}(l||(l={}));var he=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderHeaderRowCells=function(e,t,n){var o=r.props,a=o.store,i=o.collectionViewLocalStore,l=o.schema,s=o.query,c=o.collectionStore,d=o.collectionViewStore,p=r.stores.tableStore,f=r.getCurrentFormat(),h=r.showPropertyFormats.state[t],m=t===n.length-1;return u.createElement("div",{key:e,style:r.getHeaderCellWrapStyle()},h&&h.width&&u.createElement(b.default,{format:f,schema:l,query:s,property:e,width:h.width,collectionViewBlockStore:a,collectionStore:c,collectionViewStore:d,collectionViewLocalStore:i,disabled:!r.canEdit()||r.isLocked(),onConfigureFirstRow:r.handleConfigureFirstRow,tableStore:p,isLast:m}),r.canEdit()&&!r.isLocked()&&!k.default.isMobile&&u.createElement(S.default,{leftFormat:h,onTemporaryResize:r.handleTemporaryColumnResize,onAccept:r.handleColumnResizeAccept,onCancel:r.handleTemporaryColumnResizeCancel}))},r.renderAggregation=function(e){var t=r.props,n=t.collectionViewLocalStore,o=t.query,a=t.schema,i=t.disabled,l=r.stores.aggregationRowMouseStore.state.mouseEntered,s=O.getAggregationData(o,"table",n.getCurrentAggregationValueResult(),void 0,e.property),c=r.canEdit();return u.createElement("div",{key:e.property,style:{display:"flex",width:e.width}},u.createElement(I.default,{disabled:i||!c||r.isLocked(),isHovered:l&&c&&!r.isLocked(),aggregation:s.aggregation,aggregationResult:s.aggregationResult,property:e.property,schema:a,onChange:r.handleTableAggregationChange}))},r.getCurrentTopPosition=r.createComputedStore(function(){return r.props.collectionViewScrollStore.state.topPosition}),r.handleScrollOffsetChange=function(e){var t=r.props.collectionViewLocalStore,n=t.state.isLoading;e<m.default.incrementScrollOffset&&!n&&!t.reachedEndOfTableResults()&&f.increment({collectionViewLocalStore:t})},r.handleAddColumnClick=function(){oe.clear(),X.clear(),x.clearSelection(),G.createAndCommit(function(e){var t=f.createNewProperty({collectionViewLocalStore:r.props.collectionViewLocalStore,formatKey:"table_properties",uniqueNamePrefix:"Column",transaction:e});Q.trackCreateProperty({from:"table"}),r.stores.tableStore.setState(a({},r.stores.tableStore.state,{openProperty:t}))})},r.handleColumnReorder=function(e){var t=r.props.collectionViewLocalStore,n=t.state.collectionViewStore;if(n){var o=r.getCurrentFormat(),a=c.sortBy(function(t){var r=e.indexOf(t.property);return r>=0?r:1/0},o.table_properties||[]),i=c.assoc("table_properties",a,o);G.createAndCommit(function(e){f.updateCollectionView({collectionViewStore:n,collectionViewLocalStore:t,update:{format:i},transaction:e})}),Q.trackConfigureView({view_type:"table",action:"table_reorder_columns"})}},r.handleTemporaryColumnResize=function(e){r.stores.tableStore.setState(a({},r.stores.tableStore.state,{temporaryFormat:r.getNewResizeFormat(e)}))},r.handleColumnResizeAccept=function(e){var t=r.props.collectionViewLocalStore,n=t.state.collectionViewStore;if(n){var o=r.getCurrentFormat(),i=c.findIndex(function(t){return t.property===e.property},o.table_properties||[]),l=c.lensPath(["table_properties",i]),s=c.set(l,e,o);G.createAndCommit(function(e){f.updateCollectionView({collectionViewStore:n,collectionViewLocalStore:t,update:{format:s},transaction:e})}),r.stores.tableStore.setState(a({},r.stores.tableStore.state,{temporaryFormat:void 0})),Q.trackConfigureView({view_type:"table",action:"table_resize_columns"})}},r.handleTableAggregationChange=function(e,t){var n=r.props,o=n.collectionViewLocalStore,a=n.query,i=o.state.collectionViewStore;if(i){var l=a.aggregate||[];e&&(l=c.without([e],l)),t&&(l=c.append(t,l));var s=c.assoc("aggregate",l,a);G.createAndCommit(function(e){f.updateCollectionView({collectionViewStore:i,collectionViewLocalStore:o,update:{query:s},transaction:e})})}},r.handleTemporaryColumnResizeCancel=function(){r.stores.tableStore.setState(a({},r.stores.tableStore.state,{temporaryFormat:void 0}))},r.handleDragStart=function(e){r.dragVerticalScrollableAncestor=Y.getVerticalScrollableAncestor(d.findDOMNode(r)),r.dragVerticalScrollableAncestor&&(r.dragStartScrollTop=r.dragVerticalScrollableAncestor.scrollTop),r.dragHorizontalScrollableAncestor=Y.getHorizontalScrollableAncestor(d.findDOMNode(r)),r.dragHorizontalScrollableAncestor&&(r.dragStartScrollLeft=r.dragHorizontalScrollableAncestor.scrollLeft)},r.handleDragMove=function(e){if(P.mouseDidMoveAfterLastMouseDown()&&r.dragVerticalScrollableAncestor&&r.dragHorizontalScrollableAncestor&&!h.isNotDefined(r.dragStartScrollTop)&&!h.isNotDefined(r.dragStartScrollLeft)){var t=r.dragVerticalScrollableAncestor.scrollTop,n=r.dragHorizontalScrollableAncestor.scrollLeft,o=r.getCellPosition(e.startX+(r.dragStartScrollLeft-n),e.startY+(r.dragStartScrollTop-t)),a=r.getCellPosition(e.currentX,e.currentY);x.setSelection({collectionViewBlock:r.props.store,selection:{start:o,end:a}})}},r.handleDragEnd=function(){r.dragVerticalScrollableAncestor=void 0,r.dragStartScrollTop=void 0},r.handleDragCancel=function(){r.dragVerticalScrollableAncestor=void 0,r.dragStartScrollTop=void 0,x.clearSelection()},r.handleLeft=function(e){if(!k.default.isMobile){e.preventDefault(),de.default.setKeyboardMode(!0);var t=r.getNormalizedTableSelection();t&&(x.arrowLeft({collectionViewBlock:r.props.store,selection:t,shiftKey:e.shiftKey,columnCount:r.getCurrentColumnCount(),rowCount:r.getCurrentRows().length}),r.updateSelectionScroll(l.Left))}},r.handleRight=function(e){if(!k.default.isMobile){e.preventDefault(),de.default.setKeyboardMode(!0);var t=r.getNormalizedTableSelection();t&&(x.arrowRight({collectionViewBlock:r.props.store,selection:t,columnCount:r.getCurrentColumnCount(),rowCount:r.getCurrentRows().length,shiftKey:e.shiftKey}),r.updateSelectionScroll(l.Right))}},r.handleUp=function(e){if(!k.default.isMobile){e.preventDefault(),de.default.setKeyboardMode(!0);var t=r.getNormalizedTableSelection();t&&(x.arrowUp({collectionViewBlock:r.props.store,selection:t,shiftKey:e.shiftKey}),r.updateSelectionScroll(l.Up))}},r.handleDown=function(e){if(!k.default.isMobile){e.preventDefault(),de.default.setKeyboardMode(!0);var t=r.getNormalizedTableSelection();t&&(x.arrowDown({collectionViewBlock:r.props.store,selection:t,rowCount:r.getCurrentRows().length,shiftKey:e.shiftKey}),r.updateSelectionScroll(l.Down))}},r.handleEnter=function(e){if(!k.default.isMobile){e.preventDefault(),de.default.setKeyboardMode(!0);var t=r.props.schema,n=r.getNormalizedTableSelection();if(n){var o=r.getCurrentRows(),a=o[n.start.y],l=r.showPropertyFormats.state[n.start.x].property,s=t[l];if(s&&r.canEdit())if(c.contains(s.type,A.noPropertyValueOverlayTypes)){if("checkbox"===s.type){var u=a.getPropertyStore(l),d=R.toCheckboxValue(u.getValue()),p=o.slice(n.start.y,n.end.y+1);G.createAndCommit(function(e){var t,r;try{for(var n=i(p),o=n.next();!o.done;o=n.next()){var a=o.value;B.setValue({store:a.getPropertyStore(l),value:R.fromCheckboxValue(!d),transaction:e})}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}})}}else M.open({blockPropertyValueOverlayStore:r.props.blockPropertyValueOverlayStore,store:a,property:l,format:q.BlockPropertyValueFormat.Table}),x.clearSelection()}}},r.handleTab=function(e){if(!k.default.isMobile){e.preventDefault(),de.default.setKeyboardMode(!0);var t=r.getNormalizedTableSelection();t&&(x.arrowRight({collectionViewBlock:r.props.store,selection:t,columnCount:r.getCurrentColumnCount(),rowCount:r.getCurrentRows().length,shiftKey:!1}),r.updateSelectionScroll(l.Right))}},r.handleUntab=function(e){if(!k.default.isMobile){e.preventDefault(),de.default.setKeyboardMode(!0);var t=r.getNormalizedTableSelection();t&&(x.arrowLeft({collectionViewBlock:r.props.store,selection:t,shiftKey:!1,columnCount:r.getCurrentColumnCount(),rowCount:r.getCurrentRows().length}),r.updateSelectionScroll(l.Left))}},r.handleEsc=function(e){if(!k.default.isMobile){e.preventDefault(),de.default.setKeyboardMode(!0);var t=r.getNormalizedTableSelection();if(x.clearSelection(),t){var n=C.getSelectionSpan(t),o=r.getCurrentRows().slice(n.minY,n.maxY+1);X.setSelection({stores:o})}}},r.handleDelete=function(e){if(!k.default.isMobile){var t=r.getNormalizedTableSelection();t&&r.canEdit()&&G.createAndCommit(function(e){x.deleteSelection({collectionViewBlock:r.props.store,selection:t,currentPropertyFormats:r.showPropertyFormats.state,currentRows:r.getCurrentRows(),transaction:e})})}},r.handleCut=function(e){if(!k.default.isMobile){var t=r.getNormalizedTableSelection(),n=r.props.collectionViewLocalStore.getNormalizedSchema();t&&r.canEdit()&&G.createAndCommit(function(o){x.cutSelection({collectionViewBlock:r.props.store,schema:n,selection:t,currentPropertyFormats:r.showPropertyFormats.state,currentRows:r.getCurrentRows(),event:e,transaction:o})})}},r.handleCopy=function(e){if(!k.default.isMobile){var t=r.getNormalizedTableSelection(),n=r.props.collectionViewLocalStore.getNormalizedSchema();t&&x.copySelection({collectionViewBlock:r.props.store,schema:n,selection:t,currentPropertyFormats:r.showPropertyFormats.state,currentRows:r.getCurrentRows(),event:e})}},r.handlePaste=function(e){if(!k.default.isMobile){var t=r.props,n=t.collectionStore,o=t.collectionViewLocalStore,a=r.getNormalizedTableSelection();a&&r.canEdit()&&G.createAndCommit(function(t){x.pasteSelection({collectionViewLocalStore:o,collectionStore:n,collectionViewBlock:r.props.store,selection:a,currentPropertyFormats:r.showPropertyFormats.state,currentRows:r.getCurrentRows(),event:e,transaction:t})})}},r.handleCommandEnter=function(e){if(!k.default.isMobile){var t=r.getNormalizedTableSelection(),n=ae.default.state.currentBlockStore;if(t&&n){var o=r.getCurrentRows()[t.start.y],a=j.default({store:n,fullyQualified:!1,peekViewBlockId:o.id});V.navigate({url:a})}}},r.handleCommandShiftEnter=function(e){if(!k.default.isMobile){var t=r.getNormalizedTableSelection();if(t){var n=r.getCurrentRows()[t.start.y],o=j.default({store:n,fullyQualified:!1});V.navigateToExternalURL({url:o})}}},r.handleKeypress=function(e){if(!k.default.isMobile&&e.key&&!e.metaKey&&!e.ctrlKey){e.preventDefault(),de.default.setKeyboardMode(!0);var t=r.props.schema,n=r.getNormalizedTableSelection();if(n){var o=r.getCurrentRows()[n.start.y],a=r.showPropertyFormats.state[n.start.x].property,i=t[a];i&&r.canEdit()&&c.contains(i.type,A.insertStringOverlayTypes)&&e.key&&1===e.key.length&&(M.open({blockPropertyValueOverlayStore:r.props.blockPropertyValueOverlayStore,store:o,property:a,format:q.BlockPropertyValueFormat.Table,insertChar:e.key}),x.clearSelection())}}},r.handlePropertyTab=function(){if(!k.default.isMobile){var e=r.props.blockPropertyValueOverlayStore.state;if(e.isOpen){var t=e.store,n=e.property,o=r.getCellPositionOfStore(t,n),a=r.showPropertyFormats.state,i={x:Math.min(o.x+1,a.length-1),y:o.y};x.setSelection({collectionViewBlock:r.props.store,selection:{start:i,end:i}}),r.updateSelectionScroll(l.Right),M.close({blockPropertyValueOverlayStore:r.props.blockPropertyValueOverlayStore})}}},r.handlePropertyUntab=function(){if(!k.default.isMobile){var e=r.props.blockPropertyValueOverlayStore.state;if(e.isOpen){var t=e.store,n=e.property,o=r.getCellPositionOfStore(t,n),a={x:Math.max(o.x-1,0),y:o.y};x.setSelection({collectionViewBlock:r.props.store,selection:{start:a,end:a}}),r.updateSelectionScroll(l.Left),M.close({blockPropertyValueOverlayStore:r.props.blockPropertyValueOverlayStore})}}},r.handlePropertyEnter=function(){var e=r.props.collectionViewLocalStore,t=r.props.blockPropertyValueOverlayStore.state;if(t.isOpen)if(k.default.isMobile)x.clearSelection();else{var n=t.store,o=t.property,a=r.getCellPositionOfStore(n,o),i=r.getCurrentRows();if(a.y+1>=i.length&&ne.validateCanCreate()){var s=r.getCurrentRows();G.createAndCommit(function(t){var r=e.state.collectionStore;r&&D.createBlockInGroup({parentStore:r,collectionViewLocalStore:e,group:void 0,results:s,insertAtStart:!1,coerce:!0,transaction:t})})}var u={x:a.x,y:a.y+1};x.setSelection({collectionViewBlock:r.props.store,selection:{start:u,end:u}}),r.updateSelectionScroll(l.Down),M.close({blockPropertyValueOverlayStore:r.props.blockPropertyValueOverlayStore})}},r.handlePropertyClick=function(){x.clearSelection()},r.handlePropertyEsc=function(){var e=r.props.blockPropertyValueOverlayStore.state;if(e.isOpen){var t=e.store,n=e.property,o=r.getCellPositionOfStore(t,n);k.default.isMobile?x.clearSelection():x.setSelection({collectionViewBlock:r.props.store,selection:{start:o,end:o}}),r.updateSelectionScroll(l.Down),M.close({blockPropertyValueOverlayStore:r.props.blockPropertyValueOverlayStore})}},r.handlePropertyOpenProperty=function(e){var t=r.props.blockPropertyValueOverlayStore.state;if(t.isOpen){var n=t.store;M.open({blockPropertyValueOverlayStore:r.props.blockPropertyValueOverlayStore,store:n,property:e,format:q.BlockPropertyValueFormat.Table})}},r.handlePropertyContextMenu=function(e){e.preventDefault();var t=r.getCurrentRows(),n=r.getNormalizedTableSelection(),o=r.getCellPosition(e.clientX,e.clientY),a=!1;if(n){var i=Math.min(n.start.y,n.end.y),l=Math.max(n.start.y,n.end.y);if(o.y>=i&&o.y<=l){var s=t.slice(i,l+1);s.length>0&&(X.setSelection({stores:s}),X.select({store:s[0]}),ee.showAtPosition({stores:ie.default.state.stores,left:e.clientX,top:e.clientY,actions:re.blockActions,showInput:!0,analyticsFrom:"content_block_menu"}),a=!0)}}if(!a){var u=t[o.y];u&&(X.select({store:u}),ee.showAtPosition({stores:ie.default.state.stores,left:e.clientX,top:e.clientY,actions:re.blockActions,showInput:!0,analyticsFrom:"content_block_menu"}))}},r.handleAddRowClick=function(){if(ne.validateCanCreate()){var e=r.props.collectionViewLocalStore,t=r.getCurrentRows();G.createAndCommit(function(n){var o=e.state.collectionStore;if(o){var a=D.createBlockInGroup({parentStore:o,collectionViewLocalStore:e,group:void 0,results:t,insertAtStart:!1,coerce:!0,transaction:n});if(k.default.isMobile){var i=j.default({store:a,fullyQualified:!1});V.navigate({url:i})}else ue.default.afterNextFlush(function(){ue.default.afterNextFlush(function(){M.open({blockPropertyValueOverlayStore:r.props.blockPropertyValueOverlayStore,store:a,property:"title",format:q.BlockPropertyValueFormat.Table})})});Q.trackCreateBlock({from:"table_add_item_bottom",type:"page"})}})}},r.handleRowSelectableEnter=function(e){var t=r.getCurrentRows(),n=e.blocks.map(function(e){return t.indexOf(e)}),o=s.min(n)||0,a=s.max(n)||0;o>=0&&a>=0&&x.setSelection({collectionViewBlock:r.props.store,selection:{start:{x:0,y:o},end:{x:0,y:a}}})},r.captureEditorMouseDown=function(e){z.default({event:e,context:z.EventContext.EditorMouseDown,callback:function(){}})},r.handleHeaderRowMount=function(e){r.headerRowEl=e},r.handleAggregationRowMount=function(e){r.aggregationRowEl=e},r.handleSelectionOverlayMount=function(e){r.selectionOverlayEl=e},r.handleRowsWrapMount=function(e){r.rowsWrapEl=e},r.handleScrollStoreChange=function(){var e=r.props.collectionViewScrollStore.state,n=e.topPosition,o=e.bottomPosition,a=e.offsetTop,i=e.offsetBottom,l=r,s=l.headerRowEl,u=l.aggregationRowEl;s&&(n===K.HeaderPosition.Regular||r.props.isInPeekRenderer?(s.style.transform=null,s.style.bottom=null):n===K.HeaderPosition.Fixed?(s.style.transform="translate3d(0, "+a+"px, 0)",s.style.bottom=null):n===K.HeaderPosition.Sticky&&(s.style.transform=null,s.style.bottom=t.aggregationRowHeight+r.props.paddingBottom+"px")),u&&(o===K.HeaderPosition.Regular||r.props.isInPeekRenderer?(u.style.transform=null,u.style.top=null,u.style.boxShadow="0 -1px 0 "+r.theme.regularDividerColor):o===K.HeaderPosition.Fixed?(u.style.transform="translate3d(0, "+i+"px, 0)",u.style.top=null,u.style.boxShadow="0 -1px 0 "+r.theme.regularDividerColor):o===K.HeaderPosition.Sticky&&(u.style.transform=null,u.style.top=t.tableHeaderRowHeight+"px",u.style.boxShadow="0 -1px 0 "+r.theme.regularDividerColor))},r.handleConfigureFirstRow=function(e){var t=r.props,n=t.schema,o=t.collectionViewLocalStore,a=o.state.collectionStore,i=n[e];if(i&&a){var l=r.getCurrentRows(),s=l[0];s||G.createAndCommit(function(e){s=D.createBlockInGroup({parentStore:a,collectionViewLocalStore:o,group:void 0,results:l,insertAtStart:!0,coerce:!0,transaction:e})}),r.canEdit()&&ue.default.afterNextFlush(function(){if("number"===i.type){var t=se.default.findBlockPropertyValue(s,e);t&&t.openNumberFormat()}else M.open({blockPropertyValueOverlayStore:r.props.blockPropertyValueOverlayStore,store:s,property:e,format:q.BlockPropertyValueFormat.Table});x.clearSelection()})}},r.handleAggregationRowEnter=function(){r.stores.aggregationRowMouseStore.enter()},r.handleAggregationRowLeave=function(){r.stores.aggregationRowMouseStore.exit()},r.showPropertyFormats=r.createComputedStore(function(){return r.getTableProperties().filter(function(e){return e.visible})}),r.isTableSelected=r.createComputedStore(function(){var e=ce.default.state;return e.isActive&&e.collectionViewBlock===r.props.store}),r}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),t.collectionViewScrollStore.addListener(this.handleScrollStoreChange)},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),this.props.collectionViewScrollStore.removeListener(this.handleScrollStoreChange)},t.prototype.didMount=function(){e.prototype.didMount.call(this),this.handleScrollStoreChange()},t.prototype.renderPersisted=function(){var e=this.isTableSelected.state;return u.createElement(T.default,{capture:e,onLeft:this.handleLeft,onRight:this.handleRight,onUp:this.handleUp,onDown:this.handleDown,onEnter:this.handleEnter,onTab:this.handleTab,onUntab:this.handleUntab,onEsc:this.handleEsc,onDelete:this.handleDelete,onBackspace:this.handleDelete,onCut:this.handleCut,onCopy:this.handleCopy,onPaste:this.handlePaste,onCommandEnter:this.handleCommandEnter,onCommandShiftEnter:this.handleCommandShiftEnter,onKeypress:this.handleKeypress},u.createElement(W.default,{onChange:this.handleScrollOffsetChange},this.renderTable()))},t.prototype.renderTable=function(){var e=this,r=this.props,n=r.store,o=r.paddingBottom,i=r.paddingLeft,l=r.paddingRight,s=r.isFullScreen;return H.default(function(r){return u.createElement("div",{style:a({},t.style,{paddingBottom:o,paddingLeft:i,paddingRight:l})},u.createElement(te.default,a({store:n,shouldShowHalo:!s,canSelect:!s,analyticsName:"table"},r),e.renderHeaderRow(),u.createElement("div",{style:{height:t.tableHeaderRowHeight}}),e.renderRows(),e.canEdit()&&e.renderAddRowButton(),e.renderAggregationRow(),u.createElement("div",{style:{height:t.aggregationRowHeight}})))})},t.prototype.renderHeaderRow=function(){var e=this.showPropertyFormats.state.map(function(e){return e.property});return u.createElement("div",{style:this.getHeaderRowStyle(),ref:this.handleHeaderRowMount},k.default.isMobile||!this.canEdit()||this.isLocked()?u.createElement("div",{style:v.default.horizontalStyle},e.map(this.renderHeaderRowCells)):u.createElement(v.default,{direction:v.DraggableListDirection.Horizontal,keys:e,renderKey:this.renderHeaderRowCells,onDrop:this.handleColumnReorder,isFullWidth:!1}),this.canEdit()&&!this.isLocked()&&this.renderAddColumnButton())},t.prototype.renderRows=function(){var e=this,t=this.props,r=t.collectionViewLocalStore,n=t.disabled,o=this.getCurrentFormat(),i=r.state.collectionStore;if(i){var l=this.props,s=l.collectionViewStore,c=l.schema,d=l.blockPropertyValueOverlayStore,p=this.showPropertyFormats.state,f=u.createElement(g.default,{parentStore:i,collectionViewLocalStore:r,group:void 0,format:o,canDrag:this.canEdit()&&k.default.isMobile,resultProps:{schema:c,collectionViewStore:s,collectionViewBlockStore:this.props.store,collectionStore:i,propertyFormats:p,onPropertyTab:this.handlePropertyTab,onPropertyUntab:this.handlePropertyUntab,onPropertyEnter:this.handlePropertyEnter,onPropertyClick:this.handlePropertyClick,onPropertyEsc:this.handlePropertyEsc,onPropertyBgClick:this.handlePropertyEsc,onPropertyContextMenu:this.handlePropertyContextMenu,onOpenProperty:this.handlePropertyOpenProperty,disabled:n,blockPropertyValueOverlayStore:d,locked:this.isLocked()},resultComponent:w.default,disabled:n,direction:g.CollectionGroupDirection.Vertical,itemSelectableStyle:this.getItemSelectableStyle(),shouldShowHoverMenu:!0,analyticsName:"table",emptyDroppableSize:0,onSelectableEnter:this.handleRowSelectableEnter});return k.default.isMobile?u.createElement("div",{ref:this.handleRowsWrapMount},f):u.createElement(E.default,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,render:function(t){return u.createElement("div",a({style:{position:"relative",minWidth:e.props.minWidth}},t,{ref:e.handleRowsWrapMount}),f,e.renderSelectionOverlay())}})}},t.prototype.renderAddColumnButton=function(){return u.createElement(fe.default,{style:t.addColumnStyle,onMouseDown:this.captureEditorMouseDown,onClick:this.handleAddColumnClick},u.createElement("div",{style:t.addColumnIconWrapStyle},p.default.plus({width:12,fill:this.theme.mediumIconColor})))},t.prototype.renderAggregationRow=function(){var e=this.showPropertyFormats.state;return u.createElement("div",{style:this.getAggregationsRowStyle(),onMouseMove:this.handleAggregationRowEnter,onMouseLeave:this.handleAggregationRowLeave,ref:this.handleAggregationRowMount,onMouseDown:this.captureEditorMouseDown},this.renderLoadingSpinner(),e.map(this.renderAggregation))},t.prototype.renderAddRowButton=function(){return u.createElement(fe.default,{onClick:this.handleAddRowClick,style:{display:"flex",alignItems:"center",height:t.addRowButtonHeight,width:"100%",paddingLeft:8,paddingBottom:2,fontSize:14}},p.default.plus(this.getNewRowButtonIconStyle()),u.createElement("span",{style:{color:this.theme.lightTextColor}},"New"))},t.prototype.renderLoadingSpinner=function(){var e=this.props.collectionViewLocalStore.state.isLoading;return u.createElement(N.default,{show:e,showDelay:500,showHold:200,render:function(e){return e?u.createElement("div",{style:t.loadingSpinnerWrapStyle},u.createElement(F.default,{style:t.loadingSpinnerStyle})):void 0}})},t.prototype.renderSelectionOverlay=function(){var e=this.getNormalizedTableSelection();if(e){var t=this.getCellRect(e.start),r=this.getCellRect(e.end),n=Math.min(t.left,r.left),o=Math.min(t.top,r.top),a=Math.max(t.right,r.right),i=Math.max(t.top+t.height,r.top+r.height);return u.createElement("div",{style:{position:"absolute",top:0,left:0,pointerEvents:"none"},ref:this.handleSelectionOverlayMount},u.createElement("div",{style:{position:"absolute",left:n,top:o,width:a-n,height:i-o,background:pe.default.blueWithAlpha(.15)}}),u.createElement("div",{style:{position:"absolute",left:t.left,top:t.top,width:t.width,height:t.height,border:"1px solid "+pe.default.blueWithAlpha(.6),zIndex:this.getCurrentTopPosition.state===K.HeaderPosition.Regular?J.fixedCollectionHeader:"auto"}}))}},t.prototype.getCurrentFormat=function(){var e=this.props.format,t=this.stores.tableStore.state.temporaryFormat;return t||e},t.prototype.getNewResizeFormat=function(e){var t=this.getCurrentFormat(),r=c.findIndex(function(t){return t.property===e.property},this.getTableProperties()),n=c.lensPath(["table_properties",r]);return c.set(n,e,t)},t.prototype.getRowsWrapRect=function(){return this.rowsWrapEl?this.rowsWrapEl.getBoundingClientRect():void 0},t.prototype.getTableProperties=function(){var e=this.getCurrentFormat();return e&&e.table_properties?e.table_properties:[]},t.prototype.getCellRect=function(e){var t=this.showPropertyFormats.state,r=this.getCurrentRows()[e.y],n=le.default.getRectFromStore(r);if(!n||!this.rowsWrapEl)return $.zero;for(var o=this.rowsWrapEl.getBoundingClientRect(),a=n.height,i=n.top-o.top-1,l=t[e.x].width||0,s=a+1,u=0,c=0;c<e.x;c++){var d=t[c];d.width&&(u+=d.width)}return{left:u-1,top:i,width:l+1,height:s,bottom:i+s,right:u+l}},t.prototype.getCellPosition=function(e,t){var r=this.getRowsWrapRect();if(!r)return{x:0,y:0};for(var n=this.getCurrentRows(),o=this.showPropertyFormats.state,a=e-r.left,i=t-r.top,l=0,s=0,u=0;u<n.length;u++){var c=n[u],d=le.default.getRectFromStore(c);if(!d)return{x:0,y:0};if(s>=i)break;l=u,s+=d.height}l=Math.max(l,0),l=Math.min(l,n.length-1);var p=0,f=0;for(u=0;u<o.length;u++){var h=o[u];if(f>=a)break;p=u,h.width&&(f+=h.width)}return p=Math.max(p,0),{x:p=Math.min(p,o.length-1),y:l}},t.prototype.getCurrentColumnCount=function(){return this.showPropertyFormats.state.length},t.prototype.getCurrentRows=function(){var e=this.props.collectionViewLocalStore,t=e.state.collectionStore;return t?O.getGroupResultStores(void 0,e,t):[]},t.prototype.getCellPositionOfStore=function(e,t){var r=this.getCurrentRows();return{x:this.showPropertyFormats.state.findIndex(function(e){return e.property===t}),y:r.findIndex(function(t){return e===t})}},t.prototype.updateSelectionScroll=function(e){var t=this.getNormalizedTableSelection();if(t){var r=void 0;r=e===l.Down?t.start.y>t.end.y?t.start:t.end:e===l.Up?t.start.y<t.end.y?t.start:t.end:e===l.Right?t.start.x>t.end.y?t.start:t.end:t.start.x<t.end.y?t.start:t.end;var n=this.getCurrentRows()[r.y],o=this.showPropertyFormats.state[r.x].property,a=se.default.findBlockPropertyValue(n,o);U.scrollIntoView({component:a,paddingToTopEdge:96,paddingToBottomEdge:48})}},t.prototype.getNormalizedTableSelection=function(){var e=ce.default.state;if(e.isActive&&e.collectionViewBlock===this.props.store){var t=this.getCurrentColumnCount(),r=this.getCurrentRows().length,n=e.selection;return{start:{x:Z.default(n.start.x,0,t-1),y:Z.default(n.start.y,0,r-1)},end:{x:Z.default(n.end.x,0,t-1),y:Z.default(n.end.y,0,r-1)}}}},t.prototype.isLocked=function(){return this.props.store.isLocked()},t.prototype.getHeaderCellWrapStyle=function(){return{display:"flex",position:"relative"}},t.prototype.getHeaderRowStyle=function(){return{display:"flex",position:"absolute",background:this.theme.contentBackground,zIndex:J.fixedCollectionHeader,height:t.tableHeaderRowHeight-1,color:this.theme.mediumTextColor,borderTop:"1px solid "+this.theme.darkDividerColor,boxShadow:"\n\t\t\t\t-3px 0 0 "+this.theme.contentBackground+",\n\t\t\t\t0 1px 0 "+this.theme.darkDividerColor+"\n\t\t\t",minWidth:this.props.minWidth}},t.prototype.getAggregationsRowStyle=function(){return{display:"flex",position:"absolute",background:this.theme.contentBackground,zIndex:J.fixedCollectionHeader,fontSize:14,marginTop:-1,height:t.aggregationRowHeight+(this.props.isFullScreen?ae.default.scrollbarWidth:0)+1,minWidth:this.props.minWidth,paddingRight:this.canEdit()&&!this.isLocked()?32:0}},t.prototype.getItemSelectableStyle=function(){return{display:"flex",borderBottom:"1px solid "+this.theme.darkDividerColor}},t.prototype.getNewRowButtonIconStyle=function(){return{width:14,height:14,marginLeft:-1,marginRight:6,fill:this.theme.lightIconColor}},t.stores={tableStore:_.default,aggregationRowMouseStore:L.default},t.tableHeaderRowHeight=34,t.aggregationRowHeight=32,t.addRowButtonHeight=32,t.style={position:"relative",float:"left",minWidth:"100%"},t.addColumnIconWrapStyle={display:"flex",width:32,height:"100%",alignItems:"center",justifyContent:"center"},t.addColumnStyle={display:"flex",justifyContent:"flex-start",flexGrow:1,width:32},t.loadingSpinnerWrapStyle={display:"flex",alignItems:"center",flexDirection:"column",position:"absolute",zIndex:1},t.loadingSpinnerStyle={margin:7,width:18,height:18},t}(y.default);t.default=he},KyHi:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{userInputValue:"",temporaryUserIds:[]}},t}(r("LEzx").default);t.default=a},KzlM:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("MeYt"),u=r("enKW"),c=r("zmp8"),d=r("Sb6f"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,r=e.title,n=e.actionButton,o=e.onClick;return i.createElement(s.default,{onClick:o,style:this.getButtonStyle()},this.renderIcon(),i.createElement("div",{style:{minWidth:0,width:"100%"}},i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:t.titleStyle},r),i.createElement("div",{style:{marginLeft:"auto"}},n)),this.renderCaption()))},t.prototype.renderIcon=function(){var e=this.props,r=e.icon,n=e.logo;return n?i.createElement("img",{style:t.imageIconStyle,src:n}):r?i.createElement("div",{style:this.getIconWrapStyle()},r(this.getIconStyle())):void 0},t.prototype.renderCaption=function(){var e=this.props.caption;if(e)return i.createElement("div",{style:this.getCaptionStyle()},e)},t.prototype.getButtonStyle=function(){return{display:"flex",alignItems:this.props.caption?"flex-start":"center",padding:10,paddingRight:8,borderRadius:3,marginBottom:12,cursor:"pointer",boxShadow:u.getShadow({elevation:2,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity}),transition:"background 200ms ease-out",background:this.theme.contentBackground}},t.prototype.getIconWrapStyle=function(){return{display:"flex",alignItems:"center",justifyContent:"center",width:t.iconSize,height:t.iconSize,borderRadius:3,marginRight:8,color:this.theme.mediumTextColor,background:this.theme.sidebarBackground}},t.prototype.getIconStyle=function(){return{flexShrink:0,width:t.iconSize,height:t.iconSize}},t.prototype.getCaptionStyle=function(){return a({fontSize:12,color:this.theme.mediumTextColor},!this.props.shouldWrapCaption&&{whiteSpace:"nowrap"},{overflow:"hidden",textOverflow:"ellipsis"})},t.iconSize=28,t.imageIconStyle={flexShrink:0,width:t.iconSize,height:t.iconSize,borderRadius:3,marginRight:8,background:c.default.white},t.titleStyle={fontSize:16,fontWeight:d.default.fontWeight.medium},t}(l.default);t.default=p},"L/h7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("yjqD"),o=r("S26v"),a=0,i="notion_jsonp_callback_";t.default=function(e){var t=n.deferred(),r=document.createElement("script");r.type="text/javascript";var l,s=(l=i+a,a++,l);window[s]=function(e){delete window[s],r.parentNode&&r.parentNode.removeChild(r),t.resolve(e)};var u=o.addQueryParams(e,{callback:s});return r.src=u,r.onerror=function(e){delete window[s],r.parentNode&&r.parentNode.removeChild(r),t.reject(e)},document.head&&document.head.appendChild(r),t.promise}},L4S0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("q1tI"),o=r("WHWW"),a=r("WxaJ"),i=r("EZe4");var l={render:function(e){var t=e.disabled,r=e.contentStyle,l=e.contentWrapStyle,s=e.handleFullScreen,u=e.handleEmbedComp,c=e.height,d=e.preserveScale,p=e.isFullWidth,f=e.source;return n.createElement(a.default,{url:f,permissionRecord:{table:e.store.table,id:e.store.id},render:function(e,a,f){return f?n.createElement("div",{style:l,onClick:t?s:void 0,onMouseDown:i.captureEditorMouseDown},n.createElement("div",{style:{position:"relative"}},a&&n.createElement(o.default,{ref:function(e){return u(e)},source:a,height:c,style:r,preserveScale:d,isFullWidth:p,background:!0}))):n.createElement("div",null)}})},embedGhost:!0,renderFullScreen:function(e){var t=e.height,r=e.source,i=e.contentStyle;return n.createElement(a.default,{url:r,permissionRecord:{table:e.store.table,id:e.store.id},render:function(e,a){return n.createElement(o.default,{source:r,isFullWidth:!0,isFullHeight:!0,height:t,style:i,background:!0})}})},resizable:!0};t.default=l},"LB1/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o=r("g90h"),a=r("S26v");t.getCreditId=function(e){return"invited_user"===e.type?o.deterministicID(e.type+":"+e.user_id+":"+e.to_user_id):(e.type,o.deterministicID(e.type+":"+e.user_id))},t.creditValueMap={web_login:500,desktop_login:500,mobile_login:500,invited_user:500,invited_by_user:1e3,import_evernote:500,browser_extension:300,mobile_share_sheet:300},t.userMaxCredits=2e4,t.creditActionDescriptionMap={web_login:"Signing in from the web app",desktop_login:"Signing in from the desktop app",mobile_login:"Signing in from the mobile app",invited_user:"Inviting people to Notion",invited_by_user:"Getting invited to Notion",import_evernote:"Importing from Evernote",browser_extension:"Save a link using the web clipper",mobile_share_sheet:"Save a link using the mobile share sheet"},t.referralUserIdQueryKey="r",t.getReferralUrl=function(e){var r;return a.makeUrl({url:e.baseUrl,query:(r={},r[t.referralUserIdQueryKey]=o.withoutDashes(e.userId),r)})};var i=new Date("10/24/18").getTime();t.userCanActivateLoginCredit=function(e){return e.settings&&e.settings.signup_time&&e.settings.signup_time>=i};var l={table:"credit",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,user_id:n.default.UUID,amount:n.default.Number,created_timestamp:n.default.Number,type:n.default.String,to_user_id:n.default.UUID,activated:n.default.Boolean,from_user_id:n.default.UUID,sent_email:n.default.Boolean}};t.default=l},LEzx:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("Z6+j"),l=r("d933"),s=r("YMM9"),u=r("mgru"),c=r("E5KU"),d=function(e){function t(){var t=e.call(this)||this;return t.debug=!1,t.shouldEmit=!0,t.instanceState=t.getInitialState(),t}return o(t,e),t.prototype.getState=function(){if(this.shouldEmit){var e=l.default.currentListener;e&&e.logStoreAccess(this)}return this.instanceState},Object.defineProperty(t.prototype,"state",{get:function(){return this.getState()},enumerable:!0,configurable:!0}),t.prototype.setState=function(e){u.default(this.instanceState,e)||(this.instanceState=e,this.emit())},t.prototype.reset=function(){this.setState(this.getInitialState())},t.prototype.emit=function(){this.shouldEmit&&(s.logStoreEmit(this),this.debug&&(c.log("emit: ",this.constructor.name,a.cloneDeep(this.instanceState)),c.trace()),e.prototype.emit.call(this,this))},t.prototype.addListener=function(t){this.shouldEmit&&e.prototype.addListener.call(this,t)},t.prototype.removeListener=function(t){this.shouldEmit&&e.prototype.removeListener.call(this,t)},t.prototype.waitUntil=function(e){var t=this;return e()?Promise.resolve():new Promise(function(r){t.addListener(function n(){e()&&(t.removeListener(n),r())})})},t.prototype.getInitialState=function(){return{}},t}(i.default);t.default=d},LKv3:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("t+pW"),u=r("wpmu"),c=r("2m/B"),d=r("1y3T"),p=r("QTGx"),f=r("+575"),h=r("F1uM"),m=r("XDBA"),y=r("0GcB"),g=r("r8oj"),v=r("wS9/"),b=r("XBB3"),w=r("WPWl"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderContentBlock=function(e){var r=t.props.store,n=u.default.createChildStore(r,e),o=p.getBlockRenderer(n);if(o)return i.createElement(o,{key:e,store:n,disabled:!0,hideContent:!0,style:{fontSize:12,opacity:.8,pointerEvents:"none"},isQuickFind:!0})},t.coverStore=t.createComputedStore(function(){var e=t.props.store,r=m.getBlockContentCover(e);return r.image?r.image:r.blockIds}),t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.coverFormat;return"page_cover"===e.type?this.renderPageCover():"page_content"===e.type?this.renderPageContent():"property"===e.type?this.renderProperty(e.property):void 0},t.prototype.renderPageCover=function(){var e=this,t=this.props.store.getValue();if(t&&t.format&&t.format.page_cover){var r=t.format.page_cover_position||0;return i.createElement("div",{style:this.getImageCoverWrapStyle()},i.createElement(d.default,{url:t.format.page_cover,permissionRecord:{table:this.props.store.table,id:this.props.store.id},width:this.getCoverWidth(),render:function(t,n){if(n)return i.createElement(c.default,{style:a({},e.getCoverStyle(),e.getCoverAspectStyle(),{objectPosition:"center "+100*(1-r)+"%"}),src:n})}}),this.renderImageBorder())}if(this.props.isGallery)return this.renderEmptyGalleryCover()},t.prototype.renderPageContent=function(){var e=this,t=this.coverStore.state;if(t){if(!l.isArray(t))return i.createElement("div",{style:this.getImageCoverWrapStyle()},i.createElement(d.default,{url:t.url,permissionRecord:{table:t.table,id:t.id},width:this.getCoverWidth(),render:function(t,r){if(r)return i.createElement(c.default,{style:a({},e.getPageContentImageStyle(),e.getCoverAspectStyle()),src:r})}}),this.renderImageBorder());if(t.length>0)return i.createElement("div",{style:this.getContentWrapStyle()},t.map(this.renderContentBlock));if(this.props.isGallery)return this.renderEmptyGalleryCover()}else if(this.props.isGallery)return this.renderEmptyGalleryCover()},t.prototype.renderProperty=function(e){var t=this,r=this.props.store,n=f.toFileValue(r.getPropertyValue(e)).find(function(e){return h.isImageURL({url:e.data})});return n?i.createElement("div",{style:this.getImageCoverWrapStyle()},i.createElement(d.default,{url:n.data,permissionRecord:{table:this.props.store.table,id:this.props.store.id},width:this.getCoverWidth(),render:function(e,r){if(r)return i.createElement(c.default,{style:a({},t.getCoverStyle(),t.getCoverAspectStyle()),src:r})}}),this.renderImageBorder()):this.props.isGallery?this.renderEmptyGalleryCover():void 0},t.prototype.renderEmptyGalleryCover=function(){return i.createElement("div",{style:{height:this.getCoverHeight()}})},t.prototype.renderImageBorder=function(){return i.createElement("div",{style:{position:"absolute",left:0,right:0,bottom:0,borderBottom:"1px solid "+this.theme.regularDividerColor}})},t.prototype.getCoverHeight=function(){var e=this.props,t=e.coverHeight,r=e.coverSizeFormat;if(g.default.isMobile)return this.getCoverWidth()*(9/16);if(t)return t;switch(r){case"large":return w.default.card.desktop.large.height;case"small":return w.default.card.desktop.small.height;case"medium":default:return w.default.card.desktop.medium.height}},t.prototype.getCoverWidth=function(){var e=this.props,t=e.coverWidth,r=e.coverSizeFormat;if(e.fullWidth)return v.default.state.width-2*b.default.defaultPaddingLeftRight;if(t)return t;switch(r){case"large":return w.default.card.desktop.large.width;case"small":return w.default.card.desktop.small.width;case"medium":default:return w.default.card.desktop.medium.width}},t.prototype.getImageCoverWrapStyle=function(){return{height:this.getCoverHeight(),position:"relative",pointerEvents:"none",overflow:"hidden"}},t.prototype.getContentWrapStyle=function(){var e="dark"===y.default.state.mode;return{height:this.getCoverHeight(),pointerEvents:"none",overflow:"hidden",background:e?"rgba(255, 255, 255, 0.05)":"rgba(55, 53, 47, 0.025)",boxShadow:"inset 0 -1px 0 0 "+this.theme.regularDividerColor,padding:"8px 8px 0"}},t.prototype.getCoverStyle=function(){return{width:"100%",height:this.getCoverHeight(),objectPosition:"center",borderRadius:0,borderTopLeftRadius:1,borderTopRightRadius:1}},t.prototype.getCoverAspectStyle=function(){var e=this.props.coverAspectFormat;return{objectFit:void 0===e?"cover":e}},t.prototype.getPageContentImageStyle=function(){return a({},this.getCoverStyle(),{objectPosition:"center center"})},t}(s.default);t.default=S},LNOE:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("i8i4"),u=r("LvDl"),c=r("cBa6"),d=r("N34Z"),p=r("MBf9"),f=r("y6Dp"),h=r("7TLZ"),m=r("kaWB"),y=r("lBar"),g=r("T1hA"),v=r("gYhp"),b=r("nFzZ");t.editComment=function(e){var t=h.getCommentTextStore(e.store);d.setValue({store:t,value:e.text,transaction:e.transaction}),f.trackEditComment(e.discussionLocation)},t.deleteComment=function(e){var r=e.commentStore,n=e.transaction,o=h.getParentDiscussionStore(r);if(o){var a=h.getCommentsStore(o),i=a.getValue();i&&(d.updateValue({store:r,transaction:n,data:{alive:!1}}),p.addOperation({store:a,operation:{table:a.table,id:a.id,path:a.path,command:"listRemove",args:{id:r.id}},transaction:n}),(0===i.length||1===i.length&&i[0]===r.id)&&t.deleteDiscussion({discussionStore:o,transaction:n}),f.trackDeleteComment(e.discussionLocation))}},t.deleteDiscussion=function(e){var t=e.discussionStore,r=e.transaction,n=h.getParentBlockStore(t);if(n){var o=h.getDiscussionsStore(n);p.addOperation({store:o,operation:{table:o.table,id:o.id,path:o.path,command:"listRemove",args:{id:t.id}},transaction:r}),w({store:n,discussionId:t.id,transaction:r})}},t.resolveDiscussion=function(e){var t=e.discussionStore,r=e.transaction;d.updateValue({store:t,data:{resolved:!0},transaction:r}),f.trackResolveDiscussion(e.discussionLocation)},t.reopenDiscussion=function(e){var t=e.discussionStore,r=e.transaction;d.updateValue({store:t,data:{resolved:!1},transaction:r}),f.trackReopenDiscussion(e.discussionLocation)},t.submitReply=function(e){var t=e.discussionStore,r=e.textValue,n=e.transaction,o=g.default.state.userId;if(o&&!u.isEqual(r,[])){var a=h.getCommentStores(t),l=u.last(a);if(l){var s=l.getValue();if(s&&s.created_by===o){var y=s.last_edited_time||s.created_time;if(Date.now()-y<2*b.MinuteMs)return d.updateValue({store:l,data:{text:c.normalizeTextValue(i(s.text,[["\n"]],r)),last_edited_time:Date.now()},transaction:n}),void f.trackAddCommentAppend(e.discussionLocation)}}var v=d.createRecord({table:m.default.table,value:{parent_id:t.id,parent_table:t.table,text:r,alive:!0},recordCacheStore:t.recordCacheStore,transaction:n}),w=h.getCommentsStore(t);p.addOperation({store:w,operation:{id:w.id,table:w.table,path:w.path,command:"listAfter",args:{id:v.id}},transaction:n}),f.trackAddComment(e.discussionLocation)}};var w=function(e){var t,r,n=e.store,o=e.transaction,a=e.discussionId,i=h.getPropertiesStore(n),s=i.getValue()||{};if(s){var p=Object.keys(s),f=function(e){var t,r=!1,n=(s[e]||[]).map(function(e){var t=c.getTokenValue(e),n=c.getTokenAnnotations(e),o=n.filter(function(e){return!u.isEqual(e,["m",a])});return r=r||n.length!==o.length,c.createToken(t,o)});r&&d.updateValue({store:i,data:(t={},t[e]=c.normalizeTextValue(n),t),transaction:o})};try{for(var m=l(p),y=m.next();!y.done;y=m.next()){f(y.value)}}catch(e){t={error:e}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}}};t.scrollDiscussionIntoView=function(e){return n(this,void 0,void 0,function(){var t,r,n;return o(this,function(o){return(t=v.default.findComponent(function(t){return t.props.store.id===e}))&&(r=s.findDOMNode(t))&&r.parentElement&&(n=Array.from(r.parentElement.children).indexOf(r),y.scrollElToTop(r,0===n?0:-1)),[2]})})}},LSDq:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("yjqD"),l=function(){function e(e){this.parallel=e,this.queue=[],this.running=[]}return e.prototype.enqueue=function(e){var t=i.deferred();return this.queue.push(function(){return e().then(t.resolve).catch(t.reject)}),this.flush(),t.promise},e.prototype.wrap=function(e){var t=this;return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.enqueue(function(){return e.apply(void 0,o(r))})}},e.prototype.enqueueImmediate=function(e){var t=e();return this.queue.push(function(){return t}),this.flush(),t},e.prototype.flush=function(){var e,t,r,n,o=this;if(0!==this.queue.length&&!(this.running.length>=this.parallel)){var i=this.queue.splice(0,this.parallel-this.running.length);try{for(var l=a(i),s=l.next();!s.done;s=l.next()){var u=s.value;this.running.push(u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}var c=function(e){e().then(function(){o.running.splice(o.running.indexOf(e),1),o.flush()})};try{for(var d=a(i),p=d.next();!p.done;p=d.next()){c(u=p.value)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}}},e}();t.AsyncQueue=l},LVJ5:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("RvCr"),l=r("wldR"),s=r("XDBA"),u=r("MBf9"),c=r("y6Dp"),d=r("mF3+"),p=r("6rsX"),f=r("unoy"),h=r("r8oj"),m=r("H4VD"),y=r("nM47"),g=r("d9nj"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){if(y.validateCanCreate()){var e=t.props,r=e.group,n=e.collectionViewLocalStore,o=e.parentStore,a=n.state.collectionStore;if(a){var l=s.getGroupResultStores(r,n,a);u.createAndCommit(function(e){var r=i.createBlockInGroup({parentStore:o,collectionViewLocalStore:n,group:t.props.group,results:l,insertAtStart:!1,coerce:!0,transaction:e});if(h.default.isMobile)m.navigateToBlock({store:r});else{var a=r.getBlockTitleStore();p.edit({store:r}),f.setSelectionAtStart({store:a})}c.trackCreateBlock({from:"board_group_add_item_bottom",type:"page"})})}}},t}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(g.default,{icon:d.default.plus,isLightGray:!0,isLarge:!0,style:{width:"100%"},onClick:this.handleClick},this.props.title)},t}(l.default);t.default=v},LeVO:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("r8oj"),s=r("46Ny"),u=r("DNfA"),c=r("t+pW"),d=r("wXH4"),p=r("nFzZ"),f=r("nFzZ"),h=r("0zNc"),m=r("nZ1u"),y=r("Sb6f"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseEnter=function(){if(!h.default.state.isDragging&&!m.default.state.isActive){t.enteredTimeout&&window.clearTimeout(t.enteredTimeout);var e=t.props.delayThreshold||200;t.enteredTimeout=window.setTimeout(t.handleMouseEnterTimeout,e)}},t.handleMouseEnterTimeout=function(){t.stores.store.setState(a({},t.stores.store.state,{entered:!0}))},t.close=function(){t.enteredTimeout&&(window.clearTimeout(t.enteredTimeout),t.enteredTimeout=void 0),t.stores.store.setState(a({},t.stores.store.state,{entered:!1}))},t}return o(t,e),t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),this.close()},t.prototype.renderComponent=function(){return l.default.isMobile||this.props.disableTooltip?this.props.render({}):i.createElement(d.default,{popupType:l.default.isMobile?d.default.PopupType.SlideUp:d.default.PopupType.Popup,open:this.isVisible(),origin:this.props.render({onMouseEnter:this.handleMouseEnter,onMouseLeave:this.close,onMouseDown:this.close}),originRect:this.props.originRect,originGap:this.props.originGap||6,placementToOrigin:p.isNotDefined(this.props.placement)?u.Placement.Top:this.props.placement,alignmentToOrigin:this.props.alignment,preventScaleTransition:!0,preventOpacityTransition:!0,style:this.getStyle(),viewportPadding:4,preventPointerEvents:!0,preventCaptureEsc:!0,disableMouseCapture:!0,render:this.props.renderTooltip})},t.prototype.isVisible=function(){return f.isNotDefined(this.props.forceVisibleState)?this.stores.store.state.entered:this.props.forceVisibleState},t.prototype.getStyle=function(){var e={background:this.theme.tooltipBackground,color:this.theme.regularInvertedTextColor,borderRadius:3,padding:"4px 8px",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontSize:12,lineHeight:1.4,fontWeight:y.default.fontWeight.medium};return this.props.textWrap||(e.whiteSpace="nowrap"),a({},e,this.props.style)},t.stores={store:s.default},t.Placement=u.Placement,t.Alignment=u.Alignment,t}(c.default);t.default=g},LknH:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1,focused:!1}},t}(r("LEzx").default);t.default=a},LoBg:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("3uHk"),s=r("w5u6"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMount=function(){this.props.capture&&this.increment()},t.prototype.willUpdate=function(e){this.props.capture&&!e.capture&&this.decrement(),!this.props.capture&&e.capture&&this.increment()},t.prototype.willUnmount=function(){this.props.capture&&this.decrement()},t.prototype.renderComponent=function(){if(this.props.children)return a.Children.only(this.props.children)},t.prototype.increment=function(){var e=this;s.default.afterNextFlush(function(){l.default.state.capturingAreas.add(e),l.default.emit()})},t.prototype.decrement=function(){var e=this;s.default.afterNextFlush(function(){l.default.state.capturingAreas.delete(e),l.default.emit()})},t}(i.default);t.default=u},LqYT:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("d933"),i=r("Z6+j"),l=r("YMM9"),s=r("mgru"),u=function(e){function t(t){var r=e.call(this)||this;return r.hasListeners=!1,r.shouldRecompute=!1,r.recomputeState=function(){var e=r.lastState;r.autoListener.startListener(!0);var t=r.computeFn();r.autoListener.stopListener(),s.default(e,t)||(r.lastState=t,r.emit())},r.computeFn=t,r.autoListener=new a.default({onChange:r.recomputeState}),r}return o(t,e),t.prototype.getState=function(){var e=a.default.currentListener;return e&&e.logStoreAccess(this),this.shouldRecompute&&(this.recomputeState(),this.shouldRecompute=!1),this.hasListeners?this.lastState:this.computeFn()},Object.defineProperty(t.prototype,"state",{get:function(){return this.getState()},enumerable:!0,configurable:!0}),t.prototype.addListener=function(t){e.prototype.addListener.call(this,t),this.hasListeners||(this.hasListeners=!0,this.recomputeState())},t.prototype.removeListener=function(t){e.prototype.removeListener.call(this,t),0===this.listenerCount()&&(this.hasListeners=!1,this.autoListener.destroy())},t.prototype.emit=function(){l.logStoreEmit(this),e.prototype.emit.call(this,this)},t.prototype.setShouldRecompute=function(){this.shouldRecompute=!0},t}(i.default);t.default=u},Lrld:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("jhZm"),s=r("fHgN"),u=r("qHvo"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderGhost=function(){var e=u.default.state.draggedStores.map(function(e,t){return a.createElement(l.default,{key:""+t,store:e})});return a.createElement("div",{style:t.getGhostStyle()},e)},t.isDragging=t.createComputedStore(function(){return u.default.state.isDragging}),t}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(s.default,{open:this.isDragging.state,render:this.renderGhost})},t.prototype.getGhostStyle=function(){var e=u.default.draggedDelta();return{position:"absolute",top:0,left:0,transform:"translate3d("+e.dx+"px, "+e.dy+"px, 0)"}},t}(i.default);t.default=c},M64d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FcJC"),o=r("EZe4"),a=function(e){o.default({event:e,context:o.EventContext.SidebarMouseMove,callback:function(){n.close()}})};t.default=function(e){return e({onMouseMove:a})}},MBf9:function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("HRSx"),l=r("SRc3"),s=r("9GIr"),u=r("Owea"),c=r("VBxf"),d=r("N34Z"),p=r("Fe7V"),f=r("CaJT"),h=r("wpmu"),m=r("JU1L"),y=r("A9TN"),g=r("6SEd"),v=r("bjn0"),b=r("hbKx"),w=r("kaWB"),S=r("j76I"),_=r("FUUC"),k=r("sjR4"),C=r("DNgp"),E=r("vJXr"),P=r("T1hA"),x=r("enHn"),T=r("KV6v"),O=r("ARzG"),M=r("JM1e"),I=r("oqx9"),A=r("G4cA"),D=r("NoAG"),L=r("zok3"),R=r("nFzZ");t.performedOpMap={},t.isPendingTransactionForRecord=function(e,t){return x.default.hasTask(function(r){return r.operations.some(function(r){return r.table===e&&r.id===t})})};var B=function(){E.default.state.online&&P.default.state.userId?x.default.unpause():x.default.pause()};function j(e){var t,r,n=a.uniqBy(e.stores,function(e){return e.id});try{for(var i=o(n),l=i.next();!l.done;l=i.next()){var s=l.value;p.clearRecordValue({recordCacheStore:s.recordCacheStore,table:s.table,id:s.id});var u=S.getRecordMapWithRole(e.initialRecordMap,s.table,s.id);u&&p.setRecordValue({recordCacheStore:s.recordCacheStore,table:s.table,id:s.id,recordWithRole:u})}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}t.create=function(){var e=new s.Transaction;return e.beforeSelection=k.default.cloneState(),e.beforeTextSelection=C.default.cloneState(),e},t.addOperation=function(e){var r=e.store,n=e.operation,o=e.transaction,a=r.recordCacheStore;if(o.committed)throw new Error("Transaction has already been committed.");t.performedOpMap[r.id]=!0,r.hasValue()||(T.default.state.recordMap.add(m.getCombinedId(r.table,r.id)),T.default.emit());var i=r.getRecordStoreAtRootPath().getValue(),s=r.getRecordStoreAtRootPath().getRole(),c=l.invertOperation(n,i),d=o.initialRecordMap[r.table];d&&r.id in d||(s?S.setRecordMapWithRole(o.initialRecordMap,r.table,r.id,{role:s,value:i}):S.setRecordMapWithRole(o.initialRecordMap,r.table,r.id,void 0));var f=l.performOperation(n,i),h=a.getRole(r.table,r.id);if(p.setRecordValue({recordCacheStore:a,table:r.table,id:r.id,force:!0,recordWithRole:{value:f,role:h||"editor"}}),"block"===r.table){var y=f;y&&y.parent_id&&"collection"===y.parent_table&&u.default.setEditedBlock(y.parent_id,y.id)}return o.isLocal=!r.isDefaultRecordCache(),o.operations.push(n),c&&o.invertedOperations.push(c),o.stores.push(r),a.state.appliedTransaction||a.setState({appliedTransaction:!0,cache:a.state.cache}),r},t.commit=function(e){return new Promise(function(r,l){var s,u,p,m,S,E;if(0===e.transaction.operations.length)return e.transaction.done(),r();void 0===e.canUndo&&(e.canUndo=!0);var T=e.transaction,B=e.canUndo,V=function(e){var t,r,a=function(e){if("block"===e.table){var t=b.getParentStore(e);if(t&&b.getPathStores(t).find(function(t){return t.table===e.table&&t.id===e.id}))return{value:"Hey there! Blocks cannot be moved inside of themselves. 😂"}}};try{for(var i=o(e.stores),l=i.next();!l.done;l=i.next()){var s=a(l.value);if("object"===(void 0===s?"undefined":n(s)))return s.value}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}(T);if(V)return j(T),c.showError({error:new Error(V)}),void r();try{for(var F=o(T.preSubmitActions),N=F.next();!N.done;N=F.next()){(0,N.value)()}}catch(e){s={error:e}}finally{try{N&&!N.done&&(u=F.return)&&u.call(F)}finally{if(s)throw s.error}}if(function(e){var t,r,n,l,s=P.default.state.userId,u=Date.now(),c=Math.round(Math.floor(u/R.MinuteMs)*R.MinuteMs),p=a.uniqBy(e.stores,function(e){return e.id}),f=[];try{for(var m=o(p),y=m.next();!y.done;y=m.next())if((T=y.value).table===i.default.table){var S=h.default.createChildStore(T,T.id);if(f.push(S),!S.isNavigableBlock()){var k=b.getNavigableAncestor(S);k&&k.canEdit()&&f.push(k)}}else if(T.table===w.default.table)f.push(I.default.createChildStore(T,T.id));else if(T.table===_.default.table)f.push(A.default.createChildStore(T,T.id));else if(T.table===g.default.table)(C=v.default.createChildStore(T,T.id).getParentBlockStore())&&C.canEdit()&&f.push(C);else if(T.table===D.default.table){var C;(C=L.default.createChildStore(T,T.id).getParentBlockStore())&&C.canEdit()&&f.push(C)}}catch(e){t={error:e}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}f=a.uniqBy(f,function(e){return e.id});try{for(var E=o(f),x=E.next();!x.done;x=E.next()){var T;if((T=x.value)instanceof h.default){var O=T.getValue(),M={};(O?O.created_by:void 0)||(M.created_by=s),(O?O.created_time:void 0)||(M.created_time=c),(O?O.last_edited_time:void 0)!==c&&(M.last_edited_time=c),(O?O.last_edited_by:void 0)!==s&&(M.last_edited_by=s),Object.keys(M).length>0&&d.updateValue({store:T,data:M,transaction:e})}else T instanceof A.default?(O=T.getValue(),M={},(O?O.created_by:void 0)||(M.created_by=s),(O?O.created_time:void 0)||(M.created_time=c),(O?O.last_edited_time:void 0)!==c&&(M.last_edited_time=c),(O?O.last_edited_by:void 0)!==s&&(M.last_edited_by=s),Object.keys(M).length>0&&d.updateValue({store:T,data:M,transaction:e})):T instanceof I.default&&(O=T.getValue(),M={},(O?O.created_by:void 0)||(M.created_by=s),(O?O.created_time:void 0)||(M.created_time=c),(O?O.last_edited_time:void 0)!==c&&(M.last_edited_time=c),Object.keys(M).length>0&&d.updateValue({store:T,data:M,transaction:e}))}}catch(e){n={error:e}}finally{try{x&&!x.done&&(l=E.return)&&l.call(E)}finally{if(n)throw n.error}}}(T),function(e){a.uniqBy(e.stores,function(e){return e.id}).forEach(function(r){var n,a,l,s;if(r.table===i.default.table){var u=h.default.fromRecordStore(r),c=u.getValue();if(c){var d=O.default(c,y.default.secureFileS3.url,!1),p=c.file_ids||[];try{for(var f=o(d),m=f.next();!m.done;m=f.next()){var b=m.value;p.indexOf(b.id)<0&&t.addOperation({transaction:e,store:u,operation:{table:u.table,id:u.id,path:["file_ids"],command:"listAfter",args:{id:b.id}}})}}catch(e){n={error:e}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}}}else if(r.table===g.default.table){var w=v.default.fromRecordStore(r),S=w.getValue();if(S){d=M.getSecureFilesFromCollection(S,y.default.secureFileS3.url,!1),p=S.file_ids||[];try{for(var _=o(d),k=_.next();!k.done;k=_.next())b=k.value,p.indexOf(b.id)<0&&t.addOperation({transaction:e,store:w,operation:{table:w.table,id:w.id,path:["file_ids"],command:"listAfter",args:{id:b.id}}})}catch(e){l={error:e}}finally{try{k&&!k.done&&(s=_.return)&&s.call(_)}finally{if(l)throw l.error}}}}})}(T),T.afterSelection=k.default.cloneState(),T.afterTextSelection=C.default.cloneState(),B&&f.checkpoint({transaction:T,undoCheckpoint:e.undoCheckpoint}),T.isLocal){try{for(var U=o(T.postSubmitActions),W=U.next();!W.done;W=U.next()){(0,W.value)()}}catch(e){S={error:e}}finally{try{W&&!W.done&&(E=U.return)&&E.call(U)}finally{if(S)throw S.error}}T.done(),r()}else{var z=function(e){T.done(e),e?l(e):r()};x.default.enqueueTask({id:T.id,timestamp:Date.now(),operations:T.operations,callback:z}).catch(function(e){j(T),z(e)});try{for(var H=o(T.postSubmitActions),q=H.next();!q.done;q=H.next()){(0,q.value)()}}catch(e){p={error:e}}finally{try{q&&!q.done&&(m=H.return)&&m.call(H)}finally{if(p)throw p.error}}}T.committed=!0})},t.createAndCommit=function(e){var r=t.create(),n=e(r);return t.commit({transaction:r}),n},t.startListeners=function(){E.default.addListener(B),P.default.addListener(B),B()}},MHAS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("ZQ9l"),u=r("r8oj"),c=r("MeYt"),d=r("mF3+"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(c.default,{mobileFeedback:u.default.isMobile,onClick:this.props.onClick,hovered:this.props.focused,disabled:this.props.disabled},i.createElement(s.default,a({},this.props,{dontShrinkTitle:!0,right:this.props.right&&i.createElement("div",{style:{display:"flex",whiteSpace:"nowrap"}},i.createElement("div",{style:{minWidth:0,overflow:"hidden",textOverflow:"ellipsis",color:this.theme.mediumTextColor}},this.props.right),!u.default.isMobile&&i.createElement("div",{style:{visibility:this.props.disabled?"hidden":void 0,flexShrink:0}},d.default.chevronDown({width:10,marginLeft:4,fill:this.theme.lightIconColor})))})))},t}(l.default);t.default=p},MT4j:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("t+pW"),c=r("H4VD"),d=r("wpmu"),p=r("g4rC"),f=r("i3uR"),h=r("WgIs"),m=r("gbGO"),y=r("sbdd"),g=r("2Y+N"),v=r("zTdN"),b=r("VBxf"),w=r("bkwR"),S=r("nM47"),_=r("/YYm"),k=r("MBf9"),C=r("Mr7a"),E=r("LeVO"),P=r("ZQ9l"),x=r("y6Dp"),T=r("r8oj"),O=r("hvW1"),M=r("IULH"),I=r("d9nj"),A=r("mF3+"),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPopup=function(){var e,r=t.props,n=r.store,o=r.member,i=n.canAdmin(),l=o.guestPageIds.map(function(e){var t=d.default.createChildStore(n,e);return{key:e,render:function(e){return s.createElement(y.default,a({},e,{store:t,placeholder:"Private Page"}))},action:function(){var t=d.default.createChildStore(n,e),r=_.default({store:t,fullyQualified:!1});c.navigate({url:r,metaClick:!0})}}});return e=T.default.isMobile?{menuType:m.default.MenuType.ActionSheet}:{menuType:m.default.MenuType.Popup,width:300},s.createElement(m.default,a({},e),i&&s.createElement(P.default,{title:s.createElement("div",{style:{paddingTop:12,paddingBottom:8,display:"flex",alignItems:"flex-start"}},s.createElement(E.default,{renderTooltip:function(){return"This guest will become a Member of this Workspace."},render:function(e){return s.createElement(M.default,a({isLarge:!0,onClick:t.handleConvertToMemberClick},e),"Convert to Member")}}),s.createElement(E.default,{renderTooltip:function(){return"This guest will be removed from all pages in this Workspace."},render:function(e){return s.createElement(M.default,a({isLarge:!0,isRed:!0,style:{marginLeft:8},onClick:t.handleRemoveClick},e),"Remove")}}))}),i&&s.createElement(v.default,{title:"This guest can access these pages"}),s.createElement(h.default,{initialFocus:0,sections:[{key:"pages",render:function(e){return s.createElement(g.default,a({},e))},items:l}]}))},t.handleRemoveClick=function(){b.showDialog({showCancel:!0,keepFocus:!1,message:"Are you sure you want to remove this person? They will lose access to all shared pages.",items:[{label:"Remove",color:"red",onAccept:function(){return i(t,void 0,void 0,function(){var e,t,r;return l(this,function(n){switch(n.label){case 0:return e=this.props,t=e.member,r=e.store,this.stores.buttonPopupStore.setState(a({},this.stores.buttonPopupStore.state,{open:!1})),O.display({message:"Updating..."}),[4,w.removeUsersFromSpace({userIds:[t.userId],spaceId:r.id,removePagePermissions:!0,revokeUserTokens:!1})];case 1:return"success"!==n.sent().type?[3,3]:[4,S.refresh()];case 2:n.sent(),x.trackRemoveGuest(),n.label=3;case 3:return O.close(),[2]}})})}}]})},t.handleConvertToMemberClick=function(){return i(t,void 0,void 0,function(){var e,t,r,n,o,i;return l(this,function(l){switch(l.label){case 0:e=k.create(),t=this.props,r=t.store,n=t.member,o=t.isSubscribed,i=C.setPermissionItems({store:r,permissionItems:[{type:"user_permission",role:o?"read_and_write":"editor",user_id:n.userId}],transaction:e}),k.commit({transaction:e}),this.stores.buttonPopupStore.setState(a({},this.stores.buttonPopupStore.state,{open:!1})),O.display({message:"Updating..."}),l.label=1;case 1:return l.trys.push([1,,4,5]),[4,i];case 2:return l.sent(),[4,S.refresh()];case 3:return l.sent(),x.trackConvertGuestToMember(),[3,5];case 4:return O.close(),[7];case 5:return[2]}})})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.stores.buttonPopupStore,r=this.props,n=r.store,o=r.member;return o.guestPageIds.map(function(e){d.default.createChildStore(n,e).getValue()}),s.createElement(f.default,{popupType:T.default.isMobile?f.default.PopupType.SlideUp:f.default.PopupType.Popup,renderOrigin:function(t){return s.createElement(I.default,a({},t),o.guestPageIds.length," Page",o.guestPageIds.length>1?"s":"",A.default.chevronDown({width:10,marginLeft:4,fill:e.theme.lightIconColor}))},buttonPopupStore:t,render:this.renderPopup})},t.stores={buttonPopupStore:p.default},t}(u.default);t.default=D},MYfK:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("Sb6f"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.children,r=e.style;return i.createElement("div",{style:a({},this.getStyle(),r)},t)},t.prototype.getStyle=function(){var e=this.props,t=e.hasMarginBottom,r=e.hasMarginTop,n={fontSize:11,lineHeight:"16px",textTransform:"uppercase",letterSpacing:"0.05em",color:this.theme.mediumTextColor,fontWeight:s.default.fontWeight.medium};return t&&(n.marginBottom=4),r&&(n.marginTop=20),n},t}(l.default);t.default=u},Ma8p:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("r8oj"),l=r("t+pW"),s=r("6fvo"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.emoji,r=e.size,n=r,o=0,l=1.1,u=i.default.isRetina&&i.default.isChrome;r<28&&(n=u?.9*n:.7*n),(i.default.isSafari||i.default.isIOS)&&(o=-5),i.default.isAndroid&&(o=r/-4,l=r>18?1:.8);var c=t;if(i.default.isAndroid&&i.default.isReactNative){var d=t&&s.getEmojiIcon(t,"svg");c=d?a.createElement("img",{src:d}):void 0}return a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:r,width:r}},a.createElement("div",{style:{height:n,width:n,fontSize:n,lineHeight:l,marginLeft:o,color:this.theme.regularTextColor}},c))},t}(l.default);t.default=u},Mcmf:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("LvDl"),l=r("i8i4"),s=r("17x9"),u=r("/mqF"),c=r("FmD2"),d=r("CaJT"),p=r("6rsX"),f=r("unoy"),h=r("r8oj"),m=r("EZe4"),y=r("x0lk"),g=r("RI9y"),v=r("sjR4"),b=r("wldR"),w=r("iVjn"),S=r("VyA+"),_=r("uSCg"),k=r("DkKf"),C=r("sjR4"),E=r("qHvo"),P=r("DNgp"),x=r("nZ1u"),T=r("AmMh"),O=r("43ch"),M=r("w5u6"),I=r("B2+S"),A=r("iICV"),D=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.isSelected=!1,r.shouldEditOnClick=!1,r.registries=[O.default],r.handleKeyDown=function(e){e.metaKey||e.ctrlKey||e.altKey||A.default.setKeyboardMode(!0)},r.handleDragStart=function(e){var t=r.getContextClosestSelectableStore();e.shiftKey&&!r.isEditing.state&&t?(e.preventDefault(),p.select({store:t,toggle:p.shouldToggle(),selectBetween:p.shouldSelectBetween()}),r.shouldEditOnClick=!1):r.shouldEditOnClick=!0},r.handleDragMove=function(e){if(E.default.state.isDragging)u.continueDrag({currentX:e.currentX,currentY:e.currentY});else if(e.shiftKey)k.mouseDidMoveAfterLastMouseDown()&&u.startDrag({startX:e.startX,startY:e.startY,stores:C.default.state.stores,isNativeDrag:!1});else if(!x.default.state.isActive){var n=l.findDOMNode(r);if(!n)return;if(!(n instanceof Element))return;var o=y.expand(n.getBoundingClientRect(),t.minDragDist);y.within(o,e.currentX,e.currentY)||h.default.isMobile||!r.props.canSelectionDrag||(r.shouldEditOnClick=!1,c.startRectangularSelection({target:e.target,startX:e.startX,startY:e.startY,showSelectionRect:!1,preventSelectStores:[]}))}},r.handleDragEnd=function(e){E.default.state.isDragging&&u.completeDrag({shiftKey:e.shiftKey,optionKey:e.optionKey,commandKey:e.commandKey,analyticsFrom:"page_content"})},r.handleClick=function(e){m.default({event:e,context:m.EventContext.EditorClick,callback:function(){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&!I.default.state.open)if(h.default.isMobile&&!r.isEditing.state){(a=r.getContextClosestSelectableStore())&&p.edit({store:a});var t=r.getNode();if(t){t.classList.add("edtior-force-select");var n=g.rangeFromPoint(e.clientX,e.clientY);if(t.classList.remove("edtior-force-select"),n){var o=r.props.getTextSelectionFromRange(n);o&&f.setSelection({store:r.props.store,selection:o})}}}else if(r.shouldEditOnClick){var a;(a=r.getContextClosestSelectableStore())?p.edit({store:a}):(p.setStores({stores:[]}),p.setPhase({phase:v.SelectionPhase.Selected,preventClearEditingText:!0})),r.saveSerializedTextSelectionAfterFlush()}}})},r.handleDragCancel=function(){E.default.state.isDragging&&(u.cancelDrag(),p.clear())},r.onEsc=function(e){if(!r.props.disabled){e.preventDefault();var t=r.getContextClosestSelectableStore();if(t){var n=T.default.findSelectableFromStore(t);n&&n.props.canSelect&&p.setSelection({stores:[t]})}}},r.onUp=function(e){r.props.disabled||f.arrowUp({store:r.props.store,topBottomPadding:r.props.topBottomPadding,event:e})},r.onDown=function(e){r.props.disabled||f.arrowDown({store:r.props.store,topBottomPadding:r.props.topBottomPadding,event:e})},r.onLeft=function(e){r.props.disabled||f.arrowLeft({store:r.props.store,event:e})},r.onRight=function(e){r.props.disabled||f.arrowRight({store:r.props.store,event:e})},r.onSelectAll=function(e){r.props.disabled||(e.preventDefault(),f.selectAllText({store:r.props.store,canSelectAllBlocks:r.props.canSelectAllBlocks}))},r.onUndo=function(e){e.preventDefault(),d.undo()},r.onRedo=function(e){e.preventDefault(),d.redo()},r.handleContextMenu=function(e){r.isEditing.state&&m.default({event:e,context:m.EventContext.EditorContextMenu,callback:function(){r.saveSerializedTextSelectionAfterFlush()}})},r.handleDoubleClick=function(e){m.default({event:e,context:m.EventContext.EditorDoubleClick,callback:function(){}})},r.handleMobileSelect=function(e){if(!r.props.disabled){if(!g.get())return;var t=r.getContextClosestSelectableStore();r.isEditing.state||p.edit({store:t}),r.saveSerializedTextSelection(),M.default.flush()}},r.handleDesktopSelect=function(e){r.props.disabled||r.saveSerializedTextSelection()},r.saveSerializedTextSelectionAfterFlush=function(){M.default.afterNextFlush(function(){r.saveSerializedTextSelection()})},r.isEditing=r.createComputedStore(function(){var e=P.default.state;return e.editing&&e.store===r.props.store}),r}return o(t,e),t.prototype.getNode=function(){return l.findDOMNode(this)},t.prototype.didMountOrUpdate=function(){this.isEditing.state?this.isSelected||(this.isSelected=!0,this.props.onSelected&&this.props.onSelected()):this.isSelected&&(this.isSelected=!1,this.clearBrowserSelection(),this.props.onDeselected&&this.props.onDeselected())},t.prototype.willUnmount=function(){this.isSelected&&(this.isSelected=!1,this.props.onDeselected&&this.props.onDeselected())},t.prototype.shouldComponentUpdate=function(e){return!0},t.prototype.getContextClosestSelectable=function(){return this.context.closestSelectable},t.prototype.getContextClosestSelectableStore=function(){if(this.context.closestSelectable)return this.context.closestSelectable.props.store},t.prototype.renderComponent=function(){var e=this.props,t=e.disabled,r=e.disableUpDownArrows,n=e.disableEnter,o=this.isEditing.state;return a.createElement(S.default,{capture:o&&!t,onDelete:this.createEventDataCallback("onDelete"),onBackspace:this.createEventDataCallback("onBackspace"),onEnter:n?void 0:this.createEventDataCallback("onEnter"),onCommandEnter:this.createEventDataCallback("onCommandEnter"),onCommandShiftEnter:this.createEventDataCallback("onCommandShiftEnter"),onUp:r?void 0:this.createEventDataCallback("onUp"),onDown:r?void 0:this.createEventDataCallback("onDown"),onLeft:this.createEventDataCallback("onLeft"),onRight:this.createEventDataCallback("onRight"),onTab:this.createEventDataCallback("onTab"),onUntab:this.createEventDataCallback("onUntab"),onSelectAll:this.createEventDataCallback("onSelectAll"),onToggleUnderline:this.createEventDataCallback("onToggleUnderline"),onToggleHighlight:this.createEventDataCallback("onToggleHighlight"),onToggleBold:this.createEventDataCallback("onToggleBold"),onToggleItalics:this.createEventDataCallback("onToggleItalics"),onToggleStrike:this.createEventDataCallback("onToggleStrike"),onToggleCode:this.createEventDataCallback("onToggleCode"),onUndo:this.createEventDataCallback("onUndo"),onRedo:this.createEventDataCallback("onRedo"),onEsc:this.createEventDataCallback("onEsc"),onCut:this.createEventDataCallback("onCut"),onCopy:this.createEventDataCallback("onCopy"),onPaste:this.createEventDataCallback("onPaste"),onKeypress:this.createEventDataCallback("onKeyPress"),onHome:this.saveSerializedTextSelectionAfterFlush,onEnd:this.saveSerializedTextSelectionAfterFlush,onGoToBeginningOfLine:this.saveSerializedTextSelectionAfterFlush,onGoToEndOfLine:this.saveSerializedTextSelectionAfterFlush,onGoForwardOneChar:this.saveSerializedTextSelectionAfterFlush,onGoBackwardOneChar:this.saveSerializedTextSelectionAfterFlush},h.default.isMobile?this.renderMobile():this.renderDesktop())},t.prototype.renderDesktop=function(){var e=this,t=this.isEditing.state;return a.createElement(w.default,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,cursor:"text",render:function(r){return e.props.render(_.default(r,{onClick:e.handleClick,onContextMenu:e.handleContextMenu,onKeyDown:e.handleKeyDown,onDoubleClick:e.handleDoubleClick}),e.handleDesktopSelect,t)}})},t.prototype.renderMobile=function(){var e=this.isEditing.state;return this.props.render({onClick:this.handleClick,onContextMenu:this.handleContextMenu,onKeyDown:this.handleKeyDown,onDoubleClick:this.handleDoubleClick},this.handleMobileSelect,e)},t.prototype.createEventDataCallback=function(e){return this.props[e]?this.props[e]:this[e]?this[e]:void 0},t.prototype.saveSerializedTextSelection=function(){if(!this.props.disabled){var e=this.props.getTextSelectionFromRange(g.get());if(e){if(P.default.state.editing&&P.default.state.store===this.props.store&&i.isEqual(P.default.state.selection,e))return;f.setSelection({store:this.props.store,selection:e})}}},t.prototype.clearBrowserSelection=function(){this.props.clearBrowserSelection()},t.minDragDist=20,t.contextTypes={closestSelectable:s.any,selectableContainer:s.any},t}(b.default);t.default=D},MeYt:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("7z/K"),u=r("m0IC"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var r=t.props,n=r.disabled,o=r.onClick;u.handleClick({store:t.stores.store,event:e,disabled:n||!1,onClick:o})},t.handleMouseEnter=function(e){var r=t.props,n=r.disabled,o=r.onMouseEnter;u.handleMouseEnter({store:t.stores.store,event:e,disabled:n||!1,onMouseEnter:o})},t.handleMouseMove=function(e){var r=t.props,n=r.disabled,o=r.onMouseMove;u.handleMouseMove({store:t.stores.store,event:e,disabled:n||!1,onMouseMove:o})},t.handleMouseLeave=function(e){var r=t.props,n=r.disabled,o=r.onMouseLeave;u.handleMouseLeave({store:t.stores.store,event:e,disabled:n||!1,onMouseLeave:o})},t.handleMouseDown=function(e){var r=t.props,n=r.disabled,o=r.onMouseDown;u.handleMouseDown({store:t.stores.store,event:e,disabled:n||!1,onMouseDown:o})},t.handleMouseUp=function(e){var r=t.props,n=r.disabled,o=r.onMouseUp;u.handleMouseUp({store:t.stores.store,event:e,disabled:n||!1,onMouseUp:o})},t.handleTouchStart=function(e){var r=t.props,n=r.disabled,o=r.onTouchStart;u.handleTouchStart({store:t.stores.store,event:e,disabled:n||!1,onTouchStart:o})},t.handleTouchEnd=function(e){var r=t.props,n=r.disabled,o=r.onTouchEnd;u.handleTouchEnd({store:t.stores.store,event:e,disabled:n||!1,onTouchEnd:o})},t.handleTouchCancel=function(e){var r=t.props,n=r.disabled,o=r.onTouchCancel;u.handleTouchCancel({store:t.stores.store,event:e,disabled:n||!1,onTouchCancel:o})},t.handleContextMenu=function(e){var r=t.props,n=r.disabled,o=r.onContextMenu;u.handleContextMenu({store:t.stores.store,event:e,disabled:Boolean(n),onContextMenu:o})},t}return o(t,e),t.prototype.willMount=function(){u.startScrollListener(this.stores.store)},t.prototype.willMountOrUpdate=function(e){var t=this.stores.store;e.disabled&&(t.state.hovered||t.state.pressed)&&t.reset()},t.prototype.willUnmount=function(){u.stopScrollListener(this.stores.store)},t.prototype.renderComponent=function(){return i.createElement("div",{style:this.getStyle(),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onContextMenu:this.handleContextMenu,className:this.props.className},this.props.children)},t.prototype.getStyle=function(){var e=this.stores.store.state,t=e.hovered,r=e.pressed;return a({cursor:"pointer",userSelect:"none",WebkitUserSelect:"none",transition:"background 120ms ease-in"},this.props.disabled&&this.getDisabledStyle(),this.props.style,(t||this.props.hovered)&&this.getHoveredStyle(),r&&this.getPressedStyle())},t.prototype.getHoveredStyle=function(){return a({},!this.props.mobileFeedback&&a({background:this.theme.buttonHoveredBackground},this.props.hoveredStyle))},t.prototype.getPressedStyle=function(){return this.props.mobileFeedback?{opacity:.4}:a({background:this.theme.buttonPressedBackground},this.props.pressedStyle)},t.prototype.getDisabledStyle=function(){return this.props.disabledFeedback?{cursor:"default",opacity:.3}:{cursor:"default"}},t.stores={store:s.default},t}(l.default);t.default=c},Mf5Y:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("nkfK"),o=r("g90h"),a=r("iPhm"),i=r("wpmu"),l=r("bPtJ"),s=r("y6Dp"),u=r("N34Z"),c=r("+575"),d=r("j76I"),p=r("+UXM"),f=r("5w/s");t.createItem=function(e){var r=e.createBlockItem,n=e.from,o=e.recordCacheStore,a=e.transaction;if(!r.templateRootBlockId||!r.createTemplate)throw new Error("Invalid createBlock item.");var i=t.initializeTemplate({sourceBlockId:r.templateRootBlockId,sourceBlockSubtree:r.createTemplate(),targetRecordCacheStore:o,transaction:a});return"code"===r.blockType?t.postCreateCodeBlock({store:i,transaction:a}):"table_of_contents"===r.blockType&&t.postCreateTableOfContentsBlock({store:i,transaction:a}),n&&r.blockType&&s.trackCreateBlock({from:n,type:r.blockType}),i},t.initializeTemplate=function(e){var t=e.sourceBlockId,r=e.sourceBlockSubtree,a=e.targetRecordCacheStore,s=e.transaction,c=e.targetBlockId||o.default(),p=n.duplicateSubtree({sourceBlockId:t,targetBlockId:c,recordMap:r}),f=new i.default(c,a);return d.forEachRecordMap(p,function(e){var t=e.table,r=e.id,n=e.record,o=l.createRecordStore(f,t,r);u.updateValue({store:o,data:n,transaction:s})}),f},t.postCreateCodeBlock=function(e){var t=e.store,r=e.transaction,n=p.default.get(a.default.localLanguagePreferenceKey),o=n&&a.languageValuesToKeys[n]?n:a.default.defaultLanguage,i=p.default.get(a.default.localCodeWrapPreferenceKey);u.updateValue({store:t.getPropertiesStore(),data:{language:c.fromSelectValue(o)},transaction:r}),u.updateValue({store:t.getFormatStore(),data:{code_wrap:i},transaction:r})},t.postCreateTableOfContentsBlock=function(e){var t=e.store,r=e.transaction;f.updateFormat({stores:[t],update:{block_color:"gray"},transaction:r})}},Mr7a:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("LvDl"),c=r("z22Z"),d=r("FUUC"),p=r("hbKx"),f=r("wpmu"),h=r("G4cA"),m=r("y6Dp"),y=r("VBxf"),g=r("N34Z"),v=r("MBf9"),b=r("a3Zf"),w=r("nM47"),S=r("A9TN"),_=r("T1hA"),k=r("r8MX");t.setPermissionItems=function(e){return o(this,void 0,void 0,function(){var t,r,i,g,b,S,k,C,E,P,x,T,O,M,I,A,D,L,R,B,j,V,F,N,U,W,z,H,q,G,Z,Y,K,J,Q,X,$,ee,te,re,ne=this;return a(this,function(oe){E=e.store,P=e.permissionItems,x=e.transaction,T=E.getPermissionItems(),O=l(T),M=_.default.state.userId,I=E instanceof h.default,A=E instanceof f.default&&E.getParentTable()===d.default.table,P.forEach(function(e){var t=e.type,r=c.getRole(e);I?m.trackUpdateSpacePermission({role:r,type:t}):m.trackUpdatePagePermission({role:r,type:t})}),O=O.filter(function(e){return!P.some(function(t){return c.permissionItemsAreSameTarget(e,t)})});try{for(D=s(P),L=D.next();!L.done;L=D.next())R=L.value,O.push(R)}catch(e){t={error:e}}finally{try{L&&!L.done&&(r=D.return)&&r.call(D)}finally{if(t)throw t.error}}if(O=O.filter(function(e){return"none"!==c.getRole(e)}),B=Boolean(P.find(function(e){return"user_permission"===e.type&&e.user_id===M&&"editor"!==e.role})),E instanceof f.default&&A&&M&&(j=p.getSpace(E),V=j?j.getPermissionItems():[],F=j?j.getPermissionGroups():[],N=Boolean(O.find(function(e){return"user_permission"===e.type&&c.canAdmin(e.role)&&e.user_id===M})),U=V.find(function(e){return"user_permission"===e.type&&e.user_id===M}),W=P.find(function(e){return"space_permission"===e.type&&c.canAdmin(e.role)}),z=O.find(function(e){return Boolean("group_permission"===e.type&&c.canAdmin(e.role)&&F.find(function(t){return Boolean(t.id===e.group_id&&t.user_ids&&t.user_ids.indexOf(M)>=0)}))}),N&&U&&(W||z)&&(O=O.filter(function(e){return!("user_permission"===e.type&&e.user_id===M)})),B||O.find(function(e){return!("space_permission"!==e.type||!c.canAdmin(e.role)||!U)||(!("user_permission"!==e.type||!c.canAdmin(e.role)||e.user_id!==M)||!("group_permission"!==e.type||!c.canAdmin(e.role)||!F.find(function(t){return Boolean(t.id===e.group_id&&t.user_ids&&t.user_ids.indexOf(M)>=0)})))})||(O=O.filter(function(e){return!("user_permission"===e.type&&e.user_id===M)})).push({type:"user_permission",user_id:M,role:"editor"})),!O.some(function(e){var t=c.getRole(e);return c.canAdmin(t)})&&(I||A))return y.showError({error:new Error("Please give someone else Full Access before removing this permission.")}),[2];H=E.getPermissionsStore(),q=[],G=function(e){O.find(function(t){return c.permissionItemsAreSameTarget(e,t)})||q.push(n({},e,{role:"none"}))};try{for(Z=s(T),Y=Z.next();!Y.done;Y=Z.next())K=Y.value,G(K)}catch(e){i={error:e}}finally{try{Y&&!Y.done&&(g=Z.return)&&g.call(Z)}finally{if(i)throw i.error}}J=function(e){var t=T.find(function(t){return c.permissionItemsAreSameTarget(e,t)});t&&u.isEqual(t,e)||q.push(e)};try{for(Q=s(O),X=Q.next();!X.done;X=Q.next())$=X.value,J($)}catch(e){b={error:e}}finally{try{X&&!X.done&&(S=Q.return)&&S.call(Q)}finally{if(b)throw b.error}}try{for(ee=s(q),te=ee.next();!te.done;te=ee.next())re=te.value,v.addOperation({store:H,operation:{table:H.table,id:H.id,command:"setPermissionItem",path:H.path,args:re},transaction:x})}catch(e){k={error:e}}finally{try{te&&!te.done&&(C=ee.return)&&C.call(ee)}finally{if(k)throw k.error}}return[2,new Promise(function(e,t){x.postSubmitCallbacks.push(function(r){return o(ne,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return r?[2,t(r)]:[4,w.refresh()];case 1:return n.sent(),e(),[2]}})})})})]})})},t.inviteUsers=function(e){return o(this,void 0,void 0,function(){var r,n,o,i,l,s,u,c,d,p,f;return a(this,function(a){switch(a.label){case 0:return r=e.store,n=e.inviteUsers,o=e.isSpace,i=e.inviteRole,0===n.length?[2]:(l=k.default.state.data)&&"subscribed_admin"===l.type&&r instanceof h.default?(s=r.getPermissionItems().length,u=s+n.length,l.productId===S.default.pricing.personal.productId&&u>1?[4,y.confirmUserAction({message:"Your workspace will now have "+u+" members. This will automatically upgrade the workspace to the Team plan.",acceptLabel:"Upgrade"})]:[3,2]):[3,2];case 1:if(!a.sent())return[2];a.label=2;case 2:return m.trackEmailInvite({role:i,is_space:o,invite_users:n}),[4,Promise.all(n.map(function(e){return b.createUserIfDoesNotExist({user:e})}))];case 3:return c=a.sent(),d=c.map(function(e){return{type:"user_permission",role:i,user_id:e}}),p=v.create(),t.setPermissionItems({store:r,permissionItems:d,transaction:p}),f=p.awaitDone(),v.commit({transaction:p}),[4,f];case 4:return a.sent(),[4,w.refresh()];case 5:return a.sent(),[2]}})})},t.clearPermissions=function(e){var t=e.store,r=e.transaction;g.updateValue({store:t,data:{permissions:null},transaction:r})}},"N+rL":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("STAJ"),s=r("wldR"),u=r("DrHl"),c=r("wXH4"),d=r("EZe4"),p=r("G4GV"),f=r("IdIf"),h=r("mF3+"),m=r("VBxf"),y=r("r8oj"),g=r("y6Dp"),v=r("SR/M"),b=r("WgIs"),w=r("gbGO"),S=r("2Y+N"),_=r("dXb3"),k=r("ox2z"),C=r("GUcd"),E=r("VBxf"),P=r("6sah"),x=r("zmp8"),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderActionMenuPopup=function(){var e=t.props.value,r=t.stores.renameInputStore,n=t.getOptions(),o=n.find(function(t){return t.value===e});if(o){var l={key:"color",render:function(e){return i.createElement(S.default,a({},e,{title:"Colors",isTitleUppercase:!0,topBorder:!0}))},items:x.selectColors.map(function(e){return{key:e,render:function(t){return i.createElement(C.default,a({},t,{color:e,checkState:o.color===e}))},action:function(){t.handleSelectPropertyColorPickerChange(e)}}})},s={key:"delete",render:function(e){return i.createElement(S.default,a({},e))},items:[{key:"delete",render:function(e){return i.createElement(k.default,a({},e,{title:"Delete",svg:h.default.trash}))},action:t.handleDelete}]},c=void 0;return c=y.default.isMobile?{menuType:w.default.MenuType.Modal,title:i.createElement(u.default,{format:u.default.Format.Large,value:e,options:n,showRemoveButton:!1,isSingle:!0}),right:"Done",onClickRight:t.handleRenameInputSubmit}:{menuType:w.default.MenuType.Popup,width:200},i.createElement(w.default,a({},c),i.createElement(S.default,{isInput:!0},i.createElement(_.default,{focus:!y.default.isMobile||void 0,selectAll:!y.default.isMobile,value:r.state.inputValue,onChange:t.handleRenameInputChange,onSubmit:t.handleRenameInputSubmit,mobileEditLabel:"Rename"})),i.createElement(b.default,{disableKeyboard:!0,initialFocus:void 0,sections:[s,l]}))}},t.handleDelete=function(){E.showDialog({showCancel:!0,keepFocus:!1,message:"Are you sure you want to remove this option?",items:[{label:"Remove",color:"red",onAccept:function(){var e=t.props,r=e.value,n=e.schema,o=e.property,a=e.onChange,i=e.analyticsFrom,s=t.getOptions(),u=l.reject(function(e){return e.value===r},s);t.props.onCloseActionMenu(),a(l.set(t.getOptionsLens(),u,n));var c=n[o];c&&g.trackConfigureProperty({property_type:c.type,action:"select_delete_option",from:i})}}]})},t.handleActionButtonClick=function(e){d.default({event:e,context:d.EventContext.MenuListClick,callback:function(){return t.props.onOpenActionMenu(t.props.value)}})},t.handleRenameInputChange=function(e){var r=t.stores.renameInputStore,n=e.target.value.replace(/,/g,"");r.setState(a({},r.state,{inputValue:n})),r.emit()},t.handleRenameInputSubmit=function(e){t.props.onCloseActionMenu(),t.performRename()},t.handleSelectPropertyColorPickerChange=function(e){var r=t.props,n=r.property,o=r.value,a=r.schema,i=r.onChange,s=r.analyticsFrom,u=t.getOptions(),c=l.findIndex(function(e){return f.groupValuesEqual(e.value,o)},u),d=l.lensPath([n,"options",c,"color"]);i(l.set(d,e,a));var p=a[n];p&&g.trackConfigureProperty({property_type:p.type,action:"select_change_color",from:s})},t}return o(t,e),t.prototype.willMountOrUpdate=function(e){e.actionMenuOpen&&!this.props.actionMenuOpen&&this.stores.renameInputStore.setState(a({},this.stores.renameInputStore.state,{inputValue:this.props.value}))},t.prototype.renderComponent=function(){var e=this.props,t=e.value,r=e.focused,n=e.locked,o=this.getOptions();return i.createElement(v.default,a({},this.props,{title:i.createElement(u.default,{format:this.context.isMobile?u.default.Format.Large:u.default.Format.Medium,value:t,options:o,showRemoveButton:!1,isSingle:!0}),desktopTitleStyle:{marginRight:6},isTokenTitle:!0,right:!n&&i.createElement(c.default,{popupType:y.default.isMobile?c.default.PopupType.SlideUp:c.default.PopupType.Popup,open:this.props.actionMenuOpen,onDismiss:this.handleRenameInputSubmit,origin:i.createElement(P.default,{onClick:this.handleActionButtonClick,isMobile:y.default.isMobile,style:{opacity:r||y.default.isMobile?1:0}}),render:this.renderActionMenuPopup})}))},t.prototype.getOptions=function(){var e=this.props,t=e.property,r=e.schema[t];return r&&r.options?r.options:[]},t.prototype.getOptionsLens=function(){var e=this.props.property;return l.lensPath([e,"options"])},t.prototype.performRename=function(){var e=this.props,t=e.id,r=e.property,n=e.value,o=e.schema,a=e.onChange,i=this.stores.renameInputStore.state.inputValue,s=this.getOptions(),u=s.find(function(e){return e.id!==t&&f.groupValuesEqual(e.value,i)});if(n!==i)if(i)if(u)m.showError({error:new Error("This select option already exists.")});else{var c=s.findIndex(function(e){return f.groupValuesEqual(e.value,n)}),d=l.lensPath([r,"options",c,"value"]);a(l.set(d,i,o))}else m.showError({error:new Error("Please type a value.")})},t.contextTypes=w.menuContextTypes,t.stores={renameInputStore:p.default},t}(s.default);t.default=T},N0lH:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("KcXv"),s=r("n8tN"),u=r("fJHT"),c=r("Sb6f"),d=r("r8oj"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){var e=this.props.disabled;return i.createElement("div",{style:this.getStyle()},i.createElement(u.default,{disabled:e,store:this.props.store.getBlockTitleStore(),placeholder:"Heading 3",placeholderStyle:{WebkitTextFillColor:this.theme.headerBlockPlaceholderTextColor},style:l.itemStyle}),this.renderDiscussion())},t.prototype.getStyle=function(){return a({display:"flex",width:"100%",fontWeight:c.default.fontWeight.semibold,fontSize:d.default.isMobile?"1.17em":"1.25em",letterSpacing:"-0.002em",lineHeight:1.2},this.getBlockColorStyle(),this.props.style)},t}(s.default);t.default=p},N34Z:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g90h"),o=r("wpmu"),a=r("bPtJ"),i=r("MBf9");t.createRecord=function(e){var t=e.table,r=e.value,o=e.transaction,l=e.recordCacheStore;r.id||(r.id=n.default());var s=new a.default(t,r.id,[],l);return i.addOperation({store:s,operation:{id:s.id,table:s.table,path:[],command:"set",args:r},transaction:o}),s},t.createBlock=function(e){var r=e.type,a=e.properties,i=e.permissions,l=e.format,s=e.transaction,u=e.recordCacheStore,c=n.default(),d=new o.default(c,u);return t.setValue({store:d,transaction:s,value:{type:r,permissions:i,properties:a,format:l}}),d},t.setValue=function(e){var t=e.store,r=e.value,n=e.transaction,o=t.path;i.addOperation({store:t,operation:{id:t.id,table:t.table,path:o,command:"set",args:r||null},transaction:n})},t.updateValue=function(e){var t=e.store,r=e.data,n=e.transaction,o=t.path;i.addOperation({store:t,operation:{id:t.id,table:t.table,path:o,command:"update",args:r},transaction:n})}},N40t:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("sQnJ"),s=r("r8oj"),u=r("wldR"),c=r("wXH4"),d=r("gbGO"),p=r("9c8K"),f=r("VOS9"),h=r("MBf9"),m=r("+mWT"),y=r("BJyN"),g=r("y6Dp"),v=r("sjR4"),b=r("DNgp"),w=r("GKeo"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderMenu=function(){var e=w.default.state;if(e.open){var r,n=t.getSections(e),o=t.getFilter(e);return r=!s.default.isReactNative&&!s.default.isCordova||s.default.isTablet?{menuType:d.default.MenuType.Popup,width:324,maxHeight:"40vh",onClickOutside:l.close}:{menuType:d.default.MenuType.ActionSheet},i.createElement(d.default,a({},r),i.createElement(f.default,{sections:n,onAccept:t.handleAccept,context:{blocks:v.default.state.stores},filter:o,initialFocus:0,onEmptyEnter:t.handleCancel}))}},t.handleCancel=function(){l.close()},t.handleAccept=function(e){var t=v.default.state.stores[0];t&&g.trackBlockAction({name:e.name,from:"slash_menu",block_type:t.getType()}),h.createAndCommit(function(e){l.accept({transaction:e})})},t}return o(t,e),t.prototype.willMountOrUpdate=function(){var e=w.default.state;if(e.open){var t=b.default.state,r=this.getFilter(e),n=m.fuzzyMatchActions(this.getSections(e),{blocks:v.default.state.stores},r||"");t.editing&&t.store===e.textStore&&!p.shouldCloseMenu(r,!0,n.length)||l.close()}},t.prototype.renderComponent=function(){var e=w.default.state;return i.createElement(c.default,{popupType:!s.default.isReactNative&&!s.default.isCordova||s.default.isTablet?c.default.PopupType.Popup:c.default.PopupType.SlideUp,open:e.open,originRect:e.open?e.selectionRect:void 0,placementToOrigin:c.default.Placement.Bottom,alignmentToOrigin:c.default.Alignment.Start,originGap:4,disableMouseCapture:!0,disableContentScroll:!0,onDismiss:this.handleCancel,render:this.renderMenu})},t.prototype.getFilter=function(e){return p.getFilter(e.textStore,e.oldTextValue,!e.isAddMenu)},t.prototype.getSections=function(e){return e.isAddMenu?y.insertActions:y.slashActions},t}(u.default);t.default=S},NCLm:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1");t.userPersonas=["entrepreneur","programmer","designer","product_manager","marketing_sales","customer_support","operations_hr"],t.userPersonaDisplayNames={entrepreneur:"Entrepreneur",programmer:"Programmer",designer:"Designer",product_manager:"Product Manager",marketing_sales:"Marketing & Sales",customer_support:"Customer Support",operations_hr:"Operations & HR"},t.userTypes=["team_<5","team_5-20","team_20-100","team_100+"],t.userTypeDisplayNames={"team_<5":"Team < 5 People","team_5-20":"Team 5-20 People","team_20-100":"Team 20-100 People","team_100+":"Team 100+ People",personally:"Personally",personally_for_work:"Personally For Work"},t.userUseCases=["personal_notes_to_dos","team_docs_knowledge_base","team_project_management"],t.useCaseIsPersonal=function(e){return"personal_notes_to_dos"===e},t.userIsPersonal=function(e){var t=(e||{}).settings||{};return"personal_notes_to_dos"===t.use_case||"personally"===t.type||"personally_for_work"===t.type},t.userUseCaseDisplayNames={personal_notes_to_dos:"Personal Notes & To-dos",team_docs_knowledge_base:"Team Docs & Knowledge Base",team_project_management:"Team Project Management"},t.userSources=["friend","family","work","school","press_article","social_media"],t.userSourceDisplayNames={friend:"Personal Friend",family:"Family",work:"Work",school:"School",press_article:"Press Article",social_media:"Social Media"};var o={table:"user_settings",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,settings:n.default.JSON,signup_time:n.default.Number,persona:n.default.String,type:n.default.String,use_case:n.default.String,source:n.default.String,time_zone:n.default.String,locale:n.default.String,disable_analytics:n.default.Boolean,hide_referral_notification:n.default.Boolean,used_desktop_web_app:n.default.Boolean,used_mobile_web_app:n.default.Boolean,used_mac_app:n.default.Boolean,used_windows_app:n.default.Boolean,used_ios_app:n.default.Boolean,used_android_app:n.default.Boolean,created_evernote_getting_started:n.default.Boolean}};t.default=o},NFu9:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("ZQ9l"),s=r("wlCD"),u=r("fVGD"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(l.default,{title:a.createElement("div",{style:{display:"flex"}},a.createElement(s.default,{style:{marginTop:1,marginRight:6}}),a.createElement(u.default,{percentage:this.props.progressPercent}))})},t}(i.default);t.default=c},NJfo:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("oFLp"),c=r("4HCU"),d=r("6rsX"),p=r("unoy"),f=r("r8oj"),h=r("bTAb"),m=r("bFnu"),y=r("n8tN"),g=r("O93e"),v=r("Pl3d"),b=r("VyA+"),w=r("WgIs"),S=r("MBf9"),_=r("sjR4"),k=r("q2qQ"),C=r("sbdd"),E=r("bjn0"),P=r("2Y+N"),x=r("zTdN"),T=r("gbGO"),O=r("DNgp"),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.didPerformAction=!1,t.handleBlur=function(){p.clear(),t.didPerformAction||(t.didPerformAction=!0,S.createAndCommit(function(e){k.remove({store:t.props.store,transaction:e})}))},t.isEditing=t.createComputedStore(function(){var e=t.props.store,r=O.default.state;return Boolean(r.editing&&r.store.id===e.id)}),t.performQuery=function(e){return i(t,void 0,void 0,function(){return l(this,function(t){return this.props.store.isDefaultRecordCache()?[2,c.searchCollections({query:e,limit:20})]:[2,[]]})})},t}return o(t,e),t.prototype.handleCreated=function(){d.setPhase({phase:_.SelectionPhase.Editing}),p.setSelection({store:this.props.store,selection:void 0})},t.prototype.renderComponent=function(){if(this.isEditing.state)return this.renderSearchInput()},t.prototype.renderSearchInput=function(){var e=this,t=this.stores.autocompleteStore.state.query;return s.createElement(v.default,{request:t,performRequest:this.performQuery,debounce:c.defaultSearchDebounce,render:function(t,r,n){var o=(r||[]).map(function(t){var r=E.default.createChildStore(e.props.store,t);return{key:t,render:function(e){return s.createElement(C.default,a({},e,{store:r}))},action:function(){return i(e,void 0,void 0,function(){var e,t,n;return l(this,function(o){switch(o.label){case 0:return this.didPerformAction?[3,2]:(this.didPerformAction=!0,e=this.props.store,t=S.create(),[4,u.replaceBlockWithCollectionAlias({store:e,collectionStore:r,transaction:t})]);case 1:(n=o.sent())&&d.setSelection({stores:[n]}),S.commit({transaction:t}),o.label=2;case 2:return[2]}})})}}});return s.createElement(b.default,{capture:e.isEditing.state},s.createElement(g.default,{loading:!n,isOpen:!0,store:e.stores.autocompleteStore,queryUpdateDebounce:c.defaultSearchDebounce,inputPlaceholder:"Search for a Database...",focus:!0,inputStyle:e.getInputStyle(),onBgClick:e.handleBlur,renderPopup:function(){var e,t;return e=r&&0===o.length?s.createElement(P.default,{title:"Select a database",loading:!n},s.createElement(x.default,{title:"No Results"})):s.createElement(w.default,{initialFocus:0,sections:[{key:0,render:function(e){return s.createElement(P.default,a({},e,{title:"Select a database",loading:!n}))},items:o}]}),t=f.default.isMobile?{menuType:T.default.MenuType.ActionSheet}:{menuType:T.default.MenuType.Popup,width:460},s.createElement(T.default,a({},t),e)}}))}})},t.prototype.getTitleStyle=function(){return{lineHeight:1.3}},t.prototype.getInputStyle=function(){return a({},this.getTitleStyle(),{borderBottom:void 0})},t.stores={autocompleteStore:h.default,mouseStore:m.default},t}(y.default);t.default=M},NMKT:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("gha2"),a=r("VcFn");t.deactivateMenu=function(){a.default.state.isActive&&(o.default.setState(n({},o.default.state,{open:!1})),a.default.setState(n({},a.default.state,{isActive:!1,isAnimatingClosed:!0})))}},NOLh:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("xEkU"),s=r("i8i4"),u=r("2Yor"),c=r("fFtn"),d=r("wldR"),p=r("w5u6"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastStepTime=0,t.paused=!1,t.isVisible=!1,t.didBecomeVisible=!1,t.lastAppliedAnimationStyle={},t.springs={},t.wasAtRest=!0,t.step=function(){if(t.node){var e=Date.now(),r=e-t.lastStepTime,n=t.getApplyStyle(),o={},a=!0;Object.keys(n).forEach(function(e){var i=t.springs[e];i&&!i.step(r)?(o[e]=i.currentValue,a=!1):o[e]=n[e]}),t.renderAnimationStyle(o),t.lastStepTime=e,a?t.wasAtRest||t.handleAnimationEnd():(t.wasAtRest&&t.handleAnimationStart(),t.enqueueStep()),t.wasAtRest=a}},t}return o(t,e),t.prototype.willMountOrUpdate=function(e){!this.isVisible&&e.isVisible&&(this.isVisible=!0,this.didBecomeVisible=!0)},t.prototype.didMountOrUpdate=function(){this.node=s.findDOMNode(this),this.didBecomeVisible&&(this.didBecomeVisible=!1,this.updateSprings(this.props.enterAnimationStyle||{},!0,!1)),this.updateSprings(this.getApplyStyle(),!1,!0)},t.prototype.willUnmount=function(){this.paused&&(this.paused=!1,p.default.unpause())},t.prototype.renderComponent=function(){if(this.isVisible){var e=void 0;return this.isVisible&&!this.props.isVisible?e=this.lastSavedChild:(e=this.props.render(),this.lastSavedChild=e),e}},t.prototype.updateSprings=function(e,t,r){var n=this;void 0===t&&(t=!1),void 0===r&&(r=!0),Object.keys(e).forEach(function(r){var o,a=e[r];if(!i.isUndefined(a)&&!i.isNull(a))if(i.isNumber(a))o=a;else if(i.isString(a)&&n.lastAppliedAnimationStyle[r]&&n.lastAppliedAnimationStyle[r]!==a){var l=n.node.style[r];n.node.style[r]=a,o=n.node.getBoundingClientRect()[r],n.node.style[r]=l}if(!i.isUndefined(o)){var s=n.springs[r];s||((s=new c.default).currentValue=o,n.springs[r]=s);var u=n.getSpringConfig(r);if(s.stiffness=u.stiffness,s.damping=u.damping,s.precision=u.precision,i.isString(n.lastAppliedAnimationStyle[r])&&n.lastAppliedAnimationStyle[r]!==a){var d=n.node.getBoundingClientRect()[r];s.currentValue=d}t&&(s.currentValue=o),s.setEndValue(o)}n.lastAppliedAnimationStyle[r]=a}),r&&(this.lastStepTime=Date.now(),this.step())},t.prototype.enqueueStep=function(){l(this.step)},t.prototype.renderAnimationStyle=function(e){var r=this;if(this.node){var n="";Object.keys(e).forEach(function(o){var a=e[o];"opacity"===o?r.node.style.opacity=u.default(a,0,1):i.isString(a)?r.node.style[o]=a:t.pxProperties[o]?r.node.style[o]=a+"px":t.numericalProperties[o]?t.omittedNumericalProperties[o]!==a&&(r.node.style[o]=a):"translateX"===o?0!==a&&(n+="translateX("+a+"px) "):"translateXPercent"===o?0!==a&&(n+="translateX("+a+"%) "):"translateXViewWidth"===o?0!==a&&(n+="translateX("+a+"vw) "):"translateY"===o?0!==a&&(n+="translateY("+a+"px) "):"translateYPercent"===o?0!==a&&(n+="translateY("+a+"%) "):"translateYViewHeight"===o?0!==a&&(n+="translateY("+a+"vh) "):"scale"===o?1!==a&&(n+="scale("+Math.max(a,0)+") "):"scaleX"===o?1!==a&&(n+="scaleX("+Math.max(a,0)+") "):"scaleY"===o?1!==a&&(n+="scaleY("+Math.max(a,0)+") "):"rotate"===o&&0!==a&&(n+="rotate("+a+"deg) ")});var o=e.opacity,a=i.isNumber(o)&&0!==o&&1!==o;this.props.useCompositeLayer&&(""!==n||a)&&(n+="translateZ(0)"),""!==n?this.node.style.mozTransform=this.node.style.msTransform=this.node.style.webkitTransform=this.node.style.transform=n:this.node.style.transform=null}},t.prototype.getSpringConfig=function(e){return a({},t.defaultSpringConfig,this.props.springConfig&&this.props.springConfig[e]?this.props.springConfig[e]:void 0)},t.prototype.getApplyStyle=function(){var e=this.props,t=e.animationStyle,r=e.exitAnimationStyle;return this.props.isVisible?t||{}:r||{}},t.prototype.handleAnimationStart=function(){this.props.blocking&&!1===this.paused&&(this.paused=!0,p.default.pause()),this.props.onAnimationStart&&this.props.onAnimationStart()},t.prototype.handleAnimationEnd=function(){this.paused&&(this.paused=!1,p.default.unpause()),this.isVisible&&!this.props.isVisible&&(this.isVisible=!1,this.enqueueForceUpdate()),this.props.onAnimationEnd&&this.props.onAnimationEnd()},t.defaultSpringConfig={stiffness:50,damping:10,precision:.001},t.pxProperties={width:!0,height:!0},t.numericalProperties={opacity:!0},t.omittedNumericalProperties={opacity:1},t}(d.default);t.default=f},NOvk:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("KcXv"),s=r("n8tN"),u=r("Dime"),c=r("OWVv"),d=r("fJHT"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){var e=this.props,r=e.store,n=e.disabled,o=l.itemStyle,a=o.paddingTop,s=o.paddingBottom;return i.createElement(c.default,{style:this.getStyle(),left:i.createElement("div",{style:{width:6,height:6,borderRadius:6,background:"currentColor",marginTop:"0.1em"}}),leftStyle:{paddingRight:2},childrenStyle:{display:"flex",flexDirection:"column"}},i.createElement("div",{style:{display:"flex"}},i.createElement(d.default,{style:c.defaultTitleStyle,placeholderStyle:{paddingTop:a,paddingBottom:s},disabled:n,store:r.getBlockTitleStore(),placeholder:"List"}),this.renderDiscussion(t.discussionIndicatorStyle)),!this.props.hideContent&&i.createElement(u.default,{disabled:n,store:r.getContentStore()}))},t.prototype.getStyle=function(){var e={paddingLeft:l.itemStyle.paddingLeft};return a({},e,this.getBlockColorStyle(),this.props.style)},t.discussionIndicatorStyle={paddingLeft:0,marginLeft:-6,paddingBottom:2},t}(s.default);t.default=p},NPnS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("STAJ"),s=r("wldR"),u=r("IdIf"),c=r("njgS"),d=r("mF3+"),p=r("PAkL"),f=r("G4GV"),h=r("i3uR"),m=r("V8so"),y=r("samx"),g=r("y6Dp"),v=r("LeVO"),b=r("unoy"),w=r("6rsX"),S=r("XDBA"),_=r("tzV5"),k=r("MBf9"),C=r("XDBA"),E=r("RvCr"),P=r("r8oj"),x=r("H4VD"),T=r("nM47"),O=r("GNv7"),M=r("lCCU"),I=r("WPWl"),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderActionMenu=function(e){var r=t.props,n=r.groupFormat,o=r.currentGroups,a=r.format,l=r.schema,s=r.collectionViewLocalStore,u=r.hidden;return i.createElement(O.default,{parent:e,groupFormat:n,currentGroups:o,format:a,schema:l,collectionViewLocalStore:s,hidden:u,showRename:!1})},t.handleCollectionGroupValueChange=function(e){var r=t.props,n=r.groupFormat,o=r.schema,a=r.collectionViewLocalStore;if(t.isSelectType()){var i=o[n.property].options||[],s=l.findIndex(function(e){return u.groupValuesEqual(e.value,n.value)},i),c=l.lensPath([n.property,"options",s,"value"]),d=l.set(c,e,o),p=l.assoc("value",e,n);k.createAndCommit(function(e){E.updateBoardGroup({collectionViewLocalStore:a,groupFormat:n,newSchema:d,newGroupFormat:p,transaction:e})})}else if(t.isPersonType()){var f=l.assoc("value",e,n);k.createAndCommit(function(e){E.updateBoardGroup({collectionViewLocalStore:a,groupFormat:n,newGroupFormat:f,transaction:e})})}g.trackConfigureView({view_type:"board",action:"board_rename_group"})},t.handleAddItemClick=function(){if(T.validateCanCreate()){var e=t.props,r=e.groupFormat,n=e.instanceCollectionStore,o=e.onAddItem,a=t.props.collectionViewLocalStore,i=a.state.collectionStore;if(i){var l=C.getGroupResultStores(r,a,i);k.createAndCommit(function(e){if(n){var t=E.createBlockInGroup({parentStore:n,collectionViewLocalStore:a,group:r,results:l,insertAtStart:!0,coerce:!0,transaction:e});if(P.default.isMobile)x.navigateToBlock({store:t});else{var i=t.getBlockTitleStore();w.edit({store:t}),b.setSelectionAtStart({store:i})}o&&o(t),g.trackCreateBlock({from:"board_group_add_item_top",type:"page"})}})}}},t.handleAggregationChange=function(e,r){var n=t.props,o=n.collectionViewLocalStore,a=n.query,i=o.state.collectionViewStore,s=r?[r]:[],u=l.assoc("aggregate",s,a);i&&k.createAndCommit(function(e){_.updateCollectionView({collectionViewStore:i,collectionViewLocalStore:o,update:{query:u},transaction:e})})},t.getAggregationData=t.createComputedStore(function(){var e=t.props,r=e.groupFormat,n=e.collectionViewLocalStore,o=e.query;return S.getAggregationData(o,"board",n.getCurrentAggregationValueResult(),r,void 0)}),t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.disabled,r=e.locked;return i.createElement("div",{style:this.getStyle()},this.renderValue(),this.renderAggregation(),i.createElement("div",{style:{flexGrow:1}}),!t&&!r&&this.renderActionButton(),!t&&this.renderAddButton())},t.prototype.renderAggregation=function(){var e=this.props,t=e.disabled,r=e.locked,n=e.schema,o=this.getAggregationData.state;return i.createElement(y.default,{disabled:t||r,aggregation:o.aggregation,aggregationResult:o.aggregationResult,schema:n,onChange:this.handleAggregationChange})},t.prototype.renderValue=function(){var e=this.props,t=e.groupFormat,r=e.schema,n=e.disabled,o=e.locked,a=e.currentGroups,l=e.instanceCollectionStore,s=this.stores.inputStore;return i.createElement(m.default,{groupFormat:t,currentGroups:a,schema:r,inputStore:s,disabled:n||o,isHiddenGroup:!1,onChange:this.handleCollectionGroupValueChange,parentStore:l})},t.prototype.renderActionButton=function(){return i.createElement(h.default,{popupType:P.default.isMobile?h.default.PopupType.SlideUp:h.default.PopupType.Popup,renderOrigin:function(e){return i.createElement(M.default,a({icon:d.default.dots},e))},render:this.renderActionMenu})},t.prototype.renderAddButton=function(){var e=this;return i.createElement(v.default,{renderTooltip:function(){return"Create new page"},render:function(t){return i.createElement(M.default,a({icon:d.default.plus,onClick:e.handleAddItemClick},t))}})},t.prototype.getPropertySchema=function(){var e=this.props,t=e.groupFormat;return e.schema[t.property]},t.prototype.isSelectType=function(){var e=this.props,t=e.schema[e.groupFormat.property];return t&&c.isSelectType(t)},t.prototype.isPersonType=function(){var e=this.getPropertySchema();return e&&"person"===e.type},t.prototype.getCardWidth=function(){switch((this.props.format||{}).board_cover_size){case"large":return I.default.card.desktop.large.width;case"small":return I.default.card.desktop.small.width;case"medium":default:return I.default.card.desktop.medium.width}},t.prototype.getStyle=function(){var e=this.getCardWidth();return a({display:"flex",alignItems:"center",fontSize:14,width:e,paddingRight:p.default.paddingRight,boxSizing:"content-box",flexShrink:0},this.props.isPopup&&{padding:P.default.isMobile?"6px 16px":"8px 12px 4px",width:"none",minWidth:e})},t.stores={inputStore:f.default},t}(s.default);t.default=A},NQmS:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("r8oj"),a=r("uN94"),i=r("N34Z"),l=r("H4VD"),s=r("y6Dp"),u=r("G4cA"),c=r("lKX+"),d=r("qqdV"),p=r("uN94");t.open=function(e){p.default.setState({currentStage:e.getSteps()[0],flow:e,isLoading:!1}),l.navigate({url:d.onboarding})},t.createOrJoinSpace=function(){var e=o.default.isMobile?a.mobileJoinOrCreateSpaceFlow:a.desktopJoinOrCreateSpaceFlow;t.open(e),p.default.setState(n({},p.default.state,{isCreateOrJoinMenu:!0}))},t.recoverSessionFromImport=function(e){var t=e.spaceId,r=e.spaceViewId;l.navigate({url:d.onboarding}),p.default.setState({currentStage:"desktop_import",flow:a.desktopColdStartFlow,isLoading:!1,creatingSpace:!0,createdSpace:!0,spaceStore:new u.default(t),spaceViewStore:new c.default(r)})},t.goToOnboardingStage=function(e){p.default.setState(n({},p.default.state,{currentStage:e})),s.trackOnboardingStage({stage:e,flow_name:p.default.state.flow.name,is_create_or_join:Boolean(p.default.state.isCreateOrJoinMenu)})},t.setOnboardingCompleted=function(e){var t=e.userStore,r=e.transaction;i.updateValue({store:t,data:{onboarding_completed:!0},transaction:r})},t.setMobileOnboardingCompleted=function(e){var t=e.userStore,r=e.transaction;i.updateValue({store:t,data:{mobile_onboarding_completed:!0},transaction:r})}},"NV/j":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r("q1tI"),s=r("wldR"),u=r("prF1"),c=r("i3uR"),d=r("4VgC"),p=r("qQvp"),f=r("l8Zq"),h=r("zmp8"),m=r("mF3+"),y=r("uSCg"),g=r("qqdV"),v=r("y6Dp"),b=r("A9TN");!function(e){e[e.Windows=0]="Windows",e[e.Mac=1]="Mac",e[e.Mobile=2]="Mobile",e[e.AppStore=3]="AppStore",e[e.PlayStore=4]="PlayStore",e[e.WebClipper=5]="WebClipper"}(i||(i={}));var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDownloadMacApp=function(){v.trackDownloadDesktopApp({platform:"mac",from:t.props.analyticsName})},t.handleDownloadWindowsApp=function(){v.trackDownloadDesktopApp({platform:"windows",from:t.props.analyticsName})},t.handleInstallChromeExtension=function(){v.trackDownloadWebClipper({from:t.props.analyticsName})},t.handleDownloadMobileApp=function(){v.trackDownloadMobileApp({from:t.props.analyticsName})},t.handleAppStoreClick=function(){v.trackDownloadiOSApp({from:t.props.analyticsName})},t.handlePlayStoreClick=function(){v.trackDownloadAndroidApp({from:t.props.analyticsName})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.format;return e===i.Mac?this.renderMacButton():e===i.Windows?this.renderWindowsButton():e===i.Mobile?this.renderMobileButton():e===i.AppStore?this.renderAppStoreButton():e===i.PlayStore?this.renderPlayStoreButton():e===i.WebClipper?this.renderWebClipperButton():void 0},t.prototype.renderMacButton=function(){var e=this;return l.createElement(p.default,{platform:"mac",render:function(r){return l.createElement(u.default,{href:r,external:!0,style:e.props.style},l.createElement(d.default,{onClick:e.handleDownloadMacApp},m.default.appleLogo(t.iconStyle)," ",e.props.title||"Download for Mac"))}})},t.prototype.renderWindowsButton=function(){var e=this;return l.createElement(p.default,{platform:"windows",render:function(r){return l.createElement(u.default,{href:r,external:!0,style:e.props.style},l.createElement(d.default,{onClick:e.handleDownloadWindowsApp},m.default.windowsLogo(t.windowsIconStyle)," ",e.props.title||"Download for Windows"))}})},t.prototype.renderMobileButton=function(){var e=this;return l.createElement(c.default,{style:{width:410,padding:16},popupType:c.default.PopupType.Popup,renderOrigin:function(t){return l.createElement(d.default,a({style:e.props.style},y.default(t,{onClick:e.handleDownloadMobileApp})),e.props.title||"iOS & Android")},render:function(t){return l.createElement(f.default,{analyticsName:e.props.analyticsName,handleClose:t.close})}})},t.prototype.renderAppStoreButton=function(){return l.createElement(u.default,{href:g.appStore},l.createElement(d.default,{onClick:this.handleAppStoreClick},m.default.appleLogo(t.iconStyle)," ",this.props.title||"App Store"))},t.prototype.renderPlayStoreButton=function(){return l.createElement(u.default,{href:g.playStore},l.createElement(d.default,{onClick:this.handlePlayStoreClick},m.default.googlePlay(t.iconStyle)," ",this.props.title||"Play Store"))},t.prototype.renderWebClipperButton=function(){return l.createElement(u.default,{href:"development"===b.default.env?g.devChromeExtension:g.prodChromeExtension,external:!0},l.createElement(d.default,{onClick:this.handleInstallChromeExtension,style:this.props.style},m.default.googleChrome(t.chromeIconStyle)," ",this.props.title||"Install Web Clipper for Chrome"))},t.Format=i,t.iconStyle={fill:h.default.red,width:16,height:16,marginRight:6},t.windowsIconStyle={fill:h.default.red,width:14,height:14,marginRight:8},t.chromeIconStyle={fill:h.default.red,width:16,height:16,marginRight:8},t}(s.default);t.default=w},Na01:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("wS9/"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{style:this.getStyle(),onMouseMove:this.props.onMouseMove,onMouseLeave:this.props.onMouseLeave,className:this.props.className},this.props.left&&i.createElement("div",{style:this.getLeftStyle()},this.props.left),this.props.icon&&i.createElement("div",{style:this.getIconStyle()},this.props.icon),this.renderChildren(),this.props.right&&i.createElement("div",{style:this.getRightStyle()},this.props.right))},t.prototype.renderChildren=function(){return i.createElement("div",{style:a({},t.childrenStyle,{overflow:"hidden",textOverflow:this.props.right&&!this.props.isMobile?"clip":"ellipsis"},this.props.childrenStyle)},this.props.children)},t.prototype.getStyle=function(){var e=a({},this.props.isMobile?t.wrapMobileStyle:t.wrapStyle);if(this.props.isMobile){this.props.disableMobileBorder||(e.boxShadow="0 1px 0 "+this.theme.regularDividerColor),e.marginBottom=this.props.shouldShowMobileMarginBotton?12:1;var r=this.props.style&&"number"==typeof this.props.style.paddingLeft?this.props.style.paddingLeft:"number"==typeof e.paddingLeft?e.paddingLeft:0;e.paddingLeft=s.default.calcPaddingLeft(r)}else this.props.style&&this.props.style.paddingLeft&&(e.paddingLeft=this.props.style&&this.props.style.paddingLeft);return a({},e,{paddingLeft:e.paddingLeft},this.props.style)},t.prototype.getLeftStyle=function(){return{flexShrink:0,flexGrow:0,borderRadius:3,color:this.theme.mediumTextColor,width:this.props.isMobile?26:22,height:this.props.isMobile?24:22,display:"flex",alignItems:"center",justifyContent:"center",marginRight:this.props.icon?0:4}},t.prototype.getIconStyle=function(){return{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:this.props.isMobile?28:22,height:this.props.isMobile?24:18,marginRight:4}},t.prototype.getRightStyle=function(){return{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%"}},t.wrapStyle={display:"flex",alignItems:"center",minHeight:27,fontSize:14,paddingTop:2,paddingBottom:2,paddingLeft:14,paddingRight:14,width:"100%"},t.wrapMobileStyle={display:"flex",alignItems:"center",minHeight:26,fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,width:"100%",userSelect:"none",WebkitUserSelect:"none"},t.childrenStyle={flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0},t}(l.default);t.default=u},NcGt:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("q1tI"),c=r("AXyr"),d=r("wHWa"),p=r("VBxf"),f=r("qKs6"),h=r("eamm"),m=r("IwFn"),y=r("t+pW"),g=r("RGVD"),v=r("2m/B"),b=r("yNyh"),w=r("wlCD"),S=r("2A6Q"),_=r("rQb/"),k=r("MYfK"),C=r("/6eU"),E=r("MBf9"),P=r("hU3F"),x=r("bkwR"),T=r("Sb6f"),O=r("p+Y9"),M=r("1y3T"),I=r("QcDD"),A=r("vJXr"),D=r("toub"),L=r("zmp8"),R=r("Ng05"),B=r("IULH"),j=r("bxQm"),V=r("YoD2"),F=r("lEhh"),N=r("sSHh"),U=r("qqdV"),W=r("r8oj"),z=r("wS9/"),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleUploadProfilePhoto=function(){O.openFilePickerAndUpload({onStart:t.handleUploadStart,bucket:"public",onError:t.handleUploadError,onComplete:t.handleUploadComplete,accept:"image/*"})},t.handleClearEmailInput=function(){t.stores.changeEmailStore.set({open:!0,email:"",passwordSent:!1,password:"",error:void 0})},t.handleChangeEmailClick=function(){t.stores.changeEmailStore.set({open:!0,email:"",passwordSent:!1,password:"",error:void 0})},t.handleEmailChange=function(e){t.stores.changeEmailStore.set({open:!0,email:e.target.value,passwordSent:!1,password:"",error:void 0})},t.handleSendEmailVerification=function(){return i(t,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,x.sendEmailVerification({email:this.stores.changeEmailStore.get().email})];case 1:return"success"===(e=t.sent()).type?this.stores.changeEmailStore.setState(a({},this.stores.changeEmailStore.state,{passwordSent:!0,password:"",error:void 0})):this.stores.changeEmailStore.setState(a({},this.stores.changeEmailStore.state,{error:e.error.message})),[2]}})})},t.handlePasswordChange=function(e){t.stores.changeEmailStore.setState(a({},t.stores.changeEmailStore.state,{password:e.target.value}))},t.handleCancelChangeEmail=function(){t.stores.changeEmailStore.reset()},t.handleSubmitCode=function(){return i(t,void 0,void 0,function(){var e,t,r,n;return l(this,function(o){switch(o.label){case 0:return e=this.stores.changeEmailStore.get(),t=e.email,r=e.password,[4,x.changeEmail({email:t,password:r})];case 1:return"success"===(n=o.sent()).type?this.handleCancelChangeEmail():this.stores.changeEmailStore.setState(a({},this.stores.changeEmailStore.state,{error:n.error.message})),[2]}})})},t.handleUpdateClick=function(){var e=t.stores.spaceProfileSettingsStore.state,r=e.givenName,n=e.familyName,o=e.profilePhoto,i=e.startDayOfWeek;r&&n?(E.createAndCommit(function(e){var t=I.default.state,a=t.userStore,l=t.userSettingsStore;(a&&d.updateUserData({userStore:a,data:{givenName:r,familyName:n,profilePhoto:o},transaction:e}),l)&&(l.getSettings().start_day_of_week!==i&&f.updateUserSettings({userSettingsStore:l,data:{start_day_of_week:i},transaction:e}))}),D.default.setState(a({},D.default.state,{open:!1}))):p.showError({error:new Error("Please fill in both given name and family name.")})},t.handleStartOfWeekToggle=function(){var e=t.stores.spaceProfileSettingsStore.state,r=e.startDayOfWeek;t.stores.spaceProfileSettingsStore.setState(a({},e,{startDayOfWeek:r?0:1}))},t.handleCancelClick=function(){D.default.setState(a({},D.default.state,{open:!1}))},t.handleGivenNameChange=function(e){t.stores.spaceProfileSettingsStore.setState(a({},t.stores.spaceProfileSettingsStore.state,{givenName:e.target.value}))},t.handleFamilyNameChange=function(e){t.stores.spaceProfileSettingsStore.setState(a({},t.stores.spaceProfileSettingsStore.state,{familyName:e.target.value}))},t.handleUploadStart=function(){t.stores.spaceProfileSettingsStore.setState(a({},t.stores.spaceProfileSettingsStore.state,{uploadingProfilePhoto:!0}))},t.handleUploadError=function(){t.stores.spaceProfileSettingsStore.setState(a({},t.stores.spaceProfileSettingsStore.state,{uploadingProfilePhoto:!1})),p.showError({error:new Error("Upload failed.")})},t.handleUploadComplete=function(e){t.stores.spaceProfileSettingsStore.setState(a({},t.stores.spaceProfileSettingsStore.state,{profilePhoto:e[0],uploadingProfilePhoto:!1}))},t.handleDeleteAccountClick=function(){return i(t,void 0,void 0,function(){var e,t;return l(this,function(r){switch(r.label){case 0:return(e=I.default.state.userStore)&&(t=e.getValue())?[4,c.open({message:s.createElement("div",null,s.createElement("div",null,"This action cannot be undone. This will permanently delete your entire account. All private workspaces will be deleted, and you will be removed from all shared workspaces. Please type in your email to confirm."),s.createElement(V.default,{style:{marginTop:16},translations:{es:"Esta acción no se puede deshacer. Esto eliminará permanentemente su cuenta completa. Se eliminarán todas las áreas de trabajo privadas y se eliminará de todas las áreas de trabajo compartidas. Por favor, escriba su correo electrónico para confirmar.",ru:"Это действие не может быть отменено. Это навсегда удалит всю вашу учетную запись. Все частные рабочие области будут удалены, и вы будете удалены из всех общих рабочих областей. Пожалуйста, введите ваш адрес электронной почты для подтверждения.",zh:"此操作无法撤消。 这将永久删除您的整个帐户。 将删除所有私有工作空间，您将从所有共享工作空间中删除。 请输入您的电子邮箱进行确认。",ko:"이 작업은 실행 취소 할 수 없습니다. 이렇게하면 전체 계정이 영구적으로 삭제됩니다. 모든 개인 작업 공간이 삭제되고 모든 공유 작업 공간에서 제거됩니다. 확인을 위해 이메일을 입력하십시오.",de:"Diese Aktion kann nicht rückgängig gemacht werden. Dadurch wird Ihr gesamtes Konto dauerhaft gelöscht. Alle privaten Arbeitsbereiche werden gelöscht und Sie werden aus allen freigegebenen Arbeitsbereichen entfernt. Bitte geben Sie Ihre E-Mail-Adresse zur Bestätigung ein.",fr:"Cette action ne peut pas être annulée. Cela supprimera définitivement votre compte en entier. Tous les espaces de travail privés seront supprimés et vous serez supprimé de tous les espaces de travail partagés. Veuillez taper votre email pour confirmer.",ja:"この操作を元に戻すことはできません。 これによりアカウント全体が完全に削除されます。 すべてのプライベートワークスペースが削除され、あなたはすべての共有ワークスペースから削除されます。 確認のためにメールアドレスを入力してください。",it:"Questa azione non può essere annullata. Questo eliminerà definitivamente l'intero account. Tutti gli spazi di lavoro privati verranno eliminati e verranno rimossi da tutti gli spazi di lavoro condivisi. Inserisci la tua email per confermare.",pt:"Essa ação não pode ser desfeita. Isso excluirá permanentemente sua conta inteira. Todos os espaços de trabalho privados serão excluídos e você será removido de todos os espaços de trabalho compartilhados. Por favor, digite o seu email para confirmar.",nl:"Deze actie kan niet ongedaan gemaakt worden. Hiermee wordt uw gehele account permanent verwijderd. Alle privéwerkruimten worden verwijderd en u wordt verwijderd uit alle gedeelde werkruimten. Voer je e-mailadres in om te bevestigen.",pl:"Tego działania nie można cofnąć. Spowoduje to trwałe usunięcie całego konta. Wszystkie prywatne obszary robocze zostaną usunięte, a użytkownik zostanie usunięty ze wszystkich współużytkowanych obszarów roboczych. Wpisz swój e-mail, aby potwierdzić.",sv:"Den här åtgärden kan inte ångras. Detta tar bort hela ditt konto permanent. Alla privata arbetsytor kommer att raderas, och du kommer att tas bort från alla delade arbetsytor. Vänligen skriv in din email för att bekräfta.",uk:"Цю дію не можна скасувати. Таким чином буде видалено весь обліковий запис назавжди. Всі приватні робочі області будуть видалені, і ви будете видалені з усіх спільних робочих областей. Будь ласка, введіть електронний лист для підтвердження.",no:"Denne handlingen kan ikke fortrykkes. Dette vil permanent slette hele kontoen din. Alle private arbeidsområder blir slettet, og du vil bli fjernet fra alle delte arbeidsområder. Vennligst skriv inn din epost for å bekrefte.",tr:"Bu işlem geri alınamaz. Bu işlem hesabınızın tamamını kalıcı olarak siler. Tüm özel çalışma alanları silinecek ve paylaşılan tüm çalışma alanlarından kaldırılacaksınız. Lütfen onaylamak için e-postanızı yazın.",cs:"Tuto akci nelze vrátit zpět. Tím bude trvale smazán celý váš účet. Všechny soukromé pracovní prostory budou smazány a budete ze všech sdílených pracovních prostor odstraněni. Pro potvrzení zadejte svůj e-mail.",vi:"Hành động này không thể được hoàn tác. Điều này sẽ xóa vĩnh viễn toàn bộ tài khoản của bạn. Tất cả các không gian làm việc riêng tư sẽ bị xóa và bạn sẽ bị xóa khỏi tất cả các không gian làm việc chung. Vui lòng nhập email của bạn để xác nhận.",da:"Denne handling kan ikke fortrydes. Dette vil permanent slette hele din konto. Alle private arbejdsområder slettes, og du vil blive fjernet fra alle delte arbejdsområder. Indtast venligst din email for at bekræfte.",hu:"Ez a művelet nem visszavonható. Ez véglegesen törli a teljes fiókot. Minden privát munkaterület törlődik, és eltávolításra kerül minden megosztott munkaterületről. Kérjük, írja be e-mail címét, hogy megerősítse.",ar:"لا يمكن التراجع عن هذا الإجراء. سيؤدي الإجراء إلى حذف حسابك بالكامل. سيتم أيضا حذف جميع مساحات العمل الخاصة ، وستتم إزالتك من جميع مساحات العمل المشتركة. يرجى كتابة البريد الإلكتروني الخاص بك للتأكيد.",th:"การกระทำนี้ไม่สามารถยกเลิกได้ นี่จะเป็นการลบบัญชีทั้งหมดของคุณอย่างถาวร พื้นที่ทำงานส่วนตัวทั้งหมดจะถูกลบและคุณจะถูกลบออกจากพื้นที่ทำงานที่ใช้ร่วมกันทั้งหมด กรุณาพิมพ์อีเมลของคุณเพื่อยืนยัน",he:"לא ניתן לבטל פעולה זו. פעולה זו תמחק לצמיתות את כל החשבון שלך. כל סביבות העבודה הפרטיות יימחקו, ותוסר מכל סביבות העבודה המשותפות. הקלד את האימייל שלך כדי לאשר.",fi:"Tätä toimintoa ei voi peruuttaa. Tämä poistaa koko tilin pysyvästi. Kaikki yksityiset työtilat poistetaan ja poistetaan kaikista jaetuista työtiloista. Vahvistaaksesi kirjoita sähköpostiosoitteesi.",id:"Tindakan ini tidak bisa dibatalkan. Ini akan secara permanen menghapus seluruh akun Anda. Semua ruang kerja pribadi akan dihapus, dan Anda akan dihapus dari semua ruang kerja bersama. Ketikkan email Anda untuk mengonfirmasi."}})),acceptLabel:"Permanently Delete Account",requiredInputValue:t.email})]:[2];case 1:return r.sent()&&d.deleteAccount(),[2]}})})},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t);var r=this.stores.spaceProfileSettingsStore,n=I.default.state,o=n.userStore,a=n.userSettingsStore;if(o&&a){var i=r.getValueForUser(o,a);i&&r.setState(i)}},t.prototype.renderComponent=function(){return A.default.state.online?this.renderSettings():this.renderOfflineMessage()},t.prototype.renderOfflineMessage=function(){return s.createElement(S.default,null,s.createElement(m.default,{style:{textAlign:"center"}},"Please go online to manage your profile."))},t.prototype.renderSettings=function(){var e=this,t=I.default.state.userStore;if(t){t.getValue();var r=this.stores.spaceProfileSettingsStore.state,n=r.profilePhoto,o=r.uploadingProfilePhoto,a=r.givenName,i=r.familyName,l=r.startDayOfWeek;return s.createElement(S.default,{controlRow:this.renderControlRow()},s.createElement(N.default,{title:s.createElement("span",null,"Changes to account settings will apply to all of your workspaces."," ",s.createElement("span",{style:{textDecoration:"underline"}},"Learn more.")),href:U.guides.profileSettings,analyticsFrom:"profile_settings"}),S.default.renderDivider(),s.createElement(_.default,null,"Photo"),n&&s.createElement(M.default,{url:n,permissionRecord:void 0,stripGoogleIconQuery:!0,width:90,render:function(e,t){return s.createElement("div",{style:{width:90,height:90}},s.createElement(v.default,{src:t,style:{width:90,height:90,objectFit:"cover",borderRadius:"100%"}}))}}),s.createElement(B.default,{isLarge:!0,onClick:this.handleUploadProfilePhoto,style:{marginTop:8,marginBottom:4}},s.createElement("div",{style:{display:"flex",alignItems:"center"}},s.createElement("span",null,"Upload Photo"),o&&s.createElement(w.default,{style:{marginLeft:4}}))),S.default.renderDivider(),s.createElement(_.default,null,"Personal Info"),s.createElement(k.default,null,"Email"),s.createElement("div",null,s.createElement(g.default,{format:g.default.Format.EmailOnly,style:{display:"inline",marginRight:12}}),s.createElement(j.default,{onClick:this.handleChangeEmailClick},"Change Email")),s.createElement(C.default,{open:this.stores.changeEmailStore.get().open,onDismiss:this.handleCancelChangeEmail,render:function(){return s.createElement("div",{style:{width:460,minHeight:360,padding:32,borderRadius:3,background:e.theme.contentBackground,fontSize:14}},e.renderModalContent())}}),s.createElement(k.default,{hasMarginTop:!0},"Given Name"),s.createElement(b.default,{value:a,onChange:this.handleGivenNameChange}),s.createElement(k.default,{hasMarginTop:!0},"Family Name"),s.createElement(b.default,{value:i,onChange:this.handleFamilyNameChange}),S.default.renderDivider(),s.createElement("div",{style:this.getSettingsOptionStyle()},s.createElement("div",{style:{width:"100%"}},s.createElement(_.default,null,"Calendar Setting"),s.createElement("div",{onClick:this.handleStartOfWeekToggle,style:{display:"flex",alignItems:"flex-start",marginBottom:12,cursor:"pointer"}},s.createElement("div",{style:{marginRight:8,flexGrow:1}},"Start week on Monday",s.createElement(m.default,{style:{marginTop:2,width:"80%"}},"This will change how all calendars in your app look.")),s.createElement("div",{style:{marginTop:5}},s.createElement(F.default,{on:1===l,isAndroid:W.default.isAndroid}))))),S.default.renderDivider(),s.createElement(_.default,null,"Danger Zone"),s.createElement(B.default,{isLarge:!0,isRed:!0,onClick:this.handleDeleteAccountClick},"Delete My Account"))}},t.prototype.renderModalContent=function(){var e=this.stores.changeEmailStore.get();return s.createElement(u.Fragment,null,s.createElement("div",{style:{marginBottom:14}},"Your current email is"," ",s.createElement(g.default,{format:g.default.Format.EmailOnly,style:{display:"inline",fontWeight:T.default.fontWeight.bold}}),". Please enter a new email and we will forward you a verification code."),s.createElement("div",null,s.createElement(b.default,{value:e.email,onChange:this.handleEmailChange,onSubmit:this.handleSendEmailVerification,showClearButton:!0,onClearButtonClick:this.handleClearEmailInput,placeholder:"Enter new email",style:{padding:"4px 8px"},focusInitial:!0})),!e.passwordSent&&s.createElement(u.Fragment,null,e.error&&s.createElement("div",{style:{color:L.default.red,fontSize:12,marginTop:4,marginLeft:8}},e.error),s.createElement("div",{style:{marginTop:14}},s.createElement(R.default,{isLarge:!0,onClick:this.handleSendEmailVerification},"Send Verification Code"))),e.passwordSent&&s.createElement(u.Fragment,null,s.createElement("div",{style:{marginTop:12,marginBottom:14}},"We just sent you a temporary verification code to"," ",s.createElement("span",{style:{fontWeight:T.default.fontWeight.bold}},e.email),"."),s.createElement("div",null,s.createElement(b.default,{value:e.password,onChange:this.handlePasswordChange,onSubmit:this.handleSubmitCode,placeholder:"Enter verification code",focusInitial:!0,style:{padding:"4px 8px"}})),e.error&&s.createElement("div",{style:{color:L.default.red,fontSize:12,marginTop:4,marginLeft:8}},e.error),s.createElement(R.default,{isLarge:!0,style:{marginTop:14},onClick:this.handleSubmitCode},"Change Email")))},t.prototype.renderControlRow=function(){return s.createElement("div",{style:{display:"flex"}},s.createElement(R.default,{isLarge:!0,onClick:this.handleUpdateClick},"Update"),s.createElement(B.default,{isLarge:!0,style:{marginLeft:12},onClick:this.handleCancelClick},"Cancel"))},t.prototype.getSettingsOptionStyle=function(){return{display:"flex",alignItems:"flex-start",width:"100%",paddingLeft:W.default.isMobile?z.default.paddingLeft:0,paddingRight:W.default.isMobile?z.default.paddingRight:0}},t.stores={spaceProfileSettingsStore:h.default,changeEmailStore:P.default.of({open:!1,email:"",passwordSent:!1,password:""})},t}(y.default);t.default=H},NcKA:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("q1tI"),c=r("wldR"),d=r("RuPz"),p=r("r8oj"),f=r("Ripq"),h=r("gbGO"),m=r("WgIs"),y=r("2Y+N"),g=r("HTHG"),v=r("SR/M"),b=r("Oy36"),w=r("i3uR"),S=r("wXH4"),_=r("frzs"),k=r("QcDD"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPopup=function(){var e,r,n=d.default.state;if(n.open){var o=k.default.state.userRootStore;if(o){var c=g.getUserMemberOrAdminSpaceViewStores(o),w=[],S=function(e){var r=e.getSpaceStore();if(r){var o=r.getName(),s=r.getIcon();w.push({key:e.id,action:function(){return i(t,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,f.forkPageWithLoadingAndNavigate({store:n.store,spaceStore:r,spaceViewStore:e,isPrivate:!0})];case 1:return t.sent(),[2]}})})},render:function(e){return u.createElement(v.default,a({title:o,icon:u.createElement(b.default,{icon:s,isEmptyPage:!1,title:o,size:p.default.isMobile?24:20,disabled:!0})},e))}})}};try{for(var C=s(c),E=C.next();!E.done;E=C.next()){S(E.value)}}catch(t){e={error:t}}finally{try{E&&!E.done&&(r=C.return)&&r.call(C)}finally{if(e)throw e.error}}var P,x=[{key:"spaces",render:function(e){return u.createElement(y.default,a({title:p.default.isMobile?void 0:"Choose a Workspace",isTitleUppercase:!0},e))},items:w},{key:"logout",render:function(e){return u.createElement(y.default,a({},e,{topBorder:!0}))},items:[{key:"logout",action:_.logout,render:function(e){var t=k.default.state.userStore,r="";if(t){var n=t.getValue();n&&(r=" ("+n.email+")")}return u.createElement(v.default,a({caption:"Log Out"+r},e))}}]}];return P=p.default.isMobile?{menuType:h.default.MenuType.Modal,title:"Choose a Workspace",right:"Cancel",onClickRight:f.closeForkPagePopup}:{menuType:h.default.MenuType.Popup},u.createElement(h.default,a({},P),u.createElement(m.default,{sections:x,initialFocus:1}))}}},t}return o(t,e),t.prototype.renderComponent=function(){return u.createElement(S.default,{popupType:p.default.isMobile?w.default.PopupType.SlideUp:w.default.PopupType.Popup,open:d.default.state.open,render:this.renderPopup,originGap:8,onDismiss:f.closeForkPagePopup,originRect:d.default.state.originRect})},t}(c.default);t.default=C},NdY1:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("r8oj"),s=r("TDb4"),u=r("CIk0"),c=r("TmDR"),d=r("iDga"),p=r("d9nj"),f=r("PiSS"),h=r("zK7c"),m=r("t+pW"),y=r("wZk+"),g=r("2WqK"),v=r("KYd6"),b=r("QhBr"),w=r("szb2"),S=r("h5Kq"),_=r("prF1"),k=r("LeVO"),C=r("/YYm"),E=r("pl8j"),P=r("TAMl"),x=r("ZbKq"),T=r("AXh+"),O=r("mF3+"),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props.store;return i.createElement(h.default,{store:t,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:function(r){return i.createElement("div",a({},r),i.createElement("div",{style:e.getStyle()},e.renderOpenAsPageButton(),e.renderMoveToMenu(),i.createElement(c.default,{store:t,isMobile:!1,isInlineCollection:!1}),i.createElement("div",{style:{flexGrow:1,flexShrink:1}}),e.renderActionButtons()),i.createElement(S.default,{bannerStore:b.default}))}})},t.prototype.renderOpenAsPageButton=function(){var e=this,t=this.props.store,r=C.default({store:t,fullyQualified:!1});return i.createElement(k.default,{renderTooltip:function(){return i.createElement("div",null,i.createElement("div",null,"Navigate to this page"),i.createElement(s.default,{style:{color:e.theme.mediumInvertedTextColor},name:"commandEnter"}))},render:function(t){return i.createElement(_.default,a({href:r,style:{marginRight:e.props.shouldShowMoveToMenu?0:8}},t),i.createElement(p.default,{isGray:!0,icon:O.default.openAsPageThick},"Open as Page"))}})},t.prototype.renderMoveToMenu=function(){var e=w.default.state;if(e.open&&this.props.shouldShowMoveToMenu)return i.createElement(d.default,{store:this.props.store,saveParent:e.saveParent})},t.prototype.renderActionButtons=function(){var e=this.props,t=e.store,r=e.spaceStore,n=e.spaceViewStore,o=T.userHasPermissionViaPublicAccess(t);return i.createElement("div",{style:{flexGrow:0,flexShrink:0,display:"flex",alignItems:"stretch"}},t.canEdit()&&i.createElement(f.default,{presenceStore:this.props.presenceStore}),r&&n&&!o&&i.createElement(g.default,{store:t,buttonPopupStore:P.default}),!l.default.isMobile&&r&&n&&!o&&i.createElement(v.default,{blockStore:t,spaceStore:r,buttonPopupStore:x.default}),r&&n&&!o&&i.createElement(u.default,{store:t,spaceViewStore:n}),!l.default.isMobile&&r&&n&&!o&&i.createElement(y.default,{store:t,buttonPopupStore:E.default}))},t.prototype.getStyle=function(){var e=l.default.isMobile?4:12;return{height:t.height,display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:e,paddingRight:e}},t.height=45,t}(m.default);t.default=M},NfIW:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("2bwL"),i=r("VBxf"),l=r("rXc8"),s=function(){function e(){this.transactionStore=new l.default("LocalTransactionStore3",!0),this.tasks=[]}return e.prototype.saveTask=function(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:this.tasks.push(e),a.default.setOrIncTotal(this.tasks.length),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.transactionStore.set(e.id,e)];case 2:return r.sent(),[3,4];case 3:throw t=r.sent(),i.showError({error:new Error("There was an issue persisting your edits. Please message us for help.")}),t;case 4:return[2]}})})},e.prototype.removeTask=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return this.tasks=this.tasks.filter(function(t){return t.id!==e}),a.default.updateRemaining(this.tasks.length),[4,this.transactionStore.remove(e)];case 1:return t.sent(),[2]}})})},e.prototype.refreshTasks=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e=[],[4,this.transactionStore.scan(function(t,r){e.push(r)})];case 1:return t.sent(),e.sort(function(e,t){return e.timestamp-t.timestamp}),a.default.updateRemaining(e.length),this.tasks=e,[2]}})})},e}();t.default=s},Nfcv:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("r8oj"),i=r("oAJy"),l=r("uzCt");t.initializeStorage=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return i.config({name:"Notion",storeName:"notion",version:1}),e=[i.INDEXEDDB,i.WEBSQL,i.LOCALSTORAGE],a.default.isCordova?[4,i.defineDriver(l)]:[3,2];case 1:t.sent(),e.unshift(l._driver),t.label=2;case 2:return[4,i.setDriver(e)];case 3:return t.sent(),[2]}})})},t.getItem=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){return[2,i.getItem(e)]})})},t.setItem=function(e,t){return n(this,void 0,void 0,function(){var r,n;return o(this,function(o){switch(o.label){case 0:return(r=JSON.stringify(t))?(n=JSON.parse(r.replace(/\u2028/g,"").replace(/\u2029/g,"")),[4,i.setItem(e,n)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.removeItem=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){return[2,i.removeItem(e)]})})},t.scanItems=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){return[2,i.iterate(function(t,r){e(r,t)})]})})},t.getSize=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return[2,i.length()]})})},t.clearStorage=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return[2,i.clear()]})})}},Ng05:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("MeYt"),u=r("zmp8"),c=r("Sb6f"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,{onClick:this.props.onClick,disabled:this.props.disabled,disabledFeedback:!0,style:a({},t.buttonStyle,this.props.isLarge&&{height:32},this.props.style),hoveredStyle:{background:this.theme.blueButtonHoveredBackground},pressedStyle:{background:this.theme.blueButtonPressedBackground},onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.children)},t.buttonStyle={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,whiteSpace:"nowrap",height:28,borderRadius:3,background:u.default.blue,color:u.default.white,fill:u.default.white,lineHeight:1.2,paddingLeft:12,paddingRight:12,fontSize:14,fontWeight:c.default.fontWeight.medium,boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset, rgba(15, 15, 15, 0.1) 0px 1px 2px"},t}(l.default);t.default=d},Ng8H:function(e,t,r){"use strict";var n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("udrG"),l=r("cBa6"),s=r("r8oj"),u=r("wpmu"),c=r("y6Dp"),d=r("jZoB"),p=r("N34Z"),f=r("6rsX"),h=r("nM47"),m=r("Ajfl"),y=r("TM4X"),g=r("unoy"),v=r("X6Ne"),b=r("VpIZ"),w=r("VpIZ"),S=r("DNgp"),_=r("43ch"),k=r("6Jq+"),C=r("w5u6"),E=r("1P/O"),P=r("EarS"),x=r("AmMh"),T=r("HRSx"),O=((n={})[i.default.toggle]=!0,n);t.isNonNavigableTitle=function(e){if("block"===e.table){var t=u.default.createChildStore(e,e.id).getValue();return t&&!w.isNavigableType(t)}return!1},t.isNonMediaCaption=function(e){if("block"===e.table){var t=u.default.createChildStore(e,e.id).getValue();return t&&!w.isCaptionType(t)}return!1};t.emptyAnnotatedContentBlockEmptyTextEnter=function(e){y.annotatedContentBlockBackspaceAtBeginning(e)},t.startOfTextEnter=function(e){var r,n,l=e.store,u=e.transaction,h=_.default.findEditableWithStore(l);if(h){var m=h.getContextClosestSelectable();if(m){var y=k.default.closestList(l,!1),b=m.props.store;if(y.ancestor){var w=b.getValue();if(w){var S=p.createBlock({type:w.type,recordCacheStore:l.recordCacheStore,transaction:u}),T=o({},w,{id:S.id,ignore_block_count:void 0});if(p.setValue({store:S,value:T,transaction:u}),d.insertAfter({parent:y.ancestor,after:b,insert:S,transaction:u}),t.isNonNavigableTitle(l)&&b){var O=b.getContentStores(),M=b.getContentStore(),I=S.getContentStore();try{for(var A=a(O),D=A.next();!D.done;D=A.next()){var L=D.value;d.remove({parent:M,remove:L,transaction:u}),d.append({parent:I,append:L,transaction:u})}}catch(e){r={error:e}}finally{try{D&&!D.done&&(n=A.return)&&n.call(A)}finally{if(r)throw r.error}}}var R={id:w.id,version:w.version,type:i.default.text,parent_id:w.parent_id,parent_table:w.parent_table,alive:!0};p.setValue({store:b,value:R,transaction:u}),w.type===i.default.toggle&&P.setToggle(S.id,E.default.isOpen(b.id)),C.default.afterNextFlush(function(){var e=x.default.findComponent(function(e){return e.props.store.id===S.id});e&&f.edit({store:e.props.store});var t=_.default.findComponent(function(e){return e.props.store.id===S.id});t&&g.setSelectionAtStart({store:t.props.store})}),c.trackCreateBlock({from:"text_enter",type:i.default.text}),s.default.isMobile&&C.default.afterNextFlush(v.mobileAutoScroll)}}}}},t.defaultEnter=function(e){var r,n,o=e.store,l=e.transaction,s=e.selection,u=_.default.findEditableWithStore(o);if(u){var h=u.getContextClosestSelectable();if(h){var y=k.default.closestList(o,!1),v=h.props.store;if(y.ancestor){m.deleteSelection({store:o,selection:s,transaction:l});var w=S.default.state;s=w.editing?w.selection:s;var C=m.deleteAfterSelection({store:o,selection:s,transaction:l}),P=v?v.getType():null,x=v?v.getValue():null,M=void 0;if(v&&P===i.default.toggle&&E.default.isOpen(v.id))M=i.default.text;else if(x&&x.content&&x.content.length>0&&T.enterIntoNonEmptyChildrenTypes[x.type]){M=i.default.text;var I=v.getContentStores()[0];if(I){var A=I.getValue();A&&T.enterIntoNonEmptyChildrenTypes[A.type]&&(M=A.type)}}else M=x&&P&&!b.isResetOnEnterType(x)&&t.isNonNavigableTitle(o)&&t.isNonMediaCaption(o)?P:i.default.text;var D=p.createBlock({type:M,recordCacheStore:o.recordCacheStore,transaction:l}),L=y.ancestor.getValue()||[],R=void 0,B=!1;if(v&&P===i.default.toggle&&E.default.isOpen(v.id)){var j=v.getContentStore();B=!0,R=d.prepend({parent:j,prepend:D,transaction:l})}else if(v&&x&&x.content&&x.content.length>0&&T.enterIntoNonEmptyChildrenTypes[x.type]){j=v.getContentStore();B=!0,R=d.prepend({parent:j,prepend:D,transaction:l})}else R=v&&L.indexOf(v.id)>=0?d.insertAfter({parent:y.ancestor,after:v,insert:D,transaction:l}):d.prepend({parent:y.ancestor,prepend:D,transaction:l});var V=R.child;if(t.isNonNavigableTitle(o)&&P&&!B&&!O[P]&&v){var F=v.getContentStores(),N=v.getContentStore(),U=V.getContentStore();try{for(var W=a(F),z=W.next();!z.done;z=W.next()){var H=z.value;d.remove({parent:N,remove:H,transaction:l}),d.append({parent:U,append:H,transaction:l})}}catch(e){r={error:e}}finally{try{z&&!z.done&&(n=W.return)&&n.call(W)}finally{if(r)throw r.error}}}f.edit({store:V});var q=V.getBlockTitleStore();m.insertDeletedSelection({store:q,selection:{startIndex:0,endIndex:0},deleteAfterSelectionResult:C,transaction:l}),g.setSelectionAtStart({store:q}),c.trackCreateBlock({from:"text_enter",type:M})}}}},t.enter=function(e){var r=e.store,n=e.selection;h.validateCanCreate()&&(!function(e){var t=e.recordStoreParent();return t instanceof u.default&&e&&b.isAnnotatedContentType(t.getValue())&&0===l.getText(t.getTitleValue()).length}(r)?function(e,t){return e&&0===t.startIndex&&0===t.endIndex}(r,n)&&t.isNonNavigableTitle(r)&&t.isNonMediaCaption(r)?t.startOfTextEnter(e):t.defaultEnter(e):t.emptyAnnotatedContentBlockEmptyTextEnter(e),s.default.isMobile||C.default.afterNextFlush(function(){v.scrollToSelection()}))}},NiNI:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,iconSvg:l.default.video,preserveScale:!0,mediaMenuCurrentTab:"embed",mediaMenuTabs:["embed","file"],mediaMenuEmbedCaption:"Works with YouTube, Vimeo, and more...",embedButtonText:"Embed Video",urlInputPlaceholder:"Paste the video link..."}),"Embed or Upload a Video")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},Nn0J:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{inputValue:"",openPropertyActionMenu:void 0}},t}(r("LEzx").default);t.default=a},NoAG:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"collection_view",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,type:n.default.String,name:n.default.String,icon:n.default.String,query:n.default.JSON,format:n.default.JSON,page_sort:n.default.StringArray,parent_id:n.default.UUID,parent_table:n.default.String,alive:n.default.Boolean},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0,type:!0},defaultColumnValues:{alive:!1}};t.default=o},Nvzn:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e||(e=""),e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}},"O+wX":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("hfHo"),a=r("nFzZ"),i=r("D2XV");function l(e){var t=e.start_date,r=e.date_format,n=e.userTimeZone,a=o.default.tz(t,i.persistedDateFormat,n);if("relative"===r){var l=i.todayMoment(n),s=a.diff(l,"days");return 0===s?"Today":1===s?"Tomorrow":-1===s?"Yesterday":s>1&&s<=7?o.default.weekdays()[a.day()]:s>7&&s<=14?"Next "+o.default.weekdays()[a.day()]:s<-1&&s>=-7?"Last "+o.default.weekdays()[a.day()]:a.format(i.defaultDateFormat)}return a.format(r)}function s(e){var t=o.default(e.start_time,i.persistedTimeFormat).format(e.time_format);return e.humanReadable&&"h:mm A"===e.time_format&&(t.includes(":00")&&(t=t.replace(":00","")),t=t.replace(" ","").toLowerCase()),t}function u(e){var t=o.default(e.start_time,i.persistedTimeFormat).format(e.time_format),r=o.default(e.end_time,i.persistedTimeFormat).format(e.time_format);return e.humanReadable&&"h:mm A"===e.time_format&&((t.includes("AM")&&r.includes("AM")||t.includes("PM")&&r.includes("PM"))&&(t=t.replace("AM","").replace("PM","")),t.includes(":00")&&r.includes(":00")&&(t=t.replace(":00",""),r=r.replace(":00","")),t=t.replace(" ","").toLowerCase(),r=r.replace(" ","").toLowerCase()),[t,r].join("-")}function c(e){var t=e.start_date,r=e.start_time,n=e.time_zone,a=e.date_format,u=e.time_format,c=e.userTimeZone,d=o.default.tz(t+" "+r,i.persistedDateFormat+" "+i.persistedTimeFormat,i.persistedLocale,!0,n),p=[l({start_date:t,date_format:a,userTimeZone:c}),s({start_time:r,time_format:u,humanReadable:"relative"===a})].join(" "),f=o.default.tz(d,c);return d.utcOffset()!==f.utcOffset()?p+" ("+d.zoneAbbr()+")":p}t.formatTime=s,t.formatTimeRange=u,t.formatPersistedDate=function(e){var t=e.date_format||i.defaultDateFormat,r=e.time_format||i.defaultTimeFormat;return"datetimerange"===e.value.type?function(e){return e.start_date===e.end_date?[l({start_date:e.start_date,date_format:e.date_format,userTimeZone:e.userTimeZone}),u({start_time:e.start_time,end_time:e.end_time,time_format:e.time_format,humanReadable:"relative"===e.date_format})].join(" "):c({start_date:e.start_date,start_time:e.start_time,time_zone:e.time_zone,date_format:e.date_format,time_format:e.time_format,userTimeZone:e.userTimeZone})+" → "+c({start_date:e.end_date,start_time:e.end_time,time_zone:e.time_zone,date_format:e.date_format,time_format:e.time_format,userTimeZone:e.userTimeZone})}(n({date_format:t,time_format:r},a.omit(e.value,["type","reminder"]),{userTimeZone:e.userTimeZone})):"datetime"===e.value.type?c(n({date_format:t,time_format:r},a.omit(e.value,["type","reminder"]),{userTimeZone:e.userTimeZone})):"daterange"===e.value.type?function(e){return l({start_date:e.start_date,date_format:e.date_format,userTimeZone:e.userTimeZone})+" → "+l({start_date:e.end_date,date_format:e.date_format,userTimeZone:e.userTimeZone})}(n({date_format:t},a.omit(e.value,["type","reminder"]),{userTimeZone:e.userTimeZone})):l(n({date_format:t},a.omit(e.value,["type","reminder"]),{userTimeZone:e.userTimeZone}))},t.formatReminder=function(e,t){if(!e)return"None";if(i.isDateReminder(e)){var r=e.unit,n=e.value,o=s({start_time:e.time,time_format:i.is24HourTimeLocale()?"H:mm":"h:mm A",humanReadable:!0}),a=t?" ("+o+")":"";return 0===n?"On day of event"+a:1===n?"1 "+r+" before"+a:n+" "+r+"s before"+a}return r=e.unit,0===(n=e.value)?"At time of event":1===n?"1 "+r+" before":n+" "+r+"s before"}},O5tY:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t}(r("LEzx").default);t.default=new a},O6GF:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyQueryParamKey="reactNativeWebViewSchemeHandlerBody"},O7Tt:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("+575");t.performAddRelation=function(e,t){var r=i.toRelationValue(t),n=a.uniq(o(r,[e.id]));return i.fromRelationValue(n)},t.performRemoveRelation=function(e,t){var r=i.toRelationValue(t),n=a.without(r,e.id);return i.fromRelationValue(n)},t.getAutomaticallyCreatedRelationName=function(e){return"Related to "+(e.sourceCollectionValue.name||"Untitled Database")+" ("+(e.sourcePropertySchema.name||"Untitled Relation")+")"}},O93e:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("bTAb"),u=r("r8oj"),c=r("wldR"),d=r("yNyh"),p=r("Z1H8"),f=r("wXH4"),h=r("nld8"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registries=[h.default],t.handleInputChange=function(e){var r=e.target.value;t.stores.store.setState(a({},t.stores.store.state,{query:r})),t.handleQueryUpdateDebounced(r)},t.handleQueryUpdate=function(e){t.props.onQueryUpdate&&t.props.onQueryUpdate({query:e,autocompleteStore:t.stores.store})},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),this.handleQueryUpdateDebounced=l.debounce(this.handleQueryUpdate,this.props.queryUpdateDebounce)},t.prototype.renderComponent=function(){return i.createElement(f.default,{popupType:u.default.isMobile?f.default.PopupType.SlideUp:f.default.PopupType.Popup,open:this.props.isOpen,origin:this.renderInput(),placementToOrigin:f.default.Placement.Bottom,alignmentToOrigin:f.default.Alignment.Start,originGap:4,disableDarkOverlayBackground:u.default.isMobile,onDismiss:this.props.onBgClick,render:this.props.renderPopup})},t.prototype.renderInput=function(){var e=this,t=this.props.isOpen;return i.createElement(p.default,{capture:t,allowMenuList:!0,render:function(t){return i.createElement("div",a({},t),i.createElement(d.default,{style:e.props.inputStyle,format:d.default.Format.Transparent,value:e.stores.store.state.query,onClick:e.props.onInputClick,onFocus:e.props.onInputFocus,onBlur:e.props.onInputBlur,onChange:e.handleInputChange,placeholder:e.props.inputPlaceholder,focus:e.props.focus}))}})},t.stores={store:s.default},t}(c.default);t.default=m},O93j:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isResizing:!1}},t}(r("LEzx").default);t.default=new a},OCqs:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{dragging:!1}},t}(r("LEzx").default);t.default=a},ODIo:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("njgS"),i=r("IdIf"),l=r("+575"),s=r("D2XV"),u=r("hfHo"),c=r("nFzZ");t.blockPassesFilters=function(e){var r,o,a=e.block,i=e.filters,l=e.filterOperator,s=e.schema,u=e.getRecordValue,c=e.userId,d=e.userTimeZone,p=!0;try{for(var f=n(i),h=f.next();!h.done;h=f.next()){var m=h.value;if(m&&m.property&&m.comparator){var y=t.computeFilterResult({property:m.property,comparator:m.comparator,filterValueType:m.value_type,rollupSetFilter:m.rollup_set_filter,filterValue:m.value,schema:s,block:a,getRecordValue:u,userId:c,userTimeZone:d});if("and"===l&&!y)return!1;if("or"===l&&y)return!0;p=y}}}catch(e){r={error:e}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}return p},t.computeFilterResult=function(e){var r=e.property,n=e.comparator,c=e.filterValueType,p=e.filterValue,f=e.schema,h=e.block,m=e.getRecordValue,y=e.userId,g=e.userTimeZone,v=f[r];if(!v)return!1;var b="rollup"===v.type&&e.rollupSetFilter?e.rollupSetFilter:"any";if("is_empty"===n||"is_not_empty"===n){var w=l.toEmptyValues({block:h,property:r,schema:f,getRecordValue:m,userTimeZone:g});return d(b,w,function(e){return!e&&"is_not_empty"===n||e&&"is_empty"===n})}if("string_is"===n||"string_is_not"===n||"string_contains"===n||"string_does_not_contain"===n||"string_starts_with"===n||"string_ends_with"===n){if("string"!=typeof p)return!0;var S=p.trim();if(!S)return!0;var _=o.flatten(l.toEnumValues({block:h,property:r,schema:f,getRecordValue:m,userTimeZone:g}));return d(b,_,function(e){return"string_is"===n?e===S:"string_is_not"===n?e!==S:"string_contains"===n?e.indexOf(S)>=0:"string_does_not_contain"===n?e.indexOf(S)<0:"string_starts_with"===n?e.slice(0,S.length)===S:"string_ends_with"===n&&e.slice(e.length-S.length)===S})}if("checkbox_is"===n||"checkbox_is_not"===n){if("string"!=typeof p)return!0;var k=p.trim().toLowerCase(),C=l.toBooleanValues({block:h,property:r,schema:f,getRecordValue:m,userTimeZone:g});return d(b,C,function(e){return"checkbox_is"===n?k===a.checkboxYesValue.toLowerCase()?e:!e:"checkbox_is_not"===n&&(k===a.checkboxYesValue.toLowerCase()?!e:e)})}if("enum_is"===n||"enum_is_not"===n||"enum_contains"===n||"enum_does_not_contain"===n){var E,P=l.toEnumValues({block:h,property:r,schema:f,getRecordValue:m,userTimeZone:g});if(r){var x=f[r];x&&a.personTypes.indexOf(x.type)>=0&&"me"===c&&y?E=y:"string"==typeof p&&(E=p)}return!E||d(b,P,function(e){var t=e[0];return"enum_is"===n?i.groupValuesEqual(t,E):"enum_is_not"===n?!i.groupValuesEqual(t,E):"enum_contains"===n?Boolean(e.find(function(e){return i.groupValuesEqual(e,E)})):"enum_does_not_contain"===n&&!e.find(function(e){return i.groupValuesEqual(e,E)})})}if("number_equals"===n||"number_does_not_equal"===n||"number_greater_than"===n||"number_less_than"===n||"number_greater_than_or_equal_to"===n||"number_less_than_or_equal_to"===n){var T,O=l.toNumberValues({block:h,property:r,schema:f,getRecordValue:m,userTimeZone:g});return"number"==typeof p?T=p:"string"==typeof p&&(T=parseFloat(p)),d(b,O,function(e){return!(void 0!==T&&!o.isNaN(T))||void 0!==e&&!o.isNaN(e)&&("number_equals"===n?e===T:"number_does_not_equal"===n?e!==T:"number_greater_than"===n?e>T:"number_less_than"===n?e<T:"number_greater_than_or_equal_to"===n?e>=T:"number_less_than_or_equal_to"===n&&e<=T)})}if("date_is"===n||"date_is_before"===n||"date_is_after"===n||"date_is_on_or_before"===n||"date_is_on_or_after"===n||"date_is_within"===n){var M=l.toDateValues({block:h,property:r,schema:f,getRecordValue:m,userTimeZone:g}),I=t.getDateQueryRangeValues({filterValueType:c,filterValue:p,userTimeZone:g});return!I||d(b,M,function(e){if("date_is"===n&&e)return!I.startValue||(t=u.default(I.startValue).tz(g).endOf("day").valueOf())>=(r=s.getMomentRange(e,g).start.valueOf())&&I.startValue<=r;if("date_is_before"===n&&e)return!I.startValue||(r=s.getMomentRange(e,g).start.valueOf())<I.startValue;if("date_is_on_or_before"===n&&e){if(!I.startValue)return!0;var t=u.default(I.startValue).tz(g).endOf("day").valueOf();return(r=s.getMomentRange(e,g).start.valueOf())<=t}if("date_is_after"===n&&e){if(!I.startValue)return!0;var r;t=u.default(I.startValue).tz(g).endOf("day").valueOf();return(r=s.getMomentRange(e,g).start.valueOf())>t}return"date_is_on_or_after"===n&&e?!I.startValue||(r=s.getMomentRange(e,g).start.valueOf())>=I.startValue:!("date_is_within"!==n||!e)&&(!I.startValue||!I.endValue||(r=s.getMomentRange(e,g).start.valueOf())>=I.startValue&&r<=I.endValue)})}return!1};var d=function(e,t,r){return"any"===e?0!==t.length&&o.some(t,r):"none"===e?0===t.length||!o.some(t,r):0!==t.length&&o.every(t,r)};t.getDateQueryRangeValues=function(e){var t,r,n=e.filterValueType,o=e.filterValue,a=e.userTimeZone;if("today"===n)t=u.default().tz(a).startOf("day").valueOf();else if("tomorrow"===n)t=u.default().tz(a).add(1,"days").startOf("day").valueOf();else if("yesterday"===n)t=u.default().tz(a).add(-1,"days").startOf("day").valueOf();else if("one_week_from_now"===n)t=u.default().tz(a).add(1,"weeks").startOf("day").valueOf();else if("one_week_ago"===n)t=u.default().tz(a).add(-1,"weeks").startOf("day").valueOf();else if("one_month_from_now"===n)t=u.default().tz(a).add(1,"months").startOf("day").valueOf();else if("one_month_ago"===n)t=u.default().tz(a).add(-1,"months").startOf("day").valueOf();else if("exact_date"===n){var i=void 0;if("number"==typeof o?i=o:"string"==typeof o&&(i=parseFloat(o)),c.isNotDefined(i))return;t=u.default(i).tz(a).startOf("day").valueOf()}else"the_past_week"===n?(t=u.default().tz(a).add(-1,"weeks").valueOf(),r=u.default().tz(a).valueOf()):"the_past_month"===n?(t=u.default().tz(a).add(-1,"months").valueOf(),r=u.default().tz(a).valueOf()):"the_past_year"===n?(t=u.default().tz(a).add(-1,"years").valueOf(),r=u.default().tz(a).valueOf()):"the_next_week"===n?(t=u.default().tz(a).valueOf(),r=u.default().tz(a).add(1,"weeks").valueOf()):"the_next_month"===n?(t=u.default().tz(a).valueOf(),r=u.default().tz(a).add(1,"months").valueOf()):"the_next_year"===n&&(t=u.default().tz(a).valueOf(),r=u.default().tz(a).add(1,"years").valueOf());return{startValue:t,endValue:r}}},OIDJ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isEditing:!1}},t}(r("LEzx").default);t.default=a},OIKt:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("mF3+"),u=r("t+pW"),c=r("Na01"),d=r("LeVO"),p=r("bFnu"),f=r("ClNu"),h=r("uSCg"),m=r("7M94"),y=r("Ugx7"),g=r("MeYt"),v=r("+UXM"),b=r("Sb6f"),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleHideClick=function(){var e=!t.stores.outlinerToggleButtonStore.state.isHidden;y.setSectionHidden({spaceViewStore:t.props.spaceViewStore,type:t.props.type,outlinerToggleButtonStore:t.stores.outlinerToggleButtonStore,newValue:e})},t.handleCreatePageClick=function(){var e=t.props,r=e.type,n=e.spaceStore,o=e.spaceViewStore,a=t.stores.outlinerToggleButtonStore;y.createPageInSection({spaceStore:n,spaceViewStore:o,type:r,outlinerToggleButtonStore:a})},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t);var r=v.default.get(y.getLocalPreferenceKey(t.spaceViewStore,t.type));r&&this.stores.outlinerToggleButtonStore.setState(a({},this.stores.outlinerToggleButtonStore.state,{isHidden:r}))},t.prototype.renderComponent=function(){var e=this,r=this.props.renderSidebar,n=this.stores.outlinerToggleButtonStore.state.isHidden;return i.createElement("div",{onMouseMove:function(){return e.stores.mouseStore.setState(a({},e.stores.mouseStore.state,{mouseEntered:!0}))},onMouseLeave:function(){return e.stores.mouseStore.setState(a({},e.stores.mouseStore.state,{mouseEntered:!1}))},style:{marginBottom:n?0:t.marginBottom}},this.renderLabel(),!n&&r())},t.prototype.renderLabel=function(){var e=this,r=this.props.showAddPageButton,n=this.stores.outlinerToggleButtonStore.state.isHidden,o=this.stores.labelMouseStore,l=o.state.mouseEntered,s={bookmarks:m.outlinerBookmarksToggle,workspace:m.outlinerWorkspaceToggle,shared:m.outlinerSharedToggle,private:m.outlinerPrivateToggle}[this.props.type];return i.createElement(c.default,{className:s,isMobile:this.props.isMobile,disableMobileBorder:n,shouldShowMobileMarginBotton:n,style:this.getSectionSidebarItemStyle(),childrenStyle:{overflow:"visible"},right:r&&this.renderAddPageButton()},i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement(d.default,{style:t.tooltipStyle,textWrap:!0,renderTooltip:function(){return i.createElement("div",null,i.createElement("div",null,"Click to ",n?"show":"hide"," section"),i.createElement("span",{style:{color:e.theme.mediumInvertedTextColor}},e.props.labelTooltip))},placement:d.default.Placement.Top,render:function(t){return i.createElement(g.default,a({style:e.getLabelButtonStyle(),onClick:e.handleHideClick},h.default(t,{onMouseMove:function(){return o.setState(a({},o.state,{mouseEntered:!0}))},onMouseLeave:function(){return o.setState(a({},o.state,{mouseEntered:!1}))}})),i.createElement("span",{style:a({},e.props.isMobile?e.getMobileSectionLabelStyle():e.getSectionLabelStyle(),{color:l?e.theme.mediumTextColor:e.theme.lightTextColor,transition:"color 100ms ease-out"})},e.renderLabelContent()))}})))},t.prototype.renderAddPageButton=function(){var e=this;return i.createElement(d.default,{style:t.tooltipStyle,textWrap:!0,renderTooltip:function(){return i.createElement(l.Fragment,null,"Add a Page",i.createElement("br",null),i.createElement("span",{style:{color:e.theme.mediumInvertedTextColor}},e.props.labelTooltip))},placement:d.default.Placement.Right,render:function(t){return i.createElement(g.default,a({style:e.getPlusButtonStyle(),className:m.fadeIn,onClick:e.handleCreatePageClick},t),s.default.plus({fill:e.theme.mediumIconColor,width:12,height:12}))}})},t.prototype.renderLabelContent=function(){var e=this.props.type;return"bookmarks"===e?"Favorites":"workspace"===e?"Workspace":"private"===e?"Private":"shared"===e?"Shared":void 0},t.prototype.getSectionSidebarItemStyle=function(){return{paddingTop:0,paddingBottom:0,paddingRight:14,paddingLeft:15,minHeight:24}},t.prototype.getSectionLabelStyle=function(){return{letterSpacing:"0.03em",textTransform:"uppercase",fontSize:11.5,lineHeight:1,marginBottom:1,color:this.theme.lightTextColor,fontWeight:b.default.fontWeight.semibold}},t.prototype.getMobileSectionLabelStyle=function(){return{letterSpacing:"0.05em",textTransform:"uppercase",fontSize:13,lineHeight:1,color:this.theme.lightTextColor,fontWeight:b.default.fontWeight.semibold}},t.prototype.getLabelButtonStyle=function(){return a({display:"flex",alignItems:"center",borderRadius:3,padding:"2px 4px",marginLeft:-4},this.props.isMobile&&{marginBottom:8})},t.prototype.getPlusButtonStyle=function(){return{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:3,height:20,width:20,border:"1px solid "+this.theme.outlineButtonBorder}},t.stores={mouseStore:p.default,labelMouseStore:p.default,outlinerToggleButtonStore:f.default},t.tooltipStyle={width:200},t.marginBottom=20,t}(u.default);t.default=w},OIfF:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("wldR"),i=r("H4VD"),l=r("Fv2F"),s=r("HSWF"),u=r("A9TN"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMount=function(){var e=l.getHttpUrl({schemeUrl:window.location.href,baseUrl:u.default.baseURL});i.navigateToExternalURL({url:e}),s.setLastVisitedRoute(void 0),i.navigate({url:"/",redirect:!0})},t}(a.default);t.default=c},OUVA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl"),o=r("S26v");t.analyticsTagsKey="n",t.injectUrlAnalytics=function(e,r){var a;return o.addQueryParams(e,((a={})[t.analyticsTagsKey]=n.uniq(r),a))}},OWVv:function(e,t,r){"use strict";var n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,i=r("q1tI"),l=r("KcXv"),s=r("nFzZ");!function(e){e[e.Start=0]="Start",e[e.Center=1]="Center",e[e.End=2]="End"}(a=t.Alignment||(t.Alignment={})),t.Start=a.Start,t.Center=a.Center,t.End=a.End;var u=function(e){return i.createElement("div",{style:h(e)},e.left)},c=function(e){return i.createElement("div",{style:m(e)},e.right)};t.listIndentWidth=24,t.defaultTitleStyle={paddingTop:l.itemStyle.paddingTop,paddingBottom:l.itemStyle.paddingBottom,textAlign:"left"};var d=((n={})[t.Start]="flex-start",n[t.Center]="center",n[t.End]="flex-end",n),p=function(e){return o({display:"flex",alignItems:s.isNotDefined(e.alignment)?d[a.Start]:d[e.alignment],width:"100%"},e.style)},f=function(e){var t={flexGrow:0,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"};return(e.leftRightMinHeight||s.isNotDefined(e.leftRightMinHeight))&&(t.minHeight="calc(1.5em + "+l.itemStyle.paddingTop+"px + "+l.itemStyle.paddingTop+"px)"),t},h=function(e){return o({marginRight:4,width:t.listIndentWidth},f(e),e.leftStyle)},m=function(e){return o({marginLeft:4},f(e),e.rightStyle)},y=function(e){return o({flexGrow:1,flexShrink:1,flexBasis:0,minWidth:1},e.childrenStyle)};t.default=function(e){return i.createElement("div",{onClick:e.onClick,onMouseMove:e.onMouseMove,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,style:p(e)},e.left&&u(e),e.children&&i.createElement("div",{style:y(e)},e.children),e.right&&c(e))}},OXV6:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{showItems:t.showItemsChunkSize}},t.showItemsChunkSize=10,t}(r("LEzx").default);t.default=a},OYeE:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{active:!1,stringValue:""}},t}(r("LEzx").default);t.default=new a},"Od+m":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){var e=this.props.disabled;return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,urlInputPlaceholder:"Paste the image link...",iconSvg:l.default.picture,disabled:e,preserveScale:!0,mediaMenuCurrentTab:"file",mediaMenuTabs:["file","embed","unsplash"],mediaMenuEmbedCaption:"Works with any image from the web",embedButtonText:"Embed Image",popupWidth:540,maxHeight:420}),"Add an Image")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},OeJx:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("yNyh"),s=r("G4GV"),u=r("t+pW"),c=r("mF3+"),d=r("6rsX"),p=r("unoy"),f=r("D8Ld"),h=r("stZG"),m=r("rGsA"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleFocused=function(){d.clear(),p.clear(),t.stores.store.setState(a({},t.stores.store.state,{focus:!0}))},t.handleBlurred=function(){t.stores.store.setState(a({},t.stores.store.state,{focus:!1}))},t.handleSearchQueryChange=function(e){t.props.onChange({searchQuery:e.target.value})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props.searchQuery,r=this.stores.store.state.focus;return i.createElement(f.default,{capture:r},i.createElement(h.default,{capture:!0,render:function(n){return i.createElement("div",a({},n),i.createElement(l.default,{style:e.getStyle(),format:l.InputFormat.Transparent,value:t,placeholder:"Type to search...",onChange:e.handleSearchQueryChange,autoComplete:"on",autoCorrect:"on",onFocus:e.handleFocused,onBlur:e.handleBlurred,showClearButton:!0,left:c.default.searchThick(e.getSearchIconStyle())}),i.createElement(m.default,{show:r}))}}))},t.prototype.getStyle=function(){return{boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,flexGrow:0,flexShrink:0,height:32,paddingLeft:8,paddingRight:12,borderRadius:3,fontSize:14,marginBottom:4}},t.prototype.getSearchIconStyle=function(){return{width:14,height:14,marginRight:6,flexGrow:0,flexShrink:0,fill:this.theme.mediumIconColor}},t.stores={store:s.default},t}(u.default);t.default=y},OjB8:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){return Math.sqrt((e-r)*(e-r)+(t-n)*(t-n))}},Oqkh:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t}(r("LEzx").default);t.default=a},Or6X:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("tzV5"),s=r("vTDQ"),u=r("cYwG"),c=r("M64d"),d=r("AOw3"),p=r("iZLY"),f=r("r8oj"),h=r("mgm2"),m=r("t+pW"),y=r("mF3+"),g=r("y6Dp"),v=r("H4VD"),b=r("nM47"),w=r("MBf9"),S=r("RvCr"),_=r("/YYm"),k=r("XDBA"),C=r("MeYt"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleScrollOffsetChange=function(e){var r=t.props.collectionViewLocalStore,n=r.state.isLoading;e<s.default.incrementScrollOffset&&!n&&!r.reachedEndOfTableResults()&&l.increment({collectionViewLocalStore:r})},t.handleAddItemClick=function(){if(b.validateCanCreate()){var e=t.props.collectionViewLocalStore,r=e.state.collectionStore;if(r){var n=k.getGroupResultStores(void 0,e,r);w.createAndCommit(function(t){var r=e.state.collectionStore;if(r){var o=S.createBlockInGroup({parentStore:r,collectionViewLocalStore:e,group:void 0,results:n,insertAtStart:!1,coerce:!0,transaction:t});if(f.default.isMobile){var a=_.default({store:o,fullyQualified:!1});v.navigate({url:a})}else v.peekBlock({store:o});g.trackCreateBlock({from:"list_view_add_item_bottom",type:"page"})}})}}},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=this.props,n=r.store,o=r.collectionStore,l=r.format,s=r.paddingBottom,f=r.paddingLeft,m=r.paddingRight,y=r.isFullScreen,g=r.disabled,v=r.collectionViewLocalStore,b=r.collectionViewStore,w=r.schema,S=r.blockPropertyValueOverlayStore,_=this.getShowProperties();return c.default(function(r){return i.createElement(u.default,{onChange:e.handleScrollOffsetChange},i.createElement("div",{style:{paddingBottom:s,paddingLeft:f,paddingRight:m}},i.createElement(d.default,a({store:n,shouldShowHalo:!y,canSelect:!y,analyticsName:"list_view",style:e.getWrapStyle()},r),i.createElement(p.default,{parentStore:o,collectionViewLocalStore:v,group:void 0,format:l,canDrag:!g&&n.canEdit(),resultProps:{schema:w,collectionViewStore:b,collectionViewBlockStore:e.props.store,collectionStore:o,showProperties:_,disabled:g,blockPropertyValueOverlayStore:S,locked:e.isLocked()},resultComponent:h.default,disabled:g,shouldShowHoverMenu:!0,direction:p.CollectionGroupDirection.Vertical,analyticsName:"table",itemSelectableStyle:t.itemSelectableStyle,emptyDroppableSize:0}),!g&&n.canEdit()&&e.renderAddItemButton())))})},t.prototype.renderAddItemButton=function(){return i.createElement(C.default,{onClick:this.handleAddItemClick,style:a({display:"flex",alignItems:"center",height:30,borderRadius:3},f.default.isMobile&&{marginTop:6})},y.default.plus(this.getNewItemButtonIconStyle()),i.createElement("div",{style:{color:this.theme.lightIconColor}},"New"))},t.prototype.getShowProperties=function(){var e=this.props.format;return(e.list_properties?e.list_properties:[]).filter(function(e){return e.visible}).map(function(e){return e.property})},t.prototype.isLocked=function(){return this.props.store.isLocked()},t.prototype.getWrapStyle=function(){return{display:"flex",flexDirection:"column",borderTop:"1px solid "+this.theme.darkDividerColor,paddingTop:f.default.isMobile?4:8}},t.prototype.getNewItemButtonIconStyle=function(){return{width:14,height:14,marginLeft:4,marginRight:12,fill:this.theme.lightIconColor}},t.itemSelectableStyle={marginTop:1,marginBottom:1},t}(m.default);t.default=E},Owea:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t.prototype.getEditedBlocksForCollection=function(e){var t=this.state[e];if(t)return t;var r=new Set;return this.state[e]=r,r},t.prototype.setEditedBlock=function(e,t){this.getEditedBlocksForCollection(e).add(t),this.emit()},t}(r("LEzx").default);t.default=new a},OxuQ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("G4cA"),u=r("VpIZ"),c=r("bPtJ"),d=r("D2XV"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return this.props.shouldWrap?i.createElement("span",{style:this.getStyle()},this.getTitle()):i.createElement("div",{style:this.getStyle()},this.getTitle())},t.prototype.getTitle=function(){var e=this.props.store;if(e instanceof s.default)return e.getName();var t=e.getValue();if(t){var r=u.getRecordTitle({table:e.table,value:t,getRecordValue:function(t,r){return c.createRecordStore(e,t,r).getValue()},userTimeZone:d.currentTimeZone});return r||this.getEmptyTitle()}return this.getEmptyTitle()},t.prototype.getEmptyTitle=function(){return Boolean(this.props.placeholder)?this.props.placeholder:"Untitled"},t.prototype.getStyle=function(){return a({},!this.props.shouldWrap&&{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},this.props.underline&&{backgroundImage:"\n\t\t\t\t\tlinear-gradient(\n\t\t\t\t\t\tto right,\n\t\t\t\t\t\t"+this.theme.darkDividerColor+" 0%,\n\t\t\t\t\t\t"+this.theme.darkDividerColor+" 100%\n\t\t\t\t\t)\n\t\t\t\t",backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"},this.props.style)},t}(l.default);t.default=p},Oy36:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var u=r("q1tI"),c=r("i8i4"),d=r("wldR"),p=r("vX3W"),f=r("YQvo"),h=r("p+Y9"),m=r("CTEM"),y=r("E5KU"),g=r("VBxf"),v=r("MeYt"),b=r("xcfP"),w=r("Ma8p"),S=r("0Xty"),_=r("xPNA"),k=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.handleClick=function(e){if(!r.props.disabled){r.props.onClick&&r.props.onClick(e);var n=c.findDOMNode(r);if(n&&n instanceof Element){var o=r.props.bucket,a=n.getBoundingClientRect();p.show({originGap:4,originRect:a,popupWidth:444,popupHeight:356,isSmallWidth:!1,title:"Page Icon",onDelete:r.handleDelete,currentTab:"emoji",tabs:[{type:"emoji",title:"Emoji",onChange:r.handleEmojiChange},{type:"file",title:"Upload an Image",caption:t.mediaMenuCaption,onUpload:function(e){h.uploadFile({bucket:o,file:e,onStart:r.handleUploadStart,onProgress:r.handleUploadProgress,onComplete:r.handleUploadComplete,onError:function(e){y.error(e),g.showError({error:new Error("Something went wrong.")})}})}},{type:"embed",title:"Link",inputPlaceholder:"Paste an image link...",caption:"Works with any image from the web",buttonText:"Submit",onChange:r.handleEmbedLinkChange}]})}}},r.handleDelete=function(){if(!r.props.disabled){p.clear();var e=r.props.onChange;e&&e(void 0)}},r.handleEmojiChange=function(e,t){if(void 0===t&&(t={}),!r.props.disabled){t.keepVisible||p.clear(),r.stores.fileUploadStore.reset();var n=r.props.onChange;n&&n(e)}},r.handleUploadComplete=function(e){return i(r,void 0,void 0,function(){var t;return l(this,function(r){switch(r.label){case 0:return this.props.disabled?[2]:(p.clear(),(t=this.props.onChange)?[4,t(e)]:[3,2]);case 1:r.sent(),r.label=2;case 2:return this.stores.fileUploadStore.reset(),[2]}})})},r.handleEmbedLinkChange=function(e){if(!r.props.disabled){p.clear();var t=r.props.onChange;t&&t(e)}},r.handleUploadStart=function(e){var t=e.file,n=e.name,o=e.size;if(p.clear(),r.stores.fileUploadStore.setState(a({},r.stores.fileUploadStore.state,{isLoading:!0,file:t,name:n,size:o})),t.type.indexOf("image")>=0){var i=new FileReader;i.onload=function(e){r.stores.fileUploadStore.setState(a({},r.stores.fileUploadStore.state,{dataURL:e.target.result}))},i.readAsDataURL(t)}},r.handleUploadProgress=function(e){var t=e.progressPercent;r.stores.fileUploadStore.setState(a({},r.stores.fileUploadStore.state,{progressPercent:t}))},r}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.disabled;return u.createElement(v.default,{style:this.getStyle(),onClick:this.handleClick,disabled:e,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,onMouseDown:this.props.onMouseDown},this.renderIcon())},t.prototype.renderIcon=function(){var e=this.props,t=e.icon,r=e.isEmptyPage,n=e.title,o=e.isLarge,a=e.pageIconStyle,i=this.stores.fileUploadStore.state,l=i.dataURL,c=i.isLoading,d=i.progressPercent,p=this.getSize();if(t){if(m.default(t.icon))return u.createElement(w.default,{size:p,emoji:t.icon});var f=t.icon,h=s(t,["icon"]);return u.createElement(b.default,{size:p,permissions:h,imageURL:f,dataURL:l,isLoading:c,progressPercent:d,isLarge:o})}return n?u.createElement(S.default,{size:p,title:n,isLarge:o}):u.createElement(_.default,{size:p,isEmptyPage:r,isLarge:o,pageIconStyle:a})},t.prototype.getSize=function(){return this.stores.fileUploadStore.state.isLoading?this.props.size:this.isSingleEmoji()&&this.props.emojiSize||this.props.size},t.prototype.isSingleEmoji=function(){return this.props.icon&&m.default(this.props.icon.icon)},t.prototype.getStyle=function(){return a({display:"flex",alignItems:"center",justifyContent:"center",height:this.getSize(),width:this.getSize(),borderRadius:3,flexShrink:0},this.props.style,this.isSingleEmoji()&&this.props.emojiStyle)},t.stores={fileUploadStore:f.default},t.mediaMenuCaption=u.createElement("div",null,"Recommended size is 280 × 280 pixels"),t}(d.default);t.default=k},P0zr:function(e,t,r){"use strict";var n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("LvDl"),u=r("q1tI"),c=r("udrG"),d=r("mF3+"),p=r("r8oj"),f=r("M64d"),h=r("RI9y"),m=r("BJyN"),y=r("ICWk"),g=r("VOS9"),v=r("i3uR"),b=r("t+pW"),w=r("9hmv"),S=r("q8I6"),_=r("6fCZ"),k=r("LeVO"),C=r("AjLL"),E=r("uSCg"),P=r("NOLh"),x=r("fHgN"),T=r("gbGO"),O=r("TDb4"),M=r("ALSZ"),I=r("y4kc"),A=r("HRSx"),D=r("kaWB"),L=r("6SEd"),R=r("y6Dp"),B=r("NMKT"),j=r("MeYt"),V=r("HTHG"),F=r("sjR4"),N=r("DNgp"),U=r("T1hA"),W=r("43ch"),z=r("Iece"),H=r("0Osm"),q=r("bk3b"),G=r("ieCD"),Z=r("6BvA"),Y=r("gha2"),K=r("VcFn"),J=r("y1eX"),Q=r("enKW"),X=r("5k6+"),$=r("typy"),ee=r("7M94"),te=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.mouseIsDownExternally=!1,r.renderOverlay=function(){var e=K.default.state.isActive;return l.createElement(P.default,{isVisible:e,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},exitAnimationStyle:{opacity:0},springConfig:{opacity:{stiffness:100,damping:10,precision:1e-4}},render:r.renderAnimated,onAnimationEnd:r.handleAnimationEnd})},r.renderAnimated=function(){var e=K.default.state,n=e.isActive,o=e.top,a=e.left;return l.createElement("div",{className:ee.textActionMenu,style:{pointerEvents:"none",position:"absolute",top:o,left:0,display:"flex",width:"100%"}},l.createElement("div",{style:{flexShrink:1,width:Math.max(a-t.leftOffset,0),minWidth:24}}),f.default(function(e){return l.createElement("div",i({style:{pointerEvents:n?"auto":"none",padding:12}},e),r.lastRenderState&&r.renderMenu(r.lastRenderState))}),l.createElement("div",{style:{flexGrow:1,flexShrink:1,minWidth:36}}))},r.updateRichTextState=function(){var e=K.default.state;if(!G.default.state.open&&!Y.default.state.open){var n=N.default.state;if(!n.editing)return B.deactivateMenu();var o=n.store;if(o.table!==A.default.table&&o.table!==D.default.table)return B.deactivateMenu();if(U.default.isLoggedIn()&&o.canComment()){var a=h.get();if(!o||V.isEditingCurrentPage())return B.deactivateMenu();var l=W.default.findEditableWithStore(o);if(l&&l.props.disableAnnotation)return B.deactivateMenu();if(l&&l.props.disabled)return B.deactivateMenu();var s=l?l.getContextClosestSelectable():void 0,u=s?s.props.store:void 0;if(u&&(u.isLocked()||u.isNavigableAncestorLocked()))return B.deactivateMenu();if(r.mouseIsDownExternally&&e.blockTarget!==u)return B.deactivateMenu();var c=!1;if(o.table===A.default.table){var d=o.getRecordStoreAtRootPath().getValue();d&&(c=t.blockRichTextMenuBlockTypes[d.type])}if(!o||Z.default.isActive()||X.default.isActive()||c||!a||!r.hasNonCollapsedTextSelection()||J.default.state.open)B.deactivateMenu();else{var p=0,f=0,m=h.getRect(a);if(m&&(p=m.left,(f=m.top-t.height-25)<r.getTopbarHeight()))return B.deactivateMenu();0===Math.abs(K.default.state.top-f)&&Math.abs(K.default.state.left-p)<10&&(f=K.default.state.top,p=K.default.state.left),K.default.setState(i({},K.default.state,{isActive:!0,isAnimatingClosed:!1,top:f,left:p,blockTarget:F.default.state.stores[0]}))}}}},r.updateRichTextStateThrottled=s.throttle(r.updateRichTextState,200,{leading:!1}),r.handleAnimationEnd=function(){K.default.state.isActive||K.default.setState(i({},K.default.state,{isAnimatingClosed:!1})),r.lastRenderState=r.renderStateStore.state},r.renderStateStore=r.createComputedStore(function(){var e=K.default.state,t=e.isActive,r=e.blockTarget,n=N.default.state;if(t&&n.editing){var o=N.default.isEditingComment(),a=N.default.isEditingCaption(),i=r&&r.getParentTable()===L.default.table,l=n.store.canEdit();return{showTurnInto:Boolean(!o&&!i&&!a&&r&&l),showRichTextControls:Boolean(l),showHighlight:Boolean(l&&!o),showDiscuss:Boolean(!o&&r&&!i),showMention:Boolean(!o&&r&&!i&&l),showActionButton:Boolean(!o&&!a&&r&&!i),blockTarget:r}}}),r}return a(t,e),t.prototype.didMount=function(){F.default.addListener(this.updateRichTextStateThrottled),N.default.addListener(this.updateRichTextStateThrottled),z.default.addListener(this.updateRichTextState),H.default.addListener(this.updateRichTextState),q.default.addListener(this.updateRichTextState)},t.prototype.willUnmount=function(){N.default.removeListener(this.updateRichTextStateThrottled),F.default.removeListener(this.updateRichTextStateThrottled),z.default.removeListener(this.updateRichTextState),H.default.removeListener(this.updateRichTextState),q.default.removeListener(this.updateRichTextState)},t.prototype.willMountOrUpdate=function(){var e=this.renderStateStore.state;e&&(this.lastRenderState=e)},t.prototype.renderComponent=function(){var e=K.default.state,t=e.isActive,r=e.isAnimatingClosed;return l.createElement(x.default,{open:t||r,render:this.renderOverlay})},t.prototype.renderMenu=function(e){return l.createElement("div",{style:{display:"inline-flex",alignItems:"stretch",height:t.height,background:this.theme.popoverBackground,overflow:"hidden",fontSize:14,lineHeight:1.2,borderRadius:3,boxShadow:Q.getShadow({elevation:3,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity})},onMouseDown:function(e){return e.preventDefault()}},e.showTurnInto&&e.blockTarget&&this.renderTurnInto(e.blockTarget),e.showDiscuss&&e.blockTarget&&this.renderCommentButton(e.blockTarget),e.showRichTextControls&&this.renderRichTextControls(),e.showHighlight&&l.createElement($.default,{style:this.getBorderRight()}),e.showMention&&this.renderMention(),e.showActionButton&&e.blockTarget&&this.renderActionButton(e.blockTarget))},t.prototype.renderTurnInto=function(e){var t=this,r="Turn Into",n=e.getType();if(n){var o=y.allCreateBlockItems[n];r=o&&o.title||r}return l.createElement(v.default,{popupType:v.default.PopupType.Popup,buttonPopupStore:Y.default,originGap:4,renderOrigin:function(e){return l.createElement(k.default,{renderTooltip:function(){return"Turn into"},render:function(n){return l.createElement(j.default,i({style:i({display:"flex",alignItems:"center",padding:"0 8px",whiteSpace:"nowrap"},t.getBorderRight())},E.default(e,n)),r,d.default.chevronDown({width:10,marginLeft:4,fill:t.theme.lightIconColor}))}})},render:function(){return l.createElement(T.default,{menuType:T.default.MenuType.Popup},l.createElement(g.default,{context:{blocks:[e]},sections:[m.turnIntoActions],onAccept:function(t){B.deactivateMenu(),R.trackBlockAction({name:t.name,from:"rich_text_menu",block_type:e.getType()})}}))},onClick:function(){R.trackRichTextMenuClick({action:"turn_into"})}})},t.prototype.renderRichTextControls=function(){return l.createElement("div",{style:{display:"flex"}},l.createElement(w.default,{type:"b",tooltipLabel:l.createElement(u.Fragment,null,l.createElement("div",null,"Bold"),l.createElement("div",null,l.createElement(O.default,{style:{color:this.theme.mediumInvertedTextColor},name:"toggleBold"})))},"B"),l.createElement(w.default,{type:"i",tooltipLabel:l.createElement(u.Fragment,null,l.createElement("div",null,"Italicize"),l.createElement("div",null,l.createElement(O.default,{style:{color:this.theme.mediumInvertedTextColor},name:"toggleItalics"})))},l.createElement("span",{style:{fontStyle:"italic"}},"i")),l.createElement(w.default,{type:"s",tooltipLabel:l.createElement(u.Fragment,null,l.createElement("div",null,"Strike-through"),l.createElement("div",null,l.createElement(O.default,{style:{color:this.theme.mediumInvertedTextColor},name:"toggleStrike"})))},l.createElement("span",{style:{textDecoration:"line-through"}},"S")),l.createElement(w.default,{type:"c",style:{padding:"0 6px"},tooltipLabel:l.createElement(u.Fragment,null,l.createElement("div",null,"Mark as Code/Number"),l.createElement("div",null,l.createElement(O.default,{style:{color:this.theme.mediumInvertedTextColor},name:"toggleCode"})))},t.codeIcon),l.createElement(S.default,{style:this.getBorderRight()},l.createElement("span",{style:{textDecoration:"underline"}},"Link")))},t.prototype.renderMention=function(){var e=this;return l.createElement(k.default,{renderTooltip:function(){return l.createElement(u.Fragment,null,l.createElement("div",null,"Mention a person,",l.createElement("br",null),"page, or date"),l.createElement("div",{style:{color:e.theme.mediumInvertedTextColor}},"@"))},render:function(t){return l.createElement(j.default,i({style:i({},e.getBorderRight(),{padding:"0 8px"})},t,{onClick:function(){M.insertMention({page:!0,user:!0,date:!0}),R.trackRichTextMenuClick({action:"mention"})}}),d.default.mention({width:14,fill:e.theme.regularIconColor}))}})},t.prototype.renderCommentButton=function(e){return l.createElement(I.default,{style:this.getBorderRight(),blockStore:e})},t.prototype.renderActionButton=function(e){return l.createElement(_.default,{store:e,style:{borderRight:"none",borderRadius:0,padding:0,width:30,height:"none"},iconStyle:{fill:this.theme.regularIconColor},fadeIn:!1,onClick:function(){R.trackRichTextMenuClick({action:"more"})}})},t.prototype.hasNonCollapsedTextSelection=function(){var e=h.get();return!!e&&!e.collapsed&&N.default.state.editing&&N.default.state.selection.startIndex!==N.default.state.selection.endIndex},t.prototype.getTopbarHeight=function(){return p.default.isElectronMac?C.default.desktopMacHeight:C.default.defaultHeight},t.prototype.getBorderRight=function(){return{boxShadow:"1px 0 0 "+this.theme.regularDividerColor,marginRight:1}},t.blockRichTextMenuBlockTypes=((o={})[c.default.code]=!0,o[c.default.factory]=!0,o),t.codeIcon=d.default.code({width:15,height:15}),t.leftOffset=60,t.height=32,t}(b.default);t.default=te},P9PB:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("t+pW"),u=r("D2XV");r("UNSI"),r("DUpR");var c=r("BFWj"),d=r("hfHo"),p=r("5zFd"),f=r("lEhh"),h=r("hteD"),m=r("PnU4"),y=r("q1tI"),g=r("i3uR"),v=r("yNyh"),b=r("LeVO"),w=r("nFzZ"),S=r("mjq6"),_=r("D8Ld"),k=r("r8oj"),C=r("SR/M"),E=r("2Y+N"),P=r("hU3F"),x=r("gbGO"),T=r("dXb3"),O=r("WgIs"),M=r("zTdN"),I=r("mF3+"),A=r("ikHm"),D=r("MHAS"),L=r("awNq"),R=r("O+wX"),B=r("rGsA"),j=r("y6Dp"),V=r("wS9/"),F=r("zmp8"),N=r("lCCU"),U=r("qqdV"),W=r("KTXS"),z=r("7KuZ"),H=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderNavbarElement=function(e){var r=e.onPreviousClick,n=e.onNextClick;return i.createElement("div",{style:k.default.isMobile?t.mobileNavStyle:t.desktopNavStyle},i.createElement(N.default,{mobileFeedback:k.default.isMobile,icon:I.default.chevronLeft,onClick:function(){return r()}}),i.createElement(N.default,{mobileFeedback:k.default.isMobile,icon:I.default.chevronRight,onClick:function(){return n()}}))},r.handleDateFormatChange=function(e){r.props.onChangeDateFormat(e)},r.handleTimeFormatChange=function(e){r.props.onChangeTimeFormat(e)},r.handleChangeReminder=function(e){var t=r.getDateValue();e?u.isDateReminder(e)?r.props.onChangeValue(a({},t,{reminder:e})):"datetime"!==t.type&&"datetimerange"!==t.type||r.props.onChangeValue(a({},t,{reminder:e})):r.props.onChangeValue(a({},t,{reminder:e})),j.trackSetReminder({date:t,reminder:e})},r.handleStartDateInputChange=function(e){var t=e.target.value,n=r.parseInputDateValue(t);if(n){var o=r.getDateValue();if("datetimerange"===o.type||"daterange"===o.type){var i=a({},o,{start_date:n}),l=u.getMomentRange(i,u.currentTimeZone);return l.end&&l.start.isSameOrBefore(l.end)?(r.props.onChangeValue(i),void r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!1,currentMonth:l.start}))):void r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!0}))}var s=a({},o,{start_date:n});r.props.onChangeValue(s),r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!1,currentMonth:u.getMomentRange(s,u.currentTimeZone).start}))}else r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!0}))},r.handleStartTimeInputChange=function(e){var t=e.target.value,n=r.parseInputTimeValue(t);if(n){var o=r.getDateValue();if("datetimerange"===o.type){var i=a({},o,{start_time:n}),l=u.getMomentRange(i,u.currentTimeZone);return l.end&&l.start.isSameOrBefore(l.end)?(r.props.onChangeValue(i),void r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!1,currentMonth:l.start}))):void r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!0}))}if("datetime"===o.type){i=a({},o,{start_time:n});r.props.onChangeValue(i),r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!1,currentMonth:u.getMomentRange(i,u.currentTimeZone).start}))}}else r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!0}))},r.handleEndDateInputChange=function(e){var t=e.target.value,n=r.parseInputDateValue(t);if(n){var o=r.getDateValue();if("daterange"===o.type||"datetimerange"===o.type){var i=a({},o,{end_date:n}),l=u.getMomentRange(i,u.currentTimeZone);return l.end&&l.end.isSameOrAfter(l.start)?(r.props.onChangeValue(i),void r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!1,currentMonth:l.end}))):void r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!0}))}}else r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!0}))},r.handleEndTimeInputChange=function(e){var t=e.target.value,n=r.parseInputTimeValue(t);if(n){var o=r.getDateValue();if("datetimerange"===o.type){var i=a({},o,{end_time:n}),l=u.getMomentRange(i,u.currentTimeZone);return l.end&&l.end.isSameOrAfter(l.start)?(r.props.onChangeValue(i),void r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!1,currentMonth:l.end}))):void r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!0}))}}else r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:t,hasError:!0}))},r.handleInputBlur=function(){r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:void 0,inputIsFocused:!1,hasError:!1}))},r.handleInputSubmit=function(){r.stores.store.setState(a({},r.stores.store.state,{inputTemporaryValue:void 0,hasError:!1}))},r.handleDayPickerDayClick=function(e){if(!r.props.disabled){var t=l.cloneDeep(r.getDateValue()),n=r.stores.store.state.focus,o=d.default(e).format(u.persistedDateFormat);if("daterange"===t.type||"datetimerange"===t.type){n===m.DateTimeRangePickerFocus.StartDate||n===m.DateTimeRangePickerFocus.StartTime?t.start_date=o:n!==m.DateTimeRangePickerFocus.EndDate&&n!==m.DateTimeRangePickerFocus.EndTime||(t.end_date=o);var i=u.getMomentRange(t,u.currentTimeZone);if(i.end&&i.end.isBefore(i.start)){if("datetimerange"===t.type){var s=t.start_date,c=t.start_time,p=t.end_date,f=t.end_time;t.start_date=p,t.start_time=f,t.end_date=s,t.end_time=c}else{s=t.start_date,p=t.end_date;t.start_date=p,t.end_date=s}r.stores.store.setState(a({},r.stores.store.state,{focus:n===m.DateTimeRangePickerFocus.StartDate||n===m.DateTimeRangePickerFocus.StartTime?m.DateTimeRangePickerFocus.EndDate:m.DateTimeRangePickerFocus.StartDate}))}r.props.onChangeValue(t)}else t.start_date=o,r.props.onChangeValue(t)}},r.handleDayPickerMonthChange=function(e){r.stores.store.setState(a({},r.stores.store.state,{currentMonth:d.default(e)}))},r.handleEndDateControlChange=function(){var e=r.getDateValue();if("datetimerange"===e.type){var t={type:"datetime",start_date:e.start_date,start_time:e.start_time,time_zone:e.time_zone,reminder:e.reminder};r.props.onChangeValue(t)}else if("daterange"===e.type){var n={type:"date",start_date:e.start_date,reminder:e.reminder};r.props.onChangeValue(n)}else if("datetime"===e.type){var o={type:"datetimerange",start_date:e.start_date,start_time:e.start_time,end_date:e.start_date,end_time:e.start_time,time_zone:e.time_zone,reminder:e.reminder};r.props.onChangeValue(o),r.stores.store.setState(a({},r.stores.store.state,{focus:m.DateTimeRangePickerFocus.EndDate}))}else{var i={type:"daterange",start_date:e.start_date,end_date:e.start_date,reminder:e.reminder};r.props.onChangeValue(i),r.stores.store.setState(a({},r.stores.store.state,{focus:m.DateTimeRangePickerFocus.EndDate}))}},r.handleAllDayChange=function(){var e=r.getDateValue();if("date"===e.type){var t={type:"datetime",start_date:e.start_date,start_time:"00:00",time_zone:u.currentTimeZone,reminder:e.reminder&&u.convertToDateTimeReminder(e.reminder)};r.props.onChangeValue(t)}else if("daterange"===e.type){var n={type:"datetimerange",start_date:e.start_date,start_time:"00:00",end_date:e.end_date,end_time:"00:00",time_zone:u.currentTimeZone,reminder:e.reminder&&u.convertToDateTimeReminder(e.reminder)};r.props.onChangeValue(n)}else if("datetime"===e.type){var o={type:"date",start_date:e.start_date,reminder:e.reminder&&u.convertToDateReminder(e.reminder)};r.props.onChangeValue(o)}else{var a={type:"daterange",start_date:e.start_date,end_date:e.end_date,reminder:e.reminder&&u.convertToDateReminder(e.reminder)};r.props.onChangeValue(a)}},r.handleTimeZoneChange=function(e){var t=h.timeZones.find(function(t){return t.displayName===e});if(t){var n=t.name,o=r.getDateValue();if("datetime"===o.type||"datetimerange"===o.type){var i=a({},o,{time_zone:n});r.props.onChangeValue(i)}}},r.handleStartInputDateMouseDown=function(){var e=r.getDateValue(),t=u.getMomentRange(e,u.currentTimeZone);r.stores.store.setState(a({},r.stores.store.state,{focus:m.DateTimeRangePickerFocus.StartDate,inputIsFocused:!0,currentMonth:t.start}))},r.handleStartInputTimeMouseDown=function(){var e=r.getDateValue(),t=u.getMomentRange(e,u.currentTimeZone);r.stores.store.setState(a({},r.stores.store.state,{focus:m.DateTimeRangePickerFocus.StartTime,inputIsFocused:!0,currentMonth:t.start}))},r.handleEndInputDateMouseDown=function(){var e=r.getDateValue(),t=u.getMomentRange(e,u.currentTimeZone);t.end&&r.stores.store.setState(a({},r.stores.store.state,{focus:m.DateTimeRangePickerFocus.EndDate,inputIsFocused:!0,currentMonth:t.end}))},r.handleEndInputTimeMouseDown=function(){var e=r.getDateValue(),t=u.getMomentRange(e,u.currentTimeZone);t.end&&r.stores.store.setState(a({},r.stores.store.state,{focus:m.DateTimeRangePickerFocus.EndTime,inputIsFocused:!0,currentMonth:t.end}))},r.handleClearClick=function(){r.props.onChangeValue(void 0)},r.getTimeZoneItemsSync=function(e){return S.default(e,h.timeZones,function(e){return e.displayName}).map(function(e,t){return{key:e.displayName,render:function(t){return i.createElement(C.default,a({},t,{title:e.displayName}))},action:function(){r.handleTimeZoneChange(e.displayName)}}})},r}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),this.openTimeFormat=u.today(u.currentTimeZone)},t.prototype.renderComponent=function(){var e,t=this.props,r=t.disabled,n=t.locked,o=this.stores.store.state.inputIsFocused,l=this.getDateValue(),s="datetime"===l.type||"datetimerange"===l.type,u="daterange"===l.type||"datetimerange"===l.type,c=i.createElement("div",{style:a({paddingTop:k.default.isMobile?16:8,paddingBottom:k.default.isMobile?16:8,paddingLeft:k.default.isMobile?V.default.calcPaddingLeft(16):14,paddingRight:k.default.isMobile?V.default.calcPaddingRight(16):14,display:s?"block":"flex"},k.default.isMobile&&{boxShadow:"\n\t\t\t\t\t\t\t0 1px 0 "+this.theme.regularDividerColor+"\n\t\t\t\t\t\t",position:"relative",zIndex:2},{background:k.default.isMobile?this.theme.popoverBackground:void 0})},this.renderStartInput(),u&&i.createElement("div",{style:{width:12,height:8}}),this.renderEndInput(),this.renderTimeZone());return e=k.default.isMobile?{menuType:x.default.MenuType.Modal,title:"Date",right:"Done",left:this.renderMobileHelpButton(),onClickRight:this.props.onDismiss,header:c}:{menuType:x.default.MenuType.Popup,maxHeight:"none",width:250},i.createElement(_.default,{capture:o,allowEsc:!0,allowTabUntab:!0},i.createElement(_.default,{capture:!0,allowUndo:!0,allowEsc:!0,allowTabUntab:!0},i.createElement(x.default,a({},e),i.createElement(B.default,{show:o,offset:16}),i.createElement(E.default,null,!k.default.isMobile&&c,i.createElement("div",{style:a({padding:k.default.isMobile?"16px 14px 16px":"4px 0 4px",textAlign:"center"},k.default.isMobile&&{borderBottom:"1px solid "+this.theme.regularDividerColor,background:this.theme.popoverBackground})},this.renderCalendar())),!r&&!k.default.isMobile&&i.createElement(y.Fragment,null,i.createElement(E.default,{topBorder:!0},this.renderReminderControl()),i.createElement(E.default,{topBorder:!0},this.renderEndDateControl(),this.renderAllDayControl())),!r&&k.default.isMobile&&i.createElement(E.default,{topBorder:!0},this.renderReminderControl(),this.renderEndDateControl(),this.renderAllDayControl()),!r&&!n&&i.createElement(E.default,{topBorder:!0},this.renderFormatPopup()),!r&&i.createElement(E.default,{topBorder:!0},this.renderClearButton()),!r&&!k.default.isMobile&&i.createElement(E.default,{topBorder:!0},i.createElement(W.default,{title:"Learn about reminders",href:U.guides.reminders,analyticsFrom:"date_selector"})))))},t.prototype.renderStartInput=function(){var e=this,t=this.props.disabled,r=this.stores.store.state,n=r.focus,o=r.inputTemporaryValue,l=r.hasError,s=this.getDateValue(),c=u.getMomentRange(s,u.currentTimeZone),d="datetime"===s.type||"datetimerange"===s.type,p="daterange"===s.type||"datetimerange"===s.type,f=n===m.DateTimeRangePickerFocus.StartDate||n===m.DateTimeRangePickerFocus.StartTime,h=n!==m.DateTimeRangePickerFocus.StartDate||w.isNotDefined(o)?c.start.format(this.getDateFormat()):o,y=c.start.format(u.persistedDateFormat),g=n!==m.DateTimeRangePickerFocus.StartTime||w.isNotDefined(o)?c.start.format(this.getTimeFormat()):o,S=c.start.format(u.persistedTimeFormat);return i.createElement("div",{style:a({},f&&p?this.getInputWrapActiveStyle():this.getInputWrapInactiveStyle(),{fontSize:k.default.isMobile?16:14})},i.createElement(b.default,{renderTooltip:function(){return"Invalid Date"},forceVisibleState:n===m.DateTimeRangePickerFocus.StartDate&&l,placement:b.default.Placement.Top,render:function(){return k.default.isMobile?i.createElement(v.default,{type:"date",format:v.InputFormat.Transparent,value:y,onChange:e.handleStartDateInputChange,onMouseDown:e.handleStartInputDateMouseDown,onBlur:e.handleInputBlur,onSubmit:e.handleInputSubmit,disabled:t,size:1}):i.createElement(v.default,{format:v.InputFormat.Transparent,value:h,onChange:e.handleStartDateInputChange,onMouseDown:e.handleStartInputDateMouseDown,onBlur:e.handleInputBlur,onSubmit:e.handleInputSubmit,disabled:t,size:1})}}),d&&this.getInputSeparator(),d&&i.createElement(b.default,{renderTooltip:function(){return"Invalid Time"},forceVisibleState:n===m.DateTimeRangePickerFocus.StartTime&&l,placement:b.default.Placement.Top,render:function(){return k.default.isMobile?i.createElement(v.default,{type:"time",format:v.InputFormat.Transparent,value:S,onChange:e.handleStartTimeInputChange,onMouseDown:e.handleStartInputTimeMouseDown,onBlur:e.handleInputBlur,onSubmit:e.handleInputSubmit,size:1,disabled:t}):i.createElement(v.default,{format:v.InputFormat.Transparent,value:g,onChange:e.handleStartTimeInputChange,onMouseDown:e.handleStartInputTimeMouseDown,onBlur:e.handleInputBlur,onSubmit:e.handleInputSubmit,size:1,disabled:t})}}))},t.prototype.renderEndInput=function(){var e=this,t=this.props.disabled,r=this.getDateValue(),n=u.getMomentRange(r,u.currentTimeZone),o="datetime"===r.type||"datetimerange"===r.type;if(n.end){var l=this.stores.store.state,s=l.focus,c=l.hasError,d=l.inputTemporaryValue,p=s===m.DateTimeRangePickerFocus.EndDate||s===m.DateTimeRangePickerFocus.EndTime,f=s!==m.DateTimeRangePickerFocus.EndDate||w.isNotDefined(d)?n.end.format(this.getDateFormat()):d,h=n.end.format(u.persistedDateFormat),y=s!==m.DateTimeRangePickerFocus.EndTime||w.isNotDefined(d)?n.end.format(this.getTimeFormat()):d,g=n.end.format(u.persistedTimeFormat);return i.createElement("div",{style:a({},p?this.getInputWrapActiveStyle():this.getInputWrapInactiveStyle(),{fontSize:k.default.isMobile?16:14})},i.createElement(b.default,{renderTooltip:function(){return"Invalid Date"},forceVisibleState:s===m.DateTimeRangePickerFocus.EndDate&&c,placement:b.default.Placement.Top,render:function(){return k.default.isMobile?i.createElement(v.default,{type:"date",format:v.InputFormat.Transparent,value:h,onChange:e.handleEndDateInputChange,onMouseDown:e.handleEndInputDateMouseDown,onBlur:e.handleInputBlur,onSubmit:e.handleInputSubmit,size:1,disabled:t}):i.createElement(v.default,{format:v.InputFormat.Transparent,value:f,onChange:e.handleEndDateInputChange,onMouseDown:e.handleEndInputDateMouseDown,onBlur:e.handleInputBlur,onSubmit:e.handleInputSubmit,size:1,disabled:t})}}),o&&this.getInputSeparator(),o&&i.createElement(b.default,{renderTooltip:function(){return"Invalid Time"},forceVisibleState:s===m.DateTimeRangePickerFocus.EndTime&&c,placement:b.default.Placement.Top,render:function(){return k.default.isMobile?i.createElement(v.default,{type:"time",format:v.InputFormat.Transparent,value:g,onChange:e.handleEndTimeInputChange,onMouseDown:e.handleEndInputTimeMouseDown,onBlur:e.handleInputBlur,onSubmit:e.handleInputSubmit,size:1,disabled:t}):i.createElement(v.default,{format:v.InputFormat.Transparent,value:y,onChange:e.handleEndTimeInputChange,onMouseDown:e.handleEndInputTimeMouseDown,onBlur:e.handleInputBlur,onSubmit:e.handleInputSubmit,size:1,disabled:t})}}))}},t.prototype.renderTimeZone=function(){var e=this.getDateValue(),t=u.getMomentRange(e,u.currentTimeZone),r=d.default.tz(t.start,u.currentTimeZone);if(("datetime"===e.type||"datetimerange"===e.type)&&r.utcOffset()!==t.start.utcOffset()){var n=h.timeZones.find(function(t){return t.name===e.time_zone});if(n)return i.createElement("div",{style:this.getTimeZoneStyle()},n.displayName)}},t.prototype.renderCalendar=function(){var e=this.props.firstDayOfWeek,r=this.getDateValueForceCurrentTimeZone(),n=u.getMomentRange(r,u.currentTimeZone),o=this.stores.store.state.currentMonth||n.start,l=this.stores.store.state.focus;if(n.end){var s=n.start.toDate(),d=n.end.toDate(),p=l===m.DateTimeRangePickerFocus.StartDate||l===m.DateTimeRangePickerFocus.StartTime;return i.createElement(c.default,{className:"notion-calendar-picker",firstDayOfWeek:e,numberOfMonths:1,initialMonth:o.toDate(),month:o.toDate(),locale:u.currentLocale,localeUtils:q,modifiers:a({range:{from:s,to:d}},p?{end:d,start:s}:{start:s,end:d}),modifiersStyles:{range:t.dayPickerRangeDayStyle,start:p?this.getDayPickerActiveDayStyle():this.getDayPickerInactiveDayStyle(),end:p?this.getDayPickerInactiveDayStyle():this.getDayPickerActiveDayStyle()},showOutsideDays:!0,fixedWeeks:!0,onDayClick:this.handleDayPickerDayClick,navbarElement:this.renderNavbarElement,onMonthChange:this.handleDayPickerMonthChange})}s=n.start.toDate();return i.createElement(c.default,{className:"notion-calendar-picker",numberOfMonths:1,firstDayOfWeek:e,initialMonth:o.toDate(),month:o.toDate(),locale:u.currentLocale,localeUtils:q,selectedDays:[s],modifiers:{start:s},modifiersStyles:{start:this.getDayPickerActiveDayStyle()},showOutsideDays:!0,fixedWeeks:!0,navbarElement:this.renderNavbarElement,onDayClick:this.handleDayPickerDayClick,onMonthChange:this.handleDayPickerMonthChange})},t.prototype.renderEndDateControl=function(){var e=this.getDateValue();return i.createElement(C.default,{focused:!1,onClick:this.handleEndDateControlChange,title:"End Date",right:i.createElement(f.default,{on:"daterange"===e.type||"datetimerange"===e.type,onClick:this.handleEndDateControlChange,isAndroid:k.default.isAndroid})})},t.prototype.renderAllDayControl=function(){var e=this.getDateValue();return i.createElement(C.default,{focused:!1,onClick:this.handleAllDayChange,title:"Include Time",right:i.createElement(f.default,{on:"date"!==e.type&&"daterange"!==e.type,onClick:this.handleAllDayChange,isAndroid:k.default.isAndroid})})},t.prototype.renderReminderControl=function(){var e=this,t=this.getDateValue();return i.createElement(g.default,{popupType:k.default.isMobile?g.default.PopupType.SlideUp:g.default.PopupType.Popup,placementToOrigin:g.default.Placement.Right,renderOrigin:function(e){return i.createElement(D.default,a({},e,{icon:I.default.alarmClock({width:14}),title:"Remind",focused:!1,showExtensionArrow:k.default.isMobile,right:R.formatReminder(t.reminder)}))},render:function(r){var n;n=k.default.isMobile?{menuType:x.default.MenuType.Modal,title:"Remind",right:"Done",onClickRight:r.close}:{menuType:x.default.MenuType.Popup,width:250};var o=("date"===t.type||"daterange"===t.type?u.dateReminderOptions:u.dateTimeReminderOptions).map(function(t){var n=R.formatReminder(t,!0);return{key:n,action:function(n){e.handleChangeReminder(t),r.close()},render:function(e,t){return i.createElement(C.default,a({},e,{title:n}))}}});return i.createElement(x.default,a({},n),i.createElement(O.default,{sections:[{key:"reminder section",render:function(e){return i.createElement(E.default,a({},e))},items:o}],initialFocus:void 0}))}})},t.prototype.renderFormatPopup=function(){var e=this;return i.createElement(g.default,{popupType:k.default.isMobile?g.default.PopupType.SlideUp:g.default.PopupType.Popup,placementToOrigin:g.default.Placement.Right,renderOrigin:function(e){return i.createElement(C.default,a({},e,{icon:I.default.sidebarSettings({width:14}),title:"Date Format & Timezone",focused:!1,showExtensionArrow:k.default.isMobile}))},render:function(t){var r;return r=k.default.isMobile?{menuType:x.default.MenuType.Modal,title:"Date Format",right:"Done",onClickRight:t.close}:{menuType:x.default.MenuType.Popup,width:250},i.createElement(x.default,a({},r),i.createElement(E.default,null,e.renderDateFormatControl(),e.renderTimeFormatControl(),e.renderTimeZoneControl()))}})},t.prototype.renderDateFormatControl=function(){var e=this.props.dateFormat||u.defaultDateFormat,t={menuTitle:"Date Format",items:u.DateFormatOptions,getKey:function(e){return e},selectedItem:e,onSelect:this.handleDateFormatChange,renderItem:function(e){return i.createElement(C.default,a({},e,{title:u.DateFormatDisplayNameMap[e.value]}))},renderOrigin:function(t){return i.createElement(D.default,a({focused:!1,title:"Date Format",right:e?u.DateFormatDisplayNameMap[e]:"Empty"},t))}};return i.createElement(p.default,a({},t))},t.prototype.renderTimeFormatControl=function(){var e=this.getDateValue(),t="date"===e.type||"daterange"===e.type,r=this.getTimeFormat(),n={menuTitle:"Time Format",items:u.TimeFormatOptions,getKey:function(e){return e},selectedItem:r,onSelect:this.handleTimeFormatChange,renderItem:function(e){return i.createElement(C.default,a({},e,{title:u.TimeFormatDisplayNameMap[e.value]}))},disabled:t,renderOrigin:function(e){return i.createElement(D.default,a({focused:!1,title:"Time Format",disabled:t,right:!t&&(r?u.TimeFormatDisplayNameMap[r]:"Empty")},e))}};return i.createElement(p.default,a({},n))},t.prototype.renderTimeZoneControl=function(){var e=this,t=this.getDateValue(),r="date"===t.type||"daterange"===t.type,n=this.getCurrentTimeZone(),o=h.timeZones.find(function(e){return e.name===n});if(o)return i.createElement(g.default,{popupType:k.default.isMobile?g.default.PopupType.SlideUp:g.default.PopupType.Popup,disabled:r,onClick:function(){return e.stores.timezoneQuery.set("")},renderOrigin:function(e){return i.createElement(D.default,a({focused:!1,title:"Timezone",disabled:r,right:!r&&d.default.tz.zone(o.name).abbr(Date.now())},e))},render:function(t){var r,n=e.stores.timezoneQuery.get(),o=e.getTimeZoneItemsSync(n),l=i.createElement(E.default,{isInput:!0},i.createElement(T.default,{focus:!k.default.isMobile||void 0,focusAfterAnimation:!0,value:e.stores.timezoneQuery.get(),onChange:function(t){return e.stores.timezoneQuery.set(t.target.value)},placeholder:"Search for a timezone..."}));return r=k.default.isMobile?{menuType:x.default.MenuType.Modal,title:"Timezone",right:"Cancel",onClickRight:t.close,header:l}:{menuType:x.default.MenuType.Popup,header:l},i.createElement(x.default,a({},r),0===o.length?i.createElement(E.default,{title:"Select a Timezone"},i.createElement(M.default,{title:"No Results"})):i.createElement(O.default,{initialFocus:0,sections:[{key:"timezone section",render:function(e){return i.createElement(E.default,a({},e,{title:"Select a Timezone"}))},items:o}],onAccept:t.close}))}})},t.prototype.renderClearButton=function(){return i.createElement(C.default,{focused:!1,onClick:this.handleClearClick,title:"Clear"})},t.prototype.renderMobileHelpButton=function(){return i.createElement(z.default,{href:U.guides.reminders,analyticsFrom:"date_selector"})},t.prototype.getDateValue=function(){var e=this.props.value;return e&&!l.isNaN(e)?e:this.openTimeFormat},t.prototype.getDateValueForceCurrentTimeZone=function(){var e=this.props.value;return e&&!l.isNaN(e)?"datetime"===e.type||"datetimerange"===e.type?a({},e,{time_zone:u.currentTimeZone}):e:this.openTimeFormat},t.prototype.getDateFormat=function(){var e=this.props.dateFormat||u.defaultDateFormat;return"relative"===e?u.defaultDateFormat:e},t.prototype.getTimeFormat=function(){return this.props.timeFormat||u.defaultTimeFormat},t.prototype.getCurrentTimeZone=function(){var e=this.getDateValue();return"datetime"===e.type||"datetimerange"===e.type?e.time_zone:u.currentTimeZone},t.prototype.parseInputDateValue=function(e){return d.default(e,u.persistedDateFormat,!0).isValid()?e:L.parseDate(e)},t.prototype.parseInputTimeValue=function(e){return d.default(e,u.persistedTimeFormat,!0).isValid()?e:L.parseTime(e)},t.prototype.getInputSeparator=function(){return i.createElement("div",{style:{height:14,width:1,background:this.theme.regularDividerColor,marginLeft:6,marginRight:12,flexShrink:0}})},t.prototype.getInputWrapStyle=function(){return{display:"flex",alignItems:"center",borderRadius:3,height:28,lineHeight:1.2,background:this.theme.inputBackground,paddingLeft:8,paddingRight:8}},t.prototype.getInputWrapInactiveStyle=function(){return a({},this.getInputWrapStyle(),{boxShadow:this.theme.inputBoxShadow,flexGrow:1})},t.prototype.getInputWrapActiveStyle=function(){return a({},this.getInputWrapStyle(),{boxShadow:"inset 0 0 0 2px "+F.default.blue,background:F.default.blueWithAlpha(.15),flexGrow:1})},t.prototype.getDayPickerActiveDayStyle=function(){return{backgroundColor:F.default.blue,color:F.default.white}},t.prototype.getDayPickerInactiveDayStyle=function(){return{backgroundColor:F.default.blueWithAlpha(.5)}},t.prototype.getTimeZoneStyle=function(){return{marginTop:8,color:this.theme.mediumTextColor,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:k.default.isMobile?14:12}},t.stores={store:m.default,timezoneQuery:P.default.of("")},t.dayPickerRangeDayStyle={backgroundColor:F.default.blueWithAlpha(.15)},t.desktopNavStyle={display:"flex",position:"absolute",top:0,right:4,zIndex:A.overlayContainer},t.mobileNavStyle={display:"flex",position:"absolute",top:-2,right:4,zIndex:A.overlayContainer},t}(s.default);t.default=H;var q={getMonths:function(){for(var e=[],t=0;t<12;)e.push(d.default().month(t).format("MMMM")),t+=1;return e},formatDay:function(e){return d.default(e).format("ddd ll")},formatMonthTitle:function(e){return d.default(e).format("MMMM YYYY")},formatWeekdayShort:function(e){return d.default.weekdaysMin()[e]},formatWeekdayLong:function(e){return d.default.weekdays()[e]},getFirstDayOfWeek:function(){return d.default.localeData().firstDayOfWeek()}}},PAkL:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("tzV5"),s=r("r8oj"),u=r("vTDQ"),c=r("wldR"),d=r("oCZo"),p=r("iZLY"),f=r("EZe4"),h=r("FmD2"),m=r("LVJ5"),y=r("MBf9"),g=r("RvCr"),v=r("cBa6"),b=r("6rsX"),w=r("cYwG"),S=r("WPWl"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleGroupMouseDown=function(e){s.default.isMobile||f.default({event:e,context:f.EventContext.EditorMouseDown,callback:function(){e.preventDefault(),h.startRectangularSelection({target:e.target,startX:e.clientX,startY:e.clientY,showSelectionRect:!0,preventSelectStores:[t.props.store]})}})},t.handleGroupClick=function(e){f.default({event:e,context:f.EventContext.EditorClick,callback:function(){}})},t.handleItemTextEsc=function(e){var r=t.props.collectionViewLocalStore.state.collectionStore,n=e.getTitleStore();n&&(v.getText(n.getValue())?b.select({store:e}):r&&y.createAndCommit(function(t){g.remove({collectionStore:r,store:e,transaction:t})}))},t.handleScrollOffsetChange=function(e){var r=t.props,n=r.collectionViewLocalStore,o=r.groupFormat,a=n.state.isLoading;e<u.default.incrementScrollOffset&&!a&&(o?!n.reachedEndOfBoardGroupResults(o):!n.reachedEndOfTableResults())&&l.increment({collectionViewLocalStore:n})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,r=e.groupFormat,n=e.collectionViewLocalStore,o=e.disabled,l=e.format,s=e.isLast,u=e.instanceCollectionStore,c=e.schema,f=e.blockPropertyValueOverlayStore,h=!r;h?t.singleGroupStyle:s?a({},this.getStyle(),{paddingRight:0}):this.getStyle();return i.createElement("div",{style:this.getStyle(),onMouseDown:this.handleGroupMouseDown,onClick:this.handleGroupClick},r&&i.createElement("div",{style:t.boardGroupHeaderPlaceholderStyle}),i.createElement(p.default,{parentStore:u,collectionViewLocalStore:n,group:r,format:l,canDrag:!o,resultProps:{format:l,schema:c,isSingleGroup:h,onTextEnter:this.handleItemTextEsc,coverFormat:this.getCoverFormat(),coverAspectFormat:this.getCoverAspectFormat(),coverSizeFormat:this.getCoverSizeFormat(),shouldShowTitle:this.getTitleVisibilityFormat(),onTextEsc:this.handleItemTextEsc,disabled:o,blockPropertyValueOverlayStore:f},resultComponent:d.default,disabled:o,direction:p.CollectionGroupDirection.Vertical,shouldShowHoverMenu:!1,belowDropZoneMargin:2,emptyDroppableSize:4,analyticsName:"board"}),!o&&i.createElement(m.default,{parentStore:u,group:r,collectionViewLocalStore:n,title:"New"}),i.createElement(w.default,{onChange:this.handleScrollOffsetChange}))},t.prototype.getCoverFormat=function(){var e=this.props.format;return e?e.board_cover:void 0},t.prototype.getCoverAspectFormat=function(){var e=this.props.format;return e?e.board_cover_aspect:void 0},t.prototype.getCoverSizeFormat=function(){var e=this.props.format;return e?e.board_cover_size:void 0},t.prototype.getTitleVisibilityFormat=function(){var e=(this.props.format||{}).board_title_visible;return void 0===e||e},t.prototype.getGallerycardWidth=function(){switch((this.props.format||{}).board_cover_size){case"large":return S.default.card.desktop.large.width;case"small":return S.default.card.desktop.small.width;case"medium":default:return S.default.card.desktop.medium.width}},t.prototype.getStyle=function(){return{flex:"none",paddingRight:t.paddingRight,boxSizing:"content-box",width:this.getGallerycardWidth()}},t.headerHeight=44,t.paddingRight=16,t.singleGroupStyle={flexGrow:1},t.boardGroupHeaderPlaceholderStyle={height:t.headerHeight},t}(c.default);t.default=_},PK5W:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("i3uR"),u=r("mF3+"),c=r("Na01"),d=r("r8oj"),p=r("zmp8"),f=r("gbGO"),h=r("Cycz"),m=r("Ma8p"),y=r("qqdV"),g=r("Bzsy"),v=r("r8MX"),b=r("IYZQ"),w=r("MeYt"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){g.default.setState(a({},g.default.state,{open:!1}))},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=g.default.state.open,r=v.default.state.data;if(r){var n=h.isSubscribed(r)?"Upgrade & Plans":"Plans & Billing";return i.createElement(s.default,{popupType:d.default.isMobile?s.default.PopupType.SlideUp:s.default.PopupType.Popup,buttonPopupStore:g.default,renderOrigin:function(r){return i.createElement(w.default,a({},r),i.createElement(c.default,{left:e.renderIcon(),style:{background:t?p.default.blackWithAlpha(.05):"none"},isMobile:!0,disableMobileBorder:!0},n))},render:function(){var t;return t=d.default.isMobile?{menuType:f.default.MenuType.Modal,title:n,right:"Done",onClickRight:e.handleClose,whiteBackground:!0}:{menuType:f.default.MenuType.Popup},i.createElement(f.default,a({},t),i.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"42px 24px 0"}},i.createElement(m.default,{emoji:"🐶",size:32}),i.createElement("div",{style:{marginTop:12,marginBottom:18,textAlign:"center"}},"Notion is ",i.createElement("b",null,"free")," on mobile. If you want to upgrade or change your plan, open the app on desktop or web."),i.createElement(b.default,{href:y.pricing,external:!0},"See pricing and plans")))}})}},t.prototype.renderIcon=function(){return u.default.sidebarUpgrade({fill:this.theme.mediumIconColor,height:16})},t}(l.default);t.default=S},PQqx:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("r8oj"),i=r("rlmE"),l=r("0oyA"),s=function(e){return l.default.state.stack.some(function(t){return e===t.listener})},u=function(e,t){var r=l.default;o.findLast(r.state.stack,function(r){var n=r.shortcuts[t];return!!n&&(n(e),!0)})};t.addListener=function(e){var t=l.default;s(e.listener)||(t.state.stack.push(e),t.emit())},t.updateListener=function(e){var t=l.default;if(s(e.listener)){var r=t.state.stack.map(function(t){return t.listener===e.listener?e:t});t.setState(n({},t.state,{stack:r}))}else t.state.stack.push(e),t.emit()},t.addRootListener=function(e){var t=l.default;s(e.listener)||(t.state.stack.unshift(e),t.emit())},t.removeListener=function(e){if(s(e)){var t=l.default,r=t.state.stack,a=o.reject(r,function(t){return e===t.listener});t.setState(n({},t.state,{stack:a}))}};var c={cut:!0,copy:!0,paste:!0},d=function(e){var t=l.default.shortcutMap,r=o.findKey(t,function(t,r){return i.default(e,t)});r&&!c[r]&&u(e,r)};t.handleEvent=function(e){u(e,e.type)},t.startListeners=function(){window.addEventListener("keydown",d),window.addEventListener("cut",t.handleEvent),window.addEventListener("copy",t.handleEvent),window.addEventListener("paste",t.handleEvent),window.addEventListener("keypress",t.handleEvent)},t.getShortcutTextItems=function(){return{command:a.default.isMac?"⌘":"ctrl",enter:"↵",delete:"del",backspace:"del",esc:"escape",left:"←",right:"→",up:"↑",down:"↓",tab:"⇥"}},t.getShortcutTooltipTextItems=function(){return{command:a.default.isMac?"command":"control",esc:"escape"}}},PRHG:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("r8oj"),u=r("t+pW"),c=r("gbGO"),d=r("R+Q+"),p=r("I6hv"),f=r("7TLZ"),h=r("Gw5o"),m=r("Cm2F"),y=r("VyA+"),g=r("LoBg"),v=r("QTGx"),b=r("HRSx"),w=r("I6hv"),S=[p.BlockDiscussionsMenuTab.Open,p.BlockDiscussionsMenuTab.Resolved],_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChangeTab=function(e){var t=w.default.state;t.open&&w.default.setState(a({},t,{tab:S[e]}))},t}return o(t,e),t.prototype.renderComponent=function(){var e;return e=s.default.isMobile?{menuType:c.default.MenuType.Modal,title:"Discussion",header:this.renderMenuHeader(),right:"Close",onClickRight:m.closeBlockDiscussionMenu,whiteBackground:!0}:{menuType:c.default.MenuType.Popup,header:this.renderMenuHeader(),width:480,maxHeight:"50vh",onClickOutside:m.closeBlockDiscussionMenu},i.createElement(g.default,{capture:!0},i.createElement(y.default,{capture:!0,onEsc:m.closeBlockDiscussionMenu},i.createElement(c.default,a({},e),this.renderMenuContent())))},t.prototype.renderMenuHeader=function(){var e=f.getUnresolvedDiscussionStores(this.props.blockStore).length,t=f.getResolvedDiscussionStores(this.props.blockStore).length;return i.createElement(d.default,{tabs:[e?"Open ("+e+")":"Open",t?"Resolved ("+t+")":"Resolved"],selectedIndex:S.indexOf(this.props.tab),onChange:this.handleChangeTab,style:a({},s.default.isAndroid&&{borderBottom:"none"})})},t.prototype.renderMenuContent=function(){var e=this;if(this.props.tab===p.BlockDiscussionsMenuTab.Open){var t;if((t=f.getUnresolvedDiscussionStores(this.props.blockStore)).length){var r=t.map(function(t,r,n){return i.createElement(h.default,{key:t.id,store:t,format:h.default.Format.Menu,isFirst:0===r,isOnly:1===n.length,discussionLocation:"block_menu",alwaysShowResolve:!0,blockStore:e.props.blockStore,onDismiss:m.closeBlockDiscussionMenu})}),n=this.props.blockStore.getType(),o=n&&b.multilineTextTypes[n];if(s.default.isMobile&&o){var a=v.getBlockRenderer(this.props.blockStore);return a?i.createElement(l.Fragment,null,i.createElement("div",{style:{padding:"12px 16px",boxShadow:"0 1px 0 "+this.theme.regularDividerColor,marginBottom:1}},i.createElement(a,{store:this.props.blockStore,disabled:!0,hideContent:!0,style:{fontSize:14,pointerEvents:"none"},isQuickFind:!0})),r):r}return r}return this.renderEmptyState("No comments to show.")}return(t=f.getResolvedDiscussionStores(this.props.blockStore)).length?t.map(function(t,r,n){return i.createElement(h.default,{key:t.id,store:t,format:h.default.Format.Menu,isFirst:0===r,isOnly:1===n.length,discussionLocation:"block_menu",alwaysShowResolve:!0,blockStore:e.props.blockStore,onDismiss:m.closeBlockDiscussionMenu})}):this.renderEmptyState("No resolved comments.")},t.prototype.renderEmptyState=function(e){return i.createElement("div",{style:{textAlign:"center",padding:s.default.isMobile?"64px 18px":"32px 18px 36px",fontSize:14,color:this.theme.mediumTextColor}},e)},t}(u.default);t.default=_},PfMi:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("wldR"),c=r("frzs"),d=r("H4VD"),p=r("r8oj"),f=r("qqdV"),h=r("5jDe"),m=r("DlEO"),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMount=function(){return i(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return"native"!==this.props.callbackType||p.default.isNative?("access_denied"===this.props.error&&m.default.setState(a({},m.default.state,{showPermissions:!0})),!this.props.error&&this.props.code&&this.props.encryptedToken?[4,c.loginWithGoogleAuth({encryptedToken:this.props.encryptedToken,code:this.props.code})]:(m.default.setState(a({},m.default.state,{alert:this.props.error})),d.navigate({url:f.login}),[2])):(d.openInNativeApp(window.location.href),[2]);case 1:return(e=t.sent())&&(m.default.setState(a({},m.default.state,{alert:e.message})),d.navigate({url:f.login})),[2]}})})},t.prototype.renderComponent=function(){return s.createElement(h.default,null)},t}(u.default);t.default=y},PiSS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("LvDl"),c=r("t+pW"),d=r("LeVO"),p=r("tvfY"),f=r("ZYTv"),h=r("hfHo"),m=r("T1hA"),y=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderAvatar=function(e){var n=r.props.presenceStore,o=e.userId,i=n.getUserIsPresent(e),l=r.getUserValue(o);if(l)return s.createElement(d.default,{key:o,renderTooltip:function(){return r.renderAvatarTooltip(e,i)},render:function(e){return s.createElement("div",a({},e),s.createElement(f.default,{userValue:l,style:r.getUserAvatarStyle(),presence:i?f.default.Presence.Online:f.default.Presence.Offline,format:f.default.Format.AvatarOnly,avatarSize:t.avatarSize,disableAvatarTooltip:!0,avatarShouldShowShadow:!0}))}})},r.renderHiddenUsersTooltipItem=function(e,t){var n=r.props.presenceStore.getUserIsPresent(e),o=r.getUserValue(e.userId);if(o)return s.createElement("div",{style:{display:"flex",alignItems:"center"},key:t},s.createElement(f.default,{userValue:o,format:f.default.Format.Default,avatarSize:18}),n&&s.createElement("div",{style:{marginLeft:"auto",paddingLeft:12,color:r.theme.mediumInvertedTextColor}},"Online"))},r.updateThrottledRenderState=function(e){r.throttledRenderState=e,r.enqueueForceUpdate()},r.updateThrottledRenderStateThrottled=u.throttle(r.updateThrottledRenderState,300),r}return o(t,e),t.prototype.renderComponent=function(){var e=this.getRenderState();if(u.isEqual(e,this.throttledRenderState)||this.updateThrottledRenderStateThrottled(e),this.throttledRenderState){var t=this.throttledRenderState,r=t.currentUserData,n=t.visibleUsers,o=t.hiddenUsers;return n.length>0||o.length>0?s.createElement("div",{style:this.getStyle()},o.length>0&&this.renderHiddenUsers(o),n.map(this.renderAvatar),r&&this.renderAvatar(r)):void 0}},t.prototype.renderAvatarTooltip=function(e,t){if(this.props.presenceStore.state.rootStore){var r=m.default.state.userId,n=this.getUserValue(e.userId);if(n)return s.createElement("div",null,n.given_name&&s.createElement(f.default,{userValue:n,format:f.default.Format.FullNameOnly,avatarSize:18}),s.createElement(f.default,{userValue:n,format:f.default.Format.EmailOnly,avatarSize:18}),t&&r!==n.id&&"(Online Now)",e.activityTimestamp&&s.createElement("div",{style:{color:this.theme.mediumInvertedTextColor}},"Last viewed"," ",h.default(Math.min(e.activityTimestamp,Date.now())).fromNow()))}},t.prototype.renderHiddenUsers=function(e){var r=this;return s.createElement(d.default,{renderTooltip:function(){return s.createElement("div",null,e.slice(0,t.maxOtherUsers).map(r.renderHiddenUsersTooltipItem),e.length>t.maxOtherUsers&&s.createElement("div",{style:{marginLeft:2,color:r.theme.mediumInvertedTextColor}},"And more..."))},render:function(n){return s.createElement("div",a({style:{color:r.theme.mediumTextColor,fontSize:14,marginLeft:2*t.avatarOverlap,marginRight:-t.avatarOverlap,whiteSpace:"nowrap"}},n),"+ "+e.length+" other"+(e.length>1?"s":""))}})},t.prototype.getRenderState=function(){var e=this.props.presenceStore,r=e.state.rootStore,n=e.getUserData(),o=m.default.state.userId;if(o){var a=this.getUserValue(o),i=n.find(function(e){return e.userId===o});if(i&&r&&a){var s=n.filter(function(t){return t.userId!==o&&e.getUserIsPresent(t)});s=u.sortBy(s,function(e){return e.userId});var c=u.difference(n,s,[i]),d=l(s,c);return{currentUserData:i,visibleUsers:d.slice(0,t.maxUsers).reverse(),hiddenUsers:d.slice(t.maxUsers)}}}},t.prototype.getUserValue=function(e){var t=this.props.presenceStore.state.rootStore;if(t)return p.default.createChildStore(t,e).getValue()},t.prototype.getStyle=function(){return{display:"flex",alignItems:"center",position:"relative",flexDirection:"row-reverse",marginRight:10+t.avatarOverlap}},t.prototype.getUserAvatarStyle=function(){return{width:t.avatarSize,height:t.avatarSize,borderRadius:t.avatarSize,marginRight:-t.avatarOverlap,position:"relative"}},t.maxUsers=6,t.maxOtherUsers=10,t.avatarSize=23,t.avatarOverlap=5,t}(c.default);t.default=y},Pl3d:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("LvDl"),u=r("CSYU"),c=r("wldR"),d=r("E5KU"),p=r("Uy0f"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.requestCounter=0,t.handlePageVisibilityChange=function(){p.default.state.isVisible?t.interval||t.setRequestInterval():t.clearRequestInterval()},t.performRequest=function(){return i(t,void 0,void 0,function(){var e=this;return l(this,function(t){return[2,new Promise(function(t,r){var n=e.stores.requestStore,o=e.props.performRequest,i=n.state.request;e.requestCounter++;var l=e.requestCounter;e.stores.requestStore.setState(a({},e.stores.requestStore.state,{ready:!1,loading:!0})),o(i).then(function(r){e.requestCounter===l&&n.setState(a({},n.state,{error:void 0,result:r,ready:!0,loading:!1})),t()}).catch(function(t){d.error(t),e.requestCounter===l&&n.setState(a({},n.state,{error:t,result:void 0,ready:!0,loading:!1})),r(t)})})]})})},t.performRequestDebouncedWrapped=function(){t.stores.requestStore.setState(a({},t.stores.requestStore.state,{ready:!1,loading:!0})),t.performRequestDebounced()},t.performRequestDebounced=t.performRequest,t}return o(t,e),t.prototype.fetch=function(){return i(this,void 0,void 0,function(){return l(this,function(e){return[2,this.performRequest()]})})},t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),p.default.addListener(this.handlePageVisibilityChange)},t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t);var r=this.stores.requestStore,n=t.request,o=t.debounce,i=t.throttle,l=t.interval;o!==this.debounce&&(this.debounce=o,this.performRequestDebounced=o?s.debounce(this.performRequest,o):this.performRequest),i!==this.throttle&&(this.throttle=i,this.performRequestDebounced=i?s.throttle(this.performRequest,i):this.performRequest),l!==this.interval&&(this.interval=l,this.clearRequestInterval(),this.setRequestInterval()),s.isEqual(n,r.state.request)||(r.setState(a({},r.state,{request:n})),0===this.requestCounter?this.performRequest():this.performRequestDebouncedWrapped()),r.refresh=this.performRequest},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),p.default.removeListener(this.handlePageVisibilityChange),this.clearRequestInterval()},t.prototype.shouldComponentUpdate=function(e){return!0},t.prototype.renderComponent=function(){var e=this.stores.requestStore,t=this.props.render,r=e.state,n=r.error,o=r.result,a=r.ready;return this.handlePageVisibilityChange(),t(n,o,a)},t.prototype.clearRequestInterval=function(){this.browserInterval&&(clearInterval(this.browserInterval),this.browserInterval=null)},t.prototype.setRequestInterval=function(){this.props.interval&&(this.browserInterval=setInterval(this.performRequest,this.props.interval))},t.stores={requestStore:u.default},t}(c.default);t.default=f},PnU4:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,i=r("LEzx");!function(e){e[e.StartDate=0]="StartDate",e[e.StartTime=1]="StartTime",e[e.EndDate=2]="EndDate",e[e.EndTime=3]="EndTime"}(a=t.DateTimeRangePickerFocus||(t.DateTimeRangePickerFocus={}));var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{focus:a.StartDate,inputIsFocused:!1,hasError:!1}},t}(i.default);t.default=l},PrNg:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("t+pW"),s=r("r8oj"),u=r("QvPY"),c=r("FcJC"),d=r("yjqD"),p=r("6rsX"),f=r("enKW"),h=r("UcZb"),m=r("0zNc"),y=r("0GcB"),g=r("84+D"),v=r("7M94"),b=100,w=25,S=25,_=25,k=200,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTouchStart=function(e){var r={x:e.touches[0].clientX,y:e.touches[0].clientY};h.default.state.open?r.x>t.getSidebarWidthPixels()?g.default.setState({touching:!0,swiping:!1,start:r}):t.handleReset():s.default.isAndroid&&r.x<b?g.default.setState({touching:!0,swiping:!1,start:r}):t.handleReset()},t.handleTouchMove=function(e){if(m.default.state.isDragging)t.handleReset();else{var r=g.default.state;if(r.touching){var n={x:e.touches[0].clientX,y:e.touches[0].clientY};if(r.swiping)g.default.setState({touching:!0,swiping:!0,start:r.start,speed:h.default.state.open?r.end.x-n.x:n.x-r.end.x,end:n});else{if(Math.abs(n.y-r.start.y)>=S)return void t.handleReset();(!h.default.state.open&&n.x-r.start.x>w||h.default.state.open&&r.start.x-n.x>w)&&g.default.setState({touching:!0,swiping:!0,start:r.start,speed:0,end:n})}t.updateTransform()}}},t.handleTouchEnd=function(){return a(t,void 0,void 0,function(){var e,t,r,n,o,a,l,d,p,m;return i(this,function(i){switch(i.label){case 0:return(e=g.default.state).swiping?(t=this.getSidebarWidthPixels(),r=document.querySelector(s.default.isAndroid?"."+v.sidebarMobile:"."+v.frame),n=document.querySelector("."+v.frame),o=Math.abs(e.speed)>=8,a=o?"ease-out":"ease-in-out",l="dark"===y.default.state.mode?", 1px 0 0 "+this.theme.shadowColor.alpha(2*this.theme.shadowOpacity).css():"",d="\n\t\t\t"+f.getShadow({elevation:3,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity})+"\n\t\t\t"+l+"\n\t\t",h.default.state.open?(p=e.start.x-e.end.x,p+e.speed*_>t/2?(m=o?(t-p)/t*k:k,m=Math.max(m,1),r.style.transition="transform "+m+"ms "+a,r.style.transform="translateX(0px)",s.default.isAndroid&&(r.style.boxShadow=d,n.style.transition="filter "+m+"ms "+a,n.style.filter="brightness(1)"),[4,E(r)]):[3,2]):[3,5]):[2];case 1:return i.sent(),c.close(),this.handleReset(),[3,4];case 2:return r.style.transition="transform "+k+"ms "+a,r.style.transform="translateX("+u.default.width+")",s.default.isAndroid&&(r.style.boxShadow=d,n.style.transition="filter "+k+"ms "+a,n.style.filter="brightness(0.7)"),[4,E(r)];case 3:i.sent(),this.handleReset(),i.label=4;case 4:return[3,9];case 5:return p=e.end.x-e.start.x,p+e.speed*_>t/2?(m=o?(t-p)/t*k:k,m=Math.max(m,1),r.style.transition="transform "+m+"ms "+a,r.style.transform="translateX("+u.default.width+")",s.default.isAndroid&&(r.style.boxShadow=d,n.style.transition="filter "+m+"ms "+a,n.style.filter="brightness(0.7)"),[4,E(r)]):[3,7];case 6:return i.sent(),c.open(),this.handleReset(),[3,9];case 7:return r.style.transition="transform "+k+"ms "+a,r.style.transform="translateX(0px)",s.default.isAndroid&&(r.style.boxShadow=d,n.style.transition="filter "+k+"ms "+a,n.style.filter="brightness(1)"),[4,E(r)];case 8:i.sent(),this.handleReset(),i.label=9;case 9:return[2]}})})},t.handleSidebarToggle=function(){t.updateTransform()},t.updateTransform=function(){return a(t,void 0,void 0,function(){var e,t,r,n,o,a,l,c,d,m;return i(this,function(i){return e=document.querySelector(s.default.isAndroid?"."+v.sidebarMobile:"."+v.frame),t=document.querySelector("."+v.frame),r=this.getSidebarWidthPixels(),n=g.default.state,o="dark"===y.default.state.mode?", 1px 0 0 "+this.theme.shadowColor.alpha(2*this.theme.shadowOpacity).css():"",a="\n\t\t\t"+f.getShadow({elevation:3,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity})+"\n\t\t\t"+o+"\n\t\t",n.swiping?h.default.state.open?(l=n.start.x-n.end.x,c=r-l+w,d=Math.min(Math.max(0,c),r),e.style.transition="none",e.style.transform="translateX("+d+"px)",s.default.isAndroid&&(e.style.boxShadow=a,t.style.transition="none",m=(1-.3*d/r).toString(),t.style.filter="brightness("+m+")")):(l=n.end.x-n.start.x,c=l-w,d=Math.min(Math.max(0,c),r),e.style.transition="none",e.style.transform="translateX("+d+"px)",s.default.isAndroid&&(e.style.boxShadow=a,t.style.transition="none",m=(1-.3*d/r).toString(),t.style.filter="brightness("+m+")")):h.default.state.open?(e.style.transition="transform 200ms",e.style.transform="translateX("+u.default.width+")",s.default.isAndroid&&(e.style.transform="translateX(calc("+u.default.width+" - 1px))",e.style.boxShadow=a,t.style.transition="filter 200ms",t.style.filter="brightness(0.7)"),p.clear()):(e.style.transition="transform 200ms",e.style.transform="translateX(0)",s.default.isAndroid&&(e.style.boxShadow="none",t.style.transition="filter 200ms",t.style.filter="brightness(1)")),[2]})})},t}return o(t,e),t.prototype.didMount=function(){s.default.isMobile&&(window.addEventListener("touchstart",this.handleTouchStart),window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleTouchEnd),h.default.addListener(this.handleSidebarToggle))},t.prototype.willUnmount=function(){s.default.isMobile&&(window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),h.default.removeListener(this.handleSidebarToggle))},t.prototype.handleReset=function(){g.default.reset(),this.updateTransform()},t.prototype.getSidebarWidthPixels=function(){var e=u.default.width;return e.endsWith("%")?parseInt(e)*window.innerWidth/100:parseInt(e)},t}(l.default);function E(e){return a(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return t=d.deferred(),e.addEventListener("transitionend",t.resolve),e.addEventListener("webkitTransitionEnd",t.resolve),[4,t.promise];case 1:return r.sent(),e.removeEventListener("transitionend",t.resolve),e.removeEventListener("webkitTransitionEnd",t.resolve),[2]}})})}t.default=C},PuL6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("pSmD");t.default=new n.default},Q2G9:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("q1tI"),c=r("t+pW"),d=r("r8oj"),p=r("/6eU"),f=r("naZa"),h=r("WgIs"),m=r("2Y+N"),y=r("Ma8p"),g=r("Na01"),v=r("8fuX"),b=r("Sb6f"),w=r("30UQ"),S=r("MBf9"),_=r("wlCD"),k=r("y6Dp"),C=r("12Wr"),E=r("wXH4"),P=r("2Ig/"),x=r("Cm2F"),T=r("VBxf"),O=r("QcDD"),M=r("vJXr"),I=r("cy36"),A=r("Ng05"),D=r("MeYt"),L=r("7M94"),R=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderMobilePopup=function(){var e=I.default.state;if(e.open)return s.createElement(C.default,{title:"Try This Template",left:"Cancel",onClickLeft:r.handleDismiss,right:e.isLoading?s.createElement(_.default,null):"Use",onClickRight:r.handleUseTemplateClick},r.renderPreview(e))},r.renderModal=function(){var e=I.default.state;if(e.open)return s.createElement("div",{style:t.modalStyle,className:L.pageTemplateModal},r.renderPreview(e),r.renderSidebar(e))},r.handleDismiss=function(){return i(r,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return this.stores.recordCacheStore.state.appliedTransaction?[4,this.showEditConfirmDialog()]:[3,2];case 1:return e.sent()?this.accept(!0):this.close(),[3,3];case 2:this.close(),e.label=3;case 3:return[2]}})})},r.handleUseTemplateClick=function(){return i(r,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return this.stores.recordCacheStore.state.appliedTransaction?[4,this.showEditConfirmDialog()]:[3,2];case 1:return e.sent()?this.accept(!0):this.accept(!1),[3,3];case 2:this.accept(!1),e.label=3;case 3:return[2]}})})},r.handleItemClick=function(e){return i(r,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return this.stores.recordCacheStore.state.appliedTransaction?[4,this.showEditConfirmDialog()]:[3,2];case 1:return t.sent()?this.accept(!0):this.setCurrentItem(e),[3,3];case 2:this.setCurrentItem(e),t.label=3;case 3:return k.trackTemplateModalItemClick({name:e.name}),[2]}})})},r}return o(t,e),t.prototype.willMountOrUpdate=function(){var e=I.default.state,t=O.default.state.currentSpaceViewStore;e.open&&t&&S.createAndCommit(function(r){w.setTemplateVisited({item:e.item,spaceViewStore:t,transaction:r})})},t.prototype.renderComponent=function(){var e=I.default.state;return d.default.isMobile?s.createElement(E.Popup,{open:e.open,render:this.renderMobilePopup,onDismiss:this.handleDismiss,popupType:d.default.isMobile?E.Popup.PopupType.SlideUp:E.Popup.PopupType.Popup}):s.createElement(p.default,{open:e.open,render:this.renderModal,onDismiss:this.handleDismiss})},t.prototype.renderSidebar=function(e){var r=this;return s.createElement("div",{style:this.getSidebarStyle()},s.createElement(A.default,{isLarge:!0,onClick:this.handleUseTemplateClick,style:t.useTemplateButtonStyle,disabled:e.isLoading||!M.default.state.online},e.isLoading&&s.createElement(_.default,{isWhite:!0,style:{marginRight:6}}),"Use This Template"),s.createElement(v.default,{style:t.scrollerStyle,type:v.OverflowType.Y},s.createElement(h.default,{disableKeyboard:!0,initialFocus:void 0,sections:e.sections.map(function(t){return{key:t.name,render:function(e){return s.createElement(u.Fragment,{key:e.key},s.createElement(m.default,a({},e,{title:s.createElement("span",{style:a({},r.getSectionLabelStyle(),{marginLeft:6})},t.name)})),s.createElement("div",{style:{height:8}}))},items:t.items.map(function(t){return r.renderMenuListItem(e,t)})}})})))},t.prototype.renderMenuListItem=function(e,t){var r=this;return{key:t.name,action:function(){r.handleItemClick(t)},render:function(n){var o=e.item===t,i={};return o&&(i.color=r.theme.regularTextColor,i.fontWeight=b.default.fontWeight.medium),s.createElement(D.default,a({hovered:o,style:i},n),s.createElement(g.default,{style:{paddingLeft:18},isMobile:!1,icon:s.createElement("div",{style:r.getIconWrapStyle()},s.createElement(y.default,{size:20,emoji:t.emoji}))},t.name))}}},t.prototype.renderPreview=function(e){return s.createElement(f.default,{key:e.item.previewRootId,previewRootId:e.item.previewRootId,isFrontPage:!1,style:d.default.isMobile?t.previewMobileStyle:t.previewStyle,recordCacheStore:this.stores.recordCacheStore})},t.prototype.accept=function(e){var t=this.stores.recordCacheStore,r=I.default.state,n=O.default.state,o=n.currentSpaceViewStore,a=n.currentSpaceStore,i=n.currentBlockStore;r.open&&o&&a&&w.accept({item:r.item,spaceStore:a,spaceViewStore:o,useRecordCacheStore:e?t:void 0,initializeStore:!r.createNewPage&&i&&i.isEmptyPage()?i:void 0,isPrivate:r.isPrivate})},t.prototype.close=function(){I.default.setState({open:!1}),x.closeBlockDiscussionMenu()},t.prototype.setCurrentItem=function(e){I.default.state.open&&I.default.setState(a({},I.default.state,{item:e}))},t.prototype.showEditConfirmDialog=function(){return new Promise(function(e,t){T.showDialog({message:"It looks like you've modified the template. Would you like to save your edits?",showCancel:!1,keepFocus:!0,items:[{label:"Save Edits",onAccept:function(){e(!0)}},{label:"Discard",color:"red",onAccept:function(){e(!1)}}]})})},t.prototype.getSidebarStyle=function(){return{width:t.sidebarWidth,color:this.theme.mediumTextColor,background:this.theme.sidebarBackground,display:"flex",flexDirection:"column",borderTopRightRadius:t.borderRadius,borderBottomRightRadius:t.borderRadius}},t.prototype.getIconWrapStyle=function(){return{color:this.theme.regularTextColor,position:"relative"}},t.prototype.getSectionLabelStyle=function(){return{letterSpacing:"0.03em",textTransform:"uppercase",fontSize:11.5,lineHeight:1,marginBottom:1,color:this.theme.lightTextColor,fontWeight:b.default.fontWeight.semibold}},t.stores={recordCacheStore:P.default},t.sidebarWidth=220,t.borderRadius=3,t.modalStyle={display:"flex",width:"85vw",height:"85vh",borderRadius:t.borderRadius},t.useTemplateButtonStyle={position:"relative",marginTop:16,marginLeft:20,marginRight:20,marginBottom:16,whiteSpace:"nowrap"},t.previewStyle={width:"calc(100% - "+t.sidebarWidth+"px)",flexGrow:1,flexShrink:1,display:"flex",flexDirection:"column"},t.previewMobileStyle={width:"100%",flexGrow:1,flexShrink:1,display:"flex",flexDirection:"column"},t.scrollerStyle={flexGrow:1,flexShrink:1,paddingBottom:36},t}(c.default);t.default=R},"QS/e":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=a},QSw5:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoizeResolved=function(e){var t;return function(){return t||(t=e()).catch(function(){t=void 0}),t}},t.memoizeResolvedKey=function(e){var t={};return function(r,n){n&&delete t[r];var o=t[r];return o||(o=e(r),t[r]=o,o.catch(function(){delete t[r]})),o}}},QTGx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r("HKW6"),a=r("Od+m"),i=r("NiNI"),l=r("734p"),s=r("UO8C"),u=r("TxG6"),c=r("iMI9"),d=r("IgPH"),p=r("2GLh"),f=r("gMRr"),h=r("Dr7L"),m=r("+jeX"),y=r("hkwT"),g=r("/LoX"),v=r("afAK"),b=r("NOvk"),w=r("A1hq"),S=r("iPhm"),_=r("CyyH"),k=r("c/kg"),C=r("K6K+"),E=r("/lZ2"),P=r("mego"),x=r("5VOB"),T=r("EU62"),O=r("biZ/"),M=r("GiiL"),I=r("N0lH"),A=r("/Tx6"),D=r("vo/r"),L=r("mQLz"),R=r("8cdi"),B=r("NJfo"),j=r("cB6M"),V=r("sLhR"),F=r("nsmd"),N=r("9duQ"),U=r("EUMY"),W=r("Ho6V"),z=r("6jnI");t.getBlockRenderer=function(e){var t=e.getType();if(t)return"collection_view"===t&&e.isAlias()?L.default:(n||(n={text:o.default,image:a.default,video:i.default,bookmark:l.default,drive:s.default,audio:u.default,tweet:c.default,gist:d.default,maps:p.default,framer:f.default,invision:h.default,file:m.default,page:y.default,to_do:g.default,toggle:v.default,bulleted_list:b.default,numbered_list:w.default,code:S.default,factory:_.default,divider:k.default,column_list:C.default,copy_indicator:E.default,embed:P.default,breadcrumb:x.default,equation:T.default,header:O.default,sub_header:M.default,sub_sub_header:I.default,quote:A.default,collection_view:D.default,collection_view_page:L.default,link_to_page:R.default,link_to_collection:B.default,figma:j.default,loom:V.default,codepen:N.default,typeform:F.default,column:U.default,pdf:W.default,table_of_contents:z.default}),n[t])}},Qc1K:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl"),o=r("q2qQ"),a=r("Cm2F"),i=r("QcDD"),l=r("sjR4"),s=r("p0Uu"),u=r("ZbKq"),c=r("Sd8d"),d=r("uwoq");t.handleFrameReady=function(){var e=s.default.PageScroller;if("page"===d.default.state.route.name&&i.default.state.currentLoadingContainerStore&&i.default.state.currentLoadingContainerStore.state.ready)if(u.default.reset(),c.default.reset(),d.default.state.route.scrollToBlockId){var t=[d.default.state.route.scrollToBlockId];o.scrollToAndSelectBlocks(t);var r=l.default.state.stores[0];r&&d.default.state.route.discussionId&&a.openBlockDiscussionMenu({blockStore:r,discussionId:d.default.state.route.discussionId,analyticsFrom:"page_load"})}else d.default.state.route.discussionId&&i.default.state.currentBlockStore?a.openBlockDiscussionMenu({blockStore:i.default.state.currentBlockStore,discussionId:d.default.state.route.discussionId,analyticsFrom:"page_load"}):"pop"===d.default.state.action&&d.default.state.historyState&&(e&&n.isNumber(d.default.state.historyState.scrollTop)&&e.scrollTo(d.default.state.historyState.scrollTop,0),d.default.state.historyState.blockIds&&o.selectBlocks(d.default.state.historyState.blockIds))}},QcDD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LEzx"),i=r("Dnhi"),l=r("2Ig/"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{initialized:!1,presenceStore:new i.default,recordCacheStore:new l.default}},t.sidebarIsExpandedPreferenceKey="sidebarIsExpanded",t}(a.default);t.default=new s},QcHx:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("wldR"),i=r("H4VD"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMount=function(){i.navigate({url:this.props.to,redirect:!0})},t}(a.default);t.default=l},Qfcx:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{limitParents:new WeakMap}},t.prototype.setLimitParents=function(e,t){this.state.limitParents.set(e,t),this.emit()},t.prototype.removeLimitParents=function(e){this.state.limitParents.delete(e),this.emit()},t}(r("LEzx").default);t.default=new a},QhBr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("zttk");t.default=new n.default},QkuB:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r("q1tI"),s=r("njgS"),u=r("zEGb"),c=r("ZQ9l"),d=r("SR/M"),p=r("t+pW"),f=r("gbGO");!function(e){e[e.Name=0]="Name",e[e.Type=1]="Type"}(i=t.DisplayFormat||(t.DisplayFormat={}));var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.propertySchema,t=e.name,r=e.type,n=this.props.format===i.Name?t:s.propertyTypeDisplayNameMap[r];return this.props.locked?l.createElement(c.default,a({title:n,icon:l.createElement(u.default,{type:r,size:this.context.isMobile?16:14,theme:this.theme,style:{fill:this.theme.regularIconColor}})},this.props)):l.createElement(d.default,a({title:n,icon:l.createElement(u.default,{type:r,size:this.context.isMobile?16:14,theme:this.theme,style:{fill:this.theme.regularIconColor}})},this.props))},t.DisplayFormat=i,t.contextTypes=a({},f.menuContextTypes),t}(p.default);t.default=h},QmC8:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},Qt5S:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=r("LvDl"),s=r("HRSx"),u=r("udrG"),c=r("g90h"),d=r("cBa6"),p=r("njgS"),f=r("ARzG"),h=r("F1uM"),m=r("+575"),y=r("fMiG"),g=r("622O"),v={a:!0,strong:!0,em:!0,code:!0,del:!0},b={meta:!0,style:!0,script:!0,head:!0,br:!0,title:!0};t.sourceCodeClassName="sourceCode",t.importImageMaxWidth=700;var w=function(e,t){var r=[],n=function e(t,r){var n,a;void 0===r&&(r=[]),r.push(t);try{for(var i=o(l.toArray(t.childNodes)),s=i.next();!s.done;s=i.next())e(s.value,r)}catch(e){n={error:e}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return r}(e).filter(function(e){return 3===e.nodeType&&!/^( |\t)*(\n)+( |\t)*$/.test(e.data)});return n.forEach(function(e,o){var a=e.data;a=(a=a.replace(/\[ \]/g,"")).replace(/\[x\]/g,""),0===o&&(a=a.replace(/^\s+|$/g,"")),o===n.length-1&&(a=a.replace(/^|\s+$/g,"")),a=a.replace(/(\s)+/g,"$1");var i=[],l=function(e){for(var t=[];e;)t.push(e),e=e.parentNode||void 0;return t}(e);l.some(function(e){return e instanceof t.Element&&"strong"===e.tagName.toLowerCase()})&&i.push(["b"]),l.some(function(e){return e instanceof t.Element&&"em"===e.tagName.toLowerCase()})&&i.push(["i"]),l.some(function(e){return e instanceof t.Element&&"code"===e.tagName.toLowerCase()})&&i.push(["c"]),l.some(function(e){return e instanceof t.Element&&"del"===e.tagName.toLowerCase()})&&i.push(["s"]);var s=l.find(function(e){return e instanceof t.Element&&"a"===e.tagName.toLowerCase()});s&&s.href&&i.push(["a",s.href]),r.push(d.createToken(a,i))}),d.truncateTextValue(r,1e5)},S=function(e){var t=e.querySelectorAll("img[src], a[download]");return l.toArray(t)},_=function(e,t,r,n,o,a,i,l,s){var u=S(n);return D(e,t,r,u,o,a,i,l,s)},k=function(e,t,r,n,o,a,i,l){var u=c.default(),d={id:u,version:0,type:o,properties:{title:w(n,i)},parent_id:t,parent_table:r,created_by:e.id,created_time:Date.now(),last_edited_by:e.id,last_edited_time:Date.now(),alive:!0,ignore_block_count:!!l||void 0};return a.push({table:s.default.table,id:u,command:"set",path:[],args:d}),u},C=function(e,t,r,n,o){var a=c.default(),i={id:a,version:0,type:u.default.divider,parent_id:t,parent_table:r,created_by:e.id,created_time:Date.now(),last_edited_by:e.id,last_edited_time:Date.now(),alive:!0,ignore_block_count:!!o||void 0};return n.push({table:s.default.table,id:a,command:"set",path:[],args:i}),a},E=function(e){var r=e.user,n=e.parentId,o=e.parentTable,a=e.source,i=e.allOperations,l=e.secureFileS3Url,p=e.ignoreBlockCount,h=c.default(),m={id:h,version:0,type:u.default.image,properties:{source:d.createTextValue(a.url)},format:{block_width:"image"===a.type?Math.min(a.width,t.importImageMaxWidth):void 0},parent_id:n,parent_table:o,created_by:r.id,created_time:Date.now(),last_edited_by:r.id,last_edited_time:Date.now(),alive:!0,ignore_block_count:!!p||void 0},y=f.default(m,l,!1);return m.file_ids=y.map(function(e){return e.id}),i.push({table:s.default.table,id:h,command:"set",path:[],args:m}),h};function P(e){var r=e.user,n=e.parentId,o=e.parentTable,a=e.source,i=e.allOperations,l=e.secureFileS3Url,u=e.ignoreBlockCount,p=c.default(),y=h.getBlockTypeForSource({url:a.url,baseUrl:a.url}),v={id:p,version:0,type:"embed"===y?"file":y,properties:{title:d.createTextValue(g.getFileNameFromUrl(a.url)),source:m.fromUrlValue(a.url)},format:{block_width:"image"===a.type?Math.min(a.width,t.importImageMaxWidth):void 0},parent_id:n,parent_table:o,created_by:r.id,created_time:Date.now(),last_edited_by:r.id,last_edited_time:Date.now(),alive:!0,ignore_block_count:!!u||void 0},b=f.default(v,l,!1);return v.file_ids=b.map(function(e){return e.id}),i.push({table:s.default.table,id:p,command:"set",path:[],args:v}),p}function x(e){return 0===e.children.length?e.textContent?e.textContent.trim():"":Array.from(e.children).map(function(e){return"div"===e.tagName.toLowerCase()?x(e)+"\n":x(e)}).join("")}t.getMultilineText=x;var T=function(e,t,r,n,o,a){var i=c.default(),l={id:i,version:0,type:u.default.code,properties:{title:d.createTextValue(x(n)),language:d.createTextValue("Plain Text")},parent_id:t,parent_table:r,created_by:e.id,created_time:Date.now(),last_edited_by:e.id,last_edited_time:Date.now(),alive:!0,ignore_block_count:!!a||void 0};return o.push({table:s.default.table,id:i,command:"set",path:[],args:l}),i},O=function(e,t,r,n,o,a){var i=c.default(),l={id:i,version:0,type:u.default.quote,properties:{title:d.createTextValue(n.textContent?n.textContent.trim():"")},parent_id:t,parent_table:r,created_by:e.id,created_time:Date.now(),last_edited_by:e.id,last_edited_time:Date.now(),alive:!0,ignore_block_count:!!a||void 0};return o.push({table:s.default.table,id:i,command:"set",path:[],args:l}),i},M=/^\[x\].*/,I=/^\[ \].*/,A=function(e,t,r,n,o,a,i,f,h){var m=c.default(),y=i.document.createElement("span"),g=[];l.toArray(n.childNodes).forEach(function(e,t){0===t&&!B(e,i)||function(e,t){return 3===e.nodeType||e instanceof t.Element&&v[e.tagName.toLowerCase()]}(e,i)?(y.appendChild(e),e instanceof i.Element&&S(e).forEach(function(e){return g.push(e)})):g.push(e)});var b,_=D(e,m,"block",g,o,a,i,f,h),k=M.test(y.textContent||""),C=I.test(y.textContent||""),E=!1;(b=k||C?u.default.toDo:n.parentNode instanceof i.Element&&"ol"===n.parentNode.tagName.toLowerCase()?u.default.numberedList:u.default.bulletedList)===u.default.toDo&&k&&(E=!0);var P={id:m,version:0,type:b,content:_,properties:{title:w(y,i),checked:E?d.createTextValue(p.checkboxYesValue):void 0},parent_id:t,parent_table:r,created_by:e.id,created_time:Date.now(),last_edited_by:e.id,last_edited_time:Date.now(),alive:!0,ignore_block_count:!!h||void 0};return o.push({table:s.default.table,id:m,command:"set",path:[],args:P}),m},D=function(e,t,r,n,o,a,i,s,u){return l.union.apply(null,n.map(function(n){return L(e,t,r,n,o,a,i,s,u)}))},L=function e(r,n,a,s,d,p,f,m,g){var v,b;if(s&&s instanceof f.Element){var w=s.tagName.toLowerCase();if("h1"===w)return i([k(r,n,a,s,u.default.header,d,f,g)],_(r,n,a,s,d,p,f,m,g));if("h2"===w)return i([k(r,n,a,s,u.default.subHeader,d,f,g)],_(r,n,a,s,d,p,f,m,g));if("hr"===w)return[C(r,n,a,d,g)];if("h"===w[0])return i([k(r,n,a,s,u.default.subSubHeader,d,f,g)],_(r,n,a,s,d,p,f,m,g));if("pre"===w||"div"===w&&s.className===t.sourceCodeClassName)return i([T(r,n,a,s,d,g)],_(r,n,a,s,d,p,f,m,g));if("blockquote"===w)return i([O(r,n,a,s,d,g)],_(r,n,a,s,d,p,f,m,g));if("ul"===w||"ol"===w)return l.union.apply(null,l.map(s.children,function(t){return e(r,n,a,t,d,p,f,m,g)}));if("li"===w||M.test(s.textContent||"")||I.test(s.textContent||""))return[A(r,n,a,s,d,p,f,m,g)];if("img"===w){var S=s.getAttribute("src");if(S)return[E({user:r,parentId:n,parentTable:a,source:p[S]||{type:"unknown",url:S},allOperations:d,secureFileS3Url:m,ignoreBlockCount:g})]}if("a"===w&&0===l.toArray(s.childNodes).length){var x=s.getAttribute("href");if(s.hasAttribute("download")&&x)return[P({user:r,parentId:n,parentTable:a,source:p[x]||{type:"unknown",url:x},allOperations:d,secureFileS3Url:m,ignoreBlockCount:g})]}if("table"===w){var D=[];s.querySelectorAll("tr").forEach(function(e){var t=[];e.querySelectorAll("td, th").forEach(function(e){var r=(e.textContent||"").trim();t.push(r)}),D.push(t)});var L=c.default(),R=y.createCollection({user:r,blockType:"collection_view",rootId:L,parentId:n,parentTable:a,name:"",table:D,ignoreBlockCount:g}).operations;try{for(var B=o(R),j=B.next();!j.done;j=B.next()){var V=j.value;d.push(V)}}catch(e){v={error:e}}finally{try{j&&!j.done&&(b=B.return)&&b.call(B)}finally{if(v)throw v.error}}return[L]}if("video"===w){var F=s.querySelector("source");if(F){var N=F.getAttribute("src");if(N&&h.isVideoFileURL({url:N}))return[P({user:r,parentId:n,parentTable:a,source:{type:"unknown",url:N},allOperations:d,secureFileS3Url:m,ignoreBlockCount:g})]}}return i(/^\s*$/g.test(s.textContent||"")?[]:[k(r,n,a,s,u.default.text,d,f,g)],_(r,n,a,s,d,p,f,m,g))}return[]},R=function(e){if(e&&-1!==e.indexOf("em"))return parseInt(e)},B=function(e,t){return e instanceof t.Element&&"img"===e.tagName.toLowerCase()},j=function(e,t,r){for(var n=r.document.createElement(t);e.firstChild;)n.appendChild(e.firstChild);for(var o=e.attributes.length-1;o>=0;--o){var a=e.attributes[o];a.cloneNode&&n.attributes.setNamedItem(a.cloneNode())}return e.parentNode&&e.parentNode.replaceChild(n,e),n},V=function(e,t,r){for(var n=r.document.createElement(t);e.firstChild;)n.appendChild(e.firstChild);e.appendChild(n)},F=function(e){for(var t=[],r=e;e.firstChild;){var n=e.firstChild;t.push(n),e.parentNode&&e.parentNode.insertBefore(n,r.nextSibling),r=n}var o=e.parentNode;return o&&(o.removeChild(e),o.normalize()),t},N=function(e,t){e.normalize();for(var r,n=l.toArray(e.childNodes);n.length>0;){var o=n.shift();if(o&&o.parentNode&&3===o.nodeType&&/^( |\t)*(\n)+( |\t)*$/.test(o.data))o.parentNode.removeChild(o);else if(o&&o instanceof t.Element&&o.parentNode&&b[o.tagName.toLowerCase()])o.parentNode.removeChild(o);else{if(o instanceof t.HTMLElement){var a=(r=o.style.fontSize||void 0)&&-1!==r.indexOf("px")?parseInt(r):r&&-1!==r.indexOf("pt")?parseInt(r):void 0,i=R(o.style.fontSize||void 0);a&&a>=24?o=j(o,"h1",t):i&&i>2&&(o=j(o,"h1",t))}if(o instanceof t.HTMLElement&&("line-through"===o.style.textDecoration&&V(o,"del",t),"italic"===o.style.fontStyle&&V(o,"em",t),("bold"===o.style.fontWeight||o.style.fontWeight&&parseInt(o.style.fontWeight)>=500)&&V(o,"strong",t)),o instanceof t.HTMLElement&&"b"===o.tagName.toLowerCase()&&(o=j(o,"strong",t)),o instanceof t.HTMLElement&&"strong"===o.tagName.toLowerCase()&&"normal"===o.style.fontWeight&&(o=j(o,"span",t)),o instanceof t.HTMLElement&&("section"===o.tagName.toLowerCase()||"article"===o.tagName.toLowerCase())&&(o=j(o,"div",t)),o instanceof t.HTMLElement&&"div"===o.tagName.toLowerCase()&&"inline"===o.style.display&&(o=j(o,"span",t)),o instanceof t.HTMLElement&&"input"===o.tagName.toLowerCase()&&"checkbox"===o.type){var s=o.checked,u=o.parentNode,c=t.document.createElement("span");c.textContent="["+(s?"x":" ")+"]",u&&(u.insertBefore(c,o),u.removeChild(o)),n.push(c)}else{if(o instanceof t.HTMLElement&&("ul"===o.tagName.toLowerCase()||"ol"===o.tagName.toLowerCase())&&o.parentNode instanceof t.HTMLElement&&("ul"===o.parentNode.tagName.toLowerCase()||"ol"===o.parentNode.tagName.toLowerCase())&&o.previousSibling instanceof t.HTMLElement&&"li"===o.previousSibling.tagName.toLowerCase()&&o.previousSibling.appendChild(o),o instanceof t.Element&&(o.removeAttribute("style"),o.removeAttribute("dir")),o instanceof t.Element&&"span"===o.tagName.toLowerCase())F(o).forEach(function(e){return n.push(e)});else if(o)l.toArray(o.childNodes).forEach(function(e){return n.push(e)})}}}l.toArray(e.childNodes).forEach(function(e){return n.push(e)});for(var d=function(){var e=n.shift();if(e&&e.childNodes.length>0&&l.every(e.childNodes,function(e){return e instanceof t.Element&&"h1"===e.tagName.toLowerCase()})){var r=t.document.createElement("h1");return l.each(e.childNodes,function(e){l.each(e.childNodes,function(e){e&&r.appendChild(e)})}),(o=e.parentNode)&&(o.insertBefore(r,e),o.removeChild(e)),n.push(r),"continue"}if(e&&e.childNodes.length>0&&l.every(e.childNodes,function(e){return e instanceof t.Element&&"h2"===e.tagName.toLowerCase()})){var o,a=t.document.createElement("h2");return l.each(e.childNodes,function(e){l.each(e.childNodes,function(e){e&&a.appendChild(e)})}),(o=e.parentNode)&&(o.insertBefore(a,e),o.removeChild(e)),n.push(a),"continue"}if(e instanceof t.HTMLElement&&("div"===e.tagName.toLowerCase()||"span"===e.tagName.toLowerCase())&&e.parentNode&&0===e.childNodes.length)return e.parentNode.removeChild(e),"continue";if(e instanceof t.Element&&("p"===e.tagName.toLowerCase()||"div"===e.tagName.toLowerCase()||"figure"===e.tagName.toLowerCase())&&l.toArray(e.childNodes).some(function(e){return e instanceof t.Element&&("p"===e.tagName.toLowerCase()||"div"===e.tagName.toLowerCase()||"img"===e.tagName.toLowerCase()||"ul"===e.tagName.toLowerCase()||"table"===e.tagName.toLowerCase()||"hr"===e.tagName.toLowerCase()||"video"===e.tagName.toLowerCase())}))return F(e).forEach(function(e){return n.push(e)}),"continue";e&&e.childNodes&&l.toArray(e.childNodes).forEach(function(e){return n.push(e)})};n.length>0;)d();e.normalize(),l.toArray(e.childNodes).forEach(function(r){if(3===r.nodeType){var n=t.document.createElement("p");e.insertBefore(n,r),n.appendChild(r)}})};t.htmlNodesToBlocks=function(e,t,r,n,o,a,i,s){N(n,a);var u=[];return{allOperations:u,rootContentIds:D(e,t,r,l.toArray(n.children),u,o,a,i,s)}},t.htmlNodesToBlocksInPage=function(e){var r=e.user,o=e.name,a=e.rootId,i=e.parentId,l=e.parentTable,c=e.rootNode,p=e.importFileMap,f=e.window,h=e.secureFileS3Url,m=e.ignoreBlockCount,y=e.createdTime,g=e.lastEditedTime,v=e.customProperties,b=t.htmlNodesToBlocks(r,a,"block",c,p,f,h,m),w=b.allOperations,S=b.rootContentIds,_={id:a,type:u.default.page,version:0,properties:n({},v,{title:d.createTextValue(o)}),content:S,parent_id:i,parent_table:l,created_by:r.id,created_time:(y||new Date).getTime(),last_edited_by:r.id,last_edited_time:(g||new Date).getTime(),alive:!0,ignore_block_count:!!m||void 0};return w.unshift({table:s.default.table,id:a,command:"update",path:[],args:_}),{rootId:a,operations:w}},t.inlineHtmlToTitleValue=function(e,t){return N(e,t),w(e,t)}},QtqF:function(e,t,r){"use strict";var n,o,a,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var d=r("q1tI"),p=r("udrG"),f=r("mF3+"),h=r("BL9y"),m=r("wpmu"),y=r("t+pW"),g=r("VVh3"),v=r("Z0Xr"),b=r("Na01"),w=r("AOw3"),S=r("r8oj"),_=r("Ugx7"),k=r("QcDD"),C=r("MeYt"),E=r("7M94"),P=r("MBf9"),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCreatePageClick=function(){var e=t.props,r=e.spaceStore,n=e.spaceViewStore,o=e.type,a=e.onCreatePage;_.createPageInSection({spaceStore:r,spaceViewStore:n,type:o}),a&&a()},t.handleEmptyDrop=function(e){return s(t,void 0,void 0,function(){var t,r,n,o,a,i,l;return u(this,function(s){switch(s.label){case 0:return t=e.droppedDirection,r=e.droppedStores,n=e.duplicate,o=this.props,a=o.type,i=o.isTopLevel,(l=o.parentStore)?[4,_.confirmDrop({type:a,droppedStores:r})]:[3,2];case 1:s.sent()&&P.createAndCommit(function(e){_.handleDrop({type:a,targetParentStore:l,isTopLevelItem:i,droppedDirection:t,droppedStores:r,duplicate:n,transaction:e})}),s.label=2;case 2:return[2]}})})},t}return i(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props,r=t.parentStore,n=t.isTopLevel,o=t.childStores,a=t.disabled,i=[],l=!1;if(o)i=o.map(function(t,n){return e.renderPageItem(t,r,!0,n)}),l=!0;else if(r){var s=m.default.createChildStore(r,r.id);this.getOutlinerItemsInSubtree(s,s,i,new Set),l=h.pageSubtreeIsLoaded(s)}var u=0===i.length,c=(u||S.default.isMobile)&&this.props.showAddPageButton&&!a,p=u&&!c&&!n,f={bookmarks:E.outlinerBookmarksSection,workspace:E.outlinerWorkspaceSection,shared:E.outlinerSharedSection,private:E.outlinerPrivateSection}[this.props.type];return d.createElement(g.default,{style:this.props.style,className:f,loaded:l,showSpinnerTimeout:3e3,spinnerSize:"1em"},i,u&&n&&this.renderEmptyDroppable(),c&&this.renderAddPageButton(),p&&this.renderEmptyChildrenPlaceholder())},t.prototype.renderEmptyChildrenPlaceholder=function(){return d.createElement(b.default,{style:this.props.itemStyle,isMobile:this.props.isMobile},d.createElement("div",{style:l({color:this.theme.lightTextColor,paddingLeft:12},S.default.isMobile&&{display:"flex",alignItems:"center",height:32})},"No Pages Inside"))},t.prototype.renderAddPageButton=function(){return d.createElement(C.default,{onClick:this.handleCreatePageClick},d.createElement(b.default,{style:{color:this.theme.mediumTextColor},left:this.getPlusIcon(),isMobile:this.props.isMobile,disableMobileBorder:!0},this.props.addPageTitle))},t.prototype.renderPageItem=function(e,t,r,n){return d.createElement(v.default,{isMobile:this.props.isMobile,type:this.props.type,spaceStore:this.props.spaceStore,spaceViewStore:this.props.spaceViewStore,key:e.id,store:e,style:this.props.itemStyle,toggleStyle:this.props.itemToggleStyle,isFirstItem:0===n,isTopLevelItem:r,parentStore:t,onNavigate:this.props.onNavigate,onCreatePage:this.props.onCreatePage,disabled:this.props.disabled})},t.prototype.renderEmptyDroppable=function(){var e=k.default.state.currentBlockStore;if(e){var t=m.default.createChildStore(this.props.spaceStore,e.id);return d.createElement(w.default,{store:t,canDropBelow:!0,onSelectableDrop:this.handleEmptyDrop,analyticsName:"outliner_item",shouldShowDropZone:!0})}},t.prototype.getPlusIcon=function(){return d.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},f.default.plus({fill:this.theme.mediumIconColor,width:14,height:14}))},t.prototype.getOutlinerItemsInSubtree=function(e,r,n,o){var a,i,l=!0,s=e.getType();if(!o.has(e.id)&&(o.add(e.id),s&&t.shouldSkipItemTypes[s]?l=!1:s&&e!==r&&t.shouldShowItemTypes[s]&&(l=!1,n.push(this.renderPageItem(e,e.recordStoreParent(),!1,n.length))),l)){var u=e.getContentStores();try{for(var d=c(u),p=d.next();!p.done;p=d.next()){var f=p.value;this.getOutlinerItemsInSubtree(f,r,n,o)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}},t.shouldShowItemTypes=((o={})[p.default.page]=!0,o[p.default.collectionView]=!0,o[p.default.collectionViewPage]=!0,o),t.shouldSkipItemTypes=((a={})[p.default.factory]=!0,a),t}(y.default);t.default=x},QvPY:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("YUnZ"),s=r("r8oj"),u=r("t+pW"),c=r("QtqF"),d=r("sS7W"),p=r("8fuX"),f=r("geEl"),h=r("UJva"),m=r("OIKt"),y=r("b936"),g=r("zK7c"),v=r("X6Ne"),b=r("3ZnZ"),w=r("mF3+"),S=r("D5Cs"),_=r("Na01"),k=r("wS9/"),C=r("FcJC"),E=r("PK5W"),P=r("VyA+"),x=r("PrNg"),T=r("FZgz"),O=r("GRWW"),M=r("QcDD"),I=r("UcZb"),A=r("p0Uu"),D=r("0GcB"),L=r("zmp8"),R=r("Sb6f"),B=r("enKW"),j=r("HTHG"),V=r("MeYt"),F=r("7M94"),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleScrollerMount=function(e){A.default.SidebarMobileScroller=e},t.handleCloseSidebar=function(){C.close()},t.handleClickFind=function(){return d.toggleQuickFind({analyticsFrom:"sidebar-mobile"})},t.handleClickQuickAdd=function(){C.quickAddPage({from:"sidebar_new_page_button"})},t.isScrolledToTop=t.createComputedStore(function(){return 0===t.stores.scrollerStore.state.scrollTop}),t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{className:F.sidebarMobile,style:this.getWrapStyle()},i.createElement(x.default,null),this.renderSidebar())},t.prototype.renderSidebar=function(){return i.createElement(P.default,{capture:I.default.state.open,onBackButton:this.handleCloseSidebar},i.createElement("div",{style:this.getStyle()},this.renderTopbar(),this.renderOutliner()))},t.prototype.renderTopbar=function(){var e=M.default.state.currentSpaceStore;return i.createElement("div",{style:this.getTopbarStyle()},i.createElement(f.default,{format:f.default.Format.Mobile,shouldShowUnexpandButton:!1}),i.createElement("div",{style:{display:"flex",marginRight:-3,height:"100%"}},this.renderFindButton(),e&&e.canEdit()&&this.renderQuickAddButton()))},t.prototype.renderFindButton=function(){return i.createElement(V.default,{onClick:this.handleClickFind,mobileFeedback:!0,style:t.actionButtonStyle},w.default.search({width:22,height:22}))},t.prototype.renderQuickAddButton=function(){return i.createElement(V.default,{onClick:this.handleClickQuickAdd,mobileFeedback:!0,style:t.actionButtonStyle},w.default.mobileQuickAdd({width:20,height:20}))},t.prototype.renderOutliner=function(){var e=this,r=j.getSidebarData(),n=M.default.state,o=n.currentSpaceStore,a=n.currentSpaceViewStore,l=n.userRootStore,u=n.userStore,d=n.currentBlockStore;if(r&&d&&a&&l&&o&&u){var f=s.default.isReactNative&&s.default.isIOS;return i.createElement(g.default,{store:o,disableEditNearestBlock:!0,render:function(n){return i.createElement(p.default,{store:e.stores.scrollerStore,ref:e.handleScrollerMount,style:t.outlinerStyle,disableScroll:v.shouldDisableScroll(),type:p.default.OverflowType.Y},r.showBookmarksSection&&i.createElement(m.default,{isMobile:!0,type:"bookmarks",spaceStore:o,spaceViewStore:a,showAddPageButton:!1,renderSidebar:function(){return i.createElement(c.default,{isMobile:!0,type:"bookmarks",isTopLevel:!0,spaceStore:o,spaceViewStore:a,parentStore:r.bookmarkedPagesStore,childStores:r.bookmarkedPages,showAddPageButton:!1,onNavigate:e.handleCloseSidebar,onCreatePage:e.handleCloseSidebar,disabled:!o.canEdit()})}}),r.showWorkspaceSection&&i.createElement(m.default,{isMobile:!0,type:"workspace",spaceStore:o,spaceViewStore:a,showAddPageButton:!1,renderSidebar:function(){return i.createElement(c.default,{isMobile:!0,type:"workspace",isTopLevel:!0,spaceStore:o,spaceViewStore:a,parentStore:r.spacePagesStore,childStores:r.workspacePages,addPageTitle:"Add a Page",onNavigate:e.handleCloseSidebar,onCreatePage:e.handleCloseSidebar,disabled:!o.canEdit(),showAddPageButton:!0})}}),r.showSharedSection&&i.createElement(m.default,{isMobile:!0,type:"shared",spaceStore:o,spaceViewStore:a,showAddPageButton:!1,renderSidebar:function(){return i.createElement(c.default,{isMobile:!0,type:"shared",isTopLevel:!0,spaceStore:o,spaceViewStore:a,parentStore:r.sharedPagesStore,childStores:r.sharedPages,showAddPageButton:!1,onNavigate:e.handleCloseSidebar,onCreatePage:e.handleCloseSidebar,disabled:!o.canEdit()})}}),r.showPrivateSection&&!r.showOnlyPrivateSection&&i.createElement(m.default,{isMobile:!0,type:"private",spaceStore:o,spaceViewStore:a,showAddPageButton:!1,renderSidebar:function(){return i.createElement(c.default,{isMobile:!0,type:"private",isTopLevel:!0,spaceStore:o,spaceViewStore:a,parentStore:r.spacePagesStore,childStores:r.privatePages,addPageTitle:"Add a Page",showAddPageButton:!0,onNavigate:e.handleCloseSidebar,onCreatePage:e.handleCloseSidebar,disabled:!o.canEdit()})}}),r.showOnlyPrivateSection&&i.createElement(c.default,{isMobile:!0,type:"private",isTopLevel:!0,spaceStore:o,spaceViewStore:a,parentStore:r.spacePagesStore,childStores:r.privatePages,addPageTitle:"Add a Page",showAddPageButton:!0,onNavigate:e.handleCloseSidebar,onCreatePage:e.handleCloseSidebar,disabled:!o.canEdit()}),r.showOnlyPrivateSection&&i.createElement("div",{style:{height:20}}),r.allCurrentTemplateItems.length>0&&i.createElement("div",{style:{marginBottom:m.default.marginBottom,marginTop:m.default.marginBottom}},i.createElement(_.default,{isMobile:!0,style:e.getSectionSidebarItemStyle()},i.createElement("span",{style:e.getMobileSectionLabelStyle()},"Templates")),r.allCurrentTemplateItems.map(function(e,t){return i.createElement(S.default,{key:e.name,item:e,isPrivate:!0,isMobile:!0,isVisited:r.visitedTemplateIds.indexOf(e.rootId)>=0,isFirstItem:0===t})})),i.createElement(T.default,{isMobile:!0}),i.createElement(b.default,{isMobile:!0}),o.canEdit()&&i.createElement(y.default,{store:d,isMobile:!0}),i.createElement(h.default,{isMobile:!0}),!f&&i.createElement(E.default,null),i.createElement("div",{style:{height:s.default.isReactNative||s.default.isCordova?64:128}}))}})}},t.prototype.getWrapStyle=function(){return a({display:"block",position:"fixed",top:0,width:"100vw",height:"100vh"},s.default.isAndroid?{right:"100%",zIndex:3}:{left:0})},t.prototype.getStyle=function(){return a({display:"flex",flexDirection:"column",width:t.width,height:"100%",background:s.default.isAndroid?this.theme.mobileSidebarAndroidBackground:this.theme.mobileSidebarIOSBackground,willChange:"transform",color:this.theme.mediumTextColor},s.default.isAndroid&&{marginLeft:"auto"})},t.prototype.getTopbarStyle=function(){var e="dark"===D.default.state.mode,t=this.theme.shadowColor,r=this.theme.shadowOpacity;return{display:"flex",alignItems:"center",justifyContent:"space-between",flex:"none",height:k.default.mobileTopbarHeight,marginTop:k.default.paddingTop,paddingLeft:12,paddingRight:12,boxShadow:s.default.isAndroid&&I.default.state.open?this.isScrolledToTop.state?"\n\t\t\t\t\t\t\t0 1px 0 "+t.alpha(r).css()+",\n\t\t\t\t\t\t\t0 0 0 transparent\n\t\t\t\t\t\t":B.getTopbarAndroidShadow(t,r):"0 1px 0 "+this.theme.darkDividerColor,background:s.default.isAndroid?e?l(this.theme.sidebarBackground).brighten(.4).css():L.default.white:L.default.transparent,transition:"box-shadow 300ms",width:"100%",zIndex:1}},t.prototype.getSectionSidebarItemStyle=function(){return{paddingTop:0,paddingBottom:0,paddingRight:14,paddingLeft:15,minHeight:24}},t.prototype.getMobileSectionLabelStyle=function(){return{letterSpacing:"0.05em",textTransform:"uppercase",fontSize:13,lineHeight:1,marginBottom:6,color:this.theme.lightTextColor,fontWeight:R.default.fontWeight.semibold}},t.stores={scrollerStore:O.default},t.width=s.default.isTablet?"400px":"87%",t.outlinerStyle={flexGrow:1,paddingTop:24},t.actionButtonStyle={display:"flex",alignItems:"center",justifyContent:"center",flexGrow:0,flexShrink:0,height:"100%",minWidth:34,position:"relative"},t}(u.default);t.default=N},"R+Q+":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("r8oj"),u=r("Sb6f"),c=r("gbGO"),d=r("wS9/"),p=r("d9nj"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this;return i.createElement("div",{style:a({},this.context.isMobile?this.getMobileStyle():this.getDesktopStyle(),s.default.isAndroid&&{fontSize:14,fontWeight:u.default.fontWeight.medium,lineHeight:1.8},this.props.style)},this.props.tabs.map(function(t,r,n){var o=r===e.props.selectedIndex;return i.createElement("div",{key:r,style:a({},o?e.getSelectedTabStyle():e.getTabStyle(),s.default.isAndroid&&{textTransform:"uppercase",letterSpacing:"0.05em"})},i.createElement(p.default,{isLarge:!0,style:e.props.tabStyle,onClick:function(){return e.props.onChange(r)},disabled:e.props.readOnly},t),o&&i.createElement("div",{style:e.getBorderStyle()}))}),i.createElement("div",{style:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end",color:this.theme.mediumTextColor}},this.props.right))},t.prototype.getDesktopStyle=function(){return{display:"flex",fontSize:14,width:"100%",paddingLeft:14,paddingRight:14,boxShadow:"0 1px 0 "+this.theme.regularDividerColor,position:"relative",zIndex:1}},t.prototype.getMobileStyle=function(){return{display:"flex",fontSize:16,width:"100%",paddingLeft:this.context.menuType!==c.MenuType.Popup?d.default.calcPaddingLeft(16):16,paddingRight:this.context.menuType!==c.MenuType.Popup?d.default.calcPaddingRight(16):16,boxShadow:"0 1px 0 "+this.theme.regularDividerColor,position:"relative",zIndex:2,height:45,background:this.theme.popoverBackground}},t.prototype.getTabStyle=function(){return{paddingTop:6,paddingBottom:6,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:this.theme.mediumTextColor}},t.prototype.getSelectedTabStyle=function(){return a({},this.getTabStyle(),{position:"relative",color:this.theme.regularTextColor})},t.prototype.getBorderStyle=function(){return{borderBottom:"3px solid "+this.theme.regularTextColor,position:"absolute",bottom:-1,left:0,right:0}},t.contextTypes=a({},c.menuContextTypes),t}(l.default);t.default=f},R14H:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("lEhh"),u=r("LeVO"),c=r("r8oj"),d=r("fx0v"),p=r("MBf9"),f=r("y6Dp"),h=r("QcDD"),m=r("wS9/"),y=r("enKW"),g=r("MeYt"),v=r("5Nka"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTooltip=function(){return i.createElement("div",{style:{width:200,marginTop:4,marginBottom:4}},i.createElement("div",{style:{width:"100%",height:100,borderRadius:3,backgroundImage:"url("+v.default.images.tooltips.pageUpdates.followPng+")",backgroundSize:"cover",marginBottom:6}}),i.createElement("div",{style:{whiteSpace:"normal",lineHeight:1.4}},"You'll receive updates in your sidebar and digests via email."))},t.handleToggleFollowing=function(){var e=t.props.store.isFollowing(),r=h.default.state.userRootStore;if(r){var n=r.id,o=t.props.store.id,a=p.create();e?(d.setFollowBlock({value:!1,navigableBlockId:o,userId:n,transaction:a}),f.trackUnfollowPage({from:"page_updates"})):(d.setFollowBlock({value:!0,navigableBlockId:o,userId:n,transaction:a}),f.trackFollowPage({from:"page_updates"})),p.commit({transaction:a,canUndo:!1})}},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props.store.isFollowing(),r=this.theme.shadowColor,n=this.theme.shadowOpacity;return i.createElement(u.default,{placement:u.default.Placement.Left,render:function(o){return i.createElement(g.default,a({onClick:e.handleToggleFollowing,style:a({display:"flex",alignItems:"center",height:42,fontSize:c.default.isMobile?15:14},c.default.isMobile&&{background:e.theme.popoverBackground},{paddingLeft:c.default.isMobile?m.default.calcPaddingLeft(16):16,paddingRight:c.default.isMobile?m.default.calcPaddingRight(16):16,boxShadow:c.default.isAndroid?y.getTopbarAndroidShadow(r,n):"0 1px 0 "+e.theme.regularDividerColor,marginBottom:c.default.isMobile?0:1,flexShrink:0,position:"relative",zIndex:1})},o),i.createElement("div",{style:{marginRight:"auto"}},"Follow This Page"),i.createElement(s.default,{on:t,onClick:e.handleToggleFollowing,isAndroid:c.default.isAndroid}))},renderTooltip:this.renderTooltip})},t}(l.default);t.default=b},R9mH:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("A9TN"),s=r("r8oj"),u=r("/Zir"),c=r("9M6r"),d=r("DlEO"),p=r("62KP"),f=r("T1hA"),h=r("H4VD"),m=r("Sb6f"),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.didMount=function(){f.default.isLoggedIn()&&h.navigate({url:"/",redirect:!0})},t.prototype.renderComponent=function(){var e=this.props.isSignup?"signup":"login";return a.createElement(u.default,{hideEvernoteLink:!0,analyticsName:e},a.createElement("div",{style:this.getTitleStyle()},this.renderTitle()),a.createElement(c.default,{loginStore:d.default,loginPermissionsStore:this.stores.loginPermissionsStore,emailLabel:"Email",emailInputAutoFocus:!0,emailPasscodePlaceholder:"Paste login code",style:this.getLoginActionStyle()}))},t.prototype.renderTitle=function(){return this.props.isSignup?"Sign Up":l.default.isAdminMode?"Log In (Admin Mode)":"Log In"},t.prototype.getTitleStyle=function(){return{fontSize:s.default.isMobile?34:50,fontWeight:m.default.fontWeight.bold,marginTop:s.default.isMobile?"20vh":"12vh",marginBottom:24,textAlign:"center",lineHeight:1.1}},t.prototype.getLoginActionStyle=function(){return{width:s.default.isMobile?280:310,maxWidth:"100%",marginBottom:"16vh"}},t.stores={loginPermissionsStore:p.default},t}(i.default);t.default=y},RAxL:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("/Zir"),u=r("Sb6f"),c=r("mDQS"),d=r("pAJP"),p=r("NV/j"),f=r("zmp8"),h=r("4NII"),m=r("5Nka"),y=r("r8oj"),g=r("enKW"),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,{hideDesktopLink:!0,analyticsName:"desktop"},i.createElement(d.default,{name:"hero"}),this.renderHero(),this.renderApps(),i.createElement(c.default,{scrollPoint:"twitter_testimonials"}))},t.prototype.renderHero=function(){return i.createElement("div",{style:{textAlign:"center",marginBottom:24}},i.createElement("img",{src:m.default.front.desktop.desktopHeroIllustrationPng,style:t.heroImageStyle}),i.createElement("div",{style:this.getHeroTitleStyle()},"Notion for Mac & Windows"),i.createElement("div",{style:t.heroCaptionStyle},"Work offline, collaborate in real-time, write without distractions."))},t.prototype.renderApps=function(){return i.createElement("div",{style:this.getScreenshotsWrapStyle()},this.renderMac(),this.renderWindows())},t.prototype.renderMac=function(){return i.createElement("div",{style:this.getAppWrapStyle(y.default.isWindows)},i.createElement("img",{src:m.default.front.desktop.desktopAppScreenshotMacPng,style:this.getScreenshotStyle()}),i.createElement(p.default,{format:p.default.Format.Mac,analyticsName:"desktop"}))},t.prototype.renderWindows=function(){return i.createElement("div",{style:this.getAppWrapStyle(!y.default.isWindows)},i.createElement("img",{src:m.default.front.desktop.desktopAppScreenshotWindowsPng,style:this.getScreenshotStyle()}),i.createElement(p.default,{format:p.default.Format.Windows,analyticsName:"desktop"}))},t.prototype.getHeroTitleStyle=function(){return{flexGrow:0,flexShrink:0,fontWeight:u.default.fontWeight.bold,marginBottom:12,textAlign:"center",lineHeight:1.1,color:f.default.FrontBaseTitleColor,marginTop:32,fontSize:h.default()?38:50}},t.prototype.getAppWrapStyle=function(e){return a({},t.screenshotWrapStyle,!h.default()&&e&&t.secondScreenshotOffsetStyle,h.default()&&e&&{marginTop:36})},t.prototype.getScreenshotsWrapStyle=function(){return{display:"flex",flexDirection:h.default()?y.default.isWindows?"column-reverse":"column":y.default.isWindows?"row-reverse":"row",marginBottom:42}},t.prototype.getScreenshotStyle=function(){return{width:660,maxWidth:"100%",filter:h.default()?g.default.frontImageSmallFilterDropShadow:g.default.frontImageFilterDropShadow,marginBottom:h.default()?24:36}},t.heroImageStyle={width:360,maxWidth:"100%"},t.heroCaptionStyle={color:f.default.FrontBaseGrayTextColor,textAlign:"center",marginBottom:24},t.screenshotWrapStyle={display:"flex",flexDirection:"column",alignItems:"center"},t.secondScreenshotOffsetStyle={marginTop:"3%",marginLeft:"-6%"},t}(l.default);t.default=v},RBMm:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("DNfA"),i=r("LEzx"),l=a.Placement.Top,s=a.Placement.Bottom,u=a.Placement.Left,c=a.Placement.Right;t.PopupPlacement=a.Placement,t.PopupAlignment=a.Alignment,t.getFlippedPlacement=function(e){switch(e){case l:return s;case s:return l;case u:return c;case c:return u}};var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1,placementFlipped:!1,offsetX:0,offsetY:0}},t}(i.default);t.default=d},RGVD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("tvfY"),s=r("wldR"),u=r("ZYTv"),c=r("bsBB"),d=r("QcDD"),p=r("T1hA"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMount=function(){d.default.state.userStore?this.userStore=d.default.state.userStore:p.default.state.userId&&(this.userStore=new l.default(p.default.state.userId))},t.prototype.renderComponent=function(){if(this.userStore){var e=this.userStore.getValue();return i.createElement(u.default,a({userValue:e},this.props))}},t.Format=c.UserFormat,t}(s.default);t.default=f},RI9y:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r("LvDl"),a=r("r8oj"),i=r("hl64"),l=r("nFzZ"),s=r("w5u6");t.get=function(){var e=window.getSelection();if(e&&e.rangeCount>0)return e.getRangeAt(0)},t.set=function(e){var t=document.createRange();t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset);var r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(t))},"undefined"!=typeof document&&((n=document.createElement("input")).style.opacity=0,n.style.pointerEvents="none",n.style.position="fixed",n.style.left="0px",n.style.top="0px",document.body.appendChild(n)),t.clear=function(){if(a.default.isMobile){var e=window.getSelection();e&&e.removeAllRanges(),e&&e.removeAllRanges()}else n&&(window.focus(),n.value="-",n.select())},t.getRect=function(e){if(e){if(e.collapsed&&e.getClientRects){var t=o.toPlainObject(e.getClientRects()[0]);if(!o.isEmpty(t))return t}else if(e.getBoundingClientRect){t=o.toPlainObject(e.getBoundingClientRect());if(!o.isEmpty(t))return t}if(e.startContainer.nodeType===Node.ELEMENT_NODE){if(0===e.startOffset){var r=e.startContainer.getBoundingClientRect();return{top:r.top,bottom:r.bottom,left:r.left,right:r.left,width:0,height:r.height}}var n=e.startContainer.childNodes[e.startOffset-1];if(n&&n.nodeType===Node.ELEMENT_NODE)return{top:(a=n.getBoundingClientRect()).top,bottom:a.bottom,left:a.right,right:a.right,width:0,height:a.height};var a,i=e.startContainer.childNodes[e.startOffset];if(i&&i.nodeType===Node.ELEMENT_NODE)return{top:(a=i.getBoundingClientRect()).top,bottom:a.bottom,left:a.left,right:a.left,width:0,height:a.height}}}},t.getSelectionRect=function(){var e=t.get();if(e)return t.getRect(e)},t.rangeFromPoint=function(e,t){if(document.caretRangeFromPoint)return document.caretRangeFromPoint(e,t);if(document.caretPositionFromPoint){var r=document.caretPositionFromPoint(e,t),n=document.createRange();return n.setStart(r.offsetNode,r.offset),n.setEnd(r.offsetNode,r.offset),n}throw new Error("Browser does not support method caretRangeFromPoint or caretPositionFromPoint")};var u,c=!1;t.selectionIsBackwards=function(){return Boolean(c&&u)};var d,p=function(e,t){if(e&&t&&!t.collapsed){if(c=!0,l.isNotDefined(u))if(e.startContainer===t.startContainer)u=t.startOffset<e.startOffset;else{var r=i.default(t.startContainer,e.startContainer);u=-1===r}}else c=!1,u=void 0};t.startListeners=function(){window.addEventListener("mousedown",function(){s.default.afterNextFlush(function(){d=t.get()})}),window.addEventListener("mouseup",function(){s.default.afterNextFlush(function(){var e=t.get();p(d,e)})}),window.addEventListener("keydown",function(){var e=t.get();s.default.afterNextFlush(function(){var r=t.get();p(e,r)})})}},RIy5:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("zmp8"),s=r("62KP"),u=r("3DNc"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleToggleContactsPermission=function(){t.stores.store.setState(a({},t.stores.store.state,{contacts:!t.stores.store.state.contacts}))},t}return o(t,e),t.prototype.willMount=function(){this.stores.store.setState(a({},this.stores.store.state,{contacts:!1}))},t.prototype.renderComponent=function(){return i.createElement("div",{style:t.style},i.createElement("div",{style:{marginBottom:8,color:l.default.uiGray}},"We request access to to read your Google contacts to provide a better experience when inviting or mentioning people inside Notion."),i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement(u.default,{checked:!this.stores.store.state.contacts,onClick:this.handleToggleContactsPermission,size:16}),i.createElement("div",{onClick:this.handleToggleContactsPermission,style:{marginLeft:10,userSelect:"none",WebkitUserSelect:"none",cursor:"pointer"}},"I don’t want to share Google contacts")))},t.stores={store:s.default},t.style={maxWidth:500,fontSize:14,marginTop:8,marginBottom:12},t}(r("wldR").default);t.default=c},RJuv:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o=r("g90h");t.getFollowId=function(e){var t=e.user_id,r=e.navigable_block_id;return o.deterministicID([t,r].join(""))};var a={table:"follow",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,user_id:n.default.UUID,navigable_block_id:n.default.UUID,following:n.default.Boolean,created_time:n.default.Number}};t.default=a},RPv2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableSelectionKey="text/_notion-table",t.getSelectionSpan=function(e){return{minX:Math.min(e.start.x,e.end.x),maxX:Math.max(e.start.x,e.end.x),minY:Math.min(e.start.y,e.end.y),maxY:Math.max(e.start.y,e.end.y)}}},RQ1t:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{focusedIndex:void 0,focusedKey:void 0}},t}(r("LEzx").default);t.default=a},RaQO:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handeRender=function(){t.forceUpdate()},t}return o(t,e),t.prototype.didMount=function(){e.prototype.didMount.call(this),this.props.renderEvents.addListener(this.handeRender)},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),this.props.renderEvents.removeListener(this.handeRender)},t.prototype.renderComponent=function(){return this.props.render()},t}(r("wldR").default);t.default=a},RgmA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var r=[];return e.forEach(function(n,o){r.push(n),e[o+1]&&r.push(t(o))}),r}},Ripq:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var i=r("RuPz"),l=r("MBf9"),s=r("qpkC"),u=r("hvW1"),c=r("y6Dp"),d=r("H4VD"),p=r("sdlW"),f=r("VBxf"),h=r("HTHG"),m=r("qqdV"),y=r("HSWF"),g=r("VpIZ"),v=r("D2XV"),b=r("bPtJ"),w=r("QcDD");function S(e){return n(this,void 0,void 0,function(){var t,r,n,a,i;return o(this,function(o){switch(o.label){case 0:return(t=e.store.getValue())?(r=g.getRecordTitleWithEmoji({table:e.store.table,value:t,getRecordValue:function(t,r){return b.createRecordStore(e.store,t,r).getValue()},userTimeZone:v.currentTimeZone,placeholder:"Untitled"}),(n=e.spaceStore.getValue())?(a=g.getRecordTitleWithEmoji({table:e.spaceStore.table,value:n,getRecordValue:function(t,r){return b.createRecordStore(e.store,t,r).getValue()},userTimeZone:v.currentTimeZone,placeholder:"Untitled"}),u.display({message:"Duplicating "+r+" to "+a+"..."}),[4,_(e)]):[2]):[2];case 1:return i=o.sent(),u.close(),i.error?f.showError({error:i.error}):d.navigateToBlock({store:i.value}),[2]}})})}function _(e){return n(this,void 0,void 0,function(){return o(this,function(t){return[2,new Promise(function(t){l.createAndCommit(function(r){var n=a(s.duplicateBlock({store:e.store,transaction:r,addCopyName:!1}),2),o=n[0];n[1].then(function(e){t(e?{error:e}:{value:o})}),p.addPageToSpace({spaceStore:e.spaceStore,spaceViewStore:e.spaceViewStore,pageStore:o,isPrivate:e.isPrivate,prepend:!0,transaction:r})})})]})})}t.closeForkPagePopup=function(){i.default.setState({open:!1})},t.openForkPagePopup=function(e){c.trackClickForkPage(e.store.id);var t=w.default.state.userRootStore;if(t){var r=h.getUserMemberOrAdminSpaceViewStores(t);if(1===r.length){var n=r[0],o=n.getSpaceStore();if(!o)return;S({store:e.store,spaceStore:o,spaceViewStore:n,isPrivate:!0})}else i.default.setState({open:!0,store:e.store,originRect:e.originRect})}else y.setForkPageTemplate(e.store.id),d.navigate({url:m.login})},t.forkPageWithLoadingAndNavigate=S,t.forkPage=_},RqMp:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},RrFw:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("MeYt"),u=r("r8oj"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,{style:this.getButtonStyle(),disabled:this.props.disabled,onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.children)},t.prototype.getButtonStyle=function(){return a({display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:3,height:u.default.isMobile?42:32,padding:"0 12px",fontSize:14,lineHeight:1.2,background:this.theme.buttonBackground,border:"1px solid "+this.theme.outlineButtonBorder,boxShadow:"rgba(15, 15, 15, 0.1) 0px 1px 2px"},this.props.style)},t}(l.default);t.default=c},RuPz:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},RvCr:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("STAJ"),s=r("udrG"),u=r("IdIf"),c=r("wpmu"),d=r("qHvo"),p=r("tzV5"),f=r("/mqF"),h=r("lufz"),m=r("N34Z"),y=r("6rsX"),g=r("unoy"),v=r("7mO3"),b=r("bkwR"),w=r("HRSx"),S=r("JU1L"),_=r("bPtJ"),k=r("jZoB"),C=r("njgS"),E=r("D2XV"),P=r("VBxf"),x=r("MBf9"),T=r("dsG5"),O=r("cBa6"),M=r("HTHG"),I=r("T1hA"),A=r("622O");t.remove=function(e){var t=e.store,r=e.collectionStore,n=e.transaction;h.setParent({childStore:t,parentStore:r,alive:!1,transaction:n})},t.insert=function(e){var r,n,o=e.collectionViewLocalStore,i=e.before,s=e.insertStores,u=e.store,d=e.results,p=e.group,f=e.transaction,h=e.parentStore,m=o.state,y=m.collectionStore,g=m.collectionViewStore;if(y){var v=[];try{for(var b=a(s),w=b.next();!w.done;w=b.next()){var S=w.value;t.addBlockToGroup({store:S,collectionStore:y,collectionViewLocalStore:o,group:p,coerce:!0,transaction:f}),v.push(c.default.createChildStore(h,S.id))}}catch(e){r={error:e}}finally{try{w&&!w.done&&(n=b.return)&&n.call(b)}finally{if(r)throw r.error}}var _=d.indexOf(u),k=i?_:_+1,C=l.insertAll(k,v,d);return g&&t.updateOrder({results:C,collectionViewStore:g,transaction:f}),v}return s},t.addBlockToGroup=function(e){var t=e.store,r=e.collectionStore,n=e.collectionViewLocalStore,o=e.group,a=e.transaction,i=e.coerce,u=r.getSchema(),c=t.getValue();if(c){var d=t.getSchema()||{},f=v.coerceBlockToSchema(c,d,u);f.propertyUpdate&&Object.keys(f.propertyUpdate).length>0&&m.updateValue({store:t.getPropertiesStore(),data:f.propertyUpdate,transaction:a}),l.equals(u,f.newSchema)||p.updateCollection({collectionStore:r,update:{schema:f.newSchema},transaction:a})}if(t.getType()!==s.default.page&&t.getType()!==s.default.copyIndicator&&m.updateValue({store:t,data:{type:s.default.page},transaction:a}),n&&n.state.collectionViewStore){var y=n.getNormalizedQuery(),g=t.getValue();if(g&&y&&i){var b=v.coerceBlockToGroup({block:g,schema:u,query:y,currentUserId:I.default.state.userId,userTimeZone:E.currentTimeZone,group:o});Object.keys(b).length>0&&m.updateValue({store:t.getPropertiesStore(),data:b,transaction:a})}}h.setParent({childStore:t,parentStore:r,alive:!0,transaction:a}),n&&p.addToResultSet({collectionViewLocalStore:n,blockId:t.id})},t.updateOrder=function(e){var t=e.results,r=e.collectionViewStore,n=e.transaction,o=r.getPageSortStore();t.forEach(function(e,r){var a=t[r-1];a?k.insertAfter({parent:o,after:a,insert:e,transaction:n}):k.prepend({parent:o,prepend:e,transaction:n})});var a=o.getValue();if(a&&a.length>C.maxPageSortLength){var i=a.slice(0,C.maxPageSortLength);m.setValue({store:o,value:i,transaction:n})}},t.handleGroupDrop=function(e){var r,n,o,s,u=e.parentStore,p=e.targetStore,h=e.results,m=e.droppedDirection,g=e.droppedStores,v=e.transaction,b=e.duplicate,w=e.collectionViewLocalStore,S=e.group,_=w.state,C=_.collectionViewStore,E=_.collectionStore;if(E&&C){if(m===d.DroppableDirection.Onto){y.clear();var P=p.getContentStore(),x=f.createOrMove({droppedStores:g,duplicate:b,transaction:v});try{for(var T=a(x),O=T.next();!O.done;O=T.next()){var M=O.value;k.append({parent:P,append:M,transaction:v})}}catch(e){r={error:e}}finally{try{O&&!O.done&&(n=T.return)&&n.call(T)}finally{if(r)throw r.error}}return[]}var I=f.createOrMove({droppedStores:g,duplicate:b,transaction:v}),A=t.wrapCollectionDroppedStores({stores:I,transaction:v}),D=h.filter(function(e){return!I.includes(e)}),L=D.indexOf(p),R=m===d.DroppableDirection.Above||m===d.DroppableDirection.Left?L:L+1,B=l.insertAll(R,A,D);try{for(var j=a(A),V=j.next();!V.done;V=j.next()){var F=V.value;t.addBlockToGroup({store:F,collectionStore:E,collectionViewLocalStore:w,group:S,coerce:!0,transaction:v})}}catch(e){o={error:e}}finally{try{V&&!V.done&&(s=j.return)&&s.call(j)}finally{if(o)throw o.error}}t.updateOrder({results:B,collectionViewStore:C,transaction:v});var N=i.map(A,function(e){return c.default.createChildStore(u,e.id)});return y.setSelection({stores:N}),t.offerToRemoveSort({collectionViewLocalStore:w}),N}},t.handleGroupNativeDrop=function(e){var r=e.parentStore,n=e.targetStore,o=e.results,a=e.droppedDirection,i=e.files,l=e.transaction,s=e.collectionViewLocalStore,u=e.group,c=s.state,d=c.collectionViewStore,p=c.collectionStore,f=M.getCurrentContainerPageWidth();if(p&&d){var h=p.recordCacheStore,y=T.createEmbedBlocksFromFiles({files:i,recordCacheStore:h,pageWidth:f,transaction:l}).map(function(e,t){var r=i[t],n=m.createBlock({type:"page",recordCacheStore:h,properties:{title:O.createTextValue(A.fileNameWithoutExtension(r.name))},transaction:l});return k.append({parent:n.getContentStore(),append:e,transaction:l}),n});t.handleGroupDrop({parentStore:r,targetStore:n,droppedDirection:a,collectionViewLocalStore:s,group:u,droppedStores:y,results:o,duplicate:!1,transaction:l})}},t.offerToRemoveSort=function(e){var t=e.collectionViewLocalStore,r=t.state,n=r.collectionViewStore,o=r.collectionStore,a=r.collectionViewBlockStore;if(o&&n&&a){var i=t.currentViewHasSort(),l=n.getType(),s=a.isLocked();i&&l&&C.collectionViewShouldOfferToRemoveSortMap[l]&&!s&&P.showDialog({message:"Would you like to remove sorting?",items:[{label:"Remove",color:"red",onAccept:function(){var e=x.create(),r=t.getNormalizedQuery();r&&(r.sort=[],p.updateCollectionView({collectionViewLocalStore:t,collectionViewStore:n,update:{query:r},transaction:e})),x.commit({transaction:e})}},{label:"Cancel",onAccept:function(){}}],showCancel:!1,keepFocus:!0})}},t.handleCollapsedGroupDrop=function(e){var r,n,o=e.droppedStores,i=e.duplicate,l=e.collectionViewLocalStore,s=e.group,u=e.transaction,c=l.state,d=c.collectionStore,p=c.collectionViewStore,h=f.createOrMove({droppedStores:o,duplicate:i,transaction:u});if(d)try{for(var m=a(h),y=m.next();!y.done;y=m.next()){var g=y.value;t.addBlockToGroup({store:g,collectionStore:d,collectionViewLocalStore:l,group:s,coerce:!0,transaction:u})}}catch(e){r={error:e}}finally{try{y&&!y.done&&(n=m.return)&&n.call(m)}finally{if(r)throw r.error}}return p&&t.updateOrder({results:h,collectionViewStore:p,transaction:u}),[]},t.createBlockInGroup=function(e){var r=e.parentStore,n=e.collectionViewLocalStore,o=e.results,a=e.group,i=e.insertAtStart,u=e.coerce,d=e.transaction,p=n.state,f=p.collectionStore,h=p.collectionViewStore,y=n.getViewType(),g=m.createBlock({type:s.default.page,recordCacheStore:r.recordCacheStore,transaction:d});if(f&&h&&y){var v=c.default.createChildStore(r,g.id),b=i?l.prepend(v,o):l.append(v,o);return t.updateOrder({results:b,collectionViewStore:h,transaction:d}),t.addBlockToGroup({store:g,collectionStore:f,collectionViewLocalStore:n,group:a,coerce:u,transaction:d}),v}return g},t.updateGroups=function(e){var t=e.collectionViewLocalStore,r=e.newGroups,n=e.transaction,o=t.state.collectionViewStore,a=t.getNormalizedFormat();if(o){var i=l.assoc("board_groups",r,a);p.updateCollectionView({collectionViewStore:o,collectionViewLocalStore:t,update:{format:i},transaction:n})}},t.renameGroup=function(e){var t,r,i=this,l=e.collectionStore,s=e.property,u=e.oldValue,c=e.newValue,d=e.transaction,p=l.getSchema(),f=Object.keys(l.recordCacheStore.state.cache);try{for(var h=a(f),y=h.next();!y.done;y=h.next()){var g=y.value,k=S.extractCombinedId(g),C=k.table,E=k.id,P=l.recordCacheStore.getRecordValue(C,E);if(C===w.default.table&&P&&P.parent_id===l.id){var x=v.renameGroup(P,p,s,u,c);if(Object.keys(x).length>0){var T=_.createRecordPathStore(l,C,E,["properties"]);m.updateValue({store:T,data:x,transaction:d})}}}}catch(e){t={error:e}}finally{try{y&&!y.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}l.isDefaultRecordCache()&&d.postSubmitCallbacks.push(function(e){return n(i,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,b.renameGroup({collectionId:l.id,property:s,oldValue:u,newValue:c}).next()];case 1:if((e=t.sent().value).error)throw e.error;return[2]}})})})},t.deleteGroup=function(e){var t,r,i=this,l=e.collectionStore,s=e.property,u=e.value,d=e.transaction,p=l.getSchema(),f=Object.keys(l.recordCacheStore.state.cache);try{for(var m=a(f),y=m.next();!y.done;y=m.next()){var g=y.value,_=S.extractCombinedId(g),k=_.table,C=_.id,E=l.recordCacheStore.getRecordValue(k,C);if(k===w.default.table&&E&&E.parent_id===l.id)if(v.deleteGroup(E,p,s,u)){var P=c.default.createChildStore(l,C);h.setAlive({childStore:P,alive:!1,transaction:d})}}}catch(e){t={error:e}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}l.isDefaultRecordCache()&&d.postSubmitCallbacks.push(function(e){return n(i,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,b.deleteGroup({collectionId:l.id,property:s,value:u}).next()];case 1:if((e=t.sent()).value.error)throw e.value.error;return[2]}})})})},t.handleGroupTextEnter=function(e){var r=e.collectionViewLocalStore,n=e.group,o=e.results,a=e.targetStore,i=e.transaction,u=r.state,d=u.collectionStore,p=u.collectionViewStore,f=m.createBlock({type:s.default.page,recordCacheStore:a.recordCacheStore,transaction:i}),h=o.indexOf(a)+1,v=l.insert(h,f,o);if(d&&t.addBlockToGroup({store:f,collectionStore:d,collectionViewLocalStore:r,group:n,coerce:!0,transaction:i}),p&&t.updateOrder({results:v,collectionViewStore:p,transaction:i}),d){var b=c.default.createChildStore(d,f.id);y.edit({store:b});var w=b.getBlockTitleStore();g.setSelectionAtStart({store:w})}return!0},t.insertNewBlock=function(e){var r=e.collectionViewLocalStore,n=e.before,o=e.store,a=e.results,i=e.group,u=e.transaction,d=r.state,p=d.collectionStore,f=d.collectionViewStore;if(p&&f){var h=m.createBlock({type:s.default.page,recordCacheStore:o.recordCacheStore,transaction:u});t.addBlockToGroup({store:h,collectionStore:p,collectionViewLocalStore:r,group:i,coerce:!0,transaction:u});var g=c.default.createChildStore(p,h.id),v=a.indexOf(o),b=n?v:v+1,w=l.insertAll(b,[g],a);t.updateOrder({results:w,collectionViewStore:f,transaction:u}),y.select({store:g}),t.offerToRemoveSort({collectionViewLocalStore:r})}},t.updateBoardGroup=function(e){var r=e.collectionViewLocalStore,n=e.groupFormat,o=e.newGroupFormat,a=e.newSchema,i=e.transaction,s=r.state.collectionStore;if(o){!u.groupValuesEqual(n.value,o.value)&&s&&t.renameGroup({collectionStore:s,property:n.property,oldValue:n.value,newValue:o.value,transaction:i});var c=r.getNormalizedFormat().board_groups||[],d=c.findIndex(function(e){return u.groupValuesEqual(n.value,e.value)}),f=l.lensPath([d]),h=l.set(f,o,c);t.updateGroups({collectionViewLocalStore:r,newGroups:h,transaction:i})}a&&s&&p.updateCollection({collectionStore:s,update:{schema:a},transaction:i})},t.wrapCollectionDroppedStores=function(e){var t=e.stores,r=e.transaction;return t.map(function(e){var t=e.getType();if(t&&(w.mediaTypes[t]||t===s.default.file)){var n=m.createBlock({type:"page",recordCacheStore:e.recordCacheStore,transaction:r});return k.append({parent:n.getContentStore(),append:e,transaction:r}),n}return e})}},RwQy:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("t+pW"),l=r("/6eU"),s=r("5qOl"),u=r("wlCD"),c=r("ikHm"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderModal=function(){var e=s.default.state;if(e.open)return a.createElement("div",{style:t.getStyle()},a.createElement(u.default,null),a.createElement("div",{style:t.getMessageStyle()},e.message))},t}return o(t,e),t.prototype.renderComponent=function(){var e=s.default.state;return a.createElement(l.default,{open:e.open,render:this.renderModal,overlayZIndex:c.loadingState})},t.prototype.getStyle=function(){return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minWidth:180,padding:"18px 24px 20px"}},t.prototype.getMessageStyle=function(){return{fontSize:14,marginTop:8,color:this.theme.mediumTextColor}},t}(i.default);t.default=d},Rwql:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r("LvDl"),u=r("q1tI"),c=r("q1tI"),d=r("r8oj"),p=r("t+pW"),f=r("bVDK"),h=r("5F/7"),m=r("bB9B"),y=r("MBf9"),g=r("y6Dp"),v=r("nM47"),b=r("H4VD"),w=r("g8hj"),S=r("WgIs"),_=r("2Y+N"),k=r("gbGO"),C=r("QcDD"),E=r("/YYm"),P=r("nObc"),x=r("RQ1t"),T=r("Oy36"),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderCollectionTemplatePageMenuItem=function(e){var r=t.props,n=r.collectionStore,o=r.locked;return{key:e.id,render:function(r){return u.createElement(h.default,a({key:e.id,isOverlay:t.props.isOverlay,collectionStore:n,templateStore:e,isMobile:d.default.isMobile,locked:o,overrideLinkClick:t.props.overrideLinkClick},r))},action:function(r){v.validateCanCreate()&&t.props.onTemplateClick({templateStore:e,isKeyboard:"keydown"===r.event.type})}}},t.handleEmptyPageContinueClick=function(e){v.validateCanCreate()&&(t.props.onEmptyPageClick(),g.trackSelectTemplate({name:"empty",is_keyboard:"keydown"===e.event.type}))},t.handleEmptyEnter=function(){v.validateCanCreate()&&(t.props.onEmptyPageClick(),g.trackSelectTemplate({name:"empty",is_keyboard:!0}))},t.handleNewCollectionTemplateClick=function(){var e=t.props.collectionStore;if(v.validateCanCreate()){var r=y.createAndCommit(function(t){return m.createCollectionTemplate({collectionStore:e,transaction:t})});r&&t.navigateToBlock(r),g.trackCreateCollectionTemplate()}},t.handleCollectionTemplatesReorder=function(e){var r=t.props.collectionStore;t.stores.menuListStore.setState(a({},t.stores.menuListStore.state,{focusedIndex:void 0})),y.createAndCommit(function(t){return m.handleCollectionTemplatesReorder({collectionStore:r,newTemplateIds:e,transaction:t})})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props,r=t.collectionStore,n=t.locked,o=t.isOverlay,i=r.getTemplatePagesStores();if(i.every(function(e){return e.isReady()})){var p=i.map(function(e){return e.id}),h={key:"empty",render:function(t,r){return u.createElement(f.default,a({title:"Empty Page",format:"empty_page",isOverlay:o,locked:e.props.locked,icon:u.createElement(T.default,{disabled:!0,icon:void 0,isEmptyPage:!0,size:d.default.isMobile&&o?24:20,isLarge:!o,style:a({},!o&&{pointerEvents:"none",marginRight:10}),pageIconStyle:a({},!o&&{fill:e.theme.lightIconColor})})},t))},action:this.handleEmptyPageContinueClick},m={key:"create-template",render:function(t,r){return e.renderNewButtonMenuItem(t)},action:this.handleNewCollectionTemplateClick},y=u.createElement(S.default,{store:this.stores.menuListStore,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,onEmptyEnter:this.handleEmptyEnter,sections:s.compact([{key:"templates",render:function(t){var r=t.children.slice(0,t.children.length-1),n=t.children[t.children.length-1];return u.createElement(_.default,a({},t,{disableDesktopPadding:!o,children:u.createElement(c.Fragment,null,d.default.isMobile||e.props.locked?r.map(function(e,t){return r[t]}):u.createElement(w.default,{direction:w.DraggableListDirection.Vertical,keys:p,renderKey:function(e,t){return r[p.indexOf(e)]},onDrop:e.handleCollectionTemplatesReorder}),n)}))},items:l(i.map(function(t){return e.renderCollectionTemplatePageMenuItem(t)}),[h])},n?void 0:{key:"create-template",render:function(e){return u.createElement(_.default,a({topBorder:o,disableDesktopPadding:!o},e))},items:[m]}])});if(o){var g=void 0;return g=d.default.isMobile?{menuType:k.default.MenuType.Modal,title:"Database Templates",left:"Cancel",onClickLeft:this.props.onCancelClick}:{menuType:k.default.MenuType.Popup,width:280},u.createElement(k.default,a({},g),y)}return y}},t.prototype.renderNewButtonMenuItem=function(e){var t=this.props.isOverlay;return t?u.createElement(P.default,a({title:"New Template"},e)):u.createElement(f.default,a({title:"New Template",format:"new_template",isOverlay:t,locked:this.props.locked},e))},t.prototype.navigateToBlock=function(e){var t=C.default.state.currentBlockStore,r=t?E.default({store:t,peekViewBlockId:e.id,fullyQualified:!1}):E.default({store:e,fullyQualified:!1});this.props.overrideLinkClick?this.props.overrideLinkClick(r):b.navigate({url:r})},t.stores={menuListStore:x.default},t}(p.default);t.default=O},S26v:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("CxY0");function a(e){try{return o.parse(e,!0)}catch(r){try{var t=o.parse(e);return n({},t,{query:{}})}catch(e){return o.parse("",!0)}}}function i(e){return o.format(e)}t.parse=a,t.format=i,t.makeUrl=function(e){var t=a(e.url);return t.query,delete t.search,t.query=e.query||{},t.hash=e.hash,i(t)},t.removeBaseUrl=function(e){var t=a(e);return delete t.protocol,delete t.host,delete t.hostname,t.slashes=!1,i(t)},t.isRelativeUrl=function(e){var t=a(e);return Boolean(!t.host&&!t.hostname)},t.setBaseUrl=function(e){var t=a(e.relativeUrl),r=a(e.baseUrl);return t.protocol=r.protocol,t.host=r.host,t.hostname=r.hostname,i(t)},t.replacePathname=function(e){var t=a(e.url);return delete t.path,t.pathname=e.pathname,i(t)},t.removeQueryParam=function(e,t){var r=a(e);return delete r.search,delete r.query[t],i(r)},t.addQueryParams=function(e,t){var r=a(e);return delete r.search,r.query=n({},r.query,t),i(r)},t.sanitizeUrl=function(e){if(e)try{var t=a(e);if("http:"===t.protocol||"https:"===t.protocol||"mailto:"===t.protocol||"itms-apps:"===t.protocol||"tel:"===t.protocol||!t.protocol)return e}catch(e){return}},t.removeUrlFromString=function(e){return(e||"").replace(/(?:https?|ftp):\/\/[\n\S]+/g,"")}},SGmk:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("t+pW"),u=r("wlCD"),c=r("JwIb"),d=r("fVGD"),p=r("MeYt"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return this.props.isLoading?this.renderLoading():i.createElement("div",{style:this.getBackgroundStyle()},i.createElement(p.default,{onClick:this.props.onClick,disabled:this.props.disabled},i.createElement(c.default,{style:a({background:void 0},this.props.style),iconSvg:this.props.iconSvg||l.default.compass,right:this.props.right},this.props.children)))},t.prototype.renderLoading=function(){var e,t=this.props,r=t.file,n=t.name,o=t.size,a=t.progressPercent;return e=r?i.createElement("div",{key:"FileLoadingSpinner"},n,i.createElement("div",{style:c.default.smallButtonStyle},i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("div",null,o," – "),i.createElement(u.default,{style:{marginLeft:3,marginRight:3}}),i.createElement(d.default,{percentage:a})))):i.createElement("div",{key:"LoadingSpinner"},i.createElement(u.default,{style:{marginLeft:3,marginRight:3}})),i.createElement(c.default,{style:this.props.style,iconSvg:this.props.iconSvg},e)},t.prototype.getBackgroundStyle=function(){return{background:this.theme.embedPlaceholderBackground,width:"100%",borderRadius:3}},t.captionStyle=c.default.captionStyle,t}(s.default);t.default=f},"SL5/":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t}(r("LEzx").default);t.default=a},"SR/M":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("t+pW"),u=r("ZQ9l"),c=r("MeYt"),d=r("gbGO"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.focused,r=e.disabled,n=e.onClick,o=i(e,["focused","disabled","onClick"]);return l.createElement(c.default,{onClick:n,hovered:!r&&t,disabled:r,disabledFeedback:this.props.disabledFeedback,mobileFeedback:this.context.isMobile,style:{width:"100%"}},l.createElement(u.default,a({},o)))},t.contextTypes=a({},d.menuContextTypes),t}(s.default);t.default=p},SRc3:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("STAJ"),i=r("LvDl"),l=r("VAix"),s=r("7GAW"),u=r("AvkE"),c=r("swxp"),d=r("nFzZ"),p=r("z22Z"),f=r("O7Tt"),h={set:function(e,t,r){return e},update:function(e,t,r){return t||(t={}),n({},t,e)},listBefore:s.performListBefore,listAfter:s.performListAfter,listRemove:s.performListRemove,appendActivity:u.performAppendEdit,setPermissionItem:p.performSetPermissionItem,addRelation:f.performAddRelation,removeRelation:f.performRemoveRelation},m={set:function(e,t){return{table:e.table,id:e.id,path:e.path,command:"set",args:d.isNotDefined(t)?null:t}},update:function(e,t){t||(t={});var r={};return Object.keys(e.args).forEach(function(e){r[e]=t[e],void 0===r[e]&&(r[e]=null)}),{table:e.table,id:e.id,path:e.path,command:"update",args:r}},listBefore:s.invertListBefore,listAfter:s.invertListAfter,listRemove:s.invertListRemove,appendActivity:function(){},setPermissionItem:function(){},addRelation:function(){},removeRelation:function(){}};function y(e){return void 0===e.size?1:e.size}t.getSize=y,t.performOperation=function(e,t){var r,n,i,s,u=t||{},p=a.lensPath(e.path);if(i=e.path.length>0?a.view(p,u):u,s=u.version?u.version+y(e):y(e),!h[e.command])throw new Error("Unknown operation command "+e.command+".");i=(0,h[e.command])(e.args,i,s),u=e.path.length>0?a.set(p,i,u):i;var f=c.default[e.table],m=f.requiredColumns||{},g=f.defaultColumnValues||{};try{for(var v=o(Object.keys(m)),b=v.next();!b.done;b=v.next()){var w=b.value;!t||d.isNotDefined(t[w])||u&&!d.isNotDefined(u[w])||(g.hasOwnProperty(w)?u[w]=g[w]:u[w]=t[w])}}catch(e){r={error:e}}finally{try{b&&!b.done&&(n=v.return)&&n.call(v)}finally{if(r)throw r.error}}if(u&&t){var S=t.file_ids||[];(u.file_ids||[]).length<S.length&&(u.file_ids=S)}return(u=l.default(u)||{}).id=e.id,u.version=s,u},t.invertOperation=function(e,t){var r;t=t||{},r=e.path.length>0?i.get(t,e.path):t;var n=t.version||1;if(m[e.command])return m[e.command](e,r,n);throw new Error("Unknown operation command "+e.command+".")}},SYQx:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1,rect:{top:0,right:0,left:0,bottom:0,width:0,height:0}}},t}(r("LEzx").default);t.default=new a},Sb6f:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={fontWeight:{medium:500,semibold:600,bold:700},fontFamily:{sans:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"',serif:"Lyon-Text, Georgia, KaiTi, STKaiTi, '华文楷体', KaiTi_GB2312, '楷体_GB2312', serif",mono:"Nitti, 'Microsoft YaHei', '微软雅黑', monospace",githubMono:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace"}}},Sd8d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},SeL1:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("LvDl"),u=r("q1tI"),c=r("r8oj"),d=r("wldR"),p=r("RGVD"),f=r("fJHT"),h=r("F9et"),m=r("ALSZ"),y=r("Uc+B"),g=r("rGsA"),v=r("unoy"),b=r("DNgp"),w=r("w5u6"),S=r("VyA+"),_=r("Ng05"),k=r("lCCU"),C=r("mF3+"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInsertMention=function(){return i(t,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return(e=b.default.state).editing&&e.store===this.stores.discussionInputStore.state.textStore?[3,2]:(v.setSelectionAtEnd({store:this.stores.discussionInputStore.state.textStore}),[4,w.default.afterNextFlush()]);case 1:t.sent(),t.label=2;case 2:return m.insertMention({page:!0,user:!0,date:!1}),[2]}})})},t.handleBlur=function(){v.clearStores()},t.isEditing=t.createComputedStore(function(){var e=b.default.state;return e.editing&&e.store===t.stores.discussionInputStore.state.textStore}),t.isEmpty=t.createComputedStore(function(){var e=t.stores.discussionInputStore.state.textStore.getValue();return!e||0===e.length}),t}return o(t,e),t.prototype.renderComponent=function(){return u.createElement(S.default,{capture:this.isEditing.state,onCommandEnter:s.identity},u.createElement("div",{style:t.emptyInputWrapStyle},!this.props.isEditingExistingComment&&this.renderCurrentUserAvatar(),this.renderTextField(),!c.default.isMobileBrowser&&this.renderMentionButton(),this.renderSendButton(),!this.props.isCordovaSlideUpMenu&&u.createElement(g.default,{show:this.isEditing.state})))},t.prototype.renderCurrentUserAvatar=function(){return u.createElement(p.default,{format:p.default.Format.AvatarOnly,style:this.getInputCurrentUserAvatarStyle(),avatarSize:20,avatarShouldShowShadow:!0})},t.prototype.renderTextField=function(){return u.createElement(f.default,{style:this.getTextFieldStyle(),onBlur:this.handleBlur,store:this.stores.discussionInputStore.state.textStore,parentStore:this.props.parentStore,disabled:!1,onEnter:this.props.onSubmit,onEsc:this.props.onCancel,placeholder:this.props.placeholder||"Add a comment...",disableSlashCommands:!0,disableInsertText:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableEmbedMenu:!0,disableDateMentions:!0,disableMobileActionBar:!0,disableStyleAnnotations:c.default.isMobileBrowser})},t.prototype.renderMentionButton=function(){var e=this;return u.createElement(h.default,{capture:!0,render:function(t){return u.createElement(k.default,a({icon:C.default.mention,style:a({marginTop:3,marginLeft:8},e.getShouldShowButtonStyle()),onClick:e.handleInsertMention},t))}})},t.prototype.renderSendButton=function(){return u.createElement(_.default,{onClick:this.props.onSubmit,style:a({marginLeft:8},this.getShouldShowButtonStyle())},this.props.isEditingExistingComment?"Save":"Send")},t.prototype.getShouldShowButtonStyle=function(){var e=this.isEditing.state||!this.isEmpty.state;return a({},!e&&{pointerEvents:"none",opacity:0})},t.prototype.getInputCurrentUserAvatarStyle=function(){return{marginRight:8,flexShrink:0,flexGrow:0,marginTop:4,marginBottom:2}},t.prototype.getTextFieldStyle=function(){return{fontSize:14,marginTop:3,marginBottom:2,maxHeight:c.default.isReactNative||c.default.isCordova?"50vh":"70vh",overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch"}},t.stores={discussionInputStore:y.default},t.emptyInputWrapStyle={display:"flex",alignItems:"flex-start",flexGrow:1},t}(d.default);t.default=E},SjXP:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LEzx"),i=r("LvDl"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{dragging:!1,waiting:!1}},t.prototype.hasDragged=function(){return this.state.dragging&&!i.isEqual(this.state.startingPoint,this.state.currentPoint)},t}(a.default);t.default=l},Sol1:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("r8oj"),u=r("t+pW"),c=r("LeVO"),d=r("mF3+"),p=r("dQiq"),f=r("EZe4"),h=r("gRnv"),m=r("lCCU"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){h.openNewBlockDiscussionMenu({blockStore:t.props.store})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;if(!s.default.isMobile)return i.createElement("div",{style:t.style,onMouseDown:f.captureEditorMouseDown},i.createElement(c.default,{placement:c.default.Placement.Bottom,delayThreshold:300,renderTooltip:function(){return i.createElement(l.Fragment,null,"Click"," ",i.createElement("span",{style:{color:e.theme.mediumInvertedTextColor}},"to add a comment"))},render:function(t){return i.createElement(m.default,a({icon:d.default.speechBubble,onClick:e.handleClick},t))}}))},t.style={position:"absolute",top:3,left:-p.default.itemSize-8},t}(u.default);t.default=y},SuX3:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("q1tI"),l=r("5ma9"),s=r("ikHm"),u=r("r8oj"),c=r("t+pW"),d=r("UBxS"),p=r("AoM6"),f=r("ar9R"),h=r("HOaV"),m=r("QvPY"),y=r("Cihu"),g=r("WM0W"),v=r("XOx9"),b=r("UJva"),w=r("cBVm"),S=r("B0TY"),_=r("Q2G9"),k=r("0Kw5"),C=r("FcJC"),E=r("saYl"),P=r("QcDD"),x=r("T1hA"),T=r("UcZb"),O=r("rMTC"),M=r("HTHG"),I=r("O5tY"),A=r("NcKA"),D=r("AXh+"),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleFrameBlockerClick=function(){C.close()},t}return o(t,e),t.prototype.willMount=function(){P.default.scrollbarWidth=O.default()},t.prototype.willMountOrUpdate=function(e){var t=e.routerState.route;a.isEqual(t,this.lastRoute)||l.updateCurrentRoute({oldRoute:this.lastRoute,newRoute:t}),this.lastRoute=t},t.prototype.renderComponent=function(){var e=u.default.isElectronMac,t=P.default.state,r=t.currentBlockStore,n=t.userRootStore,o=t.currentCollectionViewStore,a=I.default.state.publicPageData,l=x.default.isLoggedIn(),s=T.default.state.open,c=M.sidebarIsExpanded(),C=M.AppRenderStateStore.state,O=C.shouldShowSidebar,D=C.shouldShowFrame,L=C.shouldShowError;return i.createElement(d.default,{style:this.getStyle()},O&&!u.default.isMobile&&i.createElement(h.default,{isElectronMac:e,isExpanded:c}),O&&u.default.isMobile&&i.createElement(m.default,null),r&&D&&i.createElement(p.default,{routerState:this.props.routerState,store:r,collectionViewStore:o}),L&&a&&i.createElement(w.default,{route:this.props.routerState.route,publicPageData:a}),O&&u.default.isMobile&&s&&this.renderMobileSidebarFrameBlocker(),this.shouldShowHelpButton()&&i.createElement(b.default,{isMobile:!1}),u.default.isMobile&&l&&r&&i.createElement(E.default,{store:r}),!u.default.isMobile&&i.createElement(g.default,{route:this.props.routerState.route}),l&&i.createElement(v.default,null),l&&i.createElement(S.default,null),l&&i.createElement(_.default,null),r&&i.createElement(f.default,{parentStore:n||r}),i.createElement(A.default,null),i.createElement(k.default,null),i.createElement(y.default,null))},t.prototype.renderMobileSidebarFrameBlocker=function(){return i.createElement("div",{style:t.frameBlockerStyle,onClick:this.handleFrameBlockerClick})},t.prototype.shouldShowHelpButton=function(){if(!x.default.isLoggedIn())return!1;if(u.default.isMobile)return!1;var e=P.default.state.currentBlockStore;return!!e&&!D.userHasPermissionViaPublicAccess(e)},t.prototype.getStyle=function(){return{width:"100vw",height:"100%",position:"relative",display:"flex",flex:1,background:this.theme.contentBackground}},t.frameBlockerStyle={position:"absolute",top:0,left:m.default.width,right:0,bottom:0,zIndex:s.mobileFrameSidebarBlocker},t}(c.default);t.default=L},T1hA:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t.prototype.isLoggedIn=function(){return Boolean(this.state.userId)},t}(r("LEzx").default);t.default=new a},T1kp:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("Iece"),a=r("EtGu");t.openFullscreen=function(e){var t=e.renderFullScreenNode,r=e.fullScreenNodeRect;a.default.setState(n({},a.default.state,{isOpen:!0,fullscreenNodeAnimationComplete:!1,backgroundAnimationComplete:!1,renderFullScreenNode:t,startScrollTop:o.default.state.scrollTop,fullScreenNodeRect:r}))}},T1td:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("P8+q"),u=r("wldR"),c=r("r8oj"),d=r("nFzZ"),p=r("QkuB"),f=r("2Y+N"),h=r("WgIs"),m=r("gbGO"),y=r("dXb3"),g=r("zTdN"),v=r("G4GV"),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props,r=t.onAccept,n=t.schema,o=t.onClose,u=t.allowProperty,v=this.stores.inputStore,b=this.props.displayString,w=void 0===b?"Property":b,S=Object.keys(n);S=l.sortBy(S,function(e){var t=n[e];return t?t.name:""}),(S=l.without(S,"title")).unshift("title");var _=v.state.inputValue;if(u&&(S=S.filter(function(e){var t=n[e];return t&&u(t)})),_){var k=S.map(function(e){var t=n[e];return t&&t.name});k=s.filter(_,k).map(function(e){return e.original}),S=d.compact(k.map(function(e){return S.find(function(t){var r=n[t];return Boolean(r&&r.name===e)})}))}var C,E=d.compact(S.map(function(e){var t=n[e];if(t)return{key:e,render:function(e){return i.createElement(p.default,a({},e,{propertySchema:t,format:p.default.DisplayFormat.Name}))},action:function(){return r(e)}}})),P=[{key:0,render:function(e){return i.createElement(f.default,a({},e))},items:E}],x=i.createElement(f.default,{isInput:!0},i.createElement(y.default,{focus:!c.default.isMobile||void 0,focusAfterAnimation:!0,value:_,onChange:function(t){return e.stores.inputStore.setState({focus:!0,inputValue:t.target.value})},placeholder:"Search for a "+w+"..."}));return C=c.default.isMobile?{menuType:m.default.MenuType.Modal,title:w,right:"Cancel",onClickRight:o,header:x}:{menuType:m.default.MenuType.Popup,width:200,header:x},i.createElement(m.default,a({},C),0===E.length?i.createElement(f.default,null,i.createElement(g.default,{title:"No results"})):i.createElement(h.default,{sections:P,onAccept:o,initialFocus:_.length>0?0:void 0}))},t.stores={inputStore:v.default},t}(u.default);t.default=b},T4gQ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("ZQ9l"),u=r("gbGO"),c=r("Sb6f"),d=r("zmp8"),p=r("MeYt"),f=r("Ng05"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,{title:this.renderButton()})},t.prototype.renderButton=function(){return this.context.isMobile?i.createElement(p.default,{onClick:this.props.onClick,mobileFeedback:!0,disabled:this.props.disabled,style:t.buttonMobileStyle},this.props.title):i.createElement(f.default,{onClick:this.props.onClick,disabled:this.props.disabled,style:{width:"100%",maxWidth:300,display:"flex",margin:"auto"}},this.props.title)},t.contextTypes=a({},u.menuContextTypes),t.buttonMobileStyle={width:"100%",textAlign:"center",color:d.default.blue,fontWeight:c.default.fontWeight.medium},t}(l.default);t.default=h},TAMl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},TDb4:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("Nvzn"),u=r("wldR"),c=r("LeVO"),d=r("PQqx"),p=r("0oyA"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this;return i.createElement(c.default,{renderTooltip:function(){return e.renderTooltipText()},delayThreshold:0,render:function(t){return i.createElement("span",a({style:e.props.style},t),e.renderText())}})},t.prototype.renderText=function(){var e=d.getShortcutTextItems();return this.getShortcutArrays().map(function(t){return t.map(function(t){return s.default(e[t]||t)}).join("+")}).join(" or ")},t.prototype.renderTooltipText=function(){var e=d.getShortcutTooltipTextItems();return this.getShortcutArrays().map(function(t){return t.map(function(t){return s.default(e[t]||t)}).join("+")}).join(" or ")},t.prototype.getShortcutArrays=function(){var e=p.default.shortcutMap[this.props.name];return l.isArray(e)||(e=[e]),l.map(e,function(e){return e.split("+")})},t}(u.default);t.default=f},TM4X:function(e,t,r){"use strict";var n,o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("udrG"),l=r("r8oj"),s=r("l4I2"),u=r("jZoB"),c=r("q2qQ"),d=r("6rsX"),p=r("Ajfl"),f=r("unoy"),h=r("sPNb"),m=r("VpIZ"),y=r("DNgp"),g=r("AmMh"),v=r("43ch"),b=r("6Jq+"),w=r("w5u6"),S=((n={})[i.default.toggle]=!0,n);t.textBackspaceAtBeginning=function(e){var t,r,n,i,l,h=e.store,m=e.selection,y=e.transaction,_=v.default.getSortedComponents(),k=a.findIndex(_,function(e){return e.props.store===h}),C=a.findLast(_,function(e,t){return t<k&&e.props.canInsertText});C&&(l=C.props.store);var E,P=v.default.getClosestSelectableStore(h),x=b.default.closestList(h,!1),T=!1;if(P&&x.ancestor){var O=x.ancestor.getValue()||[];if(a.last(O)===P.id)T=(M=s.unindent({blocks:[P],transaction:y})).didUnindent,E=M.blocks}if(T)w.default.afterNextFlush(function(){var e=g.default.findEditableStoreWithin(E[0]);e&&(d.edit({store:E[0]}),f.setSelectionAtStart({store:e}))});else if(l&&P){var M=p.deleteAfterSelection({store:h,selection:m,transaction:y}),I=f.getEndSelection(l);I&&p.insertDeletedSelection({store:l,selection:I,deleteAfterSelectionResult:M,transaction:y}),f.setSelection({store:l,selection:I});var A=v.default.getClosestSelectableStore(l);d.edit({store:A});var D=P.getType();if(D&&!S[D]&&x.ancestor){var L=P.getContentStores();try{for(var R=o(L),B=R.next();!B.done;B=R.next()){var j=B.value;u.insertBefore({parent:x.ancestor,before:P,insert:j,transaction:y})}}catch(e){t={error:e}}finally{try{B&&!B.done&&(r=R.return)&&r.call(R)}finally{if(t)throw t.error}}var V=P.getContentStore(),F=P.getContentStores();try{for(var N=o(F),U=N.next();!U.done;U=N.next()){var W=U.value;u.remove({parent:V,remove:W,transaction:y})}}catch(e){n={error:e}}finally{try{U&&!U.done&&(i=N.return)&&i.call(N)}finally{if(n)throw n.error}}}c.remove({store:P,transaction:y})}return h},t.captionBackspaceAtBeginning=function(e){var t,r=e.store,n=e.selection,o=e.transaction,i=v.default.getSortedComponents(),l=a.findIndex(i,function(e){return e.props.store===r}),s=a.findLast(i,function(e,t){return t<l&&e.props.canInsertText});s&&(t=s.props.store);var u=v.default.getClosestSelectableStore(r);if(t&&u){var c=p.deleteAfterSelection({store:r,selection:n,transaction:o}),h=f.getEndSelection(t);h&&p.insertDeletedSelection({store:t,selection:h,deleteAfterSelectionResult:c,transaction:o}),f.setSelection({store:t,selection:h});var m=v.default.getClosestSelectableStore(t);d.edit({store:m})}},t.textDeleteAtEnd=function(e){var t,r,n,i=e.store,l=(e.selection,e.transaction),s=v.default.getSortedComponents(),d=a.findIndex(s,function(e){return e.props.store===i}),h=s.find(function(e,t){return Boolean(t>d&&e.props.canInsertText)});h&&(n=h.props.store);var m=v.default.getClosestSelectableStore(i);if(m&&n){var g=a.clone(y.default.state),w=p.deleteAfterSelection({store:n,selection:{startIndex:0,endIndex:0},transaction:l}),_=f.getEndSelection(i);_&&p.insertDeletedSelection({store:i,selection:_,deleteAfterSelectionResult:w,transaction:l});var k=v.default.getClosestSelectableStore(n);if(k){var C=m.getType(),E=b.default.closestList(k,!1);if(E.ancestor&&C&&!S[C]){var P=k.getContentStore(),x=k.getContentStores();try{for(var T=o(x),O=T.next();!O.done;O=T.next()){var M=O.value;u.remove({parent:P,remove:M,transaction:l}),u.insertBefore({parent:E.ancestor,before:E.child,insert:M,transaction:l})}}catch(e){t={error:e}}finally{try{O&&!O.done&&(r=T.return)&&r.call(T)}finally{if(t)throw t.error}}}c.remove({store:k,transaction:l}),g&&f.setSelection({store:g.store,selection:g.selection})}}return i},t.annotatedContentBlockBackspaceAtBeginning=function(e){var t=e.store,r=(e.selection,e.transaction),n=v.default.getClosestSelectableStore(t);if(n){var o=h.transform({block:n,blockType:i.default.text,transaction:r});w.default.afterNextFlush(function(){var e=g.default.findEditableStoreWithin(o);e&&(f.setSelectionAtStart({store:e}),d.edit({store:o}))})}return t},t.textBackspaceWithinContent=function(e){var t,r=e.text,n=e.selection,o=e.transaction,a=e.deleteForwards;return t=n.startIndex===n.endIndex?a?{startIndex:n.startIndex,endIndex:n.startIndex+1}:{startIndex:n.startIndex-1,endIndex:n.startIndex}:n,p.deleteSelection({store:r,selection:t,transaction:o}),r},t.backspace=function(e){var r=e.store,n=e.selection,o=e.transaction,a=e.deleteForwards,i=e.event;if(n)if(0!==n.startIndex||0!==n.endIndex||a)f.selectionIsAtEnd(r,n)&&a?(i.preventDefault(),t.textDeleteAtEnd({store:r,selection:n,transaction:o})):l.default.isIOS||(i.preventDefault(),t.textBackspaceWithinContent({text:r,selection:n,deleteForwards:a,transaction:o}));else{i.preventDefault();var s=v.default.getClosestSelectableStore(r);if(s){var u=s.getValue();u&&(m.isAnnotatedContentType(u)?t.annotatedContentBlockBackspaceAtBeginning({store:r,selection:n,transaction:o}):m.isPlainTextType(u)?t.textBackspaceAtBeginning({store:r,selection:n,transaction:o}):m.isCaptionType(u)&&t.captionBackspaceAtBeginning({store:r,selection:n,transaction:o}))}}}},TSBY:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.shouldPreventCordovaAutoScroll=function(){var e=this.findComponent(function(e){return e.props.capture&&!e.props.allowCordovaAutoScroll});return Boolean(e)},t}(r("Uv1v").default);t.default=new a},TWhA:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("jXGf"),u=r("r8oj"),c=r("zmp8"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props,r=t.title,n=t.caption,o=t.image,l=t.onClick;return i.createElement(s.default,{render:function(t){var s=t.mouseEntered,c=t.events;return i.createElement("div",a({},c,{onClick:l,style:e.getWrapStyle(s)}),i.createElement("img",{src:o,style:e.getImageStyle(s)}),i.createElement("div",{style:e.getInfoStyle()},i.createElement("div",{style:e.getTitleStyle()},i.createElement("span",{style:e.getMobileTitleStyle()},r)),!u.default.isMobile&&i.createElement("div",{style:e.getCaptionStyle()},n)))}})},t.prototype.getWrapStyle=function(e){return a({display:"flex",flexDirection:u.default.isMobile?"column":"row",alignItems:"center",flexGrow:0},e&&{cursor:"pointer"},u.default.isMobile?{padding:"12px 4px 16px"}:{marginBottom:8})},t.prototype.getImageStyle=function(e){var t=this,r=this.props.selected?"0 0 0 2px "+c.default.blue:e?"0 0 0 2px "+t.theme.darkDividerColor:"0 0 0 1px "+t.theme.darkDividerColor,n=u.default.isMobile?"42vw":"169px";return{display:"flex",flexDirection:"column",borderRadius:3,boxShadow:r,transition:"box-shadow 200ms ease-out",marginTop:8,marginBottom:u.default.isMobile?12:8,height:"calc("+n+" / (169 / 97))",maxHeight:97,maxWidth:n}},t.prototype.getInfoStyle=function(){return a({display:"flex",flexDirection:"column"},!u.default.isMobile&&{marginLeft:16})},t.prototype.getTitleStyle=function(){var e=this.props.selected;return a({display:"flex",fontSize:14},e&&!u.default.isMobile&&{fontWeight:600},{marginBottom:2},u.default.isMobile&&{justifyContent:"center"})},t.prototype.getMobileTitleStyle=function(){var e=this.props.selected;return u.default.isMobile?a({fontSize:12,padding:"2px 10px",borderRadius:20,textAlign:"center"},e&&{background:c.default.blue,color:c.default.white}):{}},t.prototype.getCaptionStyle=function(){return{fontSize:12,color:this.theme.mediumTextColor}},t}(l.default);t.default=d},TmDR:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("t+pW"),c=r("LeVO"),d=r("mF3+"),p=r("MBf9"),f=r("5w/s"),h=r("5/h/"),m=r("bPtJ"),y=r("zYZA"),g=r("y6Dp"),v=r("MeYt"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTooltip=function(){var e=t.props.store.getFormat().block_locked_by;if(e){var r=h.getFullName(m.createRecordStore(t.props.store,h.default.table,e).getValue());return s.createElement("div",{style:{textAlign:"center"}},"Locked by ",s.createElement("b",null,r),s.createElement("br",null),"to prevent accidental editing.",s.createElement("br",null),s.createElement("span",{style:{color:t.theme.mediumInvertedTextColor}},"Click to unlock"))}},t.handleLockClick=function(){return i(t,void 0,void 0,function(){var e,t=this;return l(this,function(r){return p.createAndCommit(function(e){f.setBlockLocked({store:t.props.store,isLocked:!1,transaction:e})}),this.stores.lockStore.setState(a({},this.stores.lockStore.state,{justUnlocked:!0})),(e=this.props.store.getType())&&g.trackEditLockToggle({from:"topbar",block_type:e,locked:!1}),[2]})})},t.handleUnlockClick=function(){return i(t,void 0,void 0,function(){var e,t=this;return l(this,function(r){return p.createAndCommit(function(e){f.setBlockLocked({store:t.props.store,isLocked:!0,transaction:e})}),this.stores.lockStore.setState(a({},this.stores.lockStore.state,{justUnlocked:!1})),(e=this.props.store.getType())&&g.trackEditLockToggle({from:"topbar",block_type:e,locked:!0}),[2]})})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=this.props,n=r.isMobile,o=r.disableTooltip;return this.props.store.isLocked()?s.createElement(c.default,{renderTooltip:this.renderTooltip,disableTooltip:o,render:function(r){return s.createElement(v.default,a({style:e.getUnlockButtonStyle(),disabled:n,onClick:e.handleLockClick},r),d.default.locked(t.iconStyle),"Locked")}}):this.stores.lockStore.state.justUnlocked&&!n?s.createElement(v.default,{style:this.getLockButtonStyle(),onClick:this.handleUnlockClick,hoveredStyle:{background:this.theme.outlineBlueButtonHoveredBackground},pressedStyle:{background:this.theme.outlineBlueButtonPressedBackground}},d.default.unlocked(t.iconStyle),"Re-Lock"):void 0},t.prototype.getButtonStyle=function(){var e=this.props,t=e.isMobile,r=e.isInlineCollection;return a({display:"flex",alignItems:"center",whiteSpace:"nowrap",fontSize:t?12:14,borderRadius:3,padding:"0 6px",marginRight:t?8:12,height:24,marginTop:t?1:0,marginLeft:t?0:-5},r&&{marginLeft:t?8:12,marginRight:0})},t.prototype.getUnlockButtonStyle=function(){return a({},this.getButtonStyle(),{color:this.theme.lightTextColor,fill:this.theme.lightIconColor})},t.prototype.getLockButtonStyle=function(){return a({},this.getButtonStyle(),{paddingLeft:5,border:"1px solid "+this.theme.blueColor,color:this.theme.blueColor,fill:this.theme.blueColor})},t.stores={lockStore:y.default},t.iconStyle={width:10,marginRight:6},t}(u.default);t.default=b},ToVy:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("IsnD"),s=r("IdSf"),u=r("H4VD"),c=r("zmp8"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOpenInNativeApp=function(){u.openInNativeApp(t.props.redirect)},t}return o(t,e),t.prototype.didMount=function(){this.handleOpenInNativeApp()},t.prototype.renderComponent=function(){return a.createElement(l.default,null,a.createElement("div",null,"Redirecting to your Notion app..."),a.createElement(s.default,{onClick:this.handleOpenInNativeApp,style:{maxWidth:300,textAlign:"center",textDecoration:"underline",color:c.default.uiGray}},"If you weren't redirected, click here."),a.createElement(s.default,{href:this.props.redirect,style:{maxWidth:300,textAlign:"center",textDecoration:"underline",color:c.default.uiGray}},"Or, continue in your browser"))},t}(i.default);t.default=d},TxG6:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,iconSvg:l.default.audio,mediaMenuCurrentTab:"file",mediaMenuTabs:["file","embed"],mediaMenuEmbedCaption:"Works with .MP3s, .WAVs, and .OGGs",embedButtonText:"Embed Audio",urlInputPlaceholder:"https://..."}),"Add an audio file")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},TzxI:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{emailDomains:[],name:"",domain:"",disablePublicAccess:!1,disableGuests:!1,disableMoveToSpace:!1,disableExport:!1}},t.prototype.getValueForSpace=function(e){var t=e.getValue();if(t){var r=t.name,n=t.domain,o=t.email_domains,a=t.disable_public_access,i=t.disable_guests,l=t.disable_move_to_space,s=t.disable_export;return{name:r||"",domain:n||"",emailDomains:o||[],disablePublicAccess:Boolean(a),disableGuests:Boolean(i),disableMoveToSpace:Boolean(l),disableExport:Boolean(s)}}},t}(r("LEzx").default);t.default=a},"U+cP":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("42Xw"),s=r("6rsX"),u=r("bFnu"),c=r("t+pW"),d=r("iVjn"),p=r("uSCg"),f=r("MBf9"),h=r("nZ1u"),m=r("0zNc"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDragStart=function(e){t.props.canDrag&&(e.preventDefault(),l.startDrag({columnListStore:t.props.columnListStore,leftColumn:t.props.leftColumn,rightColumn:t.props.rightColumn}),s.clear())},t.handleDragMove=function(e){l.temporaryResizeColumn({columnListBlockStore:t.props.columnList,columnListStore:t.props.columnListStore,leftColumn:t.props.leftColumn,rightColumn:t.props.rightColumn,diffX:e.diffX})},t.handleDragEnd=function(e){f.createAndCommit(function(r){l.resizeColumn({columnListBlockStore:t.props.columnList,columnListStore:t.props.columnListStore,leftColumn:t.props.leftColumn,rightColumn:t.props.rightColumn,diffX:e.diffX,transaction:r})}),l.endDrag({columnListStore:t.props.columnListStore})},t.handleDragCancel=function(e){l.endDrag({columnListStore:t.props.columnListStore})},t.handleMouseEnter=function(e){m.default.state.isDragging||h.default.state.isActive||t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(e){m.default.state.isDragging||h.default.state.isActive||t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return this.props.canDrag?i.createElement(d.default,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,disableHorizontalEdgeScroll:!0,disableVerticalEdgeScroll:!0,render:function(t){return i.createElement("div",a({},p.default(t,{onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave}),{style:e.stores.mouseStore.state.mouseEntered?e.getHoveredStyle():e.getStyle()}),i.createElement("div",{style:e.getHandleStyle()}))}}):i.createElement("div",{style:this.getStyle()})},t.prototype.getStyle=function(){return{position:"relative",width:t.width,flexGrow:0,flexShrink:0,transition:"opacity 200ms ease-out",opacity:0}},t.prototype.getHoveredStyle=function(){return a({},this.getStyle(),{opacity:1,cursor:"col-resize"})},t.prototype.getHandleStyle=function(){return{position:"absolute",top:0,bottom:0,left:t.width/2-t.handleWidth/2,width:t.handleWidth,height:"100%",background:this.theme.darkDividerColor}},t.stores={mouseStore:u.default},t.width=46,t.handleWidth=4,t}(c.default);t.default=y},UBxS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("qHvo"),u=r("nZ1u"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getCurrentCursor=t.createComputedStore(function(){return u.default.state.isActive&&u.default.state.moved?"default":s.default.state.isDragging?"-webkit-grabbing":"text"}),t}return o(t,e),t.prototype.renderComponent=function(){var e="notion-cursor-listener";return"-webkit-grabbing"===this.getCurrentCursor.state&&(e+=" notion-disable-local-cursor"),i.createElement("div",{style:this.getStyle(),className:e},this.props.children)},t.prototype.getStyle=function(){return a({},this.props.style,{cursor:this.getCurrentCursor.state})},t}(l.default);t.default=c},UC1o:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var c=r("q1tI"),d=r("q1tI"),p=r("LvDl"),f=r("t+pW"),h=r("r8oj"),m=r("Cihu"),y=r("SR/M"),g=r("IwFn"),v=r("NV/j"),b=r("qFEu"),w=r("aBKD"),S=r("Z1H8"),_=r("2m/B"),k=r("Azc7"),C=r("IYZQ"),E=r("yNyh"),P=r("IdSf"),x=r("wlCD"),T=r("gbGO"),O=r("WgIs"),M=r("w8E2"),I=r("wXH4"),A=r("1y3T"),D=r("8fuX"),L=r("2Y+N"),R=r("xcVA"),B=r("7Q97"),j=r("fw5W"),V=r("wpmu"),F=r("+DAh"),N=r("UiOz"),U=r("uN94"),W=r("G4cA"),z=r("0GcB"),H=r("klxS"),q=r("p9C0"),G=r("tvfY"),Z=r("T1hA"),Y=r("hU3F"),K=r("VPGQ"),J=r("wS9/"),Q=r("74/9"),X=r("pQrc"),$=r("rro+"),ee=r("FUUC"),te=r("y6Dp"),re=r("bkwR"),ne=r("ju2U"),oe=r("VBxf"),ae=r("hvW1"),ie=r("frzs"),le=r("NQmS"),se=r("30UQ"),ue=r("HHyf"),ce=r("N34Z"),de=r("Fe7V"),pe=r("H4VD"),fe=r("qqdV"),he=r("sdlW"),me=r("HSWF"),ye=r("MBf9"),ge=r("p+Y9"),ve=r("VTj5"),be=r("NCLm"),we=r("5Nka"),Se=r("mF3+"),_e=r("Sb6f"),ke=r("enKW"),Ce=r("MeYt"),Ee=r("Ng05"),Pe=r("RrFw"),xe=r("d9nj"),Te=r("6q9u"),Oe=r("WLsh"),Me=r("Ripq"),Ie=r("HTHG"),Ae=r("w5u6"),De=r("qKs6"),Le=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.shuffledPersonas=p.shuffle(be.userPersonas),r.shuffledSources=p.shuffle(be.userSources),r.renderDesktopProfile=function(e,t){var n=t.uploadingProfilePhoto,o=r.getCurrentProfileFormData(e,t),i=o.profilePhoto,l=o.givenName,s=o.familyName,u=o.userSource,p=o.userPersona,f=o.userType,h=o.userUseCase,m=o.otherSourceIsSelected,y=o.otherSourceInputValue,g=o.otherPersonaIsSelected,v=o.otherPersonaInputValue;return c.createElement(M.default,{title:"Welcome! First things first...",subtitle:"Create a profile to personalize how you'll appear to collaborators.",illustrationUrl:r.getIllustrationPath("simon-1"),onboardingState:t,key:t.currentStage},c.createElement("div",{style:{width:360,position:"relative"}},c.createElement("div",{style:{position:"absolute",left:-160,top:20}},c.createElement(Ce.default,{onClick:function(){return r.handleUploadProfilePhoto(t)},style:{width:120,height:120,borderRadius:"100%",boxShadow:ke.default.onboardingShallowShadow,overflow:"hidden"}},c.createElement(A.default,{url:i||"/tutorial/empty-avatar.png",permissionRecord:void 0,width:120,stripGoogleIconQuery:!0,render:function(e,t){return c.createElement(_.default,{src:t,style:{width:"100%",height:"100%",objectFit:"cover"}})}})),c.createElement(xe.default,{isGray:!0,onClick:function(){return r.handleUploadProfilePhoto(t)},style:{width:"100%",justifyContent:"center",marginTop:8}},n&&c.createElement(x.default,{style:{marginRight:6}}),n?"Uploading...":i?"Change":"Upload")),c.createElement("div",{style:{display:"flex"}},c.createElement("div",{style:{marginRight:12}},c.createElement("div",{style:a({},r.getFormLabelStyle(),{marginTop:0})},"Given Name"),c.createElement(E.default,{focusInitial:!0,value:l,placeholder:"Enter your given name",onChange:function(e){U.default.setState(a({},U.default.state,{givenName:e.target.value}))},style:a({marginRight:4},r.getInputStyle())})),c.createElement("div",null,c.createElement("div",{style:a({},r.getFormLabelStyle(),{marginTop:0})},"Family Name"),c.createElement(E.default,{value:s,placeholder:"Your family name",onChange:function(e){U.default.setState(a({},U.default.state,{familyName:e.target.value}))},style:r.getInputStyle()}))),c.createElement("div",{style:{marginTop:20,marginBottom:4,fontWeight:_e.default.fontWeight.medium}},"How did you find out about Notion?"),c.createElement("div",{style:{display:"flex",flexDirection:"column",flex:0,marginLeft:-8,height:128,flexWrap:"wrap"}},r.renderUserSourceSelect(u),c.createElement("div",{style:{display:"flex",alignItems:"center"}},c.createElement(xe.default,{isLarge:!0,disabled:m,style:a({width:220},m&&{width:"auto"}),onClick:function(){U.default.setState(a({},U.default.state,{otherSourceIsSelected:!0,otherSourceInputValue:"",userSource:void 0}))}},c.createElement(Te.default,{isSelected:Boolean(m)}),"Other"),m&&c.createElement(E.default,{style:{height:26,display:"flex"},placeholder:"Your answer...",focusInitial:!0,value:y||"",onChange:r.handleOtherSourceInputChange}))),c.createElement("div",{style:{marginTop:20,marginBottom:4,fontWeight:_e.default.fontWeight.medium}},"Which best describes you?"),c.createElement("div",{style:{display:"flex",flexDirection:"column",flex:0,marginLeft:-8,height:130,flexWrap:"wrap"}},r.renderUserPersonaSelect(p),c.createElement("div",{style:{display:"flex",alignItems:"center"}},c.createElement(xe.default,{isLarge:!0,disabled:g,style:a({width:220},g&&{width:"auto"}),onClick:function(){U.default.setState(a({},U.default.state,{otherPersonaIsSelected:!0,otherPersonaInputValue:"",userPersona:void 0}))}},c.createElement(Te.default,{isSelected:Boolean(g)}),"Other"),g&&c.createElement(E.default,{style:{height:26,display:"flex"},placeholder:"Your answer...",focusInitial:!0,value:v||"",onChange:r.handleOtherPersonaInputChange}))),c.createElement("div",{style:{marginTop:20,marginBottom:4,fontWeight:_e.default.fontWeight.medium}},"How will you use Notion?"),c.createElement("div",{style:{display:"flex",flexDirection:"column",flex:0,marginLeft:-8,height:100,flexWrap:"wrap"}},r.renderUserUseCaseSelect(h)),h&&!be.useCaseIsPersonal(h)&&c.createElement(d.Fragment,null,c.createElement("div",{style:{marginTop:20,marginBottom:4,fontWeight:_e.default.fontWeight.medium}},"How large is your team?"),c.createElement("div",{style:{display:"flex",flexDirection:"column",flex:0,marginLeft:-8}},r.renderUserTypeSelect(f))),c.createElement(Pe.default,{style:{marginTop:20,minWidth:90},onClick:function(){return r.handleProfileNextClick(e,t).catch(r.handleError)}},"Next")))},r.renderDesktopWorkspace=function(e,t){var n=r.getJoinableSpacesResults(e,t),o=n.length,a=o>0,i=0===n.length||t.creatingSpace;return c.createElement(M.default,{title:"Let's set up a home for all your work",subtitle:"You can always create another workspace later.",illustrationUrl:r.getIllustrationPath("simon-2"),onboardingState:t,key:t.currentStage},c.createElement("div",{style:{width:360}},a&&c.createElement("div",{style:{marginBottom:16}},"Looks like you are already a part of"," ",c.createElement("b",null,o," workspace",o>1?"s":""),", let's join one!"),a&&r.renderWorkspaceJoinSpaces(e,t),i&&r.renderCreateSpaceForm(e,t),i&&c.createElement(Pe.default,{disabled:t.isLoading,style:{marginTop:20},onClick:function(){return r.handleWorkspaceFormCreateClick(e,t).catch(r.handleError)}},t.isLoading&&c.createElement(x.default,{style:{marginRight:6}}),"Create Workspace")))},r.renderDesktopImport=function(e,t){if(!t.spaceStore||!t.spaceViewStore)throw new Error("No space was created.");return c.createElement(M.default,{title:"Do you have anything you want to import?",subtitle:"You can also do this later in the app.",onboardingState:t,illustrationUrl:r.getIllustrationPath("simon-4"),key:t.currentStage,onClickNext:function(){return r.handleImportNextClick(e,t).catch(r.handleError)},nextButtonTitle:"Skip"},c.createElement(k.default,{spaceStore:t.spaceStore,spaceViewStore:t.spaceViewStore,userSettingsStore:e.userSettingsStore,analyticsFrom:"onboarding",onComplete:function(){return r.handleImportComplete(e,t)},readOnlyCreditButton:!0}))},r.renderDesktopDownload=function(e,t){return c.createElement(M.default,{title:h.default.isElectron?"Download our mobile app":"Download our apps",subtitle:"Write without distractions. Edit on the go.",onboardingState:t,illustrationUrl:r.getIllustrationPath("simon-3"),key:t.currentStage,onClickNext:function(){return r.handleDownloadDoneClick(e,t).catch(r.handleError)},nextButtonTitle:"Done"},c.createElement("div",{style:{display:"flex"}},c.createElement("div",{style:{marginRight:42}},c.createElement("div",{style:{fontWeight:_e.default.fontWeight.semibold,fontSize:22,marginBottom:8}},"iOS & Android"),c.createElement(v.default,{format:v.default.Format.Mobile,title:"Download for Mobile",analyticsName:"onboarding"}),c.createElement(b.default,{format:b.default.Format.IPhone,style:{width:170,marginTop:24}},c.createElement("img",{src:we.default.front.mobile.mobileHeroGif,style:{width:"100%",borderRadius:3}}))),!h.default.isElectron&&c.createElement("div",{style:{marginRight:42}},c.createElement("div",{style:{fontWeight:_e.default.fontWeight.semibold,fontSize:22,marginBottom:8}},"Desktop"),c.createElement("div",{style:{display:"flex"}},c.createElement(v.default,{format:v.default.Format.Mac,analyticsName:"onboarding"}),c.createElement(v.default,{format:v.default.Format.Windows,analyticsName:"onboarding",style:{marginLeft:16}})),c.createElement(w.default,{format:w.default.Format.None,style:{width:400,paddingBottom:"none",height:"none",marginTop:24}},c.createElement("img",{src:we.default.front.mobile.mobileSyncMacOnboardingPng,style:{width:"100%"}}))),c.createElement("div",null,c.createElement("div",{style:{fontWeight:_e.default.fontWeight.semibold,fontSize:22,marginBottom:8}},"Web Clipper"),c.createElement("div",null,c.createElement(v.default,{title:"Install for Chrome",format:v.default.Format.WebClipper,analyticsName:"onboarding"}),c.createElement("img",{src:we.default.tutorial.webClipperOnboardingPng,style:{marginTop:24,width:220,boxShadow:ke.default.frontDeepShadow}})))))},r.renderDesktopGDPR=function(e,t){return c.createElement(M.default,{title:"Privacy & Data Collection",illustrationUrl:r.getIllustrationPath("simon-1"),onboardingState:t,key:t.currentStage},c.createElement("div",{style:{width:560,position:"relative"}},r.renderGDPRConsentInfo(),c.createElement(Ee.default,{isLarge:!0,style:{marginTop:24,marginRight:16},onClick:function(){te.trackGDPRConsent(r.getOnboardingAnalyticsData(t)),r.goToNextStage(e,t).catch(r.handleError)}},"Agree"),c.createElement(Pe.default,{style:{marginTop:24},onClick:ie.logout},"Disagree")))},r.renderMobileProfileName=function(e,n){var o=r.getCurrentProfileFormData(e,n),i=o.givenName,l=o.familyName;return c.createElement(D.default,{type:D.default.OverflowType.Y,style:r.getMobileScrollerWithIllustrationStyle(),key:"profile-name"},c.createElement("div",{style:t.mobileWrapWithIllustrationStyle},c.createElement("div",null,c.createElement("b",null,"First,")," what should we call you?"),c.createElement("div",{style:r.getFormLabelStyle()},"Given Name"),c.createElement(E.default,{autoFocus:!0,value:i,placeholder:"Enter your given name",onChange:function(e){U.default.setState(a({},U.default.state,{givenName:e.target.value}))},style:a({marginRight:4},r.getInputStyle())}),c.createElement("div",{style:r.getFormLabelStyle()},"Family Name"),c.createElement(E.default,{value:l,placeholder:"Your family name",onChange:function(e){U.default.setState(a({},U.default.state,{familyName:e.target.value}))},style:r.getInputStyle()}),c.createElement(Pe.default,{style:{width:"100%",marginTop:20},onClick:function(){return r.handleMobileProfileNameNextClick(e,n).catch(r.handleError)}},"Next"),c.createElement("div",{style:a({},r.getMobileIllustrationWrapStyle(),{left:-40})},c.createElement("img",{src:r.getIllustrationPath("simon-1"),style:t.mobileIllustrationStyle}))))},r.renderMobileProfileSource=function(e,n){return c.createElement(D.default,{type:D.default.OverflowType.Y,style:r.getMobileScrollerWithIllustrationStyle(),key:"profile-Source"},c.createElement("div",{style:t.mobileWrapWithIllustrationStyle},c.createElement("div",{style:{marginBottom:20}},"How did you find out about Notion?"),r.shuffledSources.map(function(t,o){return c.createElement(Pe.default,{key:o,style:{width:"100%",marginBottom:12},onClick:function(){r.handleMobileSourceClick(e,n,t).catch(r.handleError)}},be.userSourceDisplayNames[t])}),c.createElement(Pe.default,{style:{width:"100%",marginBottom:12},onClick:function(){r.handleMobileSourceClick(e,n,"other").catch(r.handleError)}},"Other"),c.createElement("div",{style:r.getMobileIllustrationWrapStyle()},c.createElement("img",{src:r.getIllustrationPath("simon-2"),style:t.mobileIllustrationStyle}))))},r.renderMobileProfilePersona=function(e,n){return c.createElement(D.default,{type:D.default.OverflowType.Y,style:r.getMobileScrollerWithIllustrationStyle(),key:"profile-persona"},c.createElement("div",{style:t.mobileWrapWithIllustrationStyle},c.createElement("div",{style:{marginBottom:20}},"Which best describes you?"),r.shuffledPersonas.map(function(t,o){return c.createElement(Pe.default,{key:o,style:{width:"100%",marginBottom:12},onClick:function(){r.handleMobilePersonaClick(e,n,t).catch(r.handleError)}},be.userPersonaDisplayNames[t])}),c.createElement(Pe.default,{style:{width:"100%",marginBottom:12},onClick:function(){r.handleMobilePersonaClick(e,n,"other").catch(r.handleError)}},"Other"),c.createElement("div",{style:r.getMobileIllustrationWrapStyle()},c.createElement("img",{src:r.getIllustrationPath("simon-2"),style:t.mobileIllustrationStyle}))))},r.renderMobileProfileSourceOther=function(e,n){var o=r.getCurrentProfileFormData(e,n).otherSourceInputValue;return c.createElement(D.default,{type:D.default.OverflowType.Y,style:r.getMobileScrollerWithIllustrationStyle(),key:"profile-source"},c.createElement("div",{style:t.mobileWrapWithIllustrationStyle},c.createElement(E.default,{autoFocus:!0,value:o,placeholder:"Your answer...",onChange:function(e){U.default.setState(a({},U.default.state,{otherSourceInputValue:e.target.value}))},style:a({marginRight:4},r.getInputStyle())}),c.createElement(Pe.default,{style:{width:"100%",marginTop:20},onClick:function(){return r.handleMobileSourceOtherClick(e,n).catch(r.handleError)}},"Next"),c.createElement("div",{style:a({},r.getMobileIllustrationWrapStyle(),{left:-40})},c.createElement("img",{src:r.getIllustrationPath("simon-2"),style:t.mobileIllustrationStyle}))))},r.renderMobileProfilePersonaOther=function(e,n){var o=r.getCurrentProfileFormData(e,n).otherPersonaInputValue;return c.createElement(D.default,{type:D.default.OverflowType.Y,style:r.getMobileScrollerWithIllustrationStyle(),key:"profile-persona"},c.createElement("div",{style:t.mobileWrapWithIllustrationStyle},c.createElement(E.default,{autoFocus:!0,placeholder:"Your answer...",value:o,onChange:function(e){U.default.setState(a({},U.default.state,{otherPersonaInputValue:e.target.value}))},style:a({marginRight:4},r.getInputStyle())}),c.createElement(Pe.default,{style:{width:"100%",marginTop:20},onClick:function(){return r.handleMobilePersonaOtherClick(e,n).catch(r.handleError)}},"Next"),c.createElement("div",{style:a({},r.getMobileIllustrationWrapStyle(),{left:-40})},c.createElement("img",{src:r.getIllustrationPath("simon-2"),style:t.mobileIllustrationStyle}))))},r.renderMobileProfileType=function(e,n){return c.createElement(D.default,{type:D.default.OverflowType.Y,style:r.getMobileScrollerWithIllustrationStyle(),key:"profile-type"},c.createElement("div",{style:t.mobileWrapWithIllustrationStyle},c.createElement("div",{style:{marginBottom:20}},"What will you use ",c.createElement("b",null,"Notion")," for?"),be.userTypes.map(function(t,o){return c.createElement(Pe.default,{key:o,style:{width:"100%",marginBottom:12},onClick:function(){r.handleMobileTypeClick(e,n,t).catch(r.handleError)}},be.userTypeDisplayNames[t])}),c.createElement("div",{style:r.getMobileIllustrationWrapStyle()},c.createElement("img",{src:r.getIllustrationPath("simon-3"),style:t.mobileIllustrationStyle}))))},r.renderMobileProfileUseCase=function(e,n){return c.createElement(D.default,{type:D.default.OverflowType.Y,style:r.getMobileScrollerWithIllustrationStyle(),key:"profile-use-case"},c.createElement("div",{style:t.mobileWrapWithIllustrationStyle},c.createElement("div",{style:{marginBottom:20}},"What will you use ",c.createElement("b",null,"Notion")," for?"),be.userUseCases.map(function(t,o){return c.createElement(Pe.default,{key:o,style:{width:"100%",marginBottom:12},onClick:function(){r.handleMobileUseCaseClick(e,n,t).catch(r.handleError)}},be.userUseCaseDisplayNames[t])}),c.createElement("div",{style:r.getMobileIllustrationWrapStyle()},c.createElement("img",{src:r.getIllustrationPath("simon-3"),style:t.mobileIllustrationStyle}))))},r.renderMobileWorkspace=function(e,n){var o=r.getJoinableSpacesResults(e,n),i=o.length,l=o.length>0&&!n.creatingSpace;return c.createElement(D.default,{type:D.default.OverflowType.Y,style:l?r.getMobileScrollerWithIllustrationStyle():r.getMobileScrollerStyle(),key:"workspace"},(!l&&o.length>0||n.isCreateOrJoinMenu)&&c.createElement(xe.default,{isGray:!0,onClick:function(){if(n.isCreateOrJoinMenu&&(l||0===o.length)){var e=me.getLastVisitedRouteUrl();e&&pe.navigate({url:e})}else U.default.setState(a({},U.default.state,{creatingSpace:!1}))}},"← Go Back"),c.createElement("div",{style:l?t.mobileWrapWithIllustrationStyle:t.mobileWrapStyle},l&&c.createElement("div",{style:{marginBottom:20}},"Looks like you are already a part of"," ",c.createElement("b",null,i," workspace",i>1?"s":""),", let's join one!"),l&&r.renderWorkspaceJoinSpaces(e,n),!l&&0===o.length&&c.createElement("div",{style:{marginTop:20}},"You can use Notion ",c.createElement("b",null,"by yourself or with a team.")),!l&&r.renderCreateSpaceForm(e,n),!l&&c.createElement(Pe.default,{disabled:n.isLoading,style:{width:"100%",marginTop:20},onClick:function(){return r.handleMobileWorkspaceDoneClick(e,n).catch(r.handleError)}},n.isLoading&&c.createElement(x.default,{style:{marginRight:6}}),"Create Workspace"),l&&c.createElement("div",{style:r.getMobileIllustrationWrapStyle()},c.createElement("img",{src:r.getIllustrationPath("simon-4"),style:t.mobileIllustrationStyle}))))},r.renderMobileEditor=function(e,n){return c.createElement(D.default,{type:D.default.OverflowType.Y,style:r.getMobileScrollerStyle(),key:"mobile-editor"},c.createElement("div",{style:t.mobileWrapStyle},r.renderMobileTutorialIllustration(),c.createElement("div",null,c.createElement("div",null,"Some essential tips:"),c.createElement("div",null,c.createElement("b",null,"Touch and hold")," to reorder any content.")),c.createElement(g.default,{style:t.mobileTutorialStepStyle},"Tip 1 of 4"),c.createElement(Pe.default,{style:{width:"100%"},onClick:function(){return r.goToNextStage(e,n).catch(r.handleError)}},"Next"),c.createElement(b.default,{format:b.default.Format.IPhone,style:t.mobileChromeStyle},c.createElement("img",{src:we.default.tutorial.mobileEditorGif,style:{width:"100%"}}))))},r.renderMobileOffline=function(e,n){return c.createElement(D.default,{type:D.default.OverflowType.Y,style:r.getMobileScrollerStyle(),key:"mobile-offline"},c.createElement("div",{style:t.mobileWrapStyle},r.renderMobileTutorialIllustration(),c.createElement("div",null,c.createElement("b",null,"Work offline"),"? Pages you visit online are downloaded for access on the go."),c.createElement(g.default,{style:t.mobileTutorialStepStyle},"Tip 2 of 4"),c.createElement(Pe.default,{style:{width:"100%"},onClick:function(){return r.goToNextStage(e,n).catch(r.handleError)}},"Next"),c.createElement(b.default,{format:b.default.Format.IPhone,style:t.mobileChromeStyle},c.createElement("img",{src:we.default.tutorial.mobileOfflineJpg,style:{width:"100%"}}))))},r.renderMobileSync=function(e,n){return c.createElement(D.default,{type:D.default.OverflowType.Y,style:r.getMobileScrollerStyle(),key:"mobile-sync"},c.createElement("div",{style:t.mobileWrapStyle},r.renderMobileTutorialIllustration(),c.createElement("div",null,"Notion also works on ",c.createElement("b",null,"Mac"),", ",c.createElement("b",null,"Windows"),", and in the"," ",c.createElement("b",null,"browser"),"! Everything will stay in sync across your devices."),c.createElement(g.default,{style:t.mobileTutorialStepStyle},"Tip 3 of 4"),c.createElement(Pe.default,{disabled:n.isLoading,style:{width:"100%"},onClick:function(){return r.goToNextStage(e,n).catch(r.handleError)}},n.isLoading&&c.createElement(x.default,{style:{marginRight:6}}),"Next"),c.createElement("div",{style:{marginTop:32,position:"relative"}},c.createElement("div",{style:{position:"absolute",top:0,left:0,width:"70%"}},c.createElement(g.default,{style:{marginBottom:12}},"Browser"),c.createElement("img",{src:we.default.tutorial.mobileSyncSafariPng,style:{width:"100%",boxShadow:"\n\t\t\t\t\t\t\t\t\t\t0 10px 20px "+r.theme.regularDividerColor+",\n\t\t\t\t\t\t\t\t\t\t0 -1px 0 "+r.theme.regularDividerColor+"\n\t\t\t\t\t\t\t\t\t",borderRadius:3}})),c.createElement("div",{style:{position:"absolute",top:0,left:"30%",width:"70%"}},c.createElement(g.default,{style:{marginBottom:12}},"Mac & Windows App"),c.createElement("img",{src:we.default.tutorial.mobileSyncMacPng,style:{width:"100%",boxShadow:"\n\t\t\t\t\t\t\t\t\t\t0 10px 20px "+r.theme.regularDividerColor+",\n\t\t\t\t\t\t\t\t\t\t0 -1px 0 "+r.theme.regularDividerColor+"\n\t\t\t\t\t\t\t\t\t",borderRadius:3}})))))},r.renderMobileShareSheet=function(e,n){return c.createElement(D.default,{type:D.default.OverflowType.Y,style:r.getMobileScrollerStyle(),key:"mobile-offline"},c.createElement("div",{style:t.mobileWrapStyle},r.renderMobileTutorialIllustration(),c.createElement("div",null,c.createElement("b",null,"Last but not least.")," You can save web pages or local files into Notion. Just tap the share button and pick a page or database to save to."),c.createElement(g.default,{style:t.mobileTutorialStepStyle},"Tip 4 of 4"),c.createElement(Pe.default,{style:{width:"100%"},onClick:function(){return r.goToNextStage(e,n).catch(r.handleError)}},"Done"),c.createElement(b.default,{format:h.default.isAndroid?b.default.Format.Android:b.default.Format.IPhone,style:t.mobileChromeStyle},c.createElement("img",{src:h.default.isAndroid?we.default.tutorial.mobileShareSheetAndroidPng:we.default.tutorial.mobileShareSheetIosPng,style:{width:"100%"}}))))},r.renderMobileGDPR=function(e,n){return c.createElement(D.default,{type:D.default.OverflowType.Y,style:r.getMobileScrollerWithIllustrationStyle(),key:"mobile-gdpr"},c.createElement("div",{style:t.mobileWrapWithIllustrationStyle},r.renderGDPRConsentInfo(),c.createElement(Pe.default,{style:{width:"100%",marginTop:20},onClick:ie.logout},"Disagree"),c.createElement(Ee.default,{style:{width:"100%",marginTop:20,height:42},onClick:function(){te.trackGDPRConsent(r.getOnboardingAnalyticsData(n)),r.goToNextStage(e,n).catch(r.handleError)}},"Agree"),c.createElement("div",{style:a({},r.getMobileIllustrationWrapStyle(),{left:-40})},c.createElement("img",{src:r.getIllustrationPath("simon-1"),style:t.mobileIllustrationStyle}))))},r.stageRenderers={desktop_profile:r.renderDesktopProfile,desktop_workspace:r.renderDesktopWorkspace,desktop_import:r.renderDesktopImport,desktop_download:r.renderDesktopDownload,desktop_gdpr:r.renderDesktopGDPR,mobile_profile_name:r.renderMobileProfileName,mobile_profile_source:r.renderMobileProfileSource,mobile_profile_source_other:r.renderMobileProfileSourceOther,mobile_profile_persona:r.renderMobileProfilePersona,mobile_profile_persona_other:r.renderMobileProfilePersonaOther,mobile_profile_type:r.renderMobileProfileType,mobile_profile_use_case:r.renderMobileProfileUseCase,mobile_workspace:r.renderMobileWorkspace,mobile_editor:r.renderMobileEditor,mobile_offline:r.renderMobileOffline,mobile_sync:r.renderMobileSync,mobile_share_sheet:r.renderMobileShareSheet,mobile_gdpr:r.renderMobileGDPR},r.handleUploadProfilePhoto=function(e){ge.openFilePickerAndUpload({bucket:"public",onStart:r.handleProfileUploadStart,onError:r.handleProfileUploadError,onComplete:function(t){return r.handleProfileUploadComplete(e,t)},accept:"image/*"})},r.handleProfileNextClick=function(e,t){return i(r,void 0,void 0,function(){var r,n,o,a,i,s,u,c,d,p,f,h,m,y,g,v,b,w;return l(this,function(l){switch(l.label){case 0:if(r=this.getCurrentProfileFormData(e,t),n=r.profilePhoto,o=r.givenName,a=r.familyName,i=r.userPersona,s=r.userType,u=r.userUseCase,c=r.userSource,d=r.otherSourceIsSelected,p=r.otherSourceInputValue,f=r.otherPersonaInputValue,h=r.otherPersonaIsSelected,!o||!a)throw new Error("Please fill in your name.");if(y=d?p:c,!(m=h?f:i)||!u||!be.useCaseIsPersonal(u)&&!s||!y)throw new Error("Please answer each question.");return g=ye.create(),v={given_name:o,family_name:a,profile_photo:n},ce.updateValue({store:e.userStore,data:v,transaction:g}),b={persona:m,type:s,use_case:u,source:y},De.updateUserSettings({userSettingsStore:e.userSettingsStore,data:b,transaction:g}),[4,ye.commit({transaction:g})];case 1:return l.sent(),[4,this.attemptActivateReferral(e)];case 2:return l.sent(),w=ye.create(),le.setOnboardingCompleted({userStore:e.userStore,transaction:w}),[4,ye.commit({transaction:w})];case 3:return l.sent(),[4,this.goToNextStage(e,t)];case 4:return l.sent(),[2]}})})},r.handleJoinSpaceClick=function(e,t,n){return i(r,void 0,void 0,function(){var r,o;return l(this,function(i){switch(i.label){case 0:ae.display({message:"Joining workspace..."}),i.label=1;case 1:return i.trys.push([1,6,,7]),[4,he.joinSpace({spaceId:e,userRootStore:t.userRootStore,navigate:!1,analyticsFrom:"onboarding",userSettingsStore:t.userSettingsStore})];case 2:return r=i.sent().spaceViewStore,U.default.setState(a({},U.default.state,{spaceStore:new W.default(e),spaceViewStore:r})),h.default.isMobile?[4,this.goToNextStage(t,n)]:[3,4];case 3:return i.sent(),[3,5];case 4:le.goToOnboardingStage("desktop_download"),i.label=5;case 5:return te.trackOnboardingJoinSpace(this.getOnboardingAnalyticsData(n)),ae.close(),[3,7];case 6:throw o=i.sent(),ae.close(),o;case 7:return[2]}})})},r.handleWorkspaceFormCreateClick=function(e,t){return i(r,void 0,void 0,function(){var r,n,o,i,s,u,c;return l(this,function(l){switch(l.label){case 0:if(r=this.getCurrentSpaceFormData(e,t),n=r.spaceName,o=r.spaceDomain,i=r.spaceEmailDomains,!n)throw new Error("Please fill in the Workspace Name.");return U.default.setState(a({},U.default.state,{isLoading:!0})),[4,he.createSpace({name:n,domain:o,emailDomains:i,userRootStore:e.userRootStore,analyticsFrom:"onboarding"})];case 1:return s=l.sent(),u=s.spaceViewStore,c=s.spaceStore,U.default.setState(a({},U.default.state,{spaceStore:c,spaceViewStore:u,createdSpace:!0})),te.trackOnboardingCreateSpace(this.getOnboardingAnalyticsData(t)),[4,this.goToNextStage(e,t)];case 2:return l.sent(),[2]}})})},r.handleDownloadDoneClick=function(e,t){return i(r,void 0,void 0,function(){return l(this,function(r){switch(r.label){case 0:return[4,this.goToNextStage(e,t)];case 1:return r.sent(),[2]}})})},r.handleMobileProfileNameNextClick=function(e,t){return i(r,void 0,void 0,function(){var r,n,o,a,i,s;return l(this,function(l){switch(l.label){case 0:return r=this.getCurrentProfileFormData(e,t),n=r.profilePhoto,o=r.givenName,a=r.familyName,o&&a?(i=ye.create(),ce.updateValue({store:e.userStore,data:{given_name:o,family_name:a,profile_photo:n},transaction:i}),[4,ye.commit({transaction:i})]):[3,5];case 1:return l.sent(),[4,this.attemptActivateReferral(e)];case 2:return l.sent(),s=ye.create(),le.setOnboardingCompleted({userStore:e.userStore,transaction:s}),[4,ye.commit({transaction:s})];case 3:return l.sent(),[4,this.goToNextStage(e,t)];case 4:return l.sent(),[3,6];case 5:throw new Error("Please fill in your name.");case 6:return[2]}})})},r.handleMobileSourceClick=function(e,t,n){return i(r,void 0,void 0,function(){var r,o,i,s,u,c;return l(this,function(l){switch(l.label){case 0:return U.default.setState(a({},U.default.state,{userSource:n})),r=ye.create(),ce.updateValue({store:e.userSettingsStore.getSettingsStore(),data:{source:n},transaction:r}),o=r.awaitDone(),ye.commit({transaction:r}),[4,o];case 1:return l.sent(),be.userSources.includes(n)?(i=t.currentStage,s=t.flow,u=s.getSteps(),c=u[u.indexOf(i)+2],le.goToOnboardingStage(c),[3,4]):[3,2];case 2:return[4,this.goToNextStage(e,t)];case 3:l.sent(),l.label=4;case 4:return[2]}})})},r.handleMobilePersonaClick=function(e,t,n){return i(r,void 0,void 0,function(){var r,o,i,s,u,c;return l(this,function(l){switch(l.label){case 0:return U.default.setState(a({},U.default.state,{userPersona:n})),r=ye.create(),ce.updateValue({store:e.userSettingsStore.getSettingsStore(),data:{persona:n},transaction:r}),o=r.awaitDone(),ye.commit({transaction:r}),[4,o];case 1:return l.sent(),be.userPersonas.includes(n)?(i=t.currentStage,s=t.flow,u=s.getSteps(),c=u[u.indexOf(i)+2],le.goToOnboardingStage(c),[3,4]):[3,2];case 2:return[4,this.goToNextStage(e,t)];case 3:l.sent(),l.label=4;case 4:return[2]}})})},r.handleMobileSourceOtherClick=function(e,t){return i(r,void 0,void 0,function(){var r,n,o;return l(this,function(a){switch(a.label){case 0:if(!(r=t.otherSourceInputValue))throw new Error("Please fill in how you found out about Notion.");return n=ye.create(),ce.updateValue({store:e.userSettingsStore.getSettingsStore(),data:{source:r},transaction:n}),o=n.awaitDone(),ye.commit({transaction:n}),[4,o];case 1:return a.sent(),[4,this.goToNextStage(e,t)];case 2:return a.sent(),[2]}})})},r.handleMobilePersonaOtherClick=function(e,t){return i(r,void 0,void 0,function(){var r,n,o;return l(this,function(a){switch(a.label){case 0:if(!(r=t.otherPersonaInputValue))throw new Error("Please fill in your role.");return n=ye.create(),ce.updateValue({store:e.userSettingsStore.getSettingsStore(),data:{persona:r},transaction:n}),o=n.awaitDone(),ye.commit({transaction:n}),[4,o];case 1:return a.sent(),[4,this.goToNextStage(e,t)];case 2:return a.sent(),[2]}})})},r.handleMobileTypeClick=function(e,t,n){return i(r,void 0,void 0,function(){var r,o;return l(this,function(i){switch(i.label){case 0:return U.default.setState(a({},U.default.state,{userType:n})),r=ye.create(),ce.updateValue({store:e.userSettingsStore.getSettingsStore(),data:{type:n},transaction:r}),o=r.awaitDone(),ye.commit({transaction:r}),[4,o];case 1:return i.sent(),[4,this.goToNextStage(e,t)];case 2:return i.sent(),[2]}})})},r.handleMobileUseCaseClick=function(e,t,n){return i(r,void 0,void 0,function(){var r,o,i,s,u,c;return l(this,function(l){switch(l.label){case 0:return U.default.setState(a({},U.default.state,{userUseCase:n})),r=ye.create(),ce.updateValue({store:e.userSettingsStore.getSettingsStore(),data:{use_case:n},transaction:r}),o=r.awaitDone(),ye.commit({transaction:r}),[4,o];case 1:return l.sent(),be.useCaseIsPersonal(n)?(i=t.currentStage,s=t.flow,u=s.getSteps(),c=u[u.indexOf(i)+2],le.goToOnboardingStage(c),[3,4]):[3,2];case 2:return[4,this.goToNextStage(e,t)];case 3:l.sent(),l.label=4;case 4:return[2]}})})},r.handleMobileWorkspaceDoneClick=function(e,t){return i(r,void 0,void 0,function(){var r,n,o,i,s,u,c;return l(this,function(l){switch(l.label){case 0:if(r=this.getCurrentSpaceFormData(e,t),n=r.spaceName,o=r.spaceDomain,i=r.spaceEmailDomains,U.default.setState(a({},U.default.state,{isLoading:!0})),n)return[3,1];throw new Error("Please fill in the Workspace Name.");case 1:return[4,he.createSpace({name:n,domain:o,emailDomains:i,userRootStore:e.userRootStore,analyticsFrom:"onboarding"})];case 2:return s=l.sent(),u=s.spaceViewStore,c=s.spaceStore,U.default.setState(a({},U.default.state,{spaceStore:c,spaceViewStore:u})),t=U.default.state,te.trackOnboardingCreateSpace(this.getOnboardingAnalyticsData(t)),[4,this.goToNextStage(e,t)];case 3:l.sent(),l.label=4;case 4:return[2]}})})},r.handleImportComplete=function(e,t){return i(r,void 0,void 0,function(){return l(this,function(r){switch(r.label){case 0:return[4,this.handleImportNextClick(e,t)];case 1:return r.sent(),[2]}})})},r.handleImportNextClick=function(e,t){return i(r,void 0,void 0,function(){return l(this,function(r){switch(r.label){case 0:return[4,this.goToNextStage(e,t)];case 1:return r.sent(),[2]}})})},r.handleProfileUploadStart=function(){U.default.setState(a({},U.default.state,{uploadingProfilePhoto:!0}))},r.handleProfileUploadError=function(){U.default.setState(a({},U.default.state,{uploadingProfilePhoto:!1})),oe.showError({error:new Error("Upload failed.")})},r.handleProfileUploadComplete=function(e,t){te.trackOnboardingUploadProfilePhoto(r.getOnboardingAnalyticsData(e)),U.default.setState(a({},U.default.state,{profilePhoto:t[0],uploadingProfilePhoto:!1}))},r.handleError=function(e){U.default.setState(a({},U.default.state,{isLoading:!1})),oe.showError({error:e})},r.handleOtherSourceInputChange=function(e){U.default.setState(a({},U.default.state,{otherSourceInputValue:e.target.value}))},r.handleOtherPersonaInputChange=function(e){U.default.setState(a({},U.default.state,{otherPersonaInputValue:e.target.value}))},r.loadOnboardingData=function(e){return i(r,void 0,void 0,function(){var t,r,n,o,a,i,s,u,c,d,p,f,h,m,y,g,v,b;return l(this,function(l){switch(l.label){case 0:return[4,ve.loadUserContent().next()];case 1:return l.sent(),[4,re.getJoinableSpaces({})];case 2:return t=l.sent(),r=me.getLastVisitedRoute(),n=me.getLastVisitedRouteUrl(),o=me.getForkPageTemplate(),a=Z.default.state.userId,i="success"===t.type?t.data:{results:[]},a?(s=new G.default(a),u=new q.default(a),c=new H.default(a),d=c.getSpaceViewStores(),p=d[0],f=p?p.getSpaceStore():void 0,[4,s.load()]):[3,9];case 3:return l.sent(),h=s.getValue(),m=!!h&&Boolean(h.onboarding_completed),!r||e.isCreateOrJoinMenu?[3,8]:[4,ue.loadPublicPageData({request:r}).next()];case 4:return y=l.sent(),g=y.value,v=void 0,"page"!==r.name?[3,6]:[4,(b=V.default.createChildStore(c,r.blockId)).load()];case 5:return l.sent(),v=b.canRead(),[3,7];case 6:v=!1,l.label=7;case 7:return[2,{userStore:s,userSettingsStore:u,userRootStore:c,firstSpace:f,firstSpaceView:p,redirectSpaceId:g&&g.spaceId,canJoinRedirectSpace:g&&g.canJoinSpace,redirectUrl:n,forkPageBlockId:o,redirectPageId:"page"===r.name?r.blockId:void 0,canAccessRedirectPage:v,joinableSpaceData:i,onboardingCompleted:m}];case 8:return[2,{userStore:s,userSettingsStore:u,userRootStore:c,firstSpace:f,firstSpaceView:p,joinableSpaceData:i,onboardingCompleted:m}];case 9:return[2]}})})},r}return o(t,e),t.prototype.willMount=function(){return i(this,void 0,void 0,function(){var e,t;return l(this,function(r){switch(r.label){case 0:return e=U.default.state,te.trackOnboardingShow(this.getOnboardingAnalyticsData(e)),te.trackOnboardingStage(this.getOnboardingAnalyticsData(e)),t=this,[4,this.loadOnboardingData(e)];case 1:return t.onboardingData=r.sent(),this.enqueueForceUpdate(),[2]}})})},t.prototype.willMountOrUpdate=function(){return i(this,void 0,void 0,function(){return l(this,function(e){return this.onboardingData&&(this.onboardingData.userStore.getValue(),this.onboardingData.userSettingsStore.getValue(),this.onboardingData.userRootStore.getValue(),this.onboardingData.firstSpace&&this.onboardingData.firstSpace.getValue(),this.onboardingData.firstSpaceView&&this.onboardingData.firstSpaceView.getValue()),[2]})})},t.prototype.renderComponent=function(){var e=this,t=Z.default.state.userId,r=U.default.state;if(t&&this.onboardingData){var n=this.onboardingData;return r.spaceStore&&r.spaceStore.getValue(),r.spaceViewStore&&r.spaceViewStore.getValue(),c.createElement(S.default,{capture:!0,render:function(t){return c.createElement("div",a({},t),e.stageRenderers[r.currentStage](n,r),c.createElement(m.default,null))}})}},t.prototype.renderUserSourceSelect=function(e){return c.createElement(d.Fragment,null,this.shuffledSources.map(function(t){return c.createElement(xe.default,{key:t,isLarge:!0,disabled:e===t,style:{width:220},onClick:function(){U.default.setState(a({},U.default.state,{userSource:t,otherSourceIsSelected:!1}))}},c.createElement(Te.default,{isSelected:e===t}),be.userSourceDisplayNames[t])}))},t.prototype.renderUserPersonaSelect=function(e){return c.createElement(d.Fragment,null,this.shuffledPersonas.map(function(t){return c.createElement(xe.default,{key:t,isLarge:!0,disabled:e===t,style:{width:220},onClick:function(){U.default.setState(a({},U.default.state,{userPersona:t,otherPersonaIsSelected:!1}))}},c.createElement(Te.default,{isSelected:e===t}),be.userPersonaDisplayNames[t])}))},t.prototype.renderUserUseCaseSelect=function(e){return c.createElement(d.Fragment,null,be.userUseCases.map(function(t,r){return c.createElement(xe.default,{key:r,isLarge:!0,disabled:e===t,style:{width:260},onClick:function(){U.default.setState(a({},U.default.state,{userUseCase:t}))}},c.createElement(Te.default,{isSelected:e===t}),be.userUseCaseDisplayNames[t])}))},t.prototype.renderUserTypeSelect=function(e){return c.createElement(d.Fragment,null,be.userTypes.map(function(t,r){return c.createElement(xe.default,{key:r,isLarge:!0,disabled:e===t,style:{width:220},onClick:function(){U.default.setState(a({},U.default.state,{userType:t}))}},c.createElement(Te.default,{isSelected:e===t}),be.userTypeDisplayNames[t])}))},t.prototype.renderMobileTutorialIllustration=function(){return c.createElement("img",{src:this.getIllustrationPath("simon-half"),style:{width:100,height:100,marginBottom:8}})},t.prototype.renderGDPRConsentInfo=function(){return c.createElement(d.Fragment,null,c.createElement("div",null,"We use cookies to securely identify your account, keep you signed in, and improve our services for you."),c.createElement("div",{style:{marginTop:8}},"We use analytics services to improve the product and troubleshoot customer issues. These include"," ",c.createElement(P.default,{underline:!0,external:!0,inline:!0,href:"https://www.intercom.com/"},"Intercom"),","," ",c.createElement(P.default,{underline:!0,external:!0,inline:!0,href:"https://amplitude.com/"},"Amplitude"),","," ",c.createElement(P.default,{underline:!0,external:!0,inline:!0,href:"https://analytics.google.com/analytics/web/"},"Google Analytics"),","," ",c.createElement(P.default,{underline:!0,external:!0,inline:!0,href:"https://fabric.io/kits/ios/crashlytics"},"Crashlytics"),", and"," ",c.createElement(P.default,{underline:!0,external:!0,inline:!0,href:"https://www.loggly.com/"},"Loggly"),"."),c.createElement("div",{style:{marginTop:8}},"We may send you occasional product update and marketing emails. You may unsubscribe from these emails at any time."),c.createElement("div",{style:{marginTop:8}},"You may withdraw any of your consents above by emailing"," ",c.createElement(P.default,{underline:!0,inline:!0,href:"mailto:team@makenotion.com",external:!0},"team@makenotion.com"),"."),c.createElement("div",{style:{marginTop:8}},"Please read our"," ",c.createElement(P.default,{underline:!0,external:!0,inline:!0,href:fe.termsAndPrivacy},"Terms of Service & Privacy Policy")," ","for more information."))},t.prototype.renderWorkspaceJoinSpaces=function(e,t){var r=this,n=this.getJoinableSpacesResults(e,t);return c.createElement("div",null,c.createElement("div",null,n.map(function(n){var o=n.id,a=n.name;return c.createElement(Pe.default,{key:o,style:{width:"100%",marginBottom:10},onClick:function(){r.handleJoinSpaceClick(o,e,t).catch(r.handleError)}},Se.default.team({width:14,marginRight:6}),c.createElement("div",null,"Join ",c.createElement("b",null,a)),Se.default.chevronRight({marginLeft:"auto",width:15}))})),!t.creatingSpace&&c.createElement(g.default,{style:{marginTop:12}},"You can also"," ",c.createElement(C.default,{onClick:function(){return U.default.setState(a({},U.default.state,{creatingSpace:!0}))}},"create a new Workspace")))},t.prototype.renderCreateSpaceForm=function(e,t){var r=this,n=this.getCurrentSpaceFormData(e,t),o=n.spaceName,i=n.spaceDomain,l=n.spaceEmailDomains;return c.createElement("div",null,c.createElement("div",{style:this.getFormLabelStyle()},"Workspace Name"),c.createElement(E.default,{autoFocus:!0,value:o,placeholder:"E.g. CompanyName",onChange:function(e){var n=e.target.value;U.default.setState(a({},U.default.state,{spaceName:n})),te.trackOnboardingUpdateSpaceName(a({},r.getOnboardingAnalyticsData(t),{name:n}))},style:this.getInputStyle()}),c.createElement(g.default,{hasMarginTop:!0},R.default.renderNameCaption()),c.createElement("div",{style:this.getFormLabelStyle()},"Workspace URL (Optional)"),c.createElement("div",{style:{display:"flex",alignItems:"center"}},c.createElement("span",{style:{marginRight:6,whiteSpace:"nowrap"}},window.location.host,"/"),c.createElement(E.default,{value:i,placeholder:"URL",onChange:function(e){var n=he.validateSpaceDomain(e.target.value);U.default.setState(a({},U.default.state,{spaceDomain:n})),te.trackOnboardingUpdateSpaceUrl(a({},r.getOnboardingAnalyticsData(t),{url:n}))},style:this.getInputStyle()})),c.createElement(g.default,{hasMarginTop:!0},R.default.renderDomainCaption(i,!0,this.theme)),c.createElement("div",{style:this.getFormLabelStyle()},"Allowed Email Domains"," ",c.createElement("span",{style:{color:this.theme.lightTextColor}},"(Optional)")),this.renderEmailDomains(t,l),c.createElement(g.default,{hasMarginTop:!0},R.default.renderAllowEmailDomainsCaption()))},t.prototype.renderEmailDomains=function(e,t){var r=this,n=t.map(function(n){return c.createElement(B.default,{showRemoveButton:!0,isSingle:!1,format:B.default.Format.Medium,key:n,onClickRemove:function(){var o=t.filter(function(e){return e!==n});U.default.setState(a({},U.default.state,{spaceEmailDomains:o})),te.trackOnboardingUpdateSpaceEmailDomains(a({},r.getOnboardingAnalyticsData(e),{count:o.length}))},value:n})}),o=function(){var n=t.slice(0,t.length-1);U.default.setState(a({},U.default.state,{spaceEmailDomains:n})),te.trackOnboardingUpdateSpaceEmailDomains(a({},r.getOnboardingAnalyticsData(e),{count:n.length}))},i=function(){var n=r.stores.tokenQuery.get().trim();if(Oe.validateEmail("x@"+n)&&Q.default("x@"+n)){var o=u(t,[n]);U.default.setState(a({},U.default.state,{spaceEmailDomains:o})),te.trackOnboardingUpdateSpaceEmailDomains(a({},r.getOnboardingAnalyticsData(e),{count:o.length})),r.stores.tokenQuery.set("")}};return h.default.isMobile?c.createElement(j.default,{placeholder:"Type an email domain...",value:this.stores.tokenQuery.get(),onChange:function(e){return r.stores.tokenQuery.set(e.target.value)},onRemoveLastToken:o,tokens:n,onSubmit:i,onBlur:i,style:a({},this.getInputStyle(),{paddingTop:12})}):c.createElement(I.default,{popupType:h.default.isMobile?I.default.PopupType.SlideUp:I.default.PopupType.Popup,open:this.stores.tokenQuery.get().length>0,sameWidthAsOrigin:!0,disableMouseCapture:!0,origin:c.createElement(j.default,{placeholder:"Type an email domain...",value:this.stores.tokenQuery.get(),onChange:function(e){return r.stores.tokenQuery.set(e.target.value)},onRemoveLastToken:o,tokens:n,style:this.getInputStyle()}),render:function(){var e=r.stores.tokenQuery.get().trim(),t=Boolean(e&&Oe.validateEmail("x@"+e)&&Q.default("x@"+e)),n=[];if(t)return n.push({key:0,render:function(t){return c.createElement(y.default,a({},t,{title:e}))},action:i}),c.createElement(T.default,{menuType:T.default.MenuType.Popup},c.createElement(O.default,{initialFocus:0,sections:[{key:0,render:function(e){return c.createElement(L.default,a({},e,{disableDesktopPadding:!0,title:"Type an email domain..."}))},items:n}]}))}})},t.prototype.attemptActivateReferral=function(e){return i(this,void 0,void 0,function(){var t,r;return l(this,function(n){switch(n.label){case 0:return e.onboardingCompleted?[3,2]:(t=me.getReferralUserId(),[4,re.activateReferral({fromUserId:t})]);case 1:r=n.sent(),me.setReferralUserId(void 0),200===r.status&&te.trackActivateReferral(),n.label=2;case 2:return[2]}})})},t.prototype.getIllustrationPath=function(e){return"\n\t\t\t/tutorial/"+e+("dark"===z.default.state.mode?"-dark":"")+".png\n\t\t"},t.prototype.goToNextStage=function(e,t){return i(this,void 0,void 0,function(){var r,n,o,i;return l(this,function(l){switch(l.label){case 0:return U.default.setState(a({},U.default.state,{isLoading:!1})),r=t.currentStage,n=t.flow,o=n.getSteps(),(i=o[o.indexOf(r)+1])?(le.goToOnboardingStage(i),[3,3]):[3,1];case 1:return[4,this.closeAndPerformRedirect(e,t)];case 2:l.sent(),l.label=3;case 3:return[2]}})})},t.prototype.closeAndPerformRedirect=function(e,t){return i(this,void 0,void 0,function(){var r,n,o,i,s,u=this;return l(this,function(l){switch(l.label){case 0:return U.default.setState(a({},U.default.state,{isLoading:!0})),h.default.isMobile&&ye.createAndCommit(function(t){le.setMobileOnboardingCompleted({userStore:e.userStore,transaction:t})}),K.default.setState({isOpen:!1,shouldOpen:!0}),t.spaceStore&&t.spaceViewStore?[4,this.closeAndRedirectToSpace(e,t,t.spaceStore,t.spaceViewStore)]:[3,2];case 1:return l.sent(),[3,11];case 2:if(!e.forkPageBlockId)return[3,3];if(r=V.default.createChildStore(e.userRootStore,e.forkPageBlockId),1===(n=Ie.getUserMemberOrAdminSpaceViewStores(e.userRootStore)).length){if(o=n[0],!(i=o.getSpaceStore()))return[2];me.setForkPageTemplate(void 0),Me.forkPageWithLoadingAndNavigate({store:r,spaceStore:i,spaceViewStore:o,isPrivate:!0})}else me.setForkPageTemplate(void 0),pe.navigateToBlock({store:r});return[3,11];case 3:return e.redirectSpaceId&&(e.canJoinRedirectSpace||e.canAccessRedirectPage)?[4,he.joinSpace({spaceId:e.redirectSpaceId,userRootStore:e.userRootStore,navigate:!1,analyticsFrom:"onboarding",userSettingsStore:e.userSettingsStore})]:[3,8];case 4:return s=l.sent(),e.redirectUrl&&e.redirectPageId?[4,de.fetchRemoteRecord({table:"block",id:e.redirectPageId,recordCacheStore:F.default})]:[3,6];case 5:l.sent(),l.label=6;case 6:return[4,this.closeAndRedirectToSpace(e,t,new W.default(e.redirectSpaceId),s.spaceViewStore)];case 7:return l.sent(),[3,11];case 8:return e.firstSpace&&e.firstSpaceView?[4,this.closeAndRedirectToSpace(e,t,e.firstSpace,e.firstSpaceView)]:[3,10];case 9:return l.sent(),[3,11];case 10:if(!e.redirectUrl)throw new Error("No action to perform.");this.closeAndRedirectToUrl(e.redirectUrl),l.label=11;case 11:return Ae.default.afterNextFlush(function(){te.trackOnboardingComplete(u.getOnboardingAnalyticsData(t))}),[2]}})})},t.prototype.closeAndRedirectToSpace=function(e,t,r,n){return i(this,void 0,void 0,function(){var o,i,s,u,c;return l(this,function(l){switch(l.label){case 0:return[4,Promise.all([r.load(),n.load()])];case 1:return l.sent(),o=r.getPagesStores(),[4,Promise.all(o.map(function(e){return e.load()}))];case 2:return l.sent(),i=me.getFrontPageTemplate(),s=$.allTemplateItems.find(function(e){return e.rootId===i}),r.canEdit()&&s?(c=this.getCurrentProfileFormData(e,t),[4,se.initialize({item:s,isPrivate:Boolean(c.userUseCase&&be.useCaseIsPersonal(c.userUseCase)),spaceStore:r,spaceViewStore:n})]):[3,4];case 3:l.sent(),me.setFrontPageTemplate(void 0),l.label=4;case 4:return r.canEdit()&&e.forkPageBlockId?(u=V.default.createChildStore(e.userRootStore,e.forkPageBlockId),c=this.getCurrentProfileFormData(e,t),me.setForkPageTemplate(void 0),[4,Me.forkPage({store:u,spaceStore:r,spaceViewStore:n,isPrivate:Boolean(c.userUseCase&&be.useCaseIsPersonal(c.userUseCase))})]):[3,6];case 5:l.sent(),l.label=6;case 6:return[4,he.navigateToSpace({spaceViewStore:n,redirectPageId:e.canJoinRedirectSpace?e.redirectPageId:void 0,userSettingsStore:e.userSettingsStore})];case 7:return l.sent(),ne.removeBanner({bannerStore:N.default,id:ge.uploadLimitBannerId}),U.default.setState(a({},U.default.state,{isLoading:!1})),[2]}})})},t.prototype.closeAndRedirectToUrl=function(e){return i(this,void 0,void 0,function(){return l(this,function(t){return pe.navigate({url:e}),U.default.setState(a({},U.default.state,{isLoading:!1})),[2]})})},t.prototype.getCurrentProfileFormData=function(e,t){var r,n,o,a=e.userStore.getValue(),i=t.otherSourceIsSelected,l=t.otherSourceInputValue,s=t.otherPersonaIsSelected,u=t.otherPersonaInputValue,c=t.userPersona,d=t.userSource,p=t.userType,f=t.userUseCase;return void 0!==t.givenName?r=t.givenName:a&&(r=a.given_name),void 0!==t.familyName?n=t.familyName:a&&(n=a.family_name),void 0!==t.profilePhoto?o=t.profilePhoto:a&&(o=a.profile_photo),{givenName:r,familyName:n,profilePhoto:o,userSource:d,userPersona:c,userType:p,userUseCase:f,otherSourceIsSelected:i,otherSourceInputValue:l,otherPersonaIsSelected:s,otherPersonaInputValue:u}},t.prototype.getCurrentSpaceFormData=function(e,t){var r,n,o,a=e.userStore.getValue();if(void 0!==t.spaceName?r=t.spaceName:a&&(r=ee.createSpaceNameFromUser(a)),n=void 0!==t.spaceDomain?t.spaceDomain:"",void 0!==t.spaceEmailDomains)o=t.spaceEmailDomains;else if(a&&Q.default(a.email)){var i=X.default(a.email);i&&(o=[i])}return{spaceName:r,spaceDomain:n,spaceEmailDomains:o||[]}},t.prototype.getJoinableSpacesResults=function(e,t){var r=e.userRootStore,n=e.joinableSpaceData.results,o=r.getSpaceViewStores().map(function(e){return e.getSpaceId()});return t.isCreateOrJoinMenu?n.filter(function(e){return o.indexOf(e.id)<0}):n},t.prototype.getOnboardingAnalyticsData=function(e){return{stage:e.currentStage,flow_name:e.flow.name,is_create_or_join:Boolean(e.isCreateOrJoinMenu)}},t.prototype.getMobileScrollerStyle=function(){return{width:"100vw",height:"100vh",paddingTop:J.default.calcPaddingTop(42),paddingLeft:J.default.calcPaddingLeft(32),paddingRight:J.default.calcPaddingRight(32),paddingBottom:64,background:this.theme.sidebarBackground}},t.prototype.getMobileScrollerWithIllustrationStyle=function(){return a({},this.getMobileScrollerStyle(),{paddingBottom:0})},t.prototype.getMobileIllustrationWrapStyle=function(){return{position:"absolute",overflow:"hidden",height:140,bottom:h.default.isIPhoneX?0:J.default.paddingBottom,left:-50}},t.prototype.getInputStyle=function(){return a({background:this.theme.onboardingInputBackground},h.default.isMobile&&{height:42})},t.prototype.getFormLabelStyle=function(){return{textTransform:"uppercase",fontSize:12,color:this.theme.mediumTextColor,letterSpacing:"0.05em",marginTop:20,marginBottom:4}},t.stores={tokenQuery:Y.default.of("")},t.mobileWrapStyle={maxWidth:360,fontSize:16,marginLeft:"auto",marginRight:"auto"},t.mobileWrapWithIllustrationStyle=a({},t.mobileWrapStyle,{minHeight:"100%",position:"relative",paddingBottom:160}),t.mobileIllustrationStyle={height:240},t.mobileChromeStyle={width:"100%",marginTop:28,marginBottom:32,maxWidth:320,borderRadius:42,marginLeft:"auto",marginRight:"auto"},t.mobileTutorialStepStyle={marginTop:8,marginBottom:8,textAlign:"left"},t}(f.default);t.default=Le},UCLG:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("l4I2"),i=r("6rsX"),l=r("X6Ne"),s=r("sjR4"),u=r("w5u6");t.indentSelection=function(e){var t=s.default.state.stores;if(t.length>0){var r=a.indent({blocks:t,transaction:e.transaction}).blocks;i.setSelection({stores:r})}},t.unindentSelection=function(e){var t=s.default.state.stores;if(t.length>0){var r=a.unindent({blocks:t,transaction:e.transaction}).blocks;i.setSelection({stores:r})}},t.moveUp=function(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return(t=a.moveUp({transaction:e.transaction,blocks:s.default.state.stores}))?(i.setSelection({stores:t}),[4,u.default.afterNextFlush()]):[2];case 1:return r.sent(),l.scrollToSelection(),[2]}})})},t.moveDown=function(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return(t=a.moveDown({transaction:e.transaction,blocks:s.default.state.stores}))?(i.setSelection({stores:t}),[4,u.default.afterNextFlush()]):[2];case 1:return r.sent(),l.scrollToSelection(),[2]}})})}},UJva:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("y6Dp"),s=r("H4VD"),u=r("sZEU"),c=r("A9TN"),d=r("r8oj"),p=r("i3uR"),f=r("t+pW"),h=r("mF3+"),m=r("Na01"),y=r("LeVO"),g=r("enKW"),v=r("AjLL"),b=r("ikHm"),w=r("nFzZ"),S=r("uSCg"),_=r("WgIs"),k=r("2Y+N"),C=r("SR/M"),E=r("gbGO"),P=r("bK/N"),x=r("MeYt"),T=r("qqdV"),O=r("HTHG"),M=r("cbKx"),I=r("qDOf"),A=r("De9r"),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderOrigin=function(e){return t.props.isMobile?i.createElement(x.default,a({hovered:M.default.state.open},e),i.createElement(m.default,{isMobile:t.props.isMobile,left:h.default.help({fill:t.theme.mediumIconColor,width:16,height:16}),disableMobileBorder:!0},"Help & Feedback")):i.createElement(y.default,{renderTooltip:function(){return i.createElement("span",null,"Help, Feedback, and",i.createElement("br",null),"Keyboard Shortcuts...")},render:function(r){return i.createElement(x.default,a({className:"notion-help-button",style:t.getRoundButtonStyle(),hoveredStyle:{background:t.theme.whiteButtonHoveredBackground},pressedStyle:{background:t.theme.whiteButtonPressedBackground}},S.default(e,r)),"?")}})},t.renderMessageItem=function(e){return d.default.isElectron?t.renderMessageButton(e):i.createElement(y.default,{key:e.key,renderTooltip:function(){return i.createElement("span",null,"We use Intercom for support messages.",i.createElement("br",null),"Make sure it's not blocked by your browser.")},delayThreshold:0,placement:y.default.Placement.Right,render:function(r){return t.renderMessageButton(S.default(e,r))}})},t.renderMessageButton=function(e){return i.createElement(C.default,a({},e,{title:i.createElement("span",null,"Message Us",i.createElement("span",{style:{fontSize:"120%",marginLeft:"0.5em"}},"👋"))}))},t.renderGuideItem=function(e){return i.createElement(C.default,a({},e,{title:i.createElement("span",null,"Guides & FAQs",i.createElement("span",{style:{fontSize:"120%",marginLeft:"0.5em"}},"✍️"))}))},t.renderJoinUsItem=function(e){return i.createElement(C.default,a({},e,{title:"Join Us"}))},t.renderKeyboardShortcutsItem=function(e){return i.createElement(C.default,a({},e,{title:"Keyboard Shortcuts"}))},t.renderNewsItem=function(e){return i.createElement(C.default,a({},e,{title:"What's New?"}))},t.renderTermsItem=function(e){return d.default.isMobile?i.createElement(C.default,a({},e,{title:"Terms & Privacy"})):i.createElement(C.default,a({},e,{caption:"Terms & Privacy"}))},t.renderTwitterItem=function(e){return d.default.isMobile?i.createElement(C.default,a({},e,{title:"Twitter – @NotionHQ"})):i.createElement(C.default,a({},e,{caption:"Twitter – @NotionHQ"}))},t.acceptMessageItem=function(){t.analyticsTrackClickItem("help_feedback"),u.openIntercomMessages({from:"help_button"}),t.closePopup()},t.acceptGuideItem=function(){t.analyticsTrackClickItem("guides"),s.navigateToExternalURL({url:T.guides.guides}),t.closePopup()},t.acceptKeyboardShortcutsItem=function(){t.analyticsTrackClickItem("keyboard_shortcuts"),s.navigateToExternalURL({url:T.guides.keyboardShortcuts}),t.closePopup()},t.acceptTwitterItem=function(){t.analyticsTrackClickItem("twitter"),s.navigateToExternalURL({url:T.notionTwitter}),t.closePopup()},t.acceptJoinUsItem=function(){t.analyticsTrackClickItem("join_us"),s.navigateToExternalURL({url:T.joinUs}),t.closePopup()},t.acceptNewsItem=function(){s.navigateToExternalURL({url:T.whatsNew}),t.analyticsTrackClickItem("whats_new"),t.closePopup()},t.acceptTermsItem=function(){s.navigateToExternalURL({url:T.termsAndPrivacy}),t.analyticsTrackClickItem("terms"),t.closePopup()},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props.isMobile;return i.createElement(p.default,{popupType:d.default.isMobile?p.default.PopupType.SlideUp:p.default.PopupType.Popup,renderOrigin:this.renderOrigin,originGap:t?0:12,placementToOrigin:t?p.default.Placement.Right:p.default.Placement.Top,alignmentToOrigin:t?p.default.Alignment.Center:p.default.Alignment.End,buttonPopupStore:M.default,onClick:this.trackClickHelp,render:function(){var t,r=e.getSections();return t=d.default.isMobile?{menuType:E.default.MenuType.ActionSheet}:{menuType:E.default.MenuType.Popup},i.createElement(E.default,a({},t),i.createElement(_.default,{initialFocus:void 0,sections:r}))}})},t.prototype.getSections=function(){return w.compact([{key:"guide",render:function(e){return i.createElement(k.default,a({},e))},items:w.compact([{key:"guide",action:this.acceptGuideItem,render:this.renderGuideItem},I.default.state.isIntercomEnabled?{key:"message",action:this.acceptMessageItem,render:this.renderMessageItem}:void 0])},{key:"middle section",render:function(e){return i.createElement(k.default,a({},e,{topBorder:!0}))},items:w.compact([{key:"keyboardshortcut",action:this.acceptKeyboardShortcutsItem,render:this.renderKeyboardShortcutsItem},{key:"news",action:this.acceptNewsItem,render:this.renderNewsItem},{key:"join-us",action:this.acceptJoinUsItem,render:this.renderJoinUsItem}])},{key:"botttom section",render:function(e){return i.createElement(k.default,a({},e,{desktopStyle:{paddingTop:0}}))},items:w.compact([{key:"terms",action:this.acceptTermsItem,render:this.renderTermsItem},{key:"twitter",action:this.acceptTwitterItem,render:this.renderTwitterItem},d.default.isElectron&&"production"!==c.default.env?{key:"devtools",action:P.openDevTools,render:function(e){return i.createElement(C.default,a({},e,{caption:"Open Dev Tools"}))}}:void 0])},{key:"version",render:function(e){return i.createElement(k.default,a({},e,{topBorder:!0}))},items:w.compact([{key:"version",action:function(){},render:function(e){return i.createElement(A.default,a({},e))}}])}])},t.prototype.trackClickHelp=function(){l.trackClickHelp()},t.prototype.analyticsTrackClickItem=function(e){l.trackClickHelpItem({item:e})},t.prototype.closePopup=function(){M.default.setState(a({},M.default.state,{open:!1}))},t.prototype.shouldFadeOut=function(){return O.shouldHideHelpButton()},t.prototype.getRoundButtonStyle=function(){return{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",background:this.theme.buttonBackground,bottom:16,right:16,width:36,height:36,borderRadius:"100%",fontSize:20,boxShadow:g.getShadow({elevation:2,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity}),zIndex:b.helpButton,opacity:this.shouldFadeOut()?0:1,transition:"\n\t\t\t\topacity "+v.default.transitionDuration+"ms,\n\t\t\t\tcolor "+v.default.transitionDuration+"ms\n\t\t\t"}},t}(f.default);t.default=D},UO8C:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,iconSvg:l.default.drive,mediaMenuCurrentTab:"embed",mediaMenuTabs:["embed"],mediaMenuEmbedCaption:"Works with Google Docs, Google Sheets ..."}),"Embed a file from Google Drive")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},USzg:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},l=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var s=r("LvDl"),u=r("q1tI"),c=r("WgIs"),d=r("2Y+N"),p=r("SR/M"),f=r("zTdN"),h=r("1BD/"),m=r("dXb3"),y=r("3DNc"),g=r("t+pW"),v=r("mjq6"),b=r("gbGO"),w=r("IwFn"),S=r("Ng05"),_=r("ZQ9l"),k=r("bxQm"),C=r("HnKe"),E=r("y6Dp"),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSelectAllClick=function(){var e,r,n,o,a=t.props,l=a.sections,s=a.analyticsName,u=t.stores.store,c=u.state.selection;try{for(var d=i(l),p=d.next();!p.done;p=d.next()){var f=p.value;try{for(var h=i(f.items),m=h.next();!m.done;m=h.next()){var y=m.value;c.add(y.key)}}catch(e){n={error:e}}finally{try{m&&!m.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}u.emit(),E.trackIntegrationSelectAll({name:s})},t.handleDeselectAllClick=function(){var e=t.props.analyticsName,r=t.stores.store;r.state.selection.clear(),r.emit(),E.trackIntegrationDeselectAll({name:e})},t.handleToggleItem=function(e){var r=t.props.analyticsName,n=t.stores.store,o=n.state.selection;o.has(e.key)?(o.delete(e.key),E.trackIntegrationSelectItem({name:r})):(o.add(e.key),E.trackIntegrationDeselectItem({name:r})),n.emit()},t.handleImport=function(){var e=t.props.sections,r=t.stores.store.state.selection,n=s.flatten(e.map(function(e){return e.items})),o=[];r.forEach(function(e){var t=n.find(function(t){return t.key===e});t&&o.push(t)}),t.props.onComplete(o)},t}return o(t,e),t.prototype.willMount=function(e){var t=this.stores.store.state.selection,r=l(e.sections,1)[0];if(r){var n=l(r.items,1)[0];n&&t.add(n.key)}this.stores.store.emit()},t.prototype.renderComponent=function(){return u.createElement(b.default,{menuType:b.default.MenuType.Popup,header:this.renderMenuHeader(),footer:this.renderMenuFooter(),width:280,maxHeight:350},this.renderMenuList())},t.prototype.renderMenuHeader=function(){var e=this,t=this.props.noun,r=this.stores.store.state.searchQuery,n=Boolean(r);return u.createElement(d.default,{isInput:!0,desktopStyle:{paddingBottom:2}},u.createElement(m.default,{focus:!0,focusAfterAnimation:!0,value:r,onChange:function(t){var r=e.stores.store;r.setState(a({},r.state,{searchQuery:t.target.value}))},placeholder:"Search for a "+t+"..."}),u.createElement(_.default,{isTokenTitle:!0,style:{marginTop:2},title:u.createElement("div",{style:{marginLeft:-3}},u.createElement(k.default,{onClick:this.handleSelectAllClick,disabled:n,disabledFeedback:!0},"Select All"),u.createElement(C.default,{disabled:n}),u.createElement(k.default,{onClick:this.handleDeselectAllClick,disabled:n,disabledFeedback:!0},"Deselect All"))}))},t.prototype.renderMenuFooter=function(){var e=0===this.stores.store.state.selection.size;return u.createElement(d.default,{topBorder:!0,desktopStyle:{paddingTop:8,paddingBottom:8}},u.createElement(_.default,{title:u.createElement(S.default,{disabled:e,onClick:this.handleImport},"Import")}))},t.prototype.renderMenuList=function(){var e=this,t=this.props,r=t.sections,n=t.noun,o=this.stores.store.state,i=o.searchQuery,l=o.selection,s=r.map(function(e){var t=v.default(i,e.items,function(t){return t.name+" "+e.name});return a({},e,{items:t})}).filter(function(e){return e.items.length>0});if(0===s.length)return u.createElement(d.default,null,u.createElement(f.default,{title:"No "+n+"s"}));var h=s.map(function(t){return{key:t.name,render:function(e){return u.createElement(d.default,a({},e,{title:r.length>1?t.name:void 0}))},items:t.items.map(function(t){var r=function(){return e.handleToggleItem(t)};return{key:t.key,render:function(e){return u.createElement(p.default,a({},e,{title:t.name,icon:u.createElement(y.default,{checked:l.has(t.key),size:16,onClick:r}),right:void 0!==t.count&&u.createElement(w.default,null,t.count)}))},action:r}})}});return u.createElement(c.default,{initialFocus:void 0,sections:h})},t.stores={store:h.default},t}(g.default);t.default=P},UWAZ:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("udrG"),i=r("wpmu"),l=r("qHvo"),s=r("/mqF"),u=r("wy14"),c=r("jZoB"),d=r("N34Z"),p=r("6rsX"),f=r("unoy"),h=r("RvCr"),m=r("7TLZ"),y=r("nM47"),g=r("dsG5"),v=r("HTHG"),b=r("sjR4"),w=r("AmMh"),S=r("43ch"),_=r("w5u6"),k=r("q2qQ"),C=function(e,t){var r=w.default.findSelectableFromStore(e);if(r){var n=S.default.findEditableWithinSelectable(r);if(n&&!n.props.disabled){var o=n.props.store,a=n.getContextClosestSelectableStore();return a&&p.edit({store:a}),t?f.setSelectionAtStart({store:o}):f.setSelectionAtEnd({store:o}),!0}}return!1};t.handleDrop=function(e){var t,r,a=e.droppedDirection,i=e.droppedStores,d=e.targetStore,f=e.targetParentStore,m=e.transaction,y=e.duplicate;if(d&&a===l.DroppableDirection.Onto){p.clear();var g=d.getContentStore(),v=s.createOrMove({droppedStores:i,duplicate:y,transaction:m}),b=d.getCollectionViewCollectionStore(),w=h.wrapCollectionDroppedStores({stores:v,transaction:m});try{for(var S=n(w),_=S.next();!_.done;_=S.next()){var C=_.value;d.isCollectionView()?b&&h.addBlockToGroup({store:C,collectionStore:b,coerce:!0,transaction:m}):c.append({parent:g,append:C,transaction:m})}}catch(e){t={error:e}}finally{try{_&&!_.done&&(r=S.return)&&r.call(S)}finally{if(t)throw t.error}}return w}v=s.createOrMove({droppedStores:i,duplicate:y,transaction:m});return a===l.DroppableDirection.Above?(v=o.clone(v),d?v=o.map(v,function(e){return c.insertBefore({parent:f,insert:e,before:d,transaction:m}).child}):(v.reverse(),v=o.map(v,function(e){return c.prepend({parent:f,prepend:e,transaction:m}).child}))):a===l.DroppableDirection.Below?(v=o.clone(v),d?(v.reverse(),v=o.map(v,function(e){return c.insertAfter({parent:f,insert:e,after:d,transaction:m}).child})):v=o.map(v,function(e){return c.append({parent:f,append:e,transaction:m}).child})):d&&a===l.DroppableDirection.Left?v=u.insertLeft({parent:f,insertStores:v,left:d,transaction:m}):d&&a===l.DroppableDirection.Right&&(v=u.insertRight({parent:f,insertStores:v,right:d,transaction:m})),k.editCreated({insertedStores:v}),p.setSelection({stores:v}),v},t.handleNativeDrop=function(e){var r=e.files,n=e.droppedDirection,o=e.targetStore,a=e.targetParentStore,i=e.transaction,l=a.recordCacheStore,s=v.getCurrentContainerPageWidth(),u=g.createEmbedBlocksFromFiles({files:r,recordCacheStore:l,pageWidth:s,transaction:i});t.handleDrop({targetParentStore:a,targetStore:o,droppedDirection:n,droppedStores:u,duplicate:!1,transaction:i})},t.handleEditText=function(e){var t=e.targetStore,r=e.targetParentStore,n=e.isAtStart,o=e.transaction,l=!1,s=r.getValue();if(s){var u=s.indexOf(t.id);if(0===b.default.state.stores.length&&u===s.length-1&&!n&&!m.isEmptyTextBlock(t)&&y.validateCanCreate()){l=!0;var p,f=d.createBlock({type:a.default.text,recordCacheStore:t.recordCacheStore,transaction:o});p=n?c.insertBefore({parent:r,before:t,insert:f,transaction:o}):c.insertAfter({parent:r,after:t,insert:f,transaction:o}),_.default.afterNextFlush(function(){C(p.child,!1)})}}if(l||(l=C(t,n)),!l){var h=r.getValue()||[],g=h.indexOf(t.id),v=n?h[g-1]:h[g+1];if(v){var w=i.default.createChildStore(r,v);0===w.getContentIds().length&&(l=C(w,!n))}}return l}},UYyv:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{ready:!1,pages:0,renderWidth:0,showPages:0}},t}(r("LEzx").default);t.default=a},UZfs:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("ZQ9l"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,a({},this.props,{style:a({background:"none",borderBottom:"none",boxShadow:"",marginTop:2,marginBottom:6,paddingTop:4,paddingBottom:4,minHeight:"none"},this.props.style)}))},t}(l.default);t.default=u},"Uc+B":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("2Ig/"),i=r("bPtJ"),l=r("LEzx"),s=r("kaWB"),u=r("g90h"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){var e=new a.default;return{textStore:new i.default(s.default.table,u.default(),["text"],e),localRecordCache:e}},t.prototype.isEmpty=function(){var e=this.state.textStore.getValue();return!e||0===e.length},t}(l.default);t.default=c},UcZb:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{expanded:!0,width:240,open:!1,mouseEnterY:0,mouseEntered:!1,isResizing:!1,isResizerHovered:!1}},t.updateThrottle=200,t}(r("LEzx").default);t.default=new a},"Ucj+":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{selectableRectMap:new Map,selectableContainerRectMap:new Map}},t}(r("LEzx").default);t.default=new a},Ueby:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("2gm8"),s=r("5Nka"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(l.default,{episode:"02",interviewee:"Stu Card",subtitle:"Designer of the mouse",portraitImg:s.default.front.toolsAndCraft.stu.stuIllustrationPng,analyticsName:"tools-and-craft-02-stu-card",intro:a.createElement("div",null,a.createElement("p",null,"Stu Card began work in Human Computer Interaction before it even had a name. His was the first PhD in the discipline, and Stu has made fundamental contributions to HCI including the design of Engelbart's mouse and Information Foraging theory."),a.createElement("p",null,'In his work at Xerox PARC and beyond, Stu has always emphasized "theories with a purpose", the idea that academic HCI theories should have practical value and be incorporated into practice.'))},a.createElement("div",{style:{position:"relative",paddingBottom:"72%",width:"100vw",height:0}},a.createElement("iframe",{src:"https://www.youtube.com/embed/LO4_FAHwXz8?rel=0&amp;showinfo=0",frameBorder:"0",allowFullScreen:!0,style:{position:"absolute",width:"100%",height:"100%"}})),a.createElement("div",{style:{marginTop:36,display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"100%"}},a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," Things go a lot better when you actually solve a problem, when people can't live without or open up some completely new capability. The best way to predict the future is to invent it. It's a choice you have.")),a.createElement("div",{style:l.default.getQuoteStyle()},'"The best way to predict the future is to invent it. It\'s a choice you have."'),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," My name is Devon, and I'm a software engineer. I'm going to talk to Stu Card today about his work on human-computer interaction and interfaces. I'm really excited for this conversation because you were there when all of this stuff was just beginning. You did a lot of the foundational work that people have been building on ever since. Thanks for taking the time. Can you start by introducing yourself and some of the things that you've worked on?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," I'm Stuart Card. Most of my career has been at the Xerox PARC which is the place that invented the windows type of interface that we use now. We were given 10 years in which we promised that we would try and invent a science that could be useful for designing computer programs for people. Psychology was wishy-washy in the kind of models that it did. Interesting subject, but the methods were not too rigorous."),a.createElement("p",{style:l.default.pStyle},"We thought that if we used an applied context and tried to make models that you can predict things with, just like you do with chemistry, or physics, or other sciences, that were practical, that we can make difference that way.")),a.createElement("div",{style:l.default.getQuoteStyle()},'"The theory allows you to ... invent new devices. We can run this thing backwards and generate new inventions that we hadn\'t thought of before."'),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," What were some of the problems that you guys worked on and applied these theories to?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," One of the first things we worked on was the mouse. Xerox was working on an office of the future at the time, because it was a big company with a little product base. It was a big company and it just sold copiers. It needed to enlarge its product base outside of that. The office of the future was a natural thing. English and Engelbart invented this thing called a mouse. English was trying to compare this to some other devices. He asked me to help him, which I agreed. Then, he got too busy, so I had to most of the work. It turned out that the mouse was the fastest device when we tested it in various tests.")),a.createElement("div",{style:l.default.figureGroupStyle},a.createElement("figure",{style:l.default.getFigureInGroupStyle()},a.createElement("img",{style:l.default.getFigureImgStyle(),src:s.default.front.toolsAndCraft.stu.stu17Jpg})),a.createElement("figure",{style:l.default.getFigureInGroupStyle()},a.createElement("img",{style:l.default.getFigureImgStyle(),src:s.default.front.toolsAndCraft.stu.stu15Jpg})),a.createElement("caption",{style:l.default.figureCaptionStyle},"Early mouse prototypes.")),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},"What's interesting was because we were looking ways to advance theory, we modeled each device. The model for the mouse was the most interesting one because how long it takes you to move the mouse to get a target is given by a thing called Fitts' Law, which is basically proportional to the log of the size of the target over the length of it."),a.createElement("p",{style:l.default.pStyle},"This theory allowed you to do three things. One is, it allowed you to take a device and understand why the performance is like it is. You could evaluate, analyze, characterize a device. The second thing that it allowed you to do was to invent new devices. We can run this thing backwards and generate new inventions that we hadn't thought of before."),a.createElement("p",{style:l.default.pStyle},'Given that we have this little Fitts\' Law characterization, we can say, "Well, what would it take to change that constant or proportionality?" If you just use the fingers instead of the wrist to move the device, that would give you 38 bits per second. That tells us that we can invent a new device which beats the mouse.')),a.createElement("div",{style:l.default.figureGroupStyle},a.createElement("figure",{style:l.default.getFigureInGroupStyle()},a.createElement("img",{style:l.default.getFigureImgStyle(),src:s.default.front.toolsAndCraft.stu.stu14Jpg})),a.createElement("figure",{style:l.default.getFigureInGroupStyle()},a.createElement("img",{style:l.default.getFigureImgStyle(),src:s.default.front.toolsAndCraft.stu.stu18Jpg})),a.createElement("caption",{style:l.default.figureCaptionStyle},"Early mouse prototypes.")),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},"The third thing that theory allows you to do is it allows you to come up with abstractions that connect together to form a science or a discipline. If you look at what happened after the mouse, the mouse went out in industry, but then, people like Shuman and I did the stirring on other things that built on this theoretical base and enlarged it quite a bit.")),a.createElement("div",{style:l.default.getQuoteStyle()},'"If you want to build a discipline of human-computer interaction, it can\'t just be one result after the other. You get lost in a sea of results. "'),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},"That then enabled the invention of things that would've been hard to predict like the keyboard in which you move your finger along, yet it uses statistics to know how words are spelled and how words go togeter in sentences. Then it looks and sees which letters on the keyboard your finger went past. It takes all of that and does the equivalent or type them in the keyboard."),a.createElement("p",{style:l.default.pStyle},"That's an advantage you have when you can do some theory with it. If you want to build a discipline of human-computer interaction, you can't just be one damn result after the other. Otherwise, you'd get lost at the sea of results. You need to be able to link them together. The theory provides some opportunities to do that."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," A phrase that you’re famous for is the concept of theories with a purpose, can you explain what that is?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," A lot of theories in recent psychology are hard to apply right at the moment in an engineering context. They have parameters you have to fit to something. What we wanted to do is make theories that were very practical, blue-collared theories that somebody in the field could evaluate. The theories were much faster to use than doing the experiments because you just characterize the situation and multiply a few things out."),a.createElement("p",{style:l.default.pStyle},'In fact, the way these theories are offering you is, like-- take the one for the mouse. People don’t really compute or calculate the formula. What they do is they say, "Well, I have this button on the other side of the screen. I know from this theory that if I make the button bigger, then it will compensate for the fact that it is way over the side of the screen." If you cared, you can calculate precisely by how much you have to do that. Just the general concept that the size of a button compensates for distance is a practical way to use the theory.')),a.createElement("div",{style:l.default.getQuoteStyle()},'"We wanted to ... make theories that were very practical, blue-collared theories that somebody in the field could evaluate."'),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},"We find a way of writing down the sequences of operations that people do based on goals, operator’s methods, and selection roles. This little notation will allow you to predict how long something will take. This was used in the design of the star, because you needed to measure novices and experts. Novices, you could find everybody’s a novice on a new system, but you can’t find experts on a system that hasn’t been designed yet."),a.createElement("p",{style:l.default.pStyle},"This little method allowed the calculation of what the experts did and would do. For example, to do motor operation, I said it would take seven-tenths of a second. I could see that by tapping my finger as first as I could, the tapping rate. If you measured that, it would come out in a 10th of a second. In fact, Licklider and I had a big battle over this. He told me that I was wrong. I was sure that I wasn't, so I said, \"No, I'm not. I'm right.\" You have to imagine me talking to the learning hybrid professor. This is over breakfast in the National Academy of Sciences. The only way we could sell that was to do an experiment."),a.createElement("p",{style:l.default.pStyle},"I did the tapping. I wasn't acting, because I wanted to make sure that that was done right, or to my advantage anyway. I think Licklider timed it on his stopwatch and somebody else counted them, or something like this. Here we are in the National Academy of Sciences lodge banging on the table with spoons as fast as possible, completely disrupting the other committees. He was right, of course."),a.createElement("p",{style:l.default.pStyle},"I had to adjust all of the parameters of this model as a consequence. When I did, stuff fit that never fit before. If you take the amount of time in seconds and measure it to the power of 10, then you find that they group into little bands. Done really fast is, in 10 minus 2 seconds, is biological processes."),a.createElement("p",{style:l.default.pStyle},"The interesting one for us is in the cognitive band. In 10",a.createElement("sup",null,"-1")," seconds or 100 milliseconds, you get this perception of content. If two percepts exist together in less than 100 milliseconds, they will be fused into the same percept. If it's greater than that, then it will take two percepts. If somebody makes two noises, you won't hear two noises if they're less than 100 milliseconds together, you'll just hear a noise in a bigger room of your percept.")),a.createElement("figure",{style:l.default.getFigureStyle()},a.createElement("img",{src:s.default.front.toolsAndCraft.stu.stu22Jpg,style:l.default.getFigureImgStyle()}),a.createElement("caption",{style:l.default.figureCaptionStyle},"Stu using one of his mouse prototypes.")),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},"In around one second, that's the time to do an operation. In around 10 seconds is the time of what's called a unit task. That's how long it would take you to do a command in a text editor, and so on. Then, above that is what you may call a rational band. That's where you're doing some problem solving or something like that. Then above that is the social band. Those processes take even longer."),a.createElement("p",{style:l.default.pStyle},"You can see what we worked on is starting down in the cognitive band and gradually working uphill. You can take everything that we did and put it in its little place in that hierarchy. This helps you when doing theories. Take the one where things are going to happen on the order of a second or, let's say, seven-tenths of a second. That's the time for an unprepared reaction time."),a.createElement("p",{style:l.default.pStyle},"If a child runs out in front of your car, it takes you seven-tenths of a second to apply the accelerator. Because you can't do anything, can't complete any action in less than that, then it means that that time is available for doing micro-narrations. If I show you some trees expanding, you'll get the wrong notion of which branch went to the tree if I just show you before and after the expansion.")),a.createElement("div",{style:l.default.getQuoteStyle()},'"... used time which you [could not have used anyways] to make the communications more dense."'),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},"If I use my seventy millisecond to grow a part of the tree into its next step form, then you can see how it grew. Now you couldn't have done anything else in this time because it's too little time for you to act. I've used time which you didn't have to make the communications more dense. We try to take intellectual or other capabilities that you have, but aren't using, and try to match the displays to those so that we can get more capacity out of those."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," What is the process for developing these theories? Is it that you start with experiments, then you move on, you start seeing the commonalities between those, or do you start with a theory and then test?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," Well, you usually start with a received problem. Problem that somebody tells you is usually never what the real problem is. It starts out as a real problem to them."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," What's an example of a received problem that you or someone else ended up adjusting to get down to what the real core problem was?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," An example is the fact that Windows seemed to work fine when they were on workstations 19-inch displays or bigger, or 24-inch displays. They didn't seem to work very well in PCs. When you look at how many window faults there are, that is to say, \"How many times do I have to redo the size of window or make it out of an icon or something like that?\" As the screens get smaller, there is a certain point at which everything just goes to hell. You’re not able to do anything except just resize the windows and stuff. I think everybody's experienced this.")),a.createElement("div",{style:l.default.getQuoteStyle()},"\"You've connected this interface problem with a well-known problem in software design. Now, there's a number of interesting solutions\""),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},"What that is analogous to is virtual memory operating systems. Whenever you need a page that isn't in there, you swap one of the ones that is true with one of the ones that I’ll find this somewhere instead of in main memory. This all works unless the number of locations you need to get this working set is greater than the memory that was there. In which case, you go into this mode in which you can’t get anything done for the same reason."),a.createElement("p",{style:l.default.pStyle},"That starts out with the problem of why don’t windows work and how do you make them work? Now, by modeling it, you have an analysis of why that is. Now, you why it is. Now, you can start inventing practical solutions. You've connected this interface problem with a well-known problem in software design. Now, if we look at this problem in software design, there’s a number of interesting solutions to it. Ones in which you page in the whole posse, which you page in the whole group of things without folding them in one by one. If we back project that into user interface, that's a lot like if you had a virtual screen for each problem that you're working on."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," The virtual memory metaphor is really interesting. What role has analogy played throughout your work?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," I think quite a bit, because what usually ends up happening is that the theories that come to the nouveau, they come from an analysis in which you can see how to describe the situation and the abstractions that have been previously used. That then links this new little bit of theory to pieces of theory that have established results with them. You have all this stuff about operating systems that’s quite well-developed. You instantiate that all back into how would they be for an interface."),a.createElement("p",{style:l.default.pStyle},"Another one is information retrieval. Information retrieval is usually measured by the metrics of precision and recall. This problem can be reformulated in terms of a thing called Optimal Foraging Theory. That reformulation is called the Information Foraging Theory. It says in the precision and recall formulation, it doesn't matter if you made the thing go a thousand times as fast. It wouldn't count in precision and recall, but most people care if they can go a thousand times faster."),a.createElement("p",{style:l.default.pStyle},"What it tries to optimize is the information gain per unit time, so the gain per cost. There's a field in biology called Optimal Foraging Theory that's worked this out. This is one of the unifying concepts in biology. Because otherwise, you don't have a separate biology for this animal, that animal, every animal have a separate biology. This is one of the concepts that goes across different animals. You can predict things about feeding from it and when animals are going to leave a patch, that sort of thing."),a.createElement("p",{style:l.default.pStyle},"Anyway, we connect to the set of abstractions in biology. Now, we bring that back to information retrieval. There's lots of things that you just wouldn't think of otherwise.")),a.createElement("div",{style:l.default.figureGroupStyle},a.createElement("figure",{style:l.default.getFigureInGroupStyle()},a.createElement("img",{style:l.default.getFigureImgStyle(),src:s.default.front.toolsAndCraft.stu.stu23Jpg}),a.createElement("caption",{style:l.default.figureCaptionStyle},"Stu's bookshelf.")),a.createElement("figure",{style:l.default.getFigureInGroupStyle()},a.createElement("img",{style:l.default.getFigureImgStyle(),src:s.default.front.toolsAndCraft.stu.stu25Jpg}),a.createElement("caption",{style:l.default.figureCaptionStyle},"A Macintosh SE."))),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," An important priority for you has been not only building a theory around these things, but also allowing them to actually solve problems in the real world?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," Yes."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," What are examples of companies, or products, or teams that have incorporated these ideas either intuitively or by finding your research."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," The mouse was of course popular at PARC. But in the rest of the corporation, it was not. They were dead set against having something that hangs off a keyboard. They were afraid the people in social security would have it around their neck during an interview. All sorts of fantastic excuses. At one time, I flew down to Los Angeles where there was this room of very hostile engineers trying to work on this question. I gave them the data for why one device is better than another. There were so many questions about why didn't you do it this way, why didn't you do it that way. Then when I came to the theory, the room fell silent. There was just a bunch of solemn faces."),a.createElement("p",{style:l.default.pStyle},"We went and it worked just like I said it would. Nobody beat it in the market. One way I like to do experiments sometimes is not necessarily the approved way, is I make myself the subject. I fiddle with the parameters until things feel like and it looks like I'm making progress. Because experiments are expensive. You don't want to have huge lumbering steps for the expensive steps, you want to do lots of little steps. When I think it's ready and I think it works, then we bring in all the controls, counterbalancing and everything."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," You were one of the first people to really combine psychology and computer science. I think your Wikipedia page says that you're the first person to do a program in HCI. Maybe the word HCI didn't even exist back then. What does it feel like to be there in that moment? Did you know what you were creating?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," That is the foggiest idea. When I started as a student, the college didn't even have a computer. They put in a new computer, and this little cadre of people formed around it. One day, Herbert Simon came by campus and gave this big address. A bunch of us talk to him afterwards. He told about this wonderful land at Carnegie Mellon where people would work on artificial intelligence, calling it psychology."),a.createElement("p",{style:l.default.pStyle},"That was it for me. I wanted to do that. I got myself out of there and applied this as soon as possible. I was housed in the psychology department. After a number of weeks, it became clear that they were thinking of me just as a psychologist. I never wanted to be a psychologist. I used to make fun of them from the Physics Department. We used to shine lasers from our building into theirs knowing they'd never figure out what they were."),a.createElement("p",{style:l.default.pStyle},"I designed a new program. I threw out half of my psychology qualifiers, substituted computer science qualifiers, and took a lot of computer science classes. This is when computer science was-- the department in itself must've been two years old. It was just getting started. My thesis was basically a bunch of experiments that we did at PARC put together in a coherent way."),a.createElement("p",{style:l.default.pStyle},"There was the work on the mouse, there was work on text editing. There's the invention of this idea for how you write down user's actions called GOMS. That actually eventually became a book. The Psychology of Human-Computer Interaction which is written with Tom Moran and Allen Newel. That was the first book to use human-computer interaction in the title."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," You said that you hadn't the foggiest idea of what HCI was when you first started. What were some of the motivating questions that you had earlier on and how did they change as you got to know the space better?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," When I worked in the computer center, one thing that always intrigued me was watching people try and solve problems about why the computer doesn't work. I was interested in where the structure comes from. At Carnegie Mellon, we were working on a thing called problem solving. Problem solving, a lot of it is heuristic search. They're still climbing in, I think there's seven methods. The idea that you can get it down to algorithms is pretty cool. You can solve a problem that you don't know how to solve by using heuristics and search.")),a.createElement("figure",{style:l.default.getFigureStyle()},a.createElement("img",{src:s.default.front.toolsAndCraft.stu.stu11Jpg,style:l.default.getFigureImgStyle()}),a.createElement("caption",{style:l.default.figureCaptionStyle},"Stuart Card.")),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},"My roommate for quite a while in computer science was Hans Berliner. Hans Berliner was a graduate student, but he also was the guy that all the chess studies were done in, because he was an international grandmaster. There were experiments done on him where you knock over a chessboard and you have him reassemble the pieces. If you look at every two seconds, if there's a gap of two seconds that goes by without a piece being assembled, that's a chunk foundry. By doing this, you can get his mental representation of the game."),a.createElement("p",{style:l.default.pStyle},"Psychologists are enamored by all these limitations like short-term memory and everything on your performance. If you look at what a real person would do for, say, you give him a telephone number that's 10 digits and he can only remember seven digits, what you can do is pick up a piece of paper and write down the number. Predicting a large amount of behavior, all you have to know is what the rational thing would be to do, then you can predict it without a detailed theory of that thing. You just need a theory of the environment and people will do the rational thing for the environment."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," The idea is that even though your brain is really limited, you can build tools and processes around yourself to expand your--"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," If you get one of these linear-- the great example Simon gave was something called Simon's Ant. There's this ant who's trying to go home. He comes to a pebble and he walks around it. The ant has really complicated behavior if you draw dotted line for where the ant has been. The complication is not in the ant, it's in the task environment. The ant acts really simple. It's just optimizing and doing the rational thing, taking the rational detour instead of walking over the pebble. Then Simon says, \"You can apply this to humans.\" Humans aren't so complicated, it's the environment that's complicated."),a.createElement("p",{style:l.default.pStyle},"Every technology has these, maybe basically good, cures people of cancer or something, but it has unintended side effects. Like the invention of the car was great for getting people around, but it caused the suburbs to sprawl. There're some disadvantages to that. There're some measurement things that came up at PARC that I refused to let the group work on. Not because they didn't have ways of handling them at PARC, it's just that once we invented the technology, we'd go out somewhere else, those restraints will be removed. That it would exist."),a.createElement("p",{style:l.default.pStyle},"There was this thing you can clip to your lapel and it would track where you were at the building and at what time. What it allowed you to do was recall twice as many things of your day as otherwise. You can find things, find out where this information was and everything. It was too dangerous, I thought.")),a.createElement("div",{style:l.default.getQuoteStyle()},'"There\'s amazing supply of problems in the world."'),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," How did you direct the problems that your group worked on at PARC and beyond?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," Whenever we finished one thing, another problem would just pop up. There's amazing supply of problems in the world. The office in the future, we tried to plan it so that our research would actually make a commercial difference, because that would be validating the overall idea that, again, the theory. Then, Xerox famously fumbled the future. Things weren't going in that direction. When we started graphical interface, graphical systems get more power, the SGI machine and the geometry engine meant that you could do 3D animated graphics for the first time."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," A lot of really amazing groundbreaking research was done at Xerox PARC around the time you were there. The work you did on pointing devices, object-oriented programming, things on graphical user interfaces. The list goes on and on. What was so special about PARC that made it possible for that to happen?")),a.createElement("div",{style:l.default.getQuoteStyle()},'"Xerox subsidized a lunchroom as part of the research program, because they wanted people to talk shop during lunch."'),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," First, we had an excellent staff. It said that 50 of the top 100 computer scientists worked at PARC. Since we were funded with hard money, we didn’t have to write grants, wait a year, write 10 grants to get one grant and everything before something something could be done. Xerox subsidized a lunchroom as part of the research program, because they wanted people to talk shop during lunch. We did that. Often at lunch, somebody would come up with an idea. That idea could be worked on by three or four people that afternoon."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," One of the things that made PARC really special is the people who were there. A big part of the attraction for bringing new good people in was that there was already the strong community. How did they start that community to begin with?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," Bob Taylor was the guy who funded all of these people. He knew the whole community, he knew who was out of funds. He just picked them off one by one. PARC was such a good deal."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," Xerox is famous for fumbling the future. Why were those ideas not possible to translate into real products?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," That’s an interesting thing. I used to think it was because they were stupid. That might be true, but that wasn’t the main reason. The main reason was this thing called the Innovator's Dilemma. It's been replicated many, many times. If you have a company and it tries to get into a new business, it's faced at various points with whether to invest in the new business, which isn’t going to bring in much return because the new business is small if it's disruptive, and doing more of what it knows will make a return."),a.createElement("p",{style:l.default.pStyle},"Xerox had the principle that it was going to grow 15% each year. After a while, that meant that you had to have a new billion-dollar industry every year. You can’t just stand those up in one year from zero to a billion. When they would look at all the disruptive proposals, those didn't look like they were going to be a billion in a year. Whereas if they took one of their existing divisions and just tweet it a little bit, they can maybe get another billion out of it."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," It's sort of a hill-climbing problem?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," Yes. The problem is that when you can make all the right rational decisions and you can lose your whole industry because this disruption comes through on you just incrementally. That's really not a Xerox problem. Xerox is caught in that, but that a problem that's more general."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," In your view, what were some key moments where they could have tried to break out of that innovator's dilemma?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," When office of the future came on far enough, they held this big event at Boca Raton in Florida. They hired Hollywood producers and everything was a really big deal. A lot of Xerox execs came, but they weren't really interested in this whole office of the future."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," One thing you talked about a bit was how there was a moment where you could start doing more visualizations. What role did Moore's Law play in how your research changed over time?")),a.createElement("div",{style:l.default.getQuoteStyle()},'"It\'s like fairy dust. You take the same problem at 10-year intervals and you get different answers. It gets easier and easier, too."'),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," Moore's Law is great. This is really underappreciated. You can have a capital budget, you spend your capital budget, and it still isn't gone. You can buy more because everything that you wanted to buy get cheaper during the year after you budgeted for it. It's great. It's like fairy dust. You take the same problem at 10-year intervals and you get different answers. It gets easier and easier, too. You just do the same thing over and over again. If you have 10 problems, or 6 problems, you just rotate them around.")),a.createElement("div",{style:l.default.getQuoteStyle()},'"... Bell\'s law, where every time the price for computation goes down by factor 10 you get a new form of computation."'),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," You could fill a whole career with that."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," Yes, that's right. Gordon Bell has a thing, sometimes called Bell's Law, where every time the price of computation goes down by a factor of 10, you get a new form of computation. You start out with the Air Defense System for the US, then you end up with TX-2, then you end up with the personal computer. Probably timesharing before that, then the personal computer, then iPhones."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," What's next?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," Probably all these little things that go in your house. When you take the internet of things, there's not just a billion things out there, there's many billions of processors and work that do you harm or good."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," Moore's Law is slowing down by most people's count?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," Yes."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," How do you see that all--"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," I think the thing that was going to end it was that the price of foundry would go up exponentially. You can get a little bit more out of it, but it's going to cost you 10 times as much or something."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," What do you think the implications will be on the next generation of inventors?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," The processor speed won't be the basis of competition. Actually, there's another thing that's likely to happen. It's that all these gizmos like graphics processors, controllers and all that sort of thing might be made more programmable and more interactive with each other than is currently the case. That would give you a lot more power."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," I guess for now fundamentally dealing with different types of problems, because even if the amount of computation that we can get out of a device isn't growing as quickly, there's so many more combinations and permutations you can have of different things just because so many other things are connected."),a.createElement("p",{style:l.default.pStyle},"In the decades that you've been doing your work, Moore's Law drove a lot of changes. Now that we are not really riding that wave of increasing computational power, where do you think people should be looking for? The low-hanging fruit now."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," Communication and low power systems. A lot of systems are trying to harvest power from you're walking in your shoes or other things. You can get systems that can be operational in the environment from batteries for a year or two. We're going to have much better bandwidth outside the home that's going to replace what the telephone company has now, the next generation. Even in the house today, the wireless I have is up to one gigabit per second.")),a.createElement("div",{style:l.default.getQuoteStyle()},"\"I don't really like what's happening with texts that you read online, because they lose all their physicality. You get lost in what you're doing.\""),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," My last question that I'd like to wrap up with is what are some books, or articles, or things you've read or seen that have influenced your work?"),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," I like this book called Don't Make Me Think. Its premise is that these little glitches in the interface, while they might not look like they take very long, they're quite disruptive of the thinking process."),a.createElement("p",{style:l.default.pStyle},"I like a number of the articles that Bret Victor is writing on a new way of doing explanatory texts."),a.createElement("p",{style:l.default.pStyle},"I don't really like what's happening with texts that you read online, because they lose all their physicality. You get lost in what you're doing, you scroll out sideways, all this sort of stuff.")),a.createElement("div",{style:l.default.getQuoteStyle()},'"What I would like to see is building out of that rather than just sort of replacing it... We should take seriously the mechanics of moving through that book."'),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},"I think that the Codex book has been how you count maybe or the magnitude of thousand years of development, maybe 2,000 years of development. What I would like to see is building on that rather than just replacing it with something that doesn't work as good. There was a time when somebody had to invent the notion of the paragraph, notions of periods and capital letters. The Carolingian Renaissance invented small letters. Those small letters put together with the capitals allowed words to have shapes. They could be then read in faster speed."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," Just to close out, I think one of my favorite things that I've read recently was about an early printer in, I think it was 15th or 16th century, named Aldus Manutius. Reading about his life, this guy invented tables of contents, he invented the idea of page numbers, which are things we take for granted. It's really obvious today, but those things had to be invented at some point. I think it's really exciting to think about that in terms of the last 50 years and the next 50 years as well in terms of what are we going to create that people on the future end up just integrating into their lives."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," I built several virtual books. The one I liked the best was the one-- it's called the three book where it's a three-dimension book figuring that people would want something that corresponds to what's physically in the world, they would want an electronic copy of that, and that we should take seriously the mechanics of moving through that book. Because, like I say, the virtual documents now are such a pain to move through.")),a.createElement("div",{style:l.default.getQuoteStyle()},'"Whenever you can map things onto the environment, onto things that you know a lot about, you can make them easier to learn, faster to use."'),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"DEVON:")," You can build on this thing that has so many affordances built into it, then expand it and do even more stuff with the new technological capabilities."),a.createElement("p",{style:l.default.pStyle},a.createElement("b",null,"STUART:")," Whenever you can map things to remember onto the environment, onto things that you know a lot about, like you know a lot about how books work, then you can make them easier to learn after use, that sort of thing. You should take advantage of that when you can."),a.createElement("p",{style:l.default.pStyle},"Things go a lot better if when you do a piece of research, you actually solve a problem that somebody cares about. People in the laboratory will say, \"What I want this, so this would be nice to have.\" Those aren't good problems. The ones you want are ones that people can't live without or open up some completely new capability.")),a.createElement("figure",{style:l.default.getFigureStyle()},a.createElement("img",{src:s.default.front.toolsAndCraft.stu.stu26Jpg,style:l.default.getFigureImgStyle()}),a.createElement("caption",{style:l.default.figureCaptionStyle},"Stu working at his desk at home.")),a.createElement("div",{style:l.default.pGroupStyle},a.createElement("p",{style:l.default.pStyle},"Technology is very interesting because it undergoes an evolution, but the evolution is different than natural evolution. Natural evolution, the world has it's source of randomness. Then, survival of the fittest cuts through which of these random variations is going to do well. In technology, the way of generating the new products is not random, there's a lot of careful analysis and thought. You can direct that second kind of evolution."),a.createElement("p",{style:l.default.pStyle},"It's like Alan Kay used to say, when people with all the time asked him about what the future is going to be, you can say, \"What do you want? The best way to predict the future is to invent it. It's a choice you have.\""))))},t}(i.default);t.default=u},Ugx7:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("LvDl"),u=r("STAJ"),c=r("udrG"),d=r("r8oj"),p=r("qHvo"),f=r("jZoB"),h=r("UWAZ"),m=r("N34Z"),y=r("sdlW"),g=r("lufz"),v=r("nM47"),b=r("H4VD"),w=r("FcJC"),S=r("y6Dp"),_=r("QcDD"),k=r("+UXM"),C=r("VpIZ"),E=r("MBf9"),P=r("VBxf"),x=r("57cz"),T=r("r8MX"),O=r("Sb6f"),M=r("Cycz");function I(e,t){return e.id+":"+t}function A(e){var t=e.spaceViewStore,r=e.type,o=e.outlinerToggleButtonStore,a=e.newValue;o.setState(n({},o.state,{isHidden:a})),k.default.set(I(t,r),a)}function D(e){var t,r;try{for(var n=i(e),o=n.next();!o.done;o=n.next()){var a=o.value,l=x.default.findOutlinerItemFromStore(a);if(l)return l.props.type}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}}t.getLocalPreferenceKey=I,t.appendEmptyPage=function(e){var t=e.store,r=e.transaction,n=m.createBlock({type:c.default.page,recordCacheStore:t.recordCacheStore,transaction:r});if(t.isCollectionView()){var o=t.getCollectionViewCollectionStore();o&&g.setParent({parentStore:o,childStore:n,alive:!0,transaction:r})}else{var a=t.getContentStore();f.append({parent:a,append:n,transaction:r})}return S.trackCreateBlock({from:"sidebar_outliner_item",type:"page"}),n},t.createPageInSection=function(e){var t=e.spaceStore,r=e.spaceViewStore,n=e.type,o=e.outlinerToggleButtonStore;if(v.validateCanCreate()){var a=E.create(),i=y.createEmptyPageInSpace({spaceStore:t,spaceViewStore:r,isPrivate:"private"===n,prepend:!0,transaction:a});o&&A({spaceViewStore:r,type:n,outlinerToggleButtonStore:o,newValue:!1}),d.default.isMobile&&w.close(),"private"===n?S.trackCreateBlock({from:"sidebar_private_section",type:"page"}):"workspace"===n&&S.trackCreateBlock({from:"sidebar_workspace_section",type:"page"}),E.commit({transaction:a}),b.navigateToBlock({store:i})}},t.handleDrop=function(e){var t,r=e.type,n=e.droppedDirection,o=e.targetParentStore,a=e.targetStore,i=e.droppedStores,l=e.isTopLevelItem,s=e.duplicate,c=e.transaction,d=D(i),f=a&&a.getValue();if(n===p.DroppableDirection.Onto&&a&&f&&o&&C.isHeadingType(f))t=h.handleDrop({targetParentStore:o,targetStore:a,droppedDirection:p.DroppableDirection.Below,droppedStores:i,duplicate:s,transaction:c});else if("shared"===r&&n!==p.DroppableDirection.Onto&&a&&l){var g=_.default.state.currentSpaceViewStore;if(!g)return;var v=g.getSharedPages().map(function(e){return e.id}),b=i.map(function(e){return e.id}),w=v.filter(function(e){return b.indexOf(e)<0}),S=w.findIndex(function(e){return e===a.id}),k=[];k=n===p.DroppableDirection.Above?u.insertAll(S,b,w):u.insertAll(S+1,b,w),m.updateValue({store:g,data:{shared_pages:k},transaction:c}),t=i}else t=h.handleDrop({targetParentStore:o,targetStore:a,droppedDirection:n,droppedStores:i,duplicate:s,transaction:c});var E=t.filter(function(e){return e.isTopLevel()});d&&"private"!==d&&"private"===r&&y.removePagePermissions({blocks:t,transaction:c}),"workspace"===r?y.setPagePermissionsToWorkspace({blocks:E,transaction:c}):"private"===r&&y.setPagePermissionsToPrivate({blocks:E,transaction:c})},t.handleInsert=function(e){var t=e.store,r=e.parentStore,n=e.insertStores,o=e.transaction,a=e.before,i=e.type,l=s.clone(n).reverse(),u=a?l.map(function(e){return f.insertBefore({parent:r,insert:e,before:t,transaction:o}).child}):l.map(function(e){return f.insertAfter({parent:r,insert:e,after:t,transaction:o}).child}),c=u.filter(function(e){return e.isTopLevel()});return"workspace"===i?y.setPagePermissionsToWorkspace({blocks:c,transaction:o}):"private"===i&&y.setPagePermissionsToPrivate({blocks:c,transaction:o}),u},t.setSectionHidden=A,t.confirmDrop=function(e){return o(this,void 0,void 0,function(){var t,r,n,o,i;return a(this,function(a){if(t=e.type,r=e.droppedStores,n=D(r),o=T.default.state.data,i=o?M.getMemberCount(o):1,n&&n!==t){if("workspace"===t&&i>1)return[2,P.confirmUserAction({message:l.createElement("span",null,"Are you sure you want to share this page with the Workspace?"," ",l.createElement("span",{style:{fontWeight:O.default.fontWeight.semibold}},"It will be accessible by all ",i," members.")),acceptLabel:"Move to Workspace"})];if("private"===t)return[2,P.confirmUserAction({message:l.createElement("span",null,"Are you sure you want to make this page private?"," ",l.createElement("span",{style:{fontWeight:O.default.fontWeight.semibold}},"Only you will be able to access it.")),acceptLabel:"Move to Private"})]}return[2,!0]})})}},UiOz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("zttk");t.default=new n.default},Uv1v:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("i8i4"),i=r("hl64"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldEmit=!1,t}return o(t,e),t.prototype.getInitialState=function(){return{componentSet:new Set}},t.prototype.getSortedComponents=function(){var e=Array.from(this.state.componentSet);return e.sort(function(e,t){return i.default(a.findDOMNode(e),a.findDOMNode(t))}),e},t.prototype.getComponents=function(){return Array.from(this.state.componentSet)},t.prototype.findComponent=function(e){return Array.from(this.state.componentSet).find(e)},t.prototype.forEach=function(e){this.state.componentSet.forEach(e)},t}(r("LEzx").default);t.default=l},UxdC:function(e,t){},Uy0f:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isVisible:!0}},t}(r("LEzx").default);t.default=new a},V8so:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("STAJ"),c=r("wldR"),d=r("IdIf"),p=r("njgS"),f=r("DrHl"),h=r("lUWv"),m=r("G4GV"),y=r("yNyh"),g=r("Z1H8"),v=r("O93e"),b=r("OWVv"),w=r("Pl3d"),S=r("ZYTv"),_=r("4HCU"),k=r("f0kS"),C=r("mF3+"),E=r("LeVO"),P=r("nFzZ"),x=r("2Y+N"),T=r("WgIs"),O=r("zTdN"),M=r("gbGO"),I=r("VBxf"),A=r("r8oj"),D=r("rGsA"),L=r("MeYt"),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSelectValueClick=function(){var e=t.props.groupFormat;t.stores.inputStore.setState({focus:!0,inputValue:e.value||""})},t.handlePersonValueClick=function(){t.stores.inputStore.setState({focus:!0,inputValue:""})},t.handleRenameInputChange=function(e){var r=t.stores.inputStore;r.setState(a({},r.state,{inputValue:e.target.value}))},t.handleAutocompleteQueryUpdate=function(e){var r=e.query,n=t.stores.inputStore;n.setState(a({},n.state,{inputValue:r}))},t.handleRenameInputKeydown=function(e){if(13===e.keyCode)t.acceptSelectInputValue();else if(27===e.keyCode){var r=t.stores.inputStore;r.setState(a({},r.state,{focus:!1}))}},t.handleRenameInputBlur=function(){t.acceptSelectInputValue()},t.performUserSearchRequest=function(e){return i(t,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,_.searchUsers({query:e,membersOnly:!1})];case 1:return[2,t.sent()]}})})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,r=e.groupFormat,n=e.schema,o=e.isHiddenGroup,i=d.isUncategorizedGroupValue(r.value),l=this.stores.inputStore.state.focus,u=n[r.property];if(u){var c=u.name;return i&&!l?o?s.createElement("div",{style:a({},t.uncategorizedLabelStyle,{paddingLeft:0})},C.default.collectionInbox({width:14,marginLeft:6,marginRight:6}),s.createElement("span",{style:{overflow:"hidden",textOverflow:"ellipsis"}},"No ",c)):s.createElement(E.default,{renderTooltip:function(){return"Any items with an empty "+c+" will go here. This column cannot be removed."},style:{width:240},textWrap:!0,render:function(e){return s.createElement("div",a({style:t.uncategorizedLabelStyle},e),C.default.collectionInbox({width:14,marginLeft:6,marginRight:6}),s.createElement("span",{style:{overflow:"hidden",textOverflow:"ellipsis"}},"No ",c))}}):this.isSelectType()?this.renderSelectValue():this.isPersonType()?this.renderPersonValue():void 0}},t.prototype.renderSelectValue=function(){var e=this,r=this.props,n=r.groupFormat,o=r.disabled,i=r.schema,l=r.isHiddenGroup,u=this.stores.inputStore.state,c=u.focus,d=u.inputValue,h=this.getSelectOptions(),m=i[n.property];if(m)return c?s.createElement(g.default,{capture:!0,render:function(r){return s.createElement("div",a({},r,{style:t.inputWrapStyle}),s.createElement(y.default,{focus:!0,selectAll:!0,value:d,placeholder:"New "+p.getDisplayName(m.type),onChange:e.handleRenameInputChange,onBlur:e.handleRenameInputBlur,onKeyDown:e.handleRenameInputKeydown,style:{height:26,padding:"4px 7px"}}),A.default.isMobile&&s.createElement(D.default,{show:!0}))}}):n.value?s.createElement(L.default,{style:a({},t.selectStyle,o&&l&&{cursor:"pointer"}),onClick:this.handleSelectValueClick,disabled:o},s.createElement(f.default,{format:f.default.Format.Medium,isSingle:!0,value:n.value,options:h,showRemoveButton:!1})):void 0},t.prototype.renderPersonValue=function(){var e=this,r=this.props,n=r.groupFormat,o=r.disabled,i=r.currentGroups,l=r.isHiddenGroup,u=this.stores.inputStore.state,c=u.focus,p=u.inputValue;return c?s.createElement(w.default,{request:p,performRequest:this.performUserSearchRequest,debounce:_.defaultSearchDebounce,render:function(t,r,o){r||(r=[]);var l=P.compact(r.map(function(t){if(t.userId)return{key:t.userId,render:function(e){return s.createElement(k.default,a({user:{id:t.userId,email:t.email,given_name:t.givenName,family_name:t.familyName,profile_photo:t.profilePhoto}},e))},action:function(){var r=e.props.onChange;r&&t.userId&&!d.groupValuesEqual(t.userId,n.value)&&(i.find(function(e){return d.groupValuesEqual(t.userId,e.value)})?I.showError({error:new Error("Column already exists.")}):r(t.userId),e.stores.inputStore.setState(a({},e.stores.inputStore.state,{focus:!1})))}}}));return s.createElement(b.default,{alignment:b.Alignment.Center,left:s.createElement(S.default,{userValue:void 0,format:S.default.Format.AvatarOnly,avatarSize:18})},s.createElement(v.default,{isOpen:!0,loading:!o,queryUpdateDebounce:_.defaultSearchDebounce,inputPlaceholder:"Search for a person...",onQueryUpdate:e.handleAutocompleteQueryUpdate,focus:!0,renderPopup:function(){var e,t;return e=r&&0===l.length?s.createElement(x.default,{title:"Select a person",loading:!o},s.createElement(O.default,{title:"No Results"})):s.createElement(T.default,{initialFocus:0,sections:[{key:0,render:function(e){return s.createElement(x.default,a({},e,{title:"Select a person",loading:!o}))},items:l}]}),t=A.default.isMobile?{menuType:M.default.MenuType.ActionSheet}:{menuType:M.default.MenuType.Popup,width:460},s.createElement(M.default,a({},t),e)},onBgClick:e.handleRenameInputBlur}))}}):n.value?s.createElement(L.default,{style:a({},o&&l&&{cursor:"pointer"},t.personTokenStyle),onClick:this.handlePersonValueClick,disabled:o},s.createElement(h.default,{format:h.default.Format.Medium,userId:n.value,showRemoveButton:!1,isSingle:!0,parentStore:this.props.parentStore,disableAvatarTooltip:this.props.isHiddenGroup,shouldShrink:!0})):void 0},t.prototype.getPropertySchema=function(){var e=this.props,t=e.groupFormat;return e.schema[t.property]},t.prototype.isSelectType=function(){var e=this.getPropertySchema();return e&&u.contains(e.type,p.selectTypes)},t.prototype.isPersonType=function(){var e=this.getPropertySchema();return e&&"person"===e.type},t.prototype.getSelectOptions=function(){return this.getPropertySchema().options||[]},t.prototype.acceptSelectInputValue=function(){var e=this.props,t=e.groupFormat,r=e.onChange,n=e.currentGroups,o=this.stores.inputStore,i=o.state.inputValue.trim().replace(/,/g,"");i&&i!==t.value&&(n.find(function(e){return e.value!==t.value&&d.groupValuesEqual(i,e.value)})?I.showError({error:new Error("Column already exists.")}):r&&r(i));o.setState(a({},o.state,{focus:!1}))},t.stores={inputStore:m.default},t.inputWrapStyle={fontSize:14,overflow:"hidden",padding:3},t.selectStyle={overflow:"hidden",padding:3,borderRadius:3},t.personTokenStyle={overflow:"hidden",padding:3,paddingRight:6,borderRadius:3},t.uncategorizedLabelStyle={display:"flex",alignItems:"center",fontSize:14,lineHeight:1.2,paddingLeft:2,paddingRight:4,whiteSpace:"nowrap",overflow:"hidden"},t}(c.default);t.default=R},V9q8:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl");t.isText=function(e){return t.isNode(e)&&e.nodeType===Node.TEXT_NODE},t.closestNode=function(e,r){for(;t.isNode(e)&&!r(e);)e=e.parentNode;return e},t.getTextNodes=function(e,r){var a,i;if(void 0===r&&(r=[]),t.isNode(e)){try{for(var l=n(o.toArray(e.childNodes)),s=l.next();!s.done;s=l.next()){var u=s.value;t.isText(u)?r.push(u):u.childNodes&&t.getTextNodes(u,r)}}catch(e){a={error:e}}finally{try{s&&!s.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return r}return[]},t.getChildIndex=function(e,r){return t.isNode(e)&&t.isNode(r)?o.findIndex(e.childNodes,function(e){return e===r}):-1},t.isNode=function(e){try{return e&&void 0!==e.nodeType}catch(e){return!1}}},VAix:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=function(e){return o.isNull(e)||o.isUndefined(e)||o.isArray(e)&&0===e.length||o.isObject(e)&&0===Object.keys(e).length};t.default=function e(t){var r,i;if(o.isArray(t))for(var l=t,s=0;s<l.length;s++){var u=e(l[s]);a(u)?(l.splice(s,1),s--):l[s]=u}else if(o.isObject(t)){var c=Object.keys(t);try{for(var d=n(c),p=d.next();!p.done;p=d.next()){var f=p.value;u=e(t[f]),a(u)?delete t[f]:t[f]=u}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(!a(t))return t}},VBxf:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("80on");t.showDialog=function(e){a.default.reset(),a.default.setState(n({},e,{open:!0}))},t.showError=function(e){var r=e.error.message;r.startsWith("User:")&&(r=r.split("User:")[1]),t.showDialog({message:r,showCancel:!1,keepFocus:!1,items:[{label:"Okay",onAccept:o.identity}]})},t.showMessage=function(e){var r=e.message;t.showDialog({message:r,showCancel:!1,keepFocus:!1,items:[{label:"Okay",onAccept:o.identity}]})},t.showFatalError=function(e){var r=e.message;t.showDialog({message:r,showCancel:!1,keepFocus:!0,items:[],fatal:!0})},t.confirmUserAction=function(e){return new Promise(function(r){t.showDialog({showCancel:!0,keepFocus:!1,message:e.message,items:[{label:e.acceptLabel,color:"red",onAccept:function(){r(!0)}}],handleCancel:function(){r(!1)}})})},t.showErrorIfUserPrefix=function(e){var r=e.error;if(r&&r.message){var n=r.message.split("User:")[1];n&&t.showError({error:new Error(n)})}},t.dismissDialog=function(){a.default.setState(n({},a.default.state,{open:a.default.state.fatal||!1}))}},VDnT:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("STAJ"),u=r("t+pW"),c=r("g8hj"),d=r("ijcw"),p=r("o/MK"),f=r("5w/s"),h=r("09Jm"),m=r("wF3w"),y=r("njgS"),g=r("tzV5"),v=r("bFnu"),b=r("t96T"),w=r("r8oj"),S=r("wweX"),_=r("mF3+"),k=r("0lqH"),C=r("MBf9"),E=r("y6Dp"),P=r("w5u6"),x=r("MeYt"),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPropertyRow=function(e){var r=t.props,n=r.store,o=r.format,a=r.collectionStore,l=r.disabled,s=r.locked,u=r.parentCollectionLocked,c=r.schema,f=r.blockPropertyValueOverlayStore;return i.createElement("div",{key:e,style:{display:"flex",paddingBottom:4}},i.createElement(d.default,{schema:c,format:o,property:e,store:n,collectionStore:a,disabled:l,locked:s,parentCollectionLocked:u,pagePropertiesStore:t.stores.pagePropertiesStore,blockPropertyValueOverlayStore:f}),i.createElement(p.default,{schema:c,property:e,store:n,collectionStore:a,disabled:l||s,parentCollectionLocked:u,pagePropertiesStore:t.stores.pagePropertiesStore,onTab:t.handleBlockPropertyTab,onUntab:t.handleBlockPropertyUntab,blockPropertyValueOverlayStore:f}))},t.handleReorder=function(e){var r=t.props.collectionStore,n=s.sortBy(function(t){var r=e.indexOf(t.property);return r>=0?r:1/0},t.getProperties());C.createAndCommit(function(e){f.updateFormat({stores:[r],update:{collection_page_properties:n},transaction:e})})},t.handleAddPropertyClick=function(){var e=t.props,r=e.collectionStore,n=e.schema,o=e.format,i=Object.keys(n),l=t.getProperties(),u=h.default("Property",function(e){return!i.find(function(t){var r=n[t];return Boolean(r&&r.name===e)})}),c=m.default(),d={name:u,type:"text"},p=s.assoc(c,d,n),f={property:c,visible:!0},y=s.append(f,l),v=s.set(s.lensPath(["collection_page_properties"]),y,o);C.createAndCommit(function(e){g.updateCollection({collectionStore:r,update:{schema:p,format:v},transaction:e})}),E.trackCreateProperty({from:"page_properties"}),t.stores.pagePropertiesStore.setState(a({},t.stores.pagePropertiesStore.state,{openProperty:c}))},t.handleBlockPropertyTab=function(){var e=t.props,r=e.store,n=e.blockPropertyValueOverlayStore,o=n.state;if(o.isOpen){var a=t.getProperties(),i=a.findIndex(function(e){return e.property===o.property}),l=a.find(function(e,r){return r>i&&t.canOpenProperty(e.property)})||a.find(function(e,r){return t.canOpenProperty(e.property)});l&&P.default.afterNextFlush(function(){S.open({blockPropertyValueOverlayStore:n,store:r,property:l.property,format:k.BlockPropertyValueFormat.Page})}),S.close({blockPropertyValueOverlayStore:n})}},t.handleBlockPropertyUntab=function(){var e=t.props,r=e.store,n=e.blockPropertyValueOverlayStore,o=n.state;if(o.isOpen){var a=t.getProperties(),i=a.findIndex(function(e){return e.property===o.property}),s=l.findLast(a,function(e,r){return r<i&&t.canOpenProperty(e.property)})||l.findLast(a,function(e,r){return t.canOpenProperty(e.property)});s&&P.default.afterNextFlush(function(){S.open({blockPropertyValueOverlayStore:n,store:r,property:s.property,format:k.BlockPropertyValueFormat.Page})}),S.close({blockPropertyValueOverlayStore:n})}},t.handleMouseEnter=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,r=e.paddingLeft,n=e.paddingRight,o=e.width,a=e.collectionStore,l=e.locked,s=e.parentCollectionLocked;return i.createElement("div",{style:t.style,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.createElement("div",{style:{paddingLeft:r,paddingRight:n,width:o,maxWidth:"100%",paddingTop:4,paddingBottom:8,margin:"0 auto"}},this.renderProperties(),a.canEdit()&&!l&&!s&&this.renderAddPropertyButton()))},t.prototype.renderProperties=function(){var e=this,t=this.props,r=t.disabled,n=t.locked,o=t.parentCollectionLocked,a=this.getProperties().map(function(e){return e.property});return w.default.isMobile||r||n||o?i.createElement("div",{style:c.default.verticalStyle},a.map(function(t,r){return i.createElement("div",{key:r},e.renderPropertyRow(t))})):i.createElement(c.default,{direction:c.DraggableListDirection.Vertical,keys:a,renderKey:this.renderPropertyRow,onDrop:this.handleReorder})},t.prototype.renderAddPropertyButton=function(){return i.createElement(x.default,{style:this.getAddPropertyButton(),onClick:this.handleAddPropertyClick},_.default.plus(this.getAddPropertyButtonIcon()),"Add a Property")},t.prototype.getProperties=function(){return this.props.format.collection_page_properties||[]},t.prototype.canOpenProperty=function(e){var t=this.props.schema[e];return Boolean(t&&!s.contains(t.type,y.noPropertyValueOverlayTypes))},t.prototype.getAddPropertyButton=function(){return{display:"flex",alignItems:"center",color:this.theme.lightTextColor,borderRadius:3,paddingLeft:6,paddingRight:6,height:34,width:w.default.isMobile?"100%":160}},t.prototype.getAddPropertyButtonIcon=function(){return{width:15,height:15,marginRight:11,marginTop:1,fill:this.theme.lightIconColor}},t.stores={mouseStore:v.default,pagePropertiesStore:b.default},t.style={width:"100%",fontSize:14},t}(u.default);t.default=T},VMJe:function(e,t,r){"use strict";var n;function o(e,t){for(var r=0;r<e.length;r++){if(e[r]>t[r])return-1;if(e[r]<t[r])return 1}return 0}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Breaking=0]="Breaking",e[e.Major=1]="Major",e[e.Minor=2]="Minor"}(n=t.UpdateType||(t.UpdateType={})),t.parseVersion=function(e){var t=e.match(/(\d+)\.(\d+)\.(\d+)/);if(t)return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]},t.formatVersion=function(e){if(e)return e.join(".")},t.getUpdateType=function(e){var t=e.currentVersion,r=e.nextVersion;return t&&r?r[0]>t[0]?n.Breaking:r[1]>t[1]?n.Major:n.Minor:n.Major},t.isEqualVersion=function(e,t){return!(!e||!t)&&0===o(e,t)},t.isGreaterThanVersion=function(e,t){return-1===o(e,t)},t.isLessThanVersion=function(e,t){return 1===o(e,t)}},VOS9:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("zTdN"),u=r("wldR"),c=r("WgIs"),d=r("2Y+N"),p=r("+mWT"),f=r("RQ1t"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=p.fuzzyMatchActions(this.props.sections,this.props.context,this.props.filter||""),r=new Map,n=t.map(function(t){return{key:t.key,render:function(r){return t.render(a({},r,{topBorder:0!==r.index||Boolean(e.props.topBorder),title:t.title}))},items:t.actions.map(function(t){var n={key:t.key,render:function(r,n){return t.render(r,e.props.context,{onAccept:e.props.onAccept,onFocus:n.onFocus})},action:function(r){var n=r.event;t.action(e.props.context,n)}};return r.set(n,t),n})}});return i.createElement(l.Fragment,null,0===t.length&&i.createElement(d.default,null,i.createElement(s.default,{title:this.props.empty||"No results"})),i.createElement(c.default,{store:this.stores.menuListStore,disableKeyboard:this.props.disableKeyboard,sections:n,initialFocus:this.props.initialFocus,disableMouseLeaveBlur:this.props.disableMouseLeaveBlur,onEmptyEnter:this.props.onEmptyEnter,onAccept:function(t,n){if(e.props.onAccept){var o=r.get(t);o&&e.props.onAccept(o,e.props.context,n.event)}}}))},t.stores={menuListStore:f.default},t}(u.default);t.default=h},VPGQ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isOpen:!1,shouldOpen:!1}},t}(r("LEzx").default);t.default=new a},VTj5:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__await||function(e){return this instanceof a?(this.v=e,this):new a(e)},i=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},l("next"),l("throw"),l("return"),n[Symbol.asyncIterator]=function(){return this},n;function l(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{(r=o[e](t)).value instanceof a?Promise.resolve(r.value.v).then(u,c):d(i[0][2],r)}catch(e){d(i[0][3],e)}var r}function u(e){s("next",e)}function c(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("bkwR"),u=r("yUnD"),c=r("l+8X"),d=r("T1hA"),p=r("+DAh"),f=r("HRSx"),h=r("FUUC"),m=r("Fe7V"),y=r("8L2b"),g=r("5/h/"),v=r("9axl");function b(e){return n(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:if(!c.default)throw new Error("No local database found.");if(!(e=d.default.state.userId))throw new Error("User is not logged in.");return[4,u.generateLocalRecordMap([{table:v.default.table,id:e}],function(e,t,r){var n,o,a,i,s,u,c,d,p=[];if(e===v.default.table){p.push({table:g.default.table,id:t});var m=r.value;if(m&&m.space_views)try{for(var b=l(m.space_views),w=b.next();!w.done;w=b.next()){var S=w.value;p.push({table:y.default.table,id:S})}}catch(e){n={error:e}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}}else if(e===y.default.table){var _=r.value;if(_&&_.bookmarked_pages)try{for(var k=l(_.bookmarked_pages),C=k.next();!C.done;C=k.next()){var E=C.value;p.push({table:f.default.table,id:E})}}catch(e){a={error:e}}finally{try{C&&!C.done&&(i=k.return)&&i.call(k)}finally{if(a)throw a.error}}if(_&&_.shared_pages)try{for(var P=l(_.shared_pages),x=P.next();!x.done;x=P.next()){E=x.value;p.push({table:f.default.table,id:E})}}catch(e){s={error:e}}finally{try{x&&!x.done&&(u=P.return)&&u.call(P)}finally{if(s)throw s.error}}_&&_.space_id&&p.push({table:h.default.table,id:_.space_id})}else if(e===h.default.table){var T=r.value;if(T&&T.pages)try{for(var O=l(T.pages),M=O.next();!M.done;M=O.next()){E=M.value;p.push({table:f.default.table,id:E})}}catch(e){c={error:e}}finally{try{M&&!M.done&&(d=O.return)&&d.call(O)}finally{if(c)throw c.error}}}return p})];case 1:return[2,{recordMap:t.sent()}]}})})}t.loadUserContent=function(){return i(this,arguments,function(){var e,t;return o(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,a(b({}))];case 1:return e=r.sent(),m.setRecordMap({recordCacheStore:p.default,recordMap:e.recordMap}),[4,a(e)];case 2:return[4,r.sent()];case 3:return r.sent(),[3,5];case 4:return r.sent(),[3,5];case 5:return[4,a(s.loadUserContent({}))];case 6:return"success"!==(t=r.sent()).type?[3,9]:[4,a(t.data)];case 7:return[4,r.sent()];case 8:return r.sent(),[3,10];case 9:throw t.error;case 10:return[2]}})})}},VVDu:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("ZQ9l"),s=r("wlCD"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(l.default,{title:a.createElement(s.default,null)})},t}(i.default);t.default=u},VVh3:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("q1tI"),s=r("mp8m"),u=r("wldR"),c=r("wlCD"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showSpinner=function(){t.props.loaded||t.stores.store.setState(a({},t.stores.store.state,{containerVisible:!1,spinnerVisible:!0,showSpinnerTime:Date.now()}))},t.showContent=function(){t.props.loaded&&t.stores.store.setState(a({},t.stores.store.state,{spinnerVisible:!1,containerVisible:!0}))},t}return o(t,e),t.prototype.didMount=function(){e.prototype.didMount.call(this),setTimeout(this.showSpinner,this.props.showSpinnerTimeout)},t.prototype.didMountOrUpdate=function(){e.prototype.didMountOrUpdate.call(this);var r=this.stores.store.state,n=r.containerVisible,o=r.spinnerVisible,a=r.showSpinnerTime;if(this.props.loaded&&!n){var i=Date.now()-a;o&&i<t.minShowSpinnerTime?setTimeout(this.showContent,t.minShowSpinnerTime-i):this.showContent()}},t.prototype.renderComponent=function(){return l.createElement("div",{style:this.getStyle(),className:this.props.className},l.createElement("div",{style:this.getInnerStyle()},this.props.children),this.stores.store.state.spinnerVisible&&l.createElement(c.default,{style:this.getSpinnerStyle()}))},t.prototype.getStyle=function(){var e={};return this.stores.store.state.spinnerVisible&&i.assign(e,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}),i.assign(e,this.props.style)},t.prototype.getInnerStyle=function(){return this.stores.store.state.containerVisible?this.props.innerStyle||{}:a({opacity:0,pointerEvents:"none",position:"absolute"},this.props.innerStyle)},t.prototype.getSpinnerStyle=function(){return{zIndex:1,opacity:.5,width:this.props.spinnerSize,height:this.props.spinnerSize,margin:8}},t.minShowSpinnerTime=1e3,t.stores={store:s.default},t}(u.default);t.default=d},VaV0:function(e,t,r){(function(n){var o,a;!function(n,a,i,l){a[n]=i.call(a);for(var s=0;s<l.length;s++)l[s](a[n]);e.exports?e.exports=a[n]:void 0===(o=function(){return a[n]}.call(t,r,t,e))||(e.exports=o)}("Primus",this||{},function(){return function(){return function e(t,r,n){function o(l,s){if(!r[l]){if(!t[l]){if(!s&&"function"==typeof a&&a)return a(l,!0);if(i)return i(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[l]={exports:{}};t[l][0].call(c.exports,function(e){return o(t[l][1][e]||e)},c,c.exports,e,t,r,n)}return r[l].exports}for(var i="function"==typeof a&&a,l=0;l<n.length;l++)o(n[l]);return o}}()({1:[function(e,t,r){"use strict";t.exports=function(e,t){var r=/[, ]+/;function n(e,n){if(t[e]){if("string"==typeof t[e]&&(t[e]=t[e].split(r)),"function"==typeof t[e])return t[e].call(n);for(var o,a,i=0;i<t[e].length;i++)"function"===(o=typeof(a=t[e][i]))?a.call(n):"string"===o&&"function"==typeof n[a]&&n[a]()}}return t=t||{},"string"==typeof(e=e||[])&&(e=e.split(r)),function(){var t,r=0;if(null===this[e[0]])return!1;for(n("before",this);r<e.length;r++)this[t=e[r]]&&("function"==typeof this[t].destroy&&this[t].destroy(),this[t]=null);return this.emit&&this.emit("destroy"),n("after",this),!0}}},{}],2:[function(e,t,r){"use strict";t.exports=function(){for(var e,t=this,r=0,n=arguments.length,o=new Array(n);r<n;r++)o[r]=arguments[r];return"function"!=typeof o[o.length-1]?function(){for(var e=0,r=arguments.length,n=new Array(r);e<r;e++)n[e]=arguments[e];return t.emit.apply(t,o.concat(n))}:(e=o.pop(),function(){for(var r=0,n=arguments.length,a=new Array(n+1);r<n;r++)a[r+1]=arguments[r];return a[0]=function(e,r){if(e)return t.emit("error",e);a=void 0===r?a.slice(1):null===r?[]:r,t.emit.apply(t,o.concat(a))},e.apply(t,a),!0})}},{}],3:[function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o="~";function a(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function l(e,t,r,n,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var l=new i(r,n||e,a),s=o?o+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],l]:e._events[s].push(l):(e._events[s]=l,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function u(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(o=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=o?o+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,i=new Array(a);n<a;n++)i[n]=r[n].fn;return i},u.prototype.listenerCount=function(e){var t=o?o+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,a,i){var l=o?o+e:e;if(!this._events[l])return!1;var s,u,c=this._events[l],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,a),!0;case 6:return c.fn.call(c.context,t,r,n,a,i),!0}for(u=1,s=new Array(d-1);u<d;u++)s[u-1]=arguments[u];c.fn.apply(c.context,s)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,n);break;default:if(!s)for(p=1,s=new Array(d-1);p<d;p++)s[p-1]=arguments[p];c[u].fn.apply(c[u].context,s)}}return!0},u.prototype.on=function(e,t,r){return l(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return l(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var a=o?o+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var i=this._events[a];if(i.fn)i.fn!==t||n&&!i.once||r&&i.context!==r||s(this,a);else{for(var l=0,u=[],c=i.length;l<c;l++)(i[l].fn!==t||n&&!i[l].once||r&&i[l].context!==r)&&u.push(i[l]);u.length?this._events[a]=1===u.length?u[0]:u:s(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&s(this,t)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=o,u.EventEmitter=u,void 0!==t&&(t.exports=u)},{}],4:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],5:[function(e,t,r){"use strict";var n=new RegExp("^((?:\\d+)?\\.?\\d+) *("+["milliseconds?","msecs?","ms","seconds?","secs?","s","minutes?","mins?","m","hours?","hrs?","h","days?","d","weeks?","wks?","w","years?","yrs?","y"].join("|")+")?$","i");t.exports=function(e){var t,r,o=typeof e;if("number"===o)return e;if("string"!==o||"0"===e||!e)return 0;if(+e)return+e;if(e.length>1e4||!(r=n.exec(e)))return 0;switch(t=parseFloat(r[1]),r[2].toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 31536e6*t;case"weeks":case"week":case"wks":case"wk":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;default:return t}}},{}],6:[function(e,t,r){"use strict";t.exports=function(e){var t,r=0;function n(){return r?t:(r=1,t=e.apply(this,arguments),e=null,t)}return n.displayName=e.displayName||e.name||n.displayName||n.name,n}},{}],7:[function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e){return decodeURIComponent(e.replace(/\+/g," "))}r.stringify=function(e,t){t=t||"";var r=[];for(var o in"string"!=typeof t&&(t="?"),e)n.call(e,o)&&r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return r.length?t+r.join("&"):""},r.parse=function(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,n={};t=r.exec(e);){var a=o(t[1]),i=o(t[2]);a in n||(n[a]=i)}return n}},{}],8:[function(e,t,r){"use strict";var n=e("eventemitter3"),o=e("millisecond"),a=e("demolish"),i=e("tick-tock"),l=e("one-time");function s(e,t,r){return o(e in r?r[e]:e in t?t[e]:u[e])}function u(e){if(!(this instanceof u))return new u(e);e=e||{},this.attempt=null,this._fn=null,this["reconnect timeout"]=s("reconnect timeout",this,e),this.retries=s("retries",this,e),this.factor=s("factor",this,e),this.max=s("max",this,e),this.min=s("min",this,e),this.timers=new i(this)}u.prototype=new n,u.prototype.constructor=u,u["reconnect timeout"]="30 seconds",u.max=1/0,u.min="500 ms",u.retries=10,u.factor=2,u.prototype.reconnect=function(){var e=this;return e.backoff(function(t,r){if(r.duration=+new Date-r.start,t)return e.emit("reconnect failed",t,r);e.emit("reconnected",r)},e.attempt)},u.prototype.backoff=function(e,t){var r=this;return(t=t||r.attempt||{}).backoff?r:(t["reconnect timeout"]=s("reconnect timeout",r,t),t.retries=s("retries",r,t),t.factor=s("factor",r,t),t.max=s("max",r,t),t.min=s("min",r,t),t.start=+t.start||+new Date,t.duration=+t.duration||0,t.attempt=+t.attempt||0,t.attempt===t.retries?(e.call(r,new Error("Unable to recover"),t),r):(t.backoff=!0,t.attempt++,r.attempt=t,t.scheduled=1!==t.attempt?Math.min(Math.round((Math.random()+1)*t.min*Math.pow(t.factor,t.attempt-1)),t.max):t.min,r.timers.setTimeout("reconnect",function(){t.duration=+new Date-t.start,t.backoff=!1,r.timers.clear("reconnect, timeout");var n=r._fn=l(function(n){if(r.reset(),n)return r.backoff(e,t);e.call(r,void 0,t)});r.emit("reconnect",t,n),r.timers.setTimeout("timeout",function(){var e=new Error("Failed to reconnect in a timely manner");t.duration=+new Date-t.start,r.emit("reconnect timeout",e,t),n(e)},t["reconnect timeout"])},t.scheduled),r.emit("reconnect scheduled",t),r))},u.prototype.reconnecting=function(){return!!this.attempt},u.prototype.reconnected=function(e){return this._fn&&this._fn(e),this},u.prototype.reset=function(){return this._fn=this.attempt=null,this.timers.clear("reconnect, timeout"),this},u.prototype.destroy=a("timers attempt _fn"),t.exports=u},{demolish:1,eventemitter3:9,millisecond:5,"one-time":6,"tick-tock":11}],9:[function(e,t,r){"use strict";var n="function"!=typeof Object.create&&"~";function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(){}a.prototype._events=void 0,a.prototype.listeners=function(e,t){var r=n?n+e:e,o=this._events&&this._events[r];if(t)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var a=0,i=o.length,l=new Array(i);a<i;a++)l[a]=o[a].fn;return l},a.prototype.emit=function(e,t,r,o,a,i){var l=n?n+e:e;if(!this._events||!this._events[l])return!1;var s,u,c=this._events[l],d=arguments.length;if("function"==typeof c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,o),!0;case 5:return c.fn.call(c.context,t,r,o,a),!0;case 6:return c.fn.call(c.context,t,r,o,a,i),!0}for(u=1,s=new Array(d-1);u<d;u++)s[u-1]=arguments[u];c.fn.apply(c.context,s)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;default:if(!s)for(p=1,s=new Array(d-1);p<d;p++)s[p-1]=arguments[p];c[u].fn.apply(c[u].context,s)}}return!0},a.prototype.on=function(e,t,r){var a=new o(t,r||this),i=n?n+e:e;return this._events||(this._events=n?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],a]:this._events[i].push(a):this._events[i]=a,this},a.prototype.once=function(e,t,r){var a=new o(t,r||this,!0),i=n?n+e:e;return this._events||(this._events=n?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],a]:this._events[i].push(a):this._events[i]=a,this},a.prototype.removeListener=function(e,t,r,o){var a=n?n+e:e;if(!this._events||!this._events[a])return this;var i=this._events[a],l=[];if(t)if(i.fn)(i.fn!==t||o&&!i.once||r&&i.context!==r)&&l.push(i);else for(var s=0,u=i.length;s<u;s++)(i[s].fn!==t||o&&!i[s].once||r&&i[s].context!==r)&&l.push(i[s]);return l.length?this._events[a]=1===l.length?l[0]:l:delete this._events[a],this},a.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[n?n+e:e]:this._events=n?{}:Object.create(null),this):this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=n,void 0!==t&&(t.exports=a)},{}],10:[function(e,t,r){"use strict";t.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}],11:[function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=e("millisecond");function a(e,t,r,n){this.start=+new Date,this.duration=r,this.clear=t,this.timer=e,this.fns=[n]}function i(e){clearTimeout(e)}function l(e){clearInterval(e)}function s(e){clearImmediate(e)}function u(e){if(!(this instanceof u))return new u(e);this.timers={},this.context=e||this}a.prototype.remaining=function(){return this.duration-this.taken()},a.prototype.taken=function(){return+new Date-this.start},u.prototype.tock=function(e,t){var r=this;return function(){if(e in r.timers){var n=r.timers[e].fns.slice(),o=n.length,a=0;for(t?r.clear(e):r.start=+new Date;a<o;a++)n[a].call(r.context)}}},u.prototype.setTimeout=function(e,t,r){var n;return this.timers[e]?(this.timers[e].fns.push(t),this):(n=o(r),this.timers[e]=new a(setTimeout(this.tock(e,!0),o(r)),i,n,t),this)},u.prototype.setInterval=function(e,t,r){var n;return this.timers[e]?(this.timers[e].fns.push(t),this):(n=o(r),this.timers[e]=new a(setInterval(this.tock(e),o(r)),l,n,t),this)},u.prototype.setImmediate=function(e,t){return"function"!=typeof setImmediate?this.setTimeout(e,t,0):this.timers[e]?(this.timers[e].fns.push(t),this):(this.timers[e]=new a(setImmediate(this.tock(e,!0)),s,0,t),this)},u.prototype.active=function(e){return e in this.timers},u.prototype.clear=function(){var e,t,r,o=arguments.length?arguments:[];if(1===o.length&&"string"==typeof o[0]&&(o=o[0].split(/[, ]+/)),!o.length)for(e in this.timers)n.call(this.timers,e)&&o.push(e);for(t=0,r=o.length;t<r;t++)(e=this.timers[o[t]])&&(e.clear(e.timer),e.fns=e.timer=e.clear=null,delete this.timers[o[t]]);return this},u.prototype.adjust=function(e,t){var r,n=o(t),a=this.timers[e];return a?(r=a.clear===l,a.clear(a.timer),a.start=+new Date,a.duration=n,a.timer=(r?setInterval:setTimeout)(this.tock(e,!r),n),this):this},u.prototype.end=u.prototype.destroy=function(){return!!this.context&&(this.clear(),this.context=this.timers=null,!0)},u.Timer=a,t.exports=u},{millisecond:5}],12:[function(e,t,r){(function(r){"use strict";var n=e("requires-port"),o=e("querystringify"),a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,l=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],s={hash:1,query:1};function u(e){var t,n={},o=typeof(e=e||r.location||{});if("blob:"===e.protocol)n=new d(unescape(e.pathname),{});else if("string"===o)for(t in n=new d(e,{}),s)delete n[t];else if("object"===o){for(t in e)t in s||(n[t]=e[t]);void 0===n.slashes&&(n.slashes=i.test(e.href))}return n}function c(e){var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function d(e,t,r){if(!(this instanceof d))return new d(e,t,r);var a,i,s,p,f,h,m=l.slice(),y=typeof t,g=this,v=0;for("object"!==y&&"string"!==y&&(r=t,t=null),r&&"function"!=typeof r&&(r=o.parse),t=u(t),a=!(i=c(e||"")).protocol&&!i.slashes,g.slashes=i.slashes||a&&t.slashes,g.protocol=i.protocol||t.protocol||"",e=i.rest,i.slashes||(m[2]=[/(.*)/,"pathname"]);v<m.length;v++)s=(p=m[v])[0],h=p[1],s!=s?g[h]=e:"string"==typeof s?~(f=e.indexOf(s))&&("number"==typeof p[2]?(g[h]=e.slice(0,f),e=e.slice(f+p[2])):(g[h]=e.slice(f),e=e.slice(0,f))):(f=s.exec(e))&&(g[h]=f[1],e=e.slice(0,f.index)),g[h]=g[h]||a&&p[3]&&t[h]||"",p[4]&&(g[h]=g[h].toLowerCase());r&&(g.query=r(g.query)),a&&t.slashes&&"/"!==g.pathname.charAt(0)&&(""!==g.pathname||""!==t.pathname)&&(g.pathname=function(e,t){for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,o=r[n-1],a=!1,i=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),i++):i&&(0===n&&(a=!0),r.splice(n,1),i--);return a&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(g.pathname,t.pathname)),n(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(p=g.auth.split(":"),g.username=p[0]||"",g.password=p[1]||""),g.origin=g.protocol&&g.host&&"file:"!==g.protocol?g.protocol+"//"+g.host:"null",g.href=g.toString()}d.prototype={set:function(e,t,r){var a=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||o.parse)(t)),a[e]=t;break;case"port":a[e]=t,n(t,a.protocol)?t&&(a.host=a.hostname+":"+t):(a.host=a.hostname,a[e]="");break;case"hostname":a[e]=t,a.port&&(t+=":"+a.port),a.host=t;break;case"host":a[e]=t,/:\d+$/.test(t)?(t=t.split(":"),a.port=t.pop(),a.hostname=t.join(":")):(a.hostname=t,a.port="");break;case"protocol":a.protocol=t.toLowerCase(),a.slashes=!r;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";a[e]=t.charAt(0)!==i?i+t:t}else a[e]=t;break;default:a[e]=t}for(var s=0;s<l.length;s++){var u=l[s];u[4]&&(a[u[1]]=a[u[1]].toLowerCase())}return a.origin=a.protocol&&a.host&&"file:"!==a.protocol?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var a=n+(r.slashes?"//":"");return r.username&&(a+=r.username,r.password&&(a+=":"+r.password),a+="@"),a+=r.host+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(a+=r.hash),a}},d.extractProtocol=c,d.location=u,d.qs=o,t.exports=d}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:7,"requires-port":10}],13:[function(e,t,r){"use strict";var n,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,i={},l=0,s=0;function u(e){var t="";do{t=o[e%a]+t,e=Math.floor(e/a)}while(e>0);return t}function c(){var e=u(+new Date);return e!==n?(l=0,n=e):e+"."+u(l++)}for(;s<a;s++)i[o[s]]=s;c.encode=u,c.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=t*a+i[e.charAt(s)];return t},t.exports=c},{}],14:[function(e,t,r){"use strict";var n,o=e("eventemitter3"),a=e("tick-tock"),i=e("recovery"),l=e("querystringify"),s=e("inherits"),u=e("demolish"),c=e("yeast"),d=/\u2028/g,p=/\u2029/g;function f(e,t){if(!(e instanceof h)){var r=new Error("Primus#"+t+"'s context should called with a Primus instance");if("function"!=typeof e.listeners||!e.listeners("error").length)throw r;e.emit("error",r)}}try{n=location.origin?location.origin:location.protocol+"//"+location.host}catch(e){n="http://127.0.0.1"}function h(e,t){if(!(this instanceof h))return new h(e,t);if(h.Stream.call(this),"function"!=typeof this.client)return this.critical(new Error("The client library has not been compiled correctly, see https://github.com/primus/primus#client-library for more details"));if("object"==typeof e?e=(t=e).url||t.uri||n:t=t||{},"ping"in t||"pong"in t)return this.critical(new Error("The `ping` and `pong` options have been removed"));var r=this;t.queueSize="queueSize"in t?t.queueSize:1/0,t.timeout="timeout"in t?t.timeout:1e4,t.reconnect="reconnect"in t?t.reconnect:{},t.pingTimeout="pingTimeout"in t?t.pingTimeout:45e3,t.strategy="strategy"in t?t.strategy:[],t.transport="transport"in t?t.transport:{},r.buffer=[],r.writable=!0,r.readable=!0,r.url=r.parse(e||n),r.readyState=h.CLOSED,r.options=t,r.timers=new a(this),r.socket=null,r.disconnect=!1,r.transport=t.transport,r.transformers={outgoing:[],incoming:[]},r.recovery=new i(t.reconnect),"string"==typeof t.strategy&&(t.strategy=t.strategy.split(/\s?,\s?/g)),!1===t.strategy?t.strategy=[]:t.strategy.length||(t.strategy.push("disconnect","online"),this.authorization||t.strategy.push("timeout")),t.strategy=t.strategy.join(",").toLowerCase(),"websockets"in t&&(r.AVOID_WEBSOCKETS=!t.websockets),"network"in t&&(r.NETWORK_EVENTS=t.network),t.manual||r.timers.setTimeout("open",function(){r.timers.clear("open"),r.open()},0),r.initialise(t)}h.requires=h.require=function(t){if("function"==typeof e)return e(t)};try{h.Stream=h.requires("stream")}catch(e){}h.Stream||(h.Stream=o),s(h,h.Stream),h.OPENING=1,h.CLOSED=2,h.OPEN=3,h.prototype.AVOID_WEBSOCKETS=!1,h.prototype.NETWORK_EVENTS=!1,h.prototype.online=!0;try{(h.prototype.NETWORK_EVENTS="onLine"in navigator&&(window.addEventListener||document.body.attachEvent))&&(navigator.onLine||(h.prototype.online=!1))}catch(e){}if(h.prototype.ark={},h.prototype.emits=e("emits"),h.prototype.plugin=function(e){if(f(this,"plugin"),e)return this.ark[e];var t={};for(e in this.ark)t[e]=this.ark[e];return t},h.prototype.reserved=function(e){return/^(incoming|outgoing)::/.test(e)||e in this.reserved.events},h.prototype.reserved.events={"reconnect scheduled":1,"reconnect timeout":1,readyStateChange:1,"reconnect failed":1,reconnected:1,reconnect:1,offline:1,timeout:1,destroy:1,online:1,error:1,close:1,open:1,data:1,end:1},h.prototype.initialise=function(e){var t=this;for(var r in t.recovery.on("reconnected",t.emits("reconnected")).on("reconnect failed",t.emits("reconnect failed",function(e){t.emit("end"),e()})).on("reconnect timeout",t.emits("reconnect timeout")).on("reconnect scheduled",t.emits("reconnect scheduled")).on("reconnect",t.emits("reconnect",function(e){t.emit("outgoing::reconnect"),e()})),t.on("outgoing::open",function(){var e=t.readyState;t.readyState=h.OPENING,e!==t.readyState&&t.emit("readyStateChange","opening")}),t.on("incoming::open",function(){var e=t.readyState;if(t.recovery.reconnecting()&&t.recovery.reconnected(),t.writable=!0,t.readable=!0,t.online||(t.online=!0,t.emit("online")),t.readyState=h.OPEN,e!==t.readyState&&t.emit("readyStateChange","open"),t.heartbeat(),t.buffer.length){var r=t.buffer.slice(),n=r.length,o=0;for(t.buffer.length=0;o<n;o++)t._write(r[o])}t.emit("open")}),t.on("incoming::ping",function(e){t.online=!0,t.heartbeat(),t.emit("outgoing::pong",e),t._write("primus::pong::"+e)}),t.on("incoming::error",function(e){var r=t.timers.active("connect"),n=e;if("string"==typeof e)n=new Error(e);else if(!(e instanceof Error)&&"object"==typeof e)for(var o in n=new Error(e.message||e.reason),e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);if(t.recovery.reconnecting())return t.recovery.reconnected(n);t.listeners("error").length&&t.emit("error",n),r&&(~t.options.strategy.indexOf("timeout")?t.recovery.reconnect():t.end())}),t.on("incoming::data",function(e){t.decoder(e,function(r,n){if(r)return t.listeners("error").length&&t.emit("error",r);t.protocol(n)||t.transforms(t,t,"incoming",n,e)})}),t.on("incoming::end",function(){var e=t.readyState;return t.disconnect?(t.disconnect=!1,t.end()):(t.readyState=h.CLOSED,e!==t.readyState&&t.emit("readyStateChange","end"),t.timers.active("connect")&&t.end(),e!==h.OPEN?!!t.recovery.reconnecting()&&t.recovery.reconnect():(this.writable=!1,this.readable=!1,this.timers.clear(),t.emit("close"),~t.options.strategy.indexOf("disconnect")?t.recovery.reconnect():(t.emit("outgoing::end"),void t.emit("end"))))}),t.client(),t.ark)t.ark[r].call(t,t,e);return t.NETWORK_EVENTS?(t.offlineHandler=function(){t.online&&(t.online=!1,t.emit("offline"),t.end(),t.recovery.reset())},t.onlineHandler=function(){t.online||(t.online=!0,t.emit("online"),~t.options.strategy.indexOf("online")&&t.recovery.reconnect())},window.addEventListener?(window.addEventListener("offline",t.offlineHandler,!1),window.addEventListener("online",t.onlineHandler,!1)):document.body.attachEvent&&(document.body.attachEvent("onoffline",t.offlineHandler),document.body.attachEvent("ononline",t.onlineHandler)),t):t},h.prototype.protocol=function(e){if("string"!=typeof e||0!==e.indexOf("primus::"))return!1;var t=e.indexOf(":",8),r=e.slice(t+2);switch(e.slice(8,t)){case"ping":this.emit("incoming::ping",+r);break;case"server":"close"===r&&(this.disconnect=!0);break;case"id":this.emit("incoming::id",r);break;default:return!1}return!0},h.prototype.transforms=function(e,t,r,n,o){var a={data:n},i=e.transformers[r];return function e(r,n){var o=i[r++];if(!o)return n();if(1===o.length){if(!1===o.call(t,a))return;return e(r,n)}o.call(t,a,function(o,a){if(o)return t.emit("error",o);!1!==a&&e(r,n)})}(0,function(){if("incoming"===r)return t.emit("data",a.data,o);t._write(a.data)}),this},h.prototype.id=function(e){return this.socket&&this.socket.id?e(this.socket.id):(this._write("primus::id::"),this.once("incoming::id",e))},h.prototype.open=function(){return f(this,"open"),!this.recovery.reconnecting()&&this.options.timeout&&this.timeout(),this.emit("outgoing::open"),this},h.prototype.write=function(e){return f(this,"write"),this.transforms(this,this,"outgoing",e),!0},h.prototype._write=function(e){var t=this;return h.OPEN!==t.readyState?(this.buffer.length===this.options.queueSize&&this.buffer.splice(0,1),this.buffer.push(e),!1):(t.encoder(e,function(e,r){if(e)return t.listeners("error").length&&t.emit("error",e);"string"==typeof r&&(~r.indexOf("\u2028")&&(r=r.replace(d,"\\u2028")),~r.indexOf("\u2029")&&(r=r.replace(p,"\\u2029"))),t.emit("outgoing::data",r)}),!0)},h.prototype.heartbeat=function(){return this.options.pingTimeout?(this.timers.clear("heartbeat"),this.timers.setTimeout("heartbeat",function(){this.online&&(this.online=!1,this.emit("offline"),this.emit("incoming::end"))},this.options.pingTimeout),this):this},h.prototype.timeout=function(){var e=this;function t(){e.removeListener("error",t).removeListener("open",t).removeListener("end",t).timers.clear("connect")}return e.timers.setTimeout("connect",function(){t(),e.readyState===h.OPEN||e.recovery.reconnecting()||(e.emit("timeout"),~e.options.strategy.indexOf("timeout")?e.recovery.reconnect():e.end())},e.options.timeout),e.on("error",t).on("open",t).on("end",t)},h.prototype.end=function(e){if(f(this,"end"),this.readyState===h.CLOSED&&!this.timers.active("connect")&&!this.timers.active("open"))return this.recovery.reconnecting()&&(this.recovery.reset(),this.emit("end")),this;void 0!==e&&this.write(e),this.writable=!1,this.readable=!1;var t=this.readyState;return this.readyState=h.CLOSED,t!==this.readyState&&this.emit("readyStateChange","end"),this.timers.clear(),this.emit("outgoing::end"),this.emit("close"),this.emit("end"),this},h.prototype.destroy=u("url timers options recovery socket transport transformers",{before:"end",after:["removeAllListeners",function(){this.NETWORK_EVENTS&&(window.addEventListener?(window.removeEventListener("offline",this.offlineHandler),window.removeEventListener("online",this.onlineHandler)):document.body.attachEvent&&(document.body.detachEvent("onoffline",this.offlineHandler),document.body.detachEvent("ononline",this.onlineHandler)))}]}),h.prototype.clone=function(e){return this.merge({},e)},h.prototype.merge=function(e){for(var t,r,n=1;n<arguments.length;n++)for(t in r=arguments[n])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e},h.prototype.parse=e("url-parse"),h.prototype.querystring=l.parse,h.prototype.querystringify=l.stringify,h.prototype.uri=function(e){var t=this.url,r=[],n=!1;e.query&&(n=!0),(e=e||{}).protocol="protocol"in e?e.protocol:"http:",e.query=!(!t.query||!n)&&t.query.slice(1),e.secure="secure"in e?e.secure:"https:"===t.protocol||"wss:"===t.protocol,e.auth="auth"in e?e.auth:t.auth,e.pathname="pathname"in e?e.pathname:this.pathname,e.port="port"in e?+e.port:+t.port||(e.secure?443:80);var o=this.querystring(e.query||"");return o._primuscb=c(),e.query=this.querystringify(o),this.emit("outgoing::url",e),r.push(e.secure?e.protocol.replace(":","s:"):e.protocol,""),r.push(e.auth?e.auth+"@"+t.host:t.host),e.pathname&&r.push(e.pathname.slice(1)),n?r[r.length-1]+="?"+e.query:delete e.query,e.object?e:r.join("/")},h.prototype.transform=function(e,t){return f(this,"transform"),e in this.transformers?(this.transformers[e].push(t),this):this.critical(new Error("Invalid transformer type"))},h.prototype.critical=function(e){if(this.emit("error",e))return this;throw e},h.connect=function(e,t){return new h(e,t)},h.EventEmitter=o,h.prototype.client=function(){var e,t=this.emits("incoming::data"),r=this.emits("incoming::error"),n=this.emits("incoming::open"),o=this.emits("incoming::end"),a=this,i=function(){if("undefined"!=typeof eio)return eio;try{return h.requires("engine.io-client")}catch(e){}}();if(!i)return a.critical(new Error("Missing required `engine.io-client` module. Please run `npm install --save engine.io-client`"));a.on("outgoing::open",function(){a.emit("outgoing::end"),a.socket=e=i(a.merge(a.transport,a.url,a.uri({protocol:"http:",query:!0,object:!0}),{rememberUpgrade:!1,forceBase64:!0,enablesXDR:!1,timestampRequests:!0,path:this.pathname,transports:a.AVOID_WEBSOCKETS?["polling"]:["polling","websocket"]})),i.sockets&&i.sockets.length&&(i.sockets.length=0),e.on("message",t),e.on("error",r),e.on("close",o),e.on("open",n)}),a.on("outgoing::data",function(t){e&&e.send(t)}),a.on("outgoing::reconnect",function(){a.emit("outgoing::open")}),a.on("outgoing::end",function(){e&&(e.removeListener("message",t),e.removeListener("error",r),e.removeListener("close",o),e.removeListener("open",n),e.close(),e=null)})},h.prototype.authorization=!1,h.prototype.pathname="/primus",h.prototype.encoder=function(e,t){var r;try{e=JSON.stringify(e)}catch(e){r=e}t(r,e)},h.prototype.decoder=function(e,t){var r;if("string"!=typeof e)return t(r,e);try{e=JSON.parse(e)}catch(e){r=e}t(r,e)},h.prototype.version="7.2.2","undefined"!=typeof document&&"undefined"!=typeof navigator){document.addEventListener&&document.addEventListener("keydown",function(e){27===e.keyCode&&e.preventDefault&&e.preventDefault()},!1);var m=(navigator.userAgent||"").toLowerCase(),y=m.match(/.+(?:rv|it|ra|ie)[\/: ](\d+)\.(\d+)(?:\.(\d+))?/)||[],g=+[y[1],y[2]].join(".");!~m.indexOf("chrome")&&~m.indexOf("safari")&&g<534.54&&(h.prototype.AVOID_WEBSOCKETS=!0)}t.exports=h},{demolish:1,emits:2,eventemitter3:3,inherits:4,querystringify:7,recovery:8,"tick-tock":11,"url-parse":12,yeast:13}]},{},[14])(14)},[function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self),t.eio=function e(t,r,n){function o(l,s){if(!r[l]){if(!t[l]){var u="function"==typeof a&&a;if(!s&&u)return a(l,!0);if(i)return i(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var d=r[l]={exports:{}};t[l][0].call(d.exports,function(e){var r=t[l][1][e];return o(r||e)},d,d.exports,e,t,r,n)}return r[l].exports}for(var i="function"==typeof a&&a,l=0;l<n.length;l++)o(n[l]);return o}({1:[function(e,t,r){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":2,"engine.io-parser":16}],2:[function(e,t,r){(function(r){var n=e("./transports/index"),o=e("component-emitter"),a=e("indexof"),i=e("engine.io-parser"),l=e("parseuri"),s=e("parsejson"),u=e("parseqs");function c(e,t){if(!(this instanceof c))return new c(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:r.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(r.location?location.hostname:"localhost"),this.port=t.port||(r.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode;var n="object"==typeof r&&r;n.global===n&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=c,c.priorWebsocketSuccess=!1,o(c.prototype),c.protocol=i.protocol,c.Socket=c,c.Transport=e("./transport"),c.transports=e("./transports/index"),c.parser=e("engine.io-parser"),c.prototype.createTransport=function(e){var t=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}(this.query);t.EIO=i.protocol,t.transport=e;var r=this.transportOptions[e]||{};this.id&&(t.sid=this.id);var o=new n[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0});return o},c.prototype.open=function(){var e;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},c.prototype.setTransport=function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},c.prototype.probe=function(e){var t=this.createTransport(e,{probe:1}),r=!1,n=this;function o(){if(n.onlyBinaryUpgrades){var e=!this.supportsBinary&&n.transport.supportsBinary;r=r||e}r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",function(e){if(!r)if("pong"===e.type&&"probe"===e.data){if(n.upgrading=!0,n.emit("upgrading",t),!t)return;c.priorWebsocketSuccess="websocket"===t.name,n.transport.pause(function(){r||"closed"!==n.readyState&&(d(),n.setTransport(t),t.send([{type:"upgrade"}]),n.emit("upgrade",t),t=null,n.upgrading=!1,n.flush())})}else{var o=new Error("probe error");o.transport=t.name,n.emit("upgradeError",o)}}))}function a(){r||(r=!0,d(),t.close(),t=null)}function i(e){var r=new Error("probe error: "+e);r.transport=t.name,a(),n.emit("upgradeError",r)}function l(){i("transport closed")}function s(){i("socket closed")}function u(e){t&&e.name!==t.name&&a()}function d(){t.removeListener("open",o),t.removeListener("error",i),t.removeListener("close",l),n.removeListener("close",s),n.removeListener("upgrading",u)}c.priorWebsocketSuccess=!1,t.once("open",o),t.once("error",i),t.once("close",l),this.once("close",s),this.once("upgrading",u),t.open()},c.prototype.onOpen=function(){if(this.readyState="open",c.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])},c.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(s(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}},c.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},c.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},c.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},c.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},c.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},c.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},c.prototype.write=c.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this},c.prototype.sendPacket=function(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var o={type:e,data:t,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}},c.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}function t(){e.onClose("forced close"),e.transport.close()}function r(){e.removeListener("upgrade",r),e.removeListener("upgradeError",r),t()}function n(){e.once("upgrade",r),e.once("upgradeError",r)}return this},c.prototype.onError=function(e){c.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},c.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},c.prototype.filterUpgrades=function(e){for(var t=[],r=0,n=e.length;r<n;r++)~a(this.transports,e[r])&&t.push(e[r]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":3,"./transports/index":4,"component-emitter":14,"engine.io-parser":16,indexof:21,parsejson:23,parseqs:24,parseuri:25}],3:[function(e,t,r){var n=e("engine.io-parser"),o=e("component-emitter");function a(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}t.exports=a,o(a.prototype),a.prototype.onError=function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,this.emit("error",r),this},a.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},a.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},a.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},a.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},a.prototype.onData=function(e){var t=n.decodePacket(e,this.socket.binaryType);this.onPacket(t)},a.prototype.onPacket=function(e){this.emit("packet",e)},a.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":14,"engine.io-parser":16}],4:[function(e,t,r){(function(t){var n=e("xmlhttprequest-ssl"),o=e("./polling-xhr"),a=e("./polling-jsonp"),i=e("./websocket");r.polling=function(e){var r=!1,i=!1,l=!1!==e.jsonp;if(t.location){var s="https:"===location.protocol,u=location.port;u||(u=s?443:80),r=e.hostname!==location.hostname||u!==e.port,i=e.secure!==s}if(e.xdomain=r,e.xscheme=i,"open"in new n(e)&&!e.forceJSONP)return new o(e);if(!l)throw new Error("JSONP disabled");return new a(e)},r.websocket=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":5,"./polling-xhr":6,"./websocket":8,"xmlhttprequest-ssl":9}],5:[function(e,t,r){(function(r){var n=e("./polling"),o=e("component-inherit");t.exports=u;var a,i=/\n/g,l=/\\n/g;function s(){}function u(e){n.call(this,e),this.query=this.query||{},a||(r.___eio||(r.___eio=[]),a=r.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,r.document&&r.addEventListener&&r.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=s)},!1)}o(u,n),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},u.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},u.prototype.doWrite=function(e,t){var r=this;if(!this.form){var n,o=document.createElement("form"),a=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=s,o.method="POST",o.setAttribute("accept-charset","utf-8"),a.name="d",o.appendChild(a),document.body.appendChild(o),this.form=o,this.area=a}function u(){c(),t()}function c(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(e)}catch(e){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),c(),e=e.replace(l,"\\\n"),this.area.value=e.replace(i,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&u()}:this.iframe.onload=u}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":7,"component-inherit":15}],6:[function(e,t,r){(function(r){var n=e("xmlhttprequest-ssl"),o=e("./polling"),a=e("component-emitter"),i=e("component-inherit");function l(){}function s(e){if(o.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,r.location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd=e.hostname!==r.location.hostname||n!==e.port,this.xs=e.secure!==t}}function u(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function c(){for(var e in u.requests)u.requests.hasOwnProperty(e)&&u.requests[e].abort()}t.exports=s,t.exports.Request=u,i(s,o),s.prototype.supportsBinary=!0,s.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new u(e)},s.prototype.doWrite=function(e,t){var r="string"!=typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:r}),o=this;n.on("success",t),n.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=n},s.prototype.doPoll=function(){var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},a(u.prototype),u.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new n(e),o=this;try{t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var a in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(a)&&t.setRequestHeader(a,this.extraHeaders[a])}catch(e){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){o.onLoad()},t.onerror=function(){o.onError(t.responseText)}):t.onreadystatechange=function(){4===t.readyState&&(200===t.status||1223===t.status?o.onLoad():setTimeout(function(){o.onError(t.status)},0))},t.send(this.data)}catch(e){return void setTimeout(function(){o.onError(e)},0)}r.document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},u.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},u.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(e){}r.document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var r=new Uint8Array(this.xhr.response),n=[],o=0,a=r.length;o<a;o++)n.push(r[o]);e=String.fromCharCode.apply(null,n)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},u.prototype.hasXDR=function(){return void 0!==r.XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},r.document&&(r.attachEvent?r.attachEvent("onunload",c):r.addEventListener&&r.addEventListener("beforeunload",c,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":7,"component-emitter":14,"component-inherit":15,"xmlhttprequest-ssl":9}],7:[function(e,t,r){var n=e("../transport"),o=e("parseqs"),a=e("engine.io-parser"),i=e("component-inherit"),l=e("yeast");t.exports=u;var s=null!=new(e("xmlhttprequest-ssl"))({xdomain:!1}).responseType;function u(e){var t=e&&e.forceBase64;s&&!t||(this.supportsBinary=!1),n.call(this,e)}i(u,n),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(e){var t=this;function r(){t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()},u.prototype.poll=function(){this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(e){var t=this;a.decodePayload(e,this.socket.binaryType,this.supportsBinary,function(e,r,n){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())},u.prototype.doClose=function(){var e=this;function t(){e.write([{type:"close"}])}"open"===this.readyState?t():this.once("open",t)},u.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,r)})},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(r=":"+this.port),e.length&&(e="?"+e);var n=-1!==this.hostname.indexOf(":");return t+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+e}},{"../transport":3,"component-inherit":15,"engine.io-parser":16,parseqs:24,"xmlhttprequest-ssl":9,yeast:26}],8:[function(e,t,r){(function(r){var n,o=e("../transport"),a=e("engine.io-parser"),i=e("parseqs"),l=e("component-inherit"),s=e("yeast"),u=r.WebSocket||r.MozWebSocket;if("undefined"==typeof window)try{n=e("ws")}catch(e){}var c=u;function d(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=u&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(c=n),o.call(this,e)}c||"undefined"!=typeof window||(c=n),t.exports=d,l(d,o),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new c(e,t):new c(e):new c(e,t,r)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},d.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,o=0,i=n;o<i;o++)!function(e){a.encodePacket(e,t.supportsBinary,function(o){if(!t.usingBrowserWebSocket){var a={};if(e.options&&(a.compress=e.options.compress),t.perMessageDeflate){var i="string"==typeof o?r.Buffer.byteLength(o):o.length;i<t.perMessageDeflate.threshold&&(a.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(o):t.ws.send(o,a)}catch(e){}--n||(t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0))})}(e[o])},d.prototype.onClose=function(){o.prototype.onClose.call(this)},d.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},d.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||(e.b64=1),(e=i.encode(e)).length&&(e="?"+e);var n=-1!==this.hostname.indexOf(":");return t+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+e},d.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===d.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":3,"component-inherit":15,"engine.io-parser":16,parseqs:24,ws:void 0,yeast:26}],9:[function(e,t,r){(function(r){var n=e("has-cors");t.exports=function(e){var t=e.xdomain,o=e.xscheme,a=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!o&&a)return new XDomainRequest}catch(e){}if(!t)try{return new(r[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"has-cors":20}],10:[function(e,t,r){function n(){}t.exports=function(e,t,r){var o=!1;return r=r||n,a.count=e,0===e?t():a;function a(e,n){if(a.count<=0)throw new Error("after called too many times");--a.count,e?(o=!0,t(e),t=r):0!==a.count||o||t(null,n)}}},{}],11:[function(e,t,r){t.exports=function(e,t,r){var n=e.byteLength;if(t=t||0,r=r||n,e.slice)return e.slice(t,r);if(t<0&&(t+=n),r<0&&(r+=n),r>n&&(r=n),t>=n||t>=r||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(e),a=new Uint8Array(r-t),i=t,l=0;i<r;i++,l++)a[l]=o[i];return a.buffer}},{}],12:[function(e,t,r){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),n=0;n<e.length;n++)t[e.charCodeAt(n)]=n;r.encode=function(t){var r,n=new Uint8Array(t),o=n.length,a="";for(r=0;r<o;r+=3)a+=e[n[r]>>2],a+=e[(3&n[r])<<4|n[r+1]>>4],a+=e[(15&n[r+1])<<2|n[r+2]>>6],a+=e[63&n[r+2]];return o%3==2?a=a.substring(0,a.length-1)+"=":o%3==1&&(a=a.substring(0,a.length-2)+"=="),a},r.decode=function(e){var r,n,o,a,i,l=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(l--,"="===e[e.length-2]&&l--);var c=new ArrayBuffer(l),d=new Uint8Array(c);for(r=0;r<s;r+=4)n=t[e.charCodeAt(r)],o=t[e.charCodeAt(r+1)],a=t[e.charCodeAt(r+2)],i=t[e.charCodeAt(r+3)],d[u++]=n<<2|o>>4,d[u++]=(15&o)<<4|a>>2,d[u++]=(3&a)<<6|63&i;return c}}()},{}],13:[function(e,t,r){(function(e){var r=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,n=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(e){return!1}}(),o=n&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(e){return!1}}(),a=r&&r.prototype.append&&r.prototype.getBlob;function i(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var o=new Uint8Array(r.byteLength);o.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=o.buffer}e[t]=n}}}function l(e,t){t=t||{};var n=new r;i(e);for(var o=0;o<e.length;o++)n.append(e[o]);return t.type?n.getBlob(t.type):n.getBlob()}function s(e,t){return i(e),new Blob(e,t||{})}t.exports=n?o?e.Blob:s:a?l:void 0}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}void 0!==t&&(t.exports=n),n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks["$"+e];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],15:[function(e,t,r){t.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],16:[function(e,t,r){(function(t){var n,o=e("./keys"),a=e("has-binary2"),i=e("arraybuffer.slice"),l=e("after"),s=e("./utf8");t&&t.ArrayBuffer&&(n=e("base64-arraybuffer"));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),c="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=u||c;r.protocol=3;var p=r.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=o(p),h={type:"error",data:"parser error"},m=e("blob");function y(e){try{e=s.decode(e,{strict:!1})}catch(e){return!1}return e}function g(e,t,r){for(var n=new Array(e.length),o=l(e.length,r),a=function(e,r,o){t(r,function(t,r){n[e]=r,o(t,n)})},i=0;i<e.length;i++)a(i,e[i],o)}r.encodePacket=function(e,n,o,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof o&&(a=o,o=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&i instanceof ArrayBuffer)return function(e,t,n){if(!t)return r.encodeBase64Packet(e,n);var o=e.data,a=new Uint8Array(o),i=new Uint8Array(1+o.byteLength);i[0]=p[e.type];for(var l=0;l<a.length;l++)i[l+1]=a[l];return n(i.buffer)}(e,n,a);if(m&&i instanceof t.Blob)return function(e,t,n){if(!t)return r.encodeBase64Packet(e,n);if(d)return function(e,t,n){if(!t)return r.encodeBase64Packet(e,n);var o=new FileReader;return o.onload=function(){e.data=o.result,r.encodePacket(e,t,!0,n)},o.readAsArrayBuffer(e.data)}(e,t,n);var o=new Uint8Array(1);o[0]=p[e.type];var a=new m([o.buffer,e.data]);return n(a)}(e,n,a);if(i&&i.base64)return function(e,t){var n="b"+r.packets[e.type]+e.data.data;return t(n)}(e,a);var l=p[e.type];return void 0!==e.data&&(l+=o?s.encode(String(e.data),{strict:!1}):String(e.data)),a(""+l)},r.encodeBase64Packet=function(e,n){var o,a="b"+r.packets[e.type];if(m&&e.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];n(a+e)},i.readAsDataURL(e.data)}try{o=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var l=new Uint8Array(e.data),s=new Array(l.length),u=0;u<l.length;u++)s[u]=l[u];o=String.fromCharCode.apply(null,s)}return a+=t.btoa(o),n(a)},r.decodePacket=function(e,t,n){if(void 0===e)return h;if("string"==typeof e){if("b"===e.charAt(0))return r.decodeBase64Packet(e.substr(1),t);if(n&&!1===(e=y(e)))return h;var o=e.charAt(0);return Number(o)==o&&f[o]?e.length>1?{type:f[o],data:e.substring(1)}:{type:f[o]}:h}var a=new Uint8Array(e),o=a[0],l=i(e,1);return m&&"blob"===t&&(l=new m([l])),{type:f[o],data:l}},r.decodeBase64Packet=function(e,t){var r=f[e.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:e.substr(1)}};var o=n.decode(e.substr(1));return"blob"===t&&m&&(o=new m([o])),{type:r,data:o}},r.encodePayload=function(e,t,n){"function"==typeof t&&(n=t,t=null);var o=a(e);return t&&o?m&&!d?r.encodePayloadAsBlob(e,n):r.encodePayloadAsArrayBuffer(e,n):e.length?void g(e,function(e,n){r.encodePacket(e,!!o&&t,!1,function(e){n(null,function(e){return e.length+":"+e}(e))})},function(e,t){return n(t.join(""))}):n("0:")},r.decodePayload=function(e,t,n,o){if("string"!=typeof e)return r.decodePayloadAsBinary(e,t,o);var a;if("function"==typeof t&&(o=t,t=null),"function"==typeof n&&(o=n,n=null),""===e)return o(h,0,1);if(n&&!1===(e=y(e)))return o(h,0,1);for(var i,l,s="",u=0,c=e.length;u<c;u++){var d=e.charAt(u);if(":"===d){if(""===s||s!=(i=Number(s)))return o(h,0,1);if(l=e.substr(u+1,i),s!=l.length)return o(h,0,1);if(l.length){if(a=r.decodePacket(l,t,!1),h.type===a.type&&h.data===a.data)return o(h,0,1);var p=o(a,u+i,c);if(!1===p)return}u+=i,s=""}else s+=d}return""!==s?o(h,0,1):void 0},r.encodePayloadAsArrayBuffer=function(e,t){if(!e.length)return t(new ArrayBuffer(0));g(e,function(e,t){r.encodePacket(e,!0,!0,function(e){return t(null,e)})},function(e,r){var n=r.reduce(function(e,t){var r;return r="string"==typeof t?t.length:t.byteLength,e+r.toString().length+r+2},0),o=new Uint8Array(n),a=0;return r.forEach(function(e){var t="string"==typeof e,r=e;if(t){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);r=n.buffer}o[a++]=t?0:1;for(var l=r.byteLength.toString(),i=0;i<l.length;i++)o[a++]=parseInt(l[i]);o[a++]=255;for(var n=new Uint8Array(r),i=0;i<n.length;i++)o[a++]=n[i]}),t(o.buffer)})},r.encodePayloadAsBlob=function(e,t){g(e,function(e,t){r.encodePacket(e,!0,!0,function(e){var r=new Uint8Array(1);if(r[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),o=0;o<e.length;o++)n[o]=e.charCodeAt(o);e=n.buffer,r[0]=0}for(var a=e instanceof ArrayBuffer?e.byteLength:e.size,i=a.toString(),l=new Uint8Array(i.length+1),o=0;o<i.length;o++)l[o]=parseInt(i[o]);if(l[i.length]=255,m){var s=new m([r.buffer,l.buffer,e]);t(null,s)}})},function(e,r){return t(new m(r))})},r.decodePayloadAsBinary=function(e,t,n){"function"==typeof t&&(n=t,t=null);for(var o=e,a=[];o.byteLength>0;){for(var l=new Uint8Array(o),s=0===l[0],u="",c=1;255!==l[c];c++){if(u.length>310)return n(h,0,1);u+=l[c]}o=i(o,2+u.length),u=parseInt(u);var d=i(o,0,u);if(s)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(e){var p=new Uint8Array(d);d="";for(var c=0;c<p.length;c++)d+=String.fromCharCode(p[c])}a.push(d),o=i(o,u)}var f=a.length;a.forEach(function(e,o){n(r.decodePacket(e,t,!0),o,f)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":17,"./utf8":18,after:10,"arraybuffer.slice":11,"base64-arraybuffer":12,blob:13,"has-binary2":19}],17:[function(e,t,r){t.exports=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&t.push(n);return t}},{}],18:[function(e,t,r){(function(e){!function(n){var o="object"==typeof r&&r,a="object"==typeof t&&t&&t.exports==o&&t,i="object"==typeof e&&e;i.global!==i&&i.window!==i||(n=i);var l,s,u,c=String.fromCharCode;function d(e){for(var t,r,n=[],o=0,a=e.length;o<a;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<a?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function p(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function f(e,t){return c(e>>t&63|128)}function h(e,t){if(0==(4294967168&e))return c(e);var r="";return 0==(4294965248&e)?r=c(e>>6&31|192):0==(4294901760&e)?(p(e,t)||(e=65533),r=c(e>>12&15|224),r+=f(e,6)):0==(4292870144&e)&&(r=c(e>>18&7|240),r+=f(e,12),r+=f(e,6)),r+=c(63&e|128)}function m(){if(u>=s)throw Error("Invalid byte index");var e=255&l[u];if(u++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function y(e){var t,r,n,o,a;if(u>s)throw Error("Invalid byte index");if(u==s)return!1;if(t=255&l[u],u++,0==(128&t))return t;if(192==(224&t)){if(r=m(),(a=(31&t)<<6|r)>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&t)){if(r=m(),n=m(),(a=(15&t)<<12|r<<6|n)>=2048)return p(a,e)?a:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(r=m(),n=m(),o=m(),(a=(7&t)<<18|r<<12|n<<6|o)>=65536&&a<=1114111))return a;throw Error("Invalid UTF-8 detected")}var g={version:"2.1.2",encode:function(e,t){for(var r,n=!1!==(t=t||{}).strict,o=d(e),a=o.length,i=-1,l="";++i<a;)r=o[i],l+=h(r,n);return l},decode:function(e,t){var r=!1!==(t=t||{}).strict;l=d(e),s=l.length,u=0;for(var n,o=[];!1!==(n=y(r));)o.push(n);return function(e){for(var t,r=e.length,n=-1,o="";++n<r;)(t=e[n])>65535&&(o+=c((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=c(t);return o}(o)}};if(o&&!o.nodeType)if(a)a.exports=g;else{var v={}.hasOwnProperty;for(var b in g)v.call(g,b)&&(o[b]=g[b])}else n.utf8=g}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t,r){(function(r){var n=e("isarray");t.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(n(t)){for(var o=0,a=t.length;o<a;o++)if(e(t[o]))return!0;return!1}if("function"==typeof r.Buffer&&r.Buffer.isBuffer&&r.Buffer.isBuffer(t)||"function"==typeof r.ArrayBuffer&&t instanceof ArrayBuffer||"function"==typeof r.Blob&&t instanceof Blob||"function"==typeof r.File&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0;return!1}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:22}],20:[function(e,t,r){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],21:[function(e,t,r){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},{}],22:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],23:[function(e,t,r){(function(e){var r=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,a=/(?:^|:|,)(?:\s*\[)+/g,i=/^\s+/,l=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(i,"").replace(l,""),e.JSON&&JSON.parse?JSON.parse(t):r.test(t.replace(n,"@").replace(o,"]").replace(a,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(e,t,r){r.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},r.decode=function(e){for(var t={},r=e.split("&"),n=0,o=r.length;n<o;n++){var a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},{}],25:[function(e,t,r){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,r=e.indexOf("["),a=e.indexOf("]");-1!=r&&-1!=a&&(e=e.substring(0,r)+e.substring(r,a).replace(/:/g,";")+e.substring(a,e.length));for(var i=n.exec(e||""),l={},s=14;s--;)l[o[s]]=i[s]||"";return-1!=r&&-1!=a&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l}},{}],26:[function(e,t,r){"use strict";var n,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,i={},l=0,s=0;function u(e){var t="";do{t=o[e%a]+t,e=Math.floor(e/a)}while(e>0);return t}function c(){var e=u(+new Date);return e!==n?(l=0,n=e):e+"."+u(l++)}for(;s<a;s++)i[o[s]]=s;c.encode=u,c.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=t*a+i[e.charAt(s)];return t},t.exports=c},{}],27:[function(e,t,r){t.exports=e("./lib/index")},{"./lib/index":1}]},{},[27])(27)}])}).call(this,r("yLpj"))},"VcB+":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},VcFn:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isActive:!1,isAnimatingClosed:!1,top:0,left:0}},t}(r("LEzx").default);t.default=new a},Vga2:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("STAJ"),c=r("njgS"),d=r("wldR"),p=r("lEhh"),f=r("JQ0b"),h=r("VBxf"),m=r("y6Dp"),y=r("LeVO"),g=r("ox2z"),v=r("gbGO"),b=r("QkuB"),w=r("mF3+"),S=r("XDBA"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSwitcherClick=function(){var e=t.getPropertyFormat();e&&t.setVisibility(!e.visible)},t.handleDuplicate=function(){var e,r=t.props,n=r.property,o=r.onChange,i=r.format,l=r.formatKey,s=r.schema,u=i[l]||[],c=S.getDuplicatePropertyUpdate({schema:s,property:n,properties:u});c&&o({newSchema:c.newSchema,newFormat:a({},i,(e={},e[l]=c.newProperties,e))})},t.handleDelete=function(){h.showDialog({message:"Are you sure you want to delete this property?",showCancel:!0,keepFocus:!1,items:[{label:"Delete",color:"red",onAccept:function(){return i(t,void 0,void 0,function(){var e,t,r,n,o,a,i;return l(this,function(l){switch(l.label){case 0:return e=this.props,t=e.collectionValue,r=e.schema,n=e.property,o=e.onChange,[4,S.getDeletePropertyUpdate({collectionId:t.id,schema:r,property:n})];case 1:return(a=l.sent())?(o(a),(i=r[n])&&m.trackDeleteProperty({property_type:i.type,from:"view_properties"}),[2]):[2]}})})}}]})},t.handleShow=function(){t.setVisibility(!0)},t.handleHide=function(){t.setVisibility(!1)},t.handleEditPropertyOpen=function(){t.props.store.setState(a({},t.props.store.state,{openProperty:t.props.property}))},t.handleEditPropertyClose=function(){t.props.store.setState(a({},t.props.store.state,{openProperty:void 0}))},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props,r=t.collectionValue,n=t.disabled,o=t.property,i=t.schema,l=t.store,u=this.getProperties().find(function(e){return e.property===o});if(u){var d=i[o];if(d){var h="title"===o,m=[];return u.visible||"title"===o||m.push({key:"show",name:"Show",render:function(e){return s.createElement(g.default,a({},e,{title:"Show",svg:w.default.collectionShow}))},closeParentMenu:!0,action:this.handleShow}),u.visible&&"title"!==o&&m.push({key:"hide",name:"Hide",render:function(e){return s.createElement(g.default,a({},e,{title:"Hide",svg:w.default.collectionHide}))},closeParentMenu:!0,action:this.handleHide}),c.userPropertyTypes.includes(d.type)&&"relation"!==d.type&&m.push({key:"Duplicate Property",name:"Duplicate Property",render:function(e){return s.createElement(g.default,a({},e,{title:"Duplicate Property",svg:w.default.duplicate}))},closeParentMenu:!0,action:this.handleDuplicate}),c.userPropertyTypes.includes(d.type)&&m.push({key:"delete",name:"Delete Property",render:function(e){return s.createElement(g.default,a({},e,{title:"Delete Property",svg:w.default.trash}))},closeParentMenu:!0,action:this.handleDelete}),s.createElement(f.default,{collectionId:r.id,open:l.state.openProperty===o,property:o,schema:i,onChange:this.props.onChange,actions:m,disabled:n,analyticsFrom:"view_properties",renderOrigin:function(t){return s.createElement(b.default,a({focused:!1,showDragHandle:!e.context.isMobile,showExtensionArrow:e.context.isMobile,propertySchema:d,format:b.default.DisplayFormat.Name,disabled:n,dontShrinkRight:!0,right:!e.context.isMobile&&s.createElement(y.default,{renderTooltip:function(){return h?s.createElement("div",null,"The Name property is used as the title of each page",s.createElement("br",null),"in the database and cannot be hidden."):u.visible?"Click to hide":"Click to show"},render:function(t){return s.createElement(p.default,a({},t,{on:Boolean(u.visible),onClick:e.handleSwitcherClick,disabled:h}))}})},t))},onOpen:this.handleEditPropertyOpen,onClose:this.handleEditPropertyClose})}}},t.prototype.getPropertiesFormatKey=function(){return c.collectionViewPropertiesFormatKeyMap[this.props.viewType]},t.prototype.getProperties=function(){var e=this.props.format,t=this.getPropertiesFormatKey();return e&&e[t]||[]},t.prototype.getPropertyFormat=function(){var e=this.props.property,t=this.getProperties();return u.find(function(t){return t.property===e},t)},t.prototype.setVisibility=function(e){var t=this.props,r=t.property,n=t.onChange,o=t.format,a=t.viewType,i=this.getProperties(),l=u.findIndex(function(e){return e.property===r},i),s=u.lensPath([l,"visible"]),c=u.set(s,e,i);n({newFormat:u.assoc(this.getPropertiesFormatKey(),c,o)}),m.trackConfigureView({view_type:a,action:e?"show_property":"hide_property"})},t.contextTypes=v.menuContextTypes,t}(d.default);t.default=_},VkkH:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("r8oj"),i=r("yjqD"),l=r("bK/N");t.openPopup=function(e){return n(this,void 0,void 0,function(){var t,r,n,s,u,c,d,p,f,h,m,y,g,v,b,w,S,_;return o(this,function(o){switch(o.label){case 0:return a.default.isElectron?[2,l.openOauthPopup(e)]:(t=e.width,r=e.height,n=e.url,s=e.title,u=a.default.isMobile,c=void 0!==window.screenX?window.screenX:window.screenLeft,d=void 0!==window.screenY?window.screenY:window.screenTop,p=void 0!==window.outerWidth?window.outerWidth:document.documentElement.clientWidth,f=void 0!==window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,h=u?0:t,m=u?0:r,y=c<0?window.screen.width+c:c,g="toolbar=0,menubar=0,location=0",0!==h&&(g+=",width="+h),0!==m&&(g+=",height="+m),g+=",left="+(y+(p-h)/2),g+=",top="+(d+(f-m)/2.5),g+=",scrollbars=1",(v=window.open(n,s,g))&&v.focus(),b=i.deferred(),w=function(e){if(e&&e.data&&"popup-callback"===e.data.type){var t=e.data.url;b.resolve(t)}},S=setInterval(function(){v&&v.closed&&b.resolve(void 0)},300),window.addEventListener("message",w,!1),[4,b.promise]);case 1:return _=o.sent(),window.removeEventListener("message",w,!1),clearInterval(S),v&&v.close(),window.focus(),[2,_]}})})}},VpIZ:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("z22Z"),i=r("FUUC"),l=r("udrG"),s=r("HRSx"),u=r("GJWe"),c=r("6SEd"),d=r("Wvka"),p=r("ezkE"),f=r("CTEM"),h=r("g90h"),m=r("S26v"),y=r("cBa6"),g=r("tP7q");function v(e){return s.contentTypes[e.type]}function b(e){return s.navigableTypes[e.type]}function w(e){return e.type===l.default.collectionView||e.type===l.default.collectionViewPage}t.isContentType=v,t.isAnnotatedContentType=function(e){return s.annotatedContentTypes[e.type]},t.isContentCoverType=function(e){return s.contentCoverTypes[e.type]},t.isPlainTextType=function(e){return s.plainTextTypes[e.type]},t.isResetOnEnterType=function(e){return s.resetOnEnterTypes[e.type]},t.isMediaType=function(e){return s.mediaTypes[e.type]},t.isCaptionType=function(e){return s.captionTypes[e.type]},t.isConfigurableType=function(e){return s.configurableTypes[e.type]},t.isTransformableType=function(e){return s.transformableTypes[e.type]},t.canOverflowEdgeType=function(e){return s.canOverflowEdgeBlockTypes[e.type]},t.isRootChildCenterAlignBlockType=function(e){return s.rootChildCenterAlignBlockTypes[e.type]},t.isColorableType=function(e){return s.colorableTypes[e.type]},t.isNavigableType=b,t.isNoCommentType=function(e){return s.noCommentTypes[e.type]},t.isIgnoreSnapshotType=function(e){return s.ignoreSnapshotTypes[e.type]},t.hasSpacePermission=function(e){return!!e.permissions&&e.permissions.some(a.isSpacePermission)},t.hasGroupPermission=function(e){return!!e.permissions&&e.permissions.some(a.isGroupPermission)},t.isInlineCollectionView=function(e){return e.type===l.default.collectionView},t.isCollectionView=w,t.isTitleType=function(e){return s.titleTypes[e.type]},t.isHeadingType=function(e){return s.headingTypes[e.type]},t.getBlockChildren=function(e){var t,r,o=[];if(v(e)&&e.content)try{for(var a=n(e.content),i=a.next();!i.done;i=a.next()){var l=i.value;o.push(l)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return o};var S=1e3;function _(e){var t,r=e.table,n=e.value,o=e.getRecordValue,a=e.userTimeZone;if(r===s.default.table){var l=n;if(w(l)){if(p=o("collection",l.collection_id)){var d=p.name||[];t=u.renderTextAsString({textValue:d,getRecordValue:o,userTimeZone:a})}}else{d=l.properties&&l.properties.title||[];t=u.renderTextAsString({textValue:d,getRecordValue:o,userTimeZone:a})}}else if(r===c.default.table){var p;d=(p=n).name||[];t=u.renderTextAsString({textValue:d,getRecordValue:o,userTimeZone:a})}else if(r===i.default.table){var f=n;f.name&&(t=f.name)}if(t)return t.slice(0,S)}function k(e){var t=e.table,r=e.value,n=e.getRecordValue;if(t===s.default.table){var o=r;if(w(o)){if((a=n("collection",o.collection_id))&&a.icon)return{table:"collection",id:a.id,icon:a.icon}}else if(o.format&&o.format.page_icon)return{table:"block",id:o.id,icon:o.format.page_icon}}else if(t===c.default.table){var a;if((a=r).icon)return{table:"collection",id:a.id,icon:a.icon}}else if(t===i.default.table){var l=r;if(l.icon)return{table:"space",id:l.id,icon:l.icon}}}function C(e){var t=e.blockValue,r=e.getRecordValue,n=e.baseUrl,a=e.discussionId,i=o.tail(p.getPath({table:"block",id:t.id},r)),l=p.filterNavigablePath(i),s=l.length>0?l[0]:void 0,u=p.getSpaceFromPath(i);return b(t)?d.default({pageId:t.id,pageValue:t,spaceValue:u,baseUrl:n,discussionId:a}):s?d.default({pageId:s.id,pageValue:s,spaceValue:u,scrollToBlockId:t.id,baseUrl:n,discussionId:a}):void 0}function E(e){var t=e.table,r=e.value,n=e.getRecordValue,o=e.baseUrl,a=e.discussionId;if("block"===t){if(l=C({blockValue:i=r,baseUrl:o,getRecordValue:n,discussionId:a}))return l}else if("collection"===t){var i,l;if(i=n("block",r.parent_id))if(l=C({blockValue:i,baseUrl:o,getRecordValue:n}))return l}else if("space"===t){var s=r,u=g.createUrlPath({route:{name:"space",spaceId:s.id,spaceDomain:s.domain}});return o?m.setBaseUrl({relativeUrl:u,baseUrl:o}):u}return o||"/"}t.getRecordTitle=_,t.getRecordIcon=k,t.getRecordCover=function(e){var t=e.table,r=e.value,n=e.getRecordValue;if(t===s.default.table){var o=r;if(w(o)){if((a=n("collection",o.collection_id))&&a.cover)return{table:"collection",id:a.id,cover:a.cover}}else if(o.format&&o.format.page_cover)return{table:"block",id:o.id,cover:o.format&&o.format.page_cover}}else if(t===c.default.table){var a;if((a=r).cover)return{table:"collection",id:a.id,cover:a.cover}}},t.getRecordTitleWithEmoji=function(e){var t=e.placeholder,r=_(e)||t,n=k(e);return n&&f.default(n.icon)?n.icon+" "+r:r},t.getRecordUrl=E,t.getCollectionViewUrl=function(e){var t=e.getRecordValue(e.collectionView.parent_table,e.collectionView.parent_id);if(t){var r=E({table:e.collectionView.parent_table,value:t,getRecordValue:e.getRecordValue,baseUrl:e.baseUrl});return r===e.baseUrl||"/"===r?r:m.addQueryParams(r,{v:h.withoutDashes(e.collectionView.id)})}return e.baseUrl||"/"},t.getUserMentions=function(e){var t=e.properties||{};return o.uniq(o.flatten(Object.keys(t).map(function(e){return t[e]}).map(y.getUserMentions)))},t.getPageMentions=function(e){var t=e.properties||{};return o.uniq(o.flatten(Object.keys(t).map(function(e){return t[e]}).map(y.getPageMentions)))}},VpJM:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Cgnk");t.default=new n.default},Vw2h:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("yNyh"),s=r("brdO"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInputChange=function(e){var r,n=t.stores.store,o=e.target.value,a=t.inputValueToCents(o);r=o?void 0!==a?o:t.getCurrentInputValue():"",n.setState({inputValue:r}),t.forceUpdate(),t.props.onChange(t.inputValueToCents(r)||0)},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.focus,r=e.selectAll,n=this.getCurrentInputValue();return a.createElement(l.default,{value:n,onChange:this.handleInputChange,focus:t,selectAll:r,style:{maxWidth:80},inputStyle:{textAlign:"right"}})},t.prototype.getCurrentInputValue=function(){var e=this.props.availableCredit,t=this.stores.store.state.inputValue;return void 0===t?""+Math.floor(e/100):t},t.prototype.inputValueToCents=function(e){var t=this.props.availableCredit,r=Math.floor(100*parseFloat(e));if(!isNaN(r)&&r<=t&&r>=0)return r},t.stores={store:s.default},t}(i.default);t.default=u},"VyA+":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("PQqx"),l=r("wldR"),s=r("d933"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMount=function(){this.props.capture&&this.captureKeyEvents()},t.prototype.willUpdate=function(t){e.prototype.willUpdate.call(this,t),this.props.capture&&!t.capture?this.releaseKeyEvents():!this.props.capture&&t.capture?this.captureKeyEvents():this.props.capture&&this.updateKeyEvents()},t.prototype.willUnmount=function(){this.releaseKeyEvents()},t.prototype.renderComponent=function(){return a.Children.only(this.props.children)},t.prototype.captureKeyEvents=function(){var e=this;s.default.withListenerIgnored(function(){i.addListener(e.getStackItem())})},t.prototype.releaseKeyEvents=function(){var e=this;s.default.withListenerIgnored(function(){i.removeListener(e)})},t.prototype.updateKeyEvents=function(){var e=this;s.default.withListenerIgnored(function(){i.updateListener(e.getStackItem())})},t.prototype.getStackItem=function(){return{listener:this,shortcuts:{enter:this.props.onEnter,commandEnter:this.props.onCommandEnter,commandShiftEnter:this.props.onCommandShiftEnter,commandSlash:this.props.onCommandSlash,space:this.props.onSpace,delete:this.props.onDelete,backspace:this.props.onBackspace,esc:this.props.onEsc,left:this.props.onLeft,right:this.props.onRight,up:this.props.onUp,down:this.props.onDown,untab:this.props.onUntab,tab:this.props.onTab,home:this.props.onHome,end:this.props.onEnd,selectAll:this.props.onSelectAll,redo:this.props.onRedo,undo:this.props.onUndo,toggleUnderline:this.props.onToggleUnderline,toggleHighlight:this.props.onToggleHighlight,toggleBold:this.props.onToggleBold,toggleItalics:this.props.onToggleItalics,toggleStrike:this.props.onToggleStrike,toggleCode:this.props.onToggleCode,duplicate:this.props.onDuplicate,cut:this.props.onCut,copy:this.props.onCopy,paste:this.props.onPaste,openLinkMenu:this.props.onOpenLinkMenu,goBack:this.props.onGoBack,goForward:this.props.onGoForward,goUp:this.props.onGoUp,search:this.props.onSearch,goToBeginningOfLine:this.props.onGoToBeginningOfLine,goToEndOfLine:this.props.onGoToEndOfLine,switchSpaces:this.props.onSwitchSpaces,keypress:this.props.onKeypress,quickFind:this.props.onQuickFind,goForwardOneChar:this.props.onGoForwardOneChar,goBackwardOneChar:this.props.onGoBackwardOneChar,moveUp:this.props.onMoveUp,moveDown:this.props.onMoveDown,comment:this.props.onComment,caption:this.props.onCaption,rename:this.props.onRename,copyLinkToCurrentPage:this.props.onCopyLinkToCurrentPage,toggleSidebar:this.props.onToggleSidebar,turnIntoType:this.props.onTurnIntoType,zoomIn:this.props.onZoomIn,zoomOut:this.props.onZoomOut,newPage:this.props.onNewPage,settings:this.props.onSettings,backbutton:this.props.onBackButton,toggleDarkMode:this.props.onToggleDarkMode,openFile:this.props.onOpenFile,moveTo:this.props.onMoveTo,toggleAllToggles:this.props.onToggleAllToggles}}},t}(l.default);t.default=u},W1IM:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("STAJ"),s=r("q1tI"),u=r("Nvzn"),c=r("njgS"),d=r("g90h"),p=r("EZe4"),f=r("t+pW"),h=r("g8hj"),m=r("X3kV"),y=r("LeVO"),g=r("mF3+"),v=r("r8oj"),b=r("nFzZ"),w=r("y6Dp"),S=r("5zFd"),_=r("SR/M"),k=r("2Y+N"),C=r("hU3F"),E=r("i3uR"),P=r("gbGO"),x=r("ZQ9l"),T=r("nObc"),O=r("s65R"),M=r("oWZM"),I=r("KJyx"),A=r("Z1H8"),D=r("T1td"),L=r("XDBA"),R=r("zmp8"),B=r("lCCU"),j=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderQuery=function(e,n){var o=r.props.queryType;if(!v.default.isMobile){l=void 0;if("sort"===r.props.queryType){a=e;l=r.renderSortTokens(a,n)}else{u=e;l=i.createElement(s.Fragment,null,r.renderFilterOperator(u,n),r.renderFilterTokens(u,n))}return i.createElement(k.default,{key:e.id,extraTopPadding:!0,desktopStyle:{padding:"8px 0 0"}},i.createElement(x.default,{showDragHandle:!v.default.isMobile,title:i.createElement("div",{style:t.captureWrapStyle,onMouseDown:p.captureEditorMouseDown},l),right:r.renderDesktopDeleteButton(e)}))}if("sort"===o){var a=e;return i.createElement(k.default,{key:e.id,title:"Sort "+(n+1)},r.renderSortTokens(a,n),r.renderMobileDeleteButtonMenuItem(e))}if("filter"===o){var l,u=e,c=r.renderFilterOperator(u,n);if(l=r.renderFilterTokens(u,n)){var d=c&&i.createElement(k.default,{key:e.id+"-operator"},c),f=i.createElement(k.default,{key:e.id+"-rest",title:"Filter "+(n+1)},l,r.renderMobileDeleteButtonMenuItem(e));return i.createElement(s.Fragment,{key:e.id+"-"+n+"-fragment"},d,f)}}},r.handleAddQueryClick=function(){var e,t=r.props,n=t.queryType,o=t.onChange,a=t.currentViewType,i=r.getCollectionViewQueryValue();"filter"===n?e={id:d.default(),type:"title",property:"title",comparator:"string_contains"}:e={id:d.default(),type:"title",property:"title",direction:"ascending"};var s=r.getQueriesLens(),u=r.getQueries().concat([e]);o(l.set(s,u,i)),w.trackConfigureView({view_type:a,action:"filter"===n?"add_filter":"add_sort"})},r}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props.queryType,r=this.getQueries(),n=0===r.length;return i.createElement(A.default,{capture:!0,allowEsc:!0,allowUndo:!0,render:function(o){var l;return l=v.default.isMobile?a({menuType:P.default.MenuType.Modal,title:"filter"===t?"Filter":"Sort",right:"Done",onClickRight:e.props.onCancel},o):a({menuType:P.default.MenuType.Popup,minWidth:340},o),i.createElement(P.default,a({},l),n&&e.renderEmptyState(),e.renderList(r),i.createElement(k.default,{topBorder:n,desktopStyle:{padding:"6px 0"}},i.createElement(T.default,{focused:!1,onClick:e.handleAddQueryClick,title:"Add a "+u.default(t)})))}})},t.prototype.renderList=function(e){var t=this;if(v.default.isMobile)return e.map(function(e,r){return t.renderQuery(e,r)});var r=e.map(function(e){return e.id}),n=this.getCollectionViewQueryValue();return r.length>0&&i.createElement("div",{style:{marginBottom:2}},i.createElement(h.default,{direction:h.DraggableListDirection.Vertical,keys:r,renderKey:function(r,n){return t.renderQuery(e[n],n)},onDrop:function(r){var o=t.getQueriesLens(),a=b.compact(r.map(function(t){return e.find(function(e){return e.id===t})}));t.props.onChange(l.set(o,a,n))}}))},t.prototype.renderEmptyState=function(){return"filter"===this.props.queryType?i.createElement(k.default,null,i.createElement(I.default,null,i.createElement("div",{style:this.getEmptyTextWrapStyle()},i.createElement("div",{style:{marginBottom:4}},"Use a Filter to:"),i.createElement("span",{style:{color:R.default.black}},"🐶")," Show tasks assigned to me.",i.createElement("br",null),i.createElement("span",{style:{color:R.default.black}},"⛳️")," Show only notes with a certain tag.",i.createElement("br",null),i.createElement("span",{style:{color:R.default.black}},"👔")," Hide completed tasks."))):"sort"===this.props.queryType?i.createElement(k.default,null,i.createElement(I.default,null,i.createElement("div",{style:this.getEmptyTextWrapStyle()},i.createElement("div",{style:{marginBottom:4}},"Use a Sort to:"),i.createElement("span",{style:{color:R.default.black}},"📚")," Order tasks by priority.",i.createElement("br",null),i.createElement("span",{style:{color:R.default.black}},"⏱")," Show notes by creation date.",i.createElement("br",null),i.createElement("span",{style:{color:R.default.black}},"😺")," Show recently contacted customers."))):void 0},t.prototype.renderMobileDeleteButtonMenuItem=function(e){var t=this;return i.createElement(_.default,{title:i.createElement("div",{style:{color:R.default.red}},"Delete"),onClick:function(){return t.deleteQuery(e)},focused:!1})},t.prototype.renderDesktopDeleteButton=function(e){var t=this;return i.createElement(y.default,{render:function(r){return i.createElement(B.default,a({icon:g.default.collectionDeleteRule,onClick:function(){return t.deleteQuery(e)}},r))},renderTooltip:function(){return"Remove "+t.props.queryType+" rule"}})},t.prototype.renderFilterTokens=function(e,t){var r=this.props,n=r.collectionValue,o=r.onChange,a=r.currentViewType,u=r.blockPropertyValueOverlayStore,d=this.getCollectionViewQueryValue(),p={property:this.getQueryPropertyLens(t,"property"),comparator:this.getQueryPropertyLens(t,"comparator"),value:this.getQueryPropertyLens(t,"value"),valueType:this.getQueryPropertyLens(t,"value_type")},f=c.getNormalizedSchema(n),h=f[e.property];if(h)return i.createElement(s.Fragment,null,this.renderFilterProperty(e,t),"rollup"===h.type&&h.relation_property&&h.target_property&&!h.aggregation&&this.renderRollupSetFilter(e,t),this.renderFilterComparator(e,t),e.comparator&&h&&!c.noValueComparators.includes(e.comparator)&&c.isDateType(h)&&this.renderDateFilterValueType(e,t),c.shouldShowFilterValue(e,f)&&i.createElement(m.default,{key:"value",value:e.value,valueType:e.value_type,collectionValue:n,property:e.property,onChange:function(e){var t=d;t=l.set(p.value,e.value,t),t=l.set(p.valueType,e.valueType,t),o(t),w.trackConfigureView({view_type:a,action:"set_filter_value"})},parentStore:this.props.parentStore,blockPropertyValueOverlayStore:u}))},t.prototype.renderSortTokens=function(e,t){return i.createElement(s.Fragment,null,this.renderSortProperty(e,t),this.renderSortDirection(e,t))},t.prototype.renderFilterOperator=function(e,t){var r=this.props,n=r.onChange,o=r.currentViewType,s=this.getCollectionViewQueryValue();if(1===t){var d=s.filter_operator,p={menuTitle:"Operator",items:c.filterOperatorTypes,getKey:function(e){return e},selectedItem:d,onSelect:function(e){var t=l.assoc("filter_operator",e,s);n(t),w.trackConfigureView({view_type:o,action:"set_filter_operator"})},renderItem:function(e){return i.createElement(_.default,a({title:u.default(e.value)},e))},renderOrigin:function(e){return i.createElement(M.default,a({},e,{title:d&&u.default(d),placeholder:"Operator"}))}};return i.createElement(S.default,a({key:"operator"},p,{mobileActionSheet:!0}))}if(t>1)return i.createElement(M.default,{disabled:!v.default.isMobile,title:u.default(s.filter_operator),placeholder:"Operator"})},t.prototype.renderFilterProperty=function(e,t){var r=this;return this.renderProperty(e.property,function(n){var o=r.props,i=o.collectionValue,s=o.onChange,u=o.currentViewType,d=r.getQueryLens(t),p=c.getNormalizedSchema(i)[n];if(p){var f=p.type,h=r.getCollectionViewQueryValue(),m=c.propertyTypeDefaultFilterMap[f],y=a({id:e.id,property:n,type:f},m,{comparator:m.comparator||"is_empty"});s(l.set(d,y,h)),w.trackConfigureView({view_type:u,action:"set_filter_property"})}})},t.prototype.renderRollupSetFilter=function(e,t){var r=this,n=this.props,o=n.onChange,s=n.currentViewType,u=e.rollup_set_filter,d={menuTitle:"Set Filter",items:c.rollupSetFilterValues,getKey:function(e){return e},selectedItem:u,onSelect:function(e){var n=r.getCollectionViewQueryValue(),a=r.getQueryPropertyLens(t,"rollup_set_filter"),i=l.set(a,e,n);o(i),w.trackConfigureView({view_type:s,action:"set_rollup_set_filter"})},renderItem:function(e){return i.createElement(_.default,a({title:c.getDisplayName(e.value)},e))},renderOrigin:function(e){return i.createElement(M.default,a({},e,{placeholder:"Set Filter",title:u&&c.getDisplayName(u)}))}};return i.createElement(S.default,a({key:"set_filter"},d,{mobileActionSheet:!0}))},t.prototype.renderFilterComparator=function(e,t){var r=this,n=this.props,o=n.collectionValue,s=n.onChange,u=n.currentViewType,d=n.parentStore,p=c.getNormalizedSchema(o),f=[];if(e.property&&p[e.property]){var h=L.getFilterValuePropertySchema(p,e.property,d);h&&(f=c.filterComparatorMap[h.type])}var m=e.comparator,y={menuTitle:"Comparator",items:f,getKey:function(e){return e},selectedItem:m,onSelect:function(n){var o=r.getCollectionViewQueryValue(),i=r.getQueryPropertyLens(t,"comparator"),c=l.set(i,n,o),d=p[e.property];if(d){if("date"===d.type){var f=r.getQueryLens(t);if("date_is_within"===n){var h=a({},e,{comparator:n,value_type:"the_past_week"});c=l.set(f,h,c)}else if("date_is_within"===e.comparator){h=a({},e,{comparator:n,value_type:"exact_date"});c=l.set(f,h,c)}}s(c),w.trackConfigureView({view_type:u,action:"set_filter_comparator"})}},renderItem:function(e){return i.createElement(_.default,a({title:c.filterComparatorHumanReadableNameMap[e.value]},e))},renderOrigin:function(e){return i.createElement(M.default,a({},e,{placeholder:"Comparator",title:m&&c.filterComparatorHumanReadableNameMap[m]}))}};return i.createElement(S.default,a({key:"comparator"},y,{mobileActionSheet:!0}))},t.prototype.renderDateFilterValueType=function(e,t){var r=this,n=this.props,o=n.onChange,s=n.currentViewType,u=e.value_type,d={menuTitle:"Date",items:"date_is_within"===e.comparator?c.dateRangeFilterValueTypes:c.dateExactFilterValueTypes,getKey:function(e){return e},selectedItem:u,onSelect:function(e){var n=r.getCollectionViewQueryValue(),a=r.getQueryPropertyLens(t,"value_type"),i=r.getQueryPropertyLens(t,"value"),u=l.set(i,null,n);o(l.set(a,e,u)),w.trackConfigureView({view_type:s,action:"set_filter_value_type"})},renderItem:function(e){return i.createElement(_.default,a({title:c.filterValueTypeDisplayNameMap[e.value]},e))},renderOrigin:function(e){return i.createElement(M.default,a({},e,{placeholder:"Empty",title:u&&c.filterValueTypeDisplayNameMap[u]}))}};return i.createElement(S.default,a({key:"date-filter-value-type"},d,{mobileActionSheet:!0}))},t.prototype.renderSortProperty=function(e,t){var r=this,n=this.props,o=n.collectionValue,i=n.onChange,s=n.currentViewType;return this.renderProperty(e.property,function(n){var u=c.getNormalizedSchema(o)[n];if(u){var d=u.type,p=r.getQueryLens(t),f=r.getCollectionViewQueryValue(),h=l.set(p,a({},e,{property:n,type:d,direction:e.direction||"ascending"}),f);i(h),w.trackConfigureView({view_type:s,action:"set_sort_property"})}})},t.prototype.renderSortDirection=function(e,t){var r=this,n=this.props,o=n.onChange,s=n.currentViewType,d=e.direction,p={menuTitle:"Sort",items:c.sortTypeValues,getKey:function(e){return e},selectedItem:d,onSelect:function(e){var n=r.getCollectionViewQueryValue(),a=r.getQueryPropertyLens(t,"direction");o(l.set(a,e,n)),w.trackConfigureView({view_type:s,action:"set_sort_direction"})},renderItem:function(e){return i.createElement(_.default,a({title:u.default(e.value)},e))},renderOrigin:function(e){return i.createElement(M.default,a({},e,{placeholder:"Empty",title:d&&u.default(d)}))}};return i.createElement(S.default,a({key:"direction"},p,{mobileActionSheet:!0}))},t.prototype.renderProperty=function(e,t){var r=this,n=this.props.collectionValue,o=c.getNormalizedSchema(n);return i.createElement(E.default,{popupType:v.default.isMobile?E.default.PopupType.SlideUp:E.default.PopupType.Popup,onClick:function(){return r.stores.propertyQuery.set("")},renderOrigin:function(t){var r=e?o[e]:void 0;return i.createElement(O.default,a({},t,{propertySchema:r}))},render:function(e){return i.createElement(D.default,{schema:o,onAccept:t,onClose:e.close})}})},t.prototype.getCollectionViewQueryValue=function(){return this.props.query||{}},t.prototype.getQueriesLens=function(){var e=this.props.queryType;return l.lensPath([e])},t.prototype.getQueryLens=function(e){var t=this.props.queryType;return l.lensPath([t,e])},t.prototype.getQueryPropertyLens=function(e,t){var r=this.props.queryType;return l.lensPath([r,e,t])},t.prototype.getQueries=function(){var e=this.props.queryType,t=this.getCollectionViewQueryValue();return"sort"===e?t.sort||[]:"filter"===e&&t.filter||[]},t.prototype.deleteQuery=function(e){var t=this.props,r=t.onChange,n=t.currentViewType,o=t.queryType,a=this.getCollectionViewQueryValue(),i=this.getQueriesLens(),s=l.view(i,a),u=l.without([e],s);r(l.set(i,u,a)),w.trackConfigureView({view_type:n,action:"filter"===o?"delete_filter":"delete_sort"})},t.prototype.getEmptyTextWrapStyle=function(){return{color:this.theme.mediumTextColor,lineHeight:1.8,whiteSpace:"nowrap"}},t.stores={propertyQuery:C.default.of("")},t.buttonStyle={fontSize:14,height:30,minWidth:0,paddingLeft:6,paddingRight:6,marginRight:8},t.captureWrapStyle={display:"flex",alignItems:"center",flexGrow:1,whiteSpace:"nowrap"},t}(f.default);t.default=j},W3at:function(e,t,r){"use strict";var n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l,s=r("q1tI"),u=r("LvDl"),c=r("YUnZ"),d=r("t+pW"),p=r("yNyh"),f=r("VyA+"),h=r("gbGO"),m=r("uSCg"),y=r("ggCg"),g=r("rGsA"),v=r("0GcB"),b=r("wS9/");!function(e){e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.Share=3]="Share",e[e.Group=4]="Group"}(l||(l={}));var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleFocused=function(){t.stores.store.setState({focused:!0})},t.handleBlurred=function(){t.stores.store.setState({focused:!1})},t.handleKeyDown=function(e){"Backspace"===e.key&&0===t.props.value.length&&t.props.onRemoveLastToken()},t.handleEnter=function(){0===t.props.value.length&&t.props.onEmptyEnter&&t.props.onEmptyEnter()},t.handleFocus=function(){t.props.disabled||t.input.focusInput()},t}return a(t,e),t.prototype.willMount=function(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})},t.prototype.willUpdate=function(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})},t.prototype.renderComponent=function(){var e=this.props.disabled;return s.createElement(f.default,{capture:!e,onLeft:u.identity,onRight:u.identity,onSelectAll:u.identity,onRedo:u.identity,onUndo:u.identity,onToggleBold:u.identity,onToggleItalics:u.identity,onToggleCode:u.identity,onCut:u.identity,onCopy:u.identity,onPaste:u.identity,onKeypress:u.identity},s.createElement(f.default,{capture:!e&&this.props.value.length>0,onDelete:u.identity,onBackspace:u.identity},this.renderTokenInput()))},t.prototype.renderTokenInput=function(){var e=this.props.disabled;return this.props.right?s.createElement("div",{style:i({},this.getWrapStyle(),{flexWrap:"nowrap"}),onClick:this.handleFocus},s.createElement("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",paddingTop:this.context.isMobile?0:6}},this.props.tokens,!e&&this.renderInput()),s.createElement("div",{style:{flexShrink:0}},this.props.right)):this.context.isMobile?s.createElement("div",{style:i({},this.getWrapStyle(),{flexWrap:"nowrap"}),onClick:this.handleFocus},s.createElement("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:this.isGroup()?6:0}},this.props.tokens,!e&&this.renderInput()),s.createElement(g.default,{show:this.stores.store.state.focused})):s.createElement("div",{style:this.getWrapStyle(),onClick:this.handleFocus},this.props.tokens,!e&&this.renderInput())},t.prototype.renderInput=function(){var e=this,r=0===this.props.tokens.length;return s.createElement(p.default,i({format:p.default.Format.Transparent},m.default({onKeyDown:this.handleKeyDown},{onChange:this.props.onChange}),{value:this.props.value,focus:this.props.focus,focusInitial:this.props.focusInitial,focusAfterAnimation:this.props.focusAfterAnimation,style:i({},t.inputStyle,{margin:this.context.isMobile?"0 8px 8px 0":"0 6px 6px 0"}),inputStyle:{height:this.context.isMobile?24:this.isGroup()?20:18},size:1,ref:function(t){return t&&(e.input=t)},type:this.props.type,placeholder:r?this.props.placeholder:"",onSubmit:this.handleEnter,onFocus:this.handleFocused,onBlur:this.handleBlurred}))},t.prototype.isGroup=function(){return this.props.format===l.Group},t.prototype.getDesktopWrapStyle=function(){var e=this.props.disabled,t="dark"===v.default.state.mode?c(this.theme.popoverBackground).darken(.2).css():this.theme.inputBackground;return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",width:"100%",minHeight:34,borderBottom:e?"none":"1px solid "+this.theme.regularDividerColor,background:e?"none":t,borderTopLeftRadius:3,borderTopRightRadius:3,fontSize:14,cursor:"text",overflow:"hidden"}},t.prototype.getCordovaWrapStyle=function(){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:"1px solid "+this.theme.regularDividerColor,fontSize:16,background:this.theme.popoverBackground}},t.prototype.getWrapStyle=function(){var e=this.props.format;return i({},this.context.isMobile?i({},this.getCordovaWrapStyle(),{paddingTop:14,paddingBottom:8,paddingLeft:this.context.menuType!==h.MenuType.Popup?b.default.calcPaddingLeft(16):16,paddingRight:this.context.menuType!==h.MenuType.Popup?b.default.calcPaddingRight(16):16},this.props.dontShowBorderBottom&&{borderBottom:"none"}):i({},this.getDesktopWrapStyle(),t.styles[e].wrapStyle))},t.contextTypes=i({},h.menuContextTypes),t.Format=l,t.stores={store:y.default},t.styles=((o={})[l.Select]={wrapStyle:{padding:"8px 9px 1px"}},o[l.Person]={wrapStyle:{padding:"8px 9px 1px"}},o[l.Relation]={wrapStyle:{padding:"8px 9px 1px"}},o[l.Share]={wrapStyle:{padding:"8px 14px"}},o[l.Group]={wrapStyle:{padding:"8px 14px"}},o),t.inputStyle={flexGrow:1,flexShrink:1,flexBasis:60,minWidth:60,width:"auto",lineHeight:"20px"},t}(d.default);t.default=w},W8UH:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("hfHo"),c=r("t+pW"),d=r("mF3+"),p=r("3Vt7"),f=r("FMYg"),h=r("D2XV"),m=r("wpmu"),y=r("Pl3d"),g=r("bkwR"),v=r("CSYU"),b=r("1QGs"),w=r("MBf9"),S=r("gbGO"),_=r("2Y+N"),k=r("nObc"),C=r("VVDu"),E=r("zTdN"),P=r("D2XV"),x=r("lCCU"),T=r("/YYm"),O=r("H4VD"),M=r("HTHG"),I=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderResults=function(e,n){void 0===n&&(n=[]);var o=r.stores.requestStore,a=r.props.disabled,i=r.getCurrentStartOfDay(),l=i.clone().endOf("day");return s.createElement(S.default,{menuType:S.default.MenuType.Modal,title:s.createElement("div",{style:t.headerStyle},s.createElement(x.default,{onClick:r.handleLeftClick,icon:d.default.chevronLeft,style:{marginRight:8,marginTop:2},mobileFeedback:!0}),s.createElement("div",null,i.format("MMMM D")),s.createElement(x.default,{onClick:r.handleRightClick,icon:d.default.chevronRight,style:{marginLeft:8,marginTop:2},mobileFeedback:!0})),right:"Done",onClickRight:r.props.onDismiss},o.state.loading&&s.createElement(_.default,null,s.createElement(C.default,null)),!o.state.loading&&0===n.length&&s.createElement(_.default,null,s.createElement(E.default,{title:"No Items"})),!o.state.loading&&n.length>0&&s.createElement(_.default,null,n.map(function(e){return r.renderItem(e,i,l)})),!a&&s.createElement(_.default,{topBorder:!0},s.createElement(k.default,{focused:!1,onClick:r.handleAddItemClick,title:"New Item"})))},r.handleLeftClick=function(){var e=r.getCurrentStartOfDay();r.stores.store.setState(a({},r.stores.store.state,{currentStartOfDay:e.clone().add(-1,"day").valueOf()}))},r.handleRightClick=function(){var e=r.getCurrentStartOfDay();r.stores.store.setState(a({},r.stores.store.state,{currentStartOfDay:e.clone().add(1,"day").valueOf()}))},r.handleAddItemClick=function(){var e=r.props,t=e.collectionViewLocalStore,n=e.collectionStore,o=e.calendarBy,a=r.getCurrentStartOfDay(),i=w.createAndCommit(function(e){return b.createBlockInDay({collectionStore:n,collectionViewLocalStore:t,calendarBy:o,startOfDay:a.valueOf(),transaction:e})});O.navigate({url:T.default({store:i})})},r.performRequest=function(e){return i(r,void 0,void 0,function(){var t,r,n,o,a,i;return l(this,function(l){switch(l.label){case 0:return t=this.props,r=t.collectionStore,n=t.collectionViewStore,o=t.query,a=u.default(e).endOf("day").valueOf(),[4,g.queryCollection({collectionId:r.id,collectionViewId:n.id,query:o,loader:{type:"calendar",dateRangeStart:e,dateRangeEnd:a,query:void 0,userTimeZone:P.currentTimeZone,userLocale:P.currentLocale,startDayOfWeek:M.userSettingsStartOfWeekStore.state}})];case 1:if("failed"===(i=l.sent()).type)throw i.error;return"calendar"===i.data.result.type?[2,i.data.result.weeks[0].items]:[2,[]]}})})},r}return o(t,e),t.prototype.renderComponent=function(){var e=this.stores.requestStore;return s.createElement(y.default,{requestStore:e,request:this.getCurrentStartOfDay().valueOf(),performRequest:this.performRequest,render:this.renderResults})},t.prototype.renderItem=function(e,t,r){var n=this.props,o=n.collectionStore,a=n.disabled,i=n.blockPropertyValueOverlayStore,l=m.default.createChildStore(o,e.id);return s.createElement(f.default,{key:e.id,store:l,time:e.includeTime?this.renderTime(e,t,r):void 0,disabled:a,format:this.props.format,schema:this.props.schema,blockPropertyValueOverlayStore:i})},t.prototype.renderTime=function(e,t,r){var n=u.default(e.start),o=e.end?u.default(e.end):void 0,a=Boolean(!n.isBetween(t,r)||o&&!o.isBetween(t,r));return o?this.renderItemDateTime(e,n,a)+" — "+this.renderItemDateTime(e,o,a):this.renderItemDateTime(e,n,!1)},t.prototype.renderItemDateTime=function(e,t,r){var n=this.props,o=n.schema[n.calendarBy];if(o&&"date"===o.type){var a=o.date_format||h.defaultDateFormat,i=o.time_format||h.defaultTimeFormat;return r?t.format(a+" "+i):t.format(i)}},t.prototype.getCurrentStartOfDay=function(){var e=this.stores.store.state.currentStartOfDay;return e?u.default(e):u.default(this.props.initialStartOfDay)},t.stores={store:p.default,requestStore:v.default},t.headerStyle={display:"flex",alignItems:"center",height:"100%"},t}(c.default);t.default=I},WDpx:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMount=function(e){this.savedTitle=document.title,document.title=e.title},t.prototype.willUnmount=function(){document.title=this.savedTitle},t.prototype.renderComponent=function(){return this.props.children},t}(r("wldR").default);t.default=a},WHWW:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("7Ard"),s=r("wldR"),u=r("VVh3"),c=r("S26v"),d=r("qHvo"),p=r("nZ1u"),f=r("0zNc"),h=r("zmp8"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseMove=function(e){var r=d.default.state.isDragging,n=f.default.state.isDragging,o=p.default.state.isActive,i=r||n||o;t.stores.iframeStore.setState(a({},t.stores.iframeStore.state,{disabled:i}))},t.handleIframeLoad=function(){t.stores.iframeStore.setState(a({},t.stores.iframeStore.state,{loaded:!0}))},t.releaseFocus=function(){document.activeElement&&document.activeElement===t.iframe&&document.activeElement.blur()},t}return o(t,e),t.prototype.didMountOrUpdate=function(){e.prototype.didMountOrUpdate.call(this),this.releaseFocus()},t.prototype.renderComponent=function(){return i.createElement("div",{style:this.props.style,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseMove,onMouseLeave:this.releaseFocus},i.createElement("div",{style:this.getAspectRatioContainerStyle()},i.createElement(u.default,{innerStyle:{height:"100%",width:"100%"},loaded:this.stores.iframeStore.state.loaded,style:t.aspectRatioInnerStyle,spinnerSize:"1em",showSpinnerTimeout:500},this.renderIframe())))},t.prototype.renderIframe=function(){var e=this,t=this.getSanitizedSource();return i.createElement("iframe",{ref:function(t){e.iframe=t},style:this.getIframeStyle(),src:t,frameBorder:"0",onLoad:this.handleIframeLoad,sandbox:"allow-scripts allow-popups allow-forms allow-same-origin",allowFullScreen:!0})},t.prototype.getSanitizedSource=function(){return c.sanitizeUrl(this.props.source)},t.prototype.getAspectRatioContainerStyle=function(){var e=this.props,t=e.height,r=e.isFullWidth,n=e.isFullHeight,o=e.aspectRatio,a=e.preserveScale,i={position:"relative",display:"flex",justifyContent:"center",width:"100%",minHeight:100};return n?(i.height="100%",i.position=void 0):r||!a?i.height=t:(i.height=0,i.paddingBottom=100*(o||.75)+"%"),i},t.prototype.getIframeStyle=function(){return a({},t.aspectRatioInnerStyle,{pointerEvents:this.stores.iframeStore.state.disabled?"none":"auto",backgroundColor:this.props.background?h.default.contentGrayBackground:"none"})},t.stores={iframeStore:l.default},t.aspectRatioInnerStyle={position:"absolute",left:0,top:0,width:"100%",height:"100%",borderRadius:1},t}(s.default);t.default=m},WLsh:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var o=r("H/qo");t.sanitizeEmail=function(e){if(e){var t=n(e.split("@",2),2),r=t[0],o=t[1];if(r&&o)return r.trim().toLowerCase()+"@"+o.trim().toLowerCase()}},t.validateEmail=function(e){return Boolean(e&&o.validate(e))}},WM0W:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("t+pW"),u=r("XBB3"),c=r("zK7c"),d=r("8fuX"),p=r("ikHm"),f=r("VyA+"),h=r("wPEN"),m=r("NdY1"),y=r("wpmu"),g=r("H4VD"),v=r("E4rx"),b=r("sV9r"),w=r("y6Dp"),S=r("6Zdk"),_=r("wlCD"),k=r("ttM1"),C=r("Dnhi"),E=r("HSWF"),P=r("fHgN"),x=r("X6Ne"),T=r("jZoB"),O=r("MBf9"),M=r("okm4"),I=r("/0g+"),A=r("QcDD"),D=r("sjR4"),L=r("DNgp"),R=r("0Osm"),B=r("szb2"),j=r("ov3o"),V=r("enKW"),F=r("7M94"),N=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderOverlay=function(){var e=B.default.state,n=A.default.state,o=n.currentSpaceStore,s=n.currentSpaceViewStore;if(e.open){var u=e.target,p=e.presenceStore;return i.createElement(f.default,{key:u.id,capture:r.shouldCaptureEsc.state,onEsc:r.handleEsc},i.createElement("div",{style:t.containerStyle,className:F.peekRenderer},i.createElement("div",{style:{width:"100%",height:"100%"},onClick:r.handleCaptureClick}),i.createElement("div",{style:r.getStyle()},i.createElement(m.default,{store:u,spaceStore:o,spaceViewStore:s,presenceStore:p,shouldShowMoveToMenu:e.showMoveTo}),i.createElement(c.default,{store:u,key:u.id,isDefaultContainer:!0,render:function(n){return i.createElement(h.default,{pageStore:u,initialChunkSize:25,incrementChunkSize:25,incrementScrollOffset:window.innerHeight/2,loadNextChunkTimeout:1e3,store:e.loadingContainerStore,render:function(o){var s=o.error,c=o.ready;return i.createElement(l.Fragment,null,i.createElement(d.default,a({disableScroll:!c||x.shouldDisableScroll(),type:d.default.OverflowType.Y,style:a({display:"flex",flexDirection:"column",flexGrow:1,position:"relative",transform:"translateZ(0)"},c?{}:t.hiddenStyle),store:R.default},n),c&&r.renderContent(s,u,p,e.loadingContainerStore),!c&&i.createElement(_.default,{style:r.getSpinnerStyle()})),i.createElement(k.default,{show:!c,showDelay:300,showHold:0,render:r.renderPageSpinner}))}})}}))))}},r.renderPageSpinner=function(e){if(e){return i.createElement("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},key:"spinner"},i.createElement(_.default,{style:{opacity:.5,width:t.spinnerSize,height:t.spinnerSize}}))}},r.handleCaptureClick=function(){r.close()},r.handleEsc=function(){r.close()},r.shouldCaptureEsc=r.createComputedStore(function(){return 0===D.default.state.stores.length&&!L.default.state.editing&&!j.default.state.isOpen}),r}return o(t,e),t.prototype.willMountOrUpdate=function(e){var t=A.default.state,r=t.currentBlockStore,n=t.currentSpaceStore;if(r){var o,a=B.default.state,i=!1,l=!1;if("page"===e.route.name&&e.route.peekViewBlockId){var s=y.default.createChildStore(r,e.route.peekViewBlockId);i=Boolean(e.route.showMoveTo),l=Boolean(e.route.saveParent),o=s}if(o&&(!a.open||o.id!==a.target.id)){var u=D.default.cloneState();g.resetPeekState(),g.resetSidebarState(),g.resetEditorState(),w.trackPageVisit({page_id:o.id,is_peek:!0,type:"page"});var c=new y.default(o.id),d=new C.default,p=new M.default;B.default.setState({open:!0,target:c,presenceStore:d,showMoveTo:i,saveParent:l,loadingContainerStore:p,savedSelectionStoreState:u}),v.initializePresence({rootStore:c,presenceStore:d}),S.visitPage(o.id),n&&E.addRecentlyVisitedPage(n.id,c.id)}a.open&&!o&&(B.default.setState({open:!1}),v.destroyPresence({presenceStore:a.presenceStore}),g.resetPeekState())}},t.prototype.renderComponent=function(){var e=B.default.state;return i.createElement(P.default,{open:e.open,render:this.renderOverlay})},t.prototype.renderContent=function(e,r,n,o){return i.createElement(l.Fragment,null,i.createElement(u.default,{context:u.PageViewBlockContext.PeekView,loadingContainerStore:o,store:r,onTitleEsc:this.handleEsc,forceSelectTitleOnMount:!0,paddingLeft:t.paddingLeftRight,paddingRight:t.paddingLeftRight,paddingBottom:80,pageCoverHeight:"20vh",paddingTop:"2em",disabled:!1}),i.createElement(b.default,{presenceStore:n}))},t.prototype.close=function(){var e=B.default.state;if(e.open){var t=e.target,r=e.savedSelectionStoreState;O.createAndCommit(function(r){var n=t.getContentStores(),o=n[0];1===n.length&&o&&o.isEmptyEditableBlock()&&T.remove({parent:t.getContentStore(),remove:o,transaction:r}),e.showMoveTo&&e.target.isEmptyTitle()&&e.target.isEmptyPage()&&I.deleteBlocks({blocks:[e.target],transaction:r})}),g.resetPeekState(),g.resetSidebarState(),g.resetEditorState(),D.default.setState(a({},D.default.state,r));var n=A.default.state.currentBlockStore;n&&g.navigateToBlock({store:n})}},t.prototype.getStyle=function(){return{display:"flex",flexDirection:"column",position:"absolute",top:t.topBottomPadding,left:72,right:72,marginLeft:"auto",marginRight:"auto",maxWidth:t.width+A.default.scrollbarWidth,height:"calc(100% - "+t.topBottomPadding+"px*2)",borderRadius:3,background:this.theme.contentBackground,boxShadow:V.getShadow({elevation:5,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity})}},t.prototype.getSpinnerStyle=function(){return{zIndex:1,opacity:.5,width:t.spinnerSize,height:t.spinnerSize,marginTop:0,marginBottom:24,marginLeft:"auto",marginRight:"auto"}},t.paddingLeftRight=126,t.width=708+2*t.paddingLeftRight,t.spinnerSize="1.375em",t.topBottomPadding=72,t.containerStyle={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.4)",zIndex:p.peekOverlay},t.hiddenStyle={opacity:0,pointerEvents:"none",height:0},t}(s.default);t.default=N},WMG3:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("LvDl"),u=r("wpmu"),c=r("3DNc"),d=r("t+pW"),p=r("+575"),f=r("DrHl"),h=r("lUWv"),m=r("8t63"),y=r("IzPW"),g=r("fB7H"),v=r("F1uM"),b=r("D2XV"),w=r("6BTz"),S=r("r8oj"),_=r("nFzZ"),k=r("7Q97"),C=r("1y3T"),E=r("q1tI"),P=r("pxbK"),x=r("bPtJ"),T=r("0lqH"),O=r("oRaq"),M=r("cBa6"),I=r("RgmA"),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderCommaSeparator=function(){return l.createElement("span",{style:{marginRight:6,marginLeft:2}},",")},t.renderSpaceSeparator=function(){return l.createElement("span",{style:{marginRight:8}})},t.intersperseTokens=function(e,t){var r=e.length;return e.map(function(e,n){return l.createElement("div",{style:{display:"flex",flexWrap:"nowrap"},key:e+"-"+n},e,r===n+1?void 0:t)})},t.getRecordValue=function(e,r){return x.createRecordStore(t.props.parentStore,e,r).getValue()},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.getPropertySchema();if(e)return"title"===e.type?this.renderTitleTokens():"text"===e.type?this.renderTextTokens():"relation"===e.type?this.renderRelationTokens(e):"checkbox"===e.type?this.renderCheckboxTokens():"select"===e.type?this.renderSelectTokens(e):"multi_select"===e.type?this.renderMultiSelectTokens(e):"person"===e.type?this.renderPersonTokens():"number"===e.type?this.renderNumberTokens(e):"date"===e.type?this.renderDateTokens(e):"file"===e.type?this.renderFileTokens():"url"===e.type||"email"===e.type||"phone_number"===e.type?this.renderUrlTokens():"created_by"===e.type?this.renderCreatedByTokens():"created_time"===e.type?this.renderCreatedTimeTokens():"last_edited_by"===e.type?this.renderLastEditedByTokens():"last_edited_time"===e.type?this.renderLastEditedTimeTokens():"formula"===e.type?this.renderFormulaTokens(e):void 0},t.prototype.renderTitleTokens=function(){var e,t,r=this.props,n=r.stores,o=r.blockPropertyValueOverlayStore,a=[];try{for(var s=i(n),u=s.next();!u.done;u=s.next()){var c=u.value;c.getValue()&&a.push(l.createElement(m.default,{key:c.id,format:this.getTokenFormat(),blockId:c.id,isSingle:!1,parentStore:this.props.parentStore,blockPropertyValueOverlayStore:o}))}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return l.createElement(E.Fragment,null,a)},t.prototype.renderTextTokens=function(){var e,t,r=this.props,n=r.stores,o=r.property,u=r.parentStore,c=[];try{for(var d=i(n),p=d.next();!p.done;p=d.next()){var f=p.value.getPropertyValue(o);f&&c.push(f)}}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}var h=s.flatten(I.default(c,function(){return M.createTextValue(", ")})),m=M.normalizeTextValue(h);return l.createElement("span",{style:a({},this.getBaseTextStyle(),this.props.wrap&&{whiteSpace:"normal"})},y.renderText({textValue:m,parentStore:u,disableStyleAnnotations:!1,disabled:!0,theme:this.theme}))},t.prototype.renderUrlTokens=function(){var e,t,r=this.props,n=r.stores,o=r.property,a=[];try{for(var s=i(n),u=s.next();!u.done;u=s.next()){var c=u.value,d=c.getPropertyValue(o),f=p.toUrlValue(d);f&&a.push(l.createElement("span",{key:c.id,style:this.getLinkTextStyle()},f))}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return l.createElement(E.Fragment,null,this.intersperseTokens(a,this.renderCommaSeparator()))},t.prototype.renderNumberTokens=function(e){var t,r,n=this.props,o=n.stores,a=n.property,u=e&&"number"===e.type&&e.number_format?e.number_format:w.defaultNumberFormat,c=[];try{for(var d=i(o),f=d.next();!f.done;f=d.next()){var h=f.value,m=h.getPropertyValue(a),y=p.toNumberValue(m);s.isNaN(y)||_.isNotDefined(y)||c.push(l.createElement("span",{key:h.id,style:this.getBaseTextStyle()},w.formatNumber(y,u)))}}catch(e){t={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}return l.createElement(E.Fragment,null,this.intersperseTokens(c,this.renderCommaSeparator()))},t.prototype.renderCheckboxTokens=function(){var e,t,r=this.props,n=r.stores,o=r.property,a=[];try{for(var s=i(n),u=s.next();!u.done;u=s.next()){var d=u.value,f=d.getPropertyValue(o),h=p.toCheckboxValue(f);a.push(l.createElement("div",{style:{marginTop:T.default.cellHeight/4,display:"flex",alignItems:"center"}},l.createElement(c.default,{key:d.id,checked:h,disabled:!0,size:this.isCalendar()?12:16,checkSize:this.isDesktopCalendar()?8:12})))}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return l.createElement(E.Fragment,null,this.intersperseTokens(a,this.renderSpaceSeparator()))},t.prototype.renderSelectTokens=function(e){var t,r,n=this.props,o=n.stores,a=n.property,s=e.options||[],u=[];try{for(var c=i(o),d=c.next();!d.done;d=c.next()){var h=d.value,m=h.getPropertyValue(a),y=p.toSelectValue(m,s);y&&u.push(l.createElement(f.default,{key:h.id,value:y,options:s,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,shouldShrink:this.isPage()||this.isBoard()||this.isMobileCalendar()}))}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return l.createElement(E.Fragment,null,u)},t.prototype.renderMultiSelectTokens=function(e){var t,r,n,o,a=this.props,s=a.stores,u=a.property,c=e.options||[],d=[];try{for(var h=i(s),m=h.next();!m.done;m=h.next()){var y=m.value,g=y.getPropertyValue(u),v=p.toMultiSelectValue(g,c);try{for(var b=i(v),w=b.next();!w.done;w=b.next()){var S=w.value;d.push(l.createElement(f.default,{key:y.id+"-"+S,value:S,options:c,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,shouldShrink:this.isPage()||this.isBoard()||this.isMobileCalendar()}))}}catch(e){n={error:e}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}return l.createElement(E.Fragment,null,d)},t.prototype.renderPersonTokens=function(){var e,t,r,n,o=this.props,a=o.stores,s=o.property,u=[];try{for(var c=i(a),d=c.next();!d.done;d=c.next()){var f=d.value,m=f.getPropertyValue(s),y=p.toPersonValue(m);try{for(var g=i(y),v=g.next();!v.done;v=g.next()){var b=v.value;u.push(l.createElement(h.default,{key:f.id+"-"+b,userId:b,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,parentStore:this.props.parentStore}))}}catch(e){r={error:e}}finally{try{v&&!v.done&&(n=g.return)&&n.call(g)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}return l.createElement(E.Fragment,null,u)},t.prototype.renderRelationTokens=function(e){var t,r,n,o,a=this.props,s=a.stores,c=a.property,d=a.blockPropertyValueOverlayStore,f=[];try{for(var h=i(s),y=h.next();!y.done;y=h.next()){var g=y.value,v=g.getPropertyValue(c),b=p.toRelationValue(v);try{for(var w=i(b),S=w.next();!S.done;S=w.next()){var _=S.value,k=u.default.createChildStore(g,_).getValue();k&&k.parent_id===e.collection_id&&f.push(l.createElement(m.default,{key:g.id+"-"+_,format:this.getTokenFormat(),blockId:_,isSingle:!1,parentStore:this.props.parentStore,blockPropertyValueOverlayStore:d}))}}catch(e){n={error:e}}finally{try{S&&!S.done&&(o=w.return)&&o.call(w)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{y&&!y.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}return l.createElement(E.Fragment,null,f)},t.prototype.renderDateTokens=function(e){var t,r,n=this.props,o=n.stores,a=n.property,s=e&&e.time_format?e.time_format:b.defaultTimeFormat,u=e&&e.date_format?e.date_format:b.defaultDateFormat,c=[];try{for(var d=i(o),f=d.next();!f.done;f=d.next()){var h=f.value,m=h.getPropertyValue(a),y=p.toDateValue(m);m&&c.push(l.createElement(g.default,{key:h.id,value:y,dateFormat:u,timeFormat:s,style:this.getBaseTextStyle()}))}}catch(e){t={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}return l.createElement(E.Fragment,null,this.intersperseTokens(c,this.renderCommaSeparator()))},t.prototype.renderFileTokens=function(){var e,r,n,o,s=this,u=this.props,c=u.stores,d=u.property,f=[];try{for(var h=i(c),m=h.next();!m.done;m=h.next()){var y=m.value,g=y.getPropertyValue(d),b=p.toFileValue(g),w=function(e){var r=e.data||e.value,n=e.value||e.data;v.isImageURL({url:r})?f.push(l.createElement(C.default,{key:y.id+"-"+r,url:r,permissionRecord:{table:y.table,id:y.id},width:20,render:function(e,t){if(t)return l.createElement("img",{key:r,src:t,style:s.getFileImageStyle()})}})):f.push(l.createElement("div",{key:y.id+"-"+r,style:a({},S.getFileStyle(),S.isDesktopCalendar()&&{height:14,display:"inline-flex"})},l.createElement("span",{style:t.fileTitleStyle},n)))},S=this;try{for(var _=i(b),k=_.next();!k.done;k=_.next()){w(k.value)}}catch(e){n={error:e}}finally{try{k&&!k.done&&(o=_.return)&&o.call(_)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}return l.createElement(E.Fragment,null,f)},t.prototype.renderFormulaTokens=function(e){var t,r,n=this.props,o=n.stores,a=n.property,u=n.schema,d=e.formula,p=e.number_format,f=d?d.result_type:null,h=p||w.defaultNumberFormat,m=[],y=function(e){var t=e.getValue();if(t){var r=P.evaluateFormula({property:a,schema:u,block:t,userTimeZone:b.currentTimeZone,getRecordValue:v.getRecordValue,depth:0});if("checkbox"===f&&"boolean"==typeof r)m.push(l.createElement(c.default,{key:e.id,checked:r,disabled:!0,size:v.isDesktopCalendar()?12:16,checkSize:v.isDesktopCalendar()?8:12}));else if("number"===f&&"number"==typeof r)s.isNaN(r)||_.isNotDefined(r)||m.push(l.createElement("span",{key:e.id,style:v.getBaseTextStyle()},w.formatNumber(r,h)));else if("date"===f&&b.isPersistedDate(r)){var n;O.getFormulaDependencies(d).find(function(e){var t=u[e];return!(!t||"date"!==t.type)&&(n=t,!0)}),m.push(l.createElement(g.default,{key:e.id,value:r,dateFormat:n&&n.date_format?n.date_format:b.defaultDateFormat,timeFormat:n&&n.time_format?n.time_format:b.defaultTimeFormat,style:v.getBaseTextStyle()}))}else"text"===f&&"string"==typeof r&&m.push(l.createElement("div",{key:e.id,style:v.getBaseTextStyle()},r?r.toString():null))}},v=this;try{for(var S=i(o),k=S.next();!k.done;k=S.next()){y(k.value)}}catch(e){t={error:e}}finally{try{k&&!k.done&&(r=S.return)&&r.call(S)}finally{if(t)throw t.error}}return l.createElement(E.Fragment,null,this.intersperseTokens(m,"checkbox"===f?this.renderSpaceSeparator():this.renderCommaSeparator()))},t.prototype.renderCreatedTimeTokens=function(){var e,t,r=this.props.stores,n=[];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.getValue(),c=u&&u.created_time;if(c){var d=b.dateTime(c,b.currentTimeZone);n.push(l.createElement(g.default,{key:s.id,value:d,dateFormat:"MMM DD, YYYY",timeFormat:"h:mm A",style:this.getBaseTextStyle()}))}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return l.createElement(E.Fragment,null,this.intersperseTokens(n,this.renderCommaSeparator()))},t.prototype.renderCreatedByTokens=function(){var e,t,r=this.props.stores,n=[];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.getValue(),c=u&&u.created_by;c&&n.push(l.createElement(h.default,{key:s.id,userId:c,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,parentStore:this.props.parentStore}))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return l.createElement(E.Fragment,null,n)},t.prototype.renderLastEditedTimeTokens=function(){var e,t,r=this.props.stores,n=[];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.getValue(),c=u&&u.last_edited_time;if(c){var d=b.dateTime(c,b.currentTimeZone);n.push(l.createElement(g.default,{key:s.id,value:d,dateFormat:"MMM DD, YYYY",timeFormat:"h:mm A",style:this.getBaseTextStyle()}))}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return l.createElement(E.Fragment,null,this.intersperseTokens(n,this.renderCommaSeparator()))},t.prototype.renderLastEditedByTokens=function(){var e,t,r=this.props.stores,n=[];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.getValue(),c=u&&u.last_edited_by;c&&n.push(l.createElement(h.default,{key:s.id,userId:c,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,parentStore:this.props.parentStore}))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return l.createElement(E.Fragment,null,n)},t.prototype.getPropertySchema=function(){var e=this.props,t=e.property;return e.schema[t]},t.prototype.isTable=function(){return this.props.format===T.BlockPropertyValueFormat.Table},t.prototype.isBoard=function(){return this.props.format===T.BlockPropertyValueFormat.Board},t.prototype.isCalendar=function(){return this.props.format===T.BlockPropertyValueFormat.Calendar},t.prototype.isDesktopCalendar=function(){var e=this.props.format;return!S.default.isMobile&&e===T.BlockPropertyValueFormat.Calendar},t.prototype.isMobileCalendar=function(){var e=this.props.format;return S.default.isMobile&&e===T.BlockPropertyValueFormat.Calendar},t.prototype.isPage=function(){return this.props.format===T.BlockPropertyValueFormat.Page},t.prototype.isListView=function(){return this.props.format===T.BlockPropertyValueFormat.ListView},t.prototype.isMobileGallery=function(){var e=this.props.format;return S.default.isMobile&&e===T.BlockPropertyValueFormat.GalleryView},t.prototype.isDesktopGallery=function(){var e=this.props.format;return!S.default.isMobile&&e===T.BlockPropertyValueFormat.GalleryView},t.prototype.getTokenFormat=function(){return this.isMobileCalendar()?k.TokenFormat.Medium:this.isDesktopCalendar()||this.isDesktopGallery()?k.TokenFormat.ExtraSmall:this.isBoard()?k.TokenFormat.Small:this.isListView()||this.isMobileGallery()?k.TokenFormat.Inline:k.TokenFormat.Medium},t.prototype.getBaseTextStyle=function(){return this.isTable()?{lineHeight:1.5,whiteSpace:"nowrap",wordBreak:"normal",pointerEvents:"none"}:this.isDesktopCalendar()?{lineHeight:1.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}:{lineHeight:1.5,wordBreak:"break-word",whiteSpace:"pre-wrap",pointerEvents:"none"}},t.prototype.getLinkUnderlineStyle=function(){return{backgroundImage:"linear-gradient(\n\t\t\tto right,\n\t\t\t"+this.theme.darkDividerColor+" 0%,\n\t\t\t"+this.theme.darkDividerColor+" 100%\n\t\t)",backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}},t.prototype.getLinkTextStyle=function(){return a({},this.getBaseTextStyle(),this.getLinkUnderlineStyle())},t.prototype.getFileImageStyle=function(){return{maxHeight:this.isDesktopCalendar()?18:24,marginRight:6}},t.prototype.getFileStyle=function(){return{display:"flex",alignItems:"center",whiteSpace:"nowrap",maxWidth:120,height:18,borderRadius:3,background:this.theme.selectColors.default,paddingLeft:6,paddingRight:6,overflow:"hidden",marginRight:6,marginTop:3,marginBottom:3,paddingBottom:1}},t.cellHeight=32,t.fileTitleStyle={textOverflow:"ellipsis",overflow:"hidden"},t}(d.default);t.default=A},WPWl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unit=8,t.default={unit:t.unit,card:{desktop:{small:{width:180,height:100},medium:{width:260,height:148},large:{width:320,height:180}},mobile:{width:"100%"}}}},WWez:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("i8i4"),l=r("wldR"),s=r("y6Dp"),u=r("v/t1"),c=r("7M94"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sessionNamesMap={},t.handleScroll=function(){if(t.node){var e=Array.from(t.node.querySelectorAll("."+c.analyticsScrollPoint)),r=e.map(function(e){return e.getBoundingClientRect()}).findIndex(function(e){return e.top>window.innerHeight}),n=void 0;if(void 0!==(n=r>=0?r-1:e.length-1)){var o=e[n];if(o&&o.id){var a=o.id;t.sessionNamesMap[a]||(t.sessionNamesMap[a]=!0,s.trackScroll({from:t.props.analyticsName,name:a,index:n}))}}}},t.handleScrollThrottled=a.throttle(t.handleScroll,500),t}return o(t,e),t.prototype.didMount=function(){e.prototype.didMount.call(this),this.node=i.findDOMNode(this),u.addPassiveEventListener(window,"scroll",this.handleScrollThrottled),this.handleScroll()},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),u.removePassiveEventListener(window,"scroll",this.handleScrollThrottled)},t.prototype.renderComponent=function(){return this.props.render()},t}(l.default);t.default=d},WWtS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("wldR"),u=r("6BTz"),c=r("yNyh"),d=r("VyA+"),p=r("G4GV"),f=r("Hl/2"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInputChange=function(e){var r=t.props,n=r.onChange,o=r.format,i=e.target.value;t.stores.inputStore.setState(a({},t.stores.inputStore.state,{inputValue:i}));var l=u.parseNumber(i);"percent"===o&&(l/=100),n(l)},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t);var r=t.value,n=t.format,o=t.insertChar;o?this.stores.inputStore.setState(a({},this.stores.inputStore.state,{inputValue:o})):this.stores.inputStore.setState(a({},this.stores.inputStore.state,{inputValue:u.formatNumber(r,n)||""}))},t.prototype.renderComponent=function(){var e=this.props.disabled;return i.createElement(d.default,{capture:!e,onDelete:l.identity,onSpace:l.identity,onBackspace:l.identity,onLeft:l.identity,onRight:l.identity,onUp:l.identity,onDown:l.identity,onSelectAll:l.identity,onRedo:l.identity,onUndo:l.identity,onCut:l.identity,onCopy:l.identity,onPaste:l.identity,onKeypress:l.identity},i.createElement(c.default,{style:a({},f.default.textStyle,{display:"block"}),value:this.stores.inputStore.state.inputValue,format:c.default.Format.Transparent,onChange:this.handleInputChange,inputStyle:this.getInputStyle(),focus:!e,disabled:e}))},t.prototype.getInputStyle=function(){return{textAlign:this.props.isTable?"right":"left"}},t.stores={inputStore:p.default},t}(s.default);t.default=h},"WZ/V":function(e,t){},Wae9:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LEzx"),l=r("QcDD"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{results:[]}},t.prototype.getUnreadCountForCurrentSpace=function(){var e=l.default.state.currentSpaceStore,t=this.state.results;if(e){var r=t.find(function(t){return t.spaceId===e.id});if(r)return r.unread}return{mentions:0,nonMentions:0}},t.prototype.getUnreadMentionsCountForOtherSpaces=function(){var e,t,r=l.default.state.currentSpaceStore,n=r&&r.id,o=this.state.results,i=0;try{for(var s=a(o),u=s.next();!u.done;u=s.next()){var c=u.value;c.spaceId!==n&&(i+=c.unread.mentions)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return i},t.prototype.getTotalUnreadMentionsCount=function(){var e,t,r=this.state.results,n=0;try{for(var o=a(r),i=o.next();!i.done;i=o.next()){n+=i.value.unread.mentions}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},t}(i.default);t.default=new s},WaiN:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},Wbh4:function(e,t){},Wceh:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("Na01"),u=r("IdSf"),c=r("/YYm"),d=r("QcDD"),p=r("r8oj"),f=r("Sb6f"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.store,r=e.collectionViewStore,n=e.onNavigate,o=c.default({store:t,fullyQualified:!1,collectionViewId:r.id}),a=r.getValue();return i.createElement(u.default,{href:o,style:{width:"100%"},onClick:n},i.createElement(s.default,{icon:this.renderIcon(),style:this.getSidebarItemStyle(),isMobile:this.props.isMobile},a&&a.name?a.name:"Untitled"))},t.prototype.renderIcon=function(){return i.createElement("div",{style:a({},this.getInitialIconStyle())},"•")},t.prototype.getInitialIconStyle=function(){return{fontSize:12,fontWeight:500,color:this.theme.mediumTextColor}},t.prototype.getSidebarItemStyle=function(){return a({},this.isCurrentPage()&&a({background:this.theme.buttonHoveredBackground,color:this.theme.regularTextColor,fontWeight:f.default.fontWeight.semibold},p.default.isMobile&&{boxShadow:"\n\t\t\t\t\t\t0 1px 0 "+this.theme.buttonHoveredBackground+"\n\t\t\t\t\t"}),this.props.style)},t.prototype.isCurrentPage=function(){var e=this.props,t=e.store,r=e.collectionViewStore,n=d.default.state,o=n.currentBlockStore,a=n.currentCollectionViewStore;return o&&t.id===o.id&&a&&a.id===r.id},t}(l.default);t.default=h},WcpM:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("EZe4"),i=r("wldR"),l=r("r8oj"),s=r("T1hA"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleContextMenu=function(e){l.default.isAndroid||a.default({event:e,context:a.EventContext.EditorContextMenu,callback:function(){l.default.isElectron||s.default.isLoggedIn()&&e.preventDefault()}})},t.handleDragStart=function(e){e.preventDefault()},t}return o(t,e),t.prototype.didMount=function(){e.prototype.didMount.call(this),window.addEventListener("contextmenu",this.handleContextMenu),window.addEventListener("dragstart",this.handleDragStart)},t.prototype.willUnmount=function(){window.removeEventListener("contextmenu",this.handleContextMenu),window.removeEventListener("dragstart",this.handleDragStart),e.prototype.willUnmount.call(this)},t}(i.default);t.default=u},Wfos:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("udrG"),l=r("79T+"),s=r("wpmu"),u=r("N34Z"),c=r("MBf9"),d=r("sPNb"),p=r("r8oj"),f=r("RI9y"),h=r("q2qQ"),m=r("Ajfl"),y=r("y6Dp"),g=r("oFLp"),v=r("A9TN"),b=r("f6Xh"),w=r("sjR4"),S=r("3k5a"),_=r("43ch"),k=r("w5u6"),C=r("7IvN"),E=r("WaiN"),P=r("GKeo"),x=r("tP7q");t.activateFromLinkCreation=function(e){var t=e.textStore,r=e.url,n=e.oldTextValue,o=e.urlSelection,a=C.default.state,i=_.default.findEditableWithStore(t);if(!a.open&&!E.default.state.open&&!P.default.state.open&&i&&!i.props.disableEmbedMenu){var l=f.get();if(l){var s=f.getRect(l);s&&(C.default.setState({open:!0,textStore:t,url:r,oldTextValue:n,urlSelection:o,selectionRect:s}),y.trackOpenEmbedMenu({url:r}))}}},t.accept=function(e){return n(this,void 0,void 0,function(){var r,n,f,y,_,E,P,T,O,M,I,A,D,L,R,B,j,V;return o(this,function(o){switch(o.label){case 0:return(r=C.default.state).open?(n=r.url,f=r.textStore,y=r.oldTextValue,_=w.default.state.stores,(E=_[0])?"page"!==(P=x.parseRoute({url:n,baseUrl:v.default.baseURL,isMobile:p.default.isMobile,protocol:v.default.protocol,currentUrl:window.location.href})).name?[3,9]:(L=c.create(),m.setValue({store:f,value:y,transaction:L}),T=void 0,P.peekViewBlockId?[4,(O=s.default.createChildStore(f,P.peekViewBlockId)).load()]:[3,2]):[2]):[3,12];case 1:o.sent(),O.isPageBlock()&&(T=O),o.label=2;case 2:return T||(T=s.default.createChildStore(f,P.blockId)),T?T.isCollectionView()?[4,T.load()]:[3,6]:[3,8];case 3:return o.sent(),(M=T.getCollectionViewCollectionStore())?[4,M.load()]:[3,5];case 4:o.sent(),g.replaceBlockWithCollectionAlias({store:E,collectionStore:M,transaction:L}),o.label=5;case 5:return[3,7];case 6:I=s.default.createChildStore(E,T.id),h.insertBlocksAfterSelection({blocks:[I],selection:_,transaction:L}),o.label=7;case 7:k.default.afterNextFlush(function(){c.createAndCommit(function(e){h.removeSelectionIfEmptyText({blocks:_,transaction:e})})}),o.label=8;case 8:return c.commit({transaction:L}),[3,12];case 9:return e.blockType!==i.default.bookmark?[3,11]:(L=c.create(),m.setValue({store:f,value:y,transaction:L}),A=u.createBlock({type:i.default.copyIndicator,recordCacheStore:E.recordCacheStore,transaction:L}),B=h.insertBlocksAfterSelection({blocks:[A],selection:_,transaction:L}),c.commit({transaction:L}),k.default.afterNextFlush(function(){c.createAndCommit(function(e){h.removeSelectionIfEmptyText({blocks:_,transaction:e})})}),D=B[0],[4,b.createBookmark({store:D,url:n})]);case 10:return o.sent(),[3,12];case 11:L=c.create(),m.setValue({store:f,value:y,transaction:L}),R=u.createBlock({type:i.default.copyIndicator,recordCacheStore:E.recordCacheStore,transaction:L}),B=h.insertBlocksAfterSelection({blocks:[R],selection:_,transaction:L}),c.commit({transaction:L}),k.default.afterNextFlush(function(){c.createAndCommit(function(e){h.removeSelectionIfEmptyText({blocks:_,transaction:e})})}),j=B[0],V=function(t){var r,o=c.create();e.blockType?r=e.blockType:(r=i.default.embed,t&&t.media&&("photo"===t.media.type?r=i.default.image:"video"===t.media.type&&(r=i.default.video))),d.transform({block:j,blockType:r,transaction:o}),k.default.afterNextFlush(function(){var e=S.default.getComponents().find(function(e){return e.props.store===j&&a.isFunction(e.embed)});e&&e.embed(n)}),c.commit({transaction:o})},l.getExtractedData(n).then(V),o.label=12;case 12:return t.close(),[2]}})})},t.close=function(){C.default.setState({open:!1})}},WgIs:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("LvDl"),l=r("i8i4"),s=r("lBar"),u=r("wldR"),c=r("VyA+"),d=r("RQ1t"),p=r("r8oj"),f=r("6V/x"),h=r("45vK"),m=r("qHvo"),y=r("0zNc"),g=r("iICV"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hovering=!1,t.itemRefs={},t.handleItemRef=function(e,r){e&&(t.itemRefs[r]=e)},t.handleClick=function(e,r){var n=f.getItemAtIndex(r,t.props.sections);n&&t.handleAccept(n,{event:e,index:r},!1)},t.handleMouseEnter=function(e){g.default.state.isKeyboardMode||y.default.state.isDragging||m.default.state.isDragging||(t.hovering=!0,t.setFocus(e))},t.handleArrowUp=function(e){e.preventDefault();var r=t.stores.store.state.focusedIndex,n=f.getMenuLength(t.props.sections);t.hovering=!1,0===r||void 0===r?t.props.disableKeyboardArrowWrap||t.setFocus(n-1):t.setFocus(r-1)},t.handleArrowDown=function(e){e.preventDefault();var r=t.stores.store.state.focusedIndex;t.hovering=!1;var n=f.getMenuLength(t.props.sections);void 0===r?t.setFocus(0):(r+1<n||!t.props.disableKeyboardArrowWrap)&&t.setFocus((r+1)%n)},t.handleEnter=function(e){if(!p.default.isMobile){e.preventDefault();var r=t.stores.store.state.focusedIndex;if(void 0===r)t.props.onEmptyEnter&&t.props.onEmptyEnter();else{var n=f.getItemAtIndex(r,t.props.sections);n&&t.handleAccept(n,{index:r,event:e},!0)}}},t.handleAccept=h.debounceRerender(function(e,r,n){t.props.onAccept&&t.props.onAccept(e,r,n),e.action(r)}),t.handleFocus=function(e){window.clearTimeout(t.mouseLeaveTimer),t.setFocus(e)},t.handleMouseLeave=function(e){y.default.state.isDragging||t.props.disableMouseLeaveBlur||(window.clearTimeout(t.mouseLeaveTimer),t.mouseLeaveTimer=window.setTimeout(function(){t.setFocus(void 0)},100))},t}return o(t,e),t.prototype.setFocus=function(e,t){if(t=t||this.props.sections,void 0===e)this.stores.store.setState({focusedIndex:void 0,focusedKey:void 0});else{var r=f.getItemAtIndex(e,t);r?this.stores.store.setState({focusedIndex:e,focusedKey:r.key}):this.stores.store.setState({focusedIndex:void 0,focusedKey:void 0})}},t.prototype.willMount=function(){this.setFocus(this.props.initialFocus,this.props.sections)},t.prototype.didMount=function(){this.hovering||this.props.disableInitialScroll||this.scrollFocusedElIntoView()},t.prototype.didUpdate=function(){this.hovering||this.scrollFocusedElIntoView()},t.prototype.willUpdate=function(e){if(this.props.initialFocus===e.initialFocus){if(e.preserveReorderedFocus){var t=this.stores.store.state.focusedKey;if(void 0!==t){var r=f.findItemWithKey(t,e.sections);if(r)return void this.stores.store.setState({focusedIndex:r.index,focusedKey:r.item.key})}}if(this.props.sections.length===e.sections.length){for(var n=0;n<e.sections.length;n++){var o=e.sections[n];if(this.props.sections[n].items.length!==o.items.length)return void this.setFocus(this.props.initialFocus,e.sections)}var a=this.stores.store.state.focusedIndex;if(void 0!==a){var i=f.getItemAtIndex(a,e.sections);i?this.stores.store.setState({focusedIndex:a,focusedKey:i.key}):this.stores.store.setState({focusedIndex:void 0,focusedKey:void 0})}}else this.setFocus(this.props.initialFocus,e.sections)}else this.setFocus(e.initialFocus,e.sections)},t.prototype.renderComponent=function(){var e=this,t=0,r=this.stores.store.state.focusedIndex;return a.createElement(c.default,{capture:!this.props.disableKeyboard,onUp:this.handleArrowUp,onDown:this.handleArrowDown,onEnter:this.handleEnter,onCommandEnter:this.props.disableCommandEnter?void 0:this.handleEnter,onCommandShiftEnter:i.identity,onCommandSlash:i.identity},a.createElement("div",{onMouseLeave:this.handleMouseLeave},this.props.sections.map(function(n,o){var a=n.items.map(function(n,o){var a=t;t++;var i=r===a;return n.render({focused:i,key:n.key,ref:function(t){return e.handleItemRef(t,a)},onClick:function(t){return e.handleClick(t,a)},onMouseEnter:function(){return e.handleMouseEnter(a)}},{onAccept:e.props.onAccept,onFocus:function(){return e.handleFocus(a)}})});return n.render({key:n.key,index:o,children:a})})))},t.prototype.scrollFocusedElIntoView=function(){var e=this.stores.store.state.focusedIndex;if(void 0!==e){var t=this.itemRefs[e];if(t){var r=l.findDOMNode(t);s.scrollElIntoView(r)}}},t.stores={store:d.default},t}(u.default);t.default=v},Wnyic:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("r8oj"),i=r("A9TN"),l=r("Fv2F");t.getAuthType=function(){if(a.default.isReactNative||a.default.isCordova)return{redirectToAuth:!1,callbackType:"native"};if(a.default.isElectron)return{redirectToAuth:!1,callbackType:"popup"};if(a.default.isMobileBrowser)return{redirectToAuth:!0,callbackType:"redirect"};return{redirectToAuth:!0,callbackType:"popup"}},t.loadAuthUrl=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return a.default.isHttpApp?[3,3]:[4,fetch(l.getSchemeUrl({httpUrl:e,protocol:i.default.protocol}))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent().url];case 3:return[4,fetch(e)];case 4:return[4,t.sent().json()];case 5:return[2,t.sent().url]}})})}},Wq38:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.svg,r=e.viewBox,n=e.style;return i.createElement("svg",{viewBox:r,style:a({width:"100%",height:"100%",display:"block",fill:"inherit",flexShrink:0,WebkitBackfaceVisibility:"hidden"},n)},t)},t}(i.Component);t.default=l},Wvka:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("cBa6"),o=r("g90h"),a=r("VpIZ"),i=r("S26v");t.default=function(e){var t=e.pageId,r=e.pageValue,l=e.spaceValue,s=e.scrollToBlockId,u=e.peekViewBlockId,c=e.collectionViewId,d=e.baseUrl,p=e.discussionId,f=e.showMoveTo,h=e.saveParent,m="";r&&a.isTitleType(r)&&r.properties&&(m=n.getTextWithoutTokens(r.properties.title||[]).replace(/[^\w]/g," ").trim().slice(0,100).split(/\s+/g).join("-"));var y,g="/";l&&l.domain&&(y=l.domain),y&&(g+=y+"/"),t&&(g+=m?m+"-"+o.withoutDashes(t):""+o.withoutDashes(t)),d&&(g=""+d+g);var v={};return c&&(v.v=o.withoutDashes(c)),u&&(v.p=o.withoutDashes(u)),p&&(v.d=p),f&&(v.showMoveTo="true"),h&&(v.saveParent="true"),i.makeUrl({url:g,query:v,hash:s&&o.withoutDashes(s)})}},WxaJ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("wldR"),u=r("Pl3d"),c=r("bkwR"),d=r("622O"),p=r("A9TN"),f=r("enHn"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.peformRequest=function(e){return a(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return d.isSecureFileUrl(e.url,p.default.secureFileS3.url)?e.permissionRecord?[4,f.default.awaitRecordTransaction(e.permissionRecord.table,e.permissionRecord.id)]:[3,2]:[3,3];case 1:t.sent(),t.label=2;case 2:return[2,c.getSignedFileUrl(e)];case 3:return[2,e.url]}})})},t}return o(t,e),t.prototype.renderComponent=function(){return l.createElement(u.default,{request:{url:this.props.url,permissionRecord:this.props.permissionRecord},performRequest:this.peformRequest,render:this.props.render})},t}(s.default);t.default=h},X1sx:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{loading:!0,error:!1}},t}(r("LEzx").default);t.default=a},X3kV:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("P8+q"),c=r("LvDl"),d=r("hfHo"),p=r("njgS"),f=r("OIDJ"),h=r("3DNc"),m=r("wldR"),y=r("yNyh"),g=r("Z1H8"),v=r("DrHl"),b=r("i3uR"),w=r("fB7H"),S=r("lUWv"),_=r("+575"),k=r("r8oj"),C=r("8t63"),E=r("D2XV"),P=r("2Y+N"),x=r("WgIs"),T=r("SR/M"),O=r("4dmN"),M=r("Pl3d"),I=r("hU3F"),A=r("zTdN"),D=r("gbGO"),L=r("dXb3"),R=r("4HCU"),B=r("oWZM"),j=r("wpmu"),V=r("sbdd"),F=r("tvfY"),N=r("nFzZ"),U=r("XDBA"),W=r("QcDD"),z=r("IULH"),H=r("HTHG"),q=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.handleClick=function(){var e=r.stores.store;e.setState(a({},e.state,{isEditing:!0}))},r.handleInputBlur=function(){var e=r.stores.store;e.setState(a({},e.state,{isEditing:!1}))},r.handleCheckboxClick=function(){var e=r.props;(0,e.onChange)({value:e.value===p.checkboxYesValue?p.checkboxNoValue:p.checkboxYesValue})},r.handleInputChange=function(e){(0,r.props.onChange)({value:e.target.value})},r.handleDatePickerChange=function(e){(0,r.props.onChange)({value:e,valueType:"exact_date"})},r.getPersonAutocompleteResults=function(e){return i(r,void 0,void 0,function(){var r,n,o,u=this;return l(this,function(c){switch(c.label){case 0:return[4,R.searchUsers({query:e,membersOnly:!1})];case 1:return r=c.sent(),n=r.map(function(e){return e.userId}),(!e||t.personMeKey.indexOf(e)>=0)&&n.unshift(t.personMeKey),0===n.length?[2,[]]:[4,Promise.all(n.map(function(e){return i(u,void 0,void 0,function(){var r,n,o=this;return l(this,function(i){switch(i.label){case 0:return r={type:_.TokenType.UserMention,data:e},e!==t.emptyTokenKey?[3,1]:[2,{key:e,render:function(e){return s.createElement(T.default,a({},e,{title:s.createElement(S.default,{isSingle:!0,shouldShrink:!0,format:k.default.isMobile?S.default.Format.Large:S.default.Format.Medium,userId:r.data,showRemoveButton:!1,parentStore:o.props.parentStore})}))},action:function(){o.props.onChange({value:void 0,valueType:"person"})}}];case 1:return e!==t.personMeKey?[3,2]:[2,{key:e,render:function(e){return s.createElement(T.default,a({},e,{title:"Me"}))},action:function(){o.props.onChange({value:void 0,valueType:"me"})}}];case 2:return[4,(n=F.default.createChildStore(this.props.parentStore,e)).load()];case 3:if(i.sent(),n.getValue())return[2,{key:e,render:function(e){return s.createElement(T.default,a({},e,{title:s.createElement(S.default,{isSingle:!0,shouldShrink:!0,format:k.default.isMobile?S.default.Format.Large:S.default.Format.Medium,userId:r.data,showRemoveButton:!1,parentStore:o.props.parentStore}),isTokenTitle:!0}))},action:function(){o.props.onChange({value:e,valueType:"person"})}}];i.label=4;case 4:return[2]}})})}))];case 2:return o=c.sent(),[2,N.compact(o)]}})})},r.getRelationAutocompleteResults=function(e){return i(r,void 0,void 0,function(){var t,r,n,o,i,u,c=this;return l(this,function(l){switch(l.label){case 0:return t=W.default.state,r=t.currentBlockStore,n=t.currentSpaceStore,(o=this.getPropertySchema())&&"relation"===o.type&&r&&n?(i=[],o.collection_id?[4,R.searchPagesWithParent({query:e,parentId:o.collection_id,limit:20,spaceId:n.id})]:[3,2]):[2,[]];case 1:u=l.sent(),i=u.results,l.label=2;case 2:return 0===i.length?[2,[]]:[2,i.map(function(e){var t=j.default.createChildStore(r,e);return{key:e,action:function(){return c.props.onChange({value:e})},render:function(e){return s.createElement(V.default,a({store:t},e))}}})]}})})},r}return o(t,e),t.prototype.renderComponent=function(){return s.createElement("div",{style:t.style,onClick:this.handleClick},this.renderValue())},t.prototype.renderValue=function(){var e=this.getPropertySchema();if(e)return"text"===e.type||"title"===e.type||"email"===e.type||"phone_number"===e.type||"url"===e.type||"number"===e.type?this.renderInput():"relation"===e.type?this.renderRelation():"checkbox"===e.type?this.renderCheckbox():"select"===e.type||"multi_select"===e.type?this.renderSelect(e):"person"===e.type||"created_by"===e.type||"last_edited_by"===e.type?this.renderPerson():"date"===e.type||"created_time"===e.type||"last_edited_time"===e.type?this.renderDate(e):void 0},t.prototype.renderCheckbox=function(){var e=this.props.value===p.checkboxYesValue;return k.default.isMobile?s.createElement(T.default,{focused:!1,onClick:this.handleCheckboxClick,title:s.createElement(h.default,{checked:e,onClick:this.handleCheckboxClick,size:16})}):s.createElement(z.default,{isLarge:!0,style:{marginRight:8},onClick:this.handleCheckboxClick},s.createElement(h.default,{checked:e,size:16,onClick:this.handleCheckboxClick}))},t.prototype.renderInput=function(){var e=this,r=this.props.value,n=this.stores.store.state.isEditing,o=r?r.toString():"";return k.default.isMobile?s.createElement(L.default,{value:o,onChange:this.handleInputChange,placeholder:"Value",onBlur:this.handleInputBlur,mobileEditLabel:"Edit"}):s.createElement(g.default,{capture:n,render:function(r){return s.createElement("div",a({},r),s.createElement(y.default,{value:o,onChange:e.handleInputChange,placeholder:"Value",onBlur:e.handleInputBlur,style:t.inputStyle}))}})},t.prototype.renderSelect=function(e){var t=this,r=this.props.onChange,n=e.options||[],o=n.map(function(e){return e.value}),i=this.props.value;return s.createElement(b.default,{popupType:k.default.isMobile?b.default.PopupType.SlideUp:b.default.PopupType.Popup,alignmentToOrigin:b.default.Alignment.Start,onClick:function(){return t.stores.selectQuery.set("")},renderOrigin:function(e){return s.createElement(B.default,a({},e,{placeholder:"Select a Option",title:i&&s.createElement(v.default,{format:k.default.isMobile?v.default.Format.Large:v.default.Format.Medium,isSingle:!0,value:i,options:n,showRemoveButton:!1})}))},render:function(e){var i=t.stores.selectQuery.get(),l=o;i&&(l=c.map(u.filter(i,l),"original"));var d,p=l.map(function(e){return{key:e,render:function(t){return s.createElement(T.default,a({title:s.createElement(v.default,{format:k.default.isMobile?v.default.Format.Large:v.default.Format.Medium,isSingle:!0,value:e,options:n,showRemoveButton:!1}),isTokenTitle:!0},t))},action:function(){return r({value:e})}}}),f=s.createElement(P.default,{isInput:!0},s.createElement(L.default,{focus:!k.default.isMobile||void 0,focusAfterAnimation:!0,value:t.stores.selectQuery.get(),onChange:function(e){return t.stores.selectQuery.set(e.target.value)},placeholder:"Search for an option..."}));return d=k.default.isMobile?{menuType:D.default.MenuType.Modal,title:"Select",right:"Cancel",onClickRight:e.close,header:f}:{menuType:D.default.MenuType.Popup,width:220,header:f},s.createElement(D.default,a({},d),0===l.length?s.createElement(P.default,{title:"Pick an option"},s.createElement(A.default,{title:"No Results"})):s.createElement(x.default,{initialFocus:0,sections:[{key:"select",render:function(e){return s.createElement(P.default,a({},e,{title:"Pick an option"}))},items:p}],onAccept:e.close}))}})},t.prototype.renderPerson=function(){var e=this,r=this.props,n=r.value,o="me"===r.valueType?t.personMeKey:n;return s.createElement(b.default,{popupType:k.default.isMobile?b.default.PopupType.SlideUp:b.default.PopupType.Popup,alignmentToOrigin:b.default.Alignment.Start,onClick:function(){return e.stores.personQuery.set("")},renderOrigin:function(r){if(void 0===o)return s.createElement(B.default,a({},r,{placeholder:"Select a Person"}));if(o===t.personMeKey)return s.createElement(B.default,a({},r,{placeholder:"Select a Person",title:"Me"}));var n={type:_.TokenType.UserMention,data:o};return s.createElement(B.default,a({},r,{placeholder:"Select a Person",title:s.createElement(S.default,{isSingle:!0,shouldShrink:!0,format:k.default.isMobile?S.default.Format.Large:S.default.Format.Medium,userId:n.data,showRemoveButton:!1,parentStore:e.props.parentStore})}))},render:function(t){var r,n={request:e.stores.personQuery.get(),performRequest:e.getPersonAutocompleteResults,render:function(e,r,n){return e?s.createElement(P.default,{title:"Pick a person",loading:!n},s.createElement(A.default,{title:"Something went wrong."})):r&&0===r.length?s.createElement(P.default,{title:"Pick a person",loading:!n},s.createElement(A.default,{title:"No Results"})):s.createElement(x.default,{initialFocus:0,sections:[{key:"property",render:function(e){return s.createElement(P.default,a({},e,{title:"Pick a person",loading:!n}))},items:r||[]}],onAccept:t.close})}},o=s.createElement(P.default,{isInput:!0},s.createElement(L.default,{focus:!k.default.isMobile||void 0,focusAfterAnimation:!0,value:e.stores.personQuery.get(),onChange:function(t){return e.stores.personQuery.set(t.target.value)},placeholder:"Search for a Person..."}));return r=k.default.isMobile?{menuType:D.default.MenuType.Modal,title:"Person",right:"Cancel",onClickRight:t.close,header:o}:{menuType:D.default.MenuType.Popup,width:220,header:o},s.createElement(D.default,a({},r),s.createElement(M.default,a({},n)))}})},t.prototype.renderRelation=function(){var e=this,t=this.props.blockPropertyValueOverlayStore,r=this.props.value;return s.createElement(b.default,{popupType:k.default.isMobile?b.default.PopupType.SlideUp:b.default.PopupType.Popup,alignmentToOrigin:b.default.Alignment.Start,onClick:function(){return e.stores.relationQuery.set("")},renderOrigin:function(n){if(void 0!==r){var o={type:_.TokenType.PageMention,data:r};return s.createElement(B.default,a({},n,{placeholder:"Select a Page",title:s.createElement(C.default,{blockId:o.data,parentStore:e.props.parentStore,isSingle:!0,shouldShrink:!0,format:k.default.isMobile?C.default.Format.Large:C.default.Format.Medium,blockPropertyValueOverlayStore:t})}))}return s.createElement(B.default,a({},n,{placeholder:"Select a Page"}))},render:function(t){var r,n={request:e.stores.relationQuery.get(),performRequest:e.getRelationAutocompleteResults,debounce:R.defaultSearchDebounce,render:function(e,r,n){return e?s.createElement(P.default,{title:"Select a page",loading:!n},s.createElement(A.default,{title:"Something went wrong."})):r&&0===r.length?s.createElement(P.default,{title:"Select a page",loading:!n},s.createElement(A.default,{title:"No Results"})):s.createElement(x.default,{initialFocus:0,sections:[{key:"relation",render:function(e){return s.createElement(P.default,a({},e,{title:"Select a page",loading:!n}))},items:r||[]}],onAccept:t.close})}},o=s.createElement(P.default,{isInput:!0},s.createElement(L.default,{focus:!k.default.isMobile||void 0,focusAfterAnimation:!0,value:e.stores.relationQuery.get(),onChange:function(t){return e.stores.relationQuery.set(t.target.value)},placeholder:"Search for a Page..."}));return r=k.default.isMobile?{menuType:D.default.MenuType.Modal,title:"Relation",right:"Cancel",onClickRight:t.close,header:o}:{menuType:D.default.MenuType.Popup,width:220,header:o},s.createElement(D.default,a({},r),s.createElement(M.default,a({},n)))}})},t.prototype.renderDate=function(e){var t,r=this,n=this.props.value;t=e&&"date"===e.type&&e.date_format?e.date_format:E.defaultDateFormat;var o=n&&d.default(n),i=o&&E.date(o.valueOf(),E.currentTimeZone);return s.createElement(b.default,{popupType:k.default.isMobile?b.default.PopupType.SlideUp:b.default.PopupType.Popup,renderOrigin:function(e){return s.createElement(B.default,a({},e,{placeholder:"Date",title:i&&s.createElement(w.default,{value:i,dateFormat:t})}))},render:function(){return s.createElement("div",{style:{padding:"18px 14px 14px"}},s.createElement(O.default,{firstDayOfWeek:H.userSettingsStartOfWeekStore.state,value:o?o.valueOf():d.default().valueOf(),onChange:r.handleDatePickerChange}))}})},t.prototype.getPropertySchema=function(){var e=this.props,t=e.collectionValue,r=e.property,n=e.parentStore,o=p.getNormalizedSchema(t);return U.getFilterValuePropertySchema(o,r,n)},t.emptyTokenKey="_empty",t.personMeKey="_me",t.stores={store:f.default,relationQuery:I.default.of(""),personQuery:I.default.of(""),selectQuery:I.default.of("")},t.style={display:"flex"},t.inputStyle={marginRight:8,paddingLeft:6,paddingRight:0,width:80,height:30},t}(m.default);t.default=q},X3py:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s,u=r("LvDl"),c=r("LEzx");!function(e){e[e.willHide=0]="willHide",e[e.hidden=1]="hidden",e[e.willShow=2]="willShow",e[e.shown=3]="shown"}(s=t.ReactNativeKeyboardPhase||(t.ReactNativeKeyboardPhase={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateKeyboardPhase=function(e){t.setState(a({},t.state,{phase:e}))},t.updateKeyboardPhaseDebounced=u.debounce(t.updateKeyboardPhase,200),t}return o(t,e),t.prototype.getInitialState=function(){return{phase:s.hidden}},t.prototype.isHidden=function(){return this.state.phase!==s.hidden},t.prototype.onShow=function(e){return i(this,void 0,void 0,function(){var t=this;return l(this,function(r){switch(r.label){case 0:return[4,this.waitUntil(function(){return t.state.phase===s.shown})];case 1:return r.sent(),e(),[2]}})})},t}(c.default);t.default=new d},X4ZB:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("wpmu"),a=r("6rsX"),i=r("QcDD"),l=r("AmMh"),s=r("6BvA");t.renamePage=function(e){var t=i.default.state.currentBlockStore;if(t){var r=o.default.createChildStore(t,e.blockStore.id);s.default.setState(n({},s.default.state,{originRect:e.originRect||l.default.getRectFromStore(e.blockStore),blockStore:r}))}},t.close=function(){s.default.reset(),a.clear()}},X6Ne:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl"),o=r("i8i4"),a=r("8fuX"),i=r("y6Dp"),l=r("r8oj"),s=r("RI9y"),u=r("lBar"),c=r("LqYT"),d=r("sjR4"),p=r("DNgp"),f=r("AmMh"),h=r("TSBY"),m=r("nld8"),y=r("0zNc"),g=r("PuL6"),v=r("EmAo"),b=r("3uHk"),w=r("szb2"),S=r("WaiN"),_=r("GKeo"),k=r("7IvN"),C=r("84+D"),E=function(e,t,r){var n=(t-e)/t,o=r/10/60,a=o+(3*r/60-o)*Math.min(n*n,1);return l.default.isIOS?Math.ceil(a):a},P=n.throttle(function(){i.trackEditorDragNearEdgeScroll({direction:"top"})},1e3),x=n.throttle(function(){i.trackEditorDragNearEdgeScroll({direction:"bottom"})},1e3),T=n.throttle(function(){i.trackEditorDragNearEdgeScroll({direction:"left"})},1e3),O=n.throttle(function(){i.trackEditorDragNearEdgeScroll({direction:"right"})},1e3);t.triggerEdgeScroll=function(e){var t=e.scroller,r=e.currentMouseX,n=e.currentMouseY,o=e.verticalEdgeThreshold,i=e.horizontalEdgeThreshold,l=e.disableVerticalEdgeScroll,s=e.disableHorizontalEdgeScroll,u=t.stores.store.state,c=u.clientRect,d=u.scrollTop,p=u.scrollHeight,f=u.scrollLeft,h=u.scrollWidth;if(c){if(t.props.type!==a.default.OverflowType.X&&!l){var m=n-c.top,y=c.bottom-n,g=0===d,v=d+c.height===p;if(m<o&&!g){var b=E(m,o,c.height);t.scrollTo(d-b,void 0),b>0&&P()}if(y<o&&!v){b=E(y,o,c.height);t.scrollTo(d+b,void 0),b>0&&x()}}if(t.props.type!==a.default.OverflowType.Y&&!s){var w=r-c.left,S=c.right-r,_=0===f,k=f+c.width===h;if(w<i&&!_){b=E(w,i,c.width);t.scrollTo(void 0,f-b),b>0&&T()}if(S<i&&!k){b=E(S,i,c.width);t.scrollTo(void 0,f+b),b>0&&O()}}}};var M;function I(e){var r=f.default.findSelectablesFromIds(e);r.length>0&&t.scrollIntoView({component:r[0]})}function A(e){var t=e.position,r=e.paddingTop,n=e.paddingBottom;if(p.default.state.editing){var o=s.get();if(o){var a=u.getHTMLElement(o.commonAncestorContainer);if(!a)return;var i=u.getScrollableAncestors(a).find(function(e){return e.scrollHeight>e.clientHeight});if(!i)return;var l=s.getRect(o);if(!l||!i)return;var c=i.getBoundingClientRect();if(!(o.startContainer instanceof Text)){var d=l;d.top+=4,d.bottom-=5,d.height-=9}var f=l.top<c.top+r,h=l.bottom>c.bottom-n;if(o.startContainer instanceof Text&&o.startOffset!==o.endOffset)return;if(t===M.natural)if(h)t=M.bottom;else{if(!f)return;t=M.top}if(t===M.top){var m=i.scrollTop+l.top,y=c.top+r;i.scrollTop=m-y}else if(t===M.bottom){var g=i.scrollTop+l.bottom;y=c.bottom-n;i.scrollTop=g-y}else if(t===M.middle){m=i.scrollTop+l.top,y=c.top+c.height/2-10;i.scrollTop=m-y}}}}t.scrollIntoView=function(e){var t=e.component,r=e.revealTop,n=e.revealLeft,a=e.revealRight,i=e.revealBottom,l=e.paddingToTopEdge||64,s=e.paddingToBottomEdge||64,u=e.paddingToLeftEdge||64,c=e.paddingToRightEdge||64;if(t){var d=o.findDOMNode(t);if(d&&d instanceof Element){var p=d.getBoundingClientRect();if(t.getContextVerticalScroller){var f=(S=t.getContextVerticalScroller())&&S.getClientRect();if(S&&f){var h=f.top+l,m=f.bottom-s,y=p.top>h&&p.top<m,g=p.bottom>h&&p.bottom<m,v=p.top<h&&p.bottom>m,b=p.bottom-m,w=p.top-h;r?y||S.scrollByOffset(w,0):i?g||S.scrollByOffset(b,0):y||g||v||(Math.abs(b)<Math.abs(w)?S.scrollByOffset(b,0):S.scrollByOffset(w,0))}}if(t.getContextHorizontalScroller){var S;f=(S=t.getContextHorizontalScroller())&&S.getClientRect();if(S&&f){var _=f.left+u,k=f.right-c,C=p.left>_&&p.left<k,E=p.right>_&&p.right<k,P=(v=p.left<_&&p.right>k,p.right-k),x=p.left-_;n?C||S.scrollByOffset(0,x):a?E||S.scrollByOffset(0,P):C||E||v||(Math.abs(P)<Math.abs(x)?S.scrollByOffset(0,P):S.scrollByOffset(0,x))}}}}},t.scrollToSelection=function(){d.default.state.pivot?I([d.default.state.pivot.id]):I(d.default.state.stores.map(function(e){return e.id}))},t.scrollToBlocks=I,function(e){e[e.top=0]="top",e[e.middle=1]="middle",e[e.bottom=2]="bottom",e[e.natural=3]="natural"}(M=t.ScrollPosition||(t.ScrollPosition={})),t.scrollToTextSelection=A;var D=39;function L(){A({position:M.top,paddingTop:20,paddingBottom:D+20})}t.cordovaScrollTop=L,t.mobileAutoScroll=function(){var e=m.default.isInlineAutocompleteOpen(),t=h.default.shouldPreventCordovaAutoScroll();if(e)L();else if(!t){var r=l.default.isMobile&&(!l.default.isNative||l.default.isTablet);!r&&S.default.state.open||!r&&_.default.state.open||!r&&function(){var e=p.default.state.editing&&p.default.state.store;if(e){var t=e.getRecordStoreAtRootPath();if("block"===t.table){var r=t.getValue(),n=r&&r.type;return"link_to_page"===n||"link_to_collection"===n}}return!1}()||k.default.state.open?L():v.default.state.isOpen&&!w.default.state.open||g.default.state.isOpen||A({position:M.natural,paddingTop:20,paddingBottom:D+20})}};var R=new c.default(function(){return!b.default.canScroll()||l.default.isMobile&&y.default.state.isDragging||l.default.isMobile&&C.default.state.swiping});t.shouldDisableScroll=function(){return R.state}},XBB3:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s,u=r("q1tI"),c=r("STAJ"),d=r("LvDl"),p=r("q1tI"),f=r("IdIf"),h=r("cBa6"),m=r("5w/s"),y=r("unoy"),g=r("r8oj"),v=r("KcXv"),b=r("Sb6f"),w=r("wpmu"),S=r("bFnu"),_=r("NOLh"),k=r("n8tN"),C=r("Dime"),E=r("7LX1"),P=r("Oy36"),x=r("AOw3"),T=r("2o0l"),O=r("fJHT"),M=r("VDnT"),I=r("6SEd"),A=r("bjn0"),D=r("vo/r"),L=r("EarS"),R=r("N34Z"),B=r("mF3+"),j=r("Gw5o"),V=r("mfDO"),F=r("EZe4"),N=r("hbKx"),U=r("ju2U"),W=r("/0g+"),z=r("MBf9"),H=r("y6Dp"),q=r("6rsX"),G=r("njgS"),Z=r("wweX"),Y=r("0lqH"),K=r("bPtJ"),J=r("/YYm"),Q=r("IdSf"),X=r("LeVO"),$=r("7TLZ"),ee=r("SeL1"),te=r("Uc+B"),re=r("gRnv"),ne=r("i3uR"),oe=r("gbGO"),ae=r("g4rC"),ie=r("R+Q+"),le=r("lBar"),se=r("QcDD"),ue=r("DNgp"),ce=r("T1hA"),de=r("nZ1u"),pe=r("3k5a"),fe=r("gYhp"),he=r("dccM"),me=r("0zNc"),ye=r("w5u6"),ge=r("iICV"),ve=r("wS9/"),be=r("UiOz"),we=r("QhBr"),Se=r("PuL6"),_e=r("EmAo"),ke=r("uwoq"),Ce=r("3KLF"),Ee=r("9PHN"),Pe=r("bxQm"),xe=r("d9nj"),Te=r("wlCD"),Oe=r("H1ac"),Me=r("zttk"),Ie=r("7M94"),Ae=r("DkKf"),De=r("Wvka"),Le=r("OxuQ"),Re=r("qqdV"),Be=r("H4VD"),je=r("prF1"),Ve=r("7KuZ");!function(e){e[e.Frame=0]="Frame",e[e.PeekView=1]="PeekView",e[e.InAppTemplatePreview=2]="InAppTemplatePreview",e[e.FrontPageTemplatePreview=3]="FrontPageTemplatePreview"}(s=t.PageViewBlockContext||(t.PageViewBlockContext={}));var Fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registries=[pe.default,he.default],t.openResolvedDiscussionPopup=function(){t.stores.resolvedDiscussionButtonPopupStore.setState({open:!0}),t.stores.pageViewBlockStore.setState(a({},t.stores.pageViewBlockStore.state,{forceDiscussionOpen:!0}))},t.renderDeletedBannerContents=function(){return u.createElement(p.Fragment,null,!g.default.isMobile&&u.createElement("div",null,"This page is in Trash."),u.createElement(Ee.default,{style:{marginLeft:12},onClick:t.handleRestoreClick},"Restore Page"),u.createElement(Ee.default,{style:{marginLeft:12},onClick:t.handleDeletePermanentlyClick},"Delete Permanently"))},t.renderCollectionTemplatePageBannerContents=function(){var e=t.props.store.getParentCollectionStore();if(e){var r=e.getParentBlockStore();if(r){var n=De.default({pageId:r.id});return g.default.isMobile?u.createElement("div",{style:{display:"flex",alignItems:"center",minWidth:0,flexGrow:1}},u.createElement("div",{style:{display:"flex",alignItems:"center"}},u.createElement(p.Fragment,null,u.createElement(xe.default,{onClick:t.handleCollectionTemplatePageBannerBackClick,mobileFeedback:!0,style:{marginLeft:-8}},"Back"),u.createElement("div",{style:{height:18,width:1,marginLeft:4,marginRight:12,flexShrink:0,background:t.theme.darkDividerColor}}))),u.createElement("div",{style:{display:"flex",alignItems:"center",minWidth:0}},u.createElement("span",{style:{color:t.theme.mediumTextColor}},"Template in"),u.createElement(Q.default,{href:n,style:{marginLeft:8,marginRight:"auto",minWidth:0},innerStyle:{display:"flex",alignItems:"center"}},u.createElement(P.default,{disabled:!0,icon:e.getIcon(),isEmptyPage:!1,size:20}),u.createElement(Le.default,{style:{marginLeft:4,marginRight:8},store:e,underline:!0}))),u.createElement("div",{style:{marginLeft:"auto"}},u.createElement(Ve.default,{href:Re.guides.databaseTemplates,isRight:!0,analyticsFrom:"collection_template_topbar"}))):u.createElement("div",{style:{display:"flex",alignItems:"center",minWidth:0,flexGrow:1}},u.createElement("div",{style:{display:"flex",flex:1}},u.createElement(xe.default,{icon:B.default.historyBack,isGray:!0,onClick:t.handleCollectionTemplatePageBannerBackClick,style:{marginRight:"auto",marginLeft:t.props.context===s.PeekView?-6:-4}},"Back")),u.createElement("div",{style:{display:"flex",alignItems:"center",minWidth:0}},u.createElement("span",{style:{color:t.theme.mediumTextColor}},"You're editing a template in"),u.createElement(Q.default,{href:n,style:{marginLeft:8,marginRight:8,minWidth:0},innerStyle:{display:"flex",alignItems:"center"}},u.createElement(P.default,{disabled:!0,icon:e.getIcon(),isEmptyPage:!1,size:20}),u.createElement(Le.default,{style:{marginLeft:4},store:e,underline:!0}))),u.createElement("div",{style:{display:"flex",flex:1}},u.createElement(je.default,{href:Re.guides.databaseTemplates,style:{marginLeft:"auto",marginRight:-6},onClick:function(){return H.trackClickHelpButton({from:"collection_template_topbar"})}},u.createElement(xe.default,{isLightGray:!0,icon:B.default.help},"Learn more"))))}}},t.renderImportEvernoteBannerContents=function(){var e=Ce.default.state.pageMap[t.props.store.id];if(e)return u.createElement(p.Fragment,null,u.createElement(Te.default,{isWhite:!0,style:{marginRight:8}}),"Imported ",e.importedNotes," of ",e.totalNotes)},t.handleHideCreateNewDiscussion=function(){t.stores.pageViewBlockStore.setState(a({},t.stores.pageViewBlockStore.state,{forceDiscussionOpen:!1}))},t.handleAddRandomIconClick=function(){var e=t.props.store;z.createAndCommit(function(t){m.addRandomPageEmojiIcon({store:e,transaction:t})})},t.handleAddRandomCoverClick=function(){var e=t.props.store;z.createAndCommit(function(t){m.addRandomPageCover({store:e,transaction:t})})},t.handleSubmitNewDiscussion=function(){return i(t,void 0,void 0,function(){var e,t,r,n=this;return l(this,function(o){switch(o.label){case 0:return(e=this.stores.discussionInputStore.state.textStore.getValue())&&e.length>0?(t=z.createAndCommit(function(t){return re.createNewBlockDiscussion({blockStore:n.props.store,commentTextValue:e,transaction:t})}),this.stores.discussionInputStore.reset(),this.handleHideCreateNewDiscussion(),!t||g.default.isMobile?[3,2]:[4,ye.default.afterNextFlush()]):[3,2];case 1:o.sent(),(r=fe.default.findComponent(function(e){return e.props.store.id===t.id}))&&y.setSelectionAtEnd({store:r.stores.discussionInputStore.state.textStore}),o.label=2;case 2:return[2]}})})},t.handleAddDiscussionClick=function(){return i(t,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return this.stores.pageViewBlockStore.setState(a({},this.stores.pageViewBlockStore.state,{forceDiscussionOpen:!0})),H.trackOpenBlockDiscussionMenu({from:"page_comments"}),[4,ye.default.afterNextFlush()];case 1:return e.sent(),y.setSelectionAtEnd({store:this.stores.discussionInputStore.state.textStore}),[2]}})})},t.handleAddDescriptionClick=function(){t.stores.pageViewBlockStore.setState(a({},t.stores.pageViewBlockStore.state,{forceDescriptionOpen:!0})),ye.default.afterNextFlush(function(){var e=t.getDescriptionStore();e&&y.setSelectionAtEnd({store:e})})},t.handleDescriptionClick=function(e){t.stores.pageViewBlockStore.setState(a({},t.stores.pageViewBlockStore.state,{forceDescriptionOpen:!0}))},t.handleHeaderMouseEnter=function(e){me.default.state.isDragging||de.default.state.isActive||t.stores.headerMouseStore.setState(a({},t.stores.headerMouseStore.state,{mouseEntered:!0}))},t.handleHeaderMouseLeave=function(e){me.default.state.isDragging||de.default.state.isActive||t.stores.headerMouseStore.setState(a({},t.stores.headerMouseStore.state,{mouseEntered:!1}))},t.handleHeaderMouseEnterThrottled=d.throttle(t.handleHeaderMouseEnter,100),t.handleHeaderMouseLeaveDebounced=d.debounce(t.handleHeaderMouseLeave,100),t.handleTitleEditText=function(e){var r=t.getTitleStore();return!!r&&(q.edit({store:t.props.store}),e.isAtStart?y.setSelectionAtStart({store:r}):y.setSelectionAtEnd({store:r}),!0)},t.handleTitleEsc=function(e){var r=t.props.onTitleEsc;y.clear(),r&&r(e)},t.handleTitleTab=function(e){var r=t.props.store;if(e.preventDefault(),t.shouldShowProperties()){var n=t.getFormat();if(n&&n.collection_page_properties){var o=n.collection_page_properties.find(function(e,r){return t.canOpenProperty(e.property)});o&&ye.default.afterNextFlush(function(){Z.open({blockPropertyValueOverlayStore:t.getBlockPropertyOverlayStore(),store:r,property:o.property,format:Y.BlockPropertyValueFormat.Page})})}}},t.handlePlaceholderClick=function(){var e=t.props.store;!e.canEdit()||t.props.store.isLocked()||t.isWebClipping()||Ae.mouseDidMoveAfterLastMouseDown()||z.createAndCommit(function(t){L.insertEmptyText({store:e,transaction:t})})},t.handlePlaceholderWrapClick=function(e){F.default({event:e,context:F.EventContext.EditorClick,callback:t.handlePlaceholderClick})},t.handleRecordIconChange=function(e){return i(t,void 0,void 0,function(){var t,r,n;return l(this,function(o){switch(o.label){case 0:return t=this.props.store,(r=t.getIconStore())?(n=z.create(),R.setValue({store:r,value:e,transaction:n}),[4,z.commit({transaction:n})]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.handleDiscussionWrapMouseDown=function(e){F.default({event:e,context:F.EventContext.EditorMouseDown,callback:function(){}})},t.handleDiscussionWrapClick=function(e){F.default({event:e,context:F.EventContext.EditorClick,callback:function(){}})},t.handleRestoreClick=function(){z.createAndCommit(function(e){var r=t.props.store;W.restoreBlocks({blocks:[r],transaction:e})})},t.handleDeletePermanentlyClick=function(){var e=t.props.store;W.permanentlyDeleteBlocks({blocks:[e]})},t.handleSelectionChange=function(){var e=t.getDescriptionStore(),r=ue.default.state;t.stores.pageViewBlockStore.state.forceDescriptionOpen&&e&&!r.editing&&t.stores.pageViewBlockStore.setState(a({},t.stores.pageViewBlockStore.state,{forceDescriptionOpen:!1}))},t.handleCollectionTemplatePageBannerBackClick=function(){Be.back()},t}return o(t,e),Object.defineProperty(t,"defaultPaddingLeftRight",{get:function(){return g.default.isMobile?t.defaultMobilePaddingLeftRight:96},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultPageCoverHeight",{get:function(){return g.default.isMobile?200:"30vh"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fullScreenCollectionPaddingLeftRight",{get:function(){return g.default.isMobile?0:96},enumerable:!0,configurable:!0}),Object.defineProperty(t,"paddingBottom",{get:function(){return g.default.isTablet?380:g.default.isIOS?350:g.default.isMobile?400:"30vh"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"titlePaddingMarginTop",{get:function(){return g.default.isMobile?16:"5em"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"titlePaddingMarginBottom",{get:function(){return g.default.isMobile?"2em":4},enumerable:!0,configurable:!0}),t.prototype.getContentInnerWidth=function(){var e=this.getContentWrapEl();if(e){var t=e.getBoundingClientRect().width,r=getComputedStyle(e),n=parseFloat(r.getPropertyValue("padding-left")),o=parseFloat(r.getPropertyValue("padding-left"));return t-(d.isNaN(n)?0:n)-(d.isNaN(o)?0:o)}},t.prototype.getContentWrapEl=function(){return this.contentEl},t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t);var r=t.store,n=t.context;n!==s.Frame&&n!==s.PeekView||(N.blockIsDeleted(r)&&r.canEdit()?U.displayBanner({bannerStore:this.getBannerStore(),id:"DeletedPage",render:this.renderDeletedBannerContents,type:Me.BannerType.Red}):U.removeBanner({bannerStore:this.getBannerStore(),id:"DeletedPage"}));if(n===s.Frame||n===s.PeekView){var o=r.getValue();o&&o.is_template?U.displayBanner({bannerStore:this.getBannerStore(),id:"CollectionTemplatePage",render:this.renderCollectionTemplatePageBannerContents,type:Me.BannerType.Beige}):U.removeBanner({bannerStore:this.getBannerStore(),id:"CollectionTemplatePage"})}n===s.Frame&&(Ce.default.state.pageMap[r.id]?U.displayBanner({bannerStore:this.getBannerStore(),id:"ImportingEvernotePage",render:this.renderImportEvernoteBannerContents,type:Me.BannerType.Blue}):U.removeBanner({bannerStore:this.getBannerStore(),id:"ImportingEvernotePage"}))},t.prototype.didMount=function(){e.prototype.didMount.call(this);var t=this.props.store,r=this.getTitleStore(),n=this.props.forceSelectTitleOnMount;r&&(n||!h.getText(r.getValue())||this.isEmptyContentBlock()&&!g.default.isMobile)&&(q.edit({store:t}),y.setSelectionAtEnd({store:r})),ue.default.addListener(this.handleSelectionChange)},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this);var t=this.props.context;ue.default.removeListener(this.handleSelectionChange),t!==s.Frame&&t!==s.PeekView||(U.removeBanner({bannerStore:this.getBannerStore(),id:"DeletedPage"}),U.removeBanner({bannerStore:this.getBannerStore(),id:"CollectionTemplatePage"}))},t.prototype.renderPersisted=function(){var e=this,t=this.props,r=t.store,n=t.context,o=this.shouldShowTemplatePicker(),a=this.shouldShowProperties(),i=this.shouldShowDiscussion(),l=this.isCollectionView(),c=this.isWebClipping();return u.createElement(p.Fragment,null,this.isCollectionView()?this.renderCollectionHeader():this.renderPageHeader(),a&&this.renderProperties(),i&&this.renderPageDiscussion(),a&&!i&&this.renderPublicCollectionPageDivider(),l&&this.renderCollectionView(),!l&&u.createElement(_.default,{isVisible:!0,animationStyle:{width:this.getAdjustedPageWidth()},render:function(){return u.createElement("div",{style:e.getContentStyle(),ref:function(t){t&&(e.contentEl=t)},className:Ie.pageContent,onClick:e.isEmptyContentBlock()?e.handlePlaceholderWrapClick:void 0},e.renderPageContent(),c&&u.createElement(Te.default,null),(n===s.Frame||n===s.PeekView)&&o&&u.createElement(T.default,{store:r}))}}))},t.prototype.renderPublicCollectionPageDivider=function(){return u.createElement("div",{style:{width:this.getAdjustedPageWidth(),maxWidth:"100%",marginTop:8,marginBottom:20,marginLeft:"auto",marginRight:"auto",paddingLeft:ve.default.calcPaddingLeft(this.props.paddingLeft),paddingRight:ve.default.calcPaddingRight(this.props.paddingRight)}},u.createElement("div",{style:{height:1,flexShrink:0,background:this.theme.regularDividerColor}}))},t.prototype.renderPageHeader=function(){var e=this,r=this.props,n=r.store,o=r.paddingLeft,a=r.paddingRight,i=r.pageCoverHeight,l=this.shouldShowCoverImage();return u.createElement("div",{style:t.pageHeaderStyle,onMouseEnter:this.handleHeaderMouseEnterThrottled,onMouseMove:this.handleHeaderMouseEnterThrottled,onMouseLeave:this.handleHeaderMouseLeaveDebounced},l&&u.createElement(E.default,{height:i,store:n,disabled:!this.canEdit()||this.props.store.isLocked(),paddingLeft:ve.default.calcPaddingLeft(o),paddingRight:ve.default.calcPaddingRight(a)}),u.createElement(_.default,{isVisible:!0,animationStyle:{width:this.getAdjustedPageWidth()},render:function(){return u.createElement("div",{style:{paddingLeft:ve.default.calcPaddingLeft(o),paddingRight:ve.default.calcPaddingRight(a),maxWidth:"100%",marginBottom:"0.5em"}},g.default.isMobile&&!e.addDiscussionOnly()&&e.renderTitlePaddingAndControls(),e.renderIcon({size:140,emojiSize:78,style:{marginTop:e.shouldShowCoverImage()?-80:g.default.isMobile?0:t.fullScreenCollectionPaddingLeftRight,marginLeft:3,marginBottom:g.default.isMobile?16:0,alignSelf:"flex-start",position:"relative",zIndex:1},emojiStyle:{marginTop:e.shouldShowCoverImage()?-42:g.default.isMobile?0:t.fullScreenCollectionPaddingLeftRight}}),(!g.default.isMobile||e.addDiscussionOnly())&&e.renderTitlePaddingAndControls(),e.renderTitle())}}))},t.prototype.renderCollectionHeader=function(){var e=this,r=this.props,n=r.store,o=r.paddingLeft,i=r.paddingRight,l=this.getOriginalCollectionViewBlockStore();return u.createElement("div",{style:a({width:"100%",display:"flex",flexDirection:"column",alignItems:"center",flexShrink:0,flexGrow:0},this.props.store.isLocked()&&{cursor:"default"},this.isCollectionView()&&le.browserSupportsPositionSticky()&&{position:"sticky",left:0}),onMouseEnter:this.handleHeaderMouseEnterThrottled,onMouseMove:this.handleHeaderMouseEnterThrottled,onMouseLeave:this.handleHeaderMouseLeaveDebounced},this.shouldShowCoverImage()&&u.createElement(E.default,{height:220,store:n,disabled:!this.canEdit()||this.props.store.isLocked(),paddingLeft:ve.default.calcPaddingLeft(o),paddingRight:ve.default.calcPaddingRight(i)}),u.createElement(_.default,{isVisible:!0,animationStyle:{width:this.getAdjustedPageWidth()},render:function(){return u.createElement("div",{style:{paddingLeft:ve.default.calcPaddingLeft(g.default.isMobile?24:t.fullScreenCollectionPaddingLeftRight),paddingRight:ve.default.calcPaddingRight(g.default.isMobile?24:t.fullScreenCollectionPaddingLeftRight),maxWidth:"100%",marginBottom:"0.5em",marginTop:e.shouldShowCoverImage()?"0.5em":0}},e.renderTitlePaddingAndControls(),u.createElement("div",{style:{display:"flex"}},l&&l.id!==n.id&&u.createElement(X.default,{renderTooltip:function(){return"Click to navigate to the original database."},render:function(e){return u.createElement(Q.default,a({style:{marginTop:6,marginRight:6},innerStyle:{borderRadius:3,width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center"},href:J.default({store:l,fullyQualified:!1})},e),u.createElement("div",{style:{display:"flex",alignItems:"center"}},B.default.alias({width:20,height:20})))}}),e.renderIcon({size:38,emojiSize:36,style:{marginTop:6,marginLeft:3,marginBottom:g.default.isMobile?16:0,marginRight:12,alignSelf:"flex-start",position:"relative",zIndex:1},emojiStyle:{marginTop:g.default.isMobile?4:6,marginRight:8}}),e.renderTitle()),e.shouldShowDescription()&&e.renderDescription())}}))},t.prototype.renderIcon=function(e){var t=this.props.store;if(t.hasIcon())return!this.canEdit()||this.props.store.isLocked()?u.createElement(P.default,a({disabled:!0,icon:t.getIcon(),isEmptyPage:t.isEmptyPage()},e)):u.createElement(P.default,a({disabled:!1,bucket:"secure",icon:t.getIcon(),isEmptyPage:t.isEmptyPage()},e,{onChange:this.handleRecordIconChange}))},t.prototype.renderTitlePaddingAndControls=function(){return u.createElement("div",{style:this.getTitlePaddingAndControlsStyle(),className:"notion-page-controls"},!this.shouldShowIcon()&&u.createElement(xe.default,{isLightGray:!0,onClick:this.handleAddRandomIconClick,icon:B.default.addPageIcon},g.default.isSmallPhone?"Icon":"Add Icon"),!this.shouldShowCoverImage()&&u.createElement(xe.default,{isLightGray:!0,onClick:this.handleAddRandomCoverClick,icon:B.default.addPageCover},g.default.isSmallPhone?"Cover":"Add Cover"),!this.isCollectionView()&&!this.shouldShowDiscussion()&&ce.default.isLoggedIn()&&u.createElement(xe.default,{isLightGray:!0,onClick:this.handleAddDiscussionClick,icon:B.default.addPageDiscussion},g.default.isSmallPhone?"Discussion":"Add Discussion"),this.isCollectionView()&&!this.shouldShowDescription()&&u.createElement(xe.default,{isLightGray:!0,onClick:this.handleAddDescriptionClick,icon:B.default.typesText},g.default.isSmallPhone?"Description":"Add Description"))},t.prototype.renderTitle=function(){var e=this.props.store,t=this.canEdit()&&!e.isLocked(),r=this.getTitleStore();if(r){var n=w.default.createChildStore(r,e.id),o=e.isEmptyPage(),i=e.isTemplate(),l=this.shouldShowTemplatePicker(),s=e.getParentCollectionTemplateStores(),c=s&&0===s.length;return u.createElement(x.default,{canSelect:!1,canEditText:t,onEditText:this.handleTitleEditText,store:n,style:this.getTitleStyle(),analyticsName:"page_content",shouldShowDropZone:!0},u.createElement(O.default,{store:r,style:v.itemStyle,placeholderStyle:a({},v.itemStyle,{WebkitTextFillColor:this.theme.pageTitlePlaceholderTextColor,cursor:"text"}),disabled:!this.canEdit()||this.props.store.isLocked(),placeholder:"Untitled",disableSlashCommands:!0,disableSelectAllBlocks:!0,disableStyleAnnotations:!0,disableShiftEnter:!0,disableEmbedMenu:!0,onEsc:this.handleTitleEsc,onTab:this.handleTitleTab,disableUpDownArrows:!(!l||i||c||g.default.isMobile)&&o,disableEnter:!(!l||i||c||g.default.isMobile)&&o}))}},t.prototype.renderDescription=function(){var e=this.getDescriptionStore();if(e)return u.createElement(O.default,{store:e,style:a({},v.itemStyle,this.getCollectionDescriptionStyle()),placeholderStyle:v.itemStyle,disabled:!this.canEdit()||this.props.store.isLocked(),placeholder:"Create a description",disableSlashCommands:!0,disableEmbedMenu:!0,disableMentions:!0,onClick:this.handleDescriptionClick})},t.prototype.renderProperties=function(){var e=this.props,t=e.store,r=e.paddingLeft,n=e.paddingRight,o=this.getParentCollectionStore();if(o){var a=this.getSchema(),i=this.getFormat(),l=t.isLocked(),s=t.isNavigableAncestorLocked();if(i)return u.createElement(M.default,{store:t,collectionStore:o,schema:a,format:i,disabled:!this.canEdit(),locked:l,parentCollectionLocked:s,paddingLeft:ve.default.calcPaddingLeft(r),paddingRight:ve.default.calcPaddingRight(n),width:this.getAdjustedPageWidth(),blockPropertyValueOverlayStore:this.getBlockPropertyOverlayStore()})}},t.prototype.renderPageDiscussion=function(){var e=this,t=$.getUnresolvedDiscussionStores(this.props.store),r=0===t.length;return u.createElement("div",{style:{width:"100%"},onMouseDown:this.handleDiscussionWrapMouseDown,onClick:this.handleDiscussionWrapClick},u.createElement("div",{style:{width:this.getAdjustedPageWidth(),maxWidth:"100%",paddingLeft:ve.default.calcPaddingLeft(this.props.paddingLeft),paddingRight:ve.default.calcPaddingRight(this.props.paddingRight),margin:"0 auto 8px"}},t.map(function(t,r,n){return u.createElement(j.default,{key:t.id,store:t,format:j.default.Format.Page,isFirst:0===r,isOnly:1===n.length,discussionLocation:"page_discussion",alwaysShowResolve:!1,blockStore:e.props.store})}),r&&u.createElement("div",{style:{display:"flex",alignItems:"flex-start",borderTop:"1px solid "+this.theme.regularDividerColor,borderBottom:"1px solid "+this.theme.regularDividerColor,padding:"12px 4px 16px"}},u.createElement(ee.default,{parentStore:this.props.store,onSubmit:this.handleSubmitNewDiscussion,onCancel:y.clear,discussionInputStore:this.stores.discussionInputStore,isCordovaSlideUpMenu:!1})),this.renderResolveDiscussionButtonPopupMenu()))},t.prototype.renderResolveDiscussionButtonPopupMenu=function(){var e=this,t=$.getResolvedDiscussionStores(this.props.store);if(0!==t.length)return u.createElement(ne.default,{buttonPopupStore:this.stores.resolvedDiscussionButtonPopupStore,popupType:g.default.isMobile?ne.default.PopupType.SlideUp:ne.default.PopupType.Popup,renderOrigin:function(t){return u.createElement("div",{style:{fontSize:14,color:e.theme.mediumTextColor,marginTop:10}},u.createElement(Pe.default,a({},t),"Resolved Discussions"))},render:function(r){var n;return n=g.default.isMobile?{menuType:oe.default.MenuType.Modal,title:"Resolved Discussions",right:"Done",onClickRight:r.close,whiteBackground:!0}:{menuType:oe.default.MenuType.Popup,width:500,header:u.createElement(ie.default,{tabs:["Resolved Discussions"],selectedIndex:0,onChange:function(){},readOnly:!0})},u.createElement(oe.default,a({},n),t.map(function(t,n,o){return u.createElement(j.default,{key:t.id,store:t,format:j.default.Format.Menu,isFirst:0===n,isOnly:1===o.length,discussionLocation:"page_discussion",alwaysShowResolve:!0,blockStore:e.props.store,onDismiss:r.close})}))}})},t.prototype.renderCollectionView=function(){var e,r=this.props.store;this.isCurrentBlock()&&(e=ke.default.state.route.collectionViewId);if(r.isCollectionView())return u.createElement(D.default,{style:{paddingLeft:t.fullScreenCollectionPaddingLeftRight,paddingRight:t.fullScreenCollectionPaddingLeftRight},store:r,isFullScreen:!0,viewId:e,disabled:!1})},t.prototype.renderPageContent=function(){var e=this.props.store;return u.createElement(C.default,{store:e.getContentStore(),emptyDroppableStyle:{width:"100%"},disabled:this.props.store.isLocked()})},t.prototype.isCurrentBlock=function(){return this.props.store===se.default.state.currentBlockStore},t.prototype.getBlockPropertyOverlayStore=function(){return this.props.context===s.PeekView?Se.default:_e.default},t.prototype.isEmptyContentBlock=function(){return 0===this.props.store.getContentIds().length&&!this.isCollectionView()},t.prototype.getTitleStore=function(){var e=this.props.store;if(!this.isCollectionView())return K.createRecordPathStore(e.getContentStore(),"block",e.id,["properties","title"]);var t=e.getCollectionViewCollectionStore();return t?t.getNameStore():void 0},t.prototype.getAdjustedPageWidth=function(){var e=this.props,r=e.store,n=e.context,o=r.isFullWidth(),a=this.isCollectionView();return o||a||n===s.PeekView||g.default.isMobile?"100%":t.defaultWidth},t.prototype.shouldShowCoverImage=function(){return this.props.store.hasCover()},t.prototype.shouldShowIcon=function(){return this.props.store.hasIcon()},t.prototype.getOriginalCollectionViewBlockStore=function(){var e=this.props.store;if(this.isCollectionView()){var t=e.getCollectionViewCollectionStore();if(t){var r=t.getValue();if(r)return w.default.createChildStore(e,r.parent_id)}}},t.prototype.shouldShowDiscussion=function(){var e=this.props.store,t=this.stores.pageViewBlockStore.state.forceDiscussionOpen;return $.getUnresolvedDiscussionStores(e).length>0||t||e.canComment()&&e.getParentTable()===I.default.table&&ce.default.isLoggedIn()||!this.stores.discussionInputStore.isEmpty()},t.prototype.addDiscussionOnly=function(){return this.shouldShowIcon()&&this.shouldShowCoverImage()&&!this.shouldShowDiscussion()},t.prototype.shouldShowDescription=function(){if(this.stores.pageViewBlockStore.state.forceDescriptionOpen)return!0;var e=this.getDescriptionStore();if(e){var t=h.getText(e.getValue());return Boolean(t)}return!1},t.prototype.getDescriptionStore=function(){var e=this.props.store.getCollectionViewCollectionStore();if(e)return e.getDescriptionStore()},t.prototype.shouldShowProperties=function(){var e=this.getFormat();if(e&&e.collection_page_properties){var t=e.collection_page_properties.length>0;return Boolean(this.getParentCollectionStore()&&t)}return!1},t.prototype.isCollectionView=function(){return this.props.store.isCollectionView()},t.prototype.getParentCollectionStore=function(){var e=this.props.store,t=e.getParentId();if("collection"===e.getParentTable()&&t)return A.default.createChildStore(e,t)},t.prototype.getBannerStore=function(){return this.props.context===s.PeekView?we.default:be.default},t.prototype.getSchema=function(){var e=this.getParentCollectionStore();return e?e.getSchema():G.systemPropertyTypeMap},t.prototype.getFormat=function(){var e=this.getParentCollectionStore();if(e){var t=this.getSchema(),r=e.getFormat();return f.getNormalizedFormat(r,t,void 0,[],f.FormatContext.Collection)}},t.prototype.canOpenProperty=function(e){if(!this.getParentCollectionStore())return!1;var t=this.getSchema()[e];return Boolean(t&&!c.contains(t.type,G.noPropertyValueOverlayTypes))},t.prototype.shouldShowTemplatePicker=function(){var e=this.props,t=e.store,r=e.loadingContainerStore,n=ce.default.isLoggedIn();return Boolean(t&&r&&t.hasValue()&&t.canEdit()&&0===t.getContentIds().length&&n&&r.state.ready)},t.prototype.isWebClipping=function(){var e=this.props.store;return Boolean(Oe.default.state.pageMap[e.id])},t.prototype.getCollectionDescriptionStyle=function(){return{maxWidth:640,color:this.theme.mediumTextColor,fontSize:14}},t.prototype.getTitlePaddingAndControlsStyle=function(){var e,r,n,o=g.default.isMobile,a=this.props.paddingTop,i=this.stores.headerMouseStore.state.mouseEntered,l=this.canEdit()&&!this.props.store.isLocked()&&(i||o)&&!ge.default.state.isKeyboardMode;return o?this.shouldShowCoverImage()?this.shouldShowIcon()&&this.shouldShowDiscussion()?n="none":(n="block",e=16,r="2em"):(n="flex",e=a,r=t.titlePaddingMarginBottom):this.isCollectionView()?(n="flex",this.shouldShowCoverImage()?(e=10,r=4):(e=4,r=4)):(n="flex",this.shouldShowIcon()?(e=8,r=4):this.shouldShowCoverImage()?(e=16,r=4):(e=a,r=t.titlePaddingMarginBottom)),this.addDiscussionOnly()&&o&&(e=0,r=4),{display:n,alignItems:"center",justifyContent:o?"center":"flex-start",color:this.theme.lightTextColor,opacity:l?1:0,pointerEvents:l?"auto":"none",transition:"opacity 300ms ease-out",minHeight:t.titlePaddingMinHeight,marginTop:e,marginBottom:r,marginLeft:-1,fontFamily:b.default.fontFamily.sans}},t.prototype.getTitleStyle=function(){var e=this.props.store.getFormat(),r=e.page_font||t.defaultFontFamily,n=!!e.page_small_text,o=t.fontFamily[r]||t.defaultFontFamily,a=n||g.default.isMobile;return{color:this.theme.regularTextColor,fontWeight:b.default.fontWeight.bold,letterSpacing:"-0.003em",lineHeight:1.1,width:"100%",marginBottom:"0.25em",fontSize:a?"2em":"2.5em",fontFamily:o,cursor:"text"}},t.prototype.getContentStyle=function(){var e,r=this.props,n=r.context,o=r.paddingLeft,i=r.paddingRight,l=r.paddingBottom,u=this.props.store.getFormat(),c=u.page_font||t.defaultFontFamily,d=t.fontFamily[c],p=this.shouldShowDiscussion(),f=n===s.PeekView,h=this.isEmptyContentBlock()&&f&&!this.shouldShowTemplatePicker(),m=n===s.FrontPageTemplatePreview||n===s.InAppTemplatePreview;g.default.isMobile?e=g.default.isAndroid?t.defaultAndroidFontSize:t.defaultMobileFontSize:e=u.page_small_text?t.fontSmallSize[c]||t.defaultFontSmallSize:t.fontSize[c]||t.defaultFontSize;var y={};h||(y={paddingTop:p?12:0,paddingLeft:ve.default.calcPaddingLeft(o),paddingRight:ve.default.calcPaddingRight(i),paddingBottom:this.isEmptyContentBlock()?"15vh":l}),h&&(y={paddingTop:p?12:0});var v={};f&&(v={minHeight:t.peekViewContentMinHeight,flexGrow:1,zIndex:1});var b={};return m&&(b={margin:"0 auto"}),a({flexShrink:0,flexGrow:1,width:"100%",maxWidth:"100%",display:"flex",alignItems:"center",flexDirection:"column",fontFamily:d,fontSize:e,color:this.theme.regularTextColor},y,v,b)},t.defaultMobilePaddingLeftRight=24,t.defaultWidth=900,t.defaultFontFamily=b.default.fontFamily.sans,t.defaultFontSize=16,t.defaultMobileFontSize=16,t.defaultAndroidFontSize=17,t.defaultFontSmallSize=14,t.titlePaddingMinHeight=25,t.stores={headerMouseStore:S.default,pageViewBlockStore:V.default,discussionInputStore:te.default,resolvedDiscussionButtonPopupStore:ae.default},t.peekViewContentMinHeight=240,t.fontFamily={serif:b.default.fontFamily.serif,mono:b.default.fontFamily.mono},t.fontSize={serif:18.5,mono:18.5},t.fontSmallSize={serif:16,mono:16},t.pageHeaderStyle={width:"100%",display:"flex",flexDirection:"column",alignItems:"center",flexShrink:0,flexGrow:0},t}(k.default);t.default=Fe},XDBA:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("STAJ"),s=r("njgS"),u=r("IdIf"),c=r("0QAI"),d=r("bjn0"),p=r("wpmu"),f=r("D2XV"),h=r("Etmo"),m=r("wF3w"),y=r("nkfK"),g=r("HRSx"),v=r("g90h"),b=r("VpIZ"),w=r("F1uM"),S=r("cBa6"),_=r("udrG"),k=r("7TLZ");t.getGroupResultStores=function(e,t,r){var n=t.state.localResult;if(n&&"table"===n.type)return n.blockIds.map(function(e){return p.default.createChildStore(r,e)});if(n&&"board"===n.type){var o=e?n.groupResults.find(function(t){return u.groupValuesEqual(t.value,e.value)}):n.groupResults[0];if(o)return o.blockIds.map(function(e){return p.default.createChildStore(r,e)})}return[]},t.getAggregationData=function(e,t,r,n,o){var a=(e.aggregate||[]).find(function(e){return e&&(!o||e.property===o)&&e.view_type===t});if(r&&a)if("table"===r.type){var i=r.aggregationResults.find(function(e){return e.id===a.id});if(i)return{aggregation:a,aggregationResult:i}}else if("board"===r.type&&n){var l=r.groupResults.findIndex(function(e){return u.groupValuesEqual(e.value,n.value)}),s=r.groupResults[l];if(s&&s.aggregationResult)return{aggregation:a,aggregationResult:s.aggregationResult}}return{aggregation:void 0,aggregationResult:void 0}},t.findGroupableProperty=function(e){var t=Object.keys(e);return t.find(function(t){var r=e[t];return Boolean(r&&"select"===r.type)})||t.find(function(t){var r=e[t];return Boolean(r&&"person"===r.type)})||t.find(function(t){var r=e[t];return Boolean(r&&"multi_select"===r.type)})},t.findCalendarProperty=function(e){var t=Object.keys(e);return t.find(function(t){var r=e[t];return Boolean(r&&"date"===r.type)})||t.find(function(t){var r=e[t];return Boolean(r&&"created_time"===r.type)})||t.find(function(t){var r=e[t];return Boolean(r&&"last_edited_time"===r.type)})},t.createCollectionLoader=function(e){var t=e.collectionViewValue,r=e.currentLimit,n=e.dateRangeStart,o=e.dateRangeEnd,a=e.format,i=e.searchQuery,l=e.startDayOfWeek;return"board"===t.type?{type:"board",limit:r,groups:a.board_groups||[],query:i||void 0,userTimeZone:f.currentTimeZone,userLocale:f.currentLocale,loadContentCover:!0}:"calendar"===t.type?{type:"calendar",dateRangeStart:n,dateRangeEnd:o,query:i||void 0,userTimeZone:f.currentTimeZone,userLocale:f.currentLocale,startDayOfWeek:l}:{type:"table",limit:r,query:i||void 0,userTimeZone:f.currentTimeZone,userLocale:f.currentLocale,loadContentCover:!0}},t.getFilterValuePropertySchema=function(e,r,n){var o=e[r];if(o)if("formula"===o.type){if(o.formula&&o.formula.result_type)return{name:"",type:o.formula.result_type}}else{if("rollup"!==o.type)return o;if(o.relation_property&&o.target_property){if(o.aggregation)return s.datePropertyAggregations.includes(o.aggregation)?{name:"",type:"date"}:{name:"",type:"number"};var a=e[o.relation_property];if(!a||"relation"!==a.type||!a.collection_id)return;var i=d.default.createChildStore(n,a.collection_id).getValue();if(!i)return;var l=s.getNormalizedSchema(i);if(!l[o.target_property])return;return t.getFilterValuePropertySchema(l,o.target_property,n)}}},t.getEditPropertyTypeUpdate=function(e){return o(this,void 0,void 0,function(){var r,o,i,l,s,u,c,d,p,f,y;return a(this,function(a){switch(a.label){case 0:return o=e.collectionId,i=e.schema,l=e.property,s=e.propertyType,(c=(u={newSchema:i}).newSchema[l])?"relation"!==c.type||"relation"===s?[3,2]:[4,t.getDeletePropertyUpdate({collectionId:o,schema:i,property:l})]:[2];case 1:(d=a.sent())&&(u.newSchema=d.newSchema,u.otherCollectionId=d.otherCollectionId,u.otherCollectionSchema=d.otherCollectionSchema),a.label=2;case 2:return p=c,"relation"!==s?[3,4]:[4,h.open({relationCollectionId:o,relationProperty:l})];case 3:return(f=a.sent())?(y={name:c.name,type:"relation",collection_id:f.targetCollectionValue.id,property:f.targetCollectionValue.id===o&&"same_property"===f.selfRelationType?l:m.default()},p=y,[3,5]):[2];case 4:p=n({},p,{type:s}),a.label=5;case 5:return u.newSchema=n({},u.newSchema,((r={})[l]=p,r)),[2,u]}})})},t.getDeletePropertyUpdate=function(e){return o(this,void 0,void 0,function(){var t,r,o,i,l,u,c,p,f,h,m,y,g,v;return a(this,function(a){switch(a.label){case 0:return i=e.collectionId,l=e.schema,u=e.property,(c=l[u])?(p=n({},l,((t={})[u]=void 0,t)),f={newSchema:p},"relation"===c.type&&c.collection_id&&c.property?c.collection_id!==i||c.property===u?[3,1]:(h=n({},f.newSchema,((r={})[c.property]=void 0,r)),f.newSchema=h,[3,3]):[3,3]):[2];case 1:return c.collection_id===i?[3,3]:[4,(m=new d.default(c.collection_id)).load()];case 2:a.sent(),(y=m.getValue())&&(g=s.getNormalizedSchema(y),v=n({},g,((o={})[c.property]=void 0,o)),f.otherCollectionId=y.id,f.otherCollectionSchema=v),a.label=3;case 3:return[2,f]}})})},t.getDuplicatePropertyUpdate=function(e){var t,r=e.schema,o=e.properties,a=e.property,i=r[a];if(i){var s=m.default(),u=n({},i,{name:y.getStringCopyName(i.name)}),c=n({},r,((t={})[s]=u,t)),d={property:s,visible:!0},p=o.findIndex(function(e){return e.property===a});return{newProperty:s,newSchema:c,newProperties:l.insert(p+1,d,o)}}},t.getCreateViewUpdate=function(e){var r,o,a=e.collectionViewBlockId,i=e.schema,l=e.currentViewValue,u=e.currentFormat,c=e.name,d=e.viewType,p=v.default();if("table"===d){var f=void 0;if("table"===l.type)f=u.table_properties;else{var h=(u.board_properties||[]).map(function(e){return n({},e,{visible:!0})});h.unshift({property:"title",visible:!0}),f=h}return{newView:{id:p,version:0,name:c,type:"table",format:{table_properties:f},query:{aggregate:[{id:"count",aggregation_type:"count",view_type:"table",property:"title",type:"title"}]},parent_id:a,parent_table:g.default.table,alive:!0}}}if("board"===d){var y=void 0,b=t.findGroupableProperty(i);if(!b)b=m.default(),y=n({},i,((r={})[b]={name:"Status",type:"select",options:[]},r));return{newView:{id:p,version:0,name:c,type:"board",format:{board_properties:"board"===l.type?(u.board_properties||[]).filter(function(e){return e.property!==b}):(u.table_properties||[]).filter(function(e){return"title"!==e.property&&e.property!==b}),board_cover:void 0},query:{group_by:b},parent_id:a,parent_table:g.default.table,alive:!0},newSchema:y}}if("calendar"===d){y=void 0;var w=t.findCalendarProperty(i);if(!w)w=m.default(),y=n({},i,((o={})[w]={name:"Date",type:"date"},o));return{newView:{id:p,version:0,name:c,type:"calendar",query:{calendar_by:w},parent_id:a,parent_table:g.default.table,alive:!0},newSchema:y}}if("list"===d){var S=Object.keys(i).find(function(e){var t=i[e];return Boolean(t&&s.isListViewDefaultType(t))});return{newView:{id:p,version:0,name:c,type:"list",format:{list_properties:S?[{property:S,visible:!0}]:[]},parent_id:a,parent_table:g.default.table,alive:!0}}}if("gallery"===d)return{newView:{id:p,version:0,name:c,type:"gallery",format:{gallery_properties:[],gallery_cover:{type:"page_content"}},parent_id:a,parent_table:g.default.table,alive:!0}};throw new Error("No view type found.")},t.getBlockContentCover=function(e){var t,r,n={image:void 0,blockIds:[]},o=k.crawlSubtree({rootStore:e,shallow:!0,depthFirst:!0}),a=0;try{for(var l=i(o),s=l.next();!s.done;s=l.next()){var u=s.value;if(++a>c.contentCoverMaxLoadAmount)return n;var d=u.getValue();if(d){if(b.isMediaType(d)&&!n.image&&d.properties){var p=S.getText(d.properties.source);if(p&&(w.isImageURL({url:p})||d.type===_.default.image))return n.image={table:"block",id:d.id,url:p},n}b.isContentCoverType(d)&&!u.isEmptyTitle()&&n.blockIds.length<c.contentCoverRenderBlockCount&&n.blockIds.push(u.id)}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return n}},"XH/p":function(e,t,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("STAJ"),c=r("17x9"),d=r("i8i4"),p=r("LvDl"),f=r("hfHo"),h=r("n8tN"),m=r("vTDQ"),y=r("mvTP"),g=r("njgS"),v=r("Sb6f"),b=r("wpmu"),w=r("r8oj"),S=r("AOw3"),_=r("LeVO"),k=r("1QGs"),C=r("rTCD"),E=r("MBf9"),P=r("mF3+"),x=r("cYwG"),T=r("lBar"),O=r("tzV5"),M=r("v/t1"),I=r("38Q8"),A=r("x0lk"),D=r("D2XV"),L=r("i3uR"),R=r("W8UH"),B=r("wlCD"),j=r("Nvzn"),V=r("/YYm"),F=r("H4VD"),N=r("M64d"),U=r("EZe4"),W=r("FmD2"),z=r("ikHm"),H=r("y6Dp"),q=r("wF3w"),G=r("XDBA"),Z=r("nM47"),Y=r("QcDD"),K=r("qHvo"),J=r("AmMh"),Q=r("0zNc"),X=r("Ucj+"),$=r("0GcB"),ee=r("zmp8"),te=r("MeYt"),re=r("lCCU"),ne=r("d9nj"),oe=r("HTHG"),ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateScrollStyles=function(){var e=t.props.collectionViewScrollStore.state,r=e.topPosition,n=e.offsetTop,o=t.headerEl;o&&(r===y.HeaderPosition.Regular||t.props.isInPeekRenderer?(o.style.transform=null,o.style.bottom=null,w.default.isMobile||(o.style.boxShadow="inset 0 1px 0 "+t.theme.darkDividerColor)):r===y.HeaderPosition.Fixed?(o.style.transform="translate3d(0, "+n+"px, 0)",o.style.bottom=null,o.style.boxShadow=null):r===y.HeaderPosition.Sticky&&(o.style.transform=null,o.style.bottom=t.props.paddingBottom+"px",o.style.boxShadow=null))},t.handleHeaderMount=function(e){t.headerEl=e},t.handleScrollOffsetChange=function(e){var r=t.props.collectionViewLocalStore.state.isLoading,n=t.shouldInfinitelyLoad();if(e<m.default.incrementScrollOffset&&!r&&n){var o=t.props.collectionViewLocalStore,a=o.state,i=a.dateRangeStart,l=a.dateRangeEnd,s=D.getMomentEndOfWeek(f.default(l).clone().add(2,"month"),oe.userSettingsStartOfWeekStore.state);O.setDateRange({dateRangeStart:i,dateRangeEnd:s.valueOf(),collectionViewLocalStore:o})}},t.handleScroll=function(){if(t.headerEl&&t.shouldInfinitelyLoad()){var e=t.stores.calendarStore,r=e.state,n=t.headerEl.getBoundingClientRect(),o=[];r.dayStoreMap.forEach(function(e,t){o.push({store:e,timestamp:t})});var a=(o=p.sortBy(o,function(e){return e.timestamp})).find(function(e){var t=e.store,r=J.default.getRectFromStore(t);return Boolean(r&&r.top<=n.top+n.height&&r.top+r.height>=n.top+n.height)});if(a){var l=D.getMomentEndOfWeek(f.default(a.timestamp),oe.userSettingsStartOfWeekStore.state).valueOf();l!==r.currentlyScrolledMonth&&e.setState(i({},e.state,{currentlyScrolledMonth:l}))}}},t.handleScrollThrottled=p.throttle(t.handleScroll,100),t.handleMouseMove=function(e){var r=t.stores.calendarStore,n=r.state;if(!n.isDragging&&!K.default.state.isDragging&&!Q.default.state.isDragging){var o=t.findHoveredDay(e.clientX,e.clientY);n.hoveredDay!==o&&r.setState(i({},n,{hoveredDay:o}))}},t.handleMouseMoveThrottled=p.throttle(t.handleMouseMove,50),t.handleCalendarLeftClick=function(){var e=t.stores.calendarStore.state.currentlyScrolledMonth,r=D.getMomentStartOfWeek(f.default(e).subtract(1,"month").startOf("month"),oe.userSettingsStartOfWeekStore.state);t.setNewCalendarStart(r)},t.handleTodayClick=function(){var e=D.getMomentStartOfWeek(f.default().startOf("month"),oe.userSettingsStartOfWeekStore.state);t.setNewCalendarStart(e)},t.handleCalendarRightClick=function(){var e=t.stores.calendarStore.state.currentlyScrolledMonth,r=D.getMomentStartOfWeek(f.default(e).add(1,"month").startOf("month"),oe.userSettingsStartOfWeekStore.state);t.setNewCalendarStart(r)},t.handleEditorMouseDown=function(e){w.default.isMobile||U.default({event:e,context:U.EventContext.EditorMouseDown,callback:function(){e.preventDefault(),W.startRectangularSelection({target:e.target,startX:e.clientX,startY:e.clientY,showSelectionRect:!0,preventSelectStores:[t.props.store]})}})},t.isGlobalDragging=t.createComputedStore(function(){return K.default.state.isDragging||Q.default.state.isDragging}),t}return a(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),t.collectionViewScrollStore.addListener(this.updateScrollStyles),$.default.addListener(this.updateScrollStyles),this.stores.calendarStore.setState(i({},this.stores.calendarStore.state,{currentlyScrolledMonth:C.default.getLocalDateRangeStart(t.collectionViewStore.id).valueOf()}))},t.prototype.didMount=function(){e.prototype.didMount.call(this),this.root=d.findDOMNode(this),this.root&&(this.verticalScrollableAncestor=T.getVerticalScrollableAncestor(this.root),this.verticalScrollableAncestor&&M.addPassiveEventListener(this.verticalScrollableAncestor,"scroll",this.handleScrollThrottled),M.addPassiveEventListener(this.root,"mousemove",this.handleMouseMoveThrottled)),this.updateScrollStyles()},t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t),this.isGlobalDragging.state&&(this.stores.calendarStore.state.isDragging||this.stores.calendarStore.setState(i({},this.stores.calendarStore.state,{hoveredDay:void 0}))),t.query.calendar_by||this.updateOrCreateCalendarProperty(t)},t.prototype.didMountOrUpdate=function(){this.handleScrollThrottled()},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),this.props.collectionViewScrollStore.removeListener(this.updateScrollStyles),$.default.removeListener(this.updateScrollStyles),this.verticalScrollableAncestor&&M.removePassiveEventListener(this.verticalScrollableAncestor,"scroll",this.handleScrollThrottled),this.root&&M.removePassiveEventListener(this.root,"mousemove",this.handleMouseMoveThrottled)},t.prototype.getOverrideLinkClick=function(){return this.context.overrideLinkClick},t.prototype.renderPersisted=function(){var e=this,r=this.props,n=r.store,o=r.paddingBottom,a=r.paddingLeft,l=r.paddingRight,u=r.query,c=r.schema,d=r.collectionViewLocalStore,p=r.isFullScreen,h=u.calendar_by;if(h){var m=this.stores.calendarStore.state,y=c[h];if(y&&g.isDateType(y)){var v=d.state,b=v.localResult,_=v.isLoading;if(b&&"calendar"===b.type){var k=f.default(m.currentlyScrolledMonth);return N.default(function(r){return s.createElement(x.default,{onChange:e.handleScrollOffsetChange},s.createElement("div",{style:{paddingBottom:o,paddingLeft:a,paddingRight:l}},s.createElement(S.default,i({style:t.style,store:n,shouldShowHalo:!p,canSelect:!p,onMouseDown:e.handleEditorMouseDown,analyticsName:"calendar"},r),e.renderHeader(k),s.createElement("div",{style:w.default.isMobile?t.mobileHeaderSpacerStyle:t.headerSpacerStyle}),s.createElement("div",{style:w.default.isMobile?t.mobileRowsWrapStyle:e.getRowsWrapStyle()},b.weeks.map(function(t){return w.default.isMobile?e.renderMobileWeek(f.default(t.start),f.default(t.end),b,t.items,h,y):e.renderWeek(f.default(t.start),f.default(t.end),t.items,h,y)})),_&&s.createElement(B.default,{style:t.loadingSpinnerStyle}))))})}}}},t.prototype.renderHeader=function(e){var r=this;return s.createElement("div",{style:w.default.isMobile?this.getHeaderMobileStyle():this.getHeaderStyle(),ref:this.handleHeaderMount},s.createElement("div",{style:{display:"flex",height:t.topHeaderHeight,alignItems:"center"}},s.createElement("div",{style:i({},t.headerMonthNameStyle,{fontSize:w.default.isMobile?16:14})},e.format("MMMM YYYY")),s.createElement(re.default,{mobileFeedback:w.default.isMobile,icon:P.default.chevronLeft,onClick:this.handleCalendarLeftClick}),s.createElement(ne.default,{isSmall:!0,onClick:this.handleTodayClick},"Today"),s.createElement(re.default,{mobileFeedback:w.default.isMobile,icon:P.default.chevronRight,onClick:this.handleCalendarRightClick})),s.createElement("div",{style:{display:"flex",marginTop:w.default.isMobile?8:0,boxShadow:"0 1px 0 "+this.theme.darkDividerColor}},p.range(0,7).map(function(t){return s.createElement("div",{key:t,style:r.getWeekDayNameStyle()},j.default(D.getMomentStartOfWeek(e.clone(),oe.userSettingsStartOfWeekStore.state).add(t,"days").format("ddd")))})))},t.prototype.renderWeek=function(e,r,n,o,a){for(var u,c,d=this.props,p=d.collectionStore,f=d.collectionViewLocalStore,h=d.format,m=d.schema,y=d.blockPropertyValueOverlayStore,g=this.canEdit(),v=this.stores.calendarStore,w=v.state,S=[],_=0;_<7;_++)S.push(this.renderDay(e.clone().add(_,"days"),o,a));var k=[],C=0;try{for(var E=l(n),P=E.next();!P.done;P=E.next()){var x=P.value,T=b.default.createChildStore(p,x.id);w.isDragging&&w.target===T&&w.temporaryValue||k.push(s.createElement(I.default,{collectionStore:p,collectionViewLocalStore:f,key:T.id,store:T,startOfWeek:e.valueOf(),endOfWeek:r.valueOf(),start:x.start,end:x.end,row:x.row,includeTime:x.includeTime,format:h,schema:m,calendarBy:o,disabled:!g,calendarStore:v,blockPropertyValueOverlayStore:y})),x.row>C&&(C=x.row)}}catch(e){u={error:e}}finally{try{P&&!P.done&&(c=E.return)&&c.call(E)}finally{if(u)throw u.error}}var O=w.isDragging&&w.temporaryValue&&D.getMomentRange(w.temporaryValue,D.currentTimeZone);if(w.isDragging&&w.temporaryValue&&O&&D.rangeIntersects(e.valueOf(),r.valueOf(),O.start.valueOf(),O.end?O.end.valueOf():void 0)){var M=w.target,A=w.temporaryValue,L=n.find(function(e){return e.id===M.id});k.push(s.createElement(I.default,{collectionStore:p,collectionViewLocalStore:f,key:M.id,store:M,startOfWeek:e.valueOf(),endOfWeek:r.valueOf(),start:O.start.valueOf(),end:O.end?O.end.valueOf():void 0,row:L?L.row:0,includeTime:"datetime"===A.type||"datetimerange"===A.type,format:h,schema:m,calendarBy:o,disabled:!g,calendarStore:v,blockPropertyValueOverlayStore:y}))}var R=(h.calendar_properties?h.calendar_properties.filter(function(e){return e.visible}).map(function(e){return e.property}):[]).length+1,B=t.propertyRowHeight*R+2*t.itemPaddingTopBottom+2*t.rowPaddingTopBottom,j=Math.max((C+1)*B+t.dayPaddingTop+t.dayPaddingBottom,t.cellHeight);return s.createElement("div",{style:i({},t.weekWrapStyle,{height:j}),key:e.valueOf().toString()},S,k)},t.prototype.renderDay=function(e,r,n){var o=this,a=this.props,l=a.store,u=a.collectionStore,c=a.collectionViewLocalStore,d=this.stores.calendarStore,p=d.state.dayStoreMap,f=e.valueOf(),h=d.state,m="date"===n.type,y=p.get(f);y||(y=new b.default(l.id,l.recordCacheStore),p.set(f,y));var g=!h.isDragging&&h.hoveredDay===e.valueOf(),v=this.isCurrentMonth(e),w=this.isToday(e),C=6===e.isoWeekday()||7===e.isoWeekday();return s.createElement(S.default,{style:C?this.getWeekendDayStyle():this.getDayStyle(),key:e.valueOf().toString(),store:y,canDropOnto:this.canEdit()&&m,onSelectableDrop:function(t){E.createAndCommit(function(n){k.handleDropOntoDay(i({},t,{startOfDay:e,calendarBy:r,collectionStore:u,collectionViewLocalStore:c,transaction:n}))})},onDoubleClick:function(){o.canEdit()&&Z.validateCanCreate()&&(o.createBlockInDay(f,r),H.trackCreateBlock({type:"page",from:"calendar_day_double_click"}))},analyticsName:"calendar_day",shouldShowDropZone:!0},g&&m&&this.canEdit()&&s.createElement(_.default,{renderTooltip:function(){return"Add an item"},render:function(e){return s.createElement(re.default,i({icon:P.default.plus,showShadow:!0,hasBackground:!0,style:{position:"absolute",top:6,left:6,width:20,height:20},onClick:function(){Z.validateCanCreate()&&(o.createBlockInDay(f,r),H.trackCreateBlock({type:"page",from:"calendar_day_add_button"}))}},e))}}),s.createElement("div",{style:i({},w?t.todayNumberStyle:t.dayNumberStyle,!v&&!w&&{color:this.theme.lightTextColor})},1!==e.date()||w?void 0:e.format("MMM")+" ",e.date()))},t.prototype.renderMobileWeek=function(e,t,r,n,o,a){for(var i=[],l=0;l<7;l++){var u=e.clone().add(l,"days"),c=u.clone().endOf("day");i.push(this.renderMobileDay(e,t,u,c,r,n,o,a))}return s.createElement("div",{style:this.getMobileWeekStyle(),key:e.valueOf().toString()},i)},t.prototype.renderMobileDay=function(e,r,n,o,a,l,u,c){var d=this,p=this.props,f=p.collectionViewLocalStore,h=p.collectionStore,m=p.collectionViewStore,y=p.query,g=p.format,v=p.schema,b=p.blockPropertyValueOverlayStore,w=this.canEdit(),S=l.find(function(e){return D.rangeIntersects(n.valueOf(),o.valueOf(),e.start,e.end?e.end:void 0)}),_=n.date(),k=this.isCurrentMonth(n),C=this.isToday(n);return s.createElement(L.default,{popupType:L.default.PopupType.SlideUp,key:_.toString(),renderOrigin:function(e){return s.createElement(te.default,i({style:t.mobileDayButtonStyle},e),s.createElement("div",{style:i({},C?t.mobileTodayNumberStyle:t.mobileDayNumberStyle,!k&&!C&&{color:d.theme.lightTextColor})},_),S&&s.createElement("div",{style:d.getMobileDayEventDotStyle()}))},render:function(e){return s.createElement(R.default,{collectionViewLocalStore:f,collectionStore:h,collectionViewStore:m,initialStartOfDay:n.valueOf(),format:g,schema:v,query:y,calendarBy:u,disabled:!w,onDismiss:e.close,blockPropertyValueOverlayStore:b})}})},t.prototype.setDateRange=function(e,t){var r=this.props.collectionViewLocalStore,n=this.stores.calendarStore;O.setDateRange({dateRangeStart:e,dateRangeEnd:t,collectionViewLocalStore:r}),n.setState(i({},n.state,{currentlyScrolledMonth:D.getMomentEndOfWeek(f.default(e),oe.userSettingsStartOfWeekStore.state).startOf("month").valueOf()}))},t.prototype.findHoveredDay=function(e,t){for(var r=this.stores.calendarStore.state.dayStoreMap,n=X.default.state.selectableRectMap,a=Array.from(r.keys()),i=Array.from(r.values()),l=n.keys(),s=l.next(),u=function(){var o=s.value,u=n.get(o);if(u&&A.within(u,e,t)&&i.indexOf(o.props.store)>=0)return{value:a.find(function(e){return r.get(e)===o.props.store})};s=l.next()};!s.done;){var c=u();if("object"===(void 0===c?"undefined":o(c)))return c.value}},t.prototype.createBlockInDay=function(e,t){var r=this,n=this.props,o=n.collectionStore,a=n.collectionViewLocalStore,i=Y.default.state.currentBlockStore;E.createAndCommit(function(n){var l=k.createBlockInDay({calendarBy:t,collectionStore:o,collectionViewLocalStore:a,startOfDay:e,transaction:n}),s=i?V.default({store:i,peekViewBlockId:l.id}):V.default({store:l}),u=r.getOverrideLinkClick();u?u(s):F.navigate({url:s})})},t.prototype.setNewCalendarStart=function(e){var t=this.props.collectionViewStore,r=this.shouldInfinitelyLoad(),n=oe.userSettingsStartOfWeekStore.state,o=D.getMomentEndOfWeek(e.clone(),n);C.default.setLocalDateRangeStart(t.id,o.valueOf());var a=r?D.getMomentEndOfWeek(o.add(1,"month").endOf("month"),n).valueOf():D.getMomentEndOfWeek(o.endOf("month"),n).valueOf();this.setDateRange(e.valueOf(),a.valueOf()),this.verticalScrollableAncestor&&r&&(this.verticalScrollableAncestor.scrollTop=0)},t.prototype.shouldInfinitelyLoad=function(){return this.props.isFullScreen&&!w.default.isMobile},t.prototype.isCurrentMonth=function(e){var t=this.stores.calendarStore.state,r=f.default(t.currentlyScrolledMonth),n=r.clone().endOf("month");return e.isBetween(r,n,void 0,"[]")},t.prototype.isToday=function(e){var t=f.default().startOf("day"),r=f.default().endOf("day");return e.isBetween(t,r,void 0,"[]")},t.prototype.updateOrCreateCalendarProperty=function(e){var t=e.query,r=e.schema,n=e.collectionViewLocalStore,o=e.collectionStore,a=e.collectionViewStore;E.createAndCommit(function(e){var l,s=G.findCalendarProperty(r);if(!s){s=q.default();l=u.assoc(s,{name:"Date",type:"date"},r)}var c=i({},t,{calendar_by:s});O.updateCollectionView({collectionViewLocalStore:n,collectionViewStore:a,update:{query:c},transaction:e}),l&&O.updateCollection({collectionStore:o,update:{schema:l},transaction:e})})},t.prototype.getHeaderStyle=function(){return{position:"absolute",left:0,right:0,background:this.theme.contentBackground,zIndex:z.fixedCollectionHeader}},t.prototype.getHeaderMobileStyle=function(){return{position:"absolute",left:0,right:0,background:this.theme.contentBackground,zIndex:z.fixedCollectionHeader}},t.prototype.getRowsWrapStyle=function(){return{boxShadow:"-1px 0 0 "+this.theme.darkDividerColor,marginTop:1,overflow:"hidden"}},t.prototype.getWeekDayNameStyle=function(){return{flexGrow:1,flexBasis:0,textAlign:"center",fontSize:12,height:24,color:this.theme.lightTextColor}},t.prototype.getDayStyle=function(){return{position:"relative",flexGrow:1,flexShrink:0,flexBasis:0,borderRight:"1px solid "+this.theme.darkDividerColor,borderBottom:"1px solid "+this.theme.darkDividerColor,cursor:"default",background:this.theme.contentBackground}},t.prototype.getWeekendDayStyle=function(){return i({},this.getDayStyle(),{background:this.theme.sidebarBackground})},t.prototype.getMobileWeekStyle=function(){return{display:"flex",boxShadow:"0 -1px 0 "+this.theme.darkDividerColor,paddingTop:8,paddingBottom:8,fontSize:14}},t.prototype.getMobileDayEventDotStyle=function(){return{width:8,height:8,background:this.theme.mediumIconColor,borderRadius:"100%",marginTop:2,marginLeft:"auto",marginRight:"auto"}},t.stores={calendarStore:C.default},t.contextTypes={overrideLinkClick:c.any},t.topHeaderHeight=42,t.dayPaddingTop=30,t.dayPaddingBottom=4,t.itemPaddingTopBottom=2,t.rowPaddingTopBottom=3,t.propertyRowHeight=20,t.cellHeight=124,t.style={position:"relative",paddingLeft:1},t.headerMonthNameStyle={fontWeight:v.default.fontWeight.semibold,marginRight:"auto",marginLeft:8,lineHeight:1},t.headerSpacerStyle={height:66},t.mobileHeaderSpacerStyle={height:74},t.mobileRowsWrapStyle={},t.weekWrapStyle={position:"relative",display:"flex"},t.dayNumberStyle={position:"absolute",fontSize:14,top:4,right:10,height:24,lineHeight:"24px",textAlign:"right",transition:"color 100ms ease-out"},t.todayNumberStyle={position:"absolute",fontSize:14,top:4,right:4,height:24,width:24,lineHeight:"24px",borderRadius:"100%",textAlign:"center",color:ee.default.white,background:ee.default.red},t.mobileDayButtonStyle={width:"100%",height:44,borderRadius:3},t.mobileDayNumberStyle={height:28,display:"flex",alignItems:"center",justifyContent:"center"},t.mobileTodayNumberStyle={height:28,width:28,lineHeight:"28px",borderRadius:"100%",textAlign:"center",color:ee.default.white,background:ee.default.red,marginLeft:"auto",marginRight:"auto"},t.loadingSpinnerStyle={margin:"8px auto"},t}(h.default);t.default=ae},XOx9:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("q1tI"),c=r("q1tI"),d=r("LvDl"),p=r("G414"),f=r("r8oj"),h=r("wldR"),m=r("wpmu"),y=r("G4cA"),g=r("mjq6"),v=r("nFzZ"),b=r("wXH4"),w=r("JU1L"),S=r("WgIs"),_=r("Pl3d"),k=r("sbdd"),C=r("gbGO"),E=r("dXb3"),P=r("2Y+N"),x=r("zTdN"),T=r("4HCU"),O=r("MBf9"),M=r("bjn0"),I=r("2HDO"),A=r("HSWF"),D=r("HRSx"),L=r("6SEd"),R=r("QcDD"),B=r("vJXr"),j=r("ov3o"),V=r("HTHG"),F=r("D8Ld"),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderModal=function(){var e=j.default.state;if(e.isOpen){var r,n,o={request:e.autocompleteQuery,debounce:T.defaultSearchDebounce,performRequest:t.getAutocompleteItems,render:function(t,r,n){var o;return t&&(o=u.createElement(P.default,null,u.createElement(x.default,{title:"Something went wrong."}))),n||(o=u.createElement(P.default,null,u.createElement(x.default,{title:"Loading..."}))),o=r&&0===r.length?u.createElement(P.default,null,u.createElement(x.default,{title:"No Results"})):u.createElement(S.default,{initialFocus:e.autocompleteQuery?0:void 0,sections:r||[]}),u.createElement(c.Fragment,null,o)}};return r=t.shouldAllowSearch()?f.default.isMobile?t.renderInputMenuItem(e):u.createElement(P.default,{isInput:!0},t.renderInputMenuItem(e)):void 0,n=f.default.isMobile?{menuType:C.default.MenuType.Modal,title:"Move To",right:"Done",onClickRight:p.close,header:r}:{menuType:C.default.MenuType.Popup,width:240,header:r},u.createElement(F.default,{capture:!0,allowMenuList:!0,allowEsc:!0,allowTabUntab:!1,allowUndo:!1},u.createElement(I.default,{capture:!0,ignoreBlockSelection:!1,focusOffscreenInput:!1,restoreSelection:!f.default.isMobile,render:function(){return u.createElement(C.default,a({},n),u.createElement(_.default,a({},o)))}}))}},t.createMenuItem=function(e){var r=t.getAutocompleteItemstore(e);if(r)return{key:e,render:function(e){return u.createElement(k.default,a({store:r},e))},action:function(){O.createAndCommit(function(t){var r=w.extractCombinedId(e),n=r.table,o=r.id;p.accept({table:n,id:o,transaction:t})})}}},t.getAutocompleteItems=function(e){return i(t,void 0,void 0,function(){var t,r,n,o,a,i,u,c,p,f,h,y,b,S,_,k,C,E,P,x,O,M,I,B,F,N,U,W,z,H,q,G,Z,Y,K;return l(this,function(l){switch(l.label){case 0:if(p=j.default.state,f=R.default.state,h=f.userRootStore,y=f.currentBlockStore,b=f.currentSpaceStore,S=[],_=[],k=[],C=[],!(h&&b&&y&&p.isOpen))return[2,[]];if(p.targets.every(function(e){return e.isNavigableBlock()}))if(b.getDisableMoveToSpace())S.push(w.getCombinedId("space",b.id));else{E=h.getSpaceViewStores(),P=v.compact(E.map(function(e){return e.getSpaceStore()})),P=d.uniqBy(P,function(e){return e.id}),e&&(P=g.default(e,P,function(e){return e.getName()||""}));try{for(x=s(P),O=x.next();!O.done;O=x.next())(M=O.value).canEdit()&&S.push(w.getCombinedId("space",M.id))}catch(e){t={error:e}}finally{try{O&&!O.done&&(r=x.return)&&r.call(x)}finally{if(t)throw t.error}}}return e&&this.shouldAllowSearch()?[4,T.searchPages({query:e,limit:20})]:[3,2];case 1:I=l.sent();try{for(B=s(I.results),F=B.next();!F.done;F=B.next())N=F.value,(Y=m.default.createChildStore(y,N)).canEdit()&&Y.isNavigableBlock()&&(Y.isCollectionView()?(K=Y.getCollectionViewCollectionStore())&&_.push(w.getCombinedId(L.default.table,K.id)):_.push(w.getCombinedId(D.default.table,Y.id)))}catch(e){n={error:e}}finally{try{F&&!F.done&&(o=B.return)&&o.call(B)}finally{if(n)throw n.error}}return[3,4];case 2:return[4,A.getRecentMoveToTargets(b,b.id)];case 3:U=l.sent();try{for(W=s(U),z=W.next();!z.done;z=W.next())(H=z.value).table!==D.default.table&&H.table!==L.default.table||k.push(w.getCombinedId(H.table,H.id))}catch(e){a={error:e}}finally{try{z&&!z.done&&(i=W.return)&&i.call(W)}finally{if(a)throw a.error}}q=V.getCurrentSearchablePages();try{for(G=s(q),Z=G.next();!Z.done;Z=G.next())(Y=Z.value).canEdit()&&Y.isNavigableBlock()&&(Y.isCollectionView()?(K=Y.getCollectionViewCollectionStore())&&C.push(w.getCombinedId(L.default.table,K.id)):C.push(w.getCombinedId(D.default.table,Y.id)))}catch(e){u={error:e}}finally{try{Z&&!Z.done&&(c=G.return)&&c.call(G)}finally{if(u)throw u.error}}l.label=4;case 4:return[2,v.compact([this.renderResultsSection({title:"Recent",results:k,limit:5,menuState:p}),this.renderResultsSection({title:"Workspace",results:S,menuState:p}),this.renderResultsSection({title:"Page",results:_,limit:20,menuState:p}),this.renderResultsSection({title:"Page",results:C,limit:20,menuState:p})])]}})})},t}return o(t,e),t.prototype.willMountOrUpdate=function(){var e=R.default.state.currentSpaceStore;e&&(A.getQuickAddParent(e,e.id),A.getRecentMoveToTargets(e,e.id))},t.prototype.renderComponent=function(){var e=j.default.state;return u.createElement(b.default,{popupType:f.default.isMobile?b.default.PopupType.SlideUp:b.default.PopupType.Popup,alignmentToOrigin:b.default.Alignment.Start,open:e.isOpen,render:this.renderModal,originRect:e.isOpen?e.rect:void 0,onDismiss:p.close})},t.prototype.renderInputMenuItem=function(e){return u.createElement(E.default,{focus:!f.default.isMobile||void 0,focusAfterAnimation:!0,value:e.autocompleteQuery,onChange:function(e){j.default.state.isOpen&&j.default.setState(a({},j.default.state,{autocompleteQuery:e.target.value}))},placeholder:"Move to..."})},t.prototype.getAutocompleteItemstore=function(e){var t=R.default.state.currentBlockStore;if(t){var r=w.extractCombinedId(e),n=r.table,o=r.id;if(n===D.default.table)return m.default.createChildStore(t,o);if("space"===n)return y.default.createChildStore(t,o);if(n===L.default.table)return M.default.createChildStore(t,o)}},t.prototype.renderResultsSection=function(e){var t=e.title,r=e.menuState,n=e.limit,o=e.results;o=(o=d.uniq(o)).filter(function(e){return!r.targets.find(function(t){return t.id===w.extractCombinedId(e).id})}),r.targets.some(function(e){return e.isCollectionView()})&&(o=o.filter(function(e){return w.extractCombinedId(e).table!==L.default.table}));var i=v.compact(o.map(this.createMenuItem));if(n&&(i=i.slice(0,n)),i.length>0)return{key:t,render:function(e){return u.createElement(P.default,a({},e,{title:t,isTitleUppercase:!0}))},items:i}},t.prototype.shouldAllowSearch=function(){return B.default.state.online},t}(h.default);t.default=N},XfKI:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("r8oj"),i=r("wpmu"),l=r("loBV"),s=r("6SEd"),u=r("VpIZ"),c=r("udrG"),d=r("QcDD"),p=r("qDOf"),f=r("sjR4"),h=r("DNgp"),m=r("vJXr"),y=r("T1hA"),g=r("3k5a"),v=r("57cz"),b=r("VcFn"),w=r("szb2"),S=r("uwoq"),_=r("+DAh"),k=r("A9TN"),C=r("+fkW"),E=r("HTHG"),P=r("622O"),x=r("+575"),T=r("AXh+");t.or=function(e){return function(t){return e.some(function(e){return e(t)})}},t.and=function(e){return function(t){return e.every(function(e){return e(t)})}},t.not=function(e){return function(t){return!e(t)}},t.isSingle=function(e){return e.blocks&&1===e.blocks.length},t.canEditRenderedParent=function(e){return e.blocks.every(function(e){var t=e.recordStoreParentStore;return Boolean(t&&t.canEdit())})},t.canEditPersistedParent=function(e){return e.blocks.every(function(e){var t=e.getParentStore();return Boolean(t&&t.canEdit())})},t.canEdit=function(e){return e.blocks.every(function(e){return e.canEdit()})},t.canActivate=function(e){return e.blocks.some(function(e){return Boolean(g.default.findBlockFromStoreWithMethod(e,"activate"))})},t.currentPageIsNotLocked=function(){var e=w.default.state,t=d.default.state.currentBlockStore;return e.open?!e.target.isLocked():!t||!t.isLocked()},t.isLocked=function(e){return e.blocks.length>0&&e.blocks.some(function(e){return e.isLocked()})},t.isMoreThanZeroBlocks=function(e){return e.blocks.length>0},t.isNotInsideLockedPage=function(e){return 0===e.blocks.length||e.blocks.some(function(e){return!e.isNavigableAncestorLocked()||e.isInsideCollection()||e===d.default.state.currentBlockStore})},t.canSetAnnotation=function(e){return e.blocks.every(function(e){var t=e&&e.getValue();return Boolean(t&&u.isTitleType(t)&&!u.isNavigableType(t))})},t.isAliasInEditableParent=function(e){return e.blocks.every(function(e){var t=e.recordStoreParent(),r=e.getValue();return Boolean(t&&t.canEdit()&&r&&r.parent_id!==t.id)})},t.canDuplicate=function(e){return!t.blocksAreBookmarksInSidebar(e)&&!t.blocksAreSharedInSidebar(e)&&t.canEditRenderedParent(e)},t.isFileWithSource=function(e){if(e.blocks){var t=e.blocks[0],r=t&&t.getValue();return Boolean(r&&"file"===r.type&&r.properties&&r.properties.source)}return!1},t.hasSecureSource=function(e){if(!e.blocks)return!1;var t=e.blocks[0],r=t&&t.getValue(),n=r&&r.properties&&r.properties.source;if(!n)return!1;var o=x.toUrlValue(n);return!!o&&P.isSecureFileUrl(o,k.default.secureFileS3.url)},t.isMediaWithSource=function(e){if(e.blocks){var t=e.blocks[0],r=t&&t.getValue();if(r&&u.isMediaType(r)){var n=r.properties;return Boolean(n&&n.source)}}return!1},t.isMediaType=function(e){if(e.blocks){var t=e.blocks[0],r=t&&t.getValue();return Boolean(r&&u.isMediaType(r))}return!1},t.isCaptionType=function(e){if(e.blocks){var t=e.blocks[0],r=t&&t.getValue();return Boolean(r&&u.isCaptionType(r))}return!1},t.hasProperty=function(e){return function(t){if(t.blocks){var r=t.blocks[0],n=r&&r.getValue();if(n){var o=n.properties;return Boolean(o&&o[e])}}return!1}},t.hasSourceProperty=t.hasProperty("source"),t.hasEmptyDescription=function(e){if(e.blocks){var t=e.blocks[0],r=t&&t.getValue();return Boolean(!r||!r.properties||!r.properties.description||0===r.properties.description.length)}return!1},t.isConfigurable=function(e){if(e.blocks){var t=e.blocks[0],r=t&&t.getValue();return Boolean(r&&u.isConfigurableType(r))}return!1},t.areTransformable=function(e){return e.blocks.every(function(e){var t=e.getValue(),r=e.recordStoreParent();return Boolean(t&&u.isTransformableType(t)&&e.getParentTable()!==s.default.table&&r&&r.id===t.parent_id)})},t.isType=function(e){return function(t){return t.blocks&&t.blocks[0]&&o.isFunction(t.blocks[0].getType)&&t.blocks[0].getType()===e}},t.areType=function(e){return function(t){return o.every(t.blocks,function(t){return t&&o.isFunction(t.getType)&&t.getType()===e})}},t.canSetColor=function(e){return e.blocks.every(function(e){var t=e&&e.getValue();return Boolean(t&&u.isColorableType(t)&&e.getParentTable()!==s.default.table)})},t.areInCurrentRootStore=function(e){var t=E.getCurrentRootStore();return!!t&&e.blocks.every(function(e){return t.contains(e)&&t.id!==e.id})},t.canRenderFullScreen=function(e){return e.blocks.every(function(e){var t=g.default.findBlockFromStoreWithMethod(e,"canRenderFullScreen");return Boolean(t&&t.canRenderFullScreen())})},t.isElectron=function(){return a.default.isElectron},t.isWindows=function(){return a.default.isWindows},t.isMac=function(){return a.default.isMac},t.isIOS=function(){return a.default.isIOS},t.isAndroid=function(){return a.default.isAndroid},t.isReactNative=function(){return a.default.isReactNative},t.isCordova=function(){return a.default.isCordova},t.isMobile=function(){return a.default.isMobile},t.isNative=function(){return a.default.isNative},t.isMobileBrowser=function(){return a.default.isMobileBrowser},t.isNotMobile=function(){return!a.default.isMobile},t.hasFeatureFlag=function(e){return function(){return p.default.hasFeatureFlag(e)}},t.isAdminMode=function(){return k.default.isAdminMode},t.isLoggedIn=function(){return y.default.isLoggedIn()},t.isOnline=function(){return m.default.state.online},t.isInTemplatePicker=function(e){return!e.blocks.every(function(e){return e.recordCacheStore===_.default})},t.isCollectionTemplatePage=function(e){return e.blocks.some(function(e){return e.isTemplate()})},t.isCollectionView=function(e){return!(!e.blocks||1!==e.blocks.length)&&n(e.blocks,1)[0].isCollectionView()},t.isInlineCollectionView=function(e){return!(!e.blocks||1!==e.blocks.length)&&n(e.blocks,1)[0].isType(c.default.collectionView)},t.isFullScreenCollectionView=function(e){return!(!e.blocks||1!==e.blocks.length)&&n(e.blocks,1)[0].isType(c.default.collectionViewPage)},t.isCollectionViewType=function(e){return function(t){if(t.blocks&&1===t.blocks.length){var r=n(t.blocks,1)[0],o=g.default.findCollectionViewBlockFromStore(r);return!!o&&o.stores.collectionViewLocalStore.getViewType()===e}return!1}},t.canGoBack=function(){return S.default.canGoBack()},t.canGoForward=function(){return S.default.canGoForward()},t.richTextMenuIsActive=function(){return b.default.state.isActive},t.isNotEditingText=function(){return!h.default.state.editing},t.isNonEmptyBlockSelection=function(){return f.default.state.stores.length>0},t.isNonTopLevelBlock=function(e){return e.blocks.every(function(e){return!e.isTopLevel()})},t.userHasTeamSpaces=function(){var e=d.default.state.userRootStore;return Boolean(e&&e.getSpaceViewIds().length>1)},t.blocksAreInSidebar=function(e){return e.blocks.every(function(e){return Boolean(v.default.findOutlinerItemFromStore(e))})},t.blocksAreSpaceChildrenInSidebar=function(e){return e.blocks.every(function(e){var t=v.default.findOutlinerItemFromStore(e);return Boolean(t&&t.props.isTopLevelItem&&("private"===t.props.type||"workspace"===t.props.type||"shared"===t.props.type))})},t.blocksAreBookmarksInSidebar=function(e){return e.blocks.every(function(e){var t=v.default.findOutlinerItemFromStore(e);return Boolean(t&&t.props.isTopLevelItem&&"bookmarks"===t.props.type)})},t.blocksAreSharedInSidebar=function(e){return e.blocks.every(function(e){var t=v.default.findOutlinerItemFromStore(e);return Boolean(t&&t.props.isTopLevelItem&&"shared"===t.props.type)})},t.userHasExplicitAccessToBlocks=function(e){var t=y.default.state.userId;return!!t&&e.blocks.every(function(e){return e.getPermissionItems().some(function(e){return"user_permission"===e.type&&e.user_id===t})})},t.blocksAreOutlinerTopLevel=function(e){return e.blocks.every(function(e){var t=v.default.findOutlinerItemFromStore(e);return Boolean(t&&t.props.isTopLevelItem)})},t.isBookmarked=function(e){var t=d.default.state.currentSpaceViewStore,r=e.blocks[0];return Boolean(t&&r&&l.default({spaceViewStore:t,pageId:r.id}))},t.isCurrentPage=function(e){return e.blocks[0]&&e.blocks[0]===d.default.state.currentBlockStore},t.isAccessedAsPublicPage=function(e){return e.blocks.every(function(e){return Boolean(T.userHasPermissionViaPublicAccess(e))})},t.allowsPublicPageDuplicate=function(e){return e.blocks.every(function(e){return T.allowsPublicPageDuplicate(e)})},t.isNotionPage=function(){return Boolean(d.default.state.currentBlockStore)},t.isPeekPage=function(e){var t=w.default.state;return t.open&&e.blocks[0]&&e.blocks[0]===t.target},t.peekIsOpen=function(e){return w.default.state.open},t.isNavigableType=function(e){return e.blocks.every(function(e){var t=e&&e.getValue();return Boolean(t&&u.isNavigableType(t))})},t.isNoCommentType=function(e){return e.blocks.every(function(e){var t=e&&e.getValue();return Boolean(t&&u.isNoCommentType(t))})},t.areCurrentlyInCollectionView=function(e){return e.blocks.every(function(e){return Boolean(e.findRecordStoreAncestor(function(e){return"collection"===e.table}).ancestor)})},t.areCurrentlyInTable=function(e){return e.blocks.every(function(e){var t=e.findRecordStoreAncestor(function(e){return e instanceof i.default&&e.isCollectionView()}).ancestor;if(t){var r=g.default.findCollectionViewBlockFromStore(t);return Boolean(r&&r.stores.collectionViewLocalStore&&"table"===r.stores.collectionViewLocalStore.getViewType())}return!1})},t.isMemberOfCurrentSpace=function(){var e=d.default.state.currentSpaceStore;return Boolean(e&&e.canRead())},t.isEditorOfCurrentSpace=function(){var e=d.default.state.currentSpaceStore;return Boolean(e&&e.canEdit())},t.shouldShowNoDateMenu=function(e){if(e.blocks&&1===e.blocks.length){var t=e.blocks[0].findRecordStoreAncestor(function(e){return e instanceof i.default&&e.isCollectionView()}).ancestor;if(t){var r=g.default.findAllBlocksFromStore(t).find(function(e){return e.stores.collectionViewLocalStore});if(r){var n=r.stores.collectionViewLocalStore,o=n.state;if("calendar"===n.getViewType()&&o.remoteResult&&"calendar"===o.remoteResult.type&&o.remoteResult.noDateTotal>0)return!0}}}return!1},t.currentSpaceAllowsExport=function(){var e=d.default.state.currentSpaceStore;if(!e)return!1;var t=e.getValue(),r=C.default.getPublicSpaceData(e.id);return t?!t.disable_export:!!r&&!r.disableExport}},XiLu:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("r8oj"),l=r("wldR"),s=r("tXfH"),u=r("ooa+"),c=r("yeum"),d=r("uux+"),p=r("T1hA"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return p.default.isLoggedIn()?a.createElement(s.default,{route:this.props.route}):i.default.isElectron?a.createElement(c.default,null):i.default.isReactNative||i.default.isCordova?a.createElement(u.default,null):a.createElement(d.default,null)},t}(l.default);t.default=f},YIRN:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("mF3+"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.iconSize,r=e.style;return i.createElement("div",{style:a({},this.getStyle(),r)},s.default.dragHandle({fill:this.theme.mediumIconColor,width:t,height:t}))},t.prototype.getStyle=function(){var e={display:"flex",alignItems:"center",justifyContent:"center",width:t.width,height:t.height,flexShrink:0};return this.props.disabled?e.opacity=0:e.cursor="-webkit-grab",e},t.width=18,t.height=24,t}(l.default);t.default=u},YMM9:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("E5KU"),i=r("a5M7"),l=!1,s=[],u=[],c=[];t.startPerf=function(){l=!0,s=[],u=[],c=[]},t.stopPerf=function(){l=!1},t.runPerfTimer=function(e,r){setTimeout(function(){a.log("Starting perf"),t.startPerf(),setTimeout(function(){a.log("Stopping perf"),t.stopPerf()},r)},e)},t.printStoreEmits=function(){var e={};o.each(s,function(t){var r=t.storeName;e[r]||(e[r]=0),e[r]++});var t=o.map(e,function(e,t){return{storeName:t,emitCount:e}}),r=o.sortBy(t,function(e){return-1*e.emitCount}),n=o.slice(r,0,30);console.table(n),t.length>30&&a.log("+ "+(t.length-30)+" more updates")},t.printComponentForceUpdates=function(){var e={};o.each(u,function(t){var r=t.componentName+":"+t.storeName;e[r]||(e[r]=0),e[r]++});var t=i.default(e).map(function(e){var t=n(e,2),r=t[0],o=t[1],a=n(r.split(":"),2);return{componentName:a[0],storeName:a[1],updateCount:o}}),r=o.sortBy(t,function(e){return-1*e.updateCount}),l=o.slice(r,0,30);console.table(l),t.length>30&&a.log("+ "+(t.length-30)+" more updates"),a.log("Note: an 'undefined' storeName means the component updated for some reason other than a store emit.")},t.printComponentRenders=function(){var e={};o.each(c,function(t){var r=t.componentName;e[r]||(e[r]=0),e[r]++});var t=o.map(e,function(e,t){return{componentName:t,renderCount:e}}),r=o.sortBy(t,function(e){return-1*e.renderCount}),n=o.slice(r,0,30);console.table(n),t.length>30&&a.log("+ "+(t.length-30)+" more updates")},t.logStoreEmit=function(e){l&&s.push({storeName:e.constructor.name,stack:(new Error).stack})},t.logComponentForceUpdate=function(e,t){l&&u.push({componentName:e.constructor.name,storeName:t&&t.constructor.name,stack:(new Error).stack})},t.logComponentRender=function(e){l&&c.push({componentName:e.constructor.name,stack:(new Error).stack})}},YQvo:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isLoading:!1,progressPercent:0}},t}(r("LEzx").default);t.default=a},YRhr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"slack_notification",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,sent:n.default.Boolean}};t.default=o},YUWc:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("q1tI"),l=r("wldR"),s=r("7eQs"),u=r("/Zir"),c=r("pAJP"),d=r("NV/j"),p=r("h7gD"),f=r("xVnP"),h=r("EVtw"),m=r("mDQS"),y=r("4NII"),g=r("Sb6f"),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(u.default,{hidePricingLink:!0,analyticsName:"pricing"},this.renderHeader(),this.renderPricingPlans(),this.renderFrontApps("call_to_actions_pricing_top"),this.renderFAQ(),this.renderFrontApps("call_to_actions_pricing_bottom"),a.createElement(m.default,{scrollPoint:"twitter_testimonials"}))},t.prototype.renderHeader=function(){return a.createElement("div",{style:{paddingTop:y.default()?72:120,maxWidth:900,width:"100%",marginBottom:y.default()?24:56}},a.createElement("div",{style:y.default()?t.mobileHeaderStyle:t.desktopHeaderStyle},y.default()?"Pricing":a.createElement(i.Fragment,null,"All the tools you need",a.createElement("br",null),"in one workspace.")),a.createElement("div",{style:{fontSize:24,marginBottom:14}},"Start for free, or as low as $4 a month."),!y.default()&&a.createElement(f.default,{analyticsName:"pricing",buttonTitle:"Try It Free"}),y.default()&&a.createElement(d.default,{format:d.default.Format.Mobile,analyticsName:"pricing"}))},t.prototype.renderPricingPlans=function(){return a.createElement(i.Fragment,null,a.createElement(c.default,{name:"plans"}),a.createElement(h.default,{shouldShowEnterprise:!0}))},t.prototype.renderFAQ=function(){return a.createElement(i.Fragment,null,a.createElement(c.default,{name:"faq"}),a.createElement("div",{style:{width:"100%",marginTop:56,marginBottom:90}},a.createElement("div",{style:{flexGrow:1,maxWidth:900,width:"100%"}},a.createElement("div",{style:y.default()?t.mobileHeaderStyle:t.desktopHeaderStyle},"FAQ"),a.createElement("div",{style:{maxWidth:600}},a.createElement(s.default,null)))))},t.prototype.renderFrontApps=function(e){return a.createElement(i.Fragment,null,a.createElement(c.default,{name:e}),a.createElement("div",{style:{marginTop:64,marginBottom:64}},a.createElement(p.default,{analyticsName:"pricing"})))},t.desktopHeaderStyle={fontWeight:g.default.fontWeight.bold,lineHeight:1.3,marginBottom:16,fontSize:48},t.mobileHeaderStyle={fontWeight:g.default.fontWeight.bold,marginBottom:12,fontSize:32},t}(l.default);t.default=v},YV9r:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("bkwR"),c=r("y6Dp"),d=r("ju2U"),p=r("VBxf"),f=r("H4VD"),h=r("bK/N"),m=r("r8oj"),y=r("VMJe"),g=r("wldR"),v=r("q1tI"),b=r("qqdV"),w=r("UiOz"),S=r("imne"),_=r("5JRq"),k=r("oqYu"),C=r("A9TN"),E=r("9PHN"),P=r("Ma8p"),x=r("oWRT"),T=r("IYZQ"),O=r("zttk"),M=r("yjqD"),I=r("fke4"),A=r("6Ydq"),D="electronUpdateReady2",L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderBanner=function(){return s.createElement(v.Fragment,null,!m.default.isMobile&&t.renderUpdateTitle(),s.createElement(E.default,{style:{marginLeft:12},onClick:t.handleConfirmUpdate},t.renderUpdateButtonContent()))},t.handleElectronUpdateChecking=function(){S.default.setState({appUpdate:S.default.state.appUpdate,electronUpdate:{state:"checking"}})},t.handleElectronUpdateError=function(e,t){S.default.setState({appUpdate:S.default.state.appUpdate,electronUpdate:{state:"error",error:t}})},t.handleElectronUpdateNotAvailable=function(){S.default.setState({appUpdate:S.default.state.appUpdate,electronUpdate:{state:"no-update",timestamp:Date.now()}})},t.handleElectronUpdateAvailable=function(e,t){var r=y.parseVersion(t.version),n=h.getDesktopVersion(),o=y.getUpdateType({currentVersion:n,nextVersion:r});S.default.setState({appUpdate:S.default.state.appUpdate,electronUpdate:{state:"downloading",type:o,version:r,timestamp:Date.now(),progress:0}})},t.handleElectronUpdateProgress=function(e,t){var r=S.default.state;r.electronUpdate&&"downloading"===r.electronUpdate.state&&S.default.setState({appUpdate:r.appUpdate,electronUpdate:a({},r.electronUpdate,{progress:t.transferred/t.total})})},t.handleElectronUpdateReady=function(e,r){var n=I.default.get(D),o=r.version;if(n===o){if(m.default.isMac)return S.default.setState({appUpdate:S.default.state.appUpdate,electronUpdate:{state:"ready",type:y.UpdateType.Breaking,version:void 0}}),void p.showDialog({message:"Please move the Notion app into the Applications folder for the auto-updater to work.",showCancel:!1,keepFocus:!1,handleCancel:t.handleConfirmUpdate,items:[{label:"Okay",onAccept:t.handleConfirmUpdate}]});A.log({level:"error",from:"AppUpdateListener",type:"electronUpdateFailed",data:{previousUpdateReady:n,nextUpdateReady:o}})}var a=h.getDesktopVersion(),i=y.parseVersion(r.version);if(y.isEqualVersion(a,[0,1,9])||y.isEqualVersion(a,[0,1,10]))S.default.setState({appUpdate:S.default.state.appUpdate,electronUpdate:{state:"ready",type:y.UpdateType.Breaking,version:void 0}}),t.displayBreakingUpdateDialog(),setTimeout(t.handleConfirmUpdate,3e4);else{var l=y.getUpdateType({currentVersion:a,nextVersion:i});S.default.setState({appUpdate:S.default.state.appUpdate,electronUpdate:{state:"ready",type:l,version:i}}),d.removeBanner({bannerStore:w.default,id:"ElectronUpdateWarning"}),l===y.UpdateType.Breaking?t.displayBreakingUpdateDialog():l===y.UpdateType.Major&&t.displayMajorUpdateBanner()}},t.handleAppUpdateChecking=function(){S.default.state.appUpdate&&"ready"===S.default.state.appUpdate.state||S.default.setState({electronUpdate:S.default.state.electronUpdate,appUpdate:{state:"checking"}})},t.handleElectronAppUpdateError=function(e,r){t.handleAppUpdateError(r)},t.handleAppUpdateError=function(e){S.default.state.appUpdate&&"ready"===S.default.state.appUpdate.state||S.default.setState({electronUpdate:S.default.state.electronUpdate,appUpdate:{state:"error",error:e}})},t.handleAppUpdateNotAvailable=function(){S.default.state.appUpdate&&"ready"===S.default.state.appUpdate.state||S.default.setState({electronUpdate:S.default.state.electronUpdate,appUpdate:{state:"no-update",timestamp:Date.now()}})},t.handleElectronAppUpdateAvailable=function(e,r){t.handleAppUpdateAvailable(r)},t.handleAppUpdateAvailable=function(e){if(!S.default.state.appUpdate||"ready"!==S.default.state.appUpdate.state){var t=y.parseVersion(e.version),r=_.getLastKnownAppJsVersion(),n=y.getUpdateType({currentVersion:r,nextVersion:t});S.default.setState({electronUpdate:S.default.state.electronUpdate,appUpdate:{state:"downloading",type:n,version:t,timestamp:Date.now(),progress:0}})}},t.handleElectronAppUpdateProgress=function(e,r){t.handleAppUpdateProgress(r)},t.handleAppUpdateProgress=function(e){var t=S.default.state;t.appUpdate&&"downloading"===t.appUpdate.state&&S.default.setState({electronUpdate:t.electronUpdate,appUpdate:a({},t.appUpdate,{progress:e.downloaded/e.total})})},t.handleElectronAppUpdateReady=function(e,r){t.handleAppUpdateReady(r)},t.handleAppUpdateReady=function(e){var r=y.parseVersion(e.version),n=_.getLastKnownAppJsVersion(),o=y.getUpdateType({currentVersion:n,nextVersion:r});if(!_.alreadyOnLatestAppJs(r)){var a={state:"ready",type:o,version:r};S.default.setState({electronUpdate:S.default.state.electronUpdate,appUpdate:a})}t.displayUpdateBanner(o,r)},t.handleAppUpdateReload=function(e){d.clearBanners({bannerStore:w.default}),_.installAppJsUpdate({url:window.location.href,version:e,broadcast:!1})},t.handleConfirmUpdate=function(){if(c.trackConfirmAppUpdate(),f.navigateToExternalURL({url:b.whatsNew}),m.default.isElectron&&S.default.state.electronUpdate&&"ready"===S.default.state.electronUpdate.state){var e=h.getDesktopVersion();m.default.isMac&&(y.isEqualVersion(e,[0,2,2])||y.isEqualVersion(e,[0,2,1])||y.isEqualVersion(e,[0,2,0]))?p.showDialog({showCancel:!1,keepFocus:!1,message:"Please quit and restart the app to install the update.",items:[{label:"Okay",color:"blue",onAccept:function(){}}]}):(I.default.set(D,y.formatVersion(e)),h.installElectronUpdate())}else S.default.state.appUpdate&&"ready"===S.default.state.appUpdate.state?(_.installAppJsUpdate({url:window.location.href,version:S.default.state.appUpdate.version,broadcast:!0}),p.dismissDialog(),d.clearBanners({bannerStore:w.default})):(_.setLastKnownAppJsVersion(y.parseVersion(C.default.version)),p.dismissDialog(),d.clearBanners({bannerStore:w.default}))},t.pollForAppJsUpdates=function(){return i(t,void 0,void 0,function(){var e,t,r,n,o;return l(this,function(a){switch(a.label){case 0:return e="local"===C.default.env?1e4:6e4,[4,new Promise(function(e){return setTimeout(e,5e3)})];case 1:a.sent(),a.label=2;case 2:if(!this.componentIsMounted)return[3,8];a.label=3;case 3:return a.trys.push([3,5,,6]),t=_.getLastKnownAppJsVersion(),[4,u.getAssetsJson({})];case 4:return"success"===(r=a.sent()).type&&(n=r.data,(o=y.parseVersion(n.version))&&(y.isEqualVersion(o,t)||this.handleAppUpdateReady(n))),[3,6];case 5:return a.sent(),[3,6];case 6:return[4,new Promise(function(t){return setTimeout(t,e)})];case 7:return a.sent(),[3,2];case 8:return[2]}})})},t}return o(t,e),t.prototype.didMount=function(){if(m.default.isElectron?(h.electronUpdateReady.addListener(this.handleElectronUpdateReady),h.electronUpdateError.addListener(this.handleElectronUpdateError),h.electronUpdateChecking.addListener(this.handleElectronUpdateChecking),h.electronUpdateAvailable.addListener(this.handleElectronUpdateAvailable),h.electronUpdateProgress.addListener(this.handleElectronUpdateProgress),h.electronUpdateNotAvailable.addListener(this.handleElectronUpdateNotAvailable),h.appUpdateReady.addListener(this.handleElectronAppUpdateReady),h.appUpdateError.addListener(this.handleElectronAppUpdateError),h.appUpdateChecking.addListener(this.handleAppUpdateChecking),h.appUpdateAvailable.addListener(this.handleElectronAppUpdateAvailable),h.appUpdateProgress.addListener(this.handleElectronAppUpdateProgress),h.appUpdateNotAvailable.addListener(this.handleAppUpdateNotAvailable),h.appUpdateReload.addListener(this.handleAppUpdateReload)):m.default.isReactNative?(k.onAppUpdateReady(this.handleAppUpdateReady),k.onAppUpdateError(this.handleAppUpdateError),k.onAppUpdateChecking(this.handleAppUpdateChecking),k.onAppUpdateAvailable(this.handleAppUpdateAvailable),k.onAppUpdateProgress(this.handleAppUpdateProgress),k.onAppUpdateNotAvailable(this.handleAppUpdateNotAvailable)):C.default.isAdminMode||C.default.isLocalhost&&!C.default.offline||this.pollForAppJsUpdates(),this.displayBannerIfSilentUpdate(),"production"===C.default.env){var e=h.getDesktopVersion();m.default.isElectron&&e&&(y.isLessThanVersion(e,[0,3,0])?this.displayElectronUpdaterBrokenWarning():y.isEqualVersion(e,[0,3,0])&&this.displayElectronUpdateWarning());var t=x.getMobileVersion(),r=x.getCordovaOSVersion();m.default.isCordova&&(r&&(m.default.isAndroid?y.isLessThanVersion(r,[5,0,0])&&this.displayCordovaCantUpdateWarning():m.default.isIOS&&y.isLessThanVersion(r,[11,0,0])&&this.displayCordovaCantUpdateWarning()),t&&(y.isEqualVersion(t,[0,3,8])||y.isLessThanVersion(t,[0,3,8]))&&this.displayCordovaUpdateWarning())}},t.prototype.willUnmount=function(){m.default.isElectron&&(h.electronUpdateReady.removeListener(this.handleElectronUpdateReady),h.electronUpdateError.removeListener(this.handleElectronUpdateError),h.electronUpdateChecking.removeListener(this.handleElectronUpdateChecking),h.electronUpdateAvailable.removeListener(this.handleElectronUpdateAvailable),h.electronUpdateProgress.removeListener(this.handleElectronUpdateProgress),h.electronUpdateNotAvailable.removeListener(this.handleElectronUpdateNotAvailable),h.appUpdateReady.removeListener(this.handleElectronAppUpdateReady),h.appUpdateError.removeListener(this.handleElectronAppUpdateError),h.appUpdateChecking.removeListener(this.handleAppUpdateChecking),h.appUpdateAvailable.removeListener(this.handleElectronAppUpdateAvailable),h.appUpdateProgress.removeListener(this.handleElectronAppUpdateProgress),h.appUpdateNotAvailable.removeListener(this.handleAppUpdateNotAvailable),h.appUpdateReload.removeListener(this.handleAppUpdateReload))},t.prototype.renderUpdateTitle=function(){return s.createElement("div",{style:{display:"flex",alignItems:"center"}},s.createElement(P.default,{size:20,emoji:"✨"}),s.createElement("div",{style:{marginLeft:6}},"A new version of Notion is ready!"))},t.prototype.renderUpdateButtonContent=function(){return s.createElement("div",{style:{display:"flex",alignItems:"center"}},s.createElement("div",{style:{marginRight:6}},"Update and See What's New"),s.createElement(P.default,{size:20,emoji:"👀"}))},t.prototype.displayBreakingUpdateDialog=function(){p.showDialog({message:this.renderUpdateTitle(),showCancel:!1,keepFocus:!1,handleCancel:this.handleConfirmUpdate,items:[{label:this.renderUpdateButtonContent(),color:"blue",onAccept:this.handleConfirmUpdate}],innerStyle:{width:340}})},t.prototype.displayMajorUpdateBanner=function(){d.displayBanner({bannerStore:w.default,id:"AppUpdate",render:this.renderBanner,type:O.BannerType.Blue})},t.prototype.displayUpdateBanner=function(e,t){e===y.UpdateType.Breaking?_.alreadyOnLatestAppJs(t)?this.displayMajorUpdateBanner():this.displayBreakingUpdateDialog():e===y.UpdateType.Major?this.displayMajorUpdateBanner():t&&_.alreadyOnLatestAppJs(t)&&_.setLastKnownAppJsVersion(t)},t.prototype.displayBannerIfSilentUpdate=function(){var e=_.getLastKnownAppJsVersion(),t=_.getCurrentJSVersion();if(!y.isEqualVersion(e,t)){var r=y.getUpdateType({currentVersion:e,nextVersion:t});this.displayUpdateBanner(r,t)}},t.prototype.renderDownloadAndReinstallElectron=function(){return s.createElement("span",null,s.createElement(T.default,{disableHover:!0,href:m.default.isMac?b.guides.reinstallMac:b.guides.reinstallWindows,external:!0},"Download and reinstall")," ","your ",m.default.isMac?"Mac":"Windows"," app to work offline and get the latest features.")},t.prototype.displayElectronUpdaterBrokenWarning=function(){var e=this;d.displayBanner({bannerStore:w.default,id:"ElectronUpdaterBrokenWarning",render:function(){return e.renderDownloadAndReinstallElectron()},type:O.BannerType.Red})},t.prototype.renderDownloadingElectron=function(e){return s.createElement("span",null,s.createElement("span",{style:{marginRight:4}},"👋"),s.createElement("span",null,"We're updating your ",m.default.isMac?"Mac":"Windows"," app so you can work offline (",e,"%)"))},t.prototype.displayElectronUpdateWarning=function(){return i(this,void 0,void 0,function(){var e=this;return l(this,function(t){switch(t.label){case 0:return h.checkForUpdates(),[4,M.timeout(500)];case 1:return t.sent(),d.displayBanner({bannerStore:w.default,id:"ElectronUpdateWarning",render:function(){if(S.default.state.electronUpdate&&"error"!==S.default.state.electronUpdate.state&&"no-update"!==S.default.state.electronUpdate.state){var t="downloading"===S.default.state.electronUpdate.state?Math.round(100*S.default.state.electronUpdate.progress):0;return e.renderDownloadingElectron(t)}return e.renderDownloadAndReinstallElectron()},type:O.BannerType.Blue}),[2]}})})},t.prototype.displayCordovaCantUpdateWarning=function(){d.displayBanner({bannerStore:w.default,id:"CordovaCantUpdateWarning",render:function(){return s.createElement("span",{style:{whiteSpace:"normal",textAlign:"center"}},"Please upgrade to the latest ",m.default.isAndroid?"Android":"iOS","."," ",s.createElement(T.default,{disableHover:!0,href:m.default.isAndroid?b.guides.upgradeAndroid:b.guides.upgradeiOS,external:!0},"Learn More"))},type:O.BannerType.Red})},t.prototype.displayCordovaUpdateWarning=function(){d.displayBanner({bannerStore:w.default,id:"CordovaUpdateWarning",render:function(){return s.createElement("span",{style:{whiteSpace:"normal",textAlign:"center"}},s.createElement(T.default,{href:m.default.isAndroid?b.playStore:b.appStore,disableHover:!0},"Upgrade your ",m.default.isAndroid?"Android":"iOS"," app")," ","to work offline",s.createElement("br",null),"and get the latest features.")},type:O.BannerType.Blue})},t}(g.default);t.default=L},Yf5i:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var a=r("njgS"),i=r("+575"),l=function(e){return void 0!==e&&!isNaN(e)};t.initializeIncrementalAggregation=function(e){return"count"===e?{type:"count",count:0}:"count_values"===e?{type:"count_values",count:0}:"empty"===e?{type:"empty",empty:0}:"not_empty"===e?{type:"not_empty",filled:0}:"unique"===e?{type:"unique",values:new Set}:"percent_empty"===e?{type:"percent_empty",count:0,empty:0}:"percent_not_empty"===e?{type:"percent_not_empty",count:0,filled:0}:"sum"===e?{type:"sum",sum:0}:"average"===e?{type:"average",count:0,sum:0}:"median"===e?{type:"median",values:[]}:"min"===e?{type:"min",min:void 0}:"max"===e?{type:"max",max:void 0}:"range"===e?{type:"range",min:void 0,max:void 0}:"earliest_date"===e?{type:"earliest_date",min:void 0}:"latest_date"===e?{type:"latest_date",max:void 0}:"date_range"===e?{type:"date_range",min:void 0,max:void 0}:"checked"===e?{type:"checked",checked:0}:"unchecked"===e?{type:"unchecked",unchecked:0}:"percent_checked"===e?{type:"percent_checked",count:0,checked:0}:"percent_unchecked"===e?{type:"percent_unchecked",count:0,unchecked:0}:void 0},t.incrementIncrementalAggregation=function(e){var t,r,o,a,c,d,p=e.property,f=e.incrementalResult,h=e.schema,m=e.block,y=e.getRecordValue,g=e.userTimeZone;if("count"===f.type)f.count++;else if("count_values"===f.type&&p){var v=i.toEnumValues({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g});try{for(var b=n(v),w=b.next();!w.done;w=b.next()){var S=w.value;f.count+=S.length}}catch(e){t={error:e}}finally{try{w&&!w.done&&(r=b.return)&&r.call(b)}finally{if(t)throw t.error}}}else if("empty"===f.type&&p){i.valueIsEmpty({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g})&&f.empty++}else if("not_empty"===f.type&&p){i.valueIsEmpty({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g})||f.filled++}else if("unique"===f.type&&p){v=i.toEnumValues({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g});try{for(var _=n(v),k=_.next();!k.done;k=_.next()){S=k.value;try{for(var C=n(S),E=C.next();!E.done;E=C.next()){var P=E.value;f.values.add(P)}}catch(e){c={error:e}}finally{try{E&&!E.done&&(d=C.return)&&d.call(C)}finally{if(c)throw c.error}}}}catch(e){o={error:e}}finally{try{k&&!k.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}}else if("percent_empty"===f.type&&p){f.count++,i.valueIsEmpty({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g})&&f.empty++}else if("percent_not_empty"===f.type&&p){f.count++,i.valueIsEmpty({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g})||f.filled++}else if("sum"===f.type&&p){P=s({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g});l(P)&&(f.sum+=P)}else if("average"===f.type&&p){P=s({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g});l(P)&&(f.count++,f.sum+=P)}else if("median"===f.type&&p){P=s({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g});l(P)&&f.values.push(P)}else if("min"!==f.type&&"earliest_date"!==f.type||!p)if("max"!==f.type&&"latest_date"!==f.type||!p)if("range"!==f.type&&"date_range"!==f.type||!p){if("checked"===f.type&&p){u({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g})&&f.checked++}else if("unchecked"===f.type&&p){u({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g})||f.unchecked++}else if("percent_checked"===f.type&&p){f.count++,u({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g})&&f.checked++}else if("percent_unchecked"===f.type&&p){f.count++,u({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g})||f.unchecked++}}else{P=s({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g});l(P)&&(l(f.min)?f.min>P&&(f.min=P):f.min=P,l(f.max)?f.max<P&&(f.max=P):f.max=P)}else{P=s({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g});l(P)&&(l(f.max)?f.max<P&&(f.max=P):f.max=P)}else{var P=s({property:p,schema:h,block:m,getRecordValue:y,userTimeZone:g});if(l(P)){var x=f.min;l(x)?x>P&&(f.min=P):f.min=P}}},t.completeIncrementalAggregation=function(e){var t;return"count"===e.type?t=e.count:"count_values"===e.type?t=e.count:"empty"===e.type?t=e.empty:"not_empty"===e.type?t=e.filled:"unique"===e.type?t=e.values.size:"percent_empty"===e.type?t=e.empty/e.count:"percent_not_empty"===e.type?t=e.filled/e.count:"sum"===e.type?t=e.sum:"average"===e.type?t=e.sum/e.count:"median"===e.type?t=c(e.values):"min"===e.type||"earliest_date"===e.type?t=e.min:"max"===e.type||"latest_date"===e.type?t=e.max:("range"===e.type||"date_range"===e.type)&&l(e.max)&&l(e.min)?t=e.max-e.min:"checked"===e.type?t=e.checked:"unchecked"===e.type?t=e.unchecked:"percent_checked"===e.type?t=e.checked/e.count:"percent_unchecked"===e.type&&(t=e.unchecked/e.count),t};var s=function(e){var t=e.property,r=e.schema,n=e.block,o=e.getRecordValue,a=e.userTimeZone,s=i.toNumberValues({property:t,schema:r,block:n,getRecordValue:o,userTimeZone:a});if(l(s[0]))return s[0]},u=function(e){var t=e.property,r=e.schema,n=e.block,l=e.getRecordValue,s=e.userTimeZone,u=o(i.toEnumValues({property:t,schema:r,block:n,getRecordValue:l,userTimeZone:s}),1)[0];return u[0]&&u[0]===a.checkboxYesValue},c=function(e){if(e.sort(function(e,t){return e-t}),0===e.length)return 0;var t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2}},YoD2:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("wldR"),u=r("+fFR"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return this.renderTranslatedText()},t.prototype.renderTranslatedText=function(){var e,t,r=this.props.translations,n=u.getUserShortLanguageCodes();try{for(var o=i(n),a=o.next();!a.done;a=o.next()){var s=a.value,c=r[s];if(c)return l.createElement("div",{style:this.getTextStyle(s)},c)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},t.prototype.getTextStyle=function(e){return u.rightToLeftLanguages.includes(e)?a({direction:"rtl"},this.props.style):a({},this.props.style)},t}(s.default);t.default=c},Z0Xr:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("mF3+"),c=r("hi+p"),d=r("Ugx7"),p=r("r8oj"),f=r("7M94"),h=r("/YYm"),m=r("hbKx"),y=r("LknH"),g=r("n8tN"),v=r("IdSf"),b=r("QtqF"),w=r("Oy36"),S=r("AOw3"),_=r("Na01"),k=r("LeVO"),C=r("OxuQ"),E=r("3Pxg"),P=r("N34Z"),x=r("MBf9"),T=r("y6Dp"),O=r("wlCD"),M=r("6rsX"),I=r("nM47"),A=r("BJyN"),D=r("i05A"),L=r("MeYt"),R=r("QcDD"),B=r("57cz"),j=r("0zNc"),V=r("+UXM"),F=r("enHn"),N=r("Sb6f"),U=r("H4VD"),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showAsLoadingSpinner=!1,t.registries=[B.default],t.toggleOpen=function(e){t.stores.outlinerItemStore.setState(a({},t.stores.outlinerItemStore.state,{open:e})),t.shouldPersistToggleState()&&V.default.set(t.getLocalStoreKey(),e)},t.isCurrentPage=t.createComputedStore(function(){var e=t.props.store,r=R.default.state.currentBlockStore;return r&&e.id===r.id}),t.handleLinkClick=function(){T.trackClickOutlinerItem({type:t.props.isTopLevelItem?"top_level":"nested"}),t.props.onNavigate&&t.props.onNavigate()},t.handleMouseMove=function(e){j.default.state.isDragging||t.stores.outlinerItemStore.setState(a({},t.stores.outlinerItemStore.state,{focused:!0}))},t.handleMouseLeave=function(e){t.stores.outlinerItemStore.setState(a({},t.stores.outlinerItemStore.state,{focused:!1}))},t.handleDrop=function(e){return i(t,void 0,void 0,function(){var t,r,n,o,a,i,s,u=this;return l(this,function(l){switch(l.label){case 0:return t=e.droppedDirection,r=e.droppedStores,n=e.duplicate,o=this.props,a=o.store,i=o.type,s=o.isTopLevelItem,[4,d.confirmDrop({type:i,droppedStores:r})];case 1:return l.sent()&&x.createAndCommit(function(e){d.handleDrop({type:i,targetParentStore:u.props.parentStore,targetStore:a,isTopLevelItem:s,droppedDirection:t,droppedStores:r,duplicate:n,transaction:e})}),[2]}})})},t.handleShowMenuButtonClick=function(e){var r=t.props.store;M.select({store:r}),c.showAtPosition({stores:[t.props.store],left:e.clientX,top:e.clientY,showInput:!1,actions:A.outlinerItemActions,analyticsFrom:"sidebar_more_menu"})},t.handleToggleClick=function(){var e=!t.stores.outlinerItemStore.state.open;T.trackOutlinerItemToggle({type:t.props.isTopLevelItem?"top_level":"nested",is_toggled:e}),t.toggleOpen(e)},t.handleInsertBefore=function(e){var r=t.props,n=r.store,o=r.type;return d.handleInsert({store:n,insertStores:e.insertStores,parentStore:t.props.parentStore,before:!0,transaction:e.transaction,type:o})},t.handleInsertAfter=function(e){var r=t.props,n=r.store,o=r.type;return d.handleInsert({store:n,insertStores:e.insertStores,parentStore:t.props.parentStore,before:!1,transaction:e.transaction,type:o})},t.handleRecordIconChange=function(e){var r=t.props.store.getIconStore();r&&x.createAndCommit(function(t){P.setValue({store:r,value:e,transaction:t})})},t.handleAddPageButtonClick=function(e){if(I.validateCanCreate()){t.props.onCreatePage&&t.props.onCreatePage();var r=x.createAndCommit(function(e){return d.appendEmptyPage({store:t.props.store,transaction:e})});p.default.isMobile?U.navigateToBlock({store:r,showMoveTo:!0,saveParent:!1}):U.peekBlock({store:r,showMoveTo:!0,saveParent:!1}),t.props.store.isCollectionView()||t.toggleOpen(!0)}},t}return o(t,e),t.prototype.toggleStore=function(){return this.stores.outlinerItemStore},t.prototype.didMount=function(){if(e.prototype.didMount.call(this),this.shouldPersistToggleState()){var t=V.default.get(this.getLocalStoreKey());this.stores.outlinerItemStore.setState(a({},this.stores.outlinerItemStore.state,{open:t}))}var r=this.props.store;this.showAsLoadingSpinner="copy_indicator"===r.getType()&&F.default.isPendingTransactionForRecord("block",r.id)},t.prototype.renderPersisted=function(){var e=this.props,t=e.store,r=e.isFirstItem,n=t.canRead()&&"copy_indicator"!==t.getType(),o=this.canEdit();return s.createElement(S.default,{store:t,canDropAbove:r,canDrag:n,canSelect:n,canDropBelow:n,canDropOnto:o,canTriggerContextMenu:!0,onSelectableDrop:this.handleDrop,onInsertAfter:this.handleInsertAfter,onInsertBefore:this.handleInsertBefore,canInsertBefore:n,canInsertAfter:n,showBlockMenuInput:!1,blockMenuActions:A.outlinerItemActions,analyticsName:"outliner_item",shouldShowDropZone:!0,disableForceTouch:!p.default.isMobileBrowser},this.renderItem(),this.shouldShowChildren()&&this.renderOutliner())},t.prototype.renderOutliner=function(){var e=this.props,t=e.store,r=e.disabled;return t.isCollectionView()?s.createElement(E.default,{store:t,itemStyle:this.getSubOutlinerStyle(),isMobile:this.props.isMobile,onNavigate:this.props.onNavigate}):s.createElement(b.default,{isMobile:this.props.isMobile,type:this.props.type,isTopLevel:!1,spaceStore:this.props.spaceStore,spaceViewStore:this.props.spaceViewStore,parentStore:t.getContentStore(),itemStyle:this.getSubOutlinerStyle(),itemToggleStyle:this.props.toggleStyle,onCreatePage:this.props.onCreatePage,onNavigate:this.props.onNavigate,disabled:r})},t.prototype.renderItem=function(){var e;if((this.props.isMobile||this.stores.outlinerItemStore.state.focused)&&(e=this.renderRightButton()),"copy_indicator"===this.props.store.getType())return this.showAsLoadingSpinner?s.createElement(_.default,{style:this.getSidebarItemStyle(),childrenStyle:t.sidebarChildrenStyle,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,isMobile:this.props.isMobile},s.createElement(O.default,null)):void 0;var r=s.createElement(_.default,{style:this.getSidebarItemStyle(),childrenStyle:t.sidebarChildrenStyle,left:this.renderLeftToggleButton(),icon:this.renderIcon(),right:e,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,isMobile:this.props.isMobile},this.isAlias()&&this.renderAliasIcon(),this.renderTitle()),n=this.getURL();return n&&(r=s.createElement(v.default,{style:{width:"100%"},href:n,onClick:this.handleLinkClick},r)),r},t.prototype.renderAliasIcon=function(){var e=this.props.store;return s.createElement(k.default,{renderTooltip:function(){return e.isCollectionView()?"This is a linked database":"This is a link to the original page"},render:function(e){return s.createElement("div",a({style:{marginRight:"0.2em"}},e),t.aliasIcon)}})},t.prototype.renderLeftToggleButton=function(){return s.createElement(D.default,{isSidebar:!0,open:Boolean(this.stores.outlinerItemStore.state.open),onClick:this.handleToggleClick})},t.prototype.renderRightButton=function(){var e=this.props.store.getType()&&this.canEdit();return s.createElement("div",{className:p.default.isSafari?"":f.fadeIn,style:{display:"flex",paddingLeft:3}},this.renderMenuButton(),e&&this.renderAddPageButton())},t.prototype.renderAddPageButton=function(){var e=this,t=this.props.isMobile;return s.createElement(k.default,{renderTooltip:function(){return"Quickly add a page inside"},placement:k.default.Placement.Bottom,render:function(r){return s.createElement(L.default,a({mobileFeedback:t,style:a({},e.getButtonStyle(),{marginLeft:t?0:4},!t&&{border:"1px solid "+e.theme.outlineButtonBorder}),onClick:e.handleAddPageButtonClick},r),u.default.plus(e.getButtonIconStyle()))}})},t.prototype.renderMenuButton=function(){var e=this,t=this.props.isMobile;return s.createElement(k.default,{renderTooltip:function(){return"bookmarks"===e.props.type?"Remove, rename, and more...":"Delete, duplicate, and more..."},placement:k.default.Placement.Bottom,render:function(r){return s.createElement(L.default,a({mobileFeedback:t,style:e.getButtonStyle(),onClick:e.handleShowMenuButtonClick},r),u.default.dots(a({},e.getButtonIconStyle(),{width:t?18:14})))}})},t.prototype.renderIcon=function(){var e=this,t=this.props.store,r=t.getIcon(),n=!this.props.isMobile&&this.canEdit();return s.createElement(k.default,{renderTooltip:function(){return"Change icon"},placement:k.default.Placement.Bottom,render:function(o){return n?s.createElement(w.default,a({bucket:"secure",disabled:!1,icon:r,title:void 0,isEmptyPage:t.isEmptyPage(),size:e.props.isMobile?24:20,onChange:e.handleRecordIconChange,pageIconStyle:{fill:e.theme.mediumIconColor}},o)):s.createElement(w.default,{disabled:!0,icon:r,title:void 0,isEmptyPage:t.isEmptyPage(),size:e.props.isMobile?24:20,pageIconStyle:{fill:e.theme.mediumIconColor}})}})},t.prototype.renderTitle=function(){var e=this.props.store;return s.createElement(C.default,{store:e})},t.prototype.shouldPersistToggleState=function(){return this.props.isTopLevelItem},t.prototype.shouldShowChildren=function(){return this.stores.outlinerItemStore.state.open},t.prototype.getURL=function(){var e=this.props.store;if(e.isNavigableBlock())return h.default({store:e,fullyQualified:!1});var t=m.getNavigableAncestor(e);return t?h.default({store:t,scrollToBlockId:e.id,fullyQualified:!1}):void 0},t.prototype.getLocalStoreKey=function(){return"Outliner-"+this.props.store.id},t.prototype.isAlias=function(){var e=this.props,t=e.store,r=e.parentStore,n=e.isTopLevelItem;if(t.isCollectionView()){var o=t.getCollectionViewCollectionStore();if(o){var a=o.getValue();if(a&&a.parent_id!==t.id)return!0}}if(n)return!1;var i=t.getValue();return!!i&&i.parent_id!==r.id},t.prototype.getPaddingLeftUnit=function(){return this.props.isMobile?22:14},t.prototype.getSidebarItemStyle=function(){return a({},this.isCurrentPage.state&&a({background:this.theme.buttonHoveredBackground,color:this.theme.regularTextColor,fontWeight:N.default.fontWeight.semibold},p.default.isMobile&&{boxShadow:"\n\t\t\t\t\t\t0 1px 0 "+this.theme.buttonHoveredBackground+"\n\t\t\t\t\t"}),this.props.style)},t.prototype.getSubOutlinerStyle=function(){var e=a({},this.props.style),t=this.getSidebarItemStyle(),r="number"==typeof t.paddingLeft?t.paddingLeft:this.getInitialPaddingLeft();return e.paddingLeft=r+this.getPaddingLeftUnit(),e},t.prototype.getInitialPaddingLeft=function(){return this.props.isMobile?6:14},t.prototype.getButtonStyle=function(){var e=this.props.isMobile;return{display:"flex",alignItems:"center",justifyContent:"center",width:e?32:20,height:e?32:20,borderRadius:3}},t.prototype.getButtonIconStyle=function(){var e=this.props.isMobile;return{fill:e?this.theme.lightIconColor:this.theme.sidebarTextColor,width:e?18:12}},t.stores={outlinerItemStore:y.default},t.aliasIcon=u.default.alias({width:"1em",height:"1em",marginRight:4}),t.sidebarChildrenStyle={display:"flex",alignItems:"center"},t}(g.default);t.default=W},Z0iJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o={};!function(e){e[e.Javascript=0]="Javascript",e[e.Stylesheet=1]="Stylesheet"}(n=t.ResourceType||(t.ResourceType={}));t.default=function(e,t){if(void 0===t&&(t=n.Javascript),o[e])return o[e];var r=new Promise(function(r){var o;t===n.Javascript?((o=document.createElement("script")).async=!0,o.src=e):t===n.Stylesheet&&((o=document.createElement("link")).href=e,o.type="text/css",o.rel="stylesheet"),o.addEventListener("load",function(e){r()}),document.getElementsByTagName("head")[0].appendChild(o)});return o[e]=r,r}},Z1H8:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("D8Ld"),s=r("stZG"),u=r("TSBY"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registries=[u.default],t}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(l.default,{capture:this.props.capture,allowMenuList:this.props.allowMenuList,allowEsc:this.props.allowEsc,allowUndo:this.props.allowUndo,allowTabUntab:this.props.allowTabUntab},a.createElement(s.default,{capture:this.props.capture,render:this.props.render}))},t}(i.default);t.default=c},"Z6+j":function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.listeners=new Set}return e.prototype.addListener=function(e){this.listeners.add(e)},e.prototype.addOnceListener=function(e){var t=this;this.addListener(function r(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];e.apply(void 0,o(n)),t.removeListener(r)})},e.prototype.removeListener=function(e){this.listeners.delete(e)},e.prototype.emit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.listeners.forEach(function(t){t.apply(void 0,o(e))})},e.prototype.listenerCount=function(){return this.listeners.size},e}();t.default=a},ZKzj:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s,u=r("q1tI"),c=r("LvDl"),d=r("mF3+"),p=r("gRnv"),f=r("l4I2"),h=r("CaJT"),m=r("q2qQ"),y=r("6rsX"),g=r("unoy"),v=r("y6Dp"),b=r("r8oj"),w=r("Sb6f"),S=r("BJyN"),_=r("sFjn"),k=r("VOS9"),C=r("gbGO"),E=r("t+pW"),P=r("9hmv"),x=r("q8I6"),T=r("y4kc"),O=r("2HDO"),M=r("F9et"),I=r("oaNT"),A=r("MBf9"),D=r("ikHm"),L=r("hi+p"),R=r("wXH4"),B=r("RI9y"),j=r("ALSZ"),V=r("Ajfl"),F=r("sjR4"),N=r("DNgp"),U=r("43ch"),W=r("Iece"),z=r("wS9/"),H=r("EmAo"),q=r("cR5F"),G=r("WaiN"),Z=r("enKW"),Y=r("MeYt"),K=r("typy"),J=r("6nbh"),Q=u.Fragment;!function(e){e[e.Bottom=0]="Bottom",e[e.Floating=1]="Floating"}(s||(s={}));var X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleScrollerRef=function(e){e&&(t.scrollerDiv=e)},t.handleCloseColorPopup=function(){t.stores.store.setState(a({},t.stores.store.state,{isColorPopup:!1}))},t.handleCloseInsertPopup=function(){t.stores.store.setState(a({},t.stores.store.state,{isInsertOpen:!1}))},t.handleCloseTurnIntoPopup=function(){t.stores.store.setState(a({},t.stores.store.state,{isTurnIntoOpen:!1}))},t.handleUnindent=function(e){if(N.default.state.editing){var r=N.default.state.store,n=U.default.getClosestSelectableStore(r);n&&(A.createAndCommit(function(e){V.tab({store:r,closestSelectable:n,shiftKey:!0,transaction:e})}),t.trackItemTap("unindent"))}},t.handleIndent=function(e){if(N.default.state.editing){var r=N.default.state.store,n=U.default.getClosestSelectableStore(r);n&&(A.createAndCommit(function(e){V.tab({store:r,closestSelectable:n,shiftKey:!1,transaction:e})}),t.trackItemTap("indent"))}},t.handleMoveUp=function(e){return i(t,void 0,void 0,function(){var e,t;return l(this,function(r){return N.default.state.editing?(e=N.default.state.store,(t=U.default.getClosestSelectableStore(e))?(A.createAndCommit(function(r){V.moveUp({store:e,closestSelectable:t,transaction:r})}),this.trackItemTap("move-up"),[2]):[2]):[2]})})},t.handleMoveDown=function(e){if(N.default.state.editing){var r=N.default.state.store,n=U.default.getClosestSelectableStore(r);n&&(A.createAndCommit(function(e){V.moveDown({store:r,closestSelectable:n,transaction:e})}),t.trackItemTap("move-down"))}},t.handleUndo=function(){h.undo(),t.trackItemTap("undo")},t.handleRedo=function(){h.redo(),t.trackItemTap("redo")},t.handleDismissKeyboard=function(e){y.clear(),t.handleCloseInsertPopup(),t.trackItemTap("hide_keyboard");var r=document.activeElement;r instanceof HTMLElement&&"input"===r.tagName.toLowerCase()&&r.blur()},t.handleInsert=function(e){t.stores.store.setState(a({},t.stores.store.state,{isInsertOpen:!0})),t.trackItemTap("insert")},t.handleTakePicture=function(e){I.takePicture(),t.trackItemTap("take_picture")},t.handleMention=function(e){j.insertMention({page:!0,user:!0,date:!0}),t.trackItemTap("mention")},t.handleComment=function(e){var r=F.default.state.stores[0];r&&(y.clear(),p.openNewBlockDiscussionMenu({blockStore:r}),t.trackItemTap("discuss"))},t.handleDelete=function(e){return i(t,void 0,void 0,function(){var e,t,r,n;return l(this,function(o){return e=F.default.state.stores[0],t=N.default.state,e&&t.editing&&(r=t.store,n=g.getNextStore(r)||g.getPreviousStore(r),A.createAndCommit(function(t){m.remove({store:e,transaction:t})}),n?g.editClosestSelectable(n):y.clear(),this.trackItemTap("remove")),[2]})})},t.handleActionsScroll=function(){v.trackActionBarScroll()},t.handleActionsScrollDebounced=c.debounce(t.handleActionsScroll,500),t.handleMoreClick=function(e){y.setSelection({stores:F.default.state.stores}),L.showAtPosition({stores:F.default.state.stores,actions:S.blockActions,left:e.clientX,top:e.clientY,showInput:!1,analyticsFrom:"cordova_more_menu"})},t.listenForPositionChanges=t.createComputedStore(function(){var e=N.default.state;return e.editing?{scrollTop:W.default.state.scrollTop,editing:e.editing,store:e.store.id,selection:e.selection.endIndex}:{scrollTop:W.default.state.scrollTop,editing:e.editing}}),t.shouldShow=t.createComputedStore(function(){if(q.default.state.open)return!1;if(H.default.state.isOpen)return!1;if(!b.default.isReactNative&&!b.default.isCordova&&G.default.state.open)return!1;if(N.default.isEditingComment())return!1;if(t.stores.ignoreSelectionAreaStore.state.savedTextSelectionStoreState&&t.stores.ignoreSelectionAreaStore.state.savedTextSelectionStoreState.editing)return!0;if(!N.default.state.editing)return!1;var e=U.default.findEditableWithStore(N.default.state.store);return(!e||!e.props.disableMobileActionBar)&&b.default.isMobile}),t.shouldShowTextActions=t.createComputedStore(function(){var e=N.default.state;if(e.editing&&(r=e.selection))return r.startIndex!==r.endIndex;var r,n=t.stores.ignoreSelectionAreaStore.state.savedTextSelectionStoreState;if(n&&n.editing&&(r=n.selection))return r.startIndex!==r.endIndex;return!1}),t.shouldShowBlockActions=t.createComputedStore(function(){return!t.shouldShowTextActions.state}),t.canTriggerBlockActions=t.createComputedStore(function(){if(!t.shouldShowBlockActions.state)return!1;var e=F.default.state.stores;return e.length>0&&e[0].canEdit()&&!e[0].isNavigableBlock()}),t}return o(t,e),t.prototype.willMountOrUpdate=function(){var e=this,t=this.shouldShow.state,r=this.stores.store.state.isOpen;t?r?void 0!==this.currentlyShownTimer&&(window.clearTimeout(this.currentlyShownTimer),this.currentlyShownTimer=void 0):(this.stores.store.setState(a({},this.stores.store.state,{isOpen:!0})),this.scrollerDiv&&(this.scrollerDiv.scrollLeft=0)):r&&void 0===this.currentlyShownTimer&&(this.currentlyShownTimer=window.setTimeout(function(){e.currentlyShownTimer=void 0,e.stores.store.setState(a({},e.stores.store.state,{isOpen:!1}))},200))},t.prototype.renderComponent=function(){var e=this,t=this.stores.store.state.isOpen;return u.createElement(Q,null,u.createElement(M.default,{capture:!0,render:function(t){return u.createElement("div",a({},t,{style:{position:"relative",width:"100%",height:0,zIndex:D.mobileActionBar}}),e.renderActionBar(),e.renderInsertPopup(),e.renderTurnIntoPopup(),e.renderColorPopup())}}),!t&&b.default.isIPhoneX&&b.default.isNative&&u.createElement("div",{style:{position:"absolute",bottom:0,background:"transparent",height:z.default.paddingBottom,width:"100%",pointerEvents:"none",WebkitUserSelect:"none"}}))},t.prototype.renderActionBar=function(){var e=this,r=this.stores.store.state.isOpen;if(this.props.position===s.Bottom)return u.createElement("div",{style:{position:"absolute",bottom:0,left:0,height:t.height,width:"100%",pointerEvents:r?"auto":"none",opacity:r?1:0,transform:r?"translateY(0)":"translateY("+t.height+"px)",transition:"opacity 120ms ease-out, transform 120ms ease-out"}},this.renderActionButtons());var n=this.stores.ignoreSelectionAreaStore.state.savedTextSelectionRect||B.getSelectionRect();if(n){var o=document.body.getBoundingClientRect(),i=a({},n,{left:10,top:n.top+10-o.top});return this.listenForPositionChanges.state,u.createElement(R.default,{popupType:b.default.isReactNative||b.default.isCordova?R.default.PopupType.SlideUp:R.default.PopupType.Popup,open:r,preventBlockingAnimation:!0,placementToOrigin:R.default.Placement.Bottom,alignmentToOrigin:R.default.Alignment.Start,originRect:i,disableMouseCapture:!0,keepFocus:!0,render:function(){return u.createElement("div",{style:{height:t.height,width:"calc(80wv)",borderRadius:3,overflow:"hidden"}},e.renderActionButtons())}})}},t.prototype.renderActionButtons=function(){var e=this.shouldShowTextActions.state,r=this.shouldShowBlockActions.state;return u.createElement("div",{style:this.getActionButtonStyles()},r&&this.renderBlockActions(),e&&this.renderTextActions(),u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:a({},this.getItemStyle(),{borderLeft:this.getItemBorder(),borderRight:"none"}),onClick:this.handleDismissKeyboard},t.keyboardIcon))},t.prototype.renderBlockActions=function(){var e=this,r=this.canTriggerBlockActions.state;return u.createElement("div",{ref:this.handleScrollerRef,style:this.getActionMenuStyle(),onScroll:this.handleActionsScrollDebounced},u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:a({},this.getItemStyle(),!b.default.isSmallPhone&&{paddingLeft:12,paddingRight:12}),onClick:this.handleInsert,disabled:!r},t.plusIcon,d.default.chevronDown({width:10,marginLeft:4,fill:this.theme.lightIconColor})),u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:a({},this.getItemStyle(),{fontWeight:w.default.fontWeight.medium}),onClick:function(t){e.stores.store.setState(a({},e.stores.store.state,{isTurnIntoOpen:!0})),e.trackItemTap("turn_into")},disabled:!r},"Turn Into",d.default.chevronDown({width:10,marginLeft:4,fill:this.theme.lightIconColor})),u.createElement(M.default,{capture:!0,render:function(t){return u.createElement(Y.default,a({mobileFeedback:!0,disabledFeedback:!0},t,{style:e.getItemStyle(),onClick:e.handleMention,disabled:!r}),u.createElement("span",{style:{fontSize:19,lineHeight:1,fontWeight:w.default.fontWeight.medium,marginBottom:b.default.isAndroid?4:0}},"@"))}}),u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:this.getItemStyle(),onClick:this.handleComment,disabled:!r},t.discussionIcon),u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:this.getItemStyle(),onClick:this.handleTakePicture,disabled:!r},t.imageIcon),u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:this.getItemStyle(),onClick:this.handleDelete,disabled:!r},t.trashIcon),this.renderBlockMovementActions(),this.renderBlockUndoActions(),u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:a({},this.getItemStyle(),{fontWeight:w.default.fontWeight.medium}),onClick:function(t){e.stores.store.setState(a({},e.stores.store.state,{isColorPopup:!0})),e.trackItemTap("color")},disabled:!r},"Color",d.default.chevronDown({width:10,marginLeft:4,fill:this.theme.lightIconColor})),u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:a({},this.getItemStyle(),{fontWeight:w.default.fontWeight.medium}),onClick:this.handleMoreClick,disabled:!r},"More",d.default.chevronDown({width:10,marginLeft:4,fill:this.theme.lightIconColor})))},t.prototype.renderBlockMovementActions=function(){var e=this.canTriggerBlockActions.state,r=F.default.state.stores[0];return u.createElement("div",{style:a({},this.getItemStyle(),{paddingLeft:6,paddingRight:6})},u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:t.minorItemStyle,disabled:!e||!f.canUnindent(r),onClick:this.handleUnindent},t.unindentIcon),u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:t.minorItemStyle,disabled:!e||!f.canIndent(r),onClick:this.handleIndent},t.indentIcon),u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:t.minorItemStyle,disabled:!e,onClick:this.handleMoveUp},t.moveUpIcon),u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:t.minorItemStyle,disabled:!e,onClick:this.handleMoveDown},t.moveDownIcon))},t.prototype.renderBlockUndoActions=function(){return u.createElement("div",{style:a({},this.getItemStyle(),{paddingLeft:6,paddingRight:6})},u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:t.minorItemStyle,disabled:!h.canUndo(),onClick:this.handleUndo},t.undoIcon),u.createElement(Y.default,{mobileFeedback:!0,disabledFeedback:!0,style:t.minorItemStyle,disabled:!h.canRedo(),onClick:this.handleRedo},t.redoIcon))},t.prototype.renderTextActions=function(){var e=this;return u.createElement("div",{style:this.getActionMenuStyle(),onScroll:this.handleActionsScrollDebounced},u.createElement(T.default,{style:this.getItemStyle(),blockStore:F.default.state.stores[0]}),u.createElement(P.default,{type:"b",tooltipLabel:"Bold",style:this.getItemStyle(),onClick:function(){return e.trackItemTap("bold")}},u.createElement("span",{style:{fontWeight:w.default.fontWeight.semibold}},"B")),u.createElement(P.default,{type:"i",tooltipLabel:"Italicize",style:this.getItemStyle(),onClick:function(){return e.trackItemTap("italic")}},u.createElement("span",{style:{fontStyle:"italic",fontWeight:w.default.fontWeight.semibold}},"i")),u.createElement(P.default,{type:"s",tooltipLabel:"Strike-through",style:this.getItemStyle(),onClick:function(){return e.trackItemTap("strike_through")}},u.createElement("span",{style:{textDecoration:"line-through"}},"S")),u.createElement(P.default,{type:"c",tooltipLabel:"Mark as Code/Number",style:this.getItemStyle(),onClick:function(){return e.trackItemTap("code")}},u.createElement("span",{style:{fontFamily:w.default.fontFamily.githubMono}},"Code")),u.createElement(x.default,{style:this.getItemStyle()},u.createElement("span",null,"Link")),u.createElement(K.default,{style:this.getItemStyle(),ignoreSelectionAreaStore:this.stores.ignoreSelectionAreaStore}))},t.prototype.renderInsertPopup=function(){var e=this;return u.createElement(O.default,{capture:this.stores.store.state.isInsertOpen,ignoreBlockSelection:!1,focusOffscreenInput:!1,restoreSelection:!1,render:function(t){return u.createElement(R.default,{popupType:b.default.isMobile?R.default.PopupType.SlideUp:R.default.PopupType.Popup,open:e.stores.store.state.isInsertOpen,keepFocus:!0,onDismiss:function(){t(),e.handleCloseInsertPopup()},render:function(){return u.createElement(C.default,{menuType:C.default.MenuType.Modal,title:"Insert Block",right:"Cancel",onClickRight:function(){t(),e.handleCloseInsertPopup()}},u.createElement(k.default,{sections:S.insertActions,context:{blocks:F.default.state.stores},onAccept:e.handleCloseInsertPopup}))}})}})},t.prototype.renderTurnIntoPopup=function(){var e=this;return u.createElement(O.default,{capture:this.stores.store.state.isTurnIntoOpen,ignoreBlockSelection:!1,focusOffscreenInput:!1,restoreSelection:!0,render:function(){return u.createElement(R.default,{popupType:b.default.isMobile?R.default.PopupType.SlideUp:R.default.PopupType.Popup,open:e.stores.store.state.isTurnIntoOpen,keepFocus:!0,onDismiss:e.handleCloseTurnIntoPopup,render:function(){return u.createElement(C.default,{menuType:C.default.MenuType.Modal,title:"Turn Into",right:"Cancel",onClickRight:e.handleCloseTurnIntoPopup},u.createElement(k.default,{sections:[a({},S.turnIntoActions,{title:""})],context:{blocks:F.default.state.stores},onAccept:e.handleCloseTurnIntoPopup}))}})}})},t.prototype.renderColorPopup=function(){var e=this;return u.createElement(O.default,{capture:this.stores.store.state.isColorPopup,ignoreBlockSelection:!1,focusOffscreenInput:!1,restoreSelection:!0,render:function(){return u.createElement(R.default,{popupType:b.default.isMobile?R.default.PopupType.SlideUp:R.default.PopupType.Popup,open:e.stores.store.state.isColorPopup,keepFocus:!0,onDismiss:e.handleCloseColorPopup,render:function(){return u.createElement(C.default,{menuType:C.default.MenuType.Modal,title:"Block Color",right:"Cancel",onClickRight:e.handleCloseColorPopup},u.createElement(k.default,{sections:[S.toggleLastUsedHighlight,S.textColorActions,S.backgroundColorActions],context:{blocks:F.default.state.stores},onAccept:e.handleCloseColorPopup}))}})}})},t.prototype.getItemBorder=function(){return"1px solid "+this.theme.regularDividerColor},t.prototype.getActionButtonStyles=function(){return{height:"100%",width:"100%",fontSize:15,display:"flex",boxShadow:Z.getShadow({elevation:3,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity}),backgroundColor:this.theme.popoverBackground,paddingLeft:b.default.isReactNative||b.default.isCordova?z.default.paddingLeft:0,paddingRight:b.default.isReactNative||b.default.isCordova?z.default.paddingRight:0}},t.prototype.getActionMenuStyle=function(){return{flexGrow:1,flexShrink:1,marginRight:-1,display:"flex",overflowX:"auto",overflowY:"hidden",WebkitOverflowScrolling:"touch"}},t.prototype.getItemStyle=function(){return{display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:b.default.isSmallPhone?8:10,paddingRight:b.default.isSmallPhone?8:10,borderRight:this.getItemBorder(),whiteSpace:"nowrap",height:t.height,flexShrink:0,flexGrow:0,flexBasis:"auto",color:this.theme.regularTextColor,minWidth:b.default.isSmallPhone?42:44}},t.prototype.trackItemTap=function(e){v.trackTapMobileActionBarItem({itemName:e})},t.Position=s,t.stores={store:_.default,ignoreSelectionAreaStore:J.default},t.unindentIcon=d.default.indentDown({width:18,height:18,transform:"rotate(90deg)",position:"relative",left:1}),t.indentIcon=d.default.indentDown({width:18,height:18,transform:"rotate(-90deg)",position:"relative",left:-1}),t.moveUpIcon=d.default.moveUp({width:18,height:18,position:"relative",left:2}),t.moveDownIcon=d.default.moveUp({width:18,height:18,transform:"rotate(180deg)",position:"relative",left:2}),t.undoIcon=d.default.undo({width:19,height:19}),t.redoIcon=d.default.redo({width:19,height:19}),t.trashIcon=d.default.trash({width:18,height:18}),t.discussionIcon=d.default.speechBubbleThin({width:18,height:18}),t.plusIcon=d.default.thinPlus({width:14,height:14}),t.keyboardIcon=d.default.keyboard({width:18,height:18}),t.imageIcon=d.default.image({width:18,height:18}),t.height=42,t.minorItemStyle={width:34,justifyContent:"center"},t}(E.default);t.default=X},ZP4g:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("t+pW"),l=r("Na01"),s=r("J9+n"),u=r("iqZH"),c=r("mF3+"),d=r("QcDD"),p=r("MeYt"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){t.props.onClick&&t.props.onClick(e),u.openSettings()},t}return o(t,e),t.prototype.renderComponent=function(){var e,t=d.default.state.currentSpaceStore;return e=t&&t.canRead()?a.createElement("div",null,"Settings & Members"):a.createElement("div",null,"Settings"),a.createElement(p.default,{onClick:this.handleClick,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,onMouseDown:this.props.onMouseDown},a.createElement(l.default,{left:c.default.sidebarSettings({fill:this.theme.mediumIconColor,width:14}),isMobile:this.props.isMobile},e),t&&a.createElement(s.default,{spaceStore:t}))},t}(i.default);t.default=f},ZQ9l:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("YIRN"),u=r("gbGO"),c=r("mF3+"),d=r("wS9/"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{style:this.getStyle(),onClick:this.props.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseDown:this.props.onMouseDown,onContextMenu:this.props.onContextMenu,onTouchStart:this.props.onTouchStart,onTouchMove:this.props.onTouchMove,onTouchEnd:this.props.onTouchEnd,onTouchCancel:this.props.onTouchCancel},this.renderDragHandle(),this.renderIcon(),i.createElement("div",{style:a({marginLeft:this.context.isMobile?this.props.icon?10:16:this.props.icon?8:14,marginRight:this.context.isMobile?16:14,minWidth:0,flex:"auto"},this.props.dontShrinkTitle&&{flex:"none"},this.props.disabled&&{opacity:.3},!this.context.isMobile&&this.props.desktopTitleStyle)},this.renderTitle(),this.renderCaption()),void 0!==this.props.checkState?this.renderCheck():this.renderRight(),this.renderExtension())},t.prototype.renderDragHandle=function(){if(this.props.showDragHandle)return i.createElement(s.default,{iconSize:this.context.isMobile?14:12,style:{marginLeft:this.context.isMobile?12:10,marginRight:this.context.isMobile?-10:-8},disabled:this.props.dragHandleDisabled})},t.prototype.renderIcon=function(){if(this.props.icon)return i.createElement("div",{style:a({},this.context.isMobile?t.mobileIconStyle:t.desktopIconStyle,this.props.caption&&{alignSelf:"flex-start",marginTop:1},this.props.disabled&&{opacity:.3},this.props.desktopIconStyle)},this.props.icon)},t.prototype.renderTitle=function(){if(this.props.title)return i.createElement("div",{style:this.props.isTokenTitle?t.nonTextTitleStyle:t.textOverflowStyle},this.props.title)},t.prototype.renderCaption=function(){if(this.props.caption)return i.createElement("div",{style:a({},this.context.isMobile?this.getMobileCaptionStyle():this.getDesktopCaptionStyle(),{whiteSpace:this.props.shouldWrapCaption?"normal":"nowrap"})},this.props.caption)},t.prototype.renderCheck=function(){return i.createElement("div",{style:a({},this.context.isMobile?t.mobileRightStyle:t.desktopRightStyle,{width:this.context.isMobile?16:14,flexShrink:0},this.props.caption&&{alignSelf:"flex-start",marginTop:3})},this.props.checkState&&c.default.check())},t.prototype.renderRight=function(){var e=this.props.right;if(e)return i.createElement("div",{style:a({},this.context.isMobile?t.mobileRightStyle:t.desktopRightStyle,this.props.dontShrinkRight&&{flex:"none"})},e)},t.prototype.renderExtension=function(){if(this.props.showExtensionArrow)return i.createElement("div",{style:this.context.isMobile?this.getMobileTriangleIconStyle():this.getDesktopTriangleIconStyle()},c.default.triangle({fill:this.theme.mediumIconColor}))},t.prototype.getStyle=function(){var e=this.props,t=e.caption,r=e.title&&t,n=this.context.isMobile&&this.context.menuType!==u.MenuType.Popup,o=this.context.menuType===u.MenuType.ActionSheet;return a({display:"flex",alignItems:"center",lineHeight:"120%",width:"100%",userSelect:"none",minHeight:n?r?65:45:r?45:28,fontSize:n?16:14},t&&{paddingTop:n?12:4,paddingBottom:n?12:4},n&&{background:this.theme.popoverBackground,boxShadow:"0 1px 0 "+this.theme.regularDividerColor,marginBottom:1},o&&{background:this.theme.contentBackground,boxShadow:"inset 0 -1px 0 "+this.theme.regularDividerColor,marginBottom:0},{paddingLeft:this.context.menuType===u.MenuType.Popup||this.props.disableIPhoneXSafeArea?void 0:d.default.paddingLeft,paddingRight:this.context.menuType===u.MenuType.Popup||this.props.disableIPhoneXSafeArea?void 0:d.default.paddingRight},this.props.style)},t.prototype.getDesktopCaptionStyle=function(){return a({},t.textOverflowStyle,{color:this.theme.mediumTextColor,marginTop:2,fontSize:12})},t.prototype.getMobileCaptionStyle=function(){return a({},t.textOverflowStyle,{color:this.theme.mediumTextColor,marginTop:2,fontSize:14})},t.prototype.getMobileTriangleIconStyle=function(){return{width:14,transform:"rotate(90deg)",fill:this.theme.lightIconColor,marginRight:16}},t.prototype.getDesktopTriangleIconStyle=function(){return{width:12,transform:"rotate(90deg)",fill:this.theme.lightIconColor,marginRight:14}},t.contextTypes=a({},u.menuContextTypes),t.textOverflowStyle={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.nonTextTitleStyle={display:"flex"},t.desktopIconStyle={display:"flex",alignItems:"center",justifyContent:"center",marginLeft:14},t.mobileIconStyle={display:"flex",alignItems:"center",justifyContent:"center",marginLeft:16},t.mobileRightStyle={marginLeft:"auto",marginRight:16,minWidth:0,flexShrink:0},t.desktopRightStyle={marginLeft:"auto",marginRight:14,minWidth:0,flexShrink:0},t}(l.default);t.default=p},ZYTv:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("LeVO"),u=r("bsBB"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderUserContent=function(e){return i.createElement(u.default,a({userValue:t.props.userValue,format:t.props.format,style:t.props.style,presence:t.props.presence,disableAvatarPlaceholder:t.props.disableAvatarPlaceholder,avatarSize:t.props.avatarSize,avatarShouldShowShadow:t.props.avatarShouldShowShadow,userNamePlaceholder:t.props.userNamePlaceholder,inline:t.props.inline},e))},t}return o(t,e),t.prototype.renderComponent=function(){if(this.props.disableAvatarTooltip)return this.renderUserContent({});var e=i.createElement("div",null,i.createElement(u.default,{userValue:this.props.userValue,format:u.UserFormat.FullNameOnly,avatarSize:this.props.avatarSize}),i.createElement(u.default,{userValue:this.props.userValue,format:u.UserFormat.EmailOnly,avatarSize:this.props.avatarSize}));return i.createElement(s.default,{renderTooltip:function(){return e},placement:s.default.Placement.Bottom,render:this.renderUserContent})},t.Format=u.UserFormat,t.Presence=u.PresenceFormat,t}(l.default);t.default=c},ZbKq:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},Zf8Y:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("t+pW"),u=r("zEGb"),c=r("9OwC"),d=r("SR/M"),p=r("i3uR"),f=r("0Qt7"),h=r("2Y+N"),m=r("ZQ9l"),y=r("mF3+"),g=r("gbGO"),v=r("r8oj"),b=r("MeYt"),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.entry.name;return l.createElement(d.default,{focused:this.props.focused,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,icon:l.createElement("div",{style:a({},u.default.defaultWrapStyle,this.context.isMobile&&{marginLeft:14})},this.renderPropertyIcon()),title:e,right:this.renderDocumentationButtonPopup(),style:a({},!this.context.isMobile&&{paddingLeft:8,paddingRight:8}),desktopIconStyle:{marginLeft:0}})},t.prototype.renderDocumentationButtonPopup=function(){var e=this;if(this.context.isMobile)return l.createElement(p.default,{popupType:v.default.isMobile?p.default.PopupType.SlideUp:p.default.PopupType.Popup,renderOrigin:function(t){return l.createElement(b.default,a({mobileFeedback:!0,style:{width:16,height:16}},t),y.default.typesUnknownType({fill:e.theme.mediumIconColor}))},render:function(t){var r;return r=v.default.isMobile?{menuType:g.default.MenuType.Modal,title:"Documentation",right:"Done",onClickRight:t.close}:{menuType:g.default.MenuType.Popup},l.createElement(g.default,a({},r),l.createElement(h.default,null,l.createElement(m.default,{title:l.createElement(f.default,{entry:e.props.entry}),style:{paddingTop:10,paddingBottom:16}})))}})},t.prototype.renderPropertyIcon=function(){var e=this.props.entry;if(e.category===c.Category.property||e.category===c.Category.constant){var t=e.resultType;return l.createElement(u.default,{type:t,size:14,theme:this.theme})}if(e.category===c.Category.function||e.category===c.Category.operator){t=i(e.signatures,1)[0].resultType;return l.createElement(u.default,{type:t,size:14,theme:this.theme})}},t.contextTypes=a({},g.menuContextTypes),t}(s.default);t.default=w},ZiMm:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{searchQuery:"",searchLimit:t.limitIncrement,searchPopupOpen:!1}},t.limitIncrement=20,t.incrementScrollOffset=200,t}(r("LEzx").default);t.default=a},"Zn/s":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl");t.default=function(e,t){var r=0;return n.values(n.groupBy(e,function(e){var n=Math.floor(r/t);return r++,n}))}},ZrIN:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("p26Z"),s=r("IwFn"),u=r("t+pW"),c=r("pqiZ"),d=r("rQb/"),p=r("MYfK"),f=r("Ng05"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderProperty=function(e,r){var n=e.title,o=e.subtitle,a=e.value;return i.createElement("div",{key:r},i.createElement(c.default,{size:36}),i.createElement(p.default,null,n),i.createElement(s.default,null,o),i.createElement("div",{style:{marginTop:8,padding:6,background:t.theme.sidebarBackground,borderRadius:3}},a))},t.handleCloseClick=function(){t.stores.store.setState(a({},t.stores.store.state,{open:!1}))},t}return o(t,e),t.prototype.renderComponent=function(){return this.stores.store.state.open?i.createElement("div",{style:{flexGrow:1}},this.props.origin,i.createElement("div",{style:{position:"relative",boxShadow:"inset 0 0 0 1px "+this.theme.regularDividerColor,padding:12,borderRadius:3,overflow:"hidden"}},i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement(d.default,{style:{flex:1,marginRight:16,marginBottom:0}},this.props.title),i.createElement(f.default,{onClick:this.handleCloseClick},"Close")),this.props.properties.map(this.renderProperty))):this.props.origin},t.stores={store:l.default},t.headStyle={display:"flex",alignItems:"center"},t.titleStyle={flex:1,fontSize:14,userSelect:"none",WebKitUserSelect:"none",cursor:"default"},t}(u.default);t.default=h},a2fa:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("Z0iJ");t.openTypeform=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,a.default("https://embed.typeform.com/embed.js")];case 1:return t.sent(),window.typeformEmbed.makePopup(e,{hideHeaders:!0,hideFooter:!0}).open(),[2]}})})}},a3Zf:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("bkwR");t.createUserIfDoesNotExist=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){switch(n.label){case 0:return(t=e.user).userId?[3,2]:[4,a.createEmailUser({email:t.email,givenName:t.givenName,familyName:t.familyName,profilePhoto:t.profilePhoto})];case 1:if("failed"===(r=n.sent()).type)throw r.error;return[2,r.data.userId];case 2:return[2,t.userId]}})})}},a5M7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var r in e){var n=e[r];t.push([r,n])}return t}},aBKD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r("q1tI"),s=r("wldR"),u=r("zmp8"),c=r("5Nka");!function(e){e[e.Safari=0]="Safari",e[e.Mac=1]="Mac",e[e.None=2]="None"}(i=t.Format||(t.Format={}));var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return l.createElement("div",{style:this.getStyle()},this.renderTop(),l.createElement("div",{style:t.childrenWrapStyle},this.props.children))},t.prototype.renderTop=function(){return this.props.format===i.Mac?l.createElement("img",{src:c.default.images.chromeMacTopPng,style:{display:"block",top:"1%",left:"1.5%",position:"absolute",width:"8%",maxWidth:42}}):l.createElement("div",{style:{width:"100%",height:0,paddingBottom:"3.97%"}},l.createElement("img",{src:c.default.images.chromeSafariTopPng,style:t.chromeTopStyle}))},t.prototype.getStyle=function(){return a({position:"relative",width:"100%",height:0,paddingBottom:100*(this.props.aspectRatio||.75)+"%",borderRadius:t.borderRadius,overflow:"hidden",background:u.default.white,boxShadow:t.boxShadow,lineHeight:0},this.props.style)},t.Format=i,t.borderRadius=4,t.boxShadow="0 10px 20px "+u.default.blackWithAlpha(.15)+", 0 -1px 0 #F5F5F5",t.chromeTopStyle={display:"block",width:"100%"},t.childrenWrapStyle={borderBottomLeftRadius:t.borderRadius,borderBottomRightRadius:t.borderRadius},t}(s.default);t.default=d},aF0I:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reactNativeSendApi={},window.__reactNativeSendApi=t.reactNativeSendApi},aZ00:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("5GpP"),s=r("dP7y"),u=r("LvDl"),c=r("udrG"),d=r("p4ec"),p=r("Qt5S"),f=r("cBa6"),h=r("r8oj"),m=r("A9TN"),y=r("/YYm"),g=r("wpmu"),v=r("bPtJ"),b=r("sjR4"),w=r("qpkC"),S=r("N34Z"),_=r("q2qQ"),k=r("6rsX"),C=r("Ajfl"),E=r("MBf9"),P=r("nFzZ"),x=r("Wfos"),T=r("D2XV"),O=r("GJWe"),M=r("VBxf"),I=r("nM47"),A=r("dsG5"),D=r("zmp8"),L=r("y6Dp"),R=r("QcDD"),B=r("sjR4"),j=r("DNgp"),V=r("w5u6"),F=r("OYeE"),N=r("iICV"),U=r("HTHG"),W=r("unoy"),z=r("vJXr"),H="text/_notion-blocks-v2-"+m.default.env,q="text/_notion-text-"+m.default.env;function G(e,t){e.clipboardData&&e.clipboardData.setData(H,JSON.stringify(t))}function Z(e){return h.default.isWindows?e.split("\r\n").reduce(function(e,t){return a(e,t.split("\n"))},[]).join("\r\n"):e}var Y=function(e){if(e.clipboardData){var t=B.default.state.stores,r=j.default.isEditingComment(),n=j.default.state;if(n.editing&&n.selection.startIndex!==n.selection.endIndex){var o=n.store,a=n.selection,i=o.recordCacheStore,l=o.getValue();e.preventDefault(),l&&function(e,t){e.clipboardData&&e.clipboardData.setData(q,JSON.stringify(t))}(e,{editing:l,selection:a});var s=f.getTextValueInRange(l,a.startIndex,a.endIndex),c=O.renderTextAsString({textValue:s,getRecordValue:function(e,t){return i.getRecordValue(e,t)},userTimeZone:T.currentTimeZone});e.clipboardData.setData("text/plain",Z(c));var p=O.renderTextAsHTML({textValue:s,getRecordValue:function(e,t){return i.getRecordValue(e,t)},userTimeZone:T.currentTimeZone,isAndroid:!1,isSafariOrIOS:!1,disabled:!0,disableStyleAnnotations:!1,baseUrl:m.default.baseURL,showEmojiInline:!0,theme:D.getDefaultTheme()});e.clipboardData.setData("text/html",Z(p))}else if(t.length>0&&!r){e.preventDefault();var h=t[0],y=h.recordCacheStore,g=u.uniq(P.compact(t.map(function(e){return e.id})));if(y.isTemplatePreview)G(e,g.map(function(e){return{blockId:e,snapshotData:void 0,blockSubtree:w.loadLocalSubtree({blockId:e,recordCacheStore:y,allowCopyCollections:!0,requireFullSubtree:!1})}}));else if(y.snapshotData){L.trackCopyFromHistory(y.snapshotData),G(e,g.map(function(e){return{blockId:e,snapshotData:y.snapshotData,blockSubtree:w.loadLocalSubtree({blockId:e,recordCacheStore:y,allowCopyCollections:!0,requireFullSubtree:!0})}}))}else{G(e,g.map(function(e){return{blockId:e,snapshotData:void 0,blockSubtree:w.loadLocalSubtree({blockId:e,recordCacheStore:y,allowCopyCollections:!1,requireFullSubtree:!0})}}))}var v=P.compact(t.map(function(e){return e.getValue()})),b=h.getRoot().id;c=d.renderBlocksToMarkdown({blocks:v,rootBlockId:b,getRecordValue:function(e,t){return y.getRecordValue(e,t)},relativeSubpagePaths:!1,baseUrl:m.default.baseURL,secureFileS3Url:m.default.secureFileS3.url,userTimeZone:T.currentTimeZone,exportedFilePaths:!1});e.clipboardData.setData("text/plain",Z(c));var S=d.markdownToHtml(c);e.clipboardData.setData("text/html",Z(S))}}};t.cut=function(e){if(!h.default.isMobile){var r=e.event,n=e.transaction,o=B.default.state.stores,a=j.default.isEditingComment(),i=U.isEditingCurrentPage(),l=j.default.state,s=B.default.state.phase;if(t.copy({event:r}),l.editing&&l.selection.startIndex!==l.selection.endIndex){var u=l.store,c=l.selection;C.deleteSelection({store:u,selection:c,transaction:n})}else(s===b.SelectionPhase.Selected||l.editing)&&o.length>0&&!a&&!i&&_.removeBlocks({blocks:o,transaction:n});N.default.setKeyboardMode(!0)}};var K,J=!1;function Q(e,t){var r=j.default.state;if(r.editing){var n=r.store.getValue();if(r.selection.startIndex!==r.selection.endIndex&&s.test(e,"url"))C.removeAnnotationTypeFromSelection({store:r.store,selection:r.selection,type:"a",transaction:t}),C.annotate({store:r.store,selection:r.selection,annotation:["a",e],transaction:t}),W.setSelection({store:r.store,selection:{startIndex:r.selection.endIndex,endIndex:r.selection.endIndex}});else if(r.extendAnnotations.has(["c"]))C.insertString({store:r.store,selection:r.selection,string:e,transaction:t});else{!function(e,t){var r=j.default.state;if(r.editing){var n=document.createElement("div");/schemas-microsoft-com:office/.test(e)?n.innerHTML=l(e):n.innerHTML=e;var o=p.inlineHtmlToTitleValue(n,window);C.deleteSelection({store:r.store,selection:r.selection,transaction:t});var a=1===o.length,i=a&&(!o[0][1]||0===o[0][1].length);if(a&&i){var s=o[0][0];C.insertString({store:r.store,selection:{startIndex:r.selection.startIndex,endIndex:r.selection.startIndex},string:s,transaction:t})}else C.insertTokens({store:r.store,tokens:o,index:r.selection.startIndex,transaction:t})}}(d.markdownToInlineHtml(e),t),function(e,t){var r=/^[^ ]+$/.exec(e);if(r){var n=f.getLinkifyMatch(r[0]);if(n){var o=d.normalizeLinkText(n.value),a=j.default.state,i=B.default.state;if(a.editing&&i.stores.length>0){var l=a.store.getValue(),s=f.getText(l),c=u.toArray(s.substring(0,s.indexOf(o))).length,p=c+u.toArray(o).length;V.default.afterNextFlush(function(){x.activateFromLinkCreation({textStore:a.store,oldTextValue:t,url:n.href,urlSelection:{startIndex:c,endIndex:p}})})}}}}(e,n)}}}function X(e,t){var r,n,o=document.createElement("div");/schemas-microsoft-com:office/.test(e)?o.innerHTML=l(e):o.innerHTML=e;var a=R.default.state.userStore,s=B.default.getCurrentRootStore();if(a&&s){var u=a.getValue();if(u){var c=p.htmlNodesToBlocks(u,s.id,"block",o,{},window,m.default.secureFileS3.url,!1),d=c.allOperations,f=c.rootContentIds;try{for(var h=i(d),y=h.next();!y.done;y=h.next()){var b=y.value,w=v.createRecordStore(s,b.table,b.id);E.addOperation({store:w,operation:b,transaction:t})}}catch(e){r={error:e}}finally{try{y&&!y.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}var S=f.map(function(e){return g.default.createChildStore(s,e)});return _.insertBlocksAfterSelection({blocks:S,selection:B.default.state.stores,transaction:t}),S}}}t.copy=function(e){if(!J&&!h.default.isMobile){var t=e.event;Y(t),N.default.setKeyboardMode(!0)}},t.paste=function(e){var t=e.event,r=e.transaction;if(t.preventDefault(),t.clipboardData&&I.validateCanCreate()){var n=t.clipboardData.getData("text/uri-list").trim(),a=t.clipboardData.getData("text/plain").trim()||n,i=t.clipboardData.getData("text/html").trim(),l=function(e){if(e.clipboardData)try{return JSON.parse(e.clipboardData.getData(H))}catch(e){return}}(t),s=function(e){if(e.clipboardData)try{return JSON.parse(e.clipboardData.getData(q))}catch(e){return}}(t),p=function(e){return e.clipboardData?e.clipboardData.items?P.compact(u.map(e.clipboardData.items,function(e){var t=e.getAsFile();if(t&&t.size>0)return new File([t],"Untitled",{type:e.type})})):u.toArray(e.clipboardData.files):[]}(t),h=B.default.state.stores,m=j.default.state;!(i&&/schemas-microsoft-com:office/.test(i))&&p.length>0?function(e,t){var r=B.default.getCurrentRecordCacheStore(),n=U.getCurrentContainerPageWidth();if(j.default.isEditingComment())M.showError({error:new Error("Sorry, you cannot paste files into a comment. 😏")});else if(r){var o=A.createEmbedBlocksFromFiles({files:e,recordCacheStore:r,transaction:t,pageWidth:n});_.insertBlocksAfterSelection({blocks:o,selection:B.default.state.stores,transaction:t})}}(p,r):function(){var e=B.default.state.stores,t=j.default.state;if(e.length>0&&t.editing&&t.store.isTable("block")){var r=t.store.getRecordStoreAtRootPath().getValue();if(r&&r.type===c.default.code)return!0}}()?function(e,t){var r=j.default.state;r.editing&&C.insertString({store:r.store,selection:r.selection,string:e,transaction:t})}(a,r):j.default.isEditingComment()||function(){var e=B.default.state.stores,t=j.default.state;if(e.length>0&&t.editing&&t.store.isTable("block")){var r=t.store.getRecordStoreAtRootPath().getValue();if(r&&r.type===c.default.quote)return!0}}()?Q(a,r):s&&s.editing?function(e,t){var r=B.default.getCurrentRecordCacheStore(),n=e.editing,o=e.selection,a=f.splitTokensWithCharRange(n,o.startIndex,o.endIndex).tokensInsideRange,i=f.getTextValueWithoutDiscussions(a),l=j.default.state;if(l.editing){C.deleteSelection({store:l.store,selection:l.selection,transaction:t});var s=j.default.state;if(s.editing){var u=s.selection.endIndex;C.insertTokens({store:l.store,tokens:i,index:u,transaction:t})}}else if(r){var d=S.createBlock({type:c.default.text,recordCacheStore:r,transaction:t}),p=d.getTitleStore();p&&C.insertTokens({store:p,tokens:i,index:0,transaction:t}),_.insertBlocksAfterSelection({blocks:[d],selection:B.default.state.stores,transaction:t})}}(s,r):l&&l.length>0?function(e,t){var r=B.default.getCurrentRootStore();if(r){var n=e.map(function(e){var n=e.blockId,a=e.blockSubtree,i=e.snapshotData,l=g.default.createChildStore(r,n);if(a)return w.localDuplicate({sourceBlockId:n,sourceBlockSubtree:a,targetRecordCacheStore:l.recordCacheStore,addCopyName:!0,transaction:t});z.default.state.online||M.showError({error:new Error("Please go online to copy this block.")});var s=o(w.serverDuplicate({sourceBlockId:n,targetRecordCacheStore:l.recordCacheStore,addCopyName:!0,transaction:t,snapshotData:i}),2),u=s[0];return s[1].then(function(e){e&&M.showError({error:e})}),u});_.insertBlocksAfterSelection({blocks:n,selection:B.default.state.stores,transaction:t})}}(l,r):0===h.length&&m.editing?Q(a,r):1===a.split("\n").length&&m.editing?Q(a,r):i?X(i,r):a&&function(e,t){X(d.markdownToHtml(e),t)}(a,r),N.default.setKeyboardMode(!0)}},t.copyLinkToBlock=function(e){var r=e.blocks,n=(e.event,r[0]),o=n.getNavigableBlockStore();if(o){var a=y.default({store:o,scrollToBlockId:o.id===n.id?void 0:n.id,fullyQualified:!0});t.copyString({stringValue:a})}},"undefined"!=typeof document&&((K=document.createElement("textarea")).style.opacity=0,K.style.pointerEvents="none",K.style.position="fixed",K.style.left="0px",K.style.top="0px",document.body.appendChild(K)),t.copyString=function(e){var t=e.stringValue;document.queryCommandSupported("copy")?(K.value=t,K.select(),J=!0,document.execCommand("copy"),J=!1):(k.clear(),F.default.setState(n({},F.default.state,{active:!0,stringValue:t})))}},abU2:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.indexStore=t.createComputedStore(function(){var e=t.props.numberedListCounterStore;if(e){var r=e.state,n=r.indexOf(t.props.store.id);if(n>=0){for(var o=0,a=n-1;a>=0&&void 0!==r[a];a--)o++;return o}}return 0}),t}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("span",null,this.indexStore.state+1,".")},t}(r("wldR").default);t.default=i},afAK:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("LvDl"),u=r("EarS"),c=r("1P/O"),d=r("KcXv"),p=r("BL9y"),f=r("n8tN"),h=r("Dime"),m=r("OWVv"),y=r("VVh3"),g=r("fJHT"),v=r("i05A"),b=r("MBf9"),w=r("y6Dp"),S=r("sjR4"),_=r("MeYt"),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isOpen=t.createComputedStore(function(){return c.default.isOpen(t.props.store.id)&&!t.props.hideContent}),t.handlePlaceholderClick=function(e){b.createAndCommit(function(e){u.insertEmptyText({store:t.props.store,transaction:e})})},t.handleToggleButtonClick=function(e){t.toggle()},t}return o(t,e),t.prototype.activate=function(){this.toggle()},t.prototype.willMount=function(e){u.initToggle(e.store.id)},t.prototype.renderPersisted=function(){var e=this.props,r=e.store,n=e.disabled,o=this.isOpen.state,a=r.getBlockTitleStore();return l.createElement(m.default,{style:this.getStyle(),left:this.renderToggleButton(),leftStyle:{paddingRight:2}},l.createElement("div",{style:{display:"flex"}},l.createElement(g.default,{style:m.defaultTitleStyle,disabled:n,store:a,placeholder:"Toggle"}),this.renderDiscussion(t.discussionIndicatorStyle)),o&&this.renderContent(),!o&&l.createElement(h.default,{store:this.props.store.getContentStore(),disabled:n,disableContent:!0}))},t.prototype.renderToggleButton=function(){return l.createElement(v.default,{isSidebar:!1,open:this.isOpen.state,onClick:this.handleToggleButtonClick})},t.prototype.renderContent=function(){var e=this.props.disabled;return l.createElement(y.default,{loaded:p.pageSubtreeIsLoaded(this.props.store),spinnerSize:"1em",showSpinnerTimeout:500,innerStyle:t.contentStyle},l.createElement(h.default,{store:this.props.store.getContentStore(),emptyPlaceholder:this.renderPlaceHolder(),disabled:e}))},t.prototype.renderPlaceHolder=function(){var e=this.props.disabled;return l.createElement(_.default,{style:this.getPlaceholderButtonStyle(),onClick:this.handlePlaceholderClick,disabled:e},l.createElement("span",{style:{color:this.theme.lightTextColor}},"Empty toggle. Click or drop blocks inside."))},t.prototype.toggle=function(){var e,t,r;r=s.includes(S.default.state.stores,this.props.store)?S.default.state.stores:[this.props.store];var n=!this.isOpen.state;try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var l=a.value;u.setToggle(l.id,n)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}w.trackToggleBlockToggle({is_toggled:n})},t.prototype.getStyle=function(){return a({paddingLeft:d.itemStyle.paddingLeft},this.getBlockColorStyle(),this.props.style)},t.prototype.getPlaceholderButtonStyle=function(){return a({fontSize:"inherit",width:"100%",borderRadius:3,caretColor:this.theme.lightTextColor},d.itemStyle,{marginTop:2})},t.contentStyle={display:"flex",flexDirection:"column"},t.discussionIndicatorStyle={paddingLeft:0,marginLeft:-6,paddingBottom:2},t}(f.default);t.default=k},am2B:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,i=r("q1tI"),l=r("q1tI"),s=r("wldR"),u=r("enKW"),c=r("Sb6f"),d=r("4NII"),p=r("zmp8");!function(e){e[e.Two=0]="Two",e[e.Four=1]="Four"}(a||(a={}));var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,r=e.features,n=e.format===a.Four;return i.createElement(l.Fragment,null,i.createElement("div",{style:t.wrapStyle},this.renderFeaturesQuadrantItem(r[0],{paddingRight:!d.default(),borderRight:!d.default(),paddingBottom:n,borderBottom:n}),this.renderFeaturesQuadrantItem(r[1],{paddingTop:d.default(),paddingLeft:!d.default(),paddingBottom:n,borderBottom:n}),n&&this.renderFeaturesQuadrantItem(r[2],{paddingTop:!0,paddingRight:!d.default(),paddingBottom:d.default(),borderBottom:d.default(),borderRight:!d.default()}),n&&this.renderFeaturesQuadrantItem(r[3],{paddingTop:!0,paddingLeft:!d.default()})))},t.prototype.renderFeaturesQuadrantItem=function(e,r){return i.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:d.default()?t.featuresQuadrantItemWidth:"49%",maxWidth:"90vw",paddingTop:r.paddingTop?t.featuresQuadrantItemPadding:0,paddingBottom:r.paddingBottom?t.featuresQuadrantItemPadding:0,paddingLeft:r.paddingLeft?t.featuresQuadrantItemPadding:0,paddingRight:r.paddingRight?t.featuresQuadrantItemPadding:0,borderBottom:"1px solid "+(r.borderBottom?p.default.frontBorderColor:p.default.transparent),borderRight:"1px solid "+(r.borderRight?p.default.frontBorderColor:p.default.transparent)}},i.createElement("div",{style:{width:t.featuresQuadrantItemWidth,maxWidth:"100%"}},i.createElement("img",{src:e.image,style:{width:"100%",boxShadow:e.disableImageShadow?"none":u.default.frontMediumShadow,borderRadius:3}}),i.createElement("div",{style:{fontWeight:c.default.fontWeight.bold,fontSize:23,marginTop:28,marginBottom:12,textAlign:"center"}},e.header),i.createElement("div",{style:{color:p.default.FrontBaseGrayTextColor}},e.caption)))},t.Format=a,t.featuresQuadrantItemPadding=48,t.featuresQuadrantItemWidth=440,t.wrapStyle={display:"flex",flexWrap:"wrap",justifyContent:"center"},t}(s.default);t.default=f},ar9R:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("q1tI"),c=r("q1tI"),d=r("LvDl"),p=r("y6Dp"),f=r("sS7W"),h=r("H4VD"),m=r("bkwR"),y=r("r8oj"),g=r("hbKx"),v=r("Sb6f"),b=r("wpmu"),w=r("G4GV"),S=r("t+pW"),_=r("WgIs"),k=r("Pl3d"),C=r("Z1H8"),E=r("2HDO"),P=r("gbGO"),x=r("CSYU"),T=r("hU3F"),O=r("HRSx"),M=r("PQqx"),I=r("Zn/s"),A=r("cYwG"),D=r("HSWF"),L=r("Nvzn"),R=r("2Y+N"),B=r("auiW"),j=r("zTdN"),V=r("xRf7"),F=r("RQ1t"),N=r("FcJC"),U=r("4HCU"),W=r("QcDD"),z=r("vJXr"),H=r("cR5F"),q=r("vs8F"),G=r("z6D9"),Z=r("HTHG"),Y=r("AXh+"),K=r("qqdV"),J=r("ZQ9l"),Q=r("KTXS"),X=r("7KuZ"),$=r("7M94"),ee=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderContent=function(){var e=y.default.isMobile;return u.createElement(E.default,{capture:!0,ignoreBlockSelection:!0,focusOffscreenInput:!1,restoreSelection:!e,render:r.renderQuickFind})},r.renderQuickFind=function(){return u.createElement(C.default,{capture:!0,allowEsc:!0,render:function(e){var t,n=u.createElement(B.default,{ref:function(e){return e&&(r.input=e)},value:r.stores.inputStore.state.inputValue,placeholder:r.isPublicPageSearch()?"Search...":"Quick find...",onChange:r.handleChangeInput,focus:y.default.isMobile?void 0:H.default.state.open,focusInitial:y.default.isMobile,selectAll:!0,focusAfterAnimation:!0,showSpinner:z.default.state.online&&!r.stores.requestStore.state.ready&&!r.stores.typing.get()});if(y.default.isMobile)t=a({menuType:P.default.MenuType.Modal,title:r.isPublicPageSearch()?"Search":"Quick Find",right:"Done",left:r.renderMobileHelpButton(),onClickRight:f.closeQuickFind,header:n},e);else if(r.isPublicPageSearch()){var o=Boolean(r.stores.inputStore.state.inputValue)&&r.stores.requestStore.state.result&&r.stores.requestStore.state.result.length>0;t=a({menuType:P.default.MenuType.Popup,width:540,maxWidth:"100%",height:o?"60vh":"none",header:n,footer:o?r.renderFooter():void 0},e)}else t=a({menuType:P.default.MenuType.Popup,width:540,maxWidth:"100%",height:"60vh",header:n,footer:r.renderFooter()},e);return u.createElement(P.default,a({},t,{className:$.quickFindMenu}),r.renderRequest(),u.createElement(A.default,{onChange:r.handleScrollOffsetChange}))}})},r.renderSearchResults=function(e,t,n){var o=[];if(e)return u.createElement(R.default,null,u.createElement(j.default,{title:"Something went wrong."}));if(n&&t){if(0===t.length)return r.items=[],u.createElement(R.default,null,u.createElement(j.default,{title:"No matches found."}));t.forEach(function(e,t){var n=e.pageId,i=e.blockIds,l=b.default.createChildStore(r.props.parentStore,n);o.push({key:n+t,render:function(e){return u.createElement(q.default,a({},e,{store:l,isFirst:0===t}))},action:function(e){r.handleMenuListAccept(l,e.index,e.event)}}),i.forEach(function(e,t){var n=b.default.createChildStore(r.props.parentStore,e);o.push({key:e+t,render:function(e){return u.createElement(G.default,a({store:n},e))},action:function(e){r.handleMenuListAccept(n,e.index,e.event)}})})}),r.items=o}else if(r.items){if(0===r.items.length)return u.createElement(R.default,null,u.createElement(j.default,{title:"No matches found."}));o=r.items}return r.isPublicPageSearch()&&0===o.length?void 0:u.createElement(_.default,{store:r.stores.menuListStore,initialFocus:0,preserveReorderedFocus:!0,disableKeyboardArrowWrap:!0,sections:[{key:0,render:function(e){return u.createElement(R.default,a({},e,{shouldShowBottomDivider:!0}))},items:o}]})},r.handleChangeInput=function(e){r.handleTyping(),""===e.target.value&&(r.items=void 0),r.stores.inputStore.setState(a({},r.stores.inputStore.state,{inputValue:e.target.value})),H.default.setState(a({},H.default.state,{limit:t.incrementLimitAmount}))},r.handleTrackSelect=function(e){p.trackSelectQuickFindItem({queryStringLength:r.stores.inputStore.state.inputValue.length,selectedItemIndex:e})},r.handleCloseModal=function(){f.closeQuickFind(),y.default.isMobile&&N.close()},r.handleMenuListAccept=function(e,t,n){r.handleTrackSelect(t);var o=e.getValue();if(o)if(O.navigableTypes[o.type])r.navigateToPageOnEnter({event:n,pageStore:e});else{var a=g.getNavigableAncestor(e);a&&r.navigateToPageOnEnter({event:n,pageStore:a,blockStore:e})}n.metaKey||n.ctrlKey||r.handleCloseModal()},r.handleScrollOffsetChange=function(e){e<=t.loadMoreScrollOffset&&!r.stores.requestStore.state.loading&&!H.default.state.reachedEndOfResults&&H.default.setState(a({},H.default.state,{limit:H.default.state.limit+t.incrementLimitAmount}))},r.previousOpenState=!1,r.listenForOpenClose=function(){var e=H.default.state.open;r.previousOpenState!==e&&(r.previousOpenState=e,e?r.handleQuickFindOpened():r.handleQuickFindClosed())},r.previousSpaceId=void 0,r.listenForSpaceChange=function(){var e=W.default.state.currentSpaceStore&&W.default.state.currentSpaceStore.id;r.previousSpaceId!==e&&(r.previousSpaceId=e,r.handleClearState())},r.handleQuickFindClosed=function(){r.clearStateTimer=window.setTimeout(r.handleClearState,12e4)},r.handleQuickFindOpened=function(){clearTimeout(r.clearStateTimer)},r.handleClearState=function(){r.stores.inputStore.reset(),r.stores.requestStore.reset(),r.stores.typing.reset(),r.stores.menuListStore.reset(),H.default.reset(),r.items=void 0},r.performSearchRequest=function(e){return i(r,void 0,void 0,function(){var t,r,n,o,i,u,c,p,f,h,m,y,v,w=this;return l(this,function(l){switch(l.label){case 0:if(!e.query)return[2,this.getDefaultResults()];if(n=W.default.state,o=n.currentSpaceStore,i=n.currentBlockStore,!o){if(!i)return[2];if(!Y.userHasPermissionViaPublicAccess(i))return[2]}return[4,this.searchBlocks(e)];case 1:if(!(u=l.sent()))return[2];if("failed"===u.type)throw u.error;c=u.data,H.default.setState(a({},H.default.state,{reachedEndOfResults:c.results.length<e.limit})),p=I.default(c.results,20),f=[];try{for(h=s(p),m=h.next();!m.done;m=h.next())y=m.value,v=d.groupBy(y,function(e){var t=b.default.createChildStore(w.props.parentStore,e),r=g.getNavigableAncestor(t);return r&&r.id}),d.forOwn(v,function(e,t){e=e.filter(function(e){return e!==t}),t&&"undefined"!==t&&f.push({pageId:t,blockIds:e})})}catch(e){t={error:e}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}return[2,f]}})})},r}return o(t,e),t.prototype.willMount=function(){H.default.addListener(this.listenForOpenClose),W.default.addListener(this.listenForSpaceChange)},t.prototype.willUnmount=function(){H.default.removeListener(this.listenForOpenClose),W.default.removeListener(this.listenForSpaceChange)},t.prototype.renderComponent=function(){var e=H.default.state.open;return u.createElement(V.default,{open:e,onDismiss:f.closeQuickFind,renderContent:this.renderContent})},t.prototype.renderFooter=function(){return this.isPublicPageSearch()?u.createElement(R.default,{topBorder:!0,disableDesktopPadding:!0},u.createElement(J.default,{title:this.renderKeyboardHint(),style:{fontSize:12,color:this.theme.lightTextColor}})):u.createElement(R.default,{topBorder:!0,disableDesktopPadding:!0},u.createElement(Q.default,{left:this.renderKeyboardHint(),title:"Learn about search",href:K.guides.quickFind,analyticsFrom:"quick_find"}))},t.prototype.renderKeyboardHint=function(){var e=M.getShortcutTextItems().command,t={fontWeight:v.default.fontWeight.medium};return u.createElement(c.Fragment,null,u.createElement("span",{style:t},"↑↓")," to select,"," ",u.createElement("span",{style:t},"Enter")," to open,"," ",u.createElement("span",{style:t},L.default(e),"+Enter")," ","to open in a new ",y.default.isElectron?"window":"tab")},t.prototype.renderRequest=function(){if(z.default.state.online){var e=H.default.state.limit,t=this.stores.inputStore.state.inputValue;return u.createElement(k.default,{requestStore:this.stores.requestStore,request:{query:t,limit:e},performRequest:this.performSearchRequest,debounce:U.defaultSearchDebounce,render:this.renderSearchResults})}return u.createElement(R.default,null,u.createElement(j.default,{title:"Please go online to search."}))},t.prototype.renderMobileHelpButton=function(){return u.createElement(X.default,{href:K.guides.quickFind,analyticsFrom:"quick_find"})},t.prototype.handleTyping=function(){var e=this;clearTimeout(this.typingTimerId),this.stores.typing.get()||this.stores.typing.set(!0),this.typingTimerId=setTimeout(function(){e.stores.typing.set(!1)},t.typingDelay)},t.prototype.isPublicPageSearch=function(){var e=W.default.state.currentBlockStore;return e&&Y.userHasPermissionViaPublicAccess(e)},t.prototype.getDefaultResults=function(){return i(this,void 0,void 0,function(){var e,t,r,n,o=this;return l(this,function(a){switch(a.label){case 0:return(e=W.default.state.currentSpaceStore)?[3,1]:[2,void 0];case 1:return t=D.getRecentlyVisitedPages(e.id),r=Z.getDefaultSearchResultPages(),n=d.union(t,r.map(function(e){return e.id})).slice(0,10),[4,Promise.all(n.map(function(e){return i(o,void 0,void 0,function(){var t,r,n;return l(this,function(o){switch(o.label){case 0:t=b.default.createChildStore(this.props.parentStore,e),r=new Set,n=t,o.label=1;case 1:return n?r.has(n.id)?[3,3]:[4,n.load()]:[3,3];case 2:return o.sent(),r.add(n.id),n=g.getParentStore(n),[3,1];case 3:return[2]}})})}))];case 2:return a.sent(),[2,n.filter(function(t){var r=b.default.createChildStore(o.props.parentStore,t),n=g.getSpace(r);return n&&n.id===e.id}).map(function(e,t){return{pageId:e,blockIds:[]}})]}})})},t.prototype.navigateToPageOnEnter=function(e){var t=e.event,r=e.pageStore,n=e.blockStore,o=t.metaKey||t.ctrlKey;h.navigateToBlock({store:r,scrollToBlockId:n&&n.id,metaClick:o}),o?this.input&&this.input.focusInput():f.closeQuickFind()},t.prototype.searchBlocks=function(e){return i(this,void 0,void 0,function(){var t,r,n,o;return l(this,function(a){return t=W.default.state,r=t.currentSpaceStore,n=t.currentBlockStore,(o=n&&Y.userHasPermissionViaPublicAccess(n))?[2,m.searchBlocks({query:e.query,table:O.default.table,id:o.blockIds[0],limit:e.limit})]:r?[2,m.searchBlocks({query:e.query,table:"space",id:r.id,limit:e.limit})]:[2]})})},t.loadMoreScrollOffset=600,t.incrementLimitAmount=20,t.stores={inputStore:w.default,requestStore:x.default,menuListStore:F.default,typing:T.default.of(!1)},t.typingDelay=300,t}(S.default);t.default=ee},aubc:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("qpkC"),i=r("q2qQ"),l=r("6rsX"),s=r("AmMh"),u=r("w5u6"),c=r("VBxf");t.duplicateListChildren=function(e){var t=e.store,r=e.transaction,d=t.recordStoreParent(),p=!1;d&&o.head(d.getValue())!==t.id&&o.last(d.getValue())===t.id&&(p=!0);var f=t.getContentStores().filter(function(e){return e.hasValue()});p||f.reverse();var h=s.default.findSelectableFromStore(t),m=[],y=Promise.all(f.map(function(e){return new Promise(function(t){var o=n(a.duplicateBlock({store:e,transaction:r,addCopyName:!1}),2),i=o[0];o[1].then(function(e){e&&c.showError({error:e}),t()}),h&&(p?h.props.onInsertBefore&&h.props.canInsertBefore&&m.push(h.props.onInsertBefore({insertStores:[i],transaction:r})[0]):h.props.onInsertAfter&&h.props.canInsertAfter&&m.push(h.props.onInsertAfter({insertStores:[i],transaction:r})[0]))})}));p||m.reverse(),l.setSelection({stores:m}),y.then(function(){u.default.afterNextFlush(function(){i.editCreated({insertedStores:m,isCreated:!0})})})}},auiW:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("yNyh"),u=r("ttM1"),c=r("wlCD"),d=r("dXb3"),p=r("mF3+"),f=r("r8oj"),h=r("gbGO"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.focusInput=function(){this.input&&this.input.focusInput()},t.prototype.renderComponent=function(){var e=this;return this.context.isMobile?i.createElement(d.default,a({ref:function(t){return t&&(e.input=t)}},this.props,{style:a({},f.default.isAndroid&&{borderBottom:"none"}),left:i.createElement(u.default,{show:this.props.showSpinner,showDelay:500,showHold:200,render:function(t){var r=a({},e.getSearchIconStyle(),{width:20,height:20,marginLeft:1,marginRight:12,marginTop:3});return t?i.createElement(c.default,{style:r}):p.default.searchThick(r)}})})):i.createElement(s.default,a({ref:function(t){return t&&(e.input=t)}},this.props,{style:this.getInputStyle(),left:i.createElement(u.default,{show:this.props.showSpinner,showDelay:500,showHold:200,render:function(r){var n=a({},e.getSearchIconStyle(),t.searchIconStyle);return r?i.createElement(c.default,{style:a({},n,{padding:1})}):p.default.searchThick(n)}}),showClearButton:!0}))},t.prototype.getInputStyle=function(){return{fontSize:18,height:t.itemHeight,paddingTop:0,paddingBottom:0,paddingLeft:t.itemPaddingLeftRight,paddingRight:t.itemPaddingLeftRight,border:"none",boxShadow:"0 1px 0 "+this.theme.regularDividerColor,borderRadius:0,flexGrow:0,flexShrink:0,zIndex:1}},t.prototype.getSearchIconStyle=function(){return{width:14,height:14,marginRight:6,flexGrow:0,flexShrink:0,fill:this.theme.mediumIconColor}},t.contextTypes=a({},h.menuContextTypes),t.iconSize=18,t.itemHeight=52,t.itemPaddingLeftRight=16,t.searchIconStyle={width:t.iconSize,height:t.iconSize,marginRight:8},t}(l.default);t.default=m},"aw/t":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("zmp8"),u=r("RgmA"),c=r("hbKx"),d=r("IwFn"),p=r("wldR"),f=r("bjn0"),h=r("OxuQ"),m=r("IdSf"),y=r("VpIZ"),g=r("bPtJ");function v(e){var t=c.getNavigablePath(e);return t.reverse(),t.filter(function(t){if(t.id===e.id)return!1;var r=t.getCollectionViewCollectionStore();return!(e instanceof f.default&&r&&r.id===e.id)})}t.hasPath=function(e){return v(e).length>0};var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=v(this.props.store),n=[];if(r.length>0&&n.push(this.renderAncestorPage(r[0])),r.length>2&&n.push(this.renderEllipsis()),r.length>1){var o=l.last(r);o&&n.push(this.renderAncestorPage(o))}return 0===n.length?null:i.createElement("div",{style:a({display:"flex"},t.style)},this.props.left,u.default(n,function(r){return i.createElement("span",{style:a({},t.dividerStyle,e.props.innerStyle),key:r},"/")}),this.props.right)},t.prototype.renderEllipsis=function(){return i.createElement(d.default,{key:"ellipsis"},"...")},t.prototype.renderAncestorPage=function(e){var r=this,n=a({maxWidth:140},t.style,this.props.innerStyle),o=e.getValue();if(this.props.isLink&&o){var l=this.props.onClick,s=y.getRecordUrl({table:this.props.store.table,value:o,getRecordValue:function(e,t){return g.createRecordStore(r.props.store,e,t).getValue()}});return i.createElement(m.default,{href:s,onClick:l,key:e.id},i.createElement(h.default,{store:e,style:n}))}return i.createElement(h.default,{key:e.id,store:e,style:n})},t.style={fontSize:12,color:s.default.uiGray},t.dividerStyle={paddingLeft:4,paddingRight:4},t}(p.default);t.default=b},awFW:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),r("wZee"),r("XpJP"),r("y1X9"),r("huE1"),r("kfgK"),r("VOcU"),r("gAkk"),r("qVSt"),r("OQpq"),r("QWvX"),r("Nd5L"),r("lSgE"),r("ZgVT"),r("KJ57"),r("otUN"),r("GD/k"),r("2et7"),r("9QaP"),r("eIXP"),r("nrL0"),r("dBHq"),r("/nb9"),r("PUL1"),r("PEIs"),r("3xzq"),r("GYl3"),r("Y613"),r("4l/p"),r("T8iE"),r("ki2X"),r("85O/"),r("bPOv"),r("CjHp"),r("ZM0j"),r("u1v7"),r("+fy4"),r("9IQp"),r("Ol/B"),r("ZwEA"),r("DV0F"),r("gmzG"),r("1NVV"),r("r4a2"),r("TL9f"),r("bEZN"),r("Nuiu"),r("mR1r"),r("Yhcd"),r("jpss"),r("OuMq"),r("RzVo"),r("PSGn"),r("Scwt"),r("YD4P"),r("sTAn"),r("BHca"),r("eWXi"),r("KTUv"),r("cZAW"),r("hnpa"),r("r4oG"),r("6cul"),r("XIHC"),r("pYjL"),r("1Muh"),r("tDuG"),r("PFdE"),r("bldZ"),r("ITQp"),r("RX2a"),function(e){e.abap="abap",e.arduino="arduino",e.bash="bash",e.basic="basic",e.c="c",e.clike="clike",e.clojure="clojure",e.coffeescript="coffeescript",e.cpp="cpp",e.csharp="csharp",e.css="css",e.cssExtras="css-extras",e.dart="dart",e.diff="diff",e.docker="docker",e.elixir="elixir",e.elm="elm",e.erlang="erlang",e.flow="flow",e.fortran="fortran",e.fsharp="fsharp",e.gherkin="gherkin",e.glsl="glsl",e.go="go",e.graphql="graphql",e.groovy="groovy",e.haskell="haskell",e.html="html",e.java="java",e.javascript="javascript",e.json="json",e.jsx="jsx",e.kotlin="kotlin",e.latex="latex",e.less="less",e.lisp="lisp",e.livescript="livescript",e.lua="lua",e.makefile="makefile",e.markdown="markdown",e.markup="markup",e.matlab="matlab",e.nix="nix",e.objectivec="objectivec",e.ocaml="ocaml",e.pascal="pascal",e.perl="perl",e.php="php",e.powershell="powershell",e.prolog="prolog",e.python="python",e.r="r",e.reason="reason",e.ruby="ruby",e.rust="rust",e.sass="sass",e.scala="scala",e.scheme="scheme",e.scss="scss",e.sql="sql",e.swift="swift",e.tsx="tsx",e.typescript="typescript",e.vbnet="vbnet",e.verilog="verilog",e.vhdl="vhdl",e.visualBasic="visual-basic",e.wasm="wasm",e.xml="xml",e.yaml="yaml"}(n||(n={})),t.default=n},awNq:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("zkec"),l=r("hfHo"),s=r("D2XV");r("E5KU");t.debug=function(e){return function(e){return i.succeed(e)}};var u=function(e,t){return void 0===t&&(t=1),i.custom(function(r,n){return function(o,a){for(var i=0;i<e.length&&o.charAt(a+i)===e.charAt(i);)i++;return i>=t?r(a+i,o.slice(a,a+i)):n(a,"Expected prefix of '"+e+"'")}}).notFollowedBy(i.regex(/[a-zA-Z]/))},c=i.alt(i.regex(/\s+/),i.eof),d=i.regex(/[\.\/]/),p=i.alt(d,i.eof),f=i.regex(/[\s\,]+/),h=i.alt(f,i.eof),m=i.regex(/\s*[-→]\s*/),y=i.string(":"),g=i.optWhitespace.then(i.alt(i.string("at"),i.string(","),i.succeed(""))).then(i.optWhitespace),v=i.optWhitespace.then(i.alt(i.string("me"),i.string(","),i.succeed(""))).then(i.optWhitespace),b=i.regex(/[0-9]+/),w=function(e){return function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}(e).toLowerCase()},S=i.alt(u("am"),u("pm"));t.timeParser=i.seqMap(b,y.times(0,1),b.times(0,1),i.optWhitespace,S.times(0,1),function(e,t,r,n,o){return{hour:e,minute:r[0]||"",meridian:o[0]||""}}).chain(function(e){var t=e.hour,r=e.minute,n=e.meridian,o=[t,r].join("");2===o.length&&parseInt(o)>12&&(o+="0");var a=[o,n].join(""),u=l.default(a,["hmma","Hmm","H","hmm","Hm","hm","Ha"]);if(!u.isValid())return i.fail("Invalid time");var c={type:"time",time:u.format(s.persistedTimeFormat),hasAmPm:n.length>0};return i.succeed(c)}).notFollowedBy(d).chain(t.debug("parseTime")),t.timeOrTimeRangeParser=t.timeParser.chain(function(e){var r=m.then(t.timeParser).map(function(t){if(e.hasAmPm){if(t.hasAmPm)return{type:"timerange",start:e.time,end:t.time};var r=l.default(e.time,s.persistedTimeFormat),n=l.default(t.time,s.persistedTimeFormat);if(r.isAfter(n)&&n.hour()<12){var o=n.add(12,"hour").format(s.persistedTimeFormat);return{type:"timerange",start:e.time,end:o}}return{type:"timerange",start:e.time,end:t.time}}if(t.hasAmPm){r=l.default(e.time,s.persistedTimeFormat),n=l.default(t.time,s.persistedTimeFormat);if(r.hour()+12<n.hour())return{type:"timerange",start:r.add(12,"hour").format(s.persistedTimeFormat),end:t.time}}return{type:"timerange",start:e.time,end:t.time}}).chain(t.debug("parseTimeRange"));return i.alt(r,i.succeed(e))}).chain(t.debug("parseTimeOrTimeRange"));var _=i.alt(i.string("td"),u("today")).map(function(){return{type:"date",start_date:l.default().format(s.persistedDateFormat)}}),k=i.alt(i.string("tm"),u("tomorrow")).map(function(){return{type:"date",start_date:l.default().add(1,"day").format(s.persistedDateFormat)}}),C=i.alt(i.string("yd"),u("yesterday")).map(function(){return{type:"date",start_date:l.default().subtract(1,"day").format(s.persistedDateFormat)}}),E=l.default.weekdays().map(function(e){return u(w(e)).map(function(){var t=s.todayMoment(s.currentTimeZone),r=t.clone().day(e);return(r.isBefore(t)||r.day()===t.day())&&r.add(1,"week"),{type:"date",start_date:r.format(s.persistedDateFormat)}}).chain(t.debug("daysOfWeek"))}),P=l.default.weekdays().map(function(e){return u("last").then(c).then(u(w(e)).map(function(){var t=s.todayMoment(s.currentTimeZone),r=t.clone().day(e);return(r.isAfter(t)||r.day()===t.day())&&r.subtract(1,"week"),{type:"date",start_date:r.format(s.persistedDateFormat)}}))}),x=u("last").then(i.optWhitespace).then(i.eof).map(function(){var e=s.todayMoment(s.currentTimeZone),t=e.clone().day(l.default.weekdays()[l.default().day()]);return(t.isAfter(e)||t.day()===e.day())&&t.subtract(1,"week"),{type:"date",start_date:t.format(s.persistedDateFormat)}}),T=a([_,k,C],E,P,l.default.weekdays().map(function(e){return u("next").then(c).then(u(w(e)).map(function(){var t=s.todayMoment(s.currentTimeZone),r=t.clone().day(e);return(r.isBefore(t)||r.day()===t.day())&&r.add(1,"week"),r.add(1,"week"),{type:"date",start_date:r.format(s.persistedDateFormat)}}))}),[u("next").then(i.optWhitespace).then(i.eof).map(function(){var e=s.todayMoment(s.currentTimeZone),t=e.clone().day(l.default.weekdays()[l.default().day()]);return(t.isBefore(e)||t.day()===e.day())&&t.add(1,"week"),t.add(1,"week"),{type:"date",start_date:t.format(s.persistedDateFormat)}}),x]);t.relativeDateParser=i.alt.apply(i,a(T)).chain(t.debug("parseRelativeDate"));var O=l.default.months().map(function(e){return u(w(e)).map(function(){return e})});t.longFormDateParser=i.seqMap(i.alt.apply(i,a(O)).skip(i.optWhitespace),b.notFollowedBy(i.alt(y,S)).times(0,1),h.times(0,1),b.notFollowedBy(i.alt(y,S)).times(0,1),function(e,t,r,n){var o=t[0]||"1",a=n[0]||l.default().year().toString();return{type:"date",start_date:l.default(e+" "+o+" "+a,"MMMM DD, YYYY").format(s.persistedDateFormat)}}).chain(t.debug("parseLongFormDate")),t.shortFormDateParser=i.seqMap(b,d.times(0,1),b.times(0,1),p.times(0,1),b.times(0,1),function(e,t,r,n,o){var a=parseInt(e);if(a>31){var i=a,u=r[0]?parseInt(r[0]):1,c=o[0]?parseInt(o[0]):1;return{type:"date",start_date:l.default(i+"-"+u+"-"+c,i>99?"Y-M-D":"YY-M-D").format(s.persistedDateFormat)}}if(a>12){c=a,u=r[0]?parseInt(r[0]):1,i=o[0]?parseInt(o[0]):l.default().year();return{type:"date",start_date:l.default(i+"-"+u+"-"+c,i>99?"Y-M-D":"YY-M-D").format(s.persistedDateFormat)}}if(s.isDateFirstLocale()){c=a,u=r[0]?parseInt(r[0]):1,i=o[0]?parseInt(o[0]):l.default().year();return{type:"date",start_date:l.default(i+"-"+u+"-"+c,i>99?"Y-M-D":"YY-M-D").format(s.persistedDateFormat)}}u=a,c=r[0]?parseInt(r[0]):1,i=o[0]?parseInt(o[0]):l.default().year();return{type:"date",start_date:l.default(i+"-"+u+"-"+c,i>99?"Y-M-D":"YY-M-D").format(s.persistedDateFormat)}}).chain(t.debug("parseShortFormDate")),t.dateParser=i.alt(t.relativeDateParser,t.longFormDateParser,t.shortFormDateParser),t.dateOrDateRangeOrDateTimeOrDateTimeRangeParser=t.dateParser.skip(g).chain(function(e){var r=g.then(t.timeOrTimeRangeParser).chain(t.debug("parseStartTimeOrTimeRange")).map(function(t){return"time"===t.type?{type:"datetime",start_date:e.start_date,start_time:t.time,time_zone:s.currentTimeZone}:{type:"datetimerange",start_date:e.start_date,start_time:t.start,end_date:e.start_date,end_time:t.end,time_zone:s.currentTimeZone}}).chain(function(e){if("datetimerange"===e.type)return i.succeed(e);var r=e,o=m.then(t.dateParser).chain(t.debug("parseEndDate")).map(function(e){return{type:"datetimerange",start_date:r.start_date,start_time:r.start_time,end_date:e.start_date,end_time:"00:00",time_zone:s.currentTimeZone}}).chain(function(e){var r=g.then(t.timeParser).map(function(t){return n({},e,{end_time:t.time})}).chain(t.debug("parseEndTime"));return i.alt(r,i.succeed(e))}).chain(t.debug("parseEndDateTime"));return i.alt(o,i.succeed(r))}).chain(t.debug("parseDateTimeOrDateTimeRange")),o=m.then(t.dateParser).map(function(t){return{type:"daterange",start_date:e.start_date,end_date:t.start_date}}).chain(t.debug("parseDateRange")),a={type:"date",start_date:e.start_date};return i.alt(r,o,i.succeed(a))}).chain(t.debug("parseDateOrDateTimeOrDateTimeRange")),t.todayTimeOrTimeRangeParser=t.timeOrTimeRangeParser.map(function(e){var t=s.today(s.currentTimeZone);return"time"===e.type?{type:"datetime",start_date:t.start_date,start_time:e.time,time_zone:s.currentTimeZone}:{type:"datetimerange",start_date:t.start_date,start_time:e.start,end_date:t.start_date,end_time:e.end,time_zone:s.currentTimeZone}});var M=u("now").map(function(){return s.now(s.currentTimeZone)});t.persistedDateParser=i.alt(M,t.todayTimeOrTimeRangeParser,t.dateOrDateRangeOrDateTimeOrDateTimeRangeParser).map(function(e){return s.constrainStartBeforeEnd(e)}).skip(m.times(0,1)).skip(f.times(0,1)).chain(t.debug("parsePersistedDate"));var I=u("remind").skip(v).chain(t.debug("remindParser")).times(0,1).chain(function(e){var r=o(e,1)[0];return t.persistedDateParser.times(0,1).chain(function(e){var t=o(e,1)[0];if(r&&t)return"date"===t.type||"daterange"===t.type?t.reminder={unit:"day",value:0,time:s.defaultDateReminderTime}:t.reminder={unit:"minute",value:0},i.succeed(t);if(r){var n=s.tomorrow(s.currentTimeZone);return n.reminder={unit:"day",value:0,time:s.defaultDateReminderTime},i.succeed(n)}return t?i.succeed(t):i.fail("Failed to parse.")})}),A=function(e){return function(t){var r=e.parse(w(t));if(r.status)return r.value}};function D(e){var t=s.getMomentRange(e,s.currentTimeZone);return!t.start.isValid()||t.end&&!t.end.isValid()?i.fail("Invalid date validation"):i.succeed(e)}t.parsePersistedDateWithOptionalReminder=A(I.chain(D)),t.parsePersistedDate=A(t.persistedDateParser.chain(D)),t.parseTime=A(t.timeParser.map(function(e){return e.time})),t.parseDate=A(t.dateParser.chain(D).map(function(e){return e.start_date})),t.parseFreeformDateString=function(e){var r=s.parseDateTimeRangeString(e);if(r)return r;var n=l.default(e,[l.default.ISO_8601]),o=n._f;return o&&"string"==typeof o?o.includes("HH")?s.dateTime(n.valueOf(),s.currentTimeZone):s.date(n.valueOf(),s.currentTimeZone):t.parsePersistedDate(e)}},axOw:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("EsXS"),u=r("0lqH"),c=r("r8oj"),d=r("sbdd"),p=r("mF3+"),f=r("MeYt"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return c.default.isMobile?this.renderMobileMenuItem():this.renderDesktopMenuItem()},t.prototype.renderMobileMenuItem=function(){var e=this.props,t=e.store,r=e.isSelected;return i.createElement(d.default,a({},this.props,{store:t,hidePath:!0,right:r?this.renderMobileRemoveButton():void 0}))},t.prototype.renderDesktopMenuItem=function(){var e=this.props,t=e.store,r=e.focused,n=e.onClick,o=e.onMouseEnter,a=e.showProperties,l=e.schema,c=e.blockPropertyValueOverlayStore;return i.createElement(f.default,{style:this.getDesktopStyle(),hovered:r,onClick:n,onMouseEnter:o},a.map(function(e){if(l[e]){var r="title"===e?s.default.titleColumnWidth:s.default.columnWidth;return i.createElement("div",{key:e,style:{pointerEvents:"none"}},i.createElement(u.default,{store:t,disabled:!0,property:e,schema:l,format:u.BlockPropertyValueFormat.Table,width:r,tableWrap:!1,forceMouseEntered:!1,disableTableBorderRight:!0,blockPropertyValueOverlayStore:c,locked:!1}))}}))},t.prototype.renderMobileRemoveButton=function(){return i.createElement(f.default,{mobileFeedback:!0,onClick:this.props.onClickRemove,style:{padding:12,marginRight:-12}},p.default.close({width:20,height:20}))},t.prototype.getDesktopStyle=function(){return{display:"inline-flex",alignItems:"center",height:s.default.rowHeight-1,minWidth:"100%",paddingLeft:32,boxShadow:"0 1px 0 "+this.theme.regularDividerColor,marginBottom:1,cursor:"pointer"}},t}(l.default);t.default=h},b753:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("zmp8"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.created,r=e.deleted;return i.createElement("div",{style:this.getStyle(Boolean(t))},i.createElement("div",{style:this.getLabelStyle()},this.props.title),i.createElement("div",{style:a({},r&&{opacity:.4,marginBottom:6,textDecoration:"line-through"})},this.props.children))},t.prototype.getStyle=function(e){return a({boxShadow:"inset 0 0 0 1px "+this.props.theme.regularDividerColor,borderRadius:3,padding:"6px 8px",fontSize:14,overflow:"hidden",flexGrow:1,marginTop:4,marginBottom:4},e&&{color:l.default.diffTextColor,backgroundColor:l.default.diffBackground})},t.prototype.getLabelStyle=function(){return{fontSize:12,lineHeight:1,marginTop:2,color:this.props.theme.regularTextColor}},t}(i.PureComponent);t.default=s},b936:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("r8oj"),s=r("i3uR"),u=r("t+pW"),c=r("Na01"),d=r("9G5n"),p=r("uSCg"),f=r("y6Dp"),h=r("AOw3"),m=r("q2qQ"),y=r("mF3+"),g=r("QcDD"),v=r("9vSW"),b=r("BLi8"),w=r("MeYt"),S=r("MBf9"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderOrigin=function(e){var r=t.props,n=r.isMobile,o=r.onClick;return i.createElement(h.default,{store:t.clonedStore,canDropOnto:!0,onSelectableDrop:t.handleDrop,analyticsName:"sibebar_trash",shouldShowDropZone:!0},i.createElement(w.default,a({onClick:t.handleClick},p.default(e,{onClick:o})),i.createElement(c.default,{left:t.renderIcon(),style:a({},v.default.state.open&&{background:t.theme.buttonHoveredBackground}),isMobile:n,disableMobileBorder:!0},"Trash")))},t.renderSidebarTrash=function(){var e=g.default.state.currentSpaceStore;if(e)return i.createElement(d.default,{spaceStore:e})},t.handleClick=function(e){b.default.setState(a({},b.default.state,{currentTab:"all_pages"})),f.trackOpenTrash()},t.handleDrop=function(e){var t=e.droppedStores;e.duplicate||S.createAndCommit(function(e){m.removeBlocks({blocks:t,transaction:e})})},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),this.clonedStore=t.store.clone()},t.prototype.renderComponent=function(){return i.createElement(s.default,{popupType:l.default.isMobile?s.default.PopupType.SlideUp:s.default.PopupType.Popup,buttonPopupStore:v.default,alignmentToOrigin:s.default.Alignment.Start,placementToOrigin:s.default.Placement.Right,originGap:0,onClick:this.handleClick,isFullWidthOnMobile:!0,render:this.renderSidebarTrash,preventScaleTransition:!0,renderOrigin:this.renderOrigin})},t.prototype.renderIcon=function(){var e=this.theme.mediumIconColor;return l.default.isMobile?y.default.sidebarTrash({fill:e,height:16}):y.default.sidebarTrash({fill:e,width:14})},t}(u.default);t.default=_},bAi4:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("IwFn"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=this.props,n=r.columns,o=r.rows;return i.createElement("table",{style:this.getStyle()},i.createElement("thead",null,i.createElement("tr",{style:t.headerRowStyle},n.map(function(e){return i.createElement("th",{key:e.value,style:a({},t.tableHeaderStyle,e.style)},i.createElement(l.default,null,e.value))}))),i.createElement("tbody",null,o.map(function(r){return i.createElement("tr",{key:r.key,style:e.getRowStyle()},r.columns.map(function(e,r){var o=n[r];return i.createElement("td",{key:o.value,style:t.cellStyle},e)}))})))},t.prototype.getStyle=function(){return{width:"100%",fontSize:13,borderTop:"1px solid "+this.theme.regularDividerColor,borderBottom:"1px solid "+this.theme.regularDividerColor}},t.prototype.getRowStyle=function(){return{width:"100%",borderTop:"1px solid "+this.theme.regularDividerColor}},t.cellPaddingTopBottom=4,t.headerRowStyle={height:32,width:"100%"},t.tableHeaderStyle={textAlign:"left",paddingTop:t.cellPaddingTopBottom,paddingBottom:t.cellPaddingTopBottom},t.cellStyle={paddingTop:t.cellPaddingTopBottom,paddingBottom:t.cellPaddingTopBottom},t}(r("t+pW").default);t.default=s},bB9B:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("N34Z"),l=r("jZoB"),s=r("6rsX"),u=r("unoy"),c=r("sPNb"),d=r("5w/s"),p=r("Mf5Y"),f=r("w5u6"),h=r("udrG"),m=r("30UQ"),y=r("MBf9"),g=r("lufz"),v=r("y6Dp"),b=r("VBxf");function w(e){var t=e.store,r=e.transaction,n=i.createBlock({type:"text",recordCacheStore:t.recordCacheStore,transaction:r}),o=l.append({parent:t.getContentStore(),append:n,transaction:r}).child;f.default.afterNextFlush(function(){s.edit({store:o}),u.setSelectionAtStart({store:o.getBlockTitleStore()})})}t.createEmptyPage=w,t.createNewPageWithIcon=function(e){var t=e.store,r=e.transaction;d.addRandomPageEmojiIcon({store:t,transaction:r}),w({store:t,transaction:r})},t.createNewCollection=function(e){var t=e.store,r=e.template,n=e.transaction,o=t.getValue();p.initializeTemplate({sourceBlockId:"root",targetBlockId:t.id,sourceBlockSubtree:r,targetRecordCacheStore:t.recordCacheStore,transaction:n}),c.transform({block:t,blockType:"collection_view_page",transaction:n});var a=t.getCollectionViewCollectionStore();if(a){var l={name:o&&o.properties&&o.properties.title?o.properties.title:void 0,icon:o&&o.format&&o.format.page_icon?o.format.page_icon:void 0,cover:o&&o.format&&o.format.page_cover?o.format.page_cover:void 0,format:{collection_cover_position:o&&o.format&&void 0!==o.format.page_cover_position?o.format.page_cover_position:void 0}};i.updateValue({store:a,data:l,transaction:n})}f.default.afterNextFlush(function(){var e=t.getTitleStore();e&&(s.clear(),u.setSelectionAtStart({store:e}))})},t.createCollectionTemplate=function(e){var t=e.collectionStore,r=e.transaction,n=i.createBlock({type:h.default.page,recordCacheStore:t.recordCacheStore,transaction:r});return i.updateValue({store:n,data:{is_template:!0},transaction:r}),l.append({parent:t.getTemplatePagesStore(),append:n,transaction:r}),n},t.duplicateCollectionTemplate=function(e){var t=e.collectionStore,r=e.templateStore,n=e.transaction,o=i.createBlock({type:h.default.page,recordCacheStore:r.recordCacheStore,transaction:n});i.updateValue({store:o,data:{is_template:!0},transaction:n}),l.insertAfter({parent:t.getTemplatePagesStore(),after:r,insert:o,transaction:n});var a=y.create();return m.initializePageTemplate({pageStore:o,copyBlockId:r.id,addCopyName:!0,transaction:a}).then(function(){y.commit({transaction:a})}).catch(function(){b.showError({error:new Error("Duplicate template failed.")})}),o},t.deleteCollectionTemplate=function(e){var t=e.collectionStore,r=e.templateStore,n=e.transaction;l.remove({parent:t.getTemplatePagesStore(),remove:r,transaction:n}),g.setAlive({childStore:r,alive:!1,transaction:n})},t.initializeCollectionTemplate=function(e){return o(this,void 0,void 0,function(){var t,r,o,l,s;return a(this,function(a){switch(a.label){case 0:return t=e.store,r=e.templateStore,o=e.isKeyboard,l=y.create(),s=t.getProperties(),[4,m.initializePageTemplate({pageStore:t,copyBlockId:r.id,transaction:l})];case 1:return a.sent(),i.updateValue({store:t.getPropertiesStore(),data:n({title:null},s),transaction:l}),i.updateValue({store:t,data:{is_template:null,created_by:null,created_time:null},transaction:l}),0===t.getContentIds().length&&w({store:t,transaction:l}),y.commit({transaction:l}),v.trackActivateCollectionTemplate({page_id:r.id,is_keyboard:o}),[2]}})})},t.handleCollectionTemplatesReorder=function(e){return o(this,void 0,void 0,function(){var t,r,n;return a(this,function(o){return t=e.collectionStore,r=e.newTemplateIds,n=e.transaction,i.updateValue({store:t,data:{template_pages:r},transaction:n}),[2]})})}},bBQD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("5Nka"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("div",{style:t.wrapStyle},a.createElement("img",{src:l.default.front.tweetsEvernotePng,style:t.imageStyle}))},t.wrapStyle={overflowY:"auto",width:"100vw",overflow:"auto",WebkitOverflowScrolling:"touch",textAlign:"center",padding:"0 24px 12px"},t.imageStyle={pointerEvents:"none",width:1228,height:711},t}(i.default);t.default=s},bFnu:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{mouseEntered:!1,mousePressed:!1}},t.prototype.enter=function(){this.setState(a({},this.state,{mouseEntered:!0}))},t.prototype.exit=function(){this.setState(a({},this.state,{mouseEntered:!1}))},t}(r("LEzx").default);t.default=i},"bK/N":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("S26v"),l=r("r8oj"),s=r("VMJe");t.electronApi=window.__electronApi,t.openInNewWindow=function(e){if(t.electronApi){var r=i.removeBaseUrl(e);t.electronApi.openInNewWindow(r)}},t.openInBrowser=function(e){t.electronApi&&t.electronApi.openExternalUrl(e)},t.clearBrowserHistory=function(){t.electronApi&&t.electronApi.clearBrowserHistory()},t.getDesktopVersion=function(){if(t.electronApi){var e=t.electronApi.getAppVersion();if(e)return s.parseVersion(e)}},t.setBadge=function(e){if(t.electronApi)return t.electronApi.setBadge(e)},t.windowFocus={addListener:function(e){t.electronApi&&t.electronApi.windowFocus.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.windowFocus.removeListener(e)}},t.electronUpdateReady={addListener:function(e){t.electronApi&&t.electronApi.updateReady.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.updateReady.removeListener(e)}},t.electronUpdateError={addListener:function(e){t.electronApi&&t.electronApi.updateError&&t.electronApi.updateError.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.updateError&&t.electronApi.updateError.removeListener(e)}},t.checkForUpdates=function(){t.electronApi&&t.electronApi.checkForUpdates&&t.electronApi.checkForUpdates()},t.electronUpdateChecking={addListener:function(e){t.electronApi&&t.electronApi.updateChecking&&t.electronApi.updateChecking.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.updateChecking&&t.electronApi.updateChecking.removeListener(e)}},t.electronUpdateAvailable={addListener:function(e){t.electronApi&&t.electronApi.updateAvailable&&t.electronApi.updateAvailable.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.updateAvailable&&t.electronApi.updateAvailable.removeListener(e)}},t.electronUpdateNotAvailable={addListener:function(e){t.electronApi&&t.electronApi.updateNotAvailable&&t.electronApi.updateNotAvailable.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.updateNotAvailable&&t.electronApi.updateNotAvailable.removeListener(e)}},t.electronUpdateProgress={addListener:function(e){t.electronApi&&t.electronApi.updateProgress&&t.electronApi.updateProgress.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.updateProgress&&t.electronApi.updateProgress.removeListener(e)}},t.appUpdateReady={addListener:function(e){t.electronApi&&t.electronApi.appUpdateReady&&t.electronApi.appUpdateReady.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.appUpdateReady&&t.electronApi.appUpdateReady.removeListener(e)}},t.appUpdateError={addListener:function(e){t.electronApi&&t.electronApi.appUpdateError&&t.electronApi.appUpdateError.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.appUpdateError&&t.electronApi.appUpdateError.removeListener(e)}},t.appUpdateChecking={addListener:function(e){t.electronApi&&t.electronApi.appUpdateChecking&&t.electronApi.appUpdateChecking.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.appUpdateChecking&&t.electronApi.appUpdateChecking.removeListener(e)}},t.appUpdateAvailable={addListener:function(e){t.electronApi&&t.electronApi.appUpdateAvailable&&t.electronApi.appUpdateAvailable.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.appUpdateAvailable&&t.electronApi.appUpdateAvailable.removeListener(e)}},t.appUpdateNotAvailable={addListener:function(e){t.electronApi&&t.electronApi.appUpdateNotAvailable&&t.electronApi.appUpdateNotAvailable.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.appUpdateNotAvailable&&t.electronApi.appUpdateNotAvailable.removeListener(e)}},t.appUpdateReload={emit:function(e){t.electronApi&&t.electronApi.appUpdateReload&&t.electronApi.appUpdateReload.emit(e)},addListener:function(e){t.electronApi&&t.electronApi.appUpdateReload&&t.electronApi.appUpdateReload.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.appUpdateReload&&t.electronApi.appUpdateReload.removeListener(e)}},t.appUpdateProgress={addListener:function(e){t.electronApi&&t.electronApi.appUpdateProgress&&t.electronApi.appUpdateProgress.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.appUpdateProgress&&t.electronApi.appUpdateProgress.removeListener(e)}},t.appUpdateFinished={addListener:function(e){t.electronApi&&t.electronApi.appUpdateFinished&&t.electronApi.appUpdateFinished.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.appUpdateFinished&&t.electronApi.appUpdateFinished.removeListener(e)}},t.installElectronUpdate=function(){t.electronApi&&t.electronApi.installUpdate()},t.displayConfirmDialog=function(e){if(t.electronApi)return t.electronApi.displayConfirmDialog(e)},t.fullscreen={get:function(){if(t.electronApi)return t.electronApi.fullscreen.get()},addListener:function(e){t.electronApi&&t.electronApi.fullscreen.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.fullscreen.removeListener(e)}},t.inPageSearch={start:function(e){t.electronApi&&t.electronApi.inPageSearch&&t.electronApi.inPageSearch.start(e)},stop:function(){t.electronApi&&t.electronApi.inPageSearch&&t.electronApi.inPageSearch.stop()},started:{addListener:function(e){t.electronApi&&t.electronApi.inPageSearch&&t.electronApi.inPageSearch.started.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.inPageSearch&&t.electronApi.inPageSearch.started.removeListener(e)}},stopped:{addListener:function(e){t.electronApi&&t.electronApi.inPageSearch&&t.electronApi.inPageSearch.stopped.addListener(e)},removeListener:function(e){t.electronApi&&t.electronApi.inPageSearch&&t.electronApi.inPageSearch.stopped.removeListener(e)}}};var u,c=function(e,t,r){return Math.min(Math.max(e,r),t)};t.zoomIn=function(){if(t.electronApi&&t.electronApi.zoom){var e=t.electronApi.zoom.get();t.electronApi.zoom.set(c(.1,4.9,e+.1))}},t.zoomOut=function(){if(t.electronApi&&t.electronApi.zoom){var e=t.electronApi.zoom.get();t.electronApi.zoom.set(c(.1,4.9,e-.1))}},t.toggleMaximized=function(){t.electronApi&&t.electronApi.toggleMaximized&&t.electronApi.toggleMaximized()},t.openDevTools=function(){t.electronApi&&t.electronApi.openDevTools&&t.electronApi.openDevTools()},t.getSubstitutions=function(){return u||(u=t.electronApi&&t.electronApi.getSubstitutions&&l.default.isElectronMac?t.electronApi.getSubstitutions().filter(function(e){return e.replace!==e.with}).map(function(e){return{length:e.replace.length,replace:new RegExp("\\b"+a.escapeRegExp(e.replace)+" $"),with:e.with+" "}}):[])},t.shouldSendNotification=function(){return!t.electronApi||!t.electronApi.isMainWindow||t.electronApi.isMainWindow()},t.setTheme=function(e){t.electronApi&&t.electronApi.setTheme&&t.electronApi.setTheme(e)},t.onNewWindow=function(e){t.electronApi&&t.electronApi.newWindow&&t.electronApi.newWindow.addListener(e)},t.openOauthPopup=function(e){return n(this,void 0,void 0,function(){return o(this,function(r){return t.electronApi&&t.electronApi.openOauthPopup?[2,t.electronApi.openOauthPopup(e)]:[2]})})},t.setLogglyData=function(e){t.electronApi&&t.electronApi.setLogglyData&&t.electronApi.setLogglyData(e)},t.clearCookies=function(){t.electronApi&&t.electronApi.clearCookies&&t.electronApi.clearCookies()},t.getAppPath=function(){if(t.electronApi&&t.electronApi.getAppPath)return t.electronApi.getAppPath()}},bPtJ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("z22Z"),s=r("+DAh"),u=r("LEzx"),c=r("dACB");function d(e,t,r){var n=f.getChildStoreKey(t,r,f.keyName,[]),o=e.getRecordStoreChildStore(n),a=o||new f(t,r,[],e.recordCacheStore);return o||a.setRecordStoreParent(e,n),a}function p(e,t,r,n){var o=f.getChildStoreKey(t,r,f.keyName,n),a=e.getRecordStoreChildStore(o),i=a||new f(t,r,n,e.recordCacheStore);return a||i.setRecordStoreParent(e,o),i}t.createRecordStore=d,t.createRecordPathStore=p,t.createRecordKeyStore=function(e,t,r,n){return p(e,t,r,[n])};var f=function(e){function t(r,n,o,a){void 0===o&&(o=[]);var i=e.call(this)||this;return i.childStoreMap={},i.addedListeners=!1,i.key=t.key++,i.handleRecordDataChange=function(){i.emit()},i.table=r,i.id=n,i.path=o,i.recordCacheStore=a||s.default,i.isDefaultRecordCache()&&c.subscribe({table:r,id:n}),i}return o(t,e),t.prototype.getInitialState=function(){return{ready:!1}},t.prototype.isTable=function(e){return this.table===e},t.prototype.getState=function(){var t=this.recordCacheStore.getRecord(this.table,this.id)||{};return this.path&&this.path.length>0?this.instanceState.value=i.get(t.value,this.path):this.instanceState.value=t.value,this.instanceState.role=t.role,this.instanceState.ready=!!t.role,e.prototype.getState.call(this)},t.prototype.getRole=function(){return this.state.role},t.prototype.getValue=function(){return this.state.value},t.prototype.getRecordStoreAtRootPath=function(){return d(this,this.table,this.id)},t.prototype.hasValue=function(){return Boolean(this.state.value)},t.prototype.isDefaultRecordCache=function(){return this.recordCacheStore===s.default},t.prototype.isRootChild=function(){return!this.recordStoreAncestor(3)},t.prototype.isReady=function(){return this.state.ready},t.prototype.canRead=function(){var e=this.getRole();return!e||l.canRead(e)},t.prototype.canComment=function(){var e=this.getRole();return!e||l.canComment(e)},t.prototype.canEdit=function(){var e=this.getRole();return!e||l.canEdit(e)},t.prototype.canAdmin=function(){var e=this.getRole();return!e||l.canAdmin(e)},t.prototype.findChildStore=function(e){return i.find(this.childStoreMap,e)},t.prototype.clone=function(){return new t(this.table,this.id,this.path,this.recordCacheStore)},t.prototype.cloneWithNewParent=function(e){var r=t.getChildStoreKey(this.table,this.id,this.constructor.keyName,this.path),n=e.getRecordStoreChildStore(r),o=n||this.clone();return n||o.setRecordStoreParent(e,r),o},t.prototype.getRoot=function(){for(var e=this;e&&e.recordStoreParentStore;)e=e.recordStoreParentStore;return e},t.prototype.depth=function(){for(var e=this,t=0;e&&e.recordStoreParentStore;)e=e.recordStoreParentStore,t++;return t},t.prototype.contains=function(e){for(var t=e;;){if(t===this)return!0;if(!t.recordStoreParentStore)break;t=t.recordStoreParentStore}return!1},t.prototype.setRecordStoreParent=function(e,t){e.childStoreMap[t]=this,this.recordStoreParentStore=e},t.prototype.getRecordStoreChildStore=function(e){return this.childStoreMap[e]},t.prototype.findRecordStoreAncestor=function(e){for(var t=this,r=void 0;t;){if(e(t))return{ancestor:t,child:r};r=t,t=t.recordStoreParentStore}return{ancestor:void 0,child:void 0}},t.prototype.recordStoreAncestor=function(e){return 0===e?this:this.recordStoreParentStore?this.recordStoreParentStore.recordStoreAncestor(e-1):void 0},t.prototype.recordStoreParent=function(){return this.recordStoreParentStore},t.prototype.addListener=function(t){e.prototype.addListener.call(this,t),this.addExternalListeners()},t.prototype.removeListener=function(t){e.prototype.removeListener.call(this,t),0===this.listenerCount()&&this.removeExternalListeners()},t.prototype.load=function(){var e=this;return new Promise(function(t,r){if(!e.state.ready&&e.id&&e.isDefaultRecordCache()){e.addListener(function r(){e.state.ready&&(t(),e.removeListener(r))})}else t()})},t.prototype.addExternalListeners=function(){if(!this.addedListeners){var e=this.table,t=this.id;this.recordCacheStore.addListenerToRecord(this.table,this.id,this.handleRecordDataChange),this.addedListeners=!0,this.isDefaultRecordCache()&&c.subscribe({table:e,id:t})}},t.prototype.removeExternalListeners=function(){this.addedListeners&&(this.recordCacheStore.removeListenerToRecord(this.table,this.id,this.handleRecordDataChange),this.addedListeners=!1)},t.keyName="RecordStore",t.key=0,t.getChildStoreKey=function(e,t,r,n){var o,i,l=e+":"+t+":"+r;if(n)try{for(var s=a(n),u=s.next();!u.done;u=s.next()){l+=":"+u.value}}catch(e){o={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return l},t}(u.default);t.default=f},bTAb:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{query:""}},t}(r("LEzx").default);t.default=a},bVDK:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("MeYt"),u=r("KcXv"),c=r("mF3+"),d=r("r8oj"),p=r("SR/M"),f=r("zmp8"),h=r("Ma8p"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return this.props.isOverlay?this.renderOverlayMenuItem():this.renderPageMenuItem()},t.prototype.renderOverlayMenuItem=function(){return i.createElement(p.default,{icon:this.props.icon,title:this.props.title,right:this.props.right,focused:this.props.focused,onClick:this.props.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,showDragHandle:!d.default.isMobile&&!this.props.locked,dragHandleDisabled:"empty_page"===this.props.format})},t.prototype.renderPageMenuItem=function(){return i.createElement(s.default,{style:this.getWrapStyle(),hovered:this.props.focused,onClick:this.props.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,hoveredStyle:{background:f.default.blueWithAlpha(.15)},pressedStyle:{background:f.default.blueWithAlpha(.25)}},this.renderIcon(),i.createElement("div",null,this.props.title),this.props.right&&i.createElement("div",{style:{marginLeft:"auto",marginRight:4}},this.props.right))},t.prototype.renderIcon=function(){var e=this.props.format;return"empty_page"===e?i.createElement("div",null,c.default.pageEmpty(this.getBasicIconStyle())):"default_page"===e?i.createElement("div",null,c.default.page(this.getBasicIconStyle())):"templates"===e?i.createElement("div",null,c.default.templatesColor(this.getBasicIconStyle())):"import"===e?i.createElement("div",null,c.default.import(this.getBasicIconStyle())):"table"===e?i.createElement("div",null,c.default.collectionTable(this.getDatabaseIconStyle())):"board"===e?i.createElement("div",null,c.default.collectionBoard(this.getDatabaseIconStyle())):"list"===e?i.createElement("div",null,c.default.collectionList(this.getDatabaseIconStyle())):"calendar"===e?i.createElement("div",null,c.default.collectionCalendar(this.getDatabaseIconStyle())):"gallery"===e?i.createElement("div",null,c.default.collectionGallery(this.getDatabaseIconStyle())):"new_template"===e?i.createElement("div",null,c.default.plus(this.getPlusIconStyle())):"custom_template"===e?this.props.icon:"page_template"===e?i.createElement("div",{style:{marginRight:5}},i.createElement(h.default,{emoji:this.props.emoji,size:24})):void 0},t.prototype.getWrapStyle=function(){return a({},u.itemStyle,{display:"flex",alignItems:"center",flexGrow:1,height:d.default.isMobile?36:32,fontSize:16,borderRadius:3,color:this.theme.lightTextColor})},t.prototype.getBasicIconStyle=function(){return{width:20,fill:this.theme.lightIconColor,marginRight:10}},t.prototype.getDatabaseIconStyle=function(){return{width:16,fill:this.theme.lightIconColor,marginLeft:2,marginRight:12}},t.prototype.getPlusIconStyle=function(){return{width:18,fill:this.theme.lightIconColor,marginLeft:1,marginRight:11}},t}(l.default);t.default=m},"biZ/":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("KcXv"),s=r("n8tN"),u=r("fJHT"),c=r("Sb6f"),d=r("r8oj"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){var e=this.props.disabled;return i.createElement("div",{style:this.getStyle()},i.createElement(u.default,{disabled:e,store:this.props.store.getBlockTitleStore(),placeholder:"Heading 1",placeholderStyle:{WebkitTextFillColor:this.theme.headerBlockPlaceholderTextColor},style:l.itemStyle}),this.renderDiscussion())},t.prototype.getStyle=function(){return a({display:"flex",width:"100%",fontWeight:c.default.fontWeight.semibold,fontSize:d.default.isMobile?"1.5em":"1.875em",lineHeight:1.2,letterSpacing:"-0.002em"},this.getBlockColorStyle(),this.props.style)},t}(s.default);t.default=p},bjn0:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("6SEd"),i=r("njgS"),l=r("bPtJ"),s=r("VpIZ"),u=r("O5tY"),c=r("wpmu"),d=r("HRSx"),p=r("6SEd"),f=function(e){function t(t,r){return e.call(this,a.default.table,t,[],r)||this}return o(t,e),t.createChildStore=function(e,r){var n=l.default.getChildStoreKey(a.default.table,r,t.keyName),o=e.getRecordStoreChildStore(n),i=o||new t(r,e.recordCacheStore);return o||i.setRecordStoreParent(e,n),i},t.prototype.clone=function(){return new t(this.id,this.recordCacheStore)},t.prototype.getNameStore=function(){return l.createRecordKeyStore(this,a.default.table,this.id,"name")},t.prototype.getName=function(){var e=this.getValue();return e&&e.name?e.name:null},t.prototype.getDescriptionStore=function(){return l.createRecordKeyStore(this,a.default.table,this.id,"description")},t.prototype.getDescription=function(){var e=this.getValue();return e&&e.description?e.description:null},t.prototype.getIcon=function(){var e=this,t=this.getValue();if(t)return s.getRecordIcon({table:"collection",value:t,getRecordValue:function(t,r){return l.createRecordStore(e,t,r).getValue()}})},t.prototype.getIconStore=function(){return l.createRecordKeyStore(this,a.default.table,this.id,"icon")},t.prototype.getCoverStore=function(){return l.createRecordKeyStore(this,a.default.table,this.id,"cover")},t.prototype.getSchemaStore=function(){return l.createRecordKeyStore(this,a.default.table,this.id,"schema")},t.prototype.getSchema=function(){var e=this.getValue();if(e)return i.getNormalizedSchema(e);var t=u.default.state.publicPageData;return t&&t.collectionSchema&&t.collectionId===this.id?t.collectionSchema:{}},t.prototype.getFormatStore=function(){return l.createRecordKeyStore(this,a.default.table,this.id,"format")},t.prototype.getFormat=function(){var e=this.getValue();if(e&&e.format)return e.format;var t=u.default.state.publicPageData;return t&&t.collectionFormat&&t.collectionId===this.id?t.collectionFormat:{}},t.prototype.getParentBlockStore=function(){var e=this.getValue();if(e&&e.parent_id&&e.parent_table===d.default.table)return c.default.createChildStore(this,e.parent_id)},t.fromRecordStore=function(e){return t.createChildStore(e,e.id)},t.prototype.getTemplatePageIds=function(){var e=this.getValue();return e&&e.template_pages?e.template_pages:[]},t.prototype.getTemplatePagesStore=function(){return l.createRecordKeyStore(this,p.default.table,this.id,"template_pages")},t.prototype.getTemplatePagesStores=function(){var e=this.getTemplatePagesStore();return(e.getValue()||[]).map(function(t){return c.default.createChildStore(e,t)})},t.keyName="CollectionStore",t}(l.default);t.default=f},bk3b:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("GRWW");t.default=new n.default},bkwR:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__await||function(e){return this instanceof a?(this.v=e,this):new a(e)},i=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},l("next"),l("throw"),l("return"),n[Symbol.asyncIterator]=function(){return this},n;function l(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{(r=o[e](t)).value instanceof a?Promise.resolve(r.value.v).then(u,c):d(i[0][2],r)}catch(e){d(i[0][3],e)}var r}function u(e){s("next",e)}function c(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},s=this;Object.defineProperty(t,"__esModule",{value:!0});var u=r("LvDl"),c=r("E5KU"),d=r("f/Q2"),p=r("922z"),f=r("Fe7V"),h=r("H4VD"),m=r("VBxf"),y=r("A9TN"),g=r("5FB0"),v=r("HyWp"),b=r("nFzZ"),w=r("qqdV"),S=r("T1hA"),_=r("+DAh"),k=r("uwoq"),C=r("glAM"),E=r("HTHG"),P=r("3KLF"),x=r("vJXr"),T=r("H1ac"),O=r("wgT4"),M=r("frzs"),I=r("6Ydq"),A=function(e){var t,r;try{for(var n=l(Object.keys(e)),o=n.next();!o.done;o=n.next()){var a=o.value,i=e[a];(u.isNull(i)||u.isUndefined(i))&&delete e[a]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},D=function(e){e&&e.recordMap&&f.setRecordMap({recordCacheStore:_.default,recordMap:e.recordMap})};var L=function(e){return function(t){return function(e,t){return n(this,void 0,void 0,function(){var r,n;return o(this,function(o){switch(o.label){case 0:return A(t),[4,g.default({url:y.default.api.http+"/"+e,method:"POST",data:t,json:!0})];case 1:return"success"!==(r=o.sent()).type?[3,2]:(D(r.data),[2,r]);case 2:return m.showErrorIfUserPrefix({error:r.error}),r.offline||c.error(r.error),401===r.status&&I.log({level:"error",from:"api",type:"httpTrigger401",data:{response:r,eventName:e,routeName:k.default.state.route.name,isLoggedIn:S.default.isLoggedIn()}}),!O.isUnauthenticatedResponse(r.status,r.body)||!S.default.isLoggedIn()||"page"!==k.default.state.route.name&&"root"!==k.default.state.route.name&&"space"!==k.default.state.route.name?[3,5]:(n="page"===k.default.state.route.name)?[4,E.isExternalPublicPage(k.default.state.route.blockId)]:[3,4];case 3:n=o.sent(),o.label=4;case 4:return n?(M.clearLoggedInUserId(),[2,r]):(M.clearLoggedInUserId(),h.navigate({url:w.login}),[2,r]);case 5:return[2,r];case 6:return[2]}})})}(e,t)}},R=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){return[2,new Promise(function(t,r){G.addOnceListener(e,function(e){t(e)})})]})})},B=new Set,j=function(e){return function(r){return i(this,arguments,function(){var n,i,l;return o(this,function(o){switch(o.label){case 0:return"enqueueTask"===e&&A(r),[4,a(t.enqueueTask({task:{eventName:e,request:r}}))];case 1:return"failed"!==(n=o.sent()).type?[3,4]:[4,a({error:n.error})];case 2:return[4,o.sent()];case 3:return o.sent(),[3,16];case 4:i=n.data.taskId,B.add(i),o.label=5;case 5:return[4,a(R(i))];case 6:return"success"!==(l=o.sent()).state?[3,9]:[4,a({value:l.status})];case 7:return[4,o.sent()];case 8:return o.sent(),[3,16];case 9:return"failure"!==l.state?[3,12]:[4,a({error:new Error(l.error)})];case 10:return[4,o.sent()];case 11:return o.sent(),[3,16];case 12:return"in_progress"===l.state&&l.status?[4,a({value:l.status})]:[3,15];case 13:return[4,o.sent()];case 14:o.sent(),o.label=15;case 15:return[3,5];case 16:return[2]}})})}};t.getAssetsJson=L("getAssetsJson"),t.getAsanaWorkspaces=L("getAsanaWorkspaces"),t.getTrelloBoards=L("getTrelloBoards"),t.duplicateBlock=j("duplicateBlock"),t.findUser=L("findUser"),t.searchBlocks=L("searchBlocks"),t.searchGoogleContacts=L("searchGoogleContacts"),t.searchPages=L("searchPages"),t.searchPagesWithParent=L("searchPagesWithParent"),t.searchCollections=L("searchCollections"),t.searchTrashPages=L("searchTrashPages"),t.createEmailUser=L("createEmailUser"),t.updateSubscription=L("updateSubscription"),t.sendMobileAppLink=L("sendMobileAppLink"),t.getDesktopDownloadUrl=L("getDesktopDownloadUrl"),t.cancelSubscription=L("cancelSubscription"),t.getSubscriptionData=L("getSubscriptionData"),t.importFile=j("importFile"),t.importTrello=j("importTrello"),t.importAsana=j("importAsana"),t.importEvernote=j("importEvernote"),t.exportBlock=j("exportBlock"),t.exportCollection=j("exportCollection"),t.enqueueTask=L("enqueueTask"),t.loginWithEmail=L("loginWithEmail"),t.loginWithGoogleJwt=L("loginWithGoogleJwt"),t.loginWithGoogleAuth=L("loginWithGoogleAuth"),t.logout=L("logout"),t.addWebClipperFile=L("addWebClipperFile"),t.sendTemporaryPassword=L("sendTemporaryPassword"),t.isGoogleAppsEmail=L("isGoogleAppsEmail"),t.disconnectAsana=L("disconnectAsana"),t.disconnectTrello=L("disconnectTrello"),t.disconnectEvernote=L("disconnectEvernote"),t.getActivityLog=L("getActivityLog"),t.changeEmail=L("changeEmail"),t.sendEmailVerification=L("sendEmailVerification"),t.getUploadFileUrl=L("getUploadFileUrl"),t.deleteSpace=j("deleteSpace"),t.deleteUser=j("deleteUser"),t.getPublicPageData=L("getPublicPageData"),t.getInvoiceData=L("getInvoiceData"),t.addUsersToSpace=L("addUsersToSpace"),t.removeUsersFromSpace=L("removeUsersFromSpace"),t.getJoinableSpaces=L("getJoinableSpaces"),t.deleteBlocks=L("deleteBlocks"),t.getUserAnalyticsSettings=L("getUserAnalyticsSettings"),t.submitTransaction=L("submitTransaction");var V=L("getRecordValues");t.loadUserContent=L("loadUserContent"),t.loadPageChunk=L("loadPageChunk"),t.queryCollection=L("queryCollection"),t.renameGroup=j("renameGroup"),t.deleteGroup=j("deleteGroup"),t.getSelectPropertyValues=L("getSelectPropertyValues"),t.getNotificationLog=L("getNotificationLog"),t.getUserSharedPages=L("getUserSharedPages"),t.setNotificationsAsRead=L("setNotificationsAsRead"),t.getUserNotifications=L("getUserNotifications"),t.setPageNotificationsAsReadAndVisited=L("setPageNotificationsAsReadAndVisited"),t.setSpaceInviteNotificationsAsReadAndVisited=L("setSpaceInviteNotificationsAsReadAndVisited"),t.unsubscribeFromEmails=L("unsubscribeFromEmails"),t.leaveBlock=L("leaveBlock"),t.getPublicSpaceData=L("getPublicSpaceData"),t.loadBlockSubtree=L("loadBlockSubtree"),t.initializeUserAnalytics=L("initializeUserAnalytics");var F=L("getSignedFileUrls");t.getBillingHistory=L("getBillingHistory"),t.exportSpace=j("exportSpace"),t.transferPermissionGroup=L("transferPermissionGroup"),t.disableUserAnalytics=L("disableUserAnalytics"),t.createReferral=L("createReferral"),t.unsubscribeFromIntercomEmails=L("unsubscribeFromIntercomEmails"),t.getSnapshotsList=L("getSnapshotsList"),t.getSnapshot=L("getSnapshot"),t.restoreSnapshot=j("restoreSnapshot"),t.sendReferralEmail=L("sendReferralEmail"),t.activateReferral=L("activateReferral"),t.setBookmarkMetadata=L("setBookmarkMetadata"),t.authWithAsana=L("authWithAsana"),t.authWithTrello=L("authWithTrello"),t.authWithSlack=L("authWithSlack"),t.getEvernoteNotebooks=L("getEvernoteNotebooks"),t.getWebClipperData=L("getWebClipperData"),t.addWebClipperURLs=L("addWebClipperURLs"),t.searchWebClipperPages=L("searchWebClipperPages"),t.authWithEvernote=L("authWithEvernote"),t.recoverUser=L("recoverUser"),t.recoverSpace=L("recoverSpace"),t.revokeUserTokens=L("revokeUserTokens"),t.adminSearchUsers=L("adminSearchUsers"),t.adminFindDeletedUser=L("adminFindDeletedUser"),t.adminWhitelistCreditDomain=L("adminWhitelistCreditDomain"),t.searchUnsplashImages=L("searchUnsplashImages"),t.adminSearchSpaces=L("adminSearchSpaces");var N=L("getUserTasks"),U=L("getTasks"),W=new d.default({performRequests:function(e){return n(s,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return[4,V({requests:e})];case 1:if("failed"===(t=r.sent()).type)throw t.error;return[2,t.data.results]}})})},batchSize:500,maxWorkers:1});t.getRecordValue=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:if(!p.isValidRecordRequest(e))return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,W.enqueue(e)];case 2:return[2,t.sent()];case 3:return t.sent(),[3,4];case 4:return[2]}})})};var z=function(e){return[e.url,e.downloadName,e.download].filter(Boolean).join(":")},H=new(function(){function e(){this.lru=new v({max:1e3,maxAge:b.HourMs})}return e.prototype.set=function(e,t){this.lru.set(z(e),t)},e.prototype.get=function(e){return this.lru.get(z(e))},e}()),q=new d.default({performRequests:function(e){return n(s,void 0,void 0,function(){var t,r;return o(this,function(n){switch(n.label){case 0:return[4,F({urls:e})];case 1:if("failed"===(t=n.sent()).type)throw t.error;return r=t.data.signedUrls,e.forEach(function(e,t){var n=r[t];H.set(e,n)}),[2,r]}})})},batchSize:500,maxWorkers:1});t.getSignedFileUrl=function(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){return(t=H.get(e))?[2,t]:[2,q.enqueue(e)]})})};var G=new C.default,Z=new C.default;t.onTaskStatus=function(e,t){Z.addListener(e,t)};var Y=function(){return n(this,void 0,void 0,function(){var e,t,r,n,a,i,s;return o(this,function(o){switch(o.label){case 0:return B.size>0?[4,U({taskIds:Array.from(B.values())})]:[3,2];case 1:if("success"===(r=o.sent()).type){n=r.data.results;try{for(a=l(n),i=a.next();!i.done;i=a.next())(s=i.value).status&&D(s.status),G.emit(s.id,s),Z.emit(s.eventName,s),"failure"!==s.state&&"success"!==s.state||B.delete(s.id)}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}}o.label=2;case 2:return[2]}})})},K=function(){return n(this,void 0,void 0,function(){var e,t,r,n,a,i;return o(this,function(o){switch(o.label){case 0:return[4,N({})];case 1:if("success"===(r=o.sent()).type){try{for(n=l(r.data.taskIds),a=n.next();!a.done;a=n.next())i=a.value,B.add(i)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}r.data.taskIds.length>0&&Y()}return[2]}})})};t.startListeners=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(r){return S.default.state.userId&&(setInterval(Y,1e3),K(),e=x.default.state.online,x.default.addListener(function(){var t=x.default.state.online;t&&!e&&K(),e=t}),t.onTaskStatus("importEvernote",function(e){"success"===e.state?P.default.setStatus(e.request.blockId,void 0):"in_progress"===e.state||"not_started"===e.state?P.default.setStatus(e.request.blockId,e.status):P.default.setStatus(e.request.blockId,void 0)}),t.onTaskStatus("extractWebClipperContent",function(e){"success"===e.state?T.default.setStatus(e.request.blockId,!1):"in_progress"===e.state||"not_started"===e.state?T.default.setStatus(e.request.blockId,!0):T.default.setStatus(e.request.blockId,!1)})),[2]})})}},bmSz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1");t.discussionCommentOnlyAllowedEditColumns=["version","comments"];var o={table:"discussion",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,parent_id:n.default.UUID,parent_table:n.default.String,context:n.default.JSON,resolved:n.default.Boolean,comments:n.default.StringArray},requiredColumns:{parent_id:!0,parent_table:!0,resolved:!0}};t.default=o},brdO:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{inputValue:void 0}},t}(r("LEzx").default);t.default=a},bsBB:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r("q1tI"),s=r("LvDl"),u=r("mF3+"),c=r("OWVv"),d=r("2m/B"),p=r("1y3T"),f=r("t+pW"),h=r("0GcB"),m=r("zmp8");!function(e){e[e.Default=0]="Default",e[e.DefaultWithEmail=1]="DefaultWithEmail",e[e.DefaultWithoutFamilyName=2]="DefaultWithoutFamilyName",e[e.AvatarOnly=3]="AvatarOnly",e[e.EmailOnly=4]="EmailOnly",e[e.GivenNameOnly=5]="GivenNameOnly",e[e.FullNameOnly=6]="FullNameOnly"}(i=t.UserFormat||(t.UserFormat={})),function(e){e[e.Online=0]="Online",e[e.Offline=1]="Offline"}(t.PresenceFormat||(t.PresenceFormat={}));var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderAvatar=function(){var e=t.props.userValue;if(e){var r=e.profile_photo,n=e.given_name,o=e.family_name,i=e.email;if(r)return l.createElement("div",{style:a({},t.getAvatarWrapStyle())},l.createElement("div",{style:a({},t.getAvatarStyle())},l.createElement(p.default,{stripGoogleIconQuery:!0,url:r,permissionRecord:void 0,width:t.props.avatarSize||18,render:function(e,t){return l.createElement(d.default,{src:t,style:{width:"100%",height:"100%",borderRadius:"100%"}})}})));if(n||o||i){var u=void 0;return n?u=s.toArray(n)[0]:o?u=s.toArray(o)[0]:i&&(u=s.toArray(i)[0]),u=u?u.toUpperCase():"",l.createElement("div",{style:a({},t.getAvatarWrapStyle())},l.createElement("div",{style:t.getInitialStyle()},l.createElement("div",null,u)))}return l.createElement("div",{style:a({},t.getAvatarWrapStyle())},l.createElement("div",{style:a({},t.getAvatarStyle())},!t.props.disableAvatarPlaceholder&&t.getPersonIcon()))}return l.createElement("div",{style:a({},t.getAvatarWrapStyle())},l.createElement("div",{style:a({},t.getAvatarStyle())},!t.props.disableAvatarPlaceholder&&t.getPersonIcon()))},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.onMouseEnter,r=e.onMouseLeave,n=e.onMouseDown;switch(this.props.format){case i.AvatarOnly:return l.createElement("div",{style:this.getStyle(),onMouseEnter:t,onMouseLeave:r,onMouseDown:n},this.renderAvatar());case i.DefaultWithEmail:return this.renderUserWithEmail();case i.DefaultWithoutFamilyName:return this.renderUserDefault(!1);case i.EmailOnly:return this.renderEmail({style:this.getStyle()});case i.GivenNameOnly:return l.createElement("div",{style:this.getStyle(),onMouseEnter:t,onMouseLeave:r,onMouseDown:n},this.renderName({showFamilyName:!1,showGivenName:!0,style:this.getStyle()}));case i.FullNameOnly:return l.createElement("div",{style:this.getStyle(),onMouseEnter:t,onMouseLeave:r,onMouseDown:n},this.renderName({showFamilyName:!0,showGivenName:!0,style:this.getStyle()}));default:return this.renderUserDefault()}},t.prototype.renderUserDefault=function(e){void 0===e&&(e=!0);var t=this.props,r=t.inline,n=t.onMouseEnter,o=t.onMouseLeave,a=t.onMouseDown,i=r?{width:"none",minHeight:"none",marginRight:6}:{marginRight:6};return l.createElement(c.default,{left:this.renderAvatar(),alignment:c.Alignment.Center,style:this.getStyle(),leftStyle:i,onMouseEnter:n,onMouseLeave:o,onMouseDown:a},this.renderName({showFamilyName:!0,showGivenName:!0,style:{}}))},t.prototype.renderUserWithEmail=function(){var e=this.props,t=e.onMouseEnter,r=e.onMouseLeave,n=e.onMouseDown;return l.createElement(c.default,{left:this.renderAvatar(),leftStyle:{width:"2em",height:"2em"},alignment:c.Alignment.Center,style:this.getStyle(),onMouseEnter:t,onMouseLeave:r,onMouseDown:n},this.renderName({showFamilyName:!0,showGivenName:!0,style:{}}),l.createElement("div",{style:{fontSize:12,lineHeight:1.333,color:this.theme.mediumTextColor}},this.renderEmail({style:{}})))},t.prototype.renderName=function(e){var r=e.showFamilyName,n=e.showGivenName,o=e.style,i=this.props.userValue;if(i){var s,u=i.given_name,c=i.family_name,d=i.email;if(u&&u.length>0||c&&c.length>0){var p=[];n&&u&&p.push(u),r&&c&&p.push(c),s=p.join(" ")}else s=this.props.userNamePlaceholder?this.props.userNamePlaceholder:d;return l.createElement("div",{style:a({},t.truncateStyle,o)},s)}return this.props.userNamePlaceholder},t.prototype.renderEmail=function(e){var r=e.style,n=this.props.userValue;return n?l.createElement("div",{style:a({},t.truncateStyle,r)},n.email||"Email"):null},t.prototype.getPersonIcon=function(){return u.default.person({width:16,height:16,color:this.theme.regularIconColor})},t.prototype.getStyle=function(){return a({},this.props.style)},t.prototype.getAvatarWrapStyle=function(){var e="dark"===h.default.state.mode,t=this.theme.shadowColor,r=this.theme.shadowOpacity*(e?2:1);return{background:this.theme.contentBackground,borderRadius:"100%",boxShadow:this.props.avatarShouldShowShadow?"0 2px 4px "+t.alpha(r).css():"none"}},t.prototype.getAvatarStyle=function(){return{position:void 0!==this.props.presence?"relative":"static",borderRadius:"100%",width:this.props.avatarSize||18,height:this.props.avatarSize||18,maxWidth:"100%",maxHeight:"100%",background:m.default.white,display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",WebkitUserSelect:"none",opacity:this.props.presence?.3:1}},t.prototype.getInitialStyle=function(){return{boxSizing:"content-box",border:"1px solid currentColor",borderRadius:"100%",width:(this.props.avatarSize||18)-2,height:(this.props.avatarSize||18)-2,lineHeight:(this.props.avatarSize||18)-2+"px",overflow:"hidden",textAlign:"center",fontSize:14,background:this.theme.popoverBackground,userSelect:"none",WebkitUserSelect:"none",color:this.theme.regularTextColor,opacity:this.props.presence?.3:1}},t.Format=i,t.truncateStyle={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},t}(f.default);t.default=y},bt8z:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var c=r("q1tI"),d=r("LvDl"),p=r("IwFn"),f=r("t+pW"),h=r("2A6Q"),m=r("bkwR"),y=r("LB1/"),g=r("ujHu"),v=r("yNyh"),b=r("nFzZ"),w=r("lgA4"),S=r("VBxf"),_=r("aZ00"),k=r("Cycz"),C=r("A9TN"),E=r("6BTz"),P=r("nM47"),x=r("mF3+"),T=r("5Nka"),O=r("y6Dp"),M=r("q1tI"),I=r("QcDD"),A=r("vJXr"),D=r("T1hA"),L=r("r8MX"),R=r("toub"),B=r("Sb6f"),j=r("zmp8"),V=r("prF1"),F=r("IULH"),N=r("Ng05"),U=r("bxQm"),W=r("hvW1"),z=r("sSHh"),H=r("qqdV"),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderCredit=function(e,t){return c.createElement(w.default,{key:e.id,credit:e,isFirst:0===t})},t.renderInvitePlaceholder=function(){return c.createElement("div",{style:{display:"flex",alignItems:"center",borderTop:"1px solid "+t.theme.regularDividerColor,borderBottom:"1px solid "+t.theme.regularDividerColor,paddingTop:4,paddingBottom:4,marginBottom:40}},c.createElement("div",{style:{flex:0}}),c.createElement("div",{style:{flex:1,fontSize:14,marginLeft:4}},c.createElement("div",null,"Invite friends and get free credit."),c.createElement("div",{style:{marginBottom:2,fontSize:12,color:t.theme.mediumTextColor}},"Credit allows you to upgrade for free.")),c.createElement("div",{style:{flex:0}},c.createElement("div",{style:{display:"flex"}},c.createElement("b",{style:{color:t.theme.lightTextColor}},E.formatHumanReadableCurrency(y.creditValueMap.invited_user,"dollar")),c.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20,borderRadius:20,boxShadow:"inset 0 0 0 2px "+t.theme.regularDividerColor,marginLeft:8}}))))},t.handleEmailInputChange=function(e){var r=t.stores.store;r.setState(a({},r.state,{emailInputValue:e.target.value}))},t.handleEmailInputSubmit=function(){return i(t,void 0,void 0,function(){var e,t,r;return l(this,function(n){switch(n.label){case 0:return e=this.stores.store,t=e.state.emailInputValue,W.display({message:"Inviting"}),[4,m.sendReferralEmail({email:t})];case 1:return r=n.sent(),W.close(),"failed"!==r.type?[3,2]:(S.showError({error:r.error}),[3,4]);case 2:return[4,P.refresh()];case 3:n.sent(),e.setState(a({},e.state,{emailInputValue:""})),O.trackReferralInvite(),n.label=4;case 4:return[2]}})})},t.handleCopyLinkClick=function(){_.copyString({stringValue:t.getReferralUrl()}),O.trackReferralCopyLinkClick()},t.handleInviteCreditsToggleShowMoreClick=function(){var e=t.stores.store;e.setState(a({},e.state,{showAllInviteCredits:!e.state.showAllInviteCredits}))},t.handleApplyCreditClick=function(){var e=t.props.data;R.default.setState({open:!0,currentTab:"subscribed_admin"===e.type?"billing":"plans"}),O.trackApplyCreditClick()},t.handleTweetClick=function(){O.trackReferralTweetClick()},t}return o(t,e),t.prototype.willMount=function(){P.refresh()},t.prototype.renderComponent=function(){if(A.default.state.online){var e=this.props.data.credits;return this.renderSettings(e)}return this.renderOfflineMessage()},t.prototype.renderOfflineMessage=function(){return c.createElement(h.default,null,c.createElement(p.default,{style:{textAlign:"center"}},"Please go online to manage your account credit."))},t.prototype.renderSettings=function(e){var r=this.stores.store.state,n=r.emailInputValue,o=r.showAllInviteCredits,i=this.getInviteCredits(e),l=o?i:i.slice(0,t.showInviteCreditCount),s=this.getActionCredits(e),u=e.reduce(function(e,t){return e+(t.activated?t.amount:0)},0);return c.createElement(h.default,null,c.createElement(z.default,{title:"Learn how to earn and apply credits.",href:H.guides.referralsAndCredit,analyticsFrom:"credit_settings"}),h.default.renderDivider(),this.renderCreditBalance(),c.createElement("div",{style:this.getHeaderContainerStyles()},c.createElement("div",{style:this.getHeaderStyles()},"Invite Friends and Earn Credit")),c.createElement("div",{style:this.getDescriptionStyles()},"You’ll receive"," ",c.createElement("b",{style:{color:this.theme.mediumTextColor}},E.formatHumanReadableCurrency(y.creditValueMap.invited_user,"dollar"))," ","in Notion credit when the person you invite signs up for a Notion account, and they’ll also get"," ",c.createElement("b",{style:{color:this.theme.mediumTextColor}},E.formatHumanReadableCurrency(y.creditValueMap.invited_by_user,"dollar"))," ","in credits to get started."),c.createElement("div",{style:this.getInviteRowStyles()},c.createElement("div",{style:this.getInviteStyles()},c.createElement(v.default,{placeholder:"Enter email address...",focusInitial:!0,value:n,onChange:this.handleEmailInputChange,onSubmit:this.handleEmailInputSubmit,style:{height:32,borderTopRightRadius:0,borderBottomRightRadius:0}}),c.createElement(N.default,{isLarge:!0,onClick:this.handleEmailInputSubmit,style:{position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0,marginLeft:-1}},"Invite")),c.createElement("div",{style:this.getExtraButtonsStyles()},c.createElement(V.default,{style:{lineHeight:1},href:this.getTweetUrl(),external:!0,onClick:this.handleTweetClick},c.createElement(F.default,{isLarge:!0},x.default.twitter({width:24,height:24,marginLeft:-4,marginRight:6,fill:j.default.twitterBrandBlueColor}),"Tweet")),c.createElement(F.default,{onClick:this.handleCopyLinkClick,style:{marginLeft:12},isLarge:!0},"Copy Link"))),i.length>0?c.createElement("div",{style:this.getInviteCreditStyles()},l.map(this.renderCredit),i.length>t.showInviteCreditCount&&c.createElement(U.default,{style:{marginTop:8},onClick:this.handleInviteCreditsToggleShowMoreClick},c.createElement("span",null,"Show"," ",i.length-t.showInviteCreditCount," ",o?"less":"more"))):this.renderInvitePlaceholder(),s.length>0&&c.createElement(M.Fragment,null,c.createElement("div",{style:a({},this.getHeaderStyles(),{marginBottom:6})},"Other Ways to Earn Credit"),c.createElement("div",null,s.map(this.renderCredit))),u>0&&c.createElement("div",{style:{display:"flex",alignItems:"center",paddingRight:28,marginTop:16}},c.createElement("div",{style:{marginLeft:"auto",fontSize:14,color:this.theme.mediumTextColor}},"Total credit earned"),c.createElement("div",{style:{minWidth:44,fontWeight:B.default.fontWeight.semibold,textAlign:"right"}},E.formatHumanReadableCurrency(u,"dollar"))))},t.prototype.renderCreditBalance=function(){var e=this.props.data,t=e.availableCredit,r=e.totalCredit,n=L.default.state.data;if(n){var o=k.isSubscribed(n),a=Math.floor(t/C.default.pricing.personal.monthlyPrice),i=r>=y.userMaxCredits;return c.createElement(M.Fragment,null,c.createElement("div",{style:this.getHeaderContainerStyles()},c.createElement("div",{style:this.getHeaderStyles()},"Credit Balance")),c.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:40,fontSize:14}},c.createElement("div",null,"Your current credit balance is"," ",c.createElement("b",{style:{color:this.theme.regularTextColor}},E.formatHumanReadableCurrency(t,"dollar")),".",t>0&&!i&&c.createElement(M.Fragment,null," That's equivalent to"," ",c.createElement("b",{style:{color:this.theme.regularTextColor}},a," month",1!==a?"s":"")," ","of free Notion."),i&&c.createElement(M.Fragment,null," You've exceeded the maximum amount of credit per account, ",E.formatHumanReadableCurrency(y.userMaxCredits,"dollar"),". Any additional credit you earn will not increase your balance.")),t>0&&c.createElement(F.default,{isLarge:!0,onClick:this.handleApplyCreditClick},c.createElement("img",{src:o?T.default.images.sidebarBillingPng:T.default.images.sidebarUpgradePng,width:20,height:20,style:{marginRight:6}}),o?"Apply your credit":"Upgrade for free")))}},t.prototype.getActionCredits=function(e){var t=D.default.state.userId,r=I.default.state.userSettingsStore;if(!t||!r)return[];var n=[],o=r.getValue();if(o&&y.userCanActivateLoginCredit(o)){var a={id:"web_login_default",version:0,amount:y.creditValueMap.web_login,activated:!1,created_timestamp:Date.now(),type:"web_login",user_id:t};n.push(e.find(function(e){return"web_login"===e.type})||a);var i={id:"desktop_login_default",version:0,amount:y.creditValueMap.desktop_login,activated:!1,created_timestamp:Date.now(),type:"desktop_login",user_id:t};n.push(e.find(function(e){return"desktop_login"===e.type})||i);var l={id:"mobile_login_default",version:0,amount:y.creditValueMap.mobile_login,activated:!1,created_timestamp:Date.now(),type:"mobile_login",user_id:t};n.push(e.find(function(e){return"mobile_login"===e.type})||l)}var s={id:"import_evernote_default",version:0,amount:y.creditValueMap.import_evernote,activated:!1,created_timestamp:Date.now(),type:"import_evernote",user_id:t};n.push(e.find(function(e){return"import_evernote"===e.type})||s);var u={id:"browser_extension_default",version:0,amount:y.creditValueMap.browser_extension,activated:!1,created_timestamp:Date.now(),type:"browser_extension",user_id:t};n.push(e.find(function(e){return"browser_extension"===e.type})||u);var c={id:"mobile_share_sheet_default",version:0,amount:y.creditValueMap.mobile_share_sheet,activated:!1,created_timestamp:Date.now(),type:"mobile_share_sheet",user_id:t};return n.push(e.find(function(e){return"mobile_share_sheet"===e.type})||c),n},t.prototype.getInviteCredits=function(e){var t=e.find(function(e){return"invited_by_user"===e.type}),r=e.filter(function(e){return"invited_user"===e.type&&!e.activated}),n=e.filter(function(e){return"invited_user"===e.type&&e.activated});return b.compact(u([t],d.sortBy(r,function(e){return-e.created_timestamp}),d.sortBy(n,function(e){return-e.created_timestamp})))},t.prototype.getTweetUrl=function(){var e="Write, plan, collaborate and get organized with @NotionHQ. Sign up with this link and get "+E.formatHumanReadableCurrency(y.creditValueMap.invited_by_user,"dollar")+" in credit: "+this.getReferralUrl();return"https://twitter.com/intent/tweet?text="+encodeURIComponent(e)},t.prototype.getReferralUrl=function(){var e=D.default.state.userId;if(!e)throw new Error("Must be logged in.");return y.getReferralUrl({baseUrl:C.default.baseURL,userId:e})},t.prototype.getHeaderContainerStyles=function(){return{borderBottom:"1px solid "+this.theme.regularDividerColor,paddingBottom:4,marginBottom:12}},t.prototype.getHeaderStyles=function(){return{fontWeight:B.default.fontWeight.semibold,fontSize:16}},t.prototype.getDescriptionStyles=function(){return{color:this.theme.mediumTextColor,fontSize:12,marginBottom:12}},t.prototype.getInviteRowStyles=function(){return{display:"flex",alignItems:"center",marginBottom:16}},t.prototype.getInviteStyles=function(){return{display:"flex",alignItems:"center",width:"100%"}},t.prototype.getExtraButtonsStyles=function(){return{display:"flex",alignItems:"center",marginLeft:12}},t.prototype.getInviteCreditStyles=function(){return{marginBottom:40}},t.showInviteCreditCount=3,t.stores={store:g.default},t}(f.default);t.default=q},bwRH:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LSDq"),l=r("mT2X"),s=[100,1e3,1e4];function u(e){return e&&e.timestamp?e.timestamp:0}function c(e,t){var r=u(e.value),n=u(t.value);return r===n?0:r>n?1:-1}var d=function(){function e(e){this.store=e,this.queue=new i.AsyncQueue(1)}return e.prototype.get=function(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return[4,this.store.get(e)];case 1:return(t=r.sent())?(this.set(e,t.value,t.important),[2,t.value]):[2]}})})},e.prototype.set=function(e,t,r){return n(this,void 0,void 0,function(){var n=this;return o(this,function(o){return[2,this.queue.enqueue(function(){return n.setWithPurge(e,t,r)})]})})},e.prototype.remove=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.store.remove(e)];case 1:return t.sent(),[2]}})})},e.prototype.scan=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.store.scan(e)];case 1:return t.sent(),[2]}})})},e.prototype.squeeze=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){switch(n.label){case 0:return[4,this.store.getSize()];case 1:return(t=n.sent())>e?(r=t-e+Math.round(e/2),[4,this.purge(r)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.setWithPurge=function(e,t,r){return n(this,void 0,void 0,function(){var n,i,l,u,c,d,p;return o(this,function(o){switch(o.label){case 0:o.trys.push([0,7,8,9]),u=a(s),c=u.next(),o.label=1;case 1:return c.done?[3,6]:(d=c.value,[4,this.attemptSet(e,t,r)]);case 2:return(l=o.sent())?[4,this.purge(d)]:[3,4];case 3:return o.sent(),[3,5];case 4:return[2];case 5:return c=u.next(),[3,1];case 6:return[3,9];case 7:return p=o.sent(),n={error:p},[3,9];case 8:try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}return[7];case 9:throw l}})})},e.prototype.attemptSet=function(e,t,r){return n(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.store.set(e,{id:e,value:t,timestamp:Date.now(),important:r})];case 1:return n.sent(),[3,3];case 2:return[2,n.sent()];case 3:return[2]}})})},e.prototype.purge=function(e){return n(this,void 0,void 0,function(){var t,r=this;return o(this,function(a){switch(a.label){case 0:return t=[],[4,this.store.scan(function(r,n){n.important||(l.add(t,{key:r,value:n},c),t.splice(e))})];case 1:return a.sent(),[4,Promise.all(t.map(function(e){return n(r,void 0,void 0,function(){return o(this,function(t){return[2,this.store.remove(e.key)]})})}))];case 2:return a.sent(),[2]}})})},e}();t.AsyncLRU=d;var p=function(){function e(e){this.store=e}return e.prototype.get=function(e){var t=this.store.get(e);if(t)return this.set(e,t.value,t.important),t.value},e.prototype.set=function(e,t,r){var n,o,i;try{for(var l=a(s),u=l.next();!u.done;u=l.next()){var c=u.value;if(!(i=this.attemptSet(e,t,r)))return;this.purge(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}throw i},e.prototype.remove=function(e){this.store.remove(e)},e.prototype.scan=function(e){this.store.scan(e)},e.prototype.squeeze=function(e){var t=this.store.getSize();if(t>e){var r=t-e+Math.round(e/2);this.purge(r)}},e.prototype.attemptSet=function(e,t,r){try{this.store.set(e,{id:e,value:t,timestamp:Date.now(),important:r})}catch(e){return e}},e.prototype.purge=function(e){var t=this,r=[];this.store.scan(function(t,n){n.important||(l.add(r,{key:t,value:n},c),r.splice(e))}),r.map(function(e){return t.store.remove(e.key)})},e}();t.SyncLRU=p},bxQm:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("MeYt"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,{onClick:this.props.onClick,disabled:this.props.disabled,style:this.getButtonStyle(),disabledFeedback:this.props.disabledFeedback},this.props.children)},t.prototype.getButtonStyle=function(){return a({display:"inline-flex",alignItems:"center",whiteSpace:"nowrap",height:20,borderRadius:3,fontSize:12,lineHeight:1.2,paddingLeft:5,paddingRight:5,color:this.theme.mediumTextColor},this.props.underlined&&{textDecoration:"underline"},this.props.style)},t}(l.default);t.default=u},"c/kg":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("7M94"),l=r("zmp8"),s=r("n8tN"),u=r("pqiZ"),c=r("r8oj"),d=r("hi+p"),p=r("6rsX"),f=r("BJyN"),h=r("sjR4"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){c.default.isMobile&&(p.select({store:t.props.store}),d.showAtPosition({stores:h.default.state.stores,left:e.clientX,top:e.clientY,actions:f.blockActions,showInput:!0,analyticsFrom:"content_block_menu"}))},t}return o(t,e),t.prototype.renderPersisted=function(){return a.createElement(u.default,{className:i.cursorDefault,size:13,style:{color:l.default.contentBorder,pointerEvents:"auto"},onClick:this.handleClick})},t}(s.default);t.default=m},cAFl:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isUploading:!1,viewSelectMenuAnimatingOut:!1,filterMenuAnimatingOut:!1,sortMenuAnimatingOut:!1,groupMenuAnimatingOut:!1,propertiesMenuAnimatingOut:!1,searchAnimatingOut:!1,calendarByMenuAnimatingOut:!1,calendarNoDateMenuAnimatingOut:!1,addItemMenuAnimatingOut:!1}},t}(r("LEzx").default);t.default=a},cB6M:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,iconSvg:l.default.figma,mediaMenuCurrentTab:"embed",mediaMenuTabs:["embed"],mediaMenuEmbedCaption:"Works with any public Figma sharable link..."}),"Embed Figma")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},cBVm:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("q1tI"),c=r("mF3+"),d=r("frzs"),p=r("sdlW"),f=r("y6Dp"),h=r("sZEU"),m=r("r8oj"),y=r("IwFn"),g=r("t+pW"),v=r("RGVD"),b=r("pqiZ"),w=r("9M6r"),S=r("IdSf"),_=r("CTEM"),k=r("MBf9"),C=r("ECjM"),E=r("NQmS"),P=r("Z1H8"),x=r("5/h/"),T=r("bPtJ"),O=r("H4VD"),M=r("qqdV"),I=r("QcDD"),A=r("vJXr"),D=r("T1hA"),L=r("Sb6f"),R=r("Ng05"),B=r("IYZQ"),j=r("prF1"),V=r("d9nj"),F=r("enHn"),N=r("xcfP"),U=r("Ma8p"),W=r("0Xty"),z=r("xPNA"),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.didPerformAction=!1,t.handleHelpButtonClick=function(){h.openIntercomMessages({from:"page_error"})},t.handleGoBackClick=function(){var e=I.default.state,t=e.userRootStore,r=e.userSettingsStore;t&&r&&p.navigateToFirstSpace({userRootStore:t,userSettingsStore:r})},t.handleCreateAccountClick=function(){return i(t,void 0,void 0,function(){var e,t,r;return l(this,function(n){return e=I.default.state,t=e.userRootStore,r=e.userStore,t&&r&&(this.stores.store.setState(a({},this.stores.store.state,{isCreatingSpace:!0})),E.createOrJoinSpace(),this.stores.store.setState(a({},this.stores.store.state,{isCreatingSpace:!1}))),[2]})})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.publicPageData;if(!this.didPerformAction&&e){if(A.default.state.online){if(e.spaceName){var t=I.default.state.userRootStore;if(this.isLoggedIn()){if(!t||!t.isReady())return;var r=t.getSpaceViewStores();if(!r.every(function(e){return e.isReady()}))return;return r.find(function(t){return t.getSpaceId()===e.spaceId})&&"page"===this.props.route.name?this.renderWorkspacePrivatePageNoAccess(e):e.canJoinSpace?(this.performJoinWorkspaceRedirect(e),null):this.renderWorkspaceNoAccess(e)}return this.renderLoggedOutWorkspace(e)}return this.render404()}return this.renderOffline()}},t.prototype.renderOffline=function(){return f.trackPageError({type:"offline"}),s.createElement("div",{style:this.getStyle()},s.createElement("div",{style:this.getGreetingStyle()},"Oops, you seem to be offline. Please go online to view this page.",this.renderLoggedInFooter()))},t.prototype.renderWorkspaceNoAccess=function(e){return f.trackPageError({type:"team_no_access"}),s.createElement("div",{style:this.getStyle()},this.renderIcon(e),s.createElement("div",{style:this.getGreetingStyle()},"You do not have access to"," ",s.createElement("span",{style:t.headerBoldStyle},e.spaceName),". Please contact an admin to add you as a member."),this.renderNavigateButton(),this.renderLoggedInFooter())},t.prototype.renderWorkspacePrivatePageNoAccess=function(e){var r;f.trackPageError({type:"team_page_no_access"});var n=I.default.state.currentBlockStore;e.ownerUserId&&n&&(r=T.createRecordStore(n,"notion_user",e.ownerUserId).getValue());return s.createElement("div",{style:this.getStyle()},this.renderIcon(e),s.createElement("div",{style:this.getGreetingStyle()},"This is a private page in"," ",s.createElement("span",{style:t.headerBoldStyle},e.spaceName),". Please contact"," ",r?x.getFullName(r)+" ("+r.email+")":"the page owner"," ","to invite you to collaborate."),this.renderNavigateButton(),this.renderLoggedInFooter())},t.prototype.renderLoggedOutWorkspace=function(e){var r=this;return f.trackPageError({type:"team_login"}),s.createElement(P.default,{capture:!0,render:function(n){return s.createElement("div",a({style:r.getStyle()},n),r.renderLogo(),r.renderIcon(e),s.createElement("div",{style:r.getGreetingStyle()},"Welcome to"," ",s.createElement("span",{style:t.headerBoldStyle},e.spaceName)," on Notion. Please log in or sign up to continue."),s.createElement(w.default,{emailLabel:"Work Email",style:t.loginStyle,emailPasscodePlaceholder:"Enter login code",emailInputAutoFocus:!0}),m.default.isMobile&&s.createElement(u.Fragment,null,s.createElement("div",{style:{height:1,width:"100vw",background:r.theme.regularDividerColor,marginTop:36,marginBottom:36}}),s.createElement(R.default,{style:{width:280},isLarge:!0,onClick:function(){O.openInNativeApp(window.location.href)}},m.default.isIOS?c.default.appleLogo(t.storeIconStyle):c.default.googlePlay(t.storeIconStyle)," ","Open in Mobile App"),s.createElement(S.default,{href:m.default.isIOS?M.appStore:M.playStore,external:!0,innerStyle:{marginTop:16}},s.createElement(y.default,{style:{textDecoration:"underline",fontSize:14}},"Get Mobile App"))),r.renderLoggedOutFooter())}})},t.prototype.render404=function(){var e=this.isLoggedIn();return f.trackPageError({type:"404"}),s.createElement("div",{style:this.getStyle()},!this.isLoggedIn()&&this.renderLogo(),this.renderIcon({icon:"👽"}),s.createElement("div",{style:this.getGreetingStyle()},"This content does not exist"),!e&&this.renderLoggedOutFooter(),e&&this.renderNavigateButton(),this.renderDidivider(),s.createElement(y.default,{style:{textAlign:"center"}},"Having trouble?"," ",s.createElement(B.default,{onClick:this.handleHelpButtonClick},"Message us")))},t.prototype.renderIcon=function(e){var t={marginBottom:m.default.isMobile?12:16},r=m.default.isMobile?48:64,n=_.default(e.icon)?e.icon:void 0,o=_.default(e.icon)?void 0:e.icon;return o?s.createElement("div",{style:t},s.createElement(N.default,{size:r,imageURL:o,permissions:void 0})):n?s.createElement("div",{style:t},s.createElement(U.default,{size:r,emoji:n})):e.spaceName?s.createElement("div",{style:t},s.createElement(W.default,{size:r,title:e.spaceName})):s.createElement("div",{style:t},s.createElement(z.default,{size:r,isEmptyPage:!1}))},t.prototype.renderDidivider=function(){return s.createElement(b.default,{size:48,innerStyle:{maxWidth:280}})},t.prototype.renderNavigateButton=function(){var e=I.default.state.userRootStore,t=this.stores.store.state.isCreatingSpace;return e&&0===e.getSpaceViewIds().length||t?s.createElement(R.default,{isLarge:!0,onClick:this.handleCreateAccountClick,disabled:t},"Create or Join a Workspace"):s.createElement(R.default,{isLarge:!0,style:{marginTop:8},onClick:this.handleGoBackClick},"Back to My Content")},t.prototype.renderLoggedInFooter=function(){var e=F.default.isEmpty(),t=s.createElement(y.default,{hasMarginTop:!0},"You might need to"," ",s.createElement(B.default,{href:M.logout,onClick:d.logout},"log in")," ","with a different email, or"," ",s.createElement(B.default,{onClick:this.handleHelpButtonClick},"message us")," ","for help."),r=s.createElement(y.default,{hasMarginTop:!0},s.createElement(B.default,{onClick:this.handleHelpButtonClick},"Message us")," ","for help.");return s.createElement("div",{style:{textAlign:"center"}},this.renderDidivider(),s.createElement(y.default,{hasMarginTop:!0},"You are currently logged in as"," ",s.createElement(v.default,{format:v.default.Format.EmailOnly,style:{display:"inline",color:this.theme.regularTextColor}})),e?t:r)},t.prototype.renderLoggedOutFooter=function(){return s.createElement("div",{style:t.loggedOutFooterWrapStyle},s.createElement(j.default,{href:M.product,external:!0},s.createElement(V.default,{isGray:!0},c.default.notionLogo({width:16,height:16,marginRight:8}),"What is Notion?")),s.createElement(V.default,{onClick:this.handleHelpButtonClick,style:{marginLeft:4},isGray:!0},"Message Us"),s.createElement(j.default,{href:M.termsAndPrivacy,external:!0,style:{marginLeft:4}},s.createElement(V.default,{isGray:!0},"Terms")))},t.prototype.renderLogo=function(){return s.createElement("div",{style:t.logoStyle},s.createElement(S.default,{href:M.product},s.createElement("div",{style:{display:"flex",alignItems:"center",padding:4,width:98}},c.default.notionLogo({width:m.default.isSmallScreen?28:30,height:m.default.isSmallScreen?28:30,marginRight:8}),s.createElement("span",null,"Notion"))))},t.prototype.isLoggedIn=function(){return!!D.default.state.userId},t.prototype.performJoinWorkspaceRedirect=function(e){this.didPerformAction=!0;var t=I.default.state,r=t.userRootStore,n=t.userSettingsStore;if(r&&n&&e.spaceId){var o=e.spaceId;k.createAndCommit(function(e){p.joinSpace({userRootStore:r,spaceId:o,navigate:!0,analyticsFrom:"page_error",userSettingsStore:n})})}},t.prototype.getStyle=function(){return{width:"100vw",paddingLeft:m.default.isMobile?16:30,paddingRight:m.default.isMobile?16:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},t.prototype.getGreetingStyle=function(){return{fontSize:m.default.isMobile?18:30,marginBottom:8,textAlign:"center",color:this.theme.regularTextColor,maxWidth:640,lineHeight:1.3}},t.stores={store:C.default},t.headerBoldStyle={fontWeight:L.default.fontWeight.bold},t.loginStyle={marginTop:m.default.isMobile?0:8,maxWidth:280},t.logoStyle={position:"absolute",top:0,left:0,right:0,display:"flex",alignItems:"center",height:54,fontSize:15,paddingLeft:8},t.storeIconStyle={width:14,height:14,marginRight:6,flexShrink:0},t.loggedOutFooterWrapStyle={display:"flex",justifyContent:"center",position:"absolute",left:0,right:0,bottom:16},t}(g.default);t.default=H},cBa6:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("dP7y"),l=r("LvDl"),s=r("S26v"),u=r("cDc9");function c(e){return 1===e.length}function d(e){return 2===e.length&&"a"===e[0]}function p(e){return 2===e.length&&"m"===e[0]}function f(e){return 2===e.length&&"u"===e[0]}function h(e){return 2===e.length&&"p"===e[0]}function m(e){return 2===e.length&&"d"===e[0]}function y(e){return f(e)||h(e)||m(e)}function g(e){return e.filter(function(e){return p(e)})}function v(e){return e.find(function(e){return m(e)})}function b(e){return 2===e.length&&e[0]!==t.mentionTokenTextValue}function w(e){return 2===e.length&&e[0]===t.mentionTokenTextValue}function S(e){return e[0]}function _(e){return e[0]}function k(e){if(e&&e[1])return e[1]}function C(e){return k(e)}function E(e){return k(e)}function P(e){return k(e)}function x(e){return k(e)}function T(e){return k(e)}function O(e){return e&&e[1]&&l.isArray(e[1])?e[1]:[]}function M(e){var t,r,o=new u.default;try{for(var a=n(e),i=a.next();!i.done;i=a.next()){var l=i.value;o.add(l)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return o}function I(e,t){var r=M(e),n=M(t);return r.equals(n)}function A(e){for(var r=t.getTokens(e),n=[],o=0,a=function(){var e=O(r[o]),a=r.findIndex(function(t,r){return r>o&&(w(t)||!I(e,O(t)))}),i=a>o?a:r.length,l=L(r,o,i),s=l.map(S).join("");n.push(t.createToken(s,e)),o+=l.length};o<r.length;)a();return n}t.mentionTokenTextValue="‣",t.neverExtendAnotationTypes={a:!0,u:!0,p:!0,d:!0,m:!0,z:!0},t.mentionAnotationTypes={u:!0,p:!0,d:!0},t.isStyleAnnotation=c,t.isLinkAnnotation=d,t.isDiscussionAnnotation=p,t.isUserAnnotation=f,t.isPageAnnotation=h,t.isDateAnnotation=m,t.isHighlightAnnotation=function(e){return 2===e.length&&"h"===e[0]},t.isCodeAnnotation=function(e){return 1===e.length&&"c"===e[0]},t.isMentionAnnotation=y,t.findMentionAnnotation=function(e){return e.find(function(e){return y(e)})},t.findDiscussionAnnotations=g,t.findUserAnnotation=function(e){return e.find(function(e){return f(e)})},t.findPageAnnotation=function(e){return e.find(function(e){return h(e)})},t.findDateAnnotation=v,t.findLinkAnnotation=function(e){return e.find(function(e){return d(e)})},t.isStringToken=function(e){return 1===e.length},t.isAnnotatedTextToken=b,t.isMentionToken=w,t.getTokenValue=S,t.getAnnotationType=_,t.getStyleAnnotationData=function(e){return k(e)},t.getLinkAnnotationData=C,t.getUserAnnotationData=E,t.getDiscussionAnnotationData=P,t.getPageAnnotationData=x,t.getDateAnnotationData=T,t.getHighlightAnnotationData=function(e){return k(e)},t.getTokenAnnotations=O,t.getAnnotatedTextTokenAnnotations=function(e){return O(e)},t.getMentionTokenAnnotations=function(e){return O(e)},t.getDiscussionIds=function(e){return l.uniq(l.flatten(e.map(function(e){return g(O(e)).map(function(e){return P(e)})})))},t.getUserMentions=function(e){var r=[];return t.getTokens(e).forEach(function(e){w(e)&&O(e).forEach(function(e){if(f(e)){var t=E(e);t&&r.push(t)}})}),r},t.getDateMentions=function(e){var r,o,a=[],i=t.getTokens(e);try{for(var l=n(i),s=l.next();!s.done;s=l.next()){var u=s.value;if(w(u)){var c=v(O(u));if(c){var d=T(c);a.push(d)}}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return a},t.getPageMentions=function(e){var r=[];return t.getTokens(e).forEach(function(e){w(e)&&O(e).forEach(function(e){if(h(e)){var t=x(e);t&&r.push(t)}})}),r},t.getTextValueWithoutLinks=function(e){return e.map(function(e){if(b(e)){var t=o(e,2);return[t[0],t[1].map(function(e){return d(e)?["_"]:e})]}return e})},t.sanitizeString=function(e){return l.reject(l.toArray(e),D).join("")},t.stringContainsDisallowedChars=function(e){return!l.toArray(e).some(D)},t.getTokens=function(e){return e&&Array.isArray(e)?e:[]},t.getChars=function(e){return l.toArray(t.getText(e))},t.getText=function(e){return t.getTokens(e).map(function(e){return S(e)}).join("")},t.getTextWithoutTokens=function(e){return t.getTokens(e).filter(function(e){return!w(e)}).map(function(e){return S(e)}).join("")},t.getTextValueWithoutDiscussions=function(e){return A(t.getTokens(e).map(function(e){var r=S(e),n=O(e).filter(function(e){return!p(e)});return t.createToken(r,n)}))},t.getTextForSearchIndex=function(e){var r,o,a,i,l=t.getTokens(e),u="";try{for(var c=n(l),p=c.next();!p.done;p=c.next()){var f=p.value,h=f[0],m=O(f);h!==t.mentionTokenTextValue&&(u+=h);try{for(var y=n(m),g=y.next();!g.done;g=y.next()){var v=g.value;if(d(v)){var b=C(v),w=s.parse(b);u+=" "+(w.hostname||"")+(w.pathname||"")+" "}}}catch(e){a={error:e}}finally{try{g&&!g.done&&(i=y.return)&&i.call(y)}finally{if(a)throw a.error}}}}catch(e){r={error:e}}finally{try{p&&!p.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}return u},t.getBlockIndexText=function(e){var r,o;if(e&&e.properties&&e.properties.title){var a=t.getTextWithoutTokens(e.properties.title);try{for(var i=n(Object.keys(e.properties)),s=i.next();!s.done;s=i.next()){var u=s.value,c=e.properties&&e.properties[u]||[];if("title"!==u&&"content"!==u&&l.isArray(c)){var d=t.getTextWithoutTokens(c);d&&(a+=" "+d)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return a}return""},t.getTextValueInRange=function(e,r,n){for(var o=t.getTokens(e),a=[],i=0,s=0;i<o.length&&s<n;){var u=o[i];if(s>=r){if(!(s+(p=l.toArray(S(u))).length<=n)){var c=O(u),d=n-s;a.push(t.createToken(p.slice(0,d).join(""),c));break}a.push(u),s+=p.length,i+=1}else{var p;if(s+(p=l.toArray(S(u))).length>r){if(!(s+p.length<=n)){c=O(u),f=r-s,d=n-s;a.push(t.createToken(p.slice(f,d).join(""),c));break}var c=O(u),f=r-s;a.push(t.createToken(p.slice(f).join(""),c)),s+=p.length,i+=1}else s+=p.length,i+=1}}return a},t.createTextValue=function(e){return e?[t.createToken(e)]:[]},t.createToken=function(e,t){return t&&t.length>0?[e,t]:[e]},t.createPageAnnotation=function(e){return["p",e]},t.createLinkAnnotation=function(e){return["a",e]},t.createMentionToken=function(e){return t.createToken(t.mentionTokenTextValue,[e])},t.getTokenWithCharIndex=function(e,r){var n=t.getTokens(e),o=0;return n.find(function(e){var t=S(e);return(o+=l.toArray(t).length)>r})},t.getUnstyledTextValue=function(e){return A(t.getTokens(e).map(function(e){if(w(e))return e;var r=S(e),n=O(e).filter(function(e){return!c(e)});return t.createToken(r,n)}))},t.annotationsAreEqual=I,t.normalizeTextValue=A,t.splitTokensWithCharRange=function(e,r,o){var a,i,s=t.getTokens(e),u=[],c=[],d=[],p=0;try{for(var f=n(s),h=f.next();!h.done;h=f.next()){var m=h.value,y=S(m),g=O(m),v=l.toArray(y),b=p,w=p+v.length;if(w<=r)u.push(m);else if(b>=o)c.push(m);else if(b>=r&&w<=o)d.push(m);else if(b<=r&&w>=o){var _=(P=r-b)+o-r,k=v.slice(0,P),C=v.slice(P,_),E=v.slice(_);k.length>0&&u.push(t.createToken(k.join(""),g)),E.length>0&&c.push(t.createToken(E.join(""),g)),C.length>0&&d.push(t.createToken(C.join(""),g))}else if(b>=r&&b<o){_=o-b,C=v.slice(0,_);(E=v.slice(_)).length>0&&c.push(t.createToken(E.join(""),g)),C.length>0&&d.push(t.createToken(C.join(""),g))}else if(b<r&&w>r){var P=r-b;k=v.slice(0,P),C=v.slice(P);k.length>0&&u.push(t.createToken(k.join(""),g)),C.length>0&&d.push(t.createToken(C.join(""),g))}p=w}}catch(e){a={error:e}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}return{tokensBeforeRange:A(u),tokensInsideRange:A(d),tokensAfterRange:A(c)}},t.annotateSelection=function(e){var r=e.textValue,n=e.selection,o=e.annotation,i=t.splitTokensWithCharRange(r,n.startIndex,n.endIndex),s=i.tokensBeforeRange,u=i.tokensInsideRange,c=i.tokensAfterRange;return a(s,u.map(function(e){var r=S(e),n=O(e);return n.some(function(e){return l.isEqual(e,o)})?e:t.createToken(r,a(n,[o]))}),c)},t.hasAnnotationTypeInRange=function(e,r,n,o){for(var a=t.getTokens(e),i=0,s=0;i<n&&s<a.length;){var u=a[s],c=S(u),d=l.toArray(c),p=O(u);if(i+d.length>=r)if(p.find(function(e){return _(e)===o}))return!0;s++,i+=d.length}return!1},t.deleteCharRange=function(e,r,o){var a,i,s=t.getTokens(e),u=[],c=0,d=function(e){var n=S(e),a=O(e),i=l.toArray(n),s=c,d=c+i.length;if(d<=r&&d<=o||s>=r&&s>=o)u.push(e);else if(s>=r&&d<=o);else{var p=r-s,f=p+(o-r),h=i.filter(function(e,t){return!(t>=p&&t<=f-1)});u.push(t.createToken(h.join(""),a))}c=d};try{for(var p=n(s),f=p.next();!f.done;f=p.next()){d(f.value)}}catch(e){a={error:e}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}return u},t.insertTokensAtCharIndex=function(e,r,o){var a,i,s,u,c=t.getTokens(e);if(c.length>0){var d=[],p=0,f=!1;try{for(var h=n(c),m=h.next();!m.done;m=h.next()){var y=m.value,g=S(y),v=O(y),b=l.toArray(g),w=p,_=p+b.length;if(o>=w&&o<=_&&!f){var k=o-w,C=L(b,0,k),E=L(b,k);C.length>0&&d.push(t.createToken(C.join(""),v));try{for(var P=n(r),x=P.next();!x.done;x=P.next()){var T=x.value;d.push(T)}}catch(e){s={error:e}}finally{try{x&&!x.done&&(u=P.return)&&u.call(P)}finally{if(s)throw s.error}}E.length>0&&d.push(t.createToken(E.join(""),v)),f=!0}else d.push(y);p=_}}catch(e){a={error:e}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}return d}return r},t.findAll=function(e,r){for(var n,o=t.getText(e),a=new RegExp(l.escapeRegExp(r),"g"),i=[];n=a.exec(o);)i.push({startIndex:n.index,endIndex:n.index+r.length});return i},t.findClosestSelection=function(e,t){return l.sortBy(e,function(e){return Math.abs(t-e.startIndex)+Math.abs(t-e.endIndex)})[0]};var D=function(e){var t=e.charCodeAt(0);return t>=0&&t<=31&&9!==t&&10!==t&&8232!==t&&8233!==t},L=function(e,t,r){return e.slice(Math.max(t,0),r)};function R(e,t){return l.uniqWith(a(e,t),l.isEqual)}t.mergeAnnotations=R,t.replaceTextWithToken=function(e,r,o){var a,i,l=[];try{for(var s=n(o),u=s.next();!u.done;u=s.next())for(var c=u.value,d=S(c),p=O(c),f=d.split(e),h=0;h<f.length;h++){var m=f[h];l.push(t.createToken(m,p)),h!==f.length-1&&l.push(t.createToken(S(r),R(O(r),p)))}}catch(e){a={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}return l},t.getLinkifyMatch=function(e){var t=i.find(e).filter(function(t){var r=t.value,n=t.href;return e===r&&n.indexOf("mailto:")<0})[0];if(t)return t},t.filterAnnotations=function(e,r){return e.map(function(e){var n=S(e),o=O(e);return t.createToken(n,o.filter(r))})},t.truncateTextValue=function(e,r){var o,a,i=[],s=0;try{for(var u=n(e),c=u.next();!c.done;c=u.next()){var d=c.value,p=l.toArray(S(d)).slice(0,r-s),f=t.createToken(p.join(""),O(d));if(i.push(f),(s+=p.length)>=r)return i}}catch(e){o={error:e}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return i}},cDZm:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("bwRH"),o=["BlockCache","LocalPreferenceStore","LocalPreferenceStore2","KeyValueStore","LocalTransactionStore","LocalRecordStore","LocalRecordStore2"],a=new n.SyncLRU({get:function(e){var t=localStorage.getItem("LRU:"+e);if(t)return JSON.parse(t)},set:function(e,t){try{localStorage.setItem("LRU:"+e,JSON.stringify(t))}catch(o){for(var r=0;r<localStorage.length;r++){var n=localStorage.key(r);n&&n.startsWith("amplutude")&&localStorage.removeItem(n)}localStorage.setItem("LRU:"+e,JSON.stringify(t))}},remove:function(e){return localStorage.removeItem("LRU:"+e)},scan:function(e){for(var t=function(t){var r=localStorage.key(t);if(r)if(o.some(function(e){return r.startsWith(e)}))localStorage.removeItem(r);else if(r.startsWith("LRU:")){var n=localStorage.getItem(r);if(n){var a=JSON.parse(n);e(r.slice("LRU:".length),a)}}},r=0;r<localStorage.length;r++)t(r)},getSize:function(){return localStorage.length}}),i=function(){function e(e,t){this.lru=a,this.important=t,this.namespace=e}return e.prototype.get=function(e){return this.lru.get(this.makeKey(e))},e.prototype.set=function(e,t){return this.lru.set(this.makeKey(e),t,this.important)},e.prototype.remove=function(e){return this.lru.remove(this.makeKey(e))},e.prototype.squeeze=function(e){return this.lru.squeeze(e)},e.prototype.scan=function(e){var t=this;this.lru.scan(function(r,n){r.startsWith(t.namespace)&&e(r.substring(t.namespace.length+1),n.value)})},e.prototype.makeKey=function(e){return[this.namespace,e].join(":")},e}();t.default=i},cDc9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("rE/H"),o=r("LvDl"),a=function(){function e(e){this._makeKey=e,this.map={}}return e.prototype.makeKey=function(e){return this._makeKey?this._makeKey(e):n(e)},e.prototype.add=function(e){this.map[this.makeKey(e)]=e},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[this.makeKey(e)]},e.prototype.entries=function(){var e=this;return Object.keys(this.map).map(function(t){return e.map[t]})},e.prototype.has=function(e){return this.makeKey(e)in this.map},e.prototype.some=function(e){return this.entries().some(e)},e.prototype.find=function(e){return this.entries().find(e)},e.prototype.clone=function(){var t=new e(this._makeKey);return t.map=o.cloneDeep(this.map),t},e.prototype.equals=function(e){return o.isEqual(this.map,e.map)},Object.defineProperty(e.prototype,"size",{get:function(){return Object.keys(this.map).length},enumerable:!0,configurable:!0}),e}();t.default=a},cJKo:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("F0Cr"),l=r("HE4M"),s=r("mF3+"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props.propertySchema.type;return"text"===e||"title"===e?this.renderTextDiff():this.renderArrowPropertyDiff()},t.prototype.renderTextDiff=function(){var e=i.diffTextValue({before:this.props.beforeValue,after:this.props.afterValue});return this.renderProperty(e)},t.prototype.renderArrowPropertyDiff=function(){var e=this.props,r=e.beforeValue,n=e.afterValue;return a.createElement("div",{style:t.arrowDiffWrapStyle},this.renderProperty(r),this.renderArrow(),this.renderProperty(n))},t.prototype.renderProperty=function(e){return a.createElement(l.default,{value:e,propertySchema:this.props.propertySchema,rootStore:this.props.rootStore})},t.prototype.renderArrow=function(){return a.createElement("div",{style:{padding:"0px 8px"}},s.default.historyForward({width:14,height:14,fill:this.theme.mediumIconColor}))},t.arrowDiffWrapStyle={display:"inline-flex",alignItems:"center"},t}(r("t+pW").default);t.default=u},cR5F:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1,limit:0,reachedEndOfResults:!1,isPublicPageSearch:!1}},t}(r("LEzx").default);t.default=new a},"cX/5":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isActive:!1}},t}(r("LEzx").default);t.default=new a},cYwG:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("LvDl"),l=r("i8i4"),s=r("wldR"),u=r("lBar"),c=r("v/t1"),d=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.lastOffsetFromBottom=0,r.handleScroll=function(e){r.triggerIfChanged()},r.handleScrollThrottled=i.throttle(r.handleScroll,t.scrollThrottle),r}return o(t,e),t.prototype.getOffsetFromBottom=function(){if(this.node&&this.scrollableAncestor){var e=this.node.getBoundingClientRect(),t=this.scrollableAncestor.getBoundingClientRect(),r=this.scrollableAncestor.scrollTop;return e.top+e.height+r-t.top-(r+t.height)}return 0},t.prototype.shouldComponentUpdate=function(){return!0},t.prototype.didMount=function(){e.prototype.didMount.call(this),this.node=l.findDOMNode(this),this.scrollableAncestor=u.getVerticalScrollableAncestor(this.node),this.scrollableAncestor&&c.addPassiveEventListener(this.scrollableAncestor,"scroll",this.handleScrollThrottled)},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),this.scrollableAncestor&&c.removePassiveEventListener(this.scrollableAncestor,"scroll",this.handleScrollThrottled)},t.prototype.didMountOrUpdate=function(){e.prototype.didMountOrUpdate.call(this),this.triggerIfChanged()},t.prototype.renderComponent=function(){return this.props.children||a.createElement("div",null)},t.prototype.triggerIfChanged=function(){var e=this.getOffsetFromBottom();e!==this.lastOffsetFromBottom&&(this.lastOffsetFromBottom=e,this.props.onChange(e))},t.scrollThrottle=200,t}(s.default);t.default=d},cbKx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},csqV:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("LvDl"),u=r("r8oj"),c=r("mWhK"),d=r("t+pW"),p=r("LeVO"),f=r("rlmE"),h=r("pxbK"),m=r("9OwC"),y=r("Sb6f"),g=r("nFzZ"),v=r("PQqx"),b=r("VyA+"),w=r("wS9/"),S=r("zmp8"),_=r("Ng05"),k=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.handleInputMount=function(e){return r.input=e},r.handleInput=function(e){var n=e.target.textContent;r.updateValue(n),g.isNotDefined(r.updateTimer)&&(r.updateTimer=window.setTimeout(function(){return r.executeUpdate()},t.delay))},r.handlePaste=function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)},r.handleKeyUp=function(e){r.updateSelection()},r.handleClick=function(e){r.updateSelection()},r.handleKeyDown=function(e){f.default(e,"command+enter")&&r.handleAccept()},r}return o(t,e),t.prototype.insertEntry=function(e){var r=this.stores.store.state.value,n=e.name,o=t.getCompletion(e),a=document.getSelection(),l=a.anchorOffset,s=l,u=a.focusOffset,c=h.parseCompletions(r,l);if(c){var d=i(c,2),p=d[0],f=d[1],m=r.slice(p,f).toLowerCase();m!==o.toLowerCase().slice(0,f-p)&&m!==n.toLowerCase().slice(0,f-p)||(s=p,u=f)}if(this.input.focus(),s<u){var y=this.input.firstChild||this.input,g=document.createRange();g.setStart(y,s),g.setEnd(y,u),a.removeAllRanges(),a.addRange(g),document.execCommand("delete",!1)}document.execCommand("insertText",!1,o);var v=(u+o.length)/(this.input&&this.input.textContent&&this.input.textContent.length||0)*this.container.scrollWidth;v>this.container.scrollLeft+this.container.offsetWidth&&(this.container.scrollLeft=v-this.container.offsetWidth)},t.prototype.handleAccept=function(){this.updateTimer&&(window.clearTimeout(this.updateTimer),this.updateTimer=void 0);var e=this.stores.store.state.value;if(""===e.trim())this.props.onSubmit();else{var t=this.updateFormula(e),r=t.formula;t.error||this.props.onSubmit(r)}},t.prototype.willMount=function(t){e.prototype.willMount.call(this,t);var r=t.formula,n=t.schema,o=h.formulaToString(r,n);this.updateValue(o)},t.prototype.didMount=function(){e.prototype.didMount.call(this);var t=this.stores.store.state.value;if(this.input&&(this.input.textContent=t,u.default.isMobile||this.input.focus(),t)){var r=document.getSelection();this.input.firstChild&&r.collapse(this.input.firstChild,t.length),this.container.scrollLeft=this.container.scrollWidth-this.container.offsetWidth}},t.prototype.renderComponent=function(){var e=this,r=this.props.disabled,n=v.getShortcutTextItems().command,o=this.stores.store.state.html;return l.createElement("div",{style:this.getWrapStyle()},l.createElement("div",{ref:function(t){t&&(e.container=t)},style:t.style},l.createElement(b.default,{capture:!r,onLeft:s.identity,onRight:s.identity,onSelectAll:s.identity,onRedo:s.identity,onUndo:s.identity,onToggleBold:s.identity,onToggleItalics:s.identity,onToggleCode:s.identity,onCut:s.identity,onCopy:s.identity,onPaste:s.identity,onKeypress:s.identity,onDelete:s.identity,onBackspace:s.identity},l.createElement("pre",{ref:this.handleInputMount,contentEditable:!r,spellCheck:!1,autoCorrect:"off",autoCapitalize:"off",onClick:this.handleClick,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onPaste:this.handlePaste,style:this.getInputStyle()})),l.createElement("pre",{style:this.getOverlayStyle(),dangerouslySetInnerHTML:{__html:o}})),!u.default.isMobile&&!r&&l.createElement(p.default,{renderTooltip:function(){return l.createElement("div",null,l.createElement("span",null,"Accept "),l.createElement("span",{style:{color:e.theme.mediumInvertedTextColor}},n,"+Enter"))},render:function(t){return l.createElement(_.default,a({disabled:Boolean(e.stores.store.state.error),onClick:function(){return e.handleAccept()},style:a({height:24,padding:"0 8px",alignSelf:"center",marginRight:6},u.default.isMobile&&{marginRight:12})},t),"Done")}}))},t.prototype.updateValue=function(e){var r=""===e.trim()?this.props.disabled?"":t.previewText:h.highlightFormulaText(e);this.stores.store.setState(a({},this.stores.store.state,{html:r,value:e}))},t.prototype.updateSelection=function(){var e=document.getSelection().anchorOffset,t=this.stores.store.state.value,r=h.parseCompletions(t,e),n=r?t.slice(r[0],r[1]):"";n!==this.stores.store.state.query&&this.stores.store.setState(a({},this.stores.store.state,{query:n}))},t.prototype.updateFormula=function(e){var t=this.props,r=t.schema,n=t.property;if(""===e.trim())return{error:void 0,formula:void 0,type:void 0};var o=h.stringToFormula(e,n,r);return o&&"error"===o.type?{formula:void 0,error:o.message,type:void 0}:{formula:o,error:void 0,type:void 0}},t.prototype.executeUpdate=function(){var e=this.stores.store.state.value,t=this.updateFormula(e),r=t.error,n=t.formula;!r&&n&&this.props.onChange(n),this.updateTimer=void 0,this.stores.store.setState(a({},this.stores.store.state,{error:r}))},t.getCompletion=function(e){var t=e.category,r=e.name;return t===m.Category.property?"prop("+h.escapeProperty(r)+")":t===m.Category.constant?r:r+"("},t.prototype.getWrapStyle=function(){return a({display:"flex",flex:"none",background:this.theme.inputBackground,height:33,borderTopLeftRadius:3,borderTopRightRadius:3},this.props.disabled&&{background:this.theme.contentBackground,borderRadius:3},u.default.isMobile&&{borderBottom:"1px solid "+this.theme.regularDividerColor,background:this.theme.popoverBackground,height:44,paddingLeft:w.default.paddingLeft,paddingRight:w.default.paddingRight})},t.prototype.getOverlayStyle=function(){var e=this.stores.store.state.value;return a({},u.default.isMobile?t.mobileInputStyle:t.desktopInputStyle,{zIndex:0},""===e.trim()&&{color:this.theme.mediumTextColor})},t.prototype.getInputStyle=function(){var e,r=u.default.isSafari||u.default.isChrome?"WebkitTextFillColor":"color";return a({},u.default.isReactNative||u.default.isCordova?t.mobileInputStyle:t.desktopInputStyle,((e={border:"none",background:"none"})[r]=""===this.stores.store.state.value?this.theme.regularTextColor:S.default.transparent,e.caretColor=this.theme.regularTextColor,e.zIndex=1,e))},t.delay=0,t.previewText="Type a formula",t.stores={store:c.default},t.style={flexGrow:1,position:"relative",overflow:"hidden"},t.desktopInputStyle={alignItems:"center",position:"absolute",minWidth:"100%",height:32,margin:0,padding:0,paddingLeft:10,paddingRight:8,paddingTop:8,fontSize:13,fontFamily:y.default.fontFamily.mono},t.mobileInputStyle={alignItems:"center",position:"absolute",minWidth:"100%",height:44,margin:0,paddingLeft:16,paddingRight:0,paddingTop:12,paddingBottom:12,fontSize:14,fontFamily:y.default.fontFamily.githubMono},t}(d.default);t.default=k},cu5z:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.fontSize=14,t.lineHeight=1.5,t.leftRightPaddings={paddingLeft:8,paddingRight:8},t.textCellPaddingVertical={paddingTop:5,paddingBottom:6},t.textCellPaddings=n({},t.textCellPaddingVertical,t.leftRightPaddings),t.textPagePropertyPaddings=n({paddingTop:6,paddingBottom:7},t.leftRightPaddings),t.checkboxCellPaddings=n({paddingTop:8,paddingBottom:8},t.leftRightPaddings),t.checkboxPagePropertyPaddings=n({paddingTop:9,paddingBottom:9},t.leftRightPaddings),t.tokenTableCellWrapStyle={paddingTop:4,paddingBottom:4},t.tokenPagePropertyWrapStyle={paddingTop:5,paddingBottom:5}},cw0H:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},cxCj:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("q1tI"),c=r("STAJ"),d=r("i8i4"),p=r("q1tI"),f=r("t+pW"),h=r("AOw3"),m=r("wpmu"),y=r("V8so"),g=r("samx"),v=r("IdIf"),b=r("RvCr"),w=r("tzV5"),S=r("MBf9"),_=r("i3uR"),k=r("gbGO"),C=r("r8oj"),E=r("wXH4"),P=r("g4rC"),x=r("iZLY"),T=r("oCZo"),O=r("NPnS"),M=r("DMKC"),I=r("Pl3d"),A=r("D2XV"),D=r("bkwR"),L=r("wlCD"),R=r("0QAI"),B=r("bPtJ"),j=r("6rsX"),V=r("4HCU"),F=r("dXb3"),N=r("mF3+"),U=r("zK7c"),W=r("cYwG"),z=r("CSYU"),H=r("GNv7"),q=r("cBa6"),G=r("zTdN"),Z=r("2Y+N"),Y=r("stZG"),K=r("QcDD"),J=r("sjR4"),Q=r("T1hA"),X=r("+DAh"),$=r("MeYt"),ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createdStores=new Set,t.renderPopup=function(){var e,r=t.props,n=r.groupFormat,o=r.schema,i=r.currentGroups,l=t.stores.boardHiddenGroupStore.state,s=l.searchQuery,c=l.limit;e=C.default.isMobile?{menuType:k.default.MenuType.Modal,title:u.createElement(y.default,{groupFormat:n,currentGroups:i,schema:o,disabled:!0,isHiddenGroup:!0,parentStore:t.selectableBlockStore}),left:u.createElement(_.default,{popupType:E.PopupType.SlideUp,renderOrigin:function(e){return u.createElement("div",a({},e),N.default.dots({width:18,height:18,color:t.theme.lightTextColor}))},render:t.renderActionButtonPopup}),right:"Done",onClickRight:t.handlePopupClose,header:t.renderHeader()}:{menuType:k.default.MenuType.Popup,header:t.renderHeader()};var d={request:{query:s,limit:c},performRequest:t.performRequest,render:t.renderResults,debounce:V.defaultSearchDebounce};return u.createElement(U.default,{store:t.selectableBlockStore,isDefaultContainer:!0,render:function(r){return u.createElement(k.default,a({},e,r),u.createElement(I.default,a({},d,{requestStore:t.stores.requestStore})),u.createElement(W.default,{onChange:t.handleScrollOffsetChange}))}})},t.renderResults=function(e,r,n){var o,a,i=t.props,l=i.query,c=i.groupFormat,d=i.disabled,p=i.format,f=i.instanceCollectionStore,h=i.collectionViewLocalStore,y=i.schema,g=i.blockPropertyValueOverlayStore,v=t.stores.boardHiddenGroupStore.state,b=v.searchQuery,w=v.limit;r||(r=[]);var S=Q.default.state.userId,_=h.state,k=_.collectionStore,E=_.collectionViewStore;if(k&&E&&S){var P=k.getValue(),O=E.getValue();if(P&&O){var M={collectionValue:P,pageSort:O.page_sort||[],collectionViewId:E.id,query:l,loader:t.getCollectionLoader(b,w),userId:S,currentTime:Date.now(),getRecordValue:function(e,t){var r=K.default.state.currentBlockStore;if(r)return B.createRecordStore(r,e,t).getValue()}},I=R.initializeQuery(M),A=r.map(function(e){return m.default.createChildStore(f,e)});try{for(var D=s(A),j=D.next();!j.done;j=D.next()){var V=j.value.getValue();V&&R.incrementQuery(V,M,I)}}catch(e){o={error:e}}finally{try{j&&!j.done&&(a=D.return)&&a.call(D)}finally{if(o)throw o.error}}t.createdStores.forEach(function(e){if(!A.find(function(t){return t.id===e.id})){var t=e.getValue();t&&R.incrementQuery(t,M,I)}});var F=R.completeQuery(M,I);if("board"===F.type){var N=F.groupResults[0];if(N){var U=N.blockIds.map(function(e){return m.default.createChildStore(f,e)});if(0!==U.length||n){if(0===U.length)return u.createElement(Z.default,null,u.createElement(G.default,{title:"No results"}));var W=!c;return u.createElement("div",{style:{padding:C.default.isMobile?"8px 16px":"6px 14px 8px"}},u.createElement(x.default,{parentStore:f,collectionViewLocalStore:h,results:U,group:c,format:p,canDrag:!d,resultProps:{format:p,schema:y,isSingleGroup:W,disabled:d,coverFormat:t.getCoverFormat(),coverAspectFormat:t.getCoverAspectFormat(),coverSizeFormat:t.getCoverSizeFormat(),shouldShowTitle:t.getTitleVisibilityFormat(),blockPropertyValueOverlayStore:g,onTextEnter:t.handleBoardItemTextEsc,onTextEsc:t.handleBoardItemTextEsc},resultComponent:T.default,disabled:d,shouldShowHoverMenu:!1,direction:x.CollectionGroupDirection.Vertical,belowDropZoneMargin:2,emptyDroppableSize:4,analyticsName:"board"}))}return u.createElement(Z.default,null,u.createElement(G.default,{title:u.createElement(L.default,null)}))}}}}},t.renderActionButtonPopup=function(e){var r=t.props,n=r.groupFormat,o=r.currentGroups,a=r.format,i=r.schema,l=r.collectionViewLocalStore;return u.createElement(H.default,{parent:e,groupFormat:n,currentGroups:o,format:a,schema:i,collectionViewLocalStore:l,hidden:!0,showRename:!0})},t.handlePopupClose=function(){t.stores.buttonPopupStore.setState({open:!1})},t.handleSearchInputChange=function(e){t.stores.boardHiddenGroupStore.setState({searchQuery:e.target.value,limit:M.default.defaultLimit}),t.clearSelectionIfBlockIsSelected()},t.handleSearchClearButtonClick=function(){t.stores.boardHiddenGroupStore.reset(),t.clearSelectionIfBlockIsSelected()},t.handleButtonPopupClick=function(){t.stores.requestStore.reset(),t.stores.boardHiddenGroupStore.reset(),t.clearSelectionIfBlockIsSelected()},t.handleDrop=function(e){var r=e.droppedStores,n=e.duplicate,o=t.props,a=o.collectionViewLocalStore,i=o.groupFormat,l=d.findDOMNode(t);l&&l instanceof Element&&S.createAndCommit(function(e){return b.handleCollapsedGroupDrop({collectionViewLocalStore:a,group:i,droppedStores:r,duplicate:n,transaction:e})})},t.handleBoardAggregationChange=function(e,r){var n=t.props,o=n.collectionViewLocalStore,a=n.query,i=o.state.collectionViewStore,l=r?[r]:[],s=c.assoc("aggregate",l,a);i&&S.createAndCommit(function(e){w.updateCollectionView({collectionViewStore:i,collectionViewLocalStore:o,update:{query:s},transaction:e})})},t.handleBoardGroupHeaderAddItem=function(e){t.createdStores.add(e)},t.handleScrollOffsetChange=function(e){var r=t.stores,n=r.boardHiddenGroupStore,o=r.requestStore,i=n.state,l=o.state.result;e<M.default.loadMoreScrollOffset&&!o.state.loading&&l&&i.limit<=l.length&&n.setState(a({},i,{limit:i.limit+M.default.loadMoreIncrement}))},t.handleBoardItemTextEsc=function(e){var r=t.props.collectionViewLocalStore.state.collectionStore,n=e.getTitleStore();q.getText(n.getValue())?j.select({store:e}):r&&S.createAndCommit(function(t){b.remove({collectionStore:r,store:e,transaction:t})})},t.performRequest=function(e){return i(t,void 0,void 0,function(){var t,r,n,o,a,i,s,u,c;return l(this,function(l){switch(l.label){case 0:return t=this.props,r=t.collectionViewLocalStore,n=t.query,o=r.state,a=o.collectionStore,i=o.collectionViewStore,a&&i?(s=a.recordCacheStore)!==X.default?[3,2]:[4,D.queryCollection({collectionId:a.id,collectionViewId:i.id,query:n,loader:this.getCollectionLoader(e.query,e.limit)})]:[2,[]];case 1:if("failed"===(c=l.sent()).type)throw c.error;return u=c.data,[3,4];case 2:return[4,w.performLocalQueryCollection({collectionId:a.id,collectionViewId:i.id,query:n,loader:this.getCollectionLoader(e.query,e.limit)},s)];case 3:u=l.sent(),l.label=4;case 4:return"board"===u.result.type&&u.result.groupResults[0]?[2,u.result.groupResults[0].blockIds]:[2,[]]}})})},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t);var r=t.collectionViewLocalStore.state.collectionViewBlockStore;r&&(this.selectableBlockStore=new m.default(r.id))},t.prototype.renderComponent=function(){var e=this,r=this.props,n=r.groupFormat,o=r.aggregation,i=r.aggregationResult,l=r.disabled,s=r.schema,c=r.currentGroups;return u.createElement(h.default,{store:this.selectableBlockStore,canDropOnto:!l,onSelectableDrop:this.handleDrop,dropzoneShouldNeverUseOrigin:!0,dropzoneMustBeWithinHorizontalBound:!0,analyticsName:"board_hidden_group",shouldShowDropZone:!0},u.createElement(_.default,{popupType:C.default.isMobile?E.PopupType.SlideUp:E.PopupType.Popup,renderOrigin:function(r){return u.createElement($.default,a({key:v.getGroupId(n),style:t.buttonStyle},r),u.createElement(y.default,{groupFormat:n,currentGroups:c,schema:s,disabled:!0,isHiddenGroup:!0,parentStore:e.selectableBlockStore}),u.createElement(g.default,{aggregation:o,aggregationResult:i,schema:s,onChange:e.handleBoardAggregationChange,disabled:!0}))},render:this.renderPopup,buttonPopupStore:this.stores.buttonPopupStore,onClick:this.handleButtonPopupClick}))},t.prototype.renderHeader=function(){var e=this,t=this.props,r=t.groupFormat,n=t.disabled,o=t.format,i=t.schema,l=t.query,s=t.currentGroups,c=t.instanceCollectionStore,d=t.collectionViewLocalStore,f=t.locked,h=this.stores.boardHiddenGroupStore.state.searchQuery;return u.createElement(p.Fragment,null,!C.default.isMobile&&u.createElement(O.default,{key:r.value||"undefined",currentGroups:s,groupFormat:r,query:l,schema:i,format:o,collectionViewLocalStore:d,instanceCollectionStore:c,disabled:n||Boolean(h),locked:f,hidden:!0,isPopup:!0,onAddItem:this.handleBoardGroupHeaderAddItem}),u.createElement("div",{style:{margin:C.default.isMobile?0:"6px 0"}},u.createElement(Y.default,{capture:!0,render:function(t){return u.createElement(F.default,a({value:h,placeholder:"Search for a page...",autoFocus:!C.default.isMobile,showClearButton:!0,onChange:e.handleSearchInputChange,onClearButtonClick:e.handleSearchClearButtonClick},t))}})))},t.prototype.clearSelectionIfBlockIsSelected=function(){J.default.state.stores.length>0&&j.clear()},t.prototype.getCoverFormat=function(){var e=this.props.format;return e?e.board_cover:void 0},t.prototype.getCoverAspectFormat=function(){var e=this.props.format;return e?e.board_cover_aspect:void 0},t.prototype.getCoverSizeFormat=function(){var e=this.props.format;return e?e.board_cover_size:void 0},t.prototype.getTitleVisibilityFormat=function(){var e=(this.props.format||{}).board_title_visible;return void 0===e||e},t.prototype.getCollectionLoader=function(e,t){var r=this.props,n=r.groupFormat,o=r.format;return{type:"board",limit:t,groups:[{property:n.property,type:n.type,value:n.value,hidden:!1}],query:e,loadContentCover:Boolean(o&&o.board_cover&&"page_content"===o.board_cover.type),userTimeZone:A.currentTimeZone,userLocale:A.currentLocale}},t.stores={buttonPopupStore:P.default,boardHiddenGroupStore:M.default,requestStore:z.default},t.buttonStyle={display:"flex",alignItems:"center",justifyContent:"flex-start",height:32,padding:4,borderRadius:3},t}(f.default);t.default=ee},cy36:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},d933:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("E5KU"),o=function(){function e(e){var t=this;this.debug=!1,this.listenCycle=0,this.listenerVersionMap=new Map,this.isListening=!1,this.lastListener=null,this.onChange=function(e){t.debug&&n.trace("AutoListener onChange "+t.listenCycle+":",e),t.isListening||t.args.onChange(e)},this.args=e}return e.withListenerIgnored=function(t){var r=e.currentListener;e.currentListener=null,t(),e.currentListener=r},e.prototype.destroy=function(){var e=this;this.listenerVersionMap.forEach(function(t,r){e.removeStoreListener(r)})},e.prototype.startListener=function(t){this.lastListener=e.currentListener,e.currentListener=this,this.isListening=!0,t&&this.listenCycle++},e.prototype.stopListener=function(){var t=this;e.currentListener=this.lastListener,this.isListening=!1,this.listenerVersionMap.forEach(function(e,r){e<t.listenCycle&&t.removeStoreListener(r)})},e.prototype.logStoreAccess=function(e){this.debug&&n.trace("Autolistener logStoreAccess "+this.listenCycle+":",e),this.addStoreListener(e),this.listenerVersionMap.set(e,this.listenCycle)},e.prototype.addStoreListener=function(e){this.listenerVersionMap.has(e)||(e.addListener(this.onChange),this.args.onAddListener&&this.args.onAddListener(e))},e.prototype.removeStoreListener=function(e){this.listenerVersionMap.has(e)&&(e.removeListener(this.onChange),this.listenerVersionMap.delete(e),this.args.onRemoveListener&&this.args.onRemoveListener(e))},e.currentListener=null,e}();t.default=o},d9nj:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("t+pW"),u=r("MeYt"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(u.default,{style:this.getButtonStyle(),onClick:this.props.onClick,disabled:this.props.disabled,hoveredStyle:this.getHoveredStyle(),pressedStyle:this.getPressedStyle(),disabledFeedback:this.props.disabledFeedback,mobileFeedback:this.props.mobileFeedback,onMouseMove:this.props.onMouseMove,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.renderButtonTitle())},t.prototype.renderButtonTitle=function(){var e=this.props.icon;return e?i.createElement(l.Fragment,null,e(this.getIconStyle()),this.props.children):this.props.children},t.prototype.getButtonStyle=function(){return a({display:"inline-flex",alignItems:"center",flexShrink:this.props.shouldShrink?1:0,whiteSpace:"nowrap",height:this.getButtonHeight(),borderRadius:3,fontSize:14,lineHeight:1.2,minWidth:0,paddingLeft:this.props.icon||this.props.isSmall?6:8,paddingRight:this.props.isSmall?6:8,color:this.getTextColor()},this.props.style)},t.prototype.getButtonHeight=function(){return this.props.isSmall?24:this.props.isLarge?32:28},t.prototype.getIconStyle=function(){return{width:14,height:14,fill:this.getIconColor(),marginRight:6}},t.prototype.getHoveredStyle=function(){return a({},this.props.isBlue&&{background:this.theme.outlineBlueButtonHoveredBackground})},t.prototype.getPressedStyle=function(){return a({},this.props.isBlue&&{background:this.theme.outlineBlueButtonPressedBackground})},t.prototype.getTextColor=function(){return this.props.isBlue?this.theme.blueColor:this.props.isGray?this.theme.mediumTextColor:this.props.isLightGray?this.theme.lightTextColor:this.theme.regularTextColor},t.prototype.getIconColor=function(){return this.props.isBlue?this.theme.blueColor:this.props.isGray?this.theme.mediumIconColor:this.props.isLightGray?this.theme.lightIconColor:this.theme.regularIconColor},t}(s.default);t.default=c},dACB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("rJFj"),o=r("JuT7"),a=r("Fe7V"),i=r("JU1L"),l=r("6Ydq"),s=r("w5u6"),u=r("+DAh"),c=r("p6dh"),d=r("enHn"),p=function(e,t){var r=function(e){var t=e.replace(/^versions\/(.*)$/,"$1");if(!t||t===e)return;return t}(e);if(r)if(null===t||"number"==typeof t){var n=i.extractCombinedId(r),o=n.table,s=n.id,c=u.default.getVersion(o,s),p=d.default.isPendingTransactionForRecord(o,s);(null===t||t>c)&&!p&&a.fetchRemoteRecord({recordCacheStore:u.default,id:s,table:o})}else l.rateLimitedLog({level:"warning",from:"handleRemoteVersionUpdate",type:"ValidationError",data:{key:e,combinedId:r,version:t}});else l.rateLimitedLog({level:"warning",from:"handleRemoteVersionUpdate",type:"ValidationError",data:{key:e,combinedId:r,version:t}})},f=function(e,t){var r=m(e,t);n.default(r)&&o.default.addListener(r,p,"recordSubscriptionActions")},h=function(e,t){var r=m(e,t);n.default(r)&&o.default.removeListener({key:r,subscriptionId:"recordSubscriptionActions"})};function m(e,t){return"versions/"+i.getCombinedId(e,t)}t.subscribe=function(e){var t=e.table,r=e.id,n=u.default.state.cache,o=c.default.state.subscribedRecords,l=i.getCombinedId(t,r);o[l]||(o[l]=!0,s.default.afterNextFlush(function(){n[l]?f(t,r):a.fetchRemoteRecord({recordCacheStore:u.default,table:t,id:r}).then(function(){o[l]&&f(t,r)})}))},t.unsubscribe=function(e){var t=e.table,r=e.id,n=i.getCombinedId(t,r),o=c.default.state.subscribedRecords;o[n]&&(delete o[n],h(t,r))}},dQiq:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("r8oj"),u=r("t+pW"),c=r("MeYt"),d=r("q2qQ"),p=r("y6Dp"),f=r("LeVO"),h=r("yRPC"),m=r("mF3+"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTooltip=function(){return i.createElement(l.Fragment,null,"Click"," ",i.createElement("span",{style:{color:t.theme.mediumInvertedTextColor}},"to add a block below"))},t.handleClick=function(){d.activateAddMenu({store:t.props.store}),p.trackClickAddMenu()},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;if(!s.default.isMobile)return i.createElement(f.default,{placement:f.default.Placement.Bottom,delayThreshold:300,renderTooltip:this.renderTooltip,render:function(t){return i.createElement(c.default,a({onClick:e.handleClick,style:e.getStyle()},t),m.default.plus({width:16}))}})},t.prototype.getStyle=function(){var e=t.itemSize+t.rightMargin+h.default.width;return{display:"flex",alignItems:"center",justifyContent:"center",fill:this.theme.lightIconColor,position:"absolute",top:this.props.offsetTop,left:-e,width:t.itemSize,height:t.itemSize,borderRadius:3,pointerEvents:"auto",cursor:"-webkit-grab"}},t.itemSize=24,t.rightMargin=2,t}(u.default);t.default=y},dXb3:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("LvDl"),u=r("t+pW"),c=r("yNyh"),d=r("ZQ9l"),p=r("VyA+"),f=r("gbGO"),h=r("ggCg"),m=r("rGsA"),y=r("MeYt"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleFocused=function(e){t.stores.store.setState({focused:!0}),t.props.onFocus&&t.props.onFocus(e)},t.handleBlurred=function(e){t.stores.store.setState({focused:!1}),t.props.onBlur&&t.props.onBlur(e)},t.handleFocus=function(e){e.preventDefault(),t.focusInput()},t}return o(t,e),t.prototype.focusInput=function(){this.input&&this.input.focusInput()},t.prototype.willMount=function(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})},t.prototype.willUpdate=function(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})},t.prototype.renderComponent=function(){return i.createElement(p.default,{capture:!0,onLeft:s.identity,onRight:s.identity,onUntab:s.identity,onTab:s.identity,onSelectAll:s.identity,onRedo:s.identity,onUndo:s.identity,onToggleBold:s.identity,onToggleItalics:s.identity,onToggleCode:s.identity,onCut:s.identity,onCopy:s.identity,onPaste:s.identity,onKeypress:s.identity},i.createElement(p.default,{capture:!this.props.allowDelete||this.props.value.length>0,onDelete:s.identity,onBackspace:s.identity},this.renderButton()))},t.prototype.renderButton=function(){var e=this;return this.context.isMobile?i.createElement(l.Fragment,null,i.createElement(d.default,a({},this.props,{title:i.createElement(c.default,a({},this.props,{ref:function(t){return t&&(e.input=t)},style:{fontSize:16,padding:0,border:"none",boxShadow:"",background:"none"},onFocus:this.handleFocused,onBlur:this.handleBlurred})),right:this.renderMobileRight(),style:this.props.style})),i.createElement(m.default,{show:this.stores.store.state.focused&&this.context.menuType!==f.MenuType.ActionSheet})):i.createElement(d.default,a({},this.props,{isTokenTitle:!0,title:i.createElement(c.default,a({},this.props,{style:{height:28,padding:"3px 6px"}}))}))},t.prototype.renderMobileRight=function(){if(!this.stores.store.state.focused&&this.props.mobileEditLabel)return i.createElement(y.default,{mobileFeedback:!0,onClick:this.handleFocus,style:{color:this.theme.mediumTextColor}},this.props.mobileEditLabel)},t.contextTypes=a({},f.menuContextTypes),t.stores={store:h.default},t}(u.default);t.default=g},dccM:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r("Uv1v").default);t.default=new a},di7S:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("S26v");t.getImageProxyUrl=function(e){var t=e.url,r=e.width,i=e.baseUrl,l=e.fullyQualified,s=e.stripGoogleIconQuery,u=e.permissionRecord;if(t.startsWith("C:\\"))return t;a.isRelativeUrl(t)&&(t=a.setBaseUrl({relativeUrl:t,baseUrl:i})),s&&(t=t.replace("?sz=50",""));var c=n({},u);r&&t.indexOf(".ico")<0&&t.indexOf(".svg")<0&&t.indexOf(".gif")<0&&(r*=2,r=o.round(r,-1),r=Math.max(r,40),c.width=r.toString());var d=l?i:"";return a.makeUrl({url:d+"/image/"+encodeURIComponent(t),query:n({},c,{cache:"v2"})})},t.getSignedFileProxyUrl=function(e){var t=e.baseURL,r=e.url,o=e.downloadName,i=e.download,l=e.permissionRecord,s=a.isRelativeUrl(r)?a.setBaseUrl({relativeUrl:r,baseUrl:t}):r,u=n({},l);return o&&(u.name=o),i&&(u.download="true"),a.makeUrl({url:"/signed/"+encodeURIComponent(s),query:n({},u,{cache:"v2"})})}},dsG5:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var l=r("+9FD"),s=r("N34Z"),u=r("H4VD"),c=r("MBf9"),d=r("5w/s"),p=r("r8oj"),f=r("cBa6"),h=r("Fo9m"),m=r("vX3W"),y=r("p+Y9"),g=r("F1uM"),v=r("A9TN"),b=r("3k5a"),w=r("w5u6"),S=r("p0Uu"),_=r("BRCg"),k=r("79T+"),C=r("622O"),E=r("+575");function P(e){return o(this,void 0,void 0,function(){var t,r,o,i,l,u,p,h,m,y;return a(this,function(a){switch(a.label){case 0:return t=e.store,r=e.source,o=e.isDataURL,i=e.pageWidth,l=o?"image":g.getBlockTypeForSource({url:r,baseUrl:v.default.baseURL}),u=O(l,r),[4,g.getEmbedBlockData({source:u,type:l,isDataURL:o,pageWidth:i,getOembedData:k.getOembedData})];case 1:return p=a.sent(),h=p.properties,m=p.format,y=c.create(),s.updateValue({store:t.getPropertiesStore(),data:n({},h||{},{source:f.createTextValue(u)}),transaction:y}),d.updateFormat({stores:[t],update:m,transaction:y}),s.updateValue({store:t,data:{type:l},transaction:y}),[4,c.commit({transaction:y})];case 2:return a.sent(),[2]}})})}function x(e){var t=e.store,r=i(e,["store"]),n=c.create();d.updateFormat({stores:[t],update:g.getInitialFormat(r),transaction:n}),c.commit({transaction:n})}t.createEmbedBlocksFromFiles=function(e){var r=e.files,n=e.recordCacheStore,o=e.transaction,a=e.pageWidth;return r.map(function(e){if(!e.type||0!==e.type.indexOf("image")&&0!==e.type.indexOf("video")&&0!==e.type.indexOf("audio"))return r=s.createBlock({type:"file",recordCacheStore:n,transaction:o}),h.uploadFile({store:r,file:e}),r;var r=s.createBlock({type:"embed",recordCacheStore:n,transaction:o});return t.uploadFile({store:r,file:e,pageWidth:a}),r})},t.uploadFile=function(e){var t=this,r=e.store,i=e.file,s=e.pageWidth,u=_.default.getBlockKey(r.id);m.clear(),y.uploadFile({file:i,bucket:"secure",onStart:function(e){if(_.default.setKeyState(u,{progressPercent:0,file:i,name:e.name,size:e.size}),i.type.indexOf("image")>=0&&!g.hasExtension(name,"tiff")&&!g.hasExtension(name,"tif"))l(i,function(e){var t=_.default.getKeyState(u);t&&e.toDataURL&&_.default.setKeyState(u,n({},t,{dataURL:e.toDataURL("image/jpeg",T)}));var o=e.width,a=e.height;x({store:r,width:o,height:a,scale:!0,type:"image",pageWidth:s}),p.default.isMobile&&w.default.afterNextFlush(function(){S.default.PageScroller&&S.default.PageScroller.scrollerHack()})},{canvas:!0,orientation:!0});else{var t=g.getBlockTypeForSource({url:i.name||"",baseUrl:v.default.baseURL});x({store:r,width:s,type:t,pageWidth:s})}},onProgress:function(e){var t=_.default.getKeyState(u);t&&_.default.setKeyState(u,n({},t,{progressPercent:e.progressPercent}))},onComplete:function(e){return o(t,void 0,void 0,function(){var t,n;return a(this,function(o){switch(o.label){case 0:return(t=_.default.getKeyState(u))?(n=Boolean(t.dataURL),[4,P({source:e,store:r,isDataURL:n,pageWidth:s})]):[3,2];case 1:o.sent(),_.default.setKeyState(u,void 0),o.label=2;case 2:return[2]}})})},onError:function(e){_.default.setKeyState(u,void 0)}})},t.initializeEmbedBlock=P,t.initializeFormat=x,t.openSource=function(e){return o(this,void 0,void 0,function(){var t,r,n,o,i,l;return a(this,function(a){switch(a.label){case 0:return(t=e.store.getProperties())?(r=E.toUrlValue(t.source),n=f.getText(t.title),o=e.store.getFormat().display_source,l=void 0,(i=r||o)&&(l=C.getFileDisplayName({title:n,source:i})),i?[4,u.openFileUrl({url:i,downloadName:l,permissionRecord:{table:e.store.table,id:e.store.id}})]:[3,2]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.downloadSource=function(e){return o(this,void 0,void 0,function(){var t,r,n,o,i,l;return a(this,function(a){switch(a.label){case 0:return(t=e.store.getProperties())?(r=E.toUrlValue(t.source),n=f.getText(t.title),o=e.store.getFormat().display_source,l=void 0,(i=r||o)&&(l=C.getFileDisplayName({title:n,source:i})),i?[4,u.downloadFileUrl({url:i,download:!0,downloadName:l,permissionRecord:{table:e.store.table,id:e.store.id}})]:[3,2]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.replaceSource=function(e){var t=e.store,r=b.default.findBlockFromStoreWithMethod(t,"replace");r&&r.replace()};var T=.92,O=function(e,t){return"maps"===e?/https?:\/\//.test(t)?t:"https://maps.google.com/maps/search/"+encodeURIComponent(t):t}},du8U:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},eamm:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LEzx"),i=r("D2XV"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{uploadingProfilePhoto:!1,givenName:"",familyName:"",startDayOfWeek:i.getDefaultStartDayOfWeek()}},t.prototype.getValueForUser=function(e,t){var r=e.getValue();if(r){var n=r.given_name,o=r.family_name,a=r.profile_photo,l=t.getSettings();return{uploadingProfilePhoto:!1,givenName:n||"",familyName:o||"",profilePhoto:a,startDayOfWeek:void 0===l.start_day_of_week?i.getDefaultStartDayOfWeek():l.start_day_of_week}}},t}(a.default);t.default=l},enHn:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("r8oj"),s=r("glAM"),u=r("1FKp"),c=r("iNm0"),d=r("NfIW"),p=r("LSDq"),f=r("vJXr"),h=function(){function e(){var t=this;this.queue=new p.AsyncQueue(1),this.isActive=!1,this.isProcessingTask=!1,this.lastTaskTimestamp=0,this.events=new s.default,this.callbacks={},this.dequeueNextTask=function(){return o(t,void 0,void 0,function(){var t,r=this;return a(this,function(n){switch(n.label){case 0:return this.isActive?this.isProcessingTask?[2]:(this.startSyncing(),this.isProcessingTask=!0,[4,this.queue.enqueue(function(){return o(r,void 0,void 0,function(){return a(this,function(e){return[2,this.transactionManager.refreshTasks()]})})})]):(this.doneSyncing(),[2]);case 1:return n.sent(),0===(t=this.transactionManager.tasks.map(function(e){return e.callback=r.callbacks[e.id],e})).length?(this.isProcessingTask=!1,this.doneSyncing(),this.events.emit("drain"),[2]):(u.handleSubmitTransaction({tasks:t,onComplete:function(e,t){return o(r,void 0,void 0,function(){var r=this;return a(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(t){return o(r,void 0,void 0,function(){var r=this;return a(this,function(n){switch(n.label){case 0:return[4,this.queue.enqueueImmediate(function(){return o(r,void 0,void 0,function(){return a(this,function(e){return delete this.callbacks[t.id],this.transactionManager.removeTask(t.id),[2]})})})];case 1:return n.sent(),t.callback&&t.callback(e),[2]}})})}))];case 1:return n.sent(),this.isProcessingTask=!1,this.dequeueNextTaskThrottled(),[2]}})})},onRetryLater:function(){setTimeout(function(){r.isProcessingTask=!1,r.dequeueNextTaskThrottled()},e.retryTimeout)}}),[2])}})})},this.dequeueNextTaskThrottled=i.throttle(this.dequeueNextTask,e.dequeueThrottle),l.default.isReactNative||l.default.isCordova?this.transactionManager=new d.default:this.transactionManager=new c.default(this),this.queue.enqueue(function(){return o(t,void 0,void 0,function(){return a(this,function(e){return[2,this.transactionManager.refreshTasks()]})})}).then(function(){t.dequeueNextTask()})}return e.prototype.enqueueTask=function(e){return o(this,void 0,void 0,function(){var t=this;return a(this,function(r){switch(r.label){case 0:return this.events.emit("enqueueTask"),this.lastTaskTimestamp=Date.now(),[4,this.queue.enqueueImmediate(function(){return o(t,void 0,void 0,function(){return a(this,function(t){return[2,this.serializeAndSaveTask(e)]})})})];case 1:return r.sent(),this.dequeueNextTaskThrottled(),[2]}})})},e.prototype.unpause=function(){this.isActive||(this.isActive=!0,this.dequeueNextTask())},e.prototype.pause=function(){this.isActive&&(this.isActive=!1)},e.prototype.flush=function(){this.dequeueNextTask()},e.prototype.hasTask=function(e){return this.transactionManager.tasks.some(e)},e.prototype.getLastTaskTimestamp=function(){return this.lastTaskTimestamp},e.prototype.isEmpty=function(){return 0===this.transactionManager.tasks.length},e.prototype.drain=function(){var e=this;return this.isEmpty()&&!this.isProcessingTask?Promise.resolve():new Promise(function(t){e.events.addOnceListener("drain",t)})},e.prototype.awaitRecordTransaction=function(e,t){return o(this,void 0,void 0,function(){var r=this;return a(this,function(n){switch(n.label){case 0:return[4,this.queue.enqueue(function(){return o(r,void 0,void 0,function(){return a(this,function(e){return[2]})})})];case 1:return n.sent(),this.isPendingTransactionForRecord(e,t)?[4,this.drain()]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.isPendingTransactionForRecord=function(e,t){return this.hasTask(function(r){return r.operations.some(function(r){return r.table===e&&r.id===t})})},e.prototype.serializeAndSaveTask=function(e){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return e.callback&&(this.callbacks[e.id]=e.callback),delete e.callback,[4,this.transactionManager.saveTask(e)];case 1:return t.sent(),[2]}})})},e.prototype.startSyncing=function(){f.default.setState(n({},f.default.state,{syncing:!0}))},e.prototype.doneSyncing=function(){f.default.setState(n({},f.default.state,{syncing:!1}))},e.retryTimeout=1e3,e.dequeueThrottle=500,e}();t.LocalTransactionQueue=h,t.default=new h},enKW:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("YUnZ"),o=function(e){return void 0===e&&(e=1),"rgba(84, 70, 35, "+e+")"},a={onboardingShallowShadow:"0 1px 3px "+o(.14),card:"0px 0px 3px rgba(0, 0, 0, 0.08), 0px 1px 5px rgba(84, 70, 35, 0.137255)",frontDeepShadow:"0 6px 20px "+o(.3),frontMediumShadow:"0 2px 8px "+o(.15)+", 0 1px 3px "+o(.15),frontInputShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset, rgba(15, 15, 15, 0.1) 0px 1px 1px inset",frontImageShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px, rgba(15, 15, 15, 0.1) 0px 2px 4px",frontImageFilterDropShadow:"drop-shadow(rgba(84, 70, 35, 0.3) 0px 6px 20px)",frontImageSmallFilterDropShadow:"drop-shadow(rgba(84, 70, 35, 0.3) 0px 3px 10px)"};t.default=a,t.getShadow=function(e){var t=e.elevation,r=e.color,o=void 0===r?n.hsl(0,.01,.07):r,a=e.opacity,i=void 0===a?.1:a,l=e.inner,s=void 0!==l&&l?"inset":"";switch(t){case 0:return"\n\t\t\t\t\t"+s+" 0 0 0 1px "+o.alpha(i).css()+"\n\t\t\t\t";case 1:return"\n\t\t\t\t\t"+s+" 0 0 0 1px "+o.alpha(i).css()+",\n\t\t\t\t\t"+s+" 0 1px 1px "+o.alpha(i).css()+"\n\t\t\t\t";case 2:return"\n\t\t\t\t\t"+s+" 0 0 0 1px "+o.alpha(i).css()+",\n\t\t\t\t\t"+s+" 0 2px 4px "+o.alpha(i).css()+"\n\t\t\t\t";default:return"\n\t\t\t\t\t"+s+" 0 0 0 1px "+o.alpha(i/2).css()+",\n\t\t\t\t\t"+s+" 0 "+1*t+"px "+2*t+"px "+o.alpha(i).css()+",\n\t\t\t\t\t"+s+" 0 "+3*t+"px "+8*t+"px "+o.alpha(2*i).css()+"\n\t\t\t\t"}},t.getTopbarAndroidShadow=function(e,t){return"\n\t\t0 2px 4px "+e.alpha(t).css()+",\n\t\t0 2px 8px "+e.alpha(1.5*t).css()+"\n\t"}},eoiX:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("wldR"),u=r("IsnD"),c=r("bkwR"),d=r("hU3F"),p=r("CTEM"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMount=function(){return a(this,void 0,void 0,function(){var e,t,r,n;return i(this,function(o){switch(o.label){case 0:return(e=this.props.payload)?[4,c.unsubscribeFromEmails({payload:e})]:[3,2];case 1:return"failed"===(t=o.sent()).type?this.stores.state.set({loading:!1,error:t.error.message}):(r=p.default(t.data.icon)&&t.data.icon,n=[r,t.data.spaceName].filter(Boolean).join(" "),this.stores.state.set({loading:!1,error:void 0,result:l.createElement(u.default,null,"You have successfully unsubscribed from emails for"," ",l.createElement("b",null,n))})),[3,3];case 2:this.stores.state.set({loading:!1,error:"Could not unsubscribe."}),o.label=3;case 3:return[2]}})})},t.prototype.renderComponent=function(){var e=this.stores.state.get();return e.loading?l.createElement(u.default,null,"Loading..."):e.error?l.createElement(u.default,null,e.error):e.result},t.stores={state:d.default.of({loading:!0})},t}(s.default);t.default=f},ezkE:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("HRSx"),s=r("6SEd"),u=r("NoAG"),c=r("8L2b"),d=r("j76I"),p=r("FUUC"),f=r("JU1L"),h=r("VpIZ"),m=r("z22Z");function y(e,t){for(var r=[],n=e.id,o=e.table,a=new Set;o&&n;){var i=f.getCombinedId(o,n);if(a.has(i))break;a.add(i);var l=t(o,n);l&&(r.push({table:o,value:l}),n=l.parent_id,o=l.parent_table)}return r}function g(e){return i.every(e,w)}function v(e){return e.filter(function(e){if(e.table===l.default.table){var t=e.value;if(t&&h.isNavigableType(t))return!0}return!1}).map(function(e){return e.value})}function b(e,t){return y(e,function(e,r){return d.getRecordMap(t,e,r)})}function w(e){if(e.table!==l.default.table&&e.table!==s.default.table&&e.table!==u.default.table&&e.table!==c.default.table||!e.value)return!0;var t=e.value;return Boolean(t.parent_id&&t.alive)}t.getPath=y,t.loadPath=function(e,t){return n(this,void 0,void 0,function(){var r,n,a,i,l,s;return o(this,function(o){switch(o.label){case 0:r=[],n=e.id,a=e.table,i=new Set,o.label=1;case 1:return a&&n?(l=f.getCombinedId(a,n),i.has(l)?[3,3]:(i.add(l),[4,t(a,n)])):[3,3];case 2:return(s=o.sent())&&(r.push({table:a,value:s}),n=s.parent_id,a=s.parent_table),[3,1];case 3:return[2,r]}})})},t.pathIsAlive=g,t.recordIsDeleted=function(e,t){return!g(y(e,t))},t.pathHasLoop=function(e){var t,r,n=new Set;try{for(var o=a(e),i=o.next();!i.done;i=o.next()){var d=i.value;if(d.value&&d.value.id&&n.add(d.value.id),(d.table===l.default.table||d.table===s.default.table||d.table===u.default.table||d.table===c.default.table)&&d.value){var p=d.value.parent_id;if(p&&n.has(p))return!0}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return!1},t.filterNavigablePath=v,t.getSpaceFromPath=function(e){var t=e.find(function(e){return e.table===p.default.table});return t&&t.value},t.getNavigablePath=function(e,t){return v(y(e,t))},t.getPathFromRecordMap=b,t.getPathFromRecordMapWithRole=function(e,t){return y(e,function(e,r){var n=d.getRecordMapWithRole(t,e,r);return n&&n.value})},t.filterRecordMapForRecordsInSpace=function(e,t){var r={};return d.forEachRecordMap(t,function(n){var o=n.table,a=n.id,i=n.record,l=b({table:o,id:a},t);l.find(function(t){return Boolean(t.table===p.default.table&&t.value&&t.value.id===e)})&&(d.setRecordMap(r,o,a,i),l.forEach(function(e){e.value&&d.setRecordMap(r,e.table,e.value.id,e.value)}))}),r},t.pathHasDeletedPermission=function(e){return Boolean(e.find(function(e){if(e.table===p.default.table){var t=e.value;return Boolean(t&&t.permissions&&t.permissions.find(function(e){return"deleted_permission"===e.type}))}if(e.table===l.default.table){var r=e.value;return Boolean(r&&r.permissions&&r.permissions.find(function(e){return"deleted_permission"===e.type}))}return!1}))},t.pathHasUserPermission=function(e,t){return Boolean(e.find(function(e){if(e.table===l.default.table){var r=e.value;return Boolean(r&&r.permissions&&r.permissions.find(function(e){return"user_permission"===e.type&&e.user_id===t&&m.canRead(e.role)}))}return!1}))},t.pathHasPublicPermission=function(e){return Boolean(e.find(function(e){if(e.table===l.default.table){var t=e.value;return Boolean(t&&t.permissions&&t.permissions.find(function(e){return"public_permission"===e.type&&m.canRead(e.role)}))}return!1}))}},"f/Q2":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("yjqD"),i=function(){function e(e){var t=this;this.queue=[],this.currentWorkers=0,this.currentSetTimeouts=0,this.dequeue=function(){return n(t,void 0,void 0,function(){var e,t,r,n,a,i,l,s;return o(this,function(o){switch(o.label){case 0:if(this.currentSetTimeouts=0,this.currentWorkers>=this.maxWorkers||0===this.queue.length)return[2];this.currentWorkers++,e=this.queue.splice(0,this.batchSize),t=e.map(function(e){return e[0]}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.performRequests(t)];case 2:return r=o.sent(),[3,4];case 3:return a=o.sent(),n=a,[3,4];case 4:try{if(n)for(i=0;i<e.length;i++)(l=e[i])[1].reject(n);else if(r)for(i=0;i<e.length;i++)l=e[i],s=r[i],l[1].resolve(s)}catch(e){}return this.currentWorkers--,this.dequeue(),[2]}})})};var r=e.performRequests,a=e.batchSize,i=e.maxWorkers;this.performRequests=r,this.batchSize=a,this.maxWorkers=i}return e.prototype.enqueue=function(e){var t=a.deferred();return this.queue.push([e,t]),this.currentSetTimeouts<this.maxWorkers&&(this.currentSetTimeouts++,setTimeout(this.dequeue)),t.promise},e}();t.default=i},f0kS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("bsBB"),u=r("SR/M"),c=r("gbGO"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.user,r=e.showEmail;return i.createElement(u.default,a({},this.props,{icon:i.createElement(s.default,{format:s.default.Format.AvatarOnly,userValue:t,avatarSize:this.context.isMobile?24:20}),title:i.createElement(s.default,{format:s.default.Format.FullNameOnly,userValue:t}),caption:r&&i.createElement(s.default,{format:s.default.Format.EmailOnly,userValue:t})}))},t.contextTypes=c.menuContextTypes,t}(l.default);t.default=d},f4in:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("q1tI"),u=r("wldR"),c=r("4NII"),d=r("+P8o"),p=r("5Nka"),f=r("zmp8"),h=r("Cycz"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.evernoteFeatures=[h.renderFeatureWithTooltip("Notes","Create documents and share with others."),h.renderFeatureWithTooltip("Tags","Organize and track your notes."),h.renderFeatureWithTooltip("Reminders","Get notified of due dates."),h.renderFeatureWithTooltip("Web clipper","Save pages from the web."),h.renderFeatureWithTooltip("Two-level hierarchy","Organize notes into notebooks and stacks.")],t.notionFeatures=i(t.evernoteFeatures.slice(0,-1),[h.renderFeatureWithTooltip("Infinite hierarchy","No limits on nesting notes within notes."),h.renderFeatureWithTooltip("Real-time collaboration","Work with others on the same page at the same time."),h.renderFeatureWithTooltip("Markdown support","Shortcuts and export enabled."),h.renderFeatureWithTooltip("Databases","New workflows with database views, rollups, filters and more.")]),t}return o(t,e),t.prototype.renderComponent=function(){return l.createElement(s.Fragment,null,l.createElement("div",{style:this.getWrapStyle()},this.renderEvernotePlan(),this.renderSeparator(),this.renderNotionPlan()),this.renderPriceDisclaimer())},t.prototype.renderEvernotePlan=function(){return l.createElement(d.default,{image:p.default.front.evernote.pricing.evernotePng,imageStyle:{height:42,marginLeft:12,opacity:.8},title:l.createElement(s.Fragment,null,"Evernote",l.createElement("br",null),"Premium"),price:"$8",features:this.evernoteFeatures,isSettings:!1,caption:l.createElement(s.Fragment,null,"per",l.createElement("br",null),"month"),isSmallScreen:c.default()})},t.prototype.renderNotionPlan=function(){return l.createElement(d.default,{image:p.default.front.evernote.pricing.notionPng,imageStyle:{height:42,marginLeft:12},title:l.createElement(s.Fragment,null,"Notion",l.createElement("br",null),"Personal"),price:"$4",features:this.notionFeatures,isSettings:!1,caption:l.createElement(s.Fragment,null,"per",l.createElement("br",null),"month"),isSmallScreen:c.default()})},t.prototype.renderSeparator=function(){return c.default()?l.createElement("div",{style:{flex:"none",height:20}}):l.createElement("div",{style:{flex:"none",width:20}})},t.prototype.renderPriceDisclaimer=function(){return l.createElement("div",{style:this.getPriceDisclaimerStyle()},"Prices shown are for annual billing.")},t.prototype.getWrapStyle=function(){return{display:"flex",width:c.default()?"100%":480,maxWidth:900,flexDirection:c.default()?"column":"row"}},t.prototype.getPriceDisclaimerStyle=function(){return{width:c.default()?"100%":"60%",marginTop:24,marginBottom:48,fontSize:14,textAlign:c.default()?"left":"center",color:f.default.uiGray}},t}(u.default);t.default=m},f6Xh:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("VBxf"),i=r("dP7y"),l=r("yFBc"),s=r("N34Z"),u=r("MBf9"),c=r("cBa6"),d=r("bkwR"),p=r("yjqD");function f(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return t=u.create(),s.updateValue({store:e,data:{type:"bookmark"},transaction:t}),[4,u.commit({transaction:t})];case 1:return r.sent(),[2]}})})}t.createBookmark=function(e){return n(this,void 0,void 0,function(){var t,r,n,h,m,y;return o(this,function(o){switch(o.label){case 0:return t=e.store,r=l.default(e.url),i.test(r,"url")||a.showError({error:new Error("Please enter a valid link.")}),n=u.create(),s.updateValue({store:t.getPropertiesStore(),data:{link:c.createTextValue(r),title:c.createTextValue(name)},transaction:n}),[4,p.race([u.commit({transaction:n}),p.timeout(3e3)])];case 1:return h=o.sent(),m=h.winner,y=h.rest,1!==m?[3,4]:[4,f(t)];case 2:return o.sent(),[4,y];case 3:o.sent(),o.label=4;case 4:return[4,d.setBookmarkMetadata({blockId:t.id,url:r})];case 5:return o.sent(),[2]}})})}},f8Hx:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{loading:!0,error:!1,html:void 0}},t}(r("LEzx").default);t.default=a},f95e:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("DNfA"),a=r("q0nT"),i=r("RBMm"),l=r("x0lk"),s=o.Placement.Top,u=o.Placement.Bottom,c=o.Placement.Left,d=o.Placement.Right,p=o.Alignment.Start,f=o.Alignment.Center;t.keepInBound=function(e){var t=e.store,r=e.placementToOrigin,o=e.alignmentToOrigin,p=e.popupRect,f=e.originRect,m=e.viewportPadding,y=e.placementFlipped,g=a.default(),v=l.expand(g,-m||0),b=h(p,f,r,o),w=Math.max(v.left-b.left,0)+Math.min(v.right-b.right,0),S=Math.max(v.top-b.top,0)+Math.min(v.bottom-b.bottom,0),_=r===c&&Math.abs(w)>0&&l.withinRect(v,h(p,f,i.getFlippedPlacement(r),o)),k=r===d&&Math.abs(w)>0&&l.withinRect(v,h(p,f,i.getFlippedPlacement(r),o)),C=r===s&&Math.abs(S)>0&&l.withinRect(v,h(p,f,i.getFlippedPlacement(r),o)),E=r===u&&Math.abs(S)>0&&l.withinRect(v,h(p,f,i.getFlippedPlacement(r),o)),P={placementFlipped:!1,offsetX:0,offsetY:0};P.placementFlipped=y||_||k||C||E,(!P.placementFlipped||r!==c&&r!==d)&&(P.offsetX=Math.round(w)),(!P.placementFlipped||r!==s&&r!==u)&&(P.offsetY=Math.round(S)),t.setState(n({},t.state,P))};var h=function(e,t,r,n){if(r===s||r===u){var o=void 0;o=n===p?t.left:n===f?t.left+t.width/2-e.width/2:t.right-e.width;var a=void 0;return{top:a=r===s?t.top-e.height:t.bottom,bottom:a+e.height,left:o,right:o+e.width,width:e.width,height:e.height}}a=void 0;a=n===p?t.top:n===f?t.top+t.height/2-e.height/2:t.bottom-e.height;o=void 0;return o=r===c?t.left-e.width:t.right,{top:a,bottom:a+e.height,left:o,right:o+e.width,width:e.width,height:e.height}}},fB7H:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("D2XV"),s=r("wldR"),u=r("LeVO"),c=r("O+wX"),d=r("mF3+"),p=r("nFzZ"),f=r("zmp8"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMountOrUpdate=function(){this.createReminderTimer()},t.prototype.willUnmount=function(){this.clearReminderTimer()},t.prototype.createReminderTimer=function(){var e=this.props.value;if(e){var t=l.getReminderMoment(e,l.currentTimeZone);if(t){var r=t.valueOf(),n=r-Date.now();n<0||n>p.DayMs||this.reminderTimer&&this.reminderTimer.timestamp===r||(this.reminderTimer&&clearTimeout(this.reminderTimer.timer),this.reminderTimer={timestamp:r,timer:setTimeout(this.enqueueForceUpdate,n)})}}},t.prototype.clearReminderTimer=function(){this.reminderTimer&&(clearTimeout(this.reminderTimer.timer),this.reminderTimer=void 0)},t.prototype.renderComponent=function(){var e=this,t=this.props.value;if(t){var r,n=l.getMomentRange(t,l.currentTimeZone);if(t.reminder){var o=l.isReminderOverdue(t,l.currentTimeZone);r=o?{color:f.default.red}:{color:f.default.blue}}return i.createElement(u.default,{renderTooltip:function(){return e.getTooltipFormattedTime(n.start)+(n.end?" → "+e.getTooltipFormattedTime(n.end):"")},render:function(n){return i.createElement("div",a({style:a({},e.props.style,r)},n),c.formatPersistedDate({value:t,date_format:e.props.dateFormat,time_format:e.props.timeFormat,userTimeZone:l.currentTimeZone}),t.reminder&&d.default.alarmClock({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}))}})}},t.prototype.getTooltipFormattedTime=function(e){return e.format("MMM DD, YYYY h:mm A")},t}(s.default);t.default=h},fCO4:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTouchStart=function(e){t.touchX=e.touches[0].clientX},t.handleTouchMove=function(e){if(void 0!==t.touchX){var r=t.props.threshold||120,n=t.touchX-e.touches[0].clientX;n>r&&t.props.onSwipeLeft&&(t.props.onSwipeLeft(),t.touchX=void 0),n<-1*r&&t.props.onSwipeRight&&(t.props.onSwipeRight(),t.touchX=void 0)}},t.handleTouchEnd=function(){t.touchX=void 0},t.handleTouchCancel=function(){t.touchX=void 0},t}return o(t,e),t.prototype.renderComponent=function(){return this.props.render({onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel})},t}(r("wldR").default);t.default=a},fFtn:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.stiffness=50,this.damping=10,this.precision=.001,this.currentValue=0,this.endValue=0,this.velocity=0}return e.prototype.isAtRest=function(){return Math.abs(this.endValue-this.currentValue)<=this.precision},e.prototype.setEndValue=function(e){this.endValue=e;var t=this.isAtRest();return t&&this.setAtRest(),t},e.prototype.step=function(t){var r=t;do{var o=void 0;r>e.timestep?(r-=e.timestep,o=e.timestep):(o=r,r=0);var a=n(this.rk4(this.currentValue,this.velocity,o),2),i=a[0],l=a[1];this.velocity=l,this.currentValue=i}while(r>0);var s=this.isAtRest();return s&&this.setAtRest(),s},e.prototype.setAtRest=function(){this.currentValue=this.endValue,this.velocity=0},e.prototype.rk4=function(e,t,r){var n=e,o=t,a=this.computeAccel(n,o,0),i=e+.5*o*r,l=t+.5*a*r,s=this.computeAccel(i,l,r/2),u=e+.5*l*r,c=t+.5*s*r,d=this.computeAccel(u,c,r/2),p=e+c*r,f=t+d*r;return[e+r/6*(o+2*l+2*c+f),t+r/6*(a+2*s+2*d+this.computeAccel(p,f,r))]},e.prototype.computeAccel=function(t,r,n){return this.stiffness*e.stiffnessMultiplier*(this.endValue-t)-this.damping*e.dampingMultiplier*r},e.stiffnessMultiplier=1e-5,e.dampingMultiplier=.005,e.timestep=1e3/60,e}();t.default=o},fHgN:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("Z6+j"),i=r("g90h"),l=r("/U3w"),s=r("wldR"),u=r("w5u6"),c=r("8dfn"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderEvents=new a.default,t.key=i.default(),t}return o(t,e),t.prototype.willMount=function(){this.props.open&&this.addToContainer()},t.prototype.willUpdate=function(e){this.props.open&&!e.open?this.removeFromContainer():!this.props.open&&e.open&&this.addToContainer()},t.prototype.willUnmount=function(){var t=this;e.prototype.willUnmount.call(this),u.default.afterNextFlush(function(){t.removeFromContainer()})},t.prototype.componentDidUpdate=function(t){e.prototype.componentDidUpdate.call(this,t),this.renderEvents.emit()},t.prototype.shouldComponentUpdate=function(e){return!0},t.prototype.renderComponent=function(){return this.props.origin?this.props.origin:null},t.prototype.addToContainer=function(){l.add({key:this.key,renderEvents:this.renderEvents,render:this.props.render,zIndex:this.props.zIndex,useCompositeLayer:this.props.useCompositeLayer,overlayContainerStore:this.props.overlayContainerStore||c.default})},t.prototype.removeFromContainer=function(){l.remove({key:this.key,overlayContainerStore:this.props.overlayContainerStore||c.default})},t}(s.default);t.default=d},fIr1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={UUID:"UUID",String:"String",Number:"Number",Boolean:"Boolean",StringArray:"StringArray",JSON:"JSON"}},fJHT:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("KAy6"),u=r("q1tI"),c=r("i8i4"),d=r("cBa6"),p=r("aZ00"),f=r("H4VD"),h=r("Ajfl"),m=r("EszA"),y=r("TM4X"),g=r("Cm2F"),v=r("Ng8H"),b=r("r8oj"),w=r("V9q8"),S=r("IzPW"),_=r("unoy"),k=r("bPtJ"),C=r("t+pW"),E=r("5Y2+"),P=r("Mcmf"),x=r("MBf9"),T=r("nFzZ"),O=r("jWHj"),M=r("wpmu"),I=r("m8rc"),A=r("A9TN"),D=r("D2XV"),L=r("/YYm"),R=r("bmSz"),B=r("S26v"),j=r("DNgp"),V=r("43ch"),F=r("w5u6"),N=r("I6hv"),U=r("B2+S"),W=r("GKeo"),z=r("tP7q"),H=r("zmp8"),q=r("BTUg"),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.triggeredAnalytics=!1,t.reminderTimers={},t.renderContentContainer=function(e,r){return l.createElement(E.default,a({ref:function(e){t.editor=e},onBlur:t.props.onBlur,onFocus:t.props.onFocus,style:t.getStyle(),getDisabled:t.getDisabled,spellCheck:!t.canExclusivelyComment(),getHtml:t.getHtml,getSelection:t.getContainerSelection,onMutation:t.handleMutation,onCompositionStart:t.props.onChange,onCompositionEnd:t.props.onChange,onSelect:r,placeholder:t.getCurrentPlaceholder()},e))},t.handleMutation=function(e){if(t.canEdit()&&(!t.editor||!t.editor.isComposing)){x.createAndCommit(function(r){return h.applyTextUpdate({store:t.props.store,newValue:e,transaction:r})});var r=t.props.store;if("block"===r.table){var n=M.default.createChildStore(r,r.id);if(n.getType()){var o=n.getSchema()||{};if("properties"===r.path[0]&&r.path[1])o[r.path[1]]&&!t.triggeredAnalytics&&(t.triggeredAnalytics=!0)}}t.props.onChange&&t.props.onChange()}},t.handleDelete=function(e){if(t.canEdit()&&(!t.editor||!t.editor.isComposing)){var r=t.props.store,n=j.default.state;n.editing&&x.createAndCommit(function(t){y.backspace({store:r,selection:n.selection,deleteForwards:!0,transaction:t,event:e})}),t.flushRenderQueue(),t.props.onChange&&t.props.onChange()}},t.handleBackspace=function(e){var r=O.getKeyboardState();if(!(!t.canEdit()||t.editor&&t.editor.isComposing||r.option||r.control||r.command)){var n=t.props.store,o=j.default.state;o.editing&&x.createAndCommit(function(t){y.backspace({store:n,selection:o.selection,deleteForwards:!1,transaction:t,event:e})}),t.flushRenderQueue(),t.props.onChange&&t.props.onChange()}},t.handleEnter=function(e){if(t.canEdit()&&(e.preventDefault(),!t.editor||!t.editor.isComposing)){var r=j.default.state;if(r.editing)if(e.shiftKey)t.props.disableShiftEnter||x.createAndCommit(function(e){h.insertString({store:t.props.store,string:"\n",selection:r.selection,transaction:e})});else if(t.props.onEnter)t.props.onEnter(e);else{var n=t.props.store;x.createAndCommit(function(e){v.enter({store:n,selection:r.selection,transaction:e})}),t.flushRenderQueue()}t.props.onChange&&t.props.onChange()}},t.handleTab=function(e){if(t.canEdit()){if(e.preventDefault(),t.props.onTab)t.props.onTab(e);else{var r=V.default.getClosestSelectableStore(t.props.store);r&&(x.createAndCommit(function(e){h.tab({store:t.props.store,closestSelectable:r,shiftKey:!1,transaction:e})}),t.flushRenderQueue())}t.props.onChange&&t.props.onChange()}},t.handleUntab=function(e){if(t.canEdit()){if(e.preventDefault(),t.props.onUntab)t.props.onUntab(e);else{var r=V.default.getClosestSelectableStore(t.props.store);r&&(x.createAndCommit(function(e){h.tab({store:t.props.store,closestSelectable:r,shiftKey:!0,transaction:e})}),t.flushRenderQueue())}t.props.onChange&&t.props.onChange()}},t.handleAnnotation=function(e,r){t.canEdit()&&(r.preventDefault(),m.annotateSelection({annotation:e}),t.flushRenderQueue(),t.props.onChange&&t.props.onChange())},t.handleClick=function(e){t.handleClickActions(e),t.props.onClick&&t.props.onClick(e)},t.handleCopy=function(e){p.copy({event:e})},t.handleCut=function(e){x.createAndCommit(function(t){p.cut({event:e,transaction:t})}),t.flushRenderQueue(),t.props.onChange&&t.props.onChange()},t.handlePaste=function(e){x.createAndCommit(function(t){p.paste({event:e,transaction:t})}),t.flushRenderQueue(),t.props.onChange&&t.props.onChange()},t.handleKeyPress=function(e){t.canEdit()||e.metaKey&&"c"===e.key||e.preventDefault()},t.getDisabled=function(){return b.default.isMobile&&b.default.isAndroid?!t.canComment()||!j.default.isEditingStore.state:!t.canComment()},t.getHtml=function(){var e=l.createElement(u.Fragment,null,S.renderText({textValue:t.getTextValue(),parentStore:t.props.parentStore||t.props.store,disableStyleAnnotations:Boolean(t.props.disableStyleAnnotations),disabled:!t.canEdit(),theme:t.theme}));return s.renderToStaticMarkup(e)},t.clearBrowserSelection=function(){t.getEditorNode().blur()},t.isEditing=t.createComputedStore(function(){var e=j.default.state;return e.editing&&e.store===t.props.store}),t.getTextSelectionFromRange=function(e){return S.serializeTextSelection(e)},t.getContainerSelection=function(){if(t.isEditing.state){var e=t.props.store,r=j.default.state;if(r.editing){var n=r.selection,o=e.getValue(),a=d.getChars(o).length;return{startIndex:Math.min(n.startIndex,a),endIndex:Math.min(n.endIndex,a)}}}},t.getEndSelection=function(){var e=d.getChars(t.getTextValue());return{startIndex:e.length,endIndex:e.length}},t}return o(t,e),t.prototype.willMountOrUpdate=function(){this.createReminderTimers()},t.prototype.willUnmount=function(){this.clearReminderTimers()},t.prototype.createReminderTimers=function(){var e,t,r=this.getTextValue(),n=d.getDateMentions(r),o=T.compact(n.map(function(e){var t=D.getReminderMoment(e,D.currentTimeZone);return t&&t.valueOf()})),a=Date.now();try{for(var l=i(o),s=l.next();!s.done;s=l.next()){var u=(c=s.value)-a;u>0&&u<T.DayMs&&(c in this.reminderTimers||(this.reminderTimers[c]=setTimeout(this.enqueueForceUpdate,u)))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}for(var c in this.reminderTimers)o.includes(parseInt(c))||(clearTimeout(this.reminderTimers[c]),delete this.reminderTimers[c])},t.prototype.clearReminderTimers=function(){for(var e in this.reminderTimers)clearTimeout(this.reminderTimers[e]),delete this.reminderTimers[e]},t.prototype.renderComponent=function(){var e=this,t=this.props,r=t.store,n=t.disableInsertText,o=t.onEsc,a=t.disableMentions,i=t.disableDateMentions,s=t.disableEmbedMenu,u=t.disableMobileActionBar,c=t.disableSlashCommands,d=t.disableStyleAnnotations,p=t.disableSelectAllBlocks,f=t.disableSelectionDrag,h=t.disabled,m=t.disableUpDownArrows,y=t.disableEnter;return l.createElement(P.default,{store:r,disabled:h,getTextSelectionFromRange:this.getTextSelectionFromRange,clearBrowserSelection:this.clearBrowserSelection,getEndSelection:this.getEndSelection,canInsertText:!h&&!n,onClick:this.handleClick,onDelete:this.handleDelete,onBackspace:this.handleBackspace,onEnter:this.handleEnter,onEsc:o,onTab:this.handleTab,onUntab:this.handleUntab,onToggleHighlight:function(t){return e.handleAnnotation(["h",q.default.state.color],t)},onToggleBold:function(t){return e.handleAnnotation(["b"],t)},onToggleItalics:function(t){return e.handleAnnotation(["i"],t)},onToggleStrike:function(t){return e.handleAnnotation(["s"],t)},onToggleCode:function(t){return e.handleAnnotation(["c"],t)},onCopy:this.handleCopy,onCut:this.handleCut,onPaste:this.handlePaste,onKeyPress:this.handleKeyPress,render:this.renderContentContainer,disableMentions:a,disableDateMentions:i,disableEmbedMenu:s,disableMobileActionBar:u,disableSlashCommands:c,disableAnnotation:d,canSelectAllBlocks:!p,canSelectionDrag:!f,topBottomPadding:9,disableUpDownArrows:m,disableEnter:y})},t.prototype.getCurrentPlaceholder=function(){if(this.props.placeholder)return this.props.placeholder;if(!this.props.disableSlashCommands&&this.isEditing.state&&this.canEdit()){if(W.default.state.open)return"Type to filter";if(!b.default.isMobile)return"Type '/' for commands"}return" "},t.prototype.getClickedToken=function(e){var t=w.closestNode(e.target,function(e){return Boolean(e.getAttribute&&e.getAttribute("data-token-index"))});if(t&&this.getEditorNode().contains(t)){var r=t.getAttribute("data-token-index");if(r){var n=parseInt(r),o=this.getTextValue();if(o){var a=o[n];if(a)return{textValue:o,tokenIndex:n,textToken:a,node:t}}}}},t.prototype.handleClickActions=function(e){var t=this,r=this.getClickedToken(e);if((b.default.isFirefox||!j.default.state.editing||j.default.isEmptySelection())&&r){var n=d.getTokenAnnotations(r.textToken),o=d.findLinkAnnotation(n),a=d.findPageAnnotation(n),i=d.findDiscussionAnnotations(n).map(function(e){return d.getDiscussionAnnotationData(e)}).find(function(e){var r=k.createRecordStore(t.props.parentStore||t.props.store,R.default.table,e).getValue();return Boolean(r&&!r.resolved)});if(i){var l=V.default.getClosestSelectableStore(this.props.store),s=(o||a)&&(N.default.state.open||b.default.isMobile);if(l&&!s){var u=e.target&&e.target.getBoundingClientRect();return g.openBlockDiscussionMenu({blockStore:l,analyticsFrom:"existing_comment",discussionId:i,rect:u}),void e.preventDefault()}}var c=void 0;if(o&&(c=B.sanitizeUrl(d.getLinkAnnotationData(o))),a){var p=d.getPageAnnotationData(a),h=M.default.createChildStore(this.props.parentStore||this.props.store,p);c=L.default({store:h})}if(c){if(e.preventDefault(),_.clear(),"page"===z.parseRoute({url:c,baseUrl:A.default.baseURL,isMobile:b.default.isMobile,protocol:A.default.protocol,currentUrl:window.location.href}).name){var m=e.metaKey||e.ctrlKey;f.navigate({url:c,metaClick:m})}else f.navigateToExternalURL({url:c});return}if(this.canEdit()){var y=r.textToken,v=r.node,w=r.tokenIndex,S=d.getTokenAnnotations(y);if(d.findDateAnnotation(S))return I.open({originRect:v.getBoundingClientRect(),textStore:this.props.store,tokenIndex:w}),void e.preventDefault()}}},t.prototype.canEdit=function(){return!this.props.disabled&&this.props.store.canEdit()},t.prototype.canComment=function(){return!this.props.disabled&&this.props.store.canComment()},t.prototype.canExclusivelyComment=function(){return this.canComment()&&!this.canEdit()},t.prototype.getEditorNode=function(){return c.findDOMNode(this.editor)},t.prototype.getTextValue=function(){var e=this.props.store.getValue()||[];if(U.default.state.open&&"inline"===U.default.state.type){var t=U.default.state,r=t.selection,n=t.textStore;if(this.props.store===n)return d.annotateSelection({textValue:e,selection:r,annotation:["z"]})}return e},t.prototype.isEmpty=function(){return 0===d.getTokens(this.getTextValue()).length},t.prototype.flushRenderQueue=function(){F.default.flush()},t.prototype.getStyle=function(){var e=a({maxWidth:"100%",width:"100%",whiteSpace:"pre-wrap",wordBreak:"break-word",caretColor:this.canExclusivelyComment()?H.default.transparent:this.theme.regularTextColor},this.props.style);return this.isEmpty()&&(e.minHeight="1em",e=a({},e,{color:this.theme.regularTextColor,WebkitTextFillColor:this.theme.lightTextColor},this.props.placeholderStyle)),b.default.isMobile&&this.canEdit()&&(this.isEditing.state?e.WebkitUserModify="read-write-plaintext-only":(e.userSelect="none",e.WebkitUserSelect="none")),e},t}(C.default);t.default=G},fMiG:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("STAJ"),a=r("dP7y"),i=r("PoRY"),l=r("g90h"),s=r("wF3w"),u=r("HRSx"),c=r("6SEd"),d=r("NoAG"),p=r("njgS"),f=r("cBa6"),h=r("awNq"),m=r("+575"),y=r("6BTz"),g=r("nFzZ"),v=r("zmp8");t.createCollection=function(e){var r=e.user,n=e.blockType,o=e.rootId,a=e.parentId,i=e.parentTable,s=e.name,h=e.table,m=e.ignoreBlockCount,y=t.parseTable(h),v=y.schema,b=y.types,w=y.pages,S=l.default(),_=l.default(),k=Date.now(),C=[],E={id:S,version:0,parent_table:u.default.table,parent_id:o,name:f.createTextValue(s),schema:v,alive:!0};C.push({table:c.default.table,id:S,command:"set",path:[],args:E});var P={id:o,version:0,type:n,collection_id:S,view_ids:[_],alive:!0,created_by:r.id,created_time:k,last_edited_by:r.id,last_edited_time:k,parent_id:a,parent_table:i};C.push({table:u.default.table,id:o,command:"update",path:[],args:P});var x=t.createPageBlocks(r,S,w,m);x.forEach(function(e){var t=e.operation;return C.push(t)});var T={id:_,version:0,type:"table",name:"Show All",parent_id:o,parent_table:"block",format:{table_properties:g.compact(b.map(function(e){var t=e.id;if(t)return{visible:!0,property:t}}))},page_sort:x.map(function(e){return e.id}).slice(0,p.maxPageSortLength),alive:!0};return C.push({table:d.default.table,id:_,command:"set",path:[],args:T}),{operations:C}},t.parseTable=function(e){var t=(e=e.filter(function(e){return e.some(function(e){return Boolean(e.trim())})})).shift()||[],r=e,a=g.compact(o.map(M,o.transpose(r))),i=!0,l={title:{type:"title",name:"Title"}};t.forEach(function(e,t){var r=a[t];if(r)if("text"===r.schema.type&&i){i=!1,r.id="title",r.schema={type:"title",name:e};var o=l.title;o&&(o.name=e)}else{var u=s.default();r.id=u,l[u]=n({name:e},r.schema)}});var u=r.map(function(e){var t={};return a.forEach(function(r,n){if(r){var o=r.id,a=r.schema,i=r.coerce,l=a.type;if(o){var s=e[n]||"";t[o]="url"===l?m.fromUrlValue(s):"date"===l?m.fromDateValue(i(s)):f.createTextValue(i(s))}}}),t});return{schema:l,types:a,pages:u}},t.createPageBlocks=function(e,t,r,o){var a=Date.now();return r.map(function(r){var i=l.default(),s=n({id:i,version:0,parent_id:t,parent_table:c.default.table,type:"page",created_by:e.id,created_time:a,last_edited_by:e.id,last_edited_time:a,properties:r},o?{ignore_block_count:!0}:void 0,{alive:!0});return{id:i,operation:{table:u.default.table,id:i,command:"set",path:[],args:s}}})};var b=["yes","Yes","true","True","checked"],w=["no","No","false","False","unchecked"];function S(e){return b.some(function(t){return e===t})||w.some(function(t){return e===t})}var _=function(e){if(parseInt(e)&&e.length<=6)return!1;var t=h.parseFreeformDateString(e);return Boolean(t)};var k=function(e){return a.test(e,"email")},C=function(e){return a.test(e,"url")},E=function(e){var t=i.parse(e,{country:{default:"US"}});return t&&t.phone&&t.country},P=function(e){var t=i.parse(e,{country:{default:"US"}});if(t&&t.phone&&t.country)return i.format(t,"International_plaintext")},x=function(e,t){return e>0&&Math.pow(e,2)<t},T=function(e){return{schema:{type:"text"},validate:o.always(!0),coerce:o.identity}},O=[function(e){if(e.filter(S).length>=e.length/2)return{schema:{type:"checkbox"},validate:S,coerce:function(e){return b.some(function(t){return e===t})?p.checkboxYesValue:p.checkboxNoValue}}},function(e){if(e.filter(E).length>=e.length/2)return{schema:{type:"phone_number"},validate:E,coerce:P}},function(e){var t=e.map(y.parseNumberFormat),r=t[0];if(r&&t.every(function(e){return!g.isNotDefined(e)})&&t.every(function(e){return Boolean(e&&e.format===r.format)}))return{schema:{type:"number",number_format:r.format},validate:function(e){var t=y.parseNumberFormat(e);return!g.isNotDefined(t)&&t.format===r.format},coerce:function(e){var t=y.parseNumberFormat(e);return""+(t?t.value:void 0)}}},function(e){if(e.filter(k).length>=e.length/2)return{schema:{type:"email"},validate:k,coerce:o.identity}},function(e){if(e.filter(C).length>=e.length/2)return{schema:{type:"url"},validate:C,coerce:o.identity}},function(e){if(e.filter(_).length>=e.length/2)return{schema:{type:"date"},validate:_,coerce:function(e){return h.parseFreeformDateString(e)}}},function(e){var t=[];e.forEach(function(e){return e.split(",").forEach(function(e){return t.push(e.trim())})});var r,n,a,i=new Set(t);if(r=i.size,n=t.length,a=e.length,n>a&&x(r,n))return{schema:{type:"multi_select",options:Array.from(i).map(function(e,t){return{id:s.default(),value:e,color:v.getRandomSelectColor([])}})},validate:function(e){return i.has(e)},coerce:o.identity}},function(e){var t=new Set(e);if(x(t.size,e.length))return{schema:{type:"select",options:Array.from(t).map(function(e,t){return{id:s.default(),value:e,color:v.getRandomSelectColor([])}})},validate:function(e){return t.has(e)},coerce:o.identity}},T],M=function(e){var t,r=e.filter(function(e){return Boolean(e)});return 0===r.length?T():(O.find(function(e){var n=e(r);return n&&(t=n),Boolean(n)}),t)}},fNh0:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},u=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},c=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var d=r("q1tI"),p=r("LvDl"),f=r("17x9"),h=r("t+pW"),m=r("Pl3d"),y=r("bkwR"),g=r("wlCD"),v=r("wpmu"),b=r("2Ig/"),w=r("8fuX"),S=r("zK7c"),_=r("XBB3"),k=r("HRSx"),C=r("5/h/"),E=r("VpIZ"),P=r("bPtJ"),x=r("kaWB"),T=r("H4VD"),O=r("gicP"),M=r("ttM1"),I=r("lBar"),A=r("g90h"),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOverrideLinkClick=function(e){O.closeHistoryModal(),T.navigate({url:e})},t.loadSnapshot=function(e){return i(t,void 0,void 0,function(){var t,r,n,o,a,u,d,f,h,m,g,w,S,_,T,O,M,I,D,L,R=this;return l(this,function(B){switch(B.label){case 0:return n=this.props.blockStore.id,o=this.props.timestamp,[4,y.getSnapshot(e)];case 1:if("failed"===(a=B.sent()).type)throw a.error;return u=a.data,h=(f=p).flatten,[4,Promise.all(u.signedUrls.map(function(e){return i(R,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,fetch(e)];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}})})}))];case 2:d=h.apply(f,[B.sent()]),m=new b.default;try{for(g=s(d),w=g.next();!w.done;w=g.next())S=w.value,_=S.table,T=S.value,m.setRecord(_,T.id,{role:"reader",value:T})}catch(e){t={error:e}}finally{try{w&&!w.done&&(r=g.return)&&r.call(g)}finally{if(t)throw t.error}}return m.snapshotData={blockId:n,timestamp:o},O=p.uniq(p.flatten(d.map(function(e){var t=e.table,r=e.value;if(t===k.default.table){var n=r,o=E.getPageMentions(n),a=E.isNavigableType(n)?[]:n.content||[];return c(o,a).filter(function(e){return!m.getRecord(k.default.table,e)})}return[]}))).filter(A.isUUIDWithDashes),M=p.compact(O.map(function(e){return P.createRecordStore(R.props.blockStore,k.default.table,e)})),I=p.uniq(p.flatten(d.map(function(e){var t=e.table,r=e.value;if(t===k.default.table){var n=r,o=E.getUserMentions(n);return n.created_by&&o.push(n.created_by),n.last_edited_by&&o.push(n.last_edited_by),o.filter(function(e){return!m.getRecord(C.default.table,e)})}if(t===x.default.table){var a=r;return m.getRecord(C.default.table,a.created_by)?[]:[a.created_by]}return[]}))).filter(A.isUUIDWithDashes),D=p.compact(I.map(function(e){return P.createRecordStore(R.props.blockStore,C.default.table,e)})),L=c(M,D),[4,Promise.all(L.map(function(e){return i(R,void 0,void 0,function(){var t;return l(this,function(r){switch(r.label){case 0:return[4,e.load()];case 1:return r.sent(),(t=e.getValue())&&m.setRecord(e.table,t.id,{role:"reader",value:t}),[2]}})})}))];case 3:return B.sent(),[2,{blockStore:new v.default(n,m),timestamp:o}]}})})},t}return o(t,e),t.prototype.getChildContext=function(){return{overrideLinkClick:this.handleOverrideLinkClick}},t.prototype.renderComponent=function(){var e=this,t={request:{blockId:this.props.blockStore.id,timestamp:this.props.timestamp},performRequest:this.loadSnapshot,render:function(t,r,n){return d.createElement(M.default,{show:!n||!r,showDelay:400,showHold:400,render:function(n){return n?d.createElement("div",{style:e.getSpinnerWrapperStyles()},d.createElement(g.default,null)):t?d.createElement("div",{style:{padding:32}},"Something went wrong."):r?d.createElement(S.default,{key:r.timestamp,store:r.blockStore,isDefaultContainer:!0,render:function(t){return d.createElement(w.default,a({style:{background:e.theme.contentBackground,zIndex:1,flexGrow:1},type:e.useSeparateHorizontalScroller(r.blockStore)?w.default.OverflowType.Y:w.default.OverflowType.All},t),d.createElement(_.default,{store:r.blockStore,disabled:!0,loadingContainerStore:void 0,context:_.PageViewBlockContext.InAppTemplatePreview,paddingTop:_.default.titlePaddingMarginTop,paddingBottom:_.default.paddingBottom,paddingLeft:_.default.defaultPaddingLeftRight,paddingRight:_.default.defaultPaddingLeftRight,pageCoverHeight:_.default.defaultPageCoverHeight}))}}):void 0}})}};return d.createElement(m.default,a({},t))},t.prototype.useSeparateHorizontalScroller=function(e){return!e.isCollectionView()||!I.browserSupportsPositionSticky()},t.prototype.getSpinnerWrapperStyles=function(){return{padding:32,display:"flex",alignItems:"center",justifyContent:"center"}},t.childContextTypes={overrideLinkClick:f.any},t}(h.default);t.default=D},fO5X:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl");t.default=function(e,t,r){var o=r||function(e,t){return e===t};return{deleted:n.differenceWith(e,t,o),created:n.differenceWith(t,e,o)}}},fVGD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("xEkU"),l=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.currentValue=0,r.frame=null,r.tick=function(){Math.abs(r.currentValue-r.props.percentage)<.5?r.frame=null:(r.currentValue=r.currentValue*t.speed+r.props.percentage*(1-t.speed),r.enqueueForceUpdate(),r.frame=i(r.tick))},r}return o(t,e),t.prototype.willMount=function(e){this.currentValue=e.percentage},t.prototype.didUpdate=function(){this.frame||requestAnimationFrame(this.tick)},t.prototype.renderComponent=function(){return a.createElement("span",null,Math.min(Math.round(this.currentValue),99),"%")},t.speed=.98,t}(r("wldR").default);t.default=l},fYc2:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r("Uv1v").default);t.default=new a},fbat:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isActive:!1}},t}(r("LEzx").default);t.default=new a},fke4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("cDZm");t.default=new n.default("KeyValueStore2",!0)},fonJ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("cYwG"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleScroll=function(e){t.props.loading||(e>(t.props.loadMoreOffsetThreshold||200)||t.props.resultSize>=t.props.fetchSize&&t.props.onLoadMore())},t}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(l.default,{onChange:this.handleScroll})},t}(i.default);t.default=s},frzs:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("bkwR"),l=r("r8oj"),s=r("HSWF"),u=r("y6Dp"),c=r("H4VD"),d=r("oqYu"),p=r("wo7W"),f=r("oWRT"),h=r("Nfcv"),m=r("hvW1"),y=r("6Ydq"),g=r("bK/N"),v=r("g90h"),b=r("p46w"),w=r("qqdV"),S=r("tP7q"),_=r("A9TN"),k=r("QcDD"),C=r("sjR4"),E=r("DNgp"),P=r("T1hA"),x=r("fke4"),T=r("p6dh"),O=r("Wae9"),M=r("uwoq"),I=r("+DAh"),A=r("VkkH"),D=r("S26v"),L=r("Wnyic"),R="current-user-id";function B(){return o(this,void 0,void 0,function(){return a(this,function(e){return localStorage.clear(),sessionStorage.clear(),x.default.remove(R),P.default.setState({userId:void 0}),u.deidentifyCurrentUser(),l.default.isCordova&&(f.logoutOfGoogle(),h.clearStorage(),f.unregisterPushNotifications()),l.default.isReactNative&&(d.logoutOfGoogle(),p.clearStorage(),d.unregisterPushNotifications(),d.cancelUserBackgroundTasks()),l.default.isElectron&&(g.clearBrowserHistory(),g.clearCookies()),k.default.reset(),C.default.reset(),E.default.reset(),I.default.reset(),T.default.reset(),O.default.reset(),[2]})})}t.clearAllUserStorageAndState=B;function j(e){var t=e.isNewSignup,r=e.userId,n=e.redirectURL;if(l.default.isElectron&&g.clearBrowserHistory(),V(r),t&&(u.identifyNewUser({user_id:r,tags:s.getSessionAnalyticsTags(),origin_initial_page:s.getInitialPage()}),u.trackSignup({user_id:r}),i.initializeUserAnalytics({})),n){var o=S.parseRoute({url:n,isMobile:l.default.isMobile,baseUrl:_.default.baseURL,protocol:_.default.protocol,currentUrl:window.location.href});!o||"space"!==o.name&&"page"!==o.name||s.setLastVisitedRoute(o)}window.location.href="/"}function V(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return(t=x.default.get(R))&&t!==e?[4,B()]:[3,2];case 1:r.sent(),r.label=2;case 2:return x.default.set(R,e),P.default.setState({userId:e}),[2]}})})}t.requestLoginWithGoogle=function(e){return o(this,void 0,void 0,function(){var t,r,o,s,p,h,g,v,b,k,C,E,P,x,T;return a(this,function(a){switch(a.label){case 0:return t=e.store,r=e.email,o=e.permissionsStore,u.trackLoginWithGoogle(),(s=d.hasNativeGoogleLogin()?d.requestGoogleJwt:f.hasNativeGoogleLogin()?f.requestGoogleJwt:void 0)?[4,s()]:[3,5];case 1:return(p=a.sent())?p.error?(y.log({level:"error",from:"loginActions",type:"requestGoogleJwt",error:p.error}),[2]):[3,2]:[3,5];case 2:return m.display({message:"Logging in with google..."}),h=p.value.idToken,[4,i.loginWithGoogleJwt({idToken:h})];case 3:"success"===(g=a.sent()).type?(v=g.data,b=v.isNewSignup,k=v.userId,j({isNewSignup:b,userId:k}),m.close()):(t.setState(n({},t.state,{alert:"Something went wrong while trying to log in with Google."})),m.close()),a.label=4;case 4:return[2];case 5:return C=L.getAuthType(),E=S.createGooglePopupRedirect(_.default.baseURL,{email:r,contacts:o.state.contacts,authType:C}),C.redirectToAuth?(P=E,[3,8]):[3,6];case 6:return[4,L.loadAuthUrl(E)];case 7:P=a.sent(),a.label=8;case 8:return E=P,l.default.isReactNative?(d.openInAppBrowser(E),[3,13]):[3,9];case 9:return l.default.isCordova?(f.openInAppBrowser(E),[3,13]):[3,10];case 10:return"redirect"!==C.callbackType?[3,11]:(window.location.href=E,[3,13]);case 11:return[4,A.openPopup({width:610,height:700,url:E,title:"Google Login"})];case 12:if(!(x=a.sent()))return[2];T=D.replacePathname({url:D.removeBaseUrl(x),pathname:w.googleAuthCallback}),c.navigate({url:T}),a.label=13;case 13:return[2]}})})},t.sendTemporaryPassword=function(e){return o(this,void 0,void 0,function(){var t,r,o,c;return a(this,function(a){switch(a.label){case 0:return t=e.store,r=Boolean(s.getSessionAnalyticsTags()),u.trackLoginRequestWithEmail(),[4,i.sendTemporaryPassword({email:t.state.email,redirectURL:s.getLastVisitedRouteUrl(),disableLoginLink:r,native:l.default.isNative,isSignup:"signup"===M.default.state.route.name})];case 1:return"success"===(o=a.sent()).type?(c=o.data.csrfState,t.setState(n({},t.state,{sentPasswordState:c}))):t.setState(n({},t.state,{alert:o.error.message})),[2]}})})},t.loginWithEmail=function(e){return o(this,void 0,void 0,function(){var t,r,n,o,l,s,u;return a(this,function(a){switch(a.label){case 0:return t=e.state,r=e.password,n=e.redirectURL,[4,i.loginWithEmail({state:t,password:r})];case 1:return"success"!==(o=a.sent()).type?[2,o.error]:(l=o.data,s=l.isNewSignup,u=l.userId,j({isNewSignup:s,userId:u,redirectURL:n}),[2])}})})},t.loginWithGoogleAuth=function(e){return o(this,void 0,void 0,function(){var t,r,n,o,l,s;return a(this,function(a){switch(a.label){case 0:return t=e.encryptedToken,r=e.code,[4,i.loginWithGoogleAuth({code:r,encryptedToken:t})];case 1:return"success"!==(n=a.sent()).type?[2,n.error]:(o=n.data,l=o.isNewSignup,s=o.userId,j({isNewSignup:l,userId:s}),[2])}})})},t.loginAsAdmin=function(e){return o(this,void 0,void 0,function(){return a(this,function(t){return j({isNewSignup:!1,userId:e.userId}),[2]})})},t.logout=function(){c.navigate({url:w.logout})},t.actuallyLogout=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,i.logout({})];case 1:return e.sent(),[4,B()];case 2:return e.sent(),window.location.href="/",[2]}})})},t.clearLoggedInUserId=function(){x.default.remove(R),P.default.setState({}),b.remove("userId")},t.startListeners=function(){var e=x.default.get(R);if(e)V(e);else{var t=b.get("userId");t&&v.isUUIDWithDashes(t)&&V(t)}}},fuyW:function(e,t){!function(e,t){function r(){this.key=!1,this.sendConsoleErrors=!1,this.tag="jslogger",this.useDomainProxy=!1}function n(t,r){if(t.sendConsoleErrors=r,!0===t.sendConsoleErrors){var n=e.onerror;e.onerror=function(r,o,a,i){t.push({category:"BrowserJsException",exception:{message:r,url:o,lineno:a,colno:i}}),n&&"function"==typeof n&&n.apply(e,arguments)}}}function o(t){1==t.useDomainProxy?t.inputUrl=a+e.location.host+"/"+u+"/inputs/"+t.key+"/tag/"+t.tag:t.inputUrl=a+(t.logglyCollectorDomain||i)+"/inputs/"+t.key+"/tag/"+t.tag}var a="http"+("https:"===t.location.protocol?"s":"")+"://",i="logs-01.loggly.com",l="logglytrackingsession",s=l.length+1,u="loggly";r.prototype={setSession:function(e){e?(this.session_id=e,this.setCookie(this.session_id)):this.session_id||(this.session_id=this.readCookie(),this.session_id||(this.session_id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),this.setCookie(this.session_id)))},push:function(e){var t=typeof e;if(e&&("object"===t||"string"===t)){var r=this;if("string"===t)e={text:e};else{if(e.logglyCollectorDomain)return void(r.logglyCollectorDomain=e.logglyCollectorDomain);if(void 0!==e.sendConsoleErrors&&n(r,e.sendConsoleErrors),e.tag&&function(e,t){e.tag=t}(r,e.tag),e.useDomainProxy&&function(e,t){e.useDomainProxy=t,o(e)}(r,e.useDomainProxy),e.logglyKey)return void function(e,t){e.key=t,e.setSession(),o(e)}(r,e.logglyKey);if(e.session_id)return void r.setSession(e.session_id)}r.key&&r.track(e)}},track:function(t){t.sessionId=this.session_id;try{var r=new XMLHttpRequest;r.open("POST",this.inputUrl,!0),r.setRequestHeader("Content-Type","text/plain"),r.send(JSON.stringify(t))}catch(r){e&&e.console&&"function"==typeof e.console.log&&(console.log("Failed to log to loggly because of this exception:\n"+r),console.log("Failed log data:",t))}},readCookie:function(){var e=t.cookie,r=e.indexOf(l);if(0>r)return!1;var n=e.indexOf(";",r+1);return n=0>n?e.length:n,e.slice(r+s,n)},setCookie:function(e){t.cookie=l+"="+e}};var c=e._LTracker,d=new r;if(c&&c.length){var p=0,f=c.length;for(p=0;f>p;p++)d.push(c[p])}e._LTracker=d,e.LogglyTracker=r}(window,document)},fvMi:function(e,t){},fw5W:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("yNyh"),u=r("uSCg"),c=r("r8oj"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyDown=function(e){"Backspace"===e.key&&0===t.props.value.length&&t.props.onRemoveLastToken()},t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{onClick:this.props.onClick,style:c.default.isMobile?this.getMobileWrapStyle():this.getDesktopWrapStyle()},this.props.tokens,this.renderInput())},t.prototype.renderInput=function(){var e=0===this.props.tokens.length;return i.createElement(s.default,a({format:s.default.Format.Transparent},u.default({onKeyDown:this.handleKeyDown},{onChange:this.props.onChange}),{value:this.props.value,onSubmit:this.props.onSubmit,onBlur:this.props.onBlur,focus:this.props.focus,style:a({},t.inputStyle,{margin:c.default.isMobile?"0 8px 8px 0":"0 6px 6px 0"}),readOnly:this.props.readOnly,inputStyle:{height:18},size:1,type:this.props.type,placeholder:e?this.props.placeholder:"",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1}))},t.prototype.getDesktopWrapStyle=function(){return a({display:"flex",flexWrap:"wrap",alignItems:"flex-start",minHeight:30,boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,borderRadius:3,fontSize:14,cursor:"text",overflow:"hidden",padding:"9px 9px 3px"},this.props.style)},t.prototype.getMobileWrapStyle=function(){return a({},this.getDesktopWrapStyle(),{fontSize:14,padding:"7px 10px 0"})},t.inputStyle={flexGrow:1,flexShrink:1,flexBasis:60,minWidth:60,width:"auto",lineHeight:"20px"},t}(l.default);t.default=d},fwa5:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isActive:!1}},t}(r("LEzx").default);t.default=new a},fx0I:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("r8oj"),u=r("t+pW"),c=r("wlCD"),d=r("LeVO"),p=r("rlmE"),f=r("vJXr"),h=r("enHn"),m=r("2bwL"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fakeSync=!1,t.realSync=!1,t.handleKeyDown=function(e){p.default(e,"command+s")&&(e.preventDefault(),f.default.state.online&&!t.fakeSync&&(t.fakeSync=!0,t.enqueueForceUpdate(),setTimeout(function(){t.fakeSync=!1,t.enqueueForceUpdate()},500)))},t.handleStartSync=function(){f.default.state.syncing&&!t.realSync&&(t.realSync=!0,t.enqueueForceUpdate())},t.handleStartSyncDebounced=l.debounce(t.handleStartSync,2e3),t.handleStopSync=function(){t.realSync&&!f.default.state.syncing&&(t.realSync=!1,t.enqueueForceUpdate())},t.handleStopSyncDebounced=l.debounce(t.handleStopSync,200),t.isOnline=t.createComputedStore(function(){return f.default.state.online}),t}return o(t,e),t.prototype.willMount=function(){this.listenForSave(),f.default.addListener(this.handleStartSyncDebounced),h.default.events.addListener("enqueueTask",this.handleStartSyncDebounced),f.default.addListener(this.handleStopSyncDebounced)},t.prototype.willUnmount=function(){this.unlistenForSave(),f.default.removeListener(this.handleStartSyncDebounced),h.default.events.removeListener("enqueueTask",this.handleStartSyncDebounced),f.default.removeListener(this.handleStopSyncDebounced)},t.prototype.renderComponent=function(){var e=this;if(!this.isOnline.state)return i.createElement(d.default,{renderTooltip:function(){return i.createElement("div",{style:{width:200}},"You have "+m.default.state.totalPending+" edits that will be synced next time you are online.")},textWrap:!0,render:function(t){return i.createElement("div",a({style:e.getOfflineBadgeStyle()},t),"Offline")}});if(this.fakeSync||this.realSync){var t=s.default.isMobile;return i.createElement(d.default,{renderTooltip:function(){return m.default.percentComplete()+" complete."},render:function(r){return i.createElement("div",a({style:e.getLoadingStateStyle()},r),i.createElement(c.default,{style:e.getLoadingSpinnerStyle()}),!t&&"Saving...")}})}},t.prototype.listenForSave=function(){window.addEventListener("keydown",this.handleKeyDown)},t.prototype.unlistenForSave=function(){window.removeEventListener("keydown",this.handleKeyDown)},t.prototype.getOfflineBadgeStyle=function(){var e=s.default.isMobile;return{display:"flex",alignItems:"center",padding:"0px 6px",height:e?20:24,borderRadius:3,marginRight:e?4:18,whiteSpace:"nowrap",fontSize:e?12:14,color:this.theme.mediumTextColor,border:"1px solid "+this.theme.darkDividerColor}},t.prototype.getLoadingStateStyle=function(){var e=s.default.isMobile;return{display:"flex",alignItems:"center",marginRight:e?0:18,fontSize:e?12:14,color:this.theme.lightTextColor}},t.prototype.getLoadingSpinnerStyle=function(){return s.default.isMobile?{height:18,width:18,margin:4}:{margin:4,marginRight:8}},t}(u.default);t.default=y},fx0v:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("N34Z"),o=r("RJuv"),a=r("sjR4");t.setFollowBlock=function(e){var t=a.default.getCurrentRecordCacheStore();if(t){var r=o.getFollowId({user_id:e.userId,navigable_block_id:e.navigableBlockId});n.createRecord({table:o.default.table,value:{id:r,user_id:e.userId,navigable_block_id:e.navigableBlockId,following:e.value,created_time:Date.now()},recordCacheStore:t,transaction:e.transaction})}}},fyu6:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("Uy0f");t.updatePageVisibility=function(){o.default.setState(n({},o.default.state,{isVisible:!document.hidden}))},t.startListeners=function(){document.addEventListener("visibilitychange",t.updatePageVisibility)}},fzF3:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{index:0}},t}(r("LEzx").default);t.default=a},g4rC:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=a},g8hj:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r("q1tI"),s=r("LvDl"),u=r("i8i4"),c=r("2Yor"),d=r("V9q8"),p=r("xqms"),f=r("NOLh"),h=r("wldR"),m=r("iVjn"),y=r("OjB8"),g=r("DkKf"),v=r("lBar");!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(i=t.DraggableListDirection||(t.DraggableListDirection={}));var b=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderKey=function(e,n){var o=r.props,s=o.renderKey,u=o.direction,d=o.keys;if(r.stores.store.state.isDragging&&r.stores.store.state.draggingKey===e){var p,h=r.stores.store.state,m=h.savedKeyRects,y=h.savedContainerRect,g=h.currentXOffset,v=h.currentYOffset,b=m[n],w=void 0;u===i.Vertical?(p=c.default(b.top+v,y.top,y.top+y.height-b.height)-y.top,w=b.left-y.left):(p=b.top-y.top,w=c.default(b.left+g,y.left,y.left+y.width-b.width)-y.left);var S=a({},t.draggingKeyStyle,{left:w,top:p,width:b.width,height:b.height,zIndex:1});return l.createElement("div",{key:e,style:S},s(e,n,d))}if(r.stores.store.state.isDragging){var _=r.stores.store.state,k=(m=_.savedKeyRects,y=_.savedContainerRect,_.startKeyPosition),C=_.currentKeyPosition,E=_.draggingKey,P=m[d.indexOf(E)],x=0,T=0;return C!==k&&n>=C&&n<k?u===i.Vertical?T=P.height:x=P.width:C!==k&&n<=C&&n>k&&(u===i.Vertical?T=-P.height:x=-P.width),(b=m[n])?l.createElement(f.default,{isVisible:!0,key:e,animationStyle:{translateX:b.left-y.left+x,translateY:b.top-y.top+T,width:b.width,height:b.height},render:function(){return l.createElement("div",{style:t.draggingKeyStyle},s(e,n,d))}}):null}return s(e,n,d)},r.handleDragStart=function(e){var t=r.stores.store;e.preventDefault();var n=r.props.keys,o=u.findDOMNode(r);if(o&&o instanceof Element){var a=d.closestNode(e.target,function(e){return e.parentNode===o});if(a){var i=s.toArray(o.children).indexOf(a),l=o.getBoundingClientRect(),c=s.map(n,function(e,t){return o.children[t].getBoundingClientRect()}),p=r.getScroller();p&&t.setState({isDragging:!1,willDrag:!0,currentXOffset:0,currentYOffset:0,draggingKey:n[i],startKeyPosition:i,startScrollX:p.scrollLeft,startScrollY:p.scrollTop,currentKeyPosition:i,savedContainerRect:l,savedKeyRects:c})}}},r.handleDragMove=function(e){var t=r.stores.store;!t.state.isDragging&&t.state.willDrag&&t.state.draggingKey&&y.default(e.startX,e.startY,e.currentX,e.currentY)>=g.minDragDist[e.device]&&(t.setState({currentXOffset:t.state.currentXOffset,currentYOffset:t.state.currentYOffset,startScrollX:t.state.startScrollX,startScrollY:t.state.startScrollY,startKeyPosition:t.state.startKeyPosition,currentKeyPosition:t.state.currentKeyPosition,savedKeyRects:t.state.savedKeyRects,savedContainerRect:t.state.savedContainerRect,draggingKey:t.state.draggingKey,isDragging:!0,willDrag:!1}),r.props.onDragStart&&r.props.onDragStart());var n=r.getScroller();if(t.state.isDragging&&n){var o=t.state,i=o.savedKeyRects,l=o.startScrollX,u=o.startScrollY,c=n.scrollLeft-l,d=n.scrollTop-u,p=s.minBy(i,function(t){return y.default(e.currentX+c,e.currentY+d,t.left+t.width/2,t.top+t.height/2)});if(p){var f=i.indexOf(p);t.setState(a({},t.state,{currentXOffset:e.diffX+c,currentYOffset:e.diffY+d,currentKeyPosition:f}))}}},r.handleDragEnd=function(e){var t=r.stores.store;if(t.state.isDragging){var n=r.props,o=n.keys,a=n.onDrop,i=t.state,l=i.startKeyPosition,u=i.currentKeyPosition;if(l!==u){var c=s.clone(o);c.splice(u,0,c.splice(l,1)[0]),a(c)}t.reset()}},r.handleDragCancel=function(e){var t=r.stores.store;t.state.isDragging&&t.reset()},r}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=this.props,n=r.direction,o=r.keys,s=r.isFullWidth,u=r.allowHorizontalScroll,c=n===i.Horizontal,d=a({},c?t.horizontalStyle:t.verticalStyle,c&&u&&{overflowX:"auto"},s&&{flexGrow:1},this.stores.store.state.isDragging&&a({position:"relative",zIndex:1,width:this.stores.store.state.savedContainerRect.width,height:this.stores.store.state.savedContainerRect.height},this.props.isSidebarSwitcher&&{marginBottom:1}));return l.createElement(m.default,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,disableVerticalEdgeScroll:n===i.Horizontal,disableHorizontalEdgeScroll:n===i.Vertical,render:function(t){return l.createElement("div",a({style:d},t),o.map(e.renderKey))}})},t.prototype.getScroller=function(){var e=this.props.direction;return this.scroller||(this.scroller=e===i.Vertical?v.getVerticalScrollableAncestor(u.findDOMNode(this)):v.getHorizontalScrollableAncestor(u.findDOMNode(this))),this.scroller},t.stores={store:p.default},t.verticalStyle={margin:0},t.horizontalStyle={display:"inline-flex",margin:0},t.draggingKeyStyle={position:"absolute",display:"flex"},t}(h.default);t.default=b},g90h:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("xk4V"),o=r("aCH8"),a=r("LvDl");t.deterministicID=function(e){var t=o(e),r=a.chunk(t,2).map(function(e){return parseInt(e.join(""),16)});return n({random:r})},t.uuidLengthWithDashes=36,t.withDashes=function(e){return[e.substring(0,8),e.substring(8,12),e.substring(12,16),e.substring(16,20),e.substring(20,32)].join("-")},t.isUUIDWithDashes=function(e){return Boolean(e&&e.length===t.uuidLengthWithDashes&&/^[-a-f0-9]*$/g.test(e))},t.uuidLengthWithoutDashes=32,t.withoutDashes=function(e){return e.replace(/-/g,"")},t.isUUIDWithoutDashes=function(e){return Boolean(e&&e.length===t.uuidLengthWithoutDashes&&/^[a-f0-9]*$/g.test(e))},t.getAnalyticsId=function(e){return t.withoutDashes(e)},t.default=function(){return n()}},gMRr:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,iconSvg:l.default.framer,mediaMenuCurrentTab:"embed",mediaMenuTabs:["embed"],mediaMenuEmbedCaption:"Works with Framer prototypes",embedButtonText:"Embed Framer",urlInputPlaceholder:"https://framer.cloud/..."}),"Embed a Framer prototype")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},gRnv:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this;Object.defineProperty(t,"__esModule",{value:!0});var i=r("g90h"),l=r("cBa6"),s=r("N34Z"),u=r("MBf9"),c=r("6rsX"),d=r("7TLZ"),p=r("RI9y"),f=r("unoy"),h=r("Uc+B"),m=r("VpIZ"),y=r("y6Dp"),g=r("NMKT"),v=r("T1hA"),b=r("3k5a"),w=r("w5u6"),S=r("B2+S");t.openNewInlineDiscussionMenu=function(e){return n(a,void 0,void 0,function(){var t,r,n,a,i,l,s,u,d;return o(this,function(o){switch(o.label){case 0:return t=e.blockStore,r=e.textStore,n=e.selection,(a=p.get())?(i=p.getRect(a))?(l=i.width,s=i.height,u=i.right-l,d=new h.default,S.default.setState({open:!0,rect:{top:i.top,left:u,right:i.right,bottom:i.top+s,height:s,width:l},type:"inline",blockStore:t,textStore:r,selection:n,discussionInputStore:d}),c.clear(),g.deactivateMenu(),[4,w.default.afterNextFlush()]):[2]:[2];case 1:return o.sent(),f.setSelectionAtStart({store:d.state.textStore}),y.trackOpenNewInlineDiscussion(),[2]}})})},t.openNewBlockDiscussionMenu=function(e){return n(a,void 0,void 0,function(){var t,r,n,a,i,l;return o(this,function(o){switch(o.label){case 0:return t=e.blockStore,(r=b.default.getRect(t))?(n=new h.default,a=r.width,i=r.height,l=r.right-a,S.default.setState({open:!0,rect:{top:r.top,left:l,right:r.right,bottom:r.top+i,height:i,width:a},type:"block",blockStore:t,discussionInputStore:n}),c.clear(),[4,w.default.afterNextFlush()]):[2];case 1:return o.sent(),f.setSelectionAtStart({store:n.state.textStore}),y.trackOpenNewBlockDiscussion(),[2]}})})},t.closeNewDiscussionMenu=function(){var e=S.default.state;e.open&&(S.default.setState({open:!1,rect:e.rect}),c.clear())},t.createNewInlineDiscussion=function(e){var t=e.textStore,r=e.selection,n=e.commentTextValue,o=e.transaction;if(v.default.state.userId){var a=t.getValue();if(a){var c=i.default(),p=l.annotateSelection({textValue:a,selection:r,annotation:["m",c]});s.setValue({store:t,value:p,transaction:o});var f=l.getTextValueInRange(p,r.startIndex,r.endIndex),h=s.createRecord({table:"comment",value:{parent_id:c,parent_table:"discussion",text:n,alive:!0},recordCacheStore:t.recordCacheStore,transaction:o}),m=t.getRecordStoreAtRootPath();s.createRecord({table:"discussion",value:{id:c,parent_id:m.id,parent_table:m.table,context:f,resolved:!1,comments:[h.id]},recordCacheStore:t.recordCacheStore,transaction:o});var g=d.getDiscussionsStore(m);u.addOperation({transaction:o,store:g,operation:{table:g.table,id:g.id,path:g.path,command:"listAfter",args:{id:c,after:void 0}}}),y.trackCreateBlockDiscussion()}}},t.createNewBlockDiscussion=function(e){var t=e.blockStore,r=e.commentTextValue,n=e.transaction;if(v.default.state.userId){var o,a=i.default(),c=s.createRecord({table:"comment",value:{parent_id:a,parent_table:"discussion",text:r,alive:!0},recordCacheStore:t.recordCacheStore,transaction:n}),p=t.getValue();if(p&&m.isTitleType(p)&&!m.isNavigableType(p)){var f=p.properties&&p.properties.title;o=l.getUnstyledTextValue(l.getTextValueWithoutDiscussions(f))}var h=s.createRecord({table:"discussion",value:{id:a,parent_id:t.id,parent_table:t.table,resolved:!1,context:o,comments:[c.id]},recordCacheStore:t.recordCacheStore,transaction:n}),g=d.getDiscussionsStore(t);return u.addOperation({transaction:n,store:g,operation:{table:g.table,id:g.id,path:g.path,command:"listAfter",args:{id:a,after:void 0}}}),y.trackCreateInlineDiscussion(),h}}},gSH5:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("VBxf"),l=r("MBf9"),s=r("r8oj"),u=r("wldR"),c=r("wXH4"),d=r("SeL1"),p=r("gRnv"),f=r("74GD"),h=r("B2+S"),m=r("wS9/"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderDiscussionInput=function(){if(h.default.state.open){var e=h.default.state,r=e.blockStore,n=e.discussionInputStore;return a.createElement(f.default,{capture:!0},a.createElement("div",{style:t.getStyle()},a.createElement(d.default,{parentStore:r,onCancel:t.handleDismiss,onSubmit:t.handleSubmit,discussionInputStore:n,isCordovaSlideUpMenu:!0})))}},t.handleSubmit=function(){var e=h.default.state;if(e.open){var t=e.discussionInputStore.state.textStore.getValue();t&&t.length>0&&("inline"===e.type?l.createAndCommit(function(r){p.createNewInlineDiscussion({textStore:e.textStore,selection:e.selection,commentTextValue:t,transaction:r})}):"block"===e.type&&l.createAndCommit(function(r){p.createNewBlockDiscussion({blockStore:e.blockStore,commentTextValue:t,transaction:r})})),p.closeNewDiscussionMenu()}},t.handleDismiss=function(){var e=h.default.state;if(e.open){var t=e.discussionInputStore.state.textStore.getValue();t&&t.length>0?i.showDialog({message:"Do you want to discard the comment?",showCancel:!0,keepFocus:s.default.isMobile,items:[{label:"Discard",color:"red",onAccept:p.closeNewDiscussionMenu}]}):p.closeNewDiscussionMenu()}},t}return o(t,e),t.prototype.renderComponent=function(){var e=h.default.state,t=e.open,r=e.rect;return a.createElement(c.default,{popupType:s.default.isReactNative||s.default.isCordova?c.default.PopupType.SlideUp:c.default.PopupType.Popup,keepFocus:s.default.isMobile,open:t,originRect:r,placementToOrigin:c.default.Placement.Bottom,alignmentToOrigin:c.default.Alignment.Center,originGap:4,onDismiss:this.handleDismiss,render:this.renderDiscussionInput})},t.prototype.getStyle=function(){return{width:s.default.isReactNative||s.default.isCordova?"100%":470,maxWidth:s.default.isMobileBrowser?"90vw":"100%",paddingTop:8,paddingBottom:s.default.isAndroid?12:8,paddingLeft:s.default.isReactNative||s.default.isCordova?m.default.calcPaddingLeft(10):10,paddingRight:s.default.isReactNative||s.default.isCordova?m.default.calcPaddingRight(10):10}},t}(u.default);t.default=y},gYhp:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r("Uv1v").default);t.default=new a},gZKy:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var o=r("qqdV"),a=((n={login:!0,logincallback:!0})[o.googleAuthCallback.substring(1)]=!0,n[o.trelloAuthCallback.substring(1)]=!0,n[o.asanaAuthCallback.substring(1)]=!0,n[o.slackAuthCallback.substring(1)]=!0,n.logoutcallback=!0,n.desktop=!0,n.mobile=!0,n.android=!0,n.signup=!0,n.product=!0,n.logout=!0,n["join-us"]=!0,n.pricing=!0,n.about=!0,n.hiring=!0,n.why=!0,n.investors=!0,n.server=!0,n.invoice=!0,n.invite=!0,n.native=!0,n.onboarding=!0,n.unsubscribe=!0,n.space=!0,n["tools-and-craft"]=!0,n.getStatus=!0,n.status=!0,n.jobs=!0,n.security=!0,n.join=!0,n.press=!0,n.blog=!0,n["about-us"]=!0,n.guide=!0,n.help=!0,n.faq=!0,n.faqs=!0,n.media=!0,n["media-kit"]=!0,n.install=!0,n.download=!0,n.template=!0,n.templates=!0,n);t.default=a},gbGO:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r("q1tI"),s=r("i8i4"),u=r("17x9"),c=r("t+pW"),d=r("8fuX"),p=r("12Wr"),f=r("r8oj"),h=r("wS9/"),m=r("uhOZ");!function(e){e[e.Modal=0]="Modal",e[e.ActionSheet=1]="ActionSheet",e[e.Popup=2]="Popup"}(i=t.MenuType||(t.MenuType={})),t.menuContextTypes={menuType:u.any,isMobile:u.any};var y=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleWindowClick=function(e){if(t.props.menuType===i.Popup&&t.props.onClickOutside){var r=s.findDOMNode(t);if(r&&e.target){var n=e.target;m.clickedOutsideMenu({clickedElement:n,menuElement:r})&&t.props.onClickOutside()}}},t}return o(r,e),r.prototype.getChildContext=function(){return{menuType:this.props.menuType,isMobile:this.isMobile()}},r.prototype.willMount=function(){this.props.menuType===i.Popup&&this.props.onClickOutside&&window.addEventListener("click",this.handleWindowClick)},r.prototype.willUnmount=function(){this.props.menuType===i.Popup&&this.props.onClickOutside&&window.removeEventListener("click",this.handleWindowClick)},r.prototype.renderComponent=function(){return this.props.menuType===i.Modal?l.createElement(p.default,{title:this.props.title,left:this.props.left,right:this.props.right,leftDisabled:this.props.leftDisabled,rightDisabled:this.props.rightDisabled,onClickLeft:this.props.onClickLeft,onClickRight:this.props.onClickRight,headerShadow:!this.props.header&&f.default.isAndroid},this.renderMenu()):this.renderMenu()},r.prototype.renderMenu=function(){return l.createElement("div",{className:this.props.className,onMouseEnter:this.props.onMouseEnter,onMouseDown:this.props.onMouseDown,onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,onContextMenu:this.props.onContextMenu,onTouchStart:this.props.onTouchStart,onTouchMove:this.props.onTouchMove,onTouchEnd:this.props.onTouchEnd,onTouchCancel:this.props.onTouchCancel,style:this.getWrapStyle()},this.renderHeader(),this.renderContent(),l.createElement("div",{style:{flexShrink:0}},this.props.footer))},r.prototype.renderHeader=function(){if(this.props.header)return this.props.tokenInputHeader?l.createElement(d.default,{type:d.default.OverflowType.Y,style:{flexShrink:0,maxHeight:240,boxShadow:"inset 0 -1px "+this.theme.darkDividerColor}},this.props.header):l.createElement("div",{style:{flexShrink:0}},this.props.header)},r.prototype.renderContent=function(){if(this.props.children)return this.props.disableScroller?l.createElement("div",{style:this.getScrollerStyle()},this.props.children):l.createElement(d.default,{type:d.default.OverflowType.Y,style:this.getScrollerStyle()},this.props.children)},r.prototype.isMobile=function(){return void 0===this.props.isMobile?f.default.isMobile:this.props.isMobile},r.prototype.getWrapStyle=function(){if(this.props.menuType===i.Popup){var e={minWidth:180,maxWidth:"calc(100vw - 24px)",height:"100%",maxHeight:"70vh"};return{display:"flex",flexDirection:"column",width:this.props.width,minWidth:this.props.minWidth||e.minWidth,maxWidth:this.props.maxWidth||e.maxWidth,height:this.props.height||e.height,maxHeight:this.props.maxHeight||e.maxHeight,minHeight:this.props.minHeight}}return this.props.menuType===i.ActionSheet?{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxHeight:"60vh",background:this.theme.contentBackground,paddingBottom:this.props.footer&&!this.props.disableBottomPadding?h.default.paddingBottom:0}:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxHeight:"100vh",background:this.props.whiteBackground?this.theme.contentBackground:this.theme.sidebarBackground,paddingBottom:this.props.footer?h.default.paddingBottom:0}},r.prototype.getScrollerStyle=function(){return this.props.menuType===i.Popup?{flexGrow:1,minHeight:0,transform:"translateZ(0)"}:this.props.menuType===i.ActionSheet?{flexGrow:1,minHeight:0,paddingBottom:this.props.footer||this.props.disableBottomPadding?0:h.default.paddingBottom}:{flexGrow:1,minHeight:0,paddingBottom:this.props.footer?0:h.default.calcPaddingBottom(72)}},r.MenuType=i,r.childContextTypes=a({},t.menuContextTypes),r}(c.default);t.default=y},gdeG:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("FcJC"),u=r("Wae9"),c=r("EZe4"),d=r("NOLh"),p=r("t+pW"),f=r("LeVO"),h=r("TDb4"),m=r("C7oc"),y=r("UcZb"),g=r("lCCU"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handlePlusIconMouseEnter=function(e){c.default({event:e,context:c.EventContext.SidebarMouseMove,callback:function(){s.open()}})},t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{style:this.getStyle(),onMouseEnter:this.handlePlusIconMouseEnter,onMouseMove:this.handlePlusIconMouseEnter},i.createElement("div",{style:{position:"relative"}},this.renderMenuButton(),this.renderExpandButton()))},t.prototype.renderMenuButton=function(){var e=this,r=u.default.getTotalUnreadMentionsCount();return i.createElement(d.default,{isVisible:!0,animationStyle:{opacity:y.default.state.open?0:1},render:function(){return i.createElement("div",{style:t.buttonWrapStyle},i.createElement("div",{style:t.buttonStyle},l.default.hamburgerMenu(e.getSvgStyle()),r>0&&i.createElement(m.default,{color:m.default.Color.Red,count:r,style:{position:"absolute",top:-4,right:-4}})))}})},t.prototype.renderExpandButton=function(){var e=this;return i.createElement(d.default,{isVisible:!0,animationStyle:{opacity:y.default.state.open?1:0},render:function(){return i.createElement("div",{style:t.buttonWrapStyle},i.createElement(f.default,{renderTooltip:function(){return i.createElement("div",null,i.createElement("div",null,"Lock Sidebar Open"),i.createElement(h.default,{style:{color:e.theme.mediumInvertedTextColor},name:"toggleSidebar"}))},placement:f.default.Placement.Right,alignment:f.default.Alignment.Start,delayThreshold:0,originGap:6,render:function(e){return i.createElement(g.default,a({icon:l.default.doubleChevronRight,style:{position:"relative"},isDarkIconColor:!0,onClick:function(){return s.setExpand({isExpanded:!0})}},e))}}))}})},t.prototype.getStyle=function(){return{flexShrink:0,width:48,height:48,margin:-12,padding:12,marginRight:-6}},t.prototype.getSvgStyle=function(){return{width:16,height:16,fill:this.theme.regularIconColor}},t.buttonStyle={position:"relative",width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:3},t.buttonWrapStyle={position:"absolute",top:0,left:0,willChange:"opacity"},t}(p.default);t.default=v},geEl:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var d,p=r("q1tI"),f=r("LvDl"),h=r("q1tI"),m=r("frzs"),y=r("sdlW"),g=r("r8oj"),v=r("7M94"),b=r("Sb6f"),w=r("w5Oa"),S=r("t+pW"),_=r("RGVD"),k=r("ZQ9l"),C=r("i3uR"),E=r("Na01"),P=r("Oy36"),x=r("2Zgn"),T=r("WgIs"),O=r("SR/M"),M=r("2Y+N"),I=r("gbGO"),A=r("y6Dp"),D=r("MBf9"),L=r("NQmS"),R=r("C7oc"),B=r("AjLL"),j=r("iQaW"),V=r("Cycz"),F=r("HnKe"),N=r("mF3+"),U=r("g8hj"),W=r("qqdV"),z=r("QcDD"),H=r("vJXr"),q=r("3O7B"),G=r("Wae9"),Z=r("prF1"),Y=r("bxQm"),K=r("+fkW"),J=r("MeYt");!function(e){e[e.Regular=0]="Regular",e[e.DesktopMac=1]="DesktopMac",e[e.Mobile=2]="Mobile"}(d||(d={}));var Q=function(e){function t(){var t,r=null!==e&&e.apply(this,arguments)||this;return r.height=((t={})[d.Regular]=B.default.defaultHeight,t[d.DesktopMac]=B.default.desktopMacHeight,t[d.Mobile]="auto",t),r.handleClick=function(){q.default.setState(a({},q.default.state,{open:!0})),A.trackOpenSpaceSwitcher()},r.handleDraggableListDrop=function(e){var t=z.default.state.userRootStore;t&&D.createAndCommit(function(r){y.setSpaceViewIds({userRootStore:t,spaceViewIds:e,transaction:r})}),A.trackReorderWorkspaces({workspace_count:e.length})},r.handleDesktopAppClick=function(){r.close(),g.default.isWindows?A.trackDownloadDesktopApp({from:"sidebar",platform:"windows"}):A.trackDownloadDesktopApp({from:"sidebar",platform:"mac"})},r.handleMobileAppClick=function(){r.close(),A.trackDownloadMobileApp({from:"sidebar"})},r.handleWebClipperClick=function(){r.close(),A.trackDownloadWebClipper({from:"sidebar"})},r}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=this.props.shouldShowUnexpandButton,n=z.default.state.currentSpaceStore;if(n){var o=n.getName(),i=G.default.getUnreadMentionsCountForOtherSpaces();return p.createElement(C.default,{popupType:g.default.isMobile?C.default.PopupType.SlideUp:C.default.PopupType.Popup,buttonPopupStore:q.default,renderOrigin:function(){return p.createElement(J.default,{style:a({},t.buttonStyle,{height:e.height[e.props.format]}),mobileFeedback:g.default.isMobile,onClick:e.handleClick},p.createElement(E.default,{style:a({overflow:"hidden",width:"100%"},e.isMobile()&&{fontSize:14,padding:0}),left:p.createElement(P.default,{disabled:!0,icon:n.getIcon(),isEmptyPage:!1,title:o,size:e.isMobile()?24:20,style:{marginTop:1,color:e.theme.regularTextColor}}),isMobile:e.isMobile(),disableMobileBorder:!0},p.createElement("div",{style:{display:"flex",alignItems:"center"}},p.createElement("div",{style:a({marginRight:6,color:e.theme.regularTextColor,fontWeight:b.default.fontWeight.medium,marginTop:g.default.isAndroid?3:0},t.truncateStyle)},o),p.createElement("div",{style:{flexGrow:0,flexShrink:0,width:8,height:10,marginRight:3,marginTop:e.isMobile()?0:2,fill:e.theme.mediumIconColor}},N.default.expand()))),r&&p.createElement("div",{className:v.fadeIn,style:{marginRight:i?0:12}},p.createElement(x.default,null)),i>0&&p.createElement(R.default,{color:R.default.Color.Red,count:i,style:a({},j.default.mentionsBadgeStyle,{marginRight:14})}))},originGap:0,disableMutationObserver:!0,render:function(t){var r;return r=g.default.isMobile?{menuType:I.default.MenuType.Modal,title:"Workspaces",right:"Done",onClickRight:t.close}:{menuType:I.default.MenuType.Popup,minWidth:270,maxWidth:360,footer:e.renderFooter()},p.createElement(I.default,a({},r),p.createElement(T.default,{sections:e.getMenuListSections(),initialFocus:void 0}),g.default.isMobile&&e.renderFooter())}})}},t.prototype.renderFooter=function(){return p.createElement(M.default,{topBorder:!0},!this.isMobile()&&this.renderDownloadApps(),this.renderLogout())},t.prototype.renderLogout=function(){var e=H.default.state.online;return p.createElement(O.default,{onClick:this.logout,focused:!1,disabled:!e,title:p.createElement("div",{style:this.getLogoutStyle()},"Log Out (",p.createElement(_.default,{format:_.default.Format.EmailOnly}),")")})},t.prototype.getMenuListSections=function(){var e=this,t=H.default.state.online,r=this.getSpaceViewStores().map(function(e){return e.id}),n=this.getSpaceMenuListItems();return[{key:"spaces",render:function(t){return p.createElement(M.default,a({},t,{desktopStyle:{paddingBottom:0},children:g.default.isMobile?t.children:p.createElement(h.Fragment,null,p.createElement(U.default,{direction:U.DraggableListDirection.Vertical,keys:r,renderKey:function(e){return t.children[r.indexOf(e)]},onDrop:e.handleDraggableListDrop,isSidebarSwitcher:!0}),t.children[t.children.length-1])}))},items:u(n,[{key:"create_or_join",render:function(r){return e.renderCreateOrJoinMenuItem(r,t)},action:function(){t&&(e.close(),L.createOrJoinSpace())}}])}]},t.prototype.renderSpaceMenuItem=function(e){return p.createElement(w.default,a({},e.props,{id:e.id,icon:e.icon,title:e.title,caption:e.subtitle,isCheck:e.isCurrentSpace,unreadMentions:e.unreadMentions,isOnlySpace:this.isOnlySpace(),shortcut:void 0!==e.shortcutIndex?g.default.isElectronMac?"⌘"+e.shortcutIndex:"ctrl+"+e.shortcutIndex:void 0}))},t.prototype.renderCreateOrJoinMenuItem=function(e,t){return p.createElement(w.default,a({},e,{isAddButton:!0,title:"Create or Join Workspace",caption:t?void 0:"Please go online",isOnlySpace:this.isOnlySpace()}))},t.prototype.getSpaceMenuListItems=function(){var e,t,r=this,n=[],o=z.default.state,a=o.userRootStore,s=o.currentSpaceStore,u=this.getSpaceViewStores();if(!a||!s)return[];var d=function(e){var t=e.getSpaceStore();if(t){var o,a=t.id===s.id,c=G.default.state.results.find(function(e){return e.spaceId===t.id}),d=t.getName(),p=K.default.getPublicSpaceData(t.id);p&&(o=(p.productId?V.getProductName(p.productId)+" Plan":"Free Plan")+" – "+p.memberCount+" Member"+(p.memberCount>1?"s":""));var h=f.findIndex(u,function(t){return t.id===e.id})+1;n.push({key:e.id,render:function(e){return r.renderSpaceMenuItem({id:t.id,props:e,title:d,subtitle:o,shortcutIndex:g.default.isElectron?h:void 0,icon:t.getIcon(),isCurrentSpace:a,unreadMentions:c&&c.spaceId!==s.id&&c.unread.mentions>0?c.unread.mentions:void 0})},action:function(){return i(r,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return this.close(),a?[3,2]:[4,y.navigateToSpace({spaceViewStore:e,userSettingsStore:z.default.state.userSettingsStore})];case 1:t.sent(),t.label=2;case 2:return A.trackSpaceSwitcherSelectSpace(),[2]}})})}})}};try{for(var p=c(u),h=p.next();!h.done;h=p.next()){d(h.value)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}return n},t.prototype.renderDownloadApps=function(){return g.default.isElectron?p.createElement(Z.default,{external:!0,href:W.mobile,onClick:this.handleMobileAppClick},p.createElement(O.default,{focused:!1,title:p.createElement("div",{style:{color:this.theme.mediumTextColor,fontSize:12,paddingLeft:this.isMobile()||this.isOnlySpace()?0:w.default.dragHandleEffectiveWidth}},"Get Mobile App")})):p.createElement(k.default,{isTokenTitle:!0,title:p.createElement("div",{style:{display:"flex",color:this.theme.mediumTextColor,fontSize:12,alignItems:"center",marginLeft:-5,paddingLeft:this.isOnlySpace()?0:w.default.dragHandleEffectiveWidth}},p.createElement(Z.default,{external:!0,href:W.desktop},p.createElement(Y.default,{onClick:this.handleDesktopAppClick},(g.default.isWindows?"Windows":"Mac")+" App")),p.createElement(F.default,null),p.createElement(Z.default,{external:!0,href:W.mobile},p.createElement(Y.default,{onClick:this.handleMobileAppClick},"Mobile App")),p.createElement(F.default,null),p.createElement(Z.default,{external:!0,href:W.webClipper},p.createElement(Y.default,{onClick:this.handleWebClipperClick},"Web Clipper")))})},t.prototype.close=function(){q.default.setState(a({},q.default.state,{open:!1}))},t.prototype.logout=function(){H.default.state.online&&(q.default.setState(a({},q.default.state,{open:!1})),A.trackSpaceSwitcherLogoutClick(),m.logout())},t.prototype.getSpaceViewStores=function(){var e=z.default.state,t=e.userRootStore,r=e.currentSpaceStore;if(!t||!r)return[];var n=t.getSpaceViewStores();return f.uniqBy(n,function(e){var t=e.getValue();return t&&t.space_id}).filter(function(e){return Boolean(e.getValue())})},t.prototype.isMobile=function(){return this.props.format===d.Mobile},t.prototype.isOnlySpace=function(){return 1===this.getSpaceViewStores().length},t.prototype.getLogoutStyle=function(){return{display:"flex",color:this.theme.mediumTextColor,whiteSpace:"nowrap",fontSize:this.isMobile()?16:12,paddingLeft:this.isMobile()||this.isOnlySpace()?0:w.default.dragHandleEffectiveWidth}},t.Format=d,t.buttonStyle={display:"flex",alignItems:"center",minWidth:0,height:"100%"},t.truncateStyle={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},t}(S.default);t.default=Q},"gfe+":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o,a=r("qRmb"),i=r("vJXr"),l=!0;t.handleMessageStoreConnectionStateChange=function(e){l=e,o&&clearTimeout(o),o=e?setTimeout(s,300):setTimeout(s,5e3)};var s=function(){i.default.setState(n({},i.default.state,{online:l}))};t.startListeners=function(){a.onConnectionStateChange(t.handleMessageStoreConnectionStateChange)}},ggCg:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{focused:!1}},t}(r("LEzx").default);t.default=a},gha2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},gicP:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var l=r("j9U3"),s=r("bkwR"),u=r("hvW1"),c=r("VBxf"),d=r("y6Dp");t.openHistoryModal=function(e){var t=e.from,r=i(e,["from"]);d.trackOpenVersionHistory(t),l.default.setState(n({},r,{open:!0,size:50}))},t.loadMoreSnapshots=function(){var e=l.default.state;e.open&&l.default.setState(n({},e,{size:e.size+20}))},t.closeHistoryModal=function(){l.default.setState({open:!1})},t.selectSnapshot=function(e){d.trackSelectSnapshot(e);var t=l.default.state;t.open&&l.default.setState(n({},t,{snapshot:e,openSnapshotNearTimestamp:void 0}))},t.clearSelectedSnapshot=function(){var e=l.default.state;e.open&&l.default.setState(n({},e,{snapshot:void 0}))},t.restoreSnapshot=function(){return o(this,void 0,void 0,function(){var e,r,n;return a(this,function(o){switch(o.label){case 0:return l.default.state.open&&l.default.state.snapshot?[4,c.confirmUserAction({message:"Are you sure you would like to restore to this version?",acceptLabel:"Restore"})]:[2];case 1:return o.sent()?(d.trackRestoreSnapshot(l.default.state.snapshot),e=l.default.state.blockStore.id,r=l.default.state.snapshot.timestamp,u.display({message:"Restoring..."}),[4,s.restoreSnapshot({blockId:e,timestamp:r}).next()]):[2];case 2:return(n=o.sent()).value.error&&c.showError({error:n.value.error}),u.close(),t.closeHistoryModal(),[2]}})})}},glAM:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.listeners={}}return e.prototype.addListener=function(e,t){var r=this.listeners[e];r||(r=new Set,this.listeners[e]=r),r.add(t)},e.prototype.addOnceListener=function(e,t){var r=this;this.addListener(e,function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];r.removeListener(e,n),t.apply(void 0,o(a))})},e.prototype.removeListener=function(e,t){var r=this.listeners[e];r&&(r.delete(t),0===r.size&&delete this.listeners[e])},e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=this.listeners[e];n&&n.forEach(function(e){return e.apply(void 0,o(t))})},e.prototype.listenerCount=function(e){var t=this.listeners[e];return t?t.size:0},e}();t.default=a},gn7I:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"trello_token",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,account:n.default.String,request_token:n.default.String,request_secret:n.default.String,access_token:n.default.String,access_secret:n.default.String}};t.default=o},guIK:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__await||function(e){return this instanceof a?(this.v=e,this):new a(e)},i=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},l("next"),l("throw"),l("return"),n[Symbol.asyncIterator]=function(){return this},n;function l(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{(r=o[e](t)).value instanceof a?Promise.resolve(r.value.v).then(u,c):d(i[0][2],r)}catch(e){d(i[0][3],e)}var r}function u(e){s("next",e)}function c(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("bkwR"),s=r("yUnD"),u=r("l+8X"),c=r("T1hA"),d=r("+DAh"),p=r("HRSx"),f=r("Fe7V"),h=r("+UXM");t.loadUserSharedPages=function(){return i(this,arguments,function(){var e,t;return o(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,a(y({}))];case 1:return e=r.sent(),f.setRecordMap({recordCacheStore:d.default,recordMap:e.recordMap}),[4,a(e)];case 2:return[4,r.sent()];case 3:return r.sent(),[3,5];case 4:return r.sent(),[3,5];case 5:return[4,a(l.getUserSharedPages({includeDeleted:!0}))];case 6:return"success"!==(t=r.sent()).type?[3,9]:(u.default&&h.default.set(m,t.data.pages),[4,a(t.data)]);case 7:return[4,r.sent()];case 8:return r.sent(),[3,10];case 9:throw t.error;case 10:return[2]}})})};var m="UserSharedPages";function y(e){return n(this,void 0,void 0,function(){var e,t;return o(this,function(r){switch(r.label){case 0:if(!c.default.state.userId)throw new Error("Must be logged in.");if(!u.default)throw new Error("No local database found.");if(!(e=h.default.get(m)||void 0))throw new Error("No local shared pages found.");return[4,s.generateLocalRecordMap(e.map(function(e){return{table:p.default.table,id:e.id}}),function(e,t,r){return[]})];case 1:return t=r.sent(),[2,{pages:e,recordMap:t}]}})})}},gyBu:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,i=r("LEzx");!function(e){e[e.Members=0]="Members",e[e.Groups=1]="Groups"}(a=t.SpacePermissionsSettingsTab||(t.SpacePermissionsSettingsTab={}));var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{currentTab:a.Members,limitMembers:!0,limitGuests:!0,membersFilter:"",guestsFilter:"",groupsFilter:"",groupNameInputValue:""}},t}(i.default);t.default=l},h5Kq:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("zttk"),u=r("zmp8"),c=r("r8oj"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderBanner=function(e,r,n){var o=e.id,a=e.type,l=e.render,s=n.length>1&&r!==n.length-1;return i.createElement("div",{key:o,style:t.getBannerStyle(a,s)},l())},t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{style:{width:"100%",userSelect:"none",WebkitUserSelect:"none"}},this.props.bannerStore.state.banners.map(this.renderBanner))},t.prototype.getBannerStyle=function(e,t){var r={};return r=e===s.BannerType.Red?{color:u.default.white,background:u.default.red}:e===s.BannerType.Blue?{color:u.default.white,background:u.default.blue}:e===s.BannerType.Beige?{background:this.theme.beigeBannerBackground,paddingLeft:c.default.isMobile?12:18,paddingRight:c.default.isMobile?14:16}:{color:this.theme.regularInvertedTextColor,background:this.theme.tooltipBackground},a({display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",padding:"0px 12px",fontSize:14,lineHeight:1.2,cursor:"default"},t?{height:45,borderBottom:"1px solid "+u.default.halfWhite}:{height:44},r)},t}(l.default);t.default=d},h7gD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("zmp8"),s=r("Sb6f"),u=r("xVnP"),c=r("NV/j"),d=r("qFEu"),p=r("aBKD"),f=r("5Nka"),h=r("4NII"),m=r("r8oj"),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return h.default()?this.renderMobile():this.renderDesktop()},t.prototype.renderMobile=function(){var e=this.props.analyticsName;return m.default.isAndroid?a.createElement(c.default,{title:"Get it On Google Play",format:c.default.Format.PlayStore,analyticsName:e}):a.createElement(c.default,{title:"Download from App Store",format:c.default.Format.AppStore,analyticsName:e})},t.prototype.renderDesktop=function(){return a.createElement("div",{style:t.desktopWrapStyle},this.renderWebSection(),a.createElement("div",{style:t.dividerStyle}),this.renderDesktopSection(),a.createElement("div",{style:t.dividerStyle}),this.renderMobileSection())},t.prototype.renderWebSection=function(){return a.createElement("div",{style:{width:256}},a.createElement("div",{style:t.itemTitleStyle},"Web App"),a.createElement("div",{style:{width:"100%",height:216}},a.createElement(p.default,{format:p.default.Format.Safari,aspectRatio:.71},a.createElement("img",{src:f.default.front.footerWebPng,style:{width:"100%",borderRadius:3}}))),a.createElement(u.default,{analyticsName:this.props.analyticsName}))},t.prototype.renderDesktopSection=function(){return a.createElement("div",{style:{width:256}},a.createElement("div",{style:t.itemTitleStyle},"Desktop App"),a.createElement("div",{style:{width:"100%",height:216}},a.createElement(p.default,{format:p.default.Format.Mac,aspectRatio:.71},a.createElement("img",{src:f.default.front.footerMacPng,style:{width:"100%",borderRadius:3}}))),a.createElement("div",{style:{display:"flex"}},a.createElement(c.default,{title:"Mac",format:c.default.Format.Mac,analyticsName:this.props.analyticsName}),a.createElement(c.default,{title:"Windows",format:c.default.Format.Windows,analyticsName:this.props.analyticsName,style:{marginLeft:16}})))},t.prototype.renderMobileSection=function(){return a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:100,flexShrink:0,paddingRight:30}},a.createElement("div",{style:t.itemTitleStyle},"Mobile App"),a.createElement("div",{style:{alignSelf:"center",width:90,height:216}},a.createElement(d.default,{format:d.default.Format.IPhone,style:{width:"100%"}},a.createElement("img",{src:f.default.front.footerMobilePng,style:{width:"100%",borderRadius:3}}))),a.createElement(c.default,{format:c.default.Format.Mobile,analyticsName:"product"}))},t.desktopWrapStyle={display:"flex",justifyContent:"center",fontSize:14,width:"100%"},t.itemTitleStyle={width:"100%",fontSize:24,fontWeight:s.default.fontWeight.bold,marginBottom:18},t.dividerStyle={width:1,background:l.default.FrontDividerColor,margin:50,alignSelf:"stretch"},t}(i.default);t.default=y},hN5C:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerComponent=function(e){var t=e.component,r=e.registry;r.state.componentSet.has(t)||(r.state.componentSet.add(t),r.emit())},t.unregisterComponent=function(e){var t=e.component,r=e.registry;r.state.componentSet.has(t)&&(r.state.componentSet.delete(t),r.emit())}},hU3F:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var r=e.call(this)||this;return r.initialState=t,r.instanceState=t,r}return o(t,e),t.prototype.getInitialState=function(){return this.initialState},t.prototype.get=function(){return this.state},t.prototype.set=function(e){this.setState(e)},t.of=function(e){return t.bind(null,e)},t}(r("LEzx").default);t.default=a},hbKx:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("6SEd"),s=r("FUUC"),u=r("wpmu"),c=r("bjn0"),d=r("G4cA"),p=r("HRSx"),f=r("ezkE"),h=r("VpIZ");t.getPathStores=function(e){var t=[];return f.getPath({table:e.table,id:e.id},function(r,n){var o;if(r===l.default.table?o=c.default.createChildStore(e,n):r===s.default.table?o=d.default.createChildStore(e,n):r===p.default.table&&(o=u.default.createChildStore(e,n)),o)return t.push(o),o.getValue()}),t},t.getPath=function(e){return i.compact(t.getPathStores(e).map(function(e){var t=e.getValue();if(t)return{table:e.table,value:t}}))},t.loadBlockPath=function(e){return n(this,void 0,void 0,function(){var t,r=this;return o(this,function(a){switch(a.label){case 0:return t=[],[4,f.loadPath({table:e.table,id:e.id},function(a,i){return n(r,void 0,void 0,function(){var r;return o(this,function(n){switch(n.label){case 0:return a===l.default.table?r=c.default.createChildStore(e,i):a===s.default.table?r=d.default.createChildStore(e,i):a===p.default.table&&(r=u.default.createChildStore(e,i)),r?(t.push(r),[4,r.load()]):[3,2];case 1:return n.sent(),[2,r.getValue()];case 2:return[2]}})})})];case 1:return a.sent(),[2,t]}})})},t.getParentStore=function(e){if(e instanceof u.default||e instanceof c.default){var t=e.getValue();if(t&&t.parent_table&&t.parent_id){if(t.parent_table===l.default.table)return c.default.createChildStore(e,t.parent_id);if(t.parent_table===s.default.table)return d.default.createChildStore(e,t.parent_id);if(t.parent_table===p.default.table)return u.default.createChildStore(e,t.parent_id)}}},t.getNavigablePath=function(e){return t.getPathStores(e).filter(function(e){if(e instanceof u.default){var t=e.getValue();return t&&h.isNavigableType(t)}return!1})},t.blockIsDeleted=function(e){var r=t.getPathStores(e).find(function(e){if(e instanceof u.default||e instanceof c.default){var t=e.getValue();if(t&&!t.alive)return!0}return!1});return Boolean(r)},t.getNavigableAncestor=function(e,r){return void 0===r&&(r=0),t.getNavigablePath(e)[r]},t.getNavigableRootAncestor=function(e){var r=t.getNavigablePath(e);return r[r.length-1]},t.getSpace=function(e){return t.getPathStores(e).find(function(e){return e.table===s.default.table})},t.pathIsAlive=function(e){var t,r;try{for(var n=a(e),o=n.next();!o.done;o=n.next()){var i=o.value;if(i instanceof u.default||i instanceof c.default){var l=i.getValue();if(!l||!l.alive)return!1}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return!0}},hfHo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("XWyp"),o=r("Tk7a")(n);if("undefined"!=typeof window){o.tz.setDefault(o.tz.guess());var a=window.navigator.userLanguage||window.navigator.language;a&&o.locale(a),window.moment=o}t.default=o},"hi+p":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("y6Dp"),o=r("fwa5"),a=r("AmMh"),i=r("Iece"),l=r("Ucj+");t.showAtPosition=function(e){var t=e.left,r=e.top,a=e.actions,l=e.showInput,s=e.stores,u=e.analyticsFrom,c={left:t,top:r,bottom:r+1,right:t+1,width:1,height:1};o.default.setState({isActive:!0,inputValue:"",actions:a,stores:s,frameScrollTop:i.default.state.scrollTop,originBlockRect:c,showInput:l,analyticsFrom:u}),n.trackOpenBlockMenu({from:u,block_type:s[0]&&s[0].getType()})},t.show=function(e){var t=e.analyticsFrom,r=e.actions,n=e.stores,s=a.default.findSelectableFromStore(n[0]);if(s){var u=l.default.state.selectableRectMap.get(s);u&&o.default.setState({isActive:!0,inputValue:"",actions:r,stores:n,frameScrollTop:i.default.state.scrollTop,originBlockRect:u,showInput:!0,analyticsFrom:t})}},t.close=function(){o.default.setState({isActive:!1})}},hkwT:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("17x9"),s=r("n8tN"),u=r("vgb/"),c=r("oFLp"),d=r("y6Dp"),p=r("/YYm"),f=r("iICV"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){d.trackClickNestedChildPage()},t}return o(t,e),t.prototype.handleCreated=function(){this.activate(),f.default.setKeyboardMode(!1)},t.prototype.activate=function(){if(this.context.overrideLinkClick){var e=this.props.store,t=p.default({store:e});this.context.overrideLinkClick(t)}else c.navigateToPage({blocks:[this.props.store],openInNewTab:!1})},t.prototype.renderPersisted=function(){var e=this.props.disabled;return i.createElement(u.default,{store:this.props.store,style:a({},this.getBlockColorStyle(),this.props.style),isAlias:this.props.store.isAlias(),disabled:e,onClick:this.handleClick})},t.contextTypes={overrideLinkClick:l.any},t}(s.default);t.default=h},hl64:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(!e&&!t)return 0;if(!t)return-1;if(!e)return 1;var r=e.compareDocumentPosition(t);return 4==(4&r)?-1:2==(2&r)?1:0}},hteD:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("hfHo");t.timeZones=n.default.tz.names().map(function(e){var t=n.default.tz(e);return{name:e,displayName:"GMT"+t.format("Z")+" - "+e.replace(/_/g," ")+" ("+t.format("z")+")",utcOffset:t.utcOffset()}}).sort(function(e,t){return e.utcOffset-t.utcOffset}),t.timeZoneDisplayNames=t.timeZones.map(function(e){return e.displayName})},hvW1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("5qOl");t.display=function(e){n.default.setState({open:!0,message:e.message})},t.close=function(){n.default.setState({open:!1})}},i05A:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("t+pW"),l=r("MeYt"),s=r("mF3+"),u=r("zmp8"),c=r("r8oj"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(l.default,{style:this.getButtonStyle(),onClick:this.props.onClick},s.default.triangle(this.getArrowStyle()))},t.prototype.getSize=function(){return this.props.isSidebar?c.default.isMobile?24:20:24},t.prototype.getButtonStyle=function(){var e=this.getSize();return{display:"flex",alignItems:"center",justifyContent:"center",width:e,height:e,borderRadius:3}},t.prototype.getArrowStyle=function(){return{width:"0.6875em",height:"0.6875em",transition:"transform 200ms ease-out",transform:"rotateZ("+(this.props.open?180:90)+"deg)",fill:this.props.isSidebar?this.theme.mediumIconColor:u.default.inherit}},t}(i.default);t.default=d},i3uR:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("DkKf"),u=r("g4rC"),c=r("DNfA"),d=r("wldR"),p=r("wXH4"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPopup=function(){return t.props.render({close:t.handleClose})},t.handleButtonClick=function(e){t.props.onClick&&t.props.onClick(e),s.mouseDidMoveAfterLastMouseDown()||t.stores.buttonPopupStore.setState(a({},t.stores.buttonPopupStore.state,{open:!0}))},t.handleClose=function(){t.props.onClose&&t.props.onClose(),t.stores.buttonPopupStore.reset()},t}return o(t,e),t.prototype.willUnmount=function(){this.stores.buttonPopupStore.setState({open:!1})},t.prototype.renderComponent=function(){return i.createElement(p.default,a({},this.props,{render:this.renderPopup,open:this.stores.buttonPopupStore.state.open,onDismiss:this.handleClose,origin:this.props.renderOrigin({onClick:this.props.disabled?l.identity:this.handleButtonClick}),originGap:this.props.originGap}))},t.Alignment=c.Alignment,t.Placement=c.Placement,t.PopupType=p.PopupType,t.stores={buttonPopupStore:u.default},t}(d.default);t.default=f},i72H:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("X4ZB"),s=r("r8oj"),u=r("t+pW"),c=r("Oy36"),d=r("wXH4"),p=r("fJHT"),f=r("N34Z"),h=r("MBf9"),m=r("gbGO"),y=r("6BvA"),g=r("unoy"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPopupContent=function(){return i.createElement(b,null)},t}return o(t,e),t.prototype.renderComponent=function(){var e=y.default.state,t=e.blockStore,r=e.originRect;return i.createElement(d.default,{popupType:s.default.isMobile?d.default.PopupType.SlideUp:d.default.PopupType.Popup,open:Boolean(t),originRect:r,placementToOrigin:d.default.Placement.Bottom,alignmentToOrigin:d.default.Alignment.Center,originGap:4,onDismiss:l.close,render:this.renderPopupContent})},t}(u.default),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRecordIconChange=function(e){var t=y.default.state.blockStore;if(t){var r=t.getIconStore();r&&h.createAndCommit(function(t){f.setValue({store:r,value:e,transaction:t})})}},t}return o(t,e),t.prototype.didMount=function(){var e=y.default.state.blockStore;if(e){var t=e.getTitleStore();t&&g.selectAllText({store:t,canSelectAllBlocks:!1})}},t.prototype.renderComponent=function(){var e=y.default.state.blockStore;if(e){var t,r=e.getTitleStore();if(r)return t=s.default.isMobile?{menuType:m.default.MenuType.ActionSheet}:{menuType:m.default.MenuType.Popup,width:380},i.createElement(m.default,a({},t),i.createElement("div",{style:this.getWrapStyle()},this.renderIcon(e),i.createElement(p.default,{store:r,disabled:!e.canEdit(),onEsc:l.close,onEnter:l.close,disableSlashCommands:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,placeholder:"Untitled",style:this.getInputStyle()})))}},t.prototype.renderIcon=function(e){var t={width:28,height:28,marginRight:6,flexShrink:0,flexGrow:0,boxShadow:"inset 0 0 0 1px "+this.theme.darkDividerColor};return e.canEdit()?i.createElement(c.default,{disabled:!1,bucket:"secure",icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:18,style:t,onChange:this.handleRecordIconChange}):i.createElement(c.default,{disabled:!0,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:18,style:t})},t.prototype.getWrapStyle=function(){return{display:"flex",alignItems:"center",color:this.theme.regularTextColor,fontSize:"13px",padding:"4px 8px"}},t.prototype.getInputStyle=function(){return{display:"flex",alignItems:"center",flexGrow:1,fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10,width:"100%",borderRadius:3,boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,cursor:"text",position:"relative"}},t}(u.default);t.default=v},i8Ki:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("gbGO"),u=r("2Y+N"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.desktopStyle={display:"flex",justifyContent:"space-between",marginLeft:14,marginRight:14},t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(u.default,a({},this.props),i.createElement("div",{style:this.context.isMobile?this.getMobileStyle():this.desktopStyle},this.props.children))},t.prototype.getMobileStyle=function(){return{display:"flex",justifyContent:"space-around",boxShadow:"0 1px 0 "+this.theme.regularDividerColor,background:this.theme.popoverBackground}},t.contextTypes=a({},s.menuContextTypes),t}(l.default);t.default=c},i8kP:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("0lPs"),s=r("nWgh"),u=r("Sb6f"),c=r("4siM"),d=r("RGVD"),p=r("zmp8"),f=r("IdSf"),h=r("WDpx"),m=r("A9TN"),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(h.default,{title:"Notion Admin Mode"},a.createElement("div",{style:t.wrapStyle},a.createElement("div",{style:t.style},a.createElement("div",{style:t.itemStyle},a.createElement("div",{style:t.headerStyle},"Notion Admin Mode"," ","production"!==m.default.env?"("+m.default.env+")":void 0),a.createElement("div",null,a.createElement(f.default,{href:"https://dev.notion.so/notion/Use-Admin-Mode-05f1e0ad9aa749a4b3dc07410b499465",external:!0,inline:!0,underline:!0},"Click here")," ","to learn more about how to use Admin Mode."),a.createElement("div",null,"Currently Logged in as:"," ",a.createElement(d.default,{format:d.default.Format.EmailOnly})),a.createElement(c.default,null)),a.createElement(l.default,{style:t.itemStyle,name:"adminSearchUsers",emoji:"🔎",description:"Fill out just one of the fields below. Returns information about a user.",schema:{userId:{type:l.AdminAPIRequestType.String},email:{type:l.AdminAPIRequestType.String}}}),a.createElement(l.default,{style:t.itemStyle,name:"adminSearchSpaces",emoji:"🔎",description:"Fill out just one of the fields below. Returns information about a workspace.",schema:{spaceId:{type:l.AdminAPIRequestType.String},domain:{type:l.AdminAPIRequestType.String},stripeCustomerId:{type:l.AdminAPIRequestType.String}}}),a.createElement(l.default,{style:t.itemStyle,name:"adminWhitelistCreditDomain",emoji:"⚐",description:"Add a domain name to whitelist for credits.",schema:{domain:{type:l.AdminAPIRequestType.String}}}),a.createElement(l.default,{style:t.itemStyle,name:"updateSubscription",emoji:"💵",schema:{spaceId:{type:l.AdminAPIRequestType.String},plan:{type:l.AdminAPIRequestType.Options,options:s.subscriptionPlans,comment:"Optional, only fill out if you want to change the plan."},billing:{type:l.AdminAPIRequestType.Options,options:s.billingTypes,comment:"Required if the user is not upgraded yet. Otherwise optional, only fill out if you want to change the billing type."},dontProrate:{type:l.AdminAPIRequestType.Boolean,comment:"If checked, changing the subscription will not affect the account balance."},billingEmail:{type:l.AdminAPIRequestType.String,comment:"This field is required if you are selecting Billing=send_invoice and the subscription has no email currently. Otherwise, it is optional."}},isDestructive:!0}),a.createElement(l.default,{style:t.itemStyle,name:"cancelSubscription",emoji:"😢",schema:{spaceId:{type:l.AdminAPIRequestType.String},cancelImmediately:{type:l.AdminAPIRequestType.Boolean,comment:"If unchecked, the user will still be subscribed until the end of the current billing period. If checked, the user will lose access to their subscription immediately"}},isDestructive:!0}),a.createElement(l.default,{style:t.itemStyle,name:"disableUserAnalytics",emoji:"👻",description:"Disable Intercom and Amplitude for a user. They will no longer be able to use Intercom, so they will have to reach out via email for support.",schema:{userId:{type:l.AdminAPIRequestType.String}},isDestructive:!0}),a.createElement(l.default,{style:t.itemStyle,name:"createReferral",emoji:"🗣",description:"Manually create a referral from one user to another.",schema:{fromEmail:{type:l.AdminAPIRequestType.String},toEmail:{type:l.AdminAPIRequestType.String}},isDestructive:!0}),a.createElement(l.default,{style:t.itemStyle,name:"recoverSpace",emoji:"👩‍👩‍👧‍👧",description:"Recover a deleted workspace. The workspace will be restored to the user who deleted it. The email of this user will be shown in a popup after you restore.",schema:{spaceId:{type:l.AdminAPIRequestType.String}},isDestructive:!0}),a.createElement(l.default,{style:t.itemStyle,name:"adminFindDeletedUser",emoji:"😵",description:"Find deleted accounts associated with an email address. You can recover any of the resulting accounts using the userId.",schema:{email:{type:l.AdminAPIRequestType.String}},isDestructive:!0}),a.createElement(l.default,{style:t.itemStyle,name:"recoverUser",emoji:"😵",description:"Recover a deleted account. Any workspaces that got deleted when they deleted their account will be restored, with them as the only admin. Shared workspaces will not be restored – users have to ask a current admin to add them back.",schema:{userId:{type:l.AdminAPIRequestType.String}},isDestructive:!0}),a.createElement(l.default,{style:t.itemStyle,name:"revokeUserTokens",emoji:"🖥",description:"Revoke all user tokens. This will sign users out of all active sessions, and they'll have to log in again.",schema:{userId:{type:l.AdminAPIRequestType.String}},isDestructive:!0}))))},t.wrapStyle={height:"100vh",overflow:"auto",background:p.getDefaultTheme().sidebarBackground,padding:8},t.style={display:"flex",flexWrap:"wrap"},t.headerStyle={fontWeight:u.default.fontWeight.bold,fontSize:36},t.itemStyle={width:500,padding:18,margin:8,border:"1px solid "+p.getDefaultTheme().outlineButtonBorder,background:"white"},t}(i.default);t.default=y},iDga:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("i8i4"),s=r("t+pW"),u=r("wpmu"),c=r("d9nj"),d=r("Oy36"),p=r("OxuQ"),f=r("mF3+"),h=r("G414"),m=r("G4cA"),y=r("HSWF"),g=r("VyA+"),v=r("LeVO"),b=r("TDb4"),w=r("QcDD"),S=r("Sb6f"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleButtonMount=function(e){t.buttonEl=e},t.handleOpenPopup=function(e){if(e.preventDefault(),t.buttonEl){var r=l.findDOMNode(t.buttonEl);r&&h.open({blocks:[t.props.store],originRect:r.getBoundingClientRect(),analyticsFrom:"quick_add",onAccept:t.handleMoveToAccept})}},t.handleMoveToAccept=function(e){var r=w.default.state.currentSpaceStore;r&&t.props.saveParent&&y.setQuickAddParent(r.id,e)},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=this.props.store.getParentStore();if(r){var n=r.getIcon();return i.createElement(g.default,{capture:!0,onMoveTo:this.handleOpenPopup},i.createElement("div",{style:t.wrapStyle},this.renderSeparator(),i.createElement(v.default,{renderTooltip:function(){return i.createElement("div",null,i.createElement("div",null,"Set the default page or database"),i.createElement(b.default,{style:{color:e.theme.mediumInvertedTextColor},name:"moveTo"}))},render:function(t){return i.createElement(c.default,a({onClick:e.handleOpenPopup,ref:e.handleButtonMount,shouldShrink:!0},t),i.createElement("span",{style:{color:e.theme.mediumTextColor,marginRight:6}},"Add to"),i.createElement(d.default,{disabled:!0,icon:n,isEmptyPage:r instanceof u.default&&r.isEmptyPage(),title:r instanceof m.default?r.getName():void 0,size:18,style:{marginRight:4,marginTop:1}}),i.createElement(p.default,{style:{fontWeight:S.default.fontWeight.semibold},store:r}),f.default.chevronDown({width:10,marginLeft:4,fill:e.theme.lightTextColor}))}})))}},t.prototype.renderSeparator=function(){return i.createElement("div",{style:{flex:"none",height:18,width:1,marginLeft:6,marginRight:6,background:this.theme.darkDividerColor}})},t.wrapStyle={display:"flex",alignItems:"center",fontSize:14,minWidth:0,marginRight:14},t}(s.default);t.default=_},iICV:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isEnabled:!0,isKeyboardMode:!1}},t.prototype.setEnabled=function(e){this.setState(a({},this.state,{isEnabled:e}))},t.prototype.setKeyboardMode=function(e){this.state.isEnabled&&this.setState({isEnabled:!0,isKeyboardMode:e})},t}(r("LEzx").default);t.default=new i},iLt1:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("t+pW"),l=r("MeYt"),s=r("zmp8"),u=r("Sb6f"),c=r("mF3+"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("div",{style:t.wrapStyle},a.createElement(l.default,{style:t.newButtonStyle,onClick:this.props.onAddItem,disabledFeedback:!0,hoveredStyle:{background:this.theme.blueButtonHoveredBackground},pressedStyle:{background:this.theme.blueButtonPressedBackground}},"New"),a.createElement(l.default,{disabledFeedback:!0,style:this.getTemplateButtonStyle(),hoveredStyle:{background:this.theme.blueButtonHoveredBackground},pressedStyle:{background:this.theme.blueButtonPressedBackground},onClick:this.props.onOpenAddItemMenu},c.default.chevronDown({width:10,fill:s.default.white})),this.renderButtonBorder())},t.prototype.renderButtonBorder=function(){return a.createElement("div",{style:{position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset, rgba(15, 15, 15, 0.1) 0px 1px 2px"}})},t.prototype.getTemplateButtonStyle=function(){return{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,background:s.default.blue,alignSelf:"stretch",boxShadow:"inset 1px 0 0 "+this.theme.darkDividerColor,borderTopRightRadius:3,borderBottomRightRadius:3}},t.wrapStyle={position:"relative",display:"inline-flex",flexShrink:0,height:24,marginLeft:10,borderRadius:3,overflow:"hidden"},t.newButtonStyle={display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderTopLeftRadius:3,borderBottomLeftRadius:3,color:s.default.white,lineHeight:1.2,background:s.default.blue,paddingLeft:8,paddingRight:8,fontSize:14,fontWeight:u.default.fontWeight.medium},t}(i.default);t.default=d},iMI9:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){var e=this.props.disabled;return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,iconSvg:l.default.twitter,disabled:e,mediaMenuCurrentTab:"embed",mediaMenuTabs:["embed"],mediaMenuEmbedCaption:"Works with links to Tweets",embedButtonText:"Embed Tweet",urlInputPlaceholder:"https://twitter.com/..."}),"Embed a Tweet")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},iNm0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl"),o=r("wF3w"),a=r("2bwL"),i=r("VBxf"),l=r("nFzZ"),s=r("cDZm"),u=r("fke4"),c=function(){function e(t){var r=this;this.transactionStore=new s.default("LocalTransactionStore3",!0),this.windowId=o.default(),this.heartbeat=function(){var e=r.getSessions(),t=r.getSession(e),n=r.claimSessions(e,t);r.saveSession(e,t),n&&r.localTransactionQueue.flush()},this.tasks=[],this.localTransactionQueue=t,this.heartbeat(),window.setInterval(this.heartbeat,e.INTERVAL)}return e.prototype.getSessions=function(){return u.default.get(e.KEY)||{}},e.prototype.getSession=function(e){var t=e[this.windowId]||{timestamp:Date.now(),taskIds:[]};return t.timestamp=Date.now(),t},e.prototype.claimSessions=function(t,r){var n=this,o=!1;return Object.keys(t).forEach(function(a){if(a!==n.windowId){var i=t[a];Date.now()-i.timestamp>2*e.INTERVAL&&(r.taskIds=r.taskIds.concat(i.taskIds),t[a],delete t[a],o=!0)}}),o},e.prototype.saveSession=function(t,r){t[this.windowId]=r,u.default.set(e.KEY,t)},e.prototype.saveTask=function(e){this.tasks.push(e);var t=this.getSessions(),r=this.getSession(t);this.claimSessions(t,r),r.taskIds.push(e.id),this.saveSession(t,r),a.default.setOrIncTotal(r.taskIds.length);try{this.transactionStore.set(e.id,e)}catch(e){throw i.showError({error:new Error("There was an issue persisting your edits. Please message us for help.")}),e}},e.prototype.removeTask=function(e){this.tasks=this.tasks.filter(function(t){return t.id!==e});var t=this.getSessions(),r=this.getSession(t);this.claimSessions(t,r),n.pull(r.taskIds,e),this.saveSession(t,r),a.default.updateRemaining(r.taskIds.length),this.transactionStore.remove(e)},e.prototype.refreshTasks=function(){var e=this,t=this.getSessions(),r=this.getSession(t);this.claimSessions(t,r);var o=r.taskIds,i=l.compact(o.map(function(t){var r=e.transactionStore.get(t);if(r)return r;n.pull(o,t)}));this.saveSession(t,r),i.sort(function(e,t){return e.timestamp-t.timestamp}),a.default.updateRemaining(i.length),this.tasks=i},e.KEY="NotionSessionHeartbeat3",e.INTERVAL=5e3,e}();t.default=c},iPhm:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("N34Z"),s=r("aZ00"),u=r("r8oj"),c=r("7M94"),d=r("cBa6"),p=r("bFnu"),f=r("n8tN"),h=r("rEZL"),m=r("SR/M"),y=r("6fCZ"),g=r("njgS"),v=r("+575"),b=r("MBf9"),w=r("awFW"),S=r("g4rC"),_=r("G4GV"),k=r("i3uR"),C=r("RBMm"),E=r("2Y+N"),P=r("VOS9"),x=r("gbGO"),T=r("dXb3"),O=r("iICV"),M=r("+UXM"),I=r("bxQm"),A=r("mF3+");t.languageValuesToKeys={ABAP:w.default.abap,Arduino:w.default.arduino,Bash:w.default.bash,BASIC:w.default.basic,C:w.default.c,Clojure:w.default.clojure,CoffeeScript:w.default.coffeescript,"C++":w.default.cpp,"C#":w.default.csharp,CSS:w.default.css,Dart:w.default.dart,Diff:w.default.diff,Docker:w.default.docker,Elixir:w.default.elixir,Elm:w.default.elm,Erlang:w.default.erlang,Flow:w.default.flow,Fortran:w.default.fortran,"F#":w.default.fsharp,Gherkin:w.default.gherkin,GLSL:w.default.glsl,Go:w.default.go,GraphQL:w.default.graphql,Groovy:w.default.groovy,Haskell:w.default.haskell,HTML:w.default.html,Java:w.default.java,JavaScript:w.default.jsx,JSON:w.default.json,Kotlin:w.default.kotlin,LaTeX:w.default.latex,Less:w.default.less,Lisp:w.default.lisp,LiveScript:w.default.livescript,Lua:w.default.lua,Makefile:w.default.makefile,Markdown:w.default.markdown,Markup:w.default.markup,MATLAB:w.default.matlab,Nix:w.default.nix,"Objective-C":w.default.objectivec,OCaml:w.default.ocaml,Pascal:w.default.pascal,Perl:w.default.perl,PHP:w.default.php,PowerShell:w.default.powershell,Prolog:w.default.prolog,Python:w.default.python,R:w.default.r,Reason:w.default.reason,Ruby:w.default.ruby,Rust:w.default.rust,Sass:w.default.sass,Scala:w.default.scala,Scheme:w.default.scheme,Scss:w.default.scss,SQL:w.default.sql,Swift:w.default.swift,TypeScript:w.default.tsx,"VB.Net":w.default.vbnet,Verilog:w.default.verilog,VHDL:w.default.vhdl,"Visual Basic":w.default.visualBasic,WebAssembly:w.default.wasm,XML:w.default.xml,YAML:w.default.yaml,"Plain Text":"null","Java/C/C++/C#":w.default.clike,Shell:w.default.bash};var D=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPopup=function(e){var r,n=t.getCurrentLanguage(),o=g.languageOptions.map(function(e){return e.value}).filter(function(e){return"Java/C/C++/C#"!==e}),l=[{key:0,render:function(e){return i.createElement(E.default,a({},e))},actions:o.map(function(r){return{key:r,name:r,render:function(e){return i.createElement(m.default,a({title:r},e))},action:function(){t.setPersistedLanguage(r),e.close()},closeParentMenu:!0}})}],s=t.stores.inputStore.state.inputValue,c=i.createElement(P.default,{filter:s,context:null,sections:l,initialFocus:s?0:o.findIndex(function(e){return e===n})}),d=i.createElement(E.default,{isInput:!0},i.createElement(T.default,{value:s,onChange:t.handleInputChange,focus:!u.default.isMobile||void 0,placeholder:"Search for a language...",focusAfterAnimation:!0}));return r=u.default.isMobile?{menuType:x.default.MenuType.Modal,title:"Language",right:"Done",onClickRight:e.close,header:d}:{menuType:x.default.MenuType.Popup,width:240,maxHeight:"50vh",header:d},i.createElement(x.default,a({},r),c)},t.handleCopy=function(){var e=t.props.store,r=d.getTextWithoutTokens(e.getBlockTitleStore().getValue());s.copyString({stringValue:r})},t.handleInputChange=function(e){t.stores.inputStore.setState({inputValue:e.target.value,focus:!1})},t.handlePopupClose=function(){t.stores.inputStore.reset()},t}return o(r,e),r.prototype.renderPersisted=function(){var e=this,r=this.props,n=r.store,o=r.disabled,l=this.getCurrentLanguage(),s=t.languageValuesToKeys[l],d=n.getFormat().code_wrap;return i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:this.getStyle(),onMouseMove:function(){return e.stores.mouseStore.setState(a({},e.stores.mouseStore.state,{mouseEntered:!0}))},onMouseLeave:function(){e.stores.mouseStore.setState(a({},e.stores.mouseStore.state,{mouseEntered:!1}))}},i.createElement(h.default,{store:n.getBlockTitleStore(),language:s,disabled:o,codeWrap:Boolean(d),isQuickFind:Boolean(this.props.isQuickFind)}),i.createElement("div",{style:this.getHeaderStyle()},(u.default.isMobile||this.stores.mouseStore.state.mouseEntered&&!O.default.state.isKeyboardMode)&&this.canEdit()&&i.createElement("div",{className:c.fadeIn,style:{color:this.theme.mediumTextColor,display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,marginTop:4,marginRight:4}},!u.default.isMobile&&this.renderCopyToClipboardButton(),i.createElement(y.default,{store:this.props.store,fadeIn:!0}))),i.createElement("div",{style:this.getFooterStyle()},this.renderSelectLanguage())),this.renderDiscussion())},r.prototype.renderSelectLanguage=function(){var e=this,t=this.getCurrentLanguage();return i.createElement(k.default,{popupType:u.default.isMobile?k.default.PopupType.SlideUp:k.default.PopupType.Popup,renderOrigin:function(r){return i.createElement(I.default,a({disabled:!e.canEdit(),style:{marginRight:5}},r),t,A.default.chevronDown({width:10,marginLeft:4,fill:e.theme.lightIconColor}))},buttonPopupStore:this.stores.buttonPopupStore,placementToOrigin:C.PopupPlacement.Bottom,render:this.renderPopup,onClose:this.handlePopupClose})},r.prototype.renderCopyToClipboardButton=function(){return i.createElement(I.default,{onClick:this.handleCopy},"Copy to Clipboard")},r.prototype.getCurrentLanguage=function(){return this.getPersistedLanguage()||r.defaultLanguage},r.prototype.getPersistedLanguage=function(){var e=this.props.store.getProperties()||{};return v.toSelectValue(e.language,g.languageOptions)},r.prototype.setPersistedLanguage=function(e){var t=this;b.createAndCommit(function(r){l.updateValue({store:t.props.store.getPropertiesStore(),data:{language:v.fromMultiSelectValue([e])},transaction:r})}),M.default.set(r.localLanguagePreferenceKey,e)},r.prototype.getStyle=function(){return a({flexGrow:1,borderRadius:3,textAlign:"left",position:"relative",background:this.theme.codeBlockBackground,minWidth:0,width:"100%"},this.props.style)},r.prototype.getHeaderStyle=function(){return{position:"absolute",top:0,right:0,color:this.theme.mediumTextColor,display:"flex",alignItems:"center",justifyContent:"flex-end",height:r.headerFooterSize}},r.prototype.getFooterStyle=function(){return{position:"absolute",bottom:0,right:0,color:this.theme.mediumTextColor,display:"flex",alignItems:"center",justifyContent:"flex-end",height:r.headerFooterSize}},r.localLanguagePreferenceKey="CodeBlockDefaultLanguage",r.localCodeWrapPreferenceKey="CodeBlockDefaultCodeWrap",r.defaultLanguage="JavaScript",r.stores={mouseStore:p.default,buttonPopupStore:S.default,inputStore:_.default},r.headerFooterSize=30,r}(f.default);t.default=D},iQaW:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("r8oj"),u=r("DNfA"),c=r("i3uR"),d=r("t+pW"),p=r("Na01"),f=r("uSCg"),h=r("LeVO"),m=r("Sb6f"),y=r("mF3+"),g=r("1VxR"),v=r("lOyx"),b=r("C7oc"),w=r("gbGO"),S=r("vuDB"),_=r("6Zdk"),k=r("y6Dp"),C=r("VpIZ"),E=r("R14H"),P=r("R+Q+"),x=r("fCO4"),T=r("QcDD"),O=r("xb3e"),M=r("ohKz"),I=r("fke4"),A=r("toub"),D=r("vuDB"),L=r("Wae9"),R=r("zmp8"),B=r("lCCU"),j=r("MeYt"),V=r("5Nka"),F=r("qqdV"),N=r("2Y+N"),U=r("KTXS"),W=r("7KuZ"),z=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderSpaceUpdates=function(){var e;return e=s.default.isMobile?{menuType:w.default.MenuType.Modal,title:"All Updates",right:"Done",onClickRight:r.closeMenu,left:y.default.settings({fill:R.default.blue,width:18,height:18}),onClickLeft:r.handleOpenSettings,header:r.renderHeader(),whiteBackground:!0}:{menuType:w.default.MenuType.Popup,header:r.renderHeader(),maxHeight:"80vh",footer:r.renderHelpButton()},i.createElement(x.default,{onSwipeLeft:r.handleSwipeLeft,onSwipeRight:r.handleSwipeRight,render:function(t){return i.createElement(w.default,a({},e,t),r.renderContent())}})},r.closeMenu=function(){O.default.setState(a({},O.default.state,{open:!1})),r.setCurrentTabAsRead()},r.handleDismiss=function(){r.setCurrentTabAsRead()},r.handleClick=function(){r.handleTrackTab()},r.handleSwipeLeft=function(){var e=t.tabs.indexOf(D.default.state.currentTab)+1,n=t.tabs[e];void 0!==n&&r.changeTab(n)},r.handleSwipeRight=function(){var e=t.tabs.indexOf(D.default.state.currentTab)-1,n=t.tabs[e];void 0!==n&&r.changeTab(n)},r.handleTabClick=function(e){var n=t.tabs[e];D.default.state.currentTab!==n&&r.changeTab(n)},r.handleOpenSettings=function(){k.trackOpenNotificationSettingsFromAllUpdates(),s.default.isMobile?M.default.setState({open:!0}):(O.default.setState(a({},O.default.state,{open:!1})),A.default.setState(a({},A.default.state,{currentTab:"notifications"})),A.default.setState(a({},A.default.state,{open:!0})))},r.setCurrentTabAsRead=function(){_.setCurrentSidebarUpdatesTabAsRead()},r}return o(t,e),t.prototype.willMount=function(){var e=I.default.get(t.lastUpdatesTabKey);e&&this.setTabState(e)},t.prototype.renderComponent=function(){var e=this,r=L.default.getUnreadCountForCurrentSpace(),n=r.mentions>0||r.nonMentions>0;return i.createElement(h.default,{renderTooltip:function(){return"Updates for all pages in this space"},originGap:6,placement:u.Placement.Right,render:function(r){return i.createElement(c.default,{popupType:s.default.isMobile?c.default.PopupType.SlideUp:c.default.PopupType.Popup,alignmentToOrigin:u.Alignment.Start,placementToOrigin:u.Placement.Right,onClick:e.handleClick,originGap:0,style:a({},!s.default.isMobile&&{width:500,overflow:"hidden"}),render:e.renderSpaceUpdates,onClose:e.handleDismiss,isFullWidthOnMobile:!0,preventScaleTransition:!0,buttonPopupStore:O.default,renderOrigin:function(o){return i.createElement(j.default,a({style:s.default.isMobile?t.actionButtonStyle:a({},n&&{fontWeight:m.default.fontWeight.medium,color:e.theme.regularTextColor}),mobileFeedback:s.default.isMobile},f.default(r,o)),e.renderButtonContents())}})}})},t.prototype.renderButtonContents=function(){var e=L.default.getUnreadCountForCurrentSpace(),r=e.mentions>0||e.nonMentions>0,n=O.default.state.open;return s.default.isMobile?i.createElement(l.Fragment,null,y.default.updatesMobile({width:18,height:18}),e.mentions>0&&i.createElement(b.default,{color:b.default.Color.Red,count:e.mentions,style:{position:"absolute",top:8,right:0}})):i.createElement(p.default,{isMobile:!1,left:i.createElement("div",{style:{color:r?this.theme.regularTextColor:"inherit"}},y.default.typesCreatedAt({fill:r?this.theme.regularIconColor:this.theme.mediumIconColor,width:14})),right:e.mentions>0&&i.createElement(b.default,{color:b.default.Color.Red,count:e.mentions,style:a({},t.mentionsBadgeStyle,{marginBottom:2})}),style:{background:n?this.theme.buttonHoveredBackground:"none"}},"All Updates")},t.prototype.renderHeader=function(){var e,r=D.default.state.currentTab,n=t.tabs.indexOf(r),o=L.default.getUnreadCountForCurrentSpace(),u=o.mentions,c=o.nonMentions,d=[s.default.isMobile?"All":"All Updates",i.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontWeight:c>0?m.default.fontWeight.medium:void 0}},i.createElement("div",null,"Followed"),c>0&&i.createElement(b.default,{color:b.default.Color.Gray,count:c,style:{marginLeft:6}})),i.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontWeight:u>0?m.default.fontWeight.medium:void 0}},i.createElement("div",null,"Mentions"),u>0&&i.createElement(b.default,{color:b.default.Color.Red,count:u,style:{marginLeft:6}}))];s.default.isMobile&&d.push(i.createElement("div",null,"This Page"));var p=D.default.state.currentTab;if(p===S.SpaceUpdatesTab.ThisPage){var f=T.default.state.currentBlockStore;f&&(e=i.createElement(E.default,{store:f}))}var h=this.theme.shadowColor;return i.createElement(l.Fragment,null,i.createElement(P.default,{tabs:d,selectedIndex:n,onChange:this.handleTabClick,style:a({},p!==S.SpaceUpdatesTab.ThisPage&&s.default.isAndroid&&{boxShadow:"0px 3px 6px "+h.alpha(.2).css()}),right:s.default.isMobile?this.renderMobileHelpButton():this.renderNotificationSettingsButton()}),e)},t.prototype.renderMobileHelpButton=function(){var e=D.default.state.currentTab===S.SpaceUpdatesTab.Mentions;return i.createElement(W.default,{isRight:!0,href:e?F.guides.notifications:F.guides.allUpdates,analyticsFrom:e?"mentions":"all_updates"})},t.prototype.renderNotificationSettingsButton=function(){var e=this;return i.createElement(h.default,{renderTooltip:function(){return"Open notifications settings"},render:function(t){return i.createElement(B.default,a({icon:y.default.sidebarSettings,onClick:e.handleOpenSettings},t))}})},t.prototype.renderContent=function(){var e=D.default.state.currentTab;if(e===S.SpaceUpdatesTab.FollowedPages)return i.createElement(g.default,{key:1,mentions:!1,empty:this.renderEmptyState(i.createElement("div",null,'To follow a page, open the "Updates" menu',i.createElement("br",null),"on the top-right of each page."),V.default.images.gifs.followPageGif),analyticsContext:"click_followed_pages"});if(e===S.SpaceUpdatesTab.AllPages)return(r=T.default.state.currentSpaceStore)?i.createElement(v.default,{key:"all-pages",spaceId:r.id,empty:this.renderEmptyState("Updates on pages in your workspace will appear here."),source:"all_updates",analyticsContext:"click_all_updates",isTopbarUpdatesMenu:!1}):null;if(e===S.SpaceUpdatesTab.Mentions)return i.createElement(g.default,{key:2,mentions:!0,empty:this.renderEmptyState("When someone @mentions you, it will appear here.",V.default.images.gifs.mentionsGif),analyticsContext:"click_comments_and_mentions"});if(e===S.SpaceUpdatesTab.ThisPage){var t=T.default.state,r=t.currentSpaceStore,n=t.currentBlockStore;if(!r||!n)return null;var o=n.getValue(),a=o&&C.isCollectionView(o)?o.collection_id:void 0;return i.createElement(v.default,{key:"current-page",navigableBlockId:n.id,collectionId:a,spaceId:r.id,empty:this.renderEmptyState("Nothing has happened yet."),analyticsContext:"click_all_updates",isTopbarUpdatesMenu:!0,source:"notifications"})}},t.prototype.renderHelpButton=function(){return D.default.state.currentTab===S.SpaceUpdatesTab.Mentions?i.createElement(N.default,{topBorder:!0,disableDesktopPadding:!0},i.createElement(U.default,{title:"Learn about notifications",href:F.guides.notifications,analyticsFrom:"mentions"})):i.createElement(N.default,{topBorder:!0,disableDesktopPadding:!0},i.createElement(U.default,{title:"Learn about page updates",href:F.guides.allUpdates,analyticsFrom:"all_updates"}))},t.prototype.renderEmptyState=function(e,t){return i.createElement("div",{style:{marginTop:64,textAlign:"center",paddingLeft:18,paddingRight:18}},i.createElement("img",{src:V.default.images.updatesEmptyStatePng,width:32}),i.createElement("div",{style:{fontSize:14,color:this.theme.mediumTextColor,marginTop:4}},e),t&&!s.default.isMobile&&i.createElement("div",{style:{marginTop:18,position:"relative",display:"inline-block",lineHeight:0,overflow:"hidden"}},i.createElement("img",{src:t,width:300}),i.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,border:"1px solid "+this.theme.regularDividerColor}})))},t.prototype.setTabState=function(e){I.default.get(t.lastUpdatesTabKey)!==e&&I.default.set(t.lastUpdatesTabKey,e),D.default.state.currentTab!==e&&D.default.setState(a({},D.default.state,{currentTab:e}))},t.prototype.handleTrackTab=function(){var e;switch(D.default.state.currentTab){case S.SpaceUpdatesTab.Mentions:e="mentions_comments";break;case S.SpaceUpdatesTab.FollowedPages:e="followed_pages";break;default:e="all_updates"}k.trackOpenAllUpdates({tab:e})},t.prototype.changeTab=function(e){this.setCurrentTabAsRead(),this.setTabState(e),this.handleTrackTab()},t.tabs=[S.SpaceUpdatesTab.AllPages,S.SpaceUpdatesTab.FollowedPages,S.SpaceUpdatesTab.Mentions,S.SpaceUpdatesTab.ThisPage],t.lastUpdatesTabKey="LastUpdatesTab",t.mentionsBadgeStyle=a({},b.default.style,{width:16,height:16,fontSize:10,lineHeight:"15px",position:"static",marginLeft:6}),t.actionButtonStyle={display:"flex",alignItems:"center",justifyContent:"center",flexGrow:0,flexShrink:0,height:"100%",minWidth:34,position:"relative"},t}(d.default);t.default=z},iVjn:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var l=r("wldR"),s=r("LvDl"),u=r("PQqx"),c=r("r8oj"),d=r("EZe4"),p=r("SjXP"),f=r("lBar"),h=r("jWHj"),m=r("DkKf"),y=r("DNgp"),g=r("0zNc"),v=r("84+D"),b=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.handleMouseDown=function(e){c.default.isMobile?d.default({event:e,context:d.EventContext.EditorMouseDown,callback:s.identity}):1!==e.button&&d.default({event:e,context:d.EventContext.EditorMouseDown,callback:function(){return r.setDragging(e)}})},r.handleTouchStart=function(e){r.isTextEditing()||d.default({event:e,context:d.EventContext.EditorMouseDown,callback:function(){return r.setDragging(e)}})},r.handleMove=function(e){r.stores.store.state.waiting&&r.didScroll(e)?r.cancelDelayedDrag():r.stores.store.state.dragging&&(r.stores.store.setState(a({},r.stores.store.state,{currentPoint:r.getPoint(e)})),r.props.onDraggableDragMove&&r.props.onDraggableDragMove(r.createDragEventFromEvent(e,r.stores.store.state,w(e))))},r.handleWindowMouseMove=function(e){c.default.isMobile||r.handleMove(e)},r.handleWindowTouchMove=function(e){r.handleMove(e)},r.handleWindowMouseMoveThrottled=s.throttle(r.handleWindowMouseMove,t.moveThrottleRate,{trailing:!0}),r.handleWindowTouchMoveThrottled=s.throttle(r.handleWindowTouchMove,t.moveThrottleRate,{trailing:!0}),r.handleTouchForceChange=function(e){if(r.props.forceTouch){var t=e.touches[0];t&&t.force>=.6&&r.stores.store.state.waiting&&(e.preventDefault(),clearTimeout(r.dragDelayTimer),r.beginDrag({target:e.target,preventDefault:function(){return e.preventDefault()},device:w(e)}))}},r.handleWindowMouseUp=function(e){c.default.isMobile||(r.stores.store.state.dragging?(r.props.onDraggableDragEnd&&r.props.onDraggableDragEnd(r.createDragEventFromEvent(e,r.stores.store.state,w(e))),r.clearDragging()):r.stores.store.state.waiting&&r.cancelDelayedDrag())},r.handleWindowTouchCancel=function(e){r.handleWindowTouchEnd(e)},r.handleWindowTouchEnd=function(e){r.stores.store.state.dragging?(r.props.onDraggableDragEnd&&r.props.onDraggableDragEnd(r.createDragEndEvent({point:r.stores.store.state.currentPoint,target:e.target,preventDefault:function(){return e.preventDefault()},draggableState:r.stores.store.state})),r.clearDragging()):r.stores.store.state.waiting&&r.cancelDelayedDrag()},r.handleContextMenu=function(e){if(c.default.isAndroid&&!y.default.state.editing)return e.preventDefault(),e.stopPropagation(),!1;r.stores.store.state.dragging&&(r.props.onDraggableDragCancel&&r.props.onDraggableDragCancel(r.createDragEventFromEvent(e,r.stores.store.state,w(e))),r.clearDragging())},r.handleEsc=function(e){e.preventDefault(),r.stores.store.state.dragging&&(r.props.onDraggableDragCancel&&r.props.onDraggableDragCancel(r.createDragEndEventFromEvent(e,r.stores.store.state)),r.clearDragging())},r.beginDrag=function(e){if(!v.default.state.swiping){var t=r.props,n=t.disableHorizontalEdgeScroll,o=t.disableVerticalEdgeScroll;if(g.default.setState({isDragging:!0,disableHorizontalEdgeScroll:n||!1,disableVerticalEdgeScroll:o||!1}),r.stores.store.state.waiting){var a=r.stores.store.state.waitingPoint,i={dragging:!0,waiting:!1,startingPoint:a,currentPoint:a,scrollerPositions:r.getScrollerPositions(e)};r.stores.store.setState(i);var l=r.createDragEvent({point:a,target:e.target,preventDefault:e.preventDefault,draggableState:i,device:e.device});r.props.onDraggableDragStart&&r.props.onDraggableDragStart(l)}else if(r.stores.store.state.dragging){l=r.createDragEvent({point:r.stores.store.state.currentPoint,target:e.target,preventDefault:e.preventDefault,draggableState:r.stores.store.state,device:e.device});r.props.onDraggableDragStart&&r.props.onDraggableDragStart(l)}}},r}return o(t,e),t.prototype.renderComponent=function(){return this.props.render({onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,onContextMenu:this.handleContextMenu})},t.prototype.setDragging=function(e){var t=this;window.addEventListener("mouseup",this.handleWindowMouseUp),window.addEventListener("mousemove",this.handleWindowMouseMoveThrottled),window.addEventListener("touchmove",this.handleWindowTouchMoveThrottled),window.addEventListener("touchend",this.handleWindowTouchEnd),window.addEventListener("touchcancel",this.handleWindowTouchCancel),window.addEventListener("touchforcechange",this.handleTouchForceChange),u.addListener({listener:this,shortcuts:{esc:this.handleEsc}}),document.addEventListener("pause",this.handleEsc,!1);var r=e.target;this.props.forceTouch||this.props.dragDelay?(this.stores.store.setState({dragging:!1,waiting:!0,scrollerPositions:this.getScrollerPositions(e),waitingPoint:this.getPoint(e)}),this.props.dragDelay&&(this.dragDelayTimer=setTimeout(function(){return t.beginDrag({target:r,preventDefault:s.identity,device:w(e)})},this.props.dragDelay))):(this.stores.store.setState({dragging:!0,waiting:!1,scrollerPositions:this.getScrollerPositions(e),startingPoint:this.getPoint(e),currentPoint:this.getPoint(e)}),this.beginDrag({target:r,preventDefault:function(){return e.preventDefault()},device:w(e)}))},t.prototype.clearDragging=function(){clearTimeout(this.dragDelayTimer),this.stores.store.reset(),g.default.reset(),window.removeEventListener("mouseup",this.handleWindowMouseUp),window.removeEventListener("mousemove",this.handleWindowMouseMoveThrottled),window.removeEventListener("touchmove",this.handleWindowTouchMoveThrottled),window.removeEventListener("touchend",this.handleWindowTouchEnd),window.removeEventListener("touchcancel",this.handleWindowTouchCancel),window.removeEventListener("touchforcechange",this.handleTouchForceChange),u.removeListener(this),document.removeEventListener("pause",this.handleEsc,!1)},t.prototype.cancelDelayedDrag=function(){clearTimeout(this.dragDelayTimer),this.stores.store.setState({dragging:!1,waiting:!1}),window.removeEventListener("mouseup",this.handleWindowMouseUp),window.removeEventListener("mousemove",this.handleWindowMouseMoveThrottled),window.removeEventListener("touchmove",this.handleWindowTouchMoveThrottled),window.removeEventListener("touchend",this.handleWindowTouchEnd),window.removeEventListener("touchcancel",this.handleWindowTouchCancel),window.removeEventListener("touchforcechange",this.handleTouchForceChange),u.removeListener(this),document.removeEventListener("pause",this.handleEsc,!1)},t.prototype.createDragEndEventFromEvent=function(e,t){var r=this.getPoint(e);return this.createDragEndEvent({point:r,target:e.target,preventDefault:function(){return e.preventDefault()},draggableState:t})},t.prototype.createDragEndEvent=function(e){var t=e.point,r=e.draggableState,n=h.getKeyboardState();return{startX:r.startingPoint.x,startY:r.startingPoint.y,currentX:t.x,currentY:t.y,diffX:t.x-r.startingPoint.x,diffY:t.y-r.startingPoint.y,shiftKey:n.shift,optionKey:n.option,commandKey:n.command||n.control,target:e.target,preventDefault:e.preventDefault}},t.prototype.createDragEventFromEvent=function(e,t,r){var n=this.getPoint(e);return this.createDragEvent({point:n,target:e.target,preventDefault:function(){return e.preventDefault()},draggableState:t,device:r})},t.prototype.createDragEvent=function(e){var t=e.device,r=i(e,["device"]);return a({},this.createDragEndEvent(r),{device:t})},t.prototype.getPoint=function(e){return e.touches?this.getTouchPoint(e):this.getMousePoint(e)},t.prototype.getMousePoint=function(e){return{x:e.clientX,y:e.clientY}},t.prototype.getTouchPoint=function(e){var t=e.touches[0];return{x:t.clientX,y:t.clientY}},t.prototype.isTextEditing=function(){return y.default.state.editing},t.prototype.getScrollerPositions=function(e){return this.target!==e.target&&(this.target=e.target,this.scrollers=f.getScrollableAncestors(e.target)),this.scrollers?this.scrollers.map(function(e){return{x:e.scrollTop,y:e.scrollLeft}}):[]},t.prototype.didScroll=function(e){return(this.stores.store.state.dragging||this.stores.store.state.waiting)&&!s.isEqual(this.stores.store.state.scrollerPositions,this.getScrollerPositions(e))},t.stores={store:p.default},t.moveThrottleRate=15,t}(l.default);function w(e){if(function(e){return Boolean(e.touches)}(e)){var t=e.touches[0];return t?m.getTouchDeviceType(t):"finger"}return"mouse"}t.default=b},iZLY:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r("q1tI"),s=r("i8i4"),u=r("q1tI"),c=r("RvCr"),d=r("wpmu"),p=r("6D/F"),f=r("wldR"),h=r("AOw3"),m=r("XDBA"),y=r("MBf9");!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(i=t.CollectionGroupDirection||(t.CollectionGroupDirection={}));var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderResult=function(e){var r=t.props,n=r.parentStore,o=r.collectionViewLocalStore,a=r.resultProps,i=r.resultComponent,s=r.group,u=r.shouldShowHoverMenu,c=r.canDrag,d=r.disabled,f=r.format,h=r.itemSelectableStyle,m=r.belowDropZoneMargin,y=r.analyticsName,g=r.direction,v=r.onSelectableEnter;return l.createElement(p.default,{parentStore:n,key:e.id,selectableStyle:h,store:e,canDrag:c,resultProps:a,resultComponent:i,results:t.resultStores,collectionViewLocalStore:o,group:s,shouldShowHoverMenu:u,canDrop:!d,format:f,belowDropZoneMargin:m,analyticsName:y,disabled:d,direction:g,dropzoneGap:t.props.dropzoneGap,onSelectableEnter:v})},t.handleEmptyDroppableDrop=function(e){var r=e.droppedDirection,n=e.droppedStores,o=e.duplicate,a=t.props,i=a.collectionViewLocalStore,l=a.group,s=a.parentStore,u=i.state.collectionViewBlockStore;u&&y.createAndCommit(function(e){c.handleGroupDrop({parentStore:s,targetStore:u,droppedDirection:r,collectionViewLocalStore:i,group:l,droppedStores:n,results:t.resultStores.state,duplicate:o,transaction:e})})},t.handleEmptyDroppableNativeDrop=function(e){var r=e.files,n=e.droppedDirection,o=t.props,a=o.collectionViewLocalStore,i=o.group,l=o.parentStore,s=a.state.collectionViewBlockStore;s&&y.createAndCommit(function(e){c.handleGroupNativeDrop({parentStore:l,targetStore:s,droppedDirection:n,collectionViewLocalStore:a,group:i,files:r,results:t.resultStores.state,transaction:e})})},t.resultStores=t.createComputedStore(function(){var e=t.props,r=e.parentStore,n=e.group,o=e.collectionViewLocalStore;return e.results||m.getGroupResultStores(n,o,r)}),t}return o(t,e),t.prototype.getNode=function(){return s.findDOMNode(this)},t.prototype.willMount=function(t){e.prototype.willMount.call(this,t);var r=t.collectionViewLocalStore.state.collectionViewBlockStore;r&&(this.instanceCollectionViewBlockStore=new d.default(r.id))},t.prototype.didMountOrUpdate=function(){var e=this.props.collectionViewLocalStore.state.emitRender;e&&e()},t.prototype.renderComponent=function(){var e=this.props,t=e.emptyDroppableStyle,r=e.direction,n=this.props.emptyDroppableSize||"none",o=r===i.Vertical;return l.createElement(u.Fragment,null,l.createElement("div",{style:a({},o?{height:n}:{width:n},t)},this.renderEmptyDroppable()),this.resultStores.state.map(this.renderResult))},t.prototype.renderEmptyDroppable=function(){var e=this.props,t=e.disabled,r=e.analyticsName,n=e.direction,o=e.onSelectableEnter;if(this.instanceCollectionViewBlockStore){var a=n!==i.Vertical&&(!t&&0===this.resultStores.state.length),s=n===i.Vertical&&!t;return l.createElement(h.default,{store:this.instanceCollectionViewBlockStore,canSelect:!1,canEditText:!1,shouldShowHalo:!0,canDrag:!1,canDropLeft:a,canNativeDropLeft:a,canDropBelow:s,canNativeDropBelow:s,canTriggerContextMenu:!1,showBlockMenuInput:!1,shouldShowHoverMenu:!1,dropzoneShouldNeverUseOrigin:!0,dropzoneMustBeWithinHorizontalBound:!0,onSelectableDrop:this.handleEmptyDroppableDrop,onNativeDrop:this.handleEmptyDroppableNativeDrop,analyticsName:r,shouldShowDropZone:!0,onEnter:o,style:n===i.Vertical?void 0:{width:"100%",height:"100%"}})}},t}(f.default);t.default=g},ibYI:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("rQb/"),s=r("IwFn"),u=r("lEhh"),c=r("r8oj"),d=r("QcDD"),p=r("wS9/"),f=r("qKs6"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleStartOfWeekToggle=function(){1===t.getSwitchValue()?f.setStartWeekToSunday():f.setStartWeekToMonday()},t}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("div",{style:this.getSettingsOptionStyle()},a.createElement(l.default,{large:!0,baseline:"full",block:!0},"Calendar Settings"),a.createElement("div",{onClick:this.handleStartOfWeekToggle,style:{display:"flex",alignItems:"flex-start",marginBottom:12,cursor:"pointer",width:"100%"}},a.createElement("div",{style:{flex:1}},a.createElement(l.default,null,"Start week on Monday"),a.createElement(s.default,{style:{width:"80%"}},"This will change how all calendars in your app look.")),a.createElement("div",{style:{marginTop:5}},a.createElement(u.default,{on:1===this.getSwitchValue(),isAndroid:c.default.isAndroid}))))},t.prototype.getSwitchValue=function(){var e=d.default.state.userSettingsStore;if(e){var t=e.getSettings();if(t)return t.start_day_of_week}},t.prototype.getSettingsOptionStyle=function(){return{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",height:"auto",paddingLeft:c.default.isMobile?p.default.paddingLeft:0,paddingRight:c.default.isMobile?p.default.paddingRight:0}},t}(i.default);t.default=h},ieCD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},ijcw:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("t+pW"),c=r("bjn0"),d=r("JQ0b"),p=r("njgS"),f=r("tzV5"),h=r("VBxf"),m=r("r8oj"),y=r("mF3+"),g=r("x4bP"),v=r("DkKf"),b=r("NOLh"),w=r("MBf9"),S=r("y6Dp"),_=r("wweX"),k=r("0lqH"),C=r("ox2z"),E=r("LeVO"),P=r("zEGb"),x=r("XDBA"),T=r("uSCg"),O=r("Oy36"),M=r("OxuQ"),I=r("Sb6f"),A=r("iICV"),D=r("MeYt"),L=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderPropertyButton=function(e){var n=r.props,o=n.disabled,i=n.locked,l=n.parentCollectionLocked;return s.createElement(D.default,a({style:t.propertyButtonStyle,disabled:o||i||l},e),r.renderProperty())},r.renderLockedPropertyButton=function(e){return s.createElement(E.default,{renderTooltip:r.renderParentCollectionLockedTooltip,disableTooltip:r.props.locked,delayThreshold:300,render:function(t){return r.renderPropertyButton(T.default(e,t))}})},r.renderParentCollectionLockedTooltip=function(){var e=r.props.collectionStore,t=e.getIcon();return s.createElement("div",{style:{display:"flex",alignItems:"start"}},s.createElement("div",{style:{paddingTop:4,paddingRight:6}},y.default.locked({width:8})),s.createElement("div",null,s.createElement("div",null,"Page properties are locked"),s.createElement("div",{style:{color:r.theme.mediumInvertedTextColor}},"Please go to"," ",s.createElement("span",{style:{whiteSpace:"nowrap",fontWeight:I.default.fontWeight.bold}},t&&s.createElement(O.default,{disabled:!0,icon:t,isEmptyPage:!1,size:12,style:{marginRight:4,display:"inline-block"}}),s.createElement(M.default,{store:e,style:{display:"inline"}}))," ","to unlock")))},r.handleDuplicate=function(){var e=r.props,t=e.property,n=e.collectionStore,o=e.format,i=e.schema,l=o.collection_page_properties||[],s=x.getDuplicatePropertyUpdate({schema:i,properties:l,property:t});s&&w.createAndCommit(function(e){var t=a({},o,{collection_page_properties:s.newProperties});f.updateCollection({collectionStore:n,update:{schema:s.newSchema,format:t},transaction:e})})},r.handleDelete=function(){h.showDialog({message:"Are you sure you want to delete this property?",showCancel:!0,keepFocus:!1,items:[{label:"Delete",color:"red",onAccept:function(){return i(r,void 0,void 0,function(){var e,t,r,n,o,a,i,s;return l(this,function(l){switch(l.label){case 0:return e=this.props,t=e.property,r=e.collectionStore,n=e.schema,(o=r.getValue())?(a=w.create(),[4,x.getDeletePropertyUpdate({collectionId:o.id,schema:n,property:t})]):[2];case 1:return(i=l.sent())?(f.updateCollection({collectionStore:r,update:{schema:i.newSchema},transaction:a}),i.otherCollectionId&&i.otherCollectionSchema&&f.updateCollection({collectionStore:c.default.createChildStore(this.props.store,i.otherCollectionId),update:{schema:i.otherCollectionSchema},transaction:a}),w.commit({transaction:a}),(s=n[t])&&S.trackDeleteProperty({property_type:s.type,from:"page_properties"}),[2]):[2]}})})}}]})},r.handleConfigure=function(){_.open({blockPropertyValueOverlayStore:r.props.blockPropertyValueOverlayStore,store:r.props.store,property:r.props.property,format:k.BlockPropertyValueFormat.Page})},r.handleEditPropertyOpen=function(){r.props.pagePropertiesStore.setState(a({},r.props.pagePropertiesStore.state,{openProperty:r.props.property}))},r.handleEditPropertyClose=function(){r.props.pagePropertiesStore.setState(a({},r.props.pagePropertiesStore.state,{openProperty:void 0}))},r.handleMouseMove=function(){r.props.pagePropertiesStore.setState(a({},r.props.pagePropertiesStore.state,{hoveredProperty:r.props.property}))},r.handleMouseLeave=function(){r.props.pagePropertiesStore.setState(a({},r.props.pagePropertiesStore.state,{hoveredProperty:void 0}))},r.handleEditPropertyButtonPopupChange=function(e){var t=r.props.collectionStore;w.createAndCommit(function(n){f.updateCollection({collectionStore:t,update:{schema:e.newSchema},transaction:n}),e.otherCollectionId&&e.otherCollectionSchema&&f.updateCollection({collectionStore:c.default.createChildStore(r.props.store,e.otherCollectionId),update:{schema:e.otherCollectionSchema},transaction:n})})},r.handleDragHandleClick=function(e){v.mouseDidMoveAfterLastMouseDown()||r.props.pagePropertiesStore.setState(a({},r.props.pagePropertiesStore.state,{openProperty:r.props.property}))},r}return o(t,e),t.prototype.renderComponent=function(){var e,r=this,n=this.props,o=n.collectionStore,i=n.property,l=n.disabled,u=n.locked,c=n.parentCollectionLocked,f=n.pagePropertiesStore,h=n.schema,v=f.state.hoveredProperty===i,w=h[i],S=v&&!A.default.state.isKeyboardMode,_=[];if(w)return p.selectTypes.includes(w.type)?e="Configure Options":"rollup"===w.type?e="Configure Rollup":"date"===w.type?e="Format Date":"formula"===w.type?e="Edit Formula":"number"===w.type&&(e="Format Number"),e&&_.push({key:e,name:e,render:function(t){return s.createElement(C.default,a({},t,{title:e,svg:y.default.settings}))},closeParentMenu:!0,action:this.handleConfigure}),p.userPropertyTypes.includes(w.type)&&"relation"!==w.type&&_.push({key:"Duplicate Property",name:"Duplicate Property",render:function(e){return s.createElement(C.default,a({},e,{title:"Duplicate Property",svg:y.default.duplicate}))},closeParentMenu:!0,action:this.handleDuplicate}),p.userPropertyTypes.includes(w.type)&&_.push({key:"delete",name:"Delete Property",render:function(e){return s.createElement(C.default,a({},e,{title:"Delete Property",svg:y.default.trash}))},closeParentMenu:!0,action:this.handleDelete}),s.createElement("div",{key:i,style:this.getStyle(),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},!m.default.isMobile&&!l&&!(u||c)&&s.createElement(b.default,{isVisible:!0,animationStyle:{opacity:S?1:0},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},render:function(){return s.createElement("div",{style:t.dragHandleWrapStyle,onMouseMove:r.handleMouseMove,onMouseLeave:r.handleMouseLeave},s.createElement(g.default,{onClick:r.handleDragHandleClick}))}}),s.createElement(d.default,{collectionId:o.id,open:f.state.openProperty===i,property:i,schema:h,disabled:l||u||c||!o.canEdit(),actions:_,onChange:this.handleEditPropertyButtonPopupChange,analyticsFrom:"page_properties",renderOrigin:u||c?this.renderLockedPropertyButton:this.renderPropertyButton,onOpen:this.handleEditPropertyOpen,onClose:this.handleEditPropertyClose}))},t.prototype.renderProperty=function(){var e=this.props,t=e.schema[e.property];if(t)return s.createElement("div",{style:{display:"flex",alignItems:"center",lineHeight:"120%",fontSize:14,minWidth:0}},s.createElement("div",{style:{marginRight:10}},s.createElement(P.default,{type:t.type,size:16,theme:this.theme})),s.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},t.name))},t.prototype.getStyle=function(){return{display:"flex",alignItems:"center",height:34,width:m.default.isMobile?120:160,flex:"none",color:this.theme.mediumTextColor}},t.dragHandleWrapStyle={width:g.default.width+4,marginLeft:-(g.default.width+4)},t.propertyButtonStyle={display:"flex",alignItems:"center",height:"100%",width:"100%",borderRadius:3,padding:"0 6px"},t}(u.default);t.default=L},ijm6:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("wpmu"),a=r("6rsX"),i=r("QcDD"),l=r("AmMh"),s=r("5k6+");t.renameFile=function(e){var t=i.default.state.currentBlockStore;if(t){var r=o.default.createChildStore(t,e.blockStore.id);s.default.setState(n({},s.default.state,{originRect:e.originRect||l.default.getRectFromStore(e.blockStore),blockStore:r}))}},t.close=function(){s.default.reset(),a.clear()}},ikHm:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.frame=1,t.mobileFrameSidebarBlocker=2,t.topbar=9,t.sidebarContent=9,t.selectionHalo=81,t.fixedCollectionHeader=82,t.frontPageTemplateCover=83,t.dropZoneHint=88,t.sidebarContainer=99,t.peekOverlay=99,t.mobileActionBar=99,t.helpButton=101,t.frontTopbar=99,t.mobileQuickAddButton=101,t.overlayContainer=999,t.electronOverlayContainer=1001,t.loadingState=9999,t.loginButton=999999,t.dialogModal=9999999},imne:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LEzx"),i=r("VMJe"),l=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t.prototype.isBreakingUpdate=function(){return this.state.appUpdate&&"ready"===this.state.appUpdate.state&&this.state.appUpdate.type===i.UpdateType.Breaking||this.state.electronUpdate&&"ready"===this.state.electronUpdate.state&&this.state.electronUpdate.type===i.UpdateType.Breaking},t}(a.default));window.AppUpdateStore=l,t.default=l},iqZH:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("QcDD"),a=r("toub");t.openSettings=function(e){void 0===e&&(e={});var t=o.default.state.currentSpaceStore;t&&t.canRead()?a.default.setState(n({},a.default.state,{open:!0,currentTab:"members"})):a.default.setState(n({},a.default.state,{open:!0,currentTab:e.currentTab||"settings"}))}},j76I:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("JU1L");function l(e,t){Object.keys(e).forEach(function(r){var n=e[r];n&&Object.keys(n).forEach(function(e){var o=n[e];t({record:o,id:e,table:r})})})}function s(e,t){Object.keys(e).forEach(function(r){var n=e[r];n&&Object.keys(n).forEach(function(e){var o=n[e];t({record:o,id:e,table:r})})})}function u(e,t,r){var n=e[t];return n&&n[r]}function c(e,t,r){var n=e[t];return n&&n[r]}function d(e,t,r,n){var o=e[t]||{};e[t]!==o&&(e[t]=o),o[r]=n}function p(e,t,r,n){var o=e[t]||{};e[t]!==o&&(e[t]=o),o[r]=n}function f(e,t){return l(t,function(t){var r=t.table,n=t.id,o=t.record;d(e,r,n,o)}),e}function h(e,t){return s(t,function(t){var r=t.table,n=t.id,o=t.record;p(e,r,n,o)}),e}t.forEachRecordMap=l,t.forEachRecordMapWithRole=s,t.forEachRecordMapAsync=function(e,t){return n(this,void 0,void 0,function(){var r;return o(this,function(n){switch(n.label){case 0:return r=[],Object.keys(e).forEach(function(n){var o=e[n];o&&Object.keys(o).forEach(function(e){var a=o[e];r.push(t({record:a,id:e,table:n}))})}),[4,Promise.all(r)];case 1:return n.sent(),[2]}})})},t.getRecordMap=u,t.getRecordMapWithRole=c,t.getRecordAncestorsMap=function(e,t,r){var n=e[t];return n&&n[r]},t.getRecordIdMap=function(e,t,r){var n=e[t];return n&&n[r]},t.setRecordMap=d,t.setRecordMapWithRole=p,t.setRecordIdMap=function(e,t,r,n){var o=e[t]||{};e[t]!==o&&(e[t]=o),o[r]=n},t.setRecordAncestorsMap=function(e,t,r,n){var o=e[t]||{};e[t]!==o&&(e[t]=o),o[r]=n},t.recordMapWithRoleToRecordMap=function(e){var t={};return s(e,function(e){var r=e.table,n=e.id,o=e.record;d(t,r,n,o.value)}),t},t.assignRecordMap=f,t.assignRecordMapWithRole=h,t.mergeRecordMap=function(e){var t={};return e.forEach(function(e){return f(t,e)}),t},t.mergeRecordMapWithRole=function(e){var t={};return e.forEach(function(e){return h(t,e)}),t},t.removeNullValuesFromRecordMapWithRole=function(e){s(e,function(t){var r=t.record,n=t.id,o=t.table,a=e[o];!r.value&&a&&delete a[n]})},t.filterNullValuesFromRecordMapWithRole=function(e,t,r){return e.filter(function(e){return c(r,t,e)})},t.generateRecursiveRecordMapAsync=function(e){return n(this,void 0,void 0,function(){var t,r,l;return o(this,function(s){switch(s.label){case 0:return t=e.requests.map(function(e){return{request:e,parent:void 0}}),r=new Set,[4,(l=function(){return n(this,void 0,void 0,function(){var n,s,c,p,f,h,m,y,g,v,b,w,S,_;return o(this,function(o){switch(o.label){case 0:return[4,Promise.all(t.map(function(t){var r=t.request,n=u(e.recordMap,r.table,r.id);return n||e.loadRecordValue(r.table,r.id)}))];case 1:for(c=o.sent(),p=t,t=[],f=0;f<c.length;f++)if(h=c[f],m=p[f],y=m.request,g=m.parent,d(e.recordMap,y.table,y.id,h),h){v=e.recurFn({table:y.table,value:h},g);try{for(b=a(v),w=b.next();!w.done;w=b.next())S=w.value,_=i.getCombinedId(S.table,S.id),r.has(_)||(r.add(_),t.push({request:S,parent:y}))}catch(e){n={error:e}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(n)throw n.error}}}return t.length>0?[4,l()]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}})})})()];case 1:return s.sent(),[2]}})})}},j9U3:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},jAkY:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("q1tI"),c=r("STAJ"),d=r("q1tI"),p=r("VOS9"),f=r("mWhK"),h=r("t+pW"),m=r("csqV"),y=r("Zf8Y"),g=r("0Qt7"),v=r("9OwC"),b=r("bPtJ"),w=r("r8oj"),S=r("PQqx"),_=r("Sb6f"),k=r("y6Dp"),C=r("2Y+N"),E=r("gbGO"),P=r("RQ1t"),x=r("8fuX"),T=r("D2XV"),O=r("QcDD"),M=r("wS9/"),I=r("zmp8"),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getRecordValue=function(e,t){var r=O.default.state.currentBlockStore;if(r)return b.createRecordStore(r,e,t).getValue()},t}return o(t,e),t.prototype.willMount=function(t){var r=this;e.prototype.willMount.call(this,t);var n=t.schema,o=t.property,i=t.block,s=Object.keys(n).filter(function(e){return e!==o}).map(function(e){return v.createPropertyEntry({property:e,schema:n,block:i,getRecordValue:r.getRecordValue,userTimeZone:T.currentTimeZone})});this.library=l([v.createCategorySection(v.Category.property,s)],v.baseLibrary),this.sections=this.library.map(function(e){return{key:e.title,title:e.title,render:function(e){return u.createElement(C.default,a({},e,{desktopTitleStyle:{paddingLeft:8,paddingRight:8}}))},actions:e.entries.map(function(e){return{key:e.name,name:e.name,render:function(t){return u.createElement(y.default,a({},t,{entry:e}))},action:function(){r.formulaInput.insertEntry(e)},closeParentMenu:!1}})}})},t.prototype.renderComponent=function(){var e,t=this,r=this.props,n=r.schema,o=r.property,i=r.disabled,l=n[o].formula,s=u.createElement(d.Fragment,null,u.createElement(m.default,{ref:function(e){e&&(t.formulaInput=e)},store:this.stores.formulaInputStore,formula:l,schema:n,property:o,disabled:i,onChange:function(e){return t.handleInputChange(e)},onSubmit:function(e){return t.handleInputSubmit(e)}}),w.default.isMobile&&this.renderStatus());return e=w.default.isMobile?{menuType:E.default.MenuType.Modal,title:"Formula",right:"Done",onClickRight:function(){return t.formulaInput.handleAccept()},header:s}:{menuType:E.default.MenuType.Popup,width:450,height:i?"none":320,disableScroller:!0,header:s,footer:this.renderStatus()},u.createElement(E.default,a({},e),!i&&this.renderContent())},t.prototype.renderContent=function(){var e=this.getEntry();return w.default.isMobile?u.createElement(p.default,{initialFocus:0,context:null,filter:this.stores.formulaInputStore.state.query,sections:this.sections,menuListStore:this.stores.menuListStore}):u.createElement("div",{style:{display:"flex",flexGrow:1,overflow:"hidden",boxShadow:"\n\t\t\t\t\t\t\tinset 0 1px 0 "+this.theme.regularDividerColor+",\n\t\t\t\t\t\t\tinset 0 -1px 0 "+this.theme.regularDividerColor+"\n\t\t\t\t\t\t",height:255}},u.createElement(x.default,{type:x.default.OverflowType.Y,style:{width:160,flexGrow:0,flexShrink:0}},u.createElement(p.default,{initialFocus:0,context:null,filter:this.stores.formulaInputStore.state.query,sections:this.sections,menuListStore:this.stores.menuListStore,disableMouseLeaveBlur:!0})),u.createElement(x.default,{type:x.default.OverflowType.Y,style:{padding:12,boxShadow:"inset 1px 0 0 "+this.theme.regularDividerColor,flexGrow:1}},u.createElement(g.default,{entry:e})))},t.prototype.renderStatus=function(){var e=this.props.disabled,r=S.getShortcutTextItems().command,n=this.stores.formulaInputStore.state.error;return n?u.createElement("div",{style:w.default.isMobile?this.getMobileStatusWrapStyle():this.getDesktopStatusWrapStyle()},u.createElement("span",{style:a({},w.default.isMobile&&t.mobileStatusStyle,t.errorStatusStyle)},n)):w.default.isMobile?u.createElement("div",{style:this.getMobileStatusWrapStyle()},u.createElement("span",{style:t.mobileStatusStyle},"No errors.")):e?void 0:u.createElement("div",{style:this.getDesktopStatusWrapStyle()},u.createElement("span",null,u.createElement("span",{style:{fontWeight:_.default.fontWeight.medium}},r,"+Enter")," ","to accept"))},t.prototype.handleUpdate=function(e,t){var r=this.props,n=r.onChange,o=r.schema,a=r.property,i=r.analyticsFrom;if(e&&"error"===e.type);else{var l=o[a],s=l.type,u=l.name,d=l.number_format;n({schema:c.assoc(a,{type:s,name:u,formula:e,number_format:d},o),close:t});var p=o[a];p&&k.trackConfigureProperty({property_type:p.type,action:"formula_edit",from:i})}},t.prototype.getEntry=function(){var e,t,r,n,o=this.stores.menuListStore.state.focusedKey;if(void 0!==o)try{for(var a=s(this.library),i=a.next();!i.done;i=a.next()){var l=i.value;try{for(var u=s(l.entries),c=u.next();!c.done;c=u.next()){var d=c.value;if(d.name===o)return d}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}},t.prototype.getDesktopStatusWrapStyle=function(){return{display:"flex",flex:"none",alignItems:"center",fontSize:12,paddingLeft:8,paddingRight:8,height:30,color:this.theme.mediumTextColor}},t.prototype.getMobileStatusWrapStyle=function(){return{display:"flex",flex:"none",alignItems:"center",fontSize:14,height:28,color:this.theme.mediumTextColor,background:this.theme.popoverBackground,boxShadow:"0 1px 0 "+this.theme.regularDividerColor,paddingLeft:M.default.paddingLeft,paddingRight:M.default.paddingRight}},t.prototype.handleInputChange=function(e){this.handleUpdate(e,!1)},t.prototype.handleInputSubmit=function(e){this.handleUpdate(e,!0)},t.stores={formulaInputStore:f.default,menuListStore:P.default},t.mobileStatusStyle={paddingLeft:16,paddingRight:16},t.errorStatusStyle={color:I.default.redWithAlpha(.8),whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},t}(h.default);t.default=A},jWHj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyboardState=function(){return n};var n={shift:!1,option:!1,control:!1,command:!1},o=function(e){n.shift=Boolean(e.shiftKey),n.option=Boolean(e.altKey),n.control=Boolean(e.ctrlKey),n.command=Boolean(e.metaKey)};window.addEventListener("keydown",o),window.addEventListener("keyup",o),window.addEventListener("focus",function(e){n.shift=!1,n.option=!1,n.control=!1,n.command=!1})},jXGf:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("wldR"),l=r("bFnu"),s=r("v/t1"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseEnter=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t.handleMouseDown=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mousePressed:!0}))},t.handleMouseUp=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mousePressed:!1}))},t.handleWindowMouseUp=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mousePressed:!1,mouseEntered:!1}))},t}return o(t,e),t.prototype.willMount=function(){s.addPassiveEventListener(window,"mouseup",this.handleWindowMouseUp)},t.prototype.willUnmount=function(){s.removePassiveEventListener(window,"mouseup",this.handleWindowMouseUp)},t.prototype.renderComponent=function(){var e=this.stores.mouseStore.state,t=e.mouseEntered,r=e.mousePressed;return this.props.render({mouseEntered:t,mousePressed:r,events:{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}})},t.stores={mouseStore:l.default},t}(i.default);t.default=u},jZoB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("wy14"),o=r("lufz"),a=r("MBf9");t.replaceChild=function(e){var t=e.parent,r=e.oldChild,n=e.newChild,i=e.transaction,l=r.id,s=n.id,u=(t.getValue()||[]).indexOf(l);return o.updateParentForAddedChild({parentStore:t,childStore:n,transaction:i}),o.updateParentForRemovedChild({parentStore:t,childStore:r,transaction:i}),u>=0&&(a.addOperation({transaction:i,store:t,operation:{table:t.table,id:t.id,path:t.path,command:"listAfter",args:{id:s,after:l}}}),a.addOperation({transaction:i,store:t,operation:{table:t.table,id:t.id,path:t.path,command:"listRemove",args:{id:l}}})),{parent:t,child:n.cloneWithNewParent(t)}},t.insertAfter=function(e){var t,r=e.parent,n=e.insert,i=e.after,l=e.transaction;return i&&(t=i.id),o.updateParentForAddedChild({parentStore:r,childStore:n,transaction:l}),a.addOperation({transaction:l,store:r,operation:{table:r.table,id:r.id,path:r.path,command:"listAfter",args:{after:t,id:n.id}}}),{parent:r,child:n.cloneWithNewParent(r)}},t.insertBefore=function(e){var t,r=e.parent,n=e.insert,i=e.before,l=e.transaction;return i&&(t=i.id),o.updateParentForAddedChild({parentStore:r,childStore:n,transaction:l}),a.addOperation({transaction:l,store:r,operation:{table:r.table,id:r.id,path:r.path,command:"listBefore",args:{before:t,id:n.id}}}),{parent:r,child:n.cloneWithNewParent(r)}},t.remove=function(e){void 0===e.shouldGarbageCollect&&(e.shouldGarbageCollect=!0);var t=e.parent,r=e.remove,i=e.shouldGarbageCollect,l=e.transaction;o.updateParentForRemovedChild({parentStore:t,childStore:r,transaction:l}),a.addOperation({transaction:l,store:t,operation:{table:t.table,id:t.id,path:t.path,command:"listRemove",args:{id:r.id}}}),i&&l.preSubmitActions.push(function(){n.garbageCollectColumn({parent:t,transaction:l})});var s=r.cloneWithNewParent(t);return{parent:t,child:s}},t.append=function(e){var t=e.parent,r=e.append,n=e.transaction;return o.updateParentForAddedChild({parentStore:t,childStore:r,transaction:n}),a.addOperation({transaction:n,store:t,operation:{table:t.table,id:t.id,path:t.path,command:"listAfter",args:{id:r.id,after:void 0}}}),{parent:t,child:r.cloneWithNewParent(t)}},t.prepend=function(e){var t=e.parent,r=e.prepend,n=e.transaction;return o.updateParentForAddedChild({parentStore:t,childStore:r,transaction:n}),a.addOperation({transaction:n,store:t,operation:{table:t.table,id:t.id,path:t.path,command:"listBefore",args:{id:r.id,before:void 0}}}),{parent:t,child:r.cloneWithNewParent(t)}}},jbcS:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),r("/RgW"),r("Hf2Q"),r("Wbh4"),r("pWI8"),r("HwWE"),r("Jxif"),r("UxdC"),r("fvMi"),r("Jrey"),r("WZ/V"),r("bZMm"),r("201c"),r("YBdB");var a=r("q1tI"),i=r("i8i4");r("64xs").default();var l=r("oWRT"),s=r("r8oj"),u=r("VBxf"),c=r("bK/N"),d=r("enHn"),p=r("imne"),f=r("BRCg"),h=r("gfe+"),m=r("oqYu"),y=r("oaNT"),g=r("PQqx"),v=r("FmD2"),b=r("fyu6"),w=r("Fe7V"),S=r("unoy"),_=r("MBf9"),k=r("wvIE"),C=r("FcJC"),E=r("frzs"),P=r("+LO1"),x=r("m0IC"),T=r("H4VD"),O=r("DkKf"),M=r("RI9y"),I=r("A9TN"),A=r("6Ydq"),D=r("bkwR"),L=r("QcDD"),R=r("sjR4"),B=r("VMJe"),j=r("wo7W"),V=r("0eZC"),F=r("Nfcv"),N=r("YMM9"),U=r("r8MX"),W=r("T1hA"),z=r("qDOf"),H=r("+DAh"),q=r("w5u6"),G=r("DNgp"),Z=r("0oyA"),Y=r("5xGH"),K=r("uN94"),J=r("7Qu9"),Q=["TypeError: Cannot read property 'appId' of null","listener to be a function, instead got a value of `boolean` type","Warning: validateDOMNesting","No local database found","XHR Error: 0","getExtractedData timed out.","getIframeHTML timed out."],X=function(e){var t=console[e];console[e]=function(e){(function(e){return Q.some(function(t){return Boolean(e&&e.indexOf&&e.indexOf(t)>=0)})})(e)||t.call(console,e)}};"local"!==I.default.env&&"localDevelopment"!==I.default.env||(X("warn"),X("error"));var $=function(e){var t=e.reason?e.reason.message:e.message,r=e.reason?e.reason.status:e.status;"SyntaxError: Unexpected EOF"===t&&u.showFatalError({message:"⚠️ Hello, we've noticed an issue with your iOS app. Please delete this app and re-install it from the App Store."}),e instanceof Y.HttpOfflineError?A.log({level:"info",from:"main",type:e.name,error:e}):e instanceof Y.HttpError?A.log({level:"warning",from:"main",type:e.name,error:e}):"XHR Error: 0"===t||"Token was invalid or expired."===t||"No local database found."===t||"Script error."===t||(400===r?A.log({level:"warning",from:"main",type:"badRequest",error:e}):"Request Timeout after 30000ms"===t?A.log({level:"warning",from:"main",type:t,error:e}):A.log({level:"error",from:"main",type:"ClientError",error:e}))};window.addEventListener("error",$),window.addEventListener("unhandledrejection",$);window.onbeforeunload=function(e){var t=d.default.isEmpty()||s.default.isReactNative||s.default.isCordova||s.default.isElectron||p.default.isBreakingUpdate()?s.default&&f.default.isUploading()?"The files you are currently uploading may not be saved. Are you sure you want to quit?":void 0:"Changes you made may not be saved. Are you sure you want to quit?";if(!(s.default&&s.default.isElectron&&t))return t;!1===c.displayConfirmDialog(t)&&(e.returnValue=!1)};var ee={};ee.api=D,ee.AppStore=L.default,ee.SelectionStore=R.default,ee.TextSelectionStore=G.default,ee.environment=s.default,ee.Perf=N,ee.SubscriptionDataStore=U.default,ee.environment=s.default,ee.config=I.default,ee.UserTokenStore=W.default,ee.AnalyticsStore=z.default,ee.DefaultRecordCacheStore=H.default,ee.OnboardingStore=K.default,ee.RevisionStore=J.default,ee.RenderQueue=q.default,ee.LocalTransactionQueue=d.default,ee.KeyboardShortcutStackStore=Z.default,ee.OnboardingStore=K.default,window.__console=ee,function(){n(this,void 0,void 0,function(){var e,t,n,u;return o(this,function(o){switch(o.label){case 0:return s.default.isReactNative?[4,m.initializeReactNativeApp(s.default)]:[3,3];case 1:return o.sent(),[4,j.initializeStorage()];case 2:o.sent(),s.default.isIPhoneX=V.isIPhoneX(),e=V.getReactNativeDeviceInfo(),Object.assign(s.default.logglyData,e),s.default.mobileAppVersion=e.reactNativeAppVersion,o.label=3;case 3:return s.default.isCordova?[4,l.initializeCordovaApp(s.default)]:[3,6];case 4:return o.sent(),[4,F.initializeStorage()];case 5:o.sent(),t=l.getCordovaDeviceInfo(),Object.assign(s.default.logglyData,t),s.default.isIPhoneX=l.isIPhoneX(),o.label=6;case 6:return s.default.isElectron&&(n=B.formatVersion(c.getDesktopVersion()),s.default.logglyData.desktopVersion=n,s.default.desktopAppVersion=n),P.setDeviceFingerprintData(),E.startListeners(),T.startListeners(),_.startListeners(),h.startListeners(),S.startListeners(),v.startListeners(),g.startListeners(),b.startListeners(),w.startListeners(),m.startListeners(),l.startListeners(),y.startListeners(),O.startListeners(),k.startListeners(),C.startListeners(),x.startListeners(),M.startListeners(),D.startListeners(),u=r("/uT/").default,i.render(a.createElement(u),document.querySelector("#notion-app"),function(){var e=document.getElementById("initial-loading-spinner");e&&e.remove()}),[2]}})})}()},jhZm:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("i8i4"),s=r("LvDl"),u=r("r8oj"),c=r("wldR"),d=r("zmp8"),p=r("AmMh"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t);var r=p.default.findNodeFromStore(this.props.store);r&&(this.clonedNode=this.cloneAndCleanupNode(r))},t.prototype.didMount=function(){e.prototype.didMount.call(this);var t=l.findDOMNode(this);this.clonedNode&&t&&t.appendChild(this.clonedNode)},t.prototype.renderComponent=function(){return i.createElement("div",{style:this.getStyle()})},t.prototype.findShadowRoot=function(e,t){if(e.shadowRoot)return t;if(e instanceof HTMLIFrameElement)return t;var r=e.firstElementChild,n=e.nextElementSibling;if(r){t.push(0);var o=this.findShadowRoot(r,t);if(o)return o;t.pop()}if(n){t[t.length-1]+=1;var a=this.findShadowRoot(n,t);if(a)return a}return null},t.prototype.findElement=function(e,t){return t.reduce(function(e,t){return e&&e.children&&e.children[t]?e.children[t]:null},e)},t.copyAttributes=function(e,t){s.toArray(t.attributes).forEach(function(t){var r=t.name,n=t.value;e.setAttribute(r,n)})},t.prototype.attachEmbeds=function(e,r){var n=e.firstElementChild;if(n&&n.hasAttribute("embed-ghost")){var o=this.findShadowRoot(e,[]);if(o){var a=this.findElement(e,o),i=this.findElement(r,o);if(a&&i)if(a.shadowRoot){var l=a.shadowRoot,s=null;if(i.createShadowRoot)s=i.createShadowRoot();else if(i.attachShadow)try{s=i.attachShadow({mode:"open"})}catch(e){}s&&(s.innerHTML=l.innerHTML)}else if(!a.src&&a.contentDocument){var u=document.createElement("iframe");u.width=a.offsetWidth,u.height=a.offsetHeight,t.copyAttributes(u,i),i.parentElement.replaceChild(u,i),u.onload=function(e){var r=u.contentDocument.children[0],n=a.contentDocument.children[0];t.copyAttributes(r,n),r.innerHTML=n.innerHTML}}else i.width=a.offsetWidth,i.height=a.offsetHeight,i.style.backgroundColor=d.default.blackWithAlpha(.12),i.style.backgroundImage=null,i.src=""}}},t.prototype.cloneAndCleanupNode=function(e){var t,r,n=e.style.transform,o=e.style.transition;e.style.transform="",e.style.transition="",this.renderedNodeRect=e.getBoundingClientRect(),e.style.transform=n,e.style.transition=o;var i=e.cloneNode(!0);this.attachEmbeds(e,i);for(var l=getComputedStyle(e),s=0;s<l.length;s++){var u=l[s],c=l.getPropertyValue(u);i.style[u]=c}"absolute"===l.position&&(i.style.position=null,i.style.top=null,i.style.left=null,i.style.bottom=null,i.style.right=null),i.style.pointerEvents="none";try{for(var d=a(i.querySelectorAll("*")),p=d.next();!p.done;p=d.next()){var f=p.value;f.style&&(f.style.pointerEvents="none")}}catch(e){t={error:e}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}return i},t.prototype.getStyle=function(){if(this.renderedNodeRect){var e=this.renderedNodeRect,t=e.width,r=e.height,n=e.left;return{position:"absolute",top:e.top,left:n,width:t,height:r,opacity:u.default.isMobile?.25:.4,pointerEvents:"none"}}},t}(c.default);t.default=f},jmjn:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{dragging:!1}},t}(r("LEzx").default);t.default=a},ju2U:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r("iICV");t.displayBanner=function(e){var r=e.id,n=e.type,i=e.render,l=e.removeTimeout,s=e.bannerStore,u=s.state.banners;if(!u.find(function(e){return e.id===r})){var c=o(u,[{id:r,render:i,type:n}]);s.setState({banners:c}),a.default.setKeyboardMode(!1),l&&setTimeout(function(){t.removeBanner({bannerStore:s,id:r})},l)}},t.removeBanner=function(e){var t=e.id,r=e.bannerStore,n=r.state.banners,o=n.filter(function(e){return e.id!==t});o.length!==n.length&&r.setState({banners:o})},t.clearBanners=function(e){e.bannerStore.state.banners.length>0&&e.bannerStore.setState({banners:[]})}},jxWl:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("r8oj"),l=r("zmp8"),s=r("wldR"),u=r("AjLL"),c=r("T1hA"),d=r("l+8X"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e;return e=d.default?"Please go online to load this page, then you'll be able to access it while offline.":"Oops, you seem to be offline. Please go online to view this page.",a.createElement("div",{style:this.getContainerStyle()},a.createElement("div",{style:this.getGreetingStyle()},e))},t.prototype.isLoggedIn=function(){return c.default.isLoggedIn()},t.prototype.getTopbarHeight=function(){return i.default.isElectronMac?u.default.desktopMacHeight:u.default.defaultHeight},t.prototype.getContainerStyle=function(){return{height:"100%",minHeight:this.isLoggedIn()?"calc(100vh - "+2*this.getTopbarHeight()+"px)":"100vh",paddingLeft:i.default.isMobile?16:32,paddingRight:i.default.isMobile?16:32,display:"flex",justifyContent:"center",alignItems:"center"}},t.prototype.getGreetingStyle=function(){return{fontSize:i.default.isMobile?18:32,marginBottom:8,textAlign:"center",color:l.default.uiBlack,maxWidth:640,lineHeight:1.3}},t}(s.default);t.default=p},k8sp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1");t.EvernoteTokenSchema={table:"evernote_token",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,account:n.default.String,request_token:n.default.String,request_secret:n.default.String,access_token:n.default.String,access_secret:n.default.String,created_time:n.default.Number}}},kCTz:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("STAJ"),s=r("LvDl"),u=r("njgS"),c=r("EZe4"),d=r("t+pW"),p=r("Sb6f"),f=r("yNyh"),h=r("Z1H8"),m=r("mF3+"),y=r("G4GV"),g=r("hi+p"),v=r("cAFl"),b=r("g4rC"),w=r("NOLh"),S=r("wXH4"),_=r("FxE9"),k=r("8fuX"),C=r("r8oj"),E=r("W1IM"),P=r("/YYm"),x=r("y6Dp"),T=r("LeVO"),O=r("tZFf"),M=r("WgIs"),I=r("gbGO"),A=r("nFzZ"),D=r("2Y+N"),L=r("QkuB"),R=r("zTdN"),B=r("BJyN"),j=r("IwFn"),V=r("unoy"),F=r("EZe4"),N=r("vJXr"),U=r("prF1"),W=r("lCCU"),z=r("iLt1"),H=r("d9nj"),q=r("Rwql"),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPropertiesMenuOverlay=function(){var e=t.props,r=e.disabled,n=e.currentViewId,o=e.currentViewType,a=e.currentViewFormat,l=e.currentViewQuery,s=e.collectionValue,c=e.onChange;return i.createElement(k.default,{type:k.default.OverflowType.Y},i.createElement(_.default,{collectionValue:s,disabled:r,viewType:o,format:a,query:l,schema:u.getNormalizedSchema(s),onDismiss:t.props.onClosePropertiesMenu,onChange:function(e){var t={};e.newFormat&&(t.updateViewId=n,t.updateView={format:e.newFormat}),e.newSchema&&(t.newSchema=e.newSchema),e.otherCollectionId&&(t.otherCollectionId=e.otherCollectionId),e.otherCollectionSchema&&(t.otherCollectionSchema=e.otherCollectionSchema),c(t)}}))},t.renderGroupMenuOverlay=function(){var e=t.props,r=e.collectionValue,n=e.currentViewQuery,o=e.onChange,c=e.onCloseGroupMenu,d=e.currentViewId,p=e.currentViewType,f=u.getNormalizedSchema(r),m=Object.keys(f).filter(function(e){var t=f[e];return t&&l.contains(t.type,u.groupableTypes)}),y=[{key:"group section",render:function(e){return i.createElement(D.default,a({},e))},items:A.compact(m.map(function(e){var t=f[e];if(t)return{key:e,render:function(r){return i.createElement(L.default,a({},r,{propertySchema:t,format:L.default.DisplayFormat.Name,checkState:n.group_by===e}))},action:function(){o({updateViewId:d,updateView:{query:a({},n,{group_by:e})}}),c(),x.trackConfigureView({view_type:p,action:"set_group_by"})}}}))}];return i.createElement(h.default,{capture:!0,allowEsc:!0,render:function(e){var r;return r=C.default.isMobile?a({menuType:I.default.MenuType.Modal,title:"Group By",right:"Done",onClickRight:c},e):a({menuType:I.default.MenuType.Popup},e),i.createElement(I.default,a({},r),0===m.length?i.createElement(R.default,{title:"Create a Select, Multi-Select, or Person property to create a group."}):i.createElement(M.default,{sections:y,initialFocus:s.findIndex(m,function(e){return t.props.currentViewQuery.group_by===e})}))}})},t.renderFilterMenuOverlay=function(){var e=t.props,r=e.collectionValue,n=e.currentViewQuery,o=e.currentViewType,a=e.blockPropertyValueOverlayStore;return i.createElement(E.default,{queryType:"filter",currentViewType:o,query:n,collectionValue:r,onChange:t.handleQueryChange,onCancel:t.handleCloseFilterMenuOverlay,parentStore:t.props.collectionStore,blockPropertyValueOverlayStore:a})},t.renderSortMenuOverlay=function(){var e=t.props,r=e.collectionValue,n=e.currentViewQuery,o=e.currentViewType,a=e.blockPropertyValueOverlayStore;return i.createElement(E.default,{queryType:"sort",currentViewType:o,query:n,collectionValue:r,onChange:t.handleQueryChange,onCancel:t.handleCloseSortMenuOverlay,parentStore:t.props.collectionStore,blockPropertyValueOverlayStore:a})},t.renderAddItemMenuOverlay=function(){return N.default.state.online?i.createElement(q.default,{isOverlay:!0,collectionStore:t.props.collectionStore,onEmptyPageClick:t.props.onTemplateEmptyPageClick,onTemplateClick:t.props.onTemplateClick,onCancelClick:t.props.onTemplateCancelClick,locked:t.props.locked,overrideLinkClick:t.props.overrideLinkClick}):i.createElement("div",{style:{fontSize:14,color:t.theme.mediumTextColor,width:280,padding:8}},"Please go online to use a template.")},t.renderCalendarNoDateMenuOverlay=function(){var e=t.props,r=e.collectionStore,n=e.currentViewQuery,o=e.currentViewId,a=e.onCloseCalendarNoDateMenu,l=e.onCalendarAddBlock;if(n.calendar_by)return i.createElement(O.default,{collectionStore:r,collectionViewId:o,calendarBy:n.calendar_by,onClose:a,onAddBlock:l})},t.renderCalendarByMenuOverlay=function(){var e=t.props,r=e.collectionValue,n=e.currentViewQuery,o=e.onChange,l=e.onCloseCalendarByMenu,s=e.currentViewId,c=e.currentViewType,d=u.getNormalizedSchema(r),p=Object.keys(d).filter(function(e){var t=d[e];return t&&u.isDateType(t)});if(0===p.length)return i.createElement(h.default,{capture:!0,allowEsc:!0,render:function(e){var t;return t=C.default.isMobile?a({menuType:I.default.MenuType.Modal,title:"Calendar By",right:"Done",onClickRight:l},e):a({menuType:I.default.MenuType.Popup,width:180},e),i.createElement(I.default,a({},t),i.createElement(j.default,{style:{padding:8}},"Create a Date property to view as a calendar."))}});var f=[{key:"calendar by section",render:function(e){return i.createElement(D.default,a({},e))},items:A.compact(p.map(function(e){var t=d[e];if(t)return{key:e,render:function(r){return i.createElement(L.default,a({},r,{propertySchema:t,format:L.default.DisplayFormat.Name,checkState:e===n.calendar_by}))},action:function(){o({updateViewId:s,updateView:{query:a({},n,{calendar_by:e})}}),l(),x.trackConfigureView({view_type:c,action:"set_calendar_by"})}}}))}];return i.createElement(h.default,{capture:!0,allowEsc:!0,render:function(e){var r;return r=C.default.isMobile?a({menuType:I.default.MenuType.Modal,title:"Calendar By",right:"Done",onClickRight:l},e):a({menuType:I.default.MenuType.Popup,width:180},e),i.createElement(I.default,a({},r),i.createElement(M.default,{sections:f,initialFocus:p.findIndex(function(e){return t.props.currentViewQuery.calendar_by===e})}))}})},t.handleSearchQueryChange=function(e){(0,t.props.onChange)({searchQuery:e.target.value}),x.trackCollectionSearch({view_type:t.props.currentViewType})},t.handleSearchButtonClick=function(){var e=t.props,r=e.onChange,n=e.onOpenSearch;r({searchQuery:""}),t.stores.searchInputStore.setState(a({},t.stores.searchInputStore.state,{focus:!0})),n(),x.trackCollectionActionBarClick({view_type:t.props.currentViewType,item:"search"})},t.handleSearchBlur=function(){var e=t.props,r=e.searchQuery,n=e.onChange,o=e.onCloseSearch;r?t.stores.searchInputStore.setState(a({},t.stores.searchInputStore.state,{focus:!1})):(t.stores.searchInputStore.setState(a({},t.stores.searchInputStore.state,{focus:!1})),n({searchQuery:""}),o())},t.handleSearchInputClick=function(e){F.default({event:e,context:F.EventContext.EditorClick,callback:function(){t.stores.searchInputStore.setState(a({},t.stores.searchInputStore.state,{focus:!0}))}})},t.handleClearSearchClick=function(){var e=t.props,r=e.onChange,n=e.onCloseSearch;t.stores.searchInputStore.setState(a({},t.stores.searchInputStore.state,{focus:!1})),r({searchQuery:""}),n()},t.handleSearchKeyDown=function(e){if(27===e.keyCode){var r=t.props,n=r.onChange,o=r.onCloseSearch;t.stores.searchInputStore.setState(a({},t.stores.searchInputStore.state,{focus:!1})),n({searchQuery:void 0}),o()}},t.handleActionMenuButtonClick=function(e){g.showAtPosition({stores:[t.props.collectionViewBlockStore],actions:t.props.isFullScreen?t.props.locked?B.lockedFullScreenCollectionViewActions:B.fullScreenCollectionViewActions:t.props.locked?B.lockedInlineCollectionViewActions:B.inlineCollectionViewActions,left:e.clientX,top:e.clientY,showInput:!1,analyticsFrom:"collection_view_more_menu"}),V.clear(),x.trackCollectionActionBarClick({view_type:t.props.currentViewType,item:"actions"})},t.handlePropertiesMenuButtonClick=function(){t.props.onOpenPropertiesMenu(),x.trackCollectionActionBarClick({view_type:t.props.currentViewType,item:"properties"})},t.handlePropertiesMenuOverlayBgClick=function(){t.props.onClosePropertiesMenu()},t.handleFilterMenuButtonClick=function(){t.props.onOpenFilterMenu(),x.trackCollectionActionBarClick({view_type:t.props.currentViewType,item:"filter"})},t.handleCloseFilterMenuOverlay=function(){t.props.onCloseFilterMenu()},t.handleSortMenuButtonClick=function(){t.props.onOpenSortMenu(),x.trackCollectionActionBarClick({view_type:t.props.currentViewType,item:"sort"})},t.handleCloseSortMenuOverlay=function(){t.props.onCloseSortMenu()},t.handleGroupMenuButtonClick=function(){t.props.onOpenGroupMenu(),x.trackCollectionActionBarClick({view_type:t.props.currentViewType,item:"group"})},t.handleGroupMenuOverlayBgClick=function(){t.props.onCloseGroupMenu()},t.handleCalendarByMenuButtonClick=function(){t.props.onOpenCalendarByMenu(),x.trackCollectionActionBarClick({view_type:t.props.currentViewType,item:"calendar_by"})},t.handleCalendarByMenuOverlayBgClick=function(){t.props.onCloseCalendarByMenu()},t.handleCalendarNoDateMenuOverlayBgClick=function(){t.props.onCloseCalendarNoDateMenu()},t.handleAddItemMenuOverlayBgClick=function(){t.props.onCloseAddItemMenu()},t.handleCalendarNoDateMenuButtonClick=function(){t.props.onOpenCalendarNoDateMenu(),x.trackCollectionActionBarClick({view_type:t.props.currentViewType,item:"calendar_no_date"})},t.handleQueryChange=function(e){var r=t.props,n=r.currentViewId;(0,r.onChange)({updateViewId:n,updateView:{query:e}})},t.handleFilterMenuAnimationEnd=function(){t.stores.store.setState(a({},t.stores.store.state,{filterMenuAnimatingOut:!1}))},t.handleSortMenuAnimationEnd=function(){t.stores.store.setState(a({},t.stores.store.state,{sortMenuAnimatingOut:!1}))},t.handleGroupMenuAnimationEnd=function(){t.stores.store.setState(a({},t.stores.store.state,{groupMenuAnimatingOut:!1}))},t.handlePropertiesMenuAnimationEnd=function(){t.stores.store.setState(a({},t.stores.store.state,{propertiesMenuAnimatingOut:!1}))},t.handleCalendarByMenuAnimationEnd=function(){t.stores.store.setState(a({},t.stores.store.state,{calendarByMenuAnimatingOut:!1}))},t.handleCalendarNoDateMenuAnimationEnd=function(){t.stores.store.setState(a({},t.stores.store.state,{calendarNoDateMenuAnimatingOut:!1}))},t.handleAddItemMenuAnimationEnd=function(){t.stores.store.setState(a({},t.stores.store.state,{addItemMenuAnimatingOut:!1}))},t.handleOpenAsPageClick=function(){x.trackOpenCollectionAsPage({view_type:t.props.currentViewType})},t.isOnline=t.createComputedStore(function(){return N.default.state.online}),t}return o(t,e),t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t),!t.filterMenuOpen&&this.props.filterMenuOpen&&this.stores.store.setState(a({},this.stores.store.state,{filterMenuAnimatingOut:!0})),!t.sortMenuOpen&&this.props.sortMenuOpen&&this.stores.store.setState(a({},this.stores.store.state,{sortMenuAnimatingOut:!0})),!t.groupMenuOpen&&this.props.groupMenuOpen&&this.stores.store.setState(a({},this.stores.store.state,{groupMenuAnimatingOut:!0})),!t.propertiesMenuOpen&&this.props.propertiesMenuOpen&&this.stores.store.setState(a({},this.stores.store.state,{propertiesMenuAnimatingOut:!0})),!t.calendarByMenuOpen&&this.props.calendarByMenuOpen&&this.stores.store.setState(a({},this.stores.store.state,{calendarByMenuAnimatingOut:!0})),!t.calendarNoDateMenuOpen&&this.props.calendarNoDateMenuOpen&&this.stores.store.setState(a({},this.stores.store.state,{calendarNoDateMenuAnimatingOut:!0})),!t.addItemMenuOpen&&this.props.addItemMenuOpen&&this.stores.store.setState(a({},this.stores.store.state,{addItemMenuAnimatingOut:!0}))},t.prototype.renderComponent=function(){var e=this.props,t=e.isFullScreen,r=e.disabled;return i.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:"auto"},onMouseDown:c.captureEditorMouseDown},this.shouldShowPropertiesMenu()&&this.renderPropertiesMenu(),this.shouldShowCalendarByMenu()&&this.renderCalendarByMenu(),this.shouldShowCalendarNoDateMenu()&&this.renderCalendarNoDateMenuButton(),this.shouldShowGroupMenu()&&this.renderGroupMenu(),this.shouldShowFilterMenu()&&this.renderFilterMenu(),this.shouldShowSortMenu()&&this.renderSortMenu(),!C.default.isMobile&&this.renderSearch(),!t&&this.renderFullScreenButton(),this.shouldShowActionMenuButton()&&this.renderActionMenuButton(),!r&&this.renderAddItemButton())},t.prototype.renderPropertiesMenu=function(){var e=this.props.propertiesMenuOpen;return i.createElement(S.default,{popupType:C.default.isMobile?S.default.PopupType.SlideUp:S.default.PopupType.Popup,open:e,origin:i.createElement(H.default,{isSmall:!0,isGray:!0,onClick:this.handlePropertiesMenuButtonClick},"Properties"),originGap:8,render:this.renderPropertiesMenuOverlay,onDismiss:this.handlePropertiesMenuOverlayBgClick,onAnimationEnd:this.handlePropertiesMenuAnimationEnd})},t.prototype.renderGroupMenu=function(){var e=this.props,t=e.groupMenuOpen,r=e.currentViewQuery,n=e.collectionValue,o="none";if(r.group_by){var a=u.getNormalizedSchema(n)[r.group_by];a&&(o=a.name)}return i.createElement(S.default,{popupType:C.default.isMobile?S.default.PopupType.SlideUp:S.default.PopupType.Popup,open:t,origin:i.createElement(H.default,{isSmall:!0,isGray:!0,style:{marginLeft:4},onClick:this.handleGroupMenuButtonClick},i.createElement("span",null,i.createElement("span",null,"Group by "),i.createElement("span",{style:{color:this.theme.regularTextColor}},o))),originGap:8,render:this.renderGroupMenuOverlay,onDismiss:this.handleGroupMenuOverlayBgClick,onAnimationEnd:this.handleGroupMenuAnimationEnd})},t.prototype.renderFilterMenu=function(){var e=this.props,t=e.filterMenuOpen,r=(e.currentViewQuery.filter||[]).length;return i.createElement(S.default,{popupType:C.default.isMobile?S.default.PopupType.SlideUp:S.default.PopupType.Popup,open:t,origin:i.createElement(H.default,{isSmall:!0,isGray:!Boolean(r),isBlue:Boolean(r),style:{marginLeft:4},onClick:this.handleFilterMenuButtonClick},"Filter"),originGap:8,render:this.renderFilterMenuOverlay,onDismiss:this.handleCloseFilterMenuOverlay,onAnimationEnd:this.handleFilterMenuAnimationEnd})},t.prototype.renderSortMenu=function(){var e=this.props,t=e.sortMenuOpen,r=(e.currentViewQuery.sort||[]).length;return i.createElement(S.default,{popupType:C.default.isMobile?S.default.PopupType.SlideUp:S.default.PopupType.Popup,open:t,origin:i.createElement(H.default,{isSmall:!0,isGray:!Boolean(r),isBlue:Boolean(r),style:{marginLeft:4},onClick:this.handleSortMenuButtonClick},"Sort"),originGap:8,render:this.renderSortMenuOverlay,onDismiss:this.handleCloseSortMenuOverlay,style:{minWidth:250},onAnimationEnd:this.handleSortMenuAnimationEnd})},t.prototype.renderSearch=function(){var e=this,t=this.props,r=t.searchQuery,n=t.searchOpen,o=this.stores.searchInputStore.state.focus,l=this.isOnline.state;return n&&l?i.createElement(w.default,{isVisible:!0,animationStyle:{width:150},enterAnimationStyle:{width:24},exitAnimationStyle:{width:24},render:function(){return i.createElement(h.default,{capture:o,allowEsc:!0,render:function(t){return i.createElement("div",a({},t),i.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:8}},i.createElement("div",{style:{marginRight:4}},m.default.collectionSearch(e.getIconStyle())),i.createElement(f.default,{style:e.getSearchInputStyle(),format:f.default.Format.Transparent,value:r,onChange:e.handleSearchQueryChange,placeholder:"Type to search...",focus:o,showClearButton:!0,onBlur:e.handleSearchBlur,onCancel:e.handleSearchBlur,onClick:e.handleSearchInputClick,onClearButtonClick:e.handleClearSearchClick,onKeyDown:e.handleSearchKeyDown})))}})}}):i.createElement(T.default,{renderTooltip:function(){return"Please go online to search."},disableTooltip:l,render:function(t){return i.createElement(H.default,a({isSmall:!0,isGray:!0,icon:m.default.collectionSearch,style:{marginLeft:4},disabled:!l,onClick:e.handleSearchButtonClick},t),"Search")}})},t.prototype.renderAddItemButton=function(){var e=this.props,t=e.onAddItem,r=e.onOpenAddItemMenu,n=e.addItemMenuOpen;return i.createElement(S.default,{popupType:C.default.isMobile?S.default.PopupType.SlideUp:S.default.PopupType.Popup,open:n,origin:i.createElement(z.default,{onAddItem:t,onOpenAddItemMenu:r}),originGap:8,render:this.renderAddItemMenuOverlay,onDismiss:this.handleAddItemMenuOverlayBgClick,onAnimationEnd:this.handleAddItemMenuAnimationEnd})},t.prototype.renderFullScreenButton=function(){var e=this,t=this.props.collectionViewBlockStore,r=P.default({store:t,fullyQualified:!1});return i.createElement(T.default,{renderTooltip:function(){return"Open as Page"},render:function(t){return i.createElement(U.default,a({href:r,onClick:e.handleOpenAsPageClick,style:{marginLeft:4}},t),i.createElement(W.default,{icon:m.default.openAsPageThick}))}})},t.prototype.renderActionMenuButton=function(){return i.createElement(W.default,{onClick:this.handleActionMenuButtonClick,icon:m.default.dots,style:{marginLeft:4}})},t.prototype.renderCalendarNoDateMenuButton=function(){var e=this,r=this.props,n=r.calendarNoDateMenuOpen,o=r.currentViewQuery,l=r.collectionValue,s=r.calendarNodeDateTotal,c="Date";if(o.calendar_by){var d=u.getNormalizedSchema(l)[o.calendar_by];d&&(c=d.name)}return i.createElement(S.default,{popupType:C.default.isMobile?S.default.PopupType.SlideUp:S.default.PopupType.Popup,open:n,origin:i.createElement(T.default,{renderTooltip:function(){return"Show pages without a date."},render:function(t){return i.createElement(H.default,a({isSmall:!0,isGray:!0,onClick:e.handleCalendarNoDateMenuButtonClick},t),i.createElement("span",null,i.createElement("span",null,"No "),i.createElement("span",{style:{color:e.theme.regularTextColor}}," ",c),i.createElement("span",null," (",s,")")))}}),originGap:8,style:t.noDatePopupStyle,render:this.renderCalendarNoDateMenuOverlay,onDismiss:this.handleCalendarNoDateMenuOverlayBgClick,onAnimationEnd:this.handleCalendarNoDateMenuAnimationEnd})},t.prototype.renderCalendarByMenu=function(){var e=this.props,t=e.calendarByMenuOpen,r=e.currentViewQuery,n=e.collectionValue,o="None";if(r.calendar_by){var a=u.getNormalizedSchema(n)[r.calendar_by];a&&(o=a.name)}return i.createElement(S.default,{popupType:C.default.isMobile?S.default.PopupType.SlideUp:S.default.PopupType.Popup,open:t,origin:i.createElement(H.default,{isSmall:!0,isGray:!0,onClick:this.handleCalendarByMenuButtonClick},i.createElement("span",null,i.createElement("span",null,"By "),i.createElement("span",{style:{color:this.theme.regularTextColor}},o))),originGap:8,render:this.renderCalendarByMenuOverlay,onDismiss:this.handleCalendarByMenuOverlayBgClick,onAnimationEnd:this.handleCalendarByMenuAnimationEnd})},t.prototype.shouldShowPropertiesMenu=function(){var e=this.props,t=e.propertiesMenuOpen,r=e.isFullScreen,n=e.disabled,o=e.locked,a=this.stores.store.state.propertiesMenuAnimatingOut;return!n&&!o&&(C.default.isMobile?t||a:t||a||r)},t.prototype.shouldShowFilterMenu=function(){var e=this.props,t=e.filterMenuOpen,r=e.currentViewQuery,n=e.isFullScreen,o=e.disabled,a=e.locked,i=this.stores.store.state.filterMenuAnimatingOut,l=r.filter||[];return!o&&!a&&(C.default.isMobile?t||i:t||i||n||l.length>0)},t.prototype.shouldShowSortMenu=function(){var e=this.props,t=e.sortMenuOpen,r=e.currentViewQuery,n=e.isFullScreen,o=e.disabled,a=e.locked,i=this.stores.store.state.sortMenuAnimatingOut,l=r.sort||[];return!o&&!a&&(C.default.isMobile?t||i:t||i||n||l.length>0)},t.prototype.shouldShowGroupMenu=function(){var e=this.props,t=e.groupMenuOpen,r=e.currentViewType,n=e.isFullScreen,o=e.disabled,a=e.locked,i=this.stores.store.state.groupMenuAnimatingOut;return!o&&!a&&"board"===r&&(C.default.isMobile?t||i:t||i||n)},t.prototype.shouldShowCalendarByMenu=function(){var e=this.props,t=e.calendarByMenuOpen,r=e.currentViewType,n=e.isFullScreen,o=e.disabled,a=e.locked,i=e.collectionValue,l=this.stores.store.state.calendarByMenuAnimatingOut;if(o||a||"calendar"!==r)return!1;if(C.default.isMobile)return t||l;var s=u.getNormalizedSchema(i),c=Object.keys(s).filter(function(e){var t=s[e];return t&&u.isDateType(t)});return t||l||n&&c.length>1},t.prototype.shouldShowCalendarNoDateMenu=function(){var e=this.props,t=e.calendarNoDateMenuOpen,r=e.currentViewType,n=e.disabled,o=e.calendarNodeDateTotal,a=e.currentViewQuery,i=e.collectionValue,l=this.stores.store.state.calendarNoDateMenuAnimatingOut,s=u.getNormalizedSchema(i),c=a.calendar_by?s[a.calendar_by]:void 0;return!(n||"calendar"!==r||!c||"date"!==c.type)&&(C.default.isMobile?t||l:void 0===o||0!==o||(t||l))},t.prototype.shouldShowActionMenuButton=function(){var e=this.props,t=e.isFullScreen;return!e.disabled||!t},t.prototype.getSearchInputStyle=function(){return{fontSize:14,lineHeight:1,paddingRight:4,color:this.theme.regularTextColor,fontWeight:p.default.fontWeight.medium,marginBottom:1}},t.prototype.getIconStyle=function(){return{width:14,height:14,fill:this.theme.mediumIconColor}},t.stores={store:v.default,searchInputStore:y.default,linkButtonPopupStore:b.default},t.noDatePopupStyle={width:300},t}(d.default);t.default=G},kaWB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"comment",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,parent_id:n.default.UUID,parent_table:n.default.String,text:n.default.JSON,created_by:n.default.UUID,created_time:n.default.Number,last_edited_time:n.default.Number,alive:n.default.Boolean},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0,text:!0,created_by:!0,created_time:!0}};t.default=o},kkaZ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("STAJ"),c=r("t+pW"),d=r("JQ0b"),p=r("tzV5"),f=r("MBf9"),h=r("VBxf"),m=r("njgS"),y=r("mF3+"),g=r("g90h"),v=r("y6Dp"),b=r("ox2z"),w=r("AlLG"),S=r("JZPr"),_=r("bjn0"),k=r("XDBA"),C=r("MeYt"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleEditPropertyOpen=function(){t.props.tableStore.setState(a({},t.props.tableStore.state,{openProperty:t.props.property})),S.clearSelection()},t.handleEditPropertyClose=function(){t.props.tableStore.setState(a({},t.props.tableStore.state,{openProperty:void 0}))},t.handleEditPropertyButtonPopupChange=function(e){var r=t.props.collectionStore;f.createAndCommit(function(n){p.updateCollection({collectionStore:r,update:{schema:e.newSchema},transaction:n}),e.otherCollectionId&&e.otherCollectionSchema&&p.updateCollection({collectionStore:_.default.createChildStore(t.props.collectionStore,e.otherCollectionId),update:{schema:e.otherCollectionSchema},transaction:n})})},t.handleHide=function(){var e=t.props,r=e.property,n=e.collectionViewStore,o=e.format,a=e.collectionViewLocalStore,i=(o.table_properties||[]).findIndex(function(e){return e.property===r}),l=u.lensPath(["table_properties",i,"visible"]),s=u.set(l,!1,o);f.createAndCommit(function(e){p.updateCollectionView({collectionViewStore:n,collectionViewLocalStore:a,update:{format:s},transaction:e})}),v.trackConfigureView({view_type:"table",action:"table_hide_column"})},t.handleDuplicate=function(){var e=t.props,r=e.property,n=e.collectionViewLocalStore,o=e.format,i=e.schema,l=e.collectionStore,s=e.collectionViewStore,u=o.table_properties||[],c=k.getDuplicatePropertyUpdate({schema:i,property:r,properties:u});c&&f.createAndCommit(function(e){p.updateCollection({collectionStore:l,update:{schema:c.newSchema},transaction:e});var t=a({},o,{table_properties:c.newProperties});p.updateCollectionView({collectionViewStore:s,collectionViewLocalStore:n,update:{format:t},transaction:e})})},t.handleDelete=function(){h.showDialog({message:"Are you sure you want to delete this property?",showCancel:!0,keepFocus:!0,items:[{label:"Delete",color:"red",onAccept:function(){return i(t,void 0,void 0,function(){var e,t,r,n,o,a,i,s;return l(this,function(l){switch(l.label){case 0:return e=this.props,t=e.property,r=e.schema,n=e.collectionStore,(o=n.getValue())?(a=f.create(),[4,k.getDeletePropertyUpdate({collectionId:o.id,schema:r,property:t})]):[2];case 1:return(i=l.sent())?(p.updateCollection({collectionStore:n,update:{schema:i.newSchema},transaction:a}),i.otherCollectionId&&i.otherCollectionSchema&&p.updateCollection({collectionStore:_.default.createChildStore(this.props.collectionStore,i.otherCollectionId),update:{schema:i.otherCollectionSchema},transaction:a}),f.commit({transaction:a}),(s=r[t])&&v.trackDeleteProperty({property_type:s.type,from:"table"}),[2]):[2]}})})}}]})},t.handleAddFilter=function(){var e=t.props,r=e.property,n=e.collectionViewLocalStore,o=e.schema,i=e.collectionViewStore,l=n.getNormalizedQuery();if(l){var s=o[r];if(s){var c=m.propertyTypeDefaultFilterMap[s.type],d=a({id:g.default(),property:r,type:s.type},c,{comparator:c.comparator||"is_empty"}),h=u.append(d,l.filter||[]),y=u.assoc("filter",h,l);f.createAndCommit(function(e){p.updateCollectionView({collectionViewStore:i,collectionViewLocalStore:n,update:{query:y},transaction:e})}),n.setState(a({},n.state,{filterMenuOpen:!0})),v.trackConfigureView({view_type:"table",action:"add_filter"})}}},t.handleSortAscending=function(){t.createSort(!0)},t.handleSortDescending=function(){t.createSort(!1)},t.handleAddColumnLeft=function(){f.createAndCommit(function(e){var r=t.props.property;p.createNewProperty({collectionViewLocalStore:t.props.collectionViewLocalStore,formatKey:"table_properties",uniqueNamePrefix:"Property",beforeProperty:r,transaction:e}),v.trackCreateProperty({from:"table_column"})})},t.handleAddColumnRight=function(){f.createAndCommit(function(e){var r=t.props.property;p.createNewProperty({collectionViewLocalStore:t.props.collectionViewLocalStore,formatKey:"table_properties",uniqueNamePrefix:"Property",afterProperty:r,transaction:e}),v.trackCreateProperty({from:"table_column"})})},t.handleConfigure=function(){t.props.onConfigureFirstRow(t.props.property)},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.property,r=e.schema,n=e.disabled,o=e.tableStore,i=e.collectionStore,l=r[t];if(l){var u=i.getValue();if(u){var c,p=[];return m.selectTypes.indexOf(l.type)>=0?c="Configure Options":"rollup"===l.type?c="Configure Rollup":"date"===l.type?c="Format Date":"formula"===l.type?c="Edit Formula":"number"===l.type&&(c="Format Number"),c&&p.push({key:name,name:name,render:function(e){return s.createElement(b.default,a({},e,{title:c,svg:y.default.settings}))},closeParentMenu:!0,action:this.handleConfigure}),p.push({key:"Add Filter",name:"Add Filter",render:function(e){return s.createElement(b.default,a({},e,{title:"Add Filter",svg:y.default.filter}))},closeParentMenu:!0,action:this.handleAddFilter}),p.push({key:"Sort Ascending",name:"Sort Ascending",render:function(e){return s.createElement(b.default,a({},e,{title:"Sort Ascending",svg:y.default.arrowUp}))},closeParentMenu:!0,action:this.handleSortAscending}),p.push({key:"Sort Descending",name:"Sort Descending",render:function(e){return s.createElement(b.default,a({},e,{title:"Sort Descending",svg:y.default.arrowDown}))},closeParentMenu:!0,action:this.handleSortDescending}),p.push({key:"Insert Left",name:"Insert Left",render:function(e){return s.createElement(b.default,a({},e,{title:"Insert Left",svg:y.default.arrowLeft}))},closeParentMenu:!0,action:this.handleAddColumnLeft}),p.push({key:"Insert Right",name:"Insert Right",render:function(e){return s.createElement(b.default,a({},e,{title:"Insert Right",svg:y.default.arrowRight}))},closeParentMenu:!0,action:this.handleAddColumnRight}),"title"!==l.type&&p.push({key:"Hide",name:"Hide",render:function(e){return s.createElement(b.default,a({},e,{title:"Hide",svg:y.default.collectionHide}))},closeParentMenu:!0,action:this.handleHide}),m.userPropertyTypes.includes(l.type)&&"relation"!==l.type&&p.push({key:"Duplicate Property",name:"Duplicate Property",render:function(e){return s.createElement(b.default,a({},e,{title:"Duplicate Property",svg:y.default.duplicate}))},closeParentMenu:!0,action:this.handleDuplicate}),m.userPropertyTypes.includes(l.type)&&p.push({key:"Delete Property",name:"Delete Property",render:function(e){return s.createElement(b.default,a({},e,{title:"Delete Property",svg:y.default.trash}))},closeParentMenu:!0,action:this.handleDelete}),s.createElement("div",{style:a({},this.getStyle())},s.createElement(d.default,{collectionId:u.id,open:o.state.openProperty===t,property:t,schema:r,disabled:n,actions:p,onChange:this.handleEditPropertyButtonPopupChange,analyticsFrom:"table",renderOrigin:function(e){return s.createElement(C.default,a({style:{display:"flex",width:"100%",height:"100%",paddingLeft:8,paddingRight:8},disabled:n},e),s.createElement(w.default,{propertySchema:l,showIcon:!0,style:{fontSize:14}}))},onOpen:this.handleEditPropertyOpen,onClose:this.handleEditPropertyClose}))}}},t.prototype.createSort=function(e){var t=this.props,r=t.property,n=t.collectionViewLocalStore,o=t.schema,i=t.query,l=t.collectionViewStore,s=o[r];if(s){var c={id:g.default(),property:r,type:s.type,direction:e?"ascending":"descending"},d=(i.sort||[]).filter(function(e){return e.property!==r}),h=u.append(c,d),m=u.assoc("sort",h,i);f.createAndCommit(function(e){p.updateCollectionView({collectionViewStore:l,collectionViewLocalStore:n,update:{query:m},transaction:e})}),n.setState(a({},n.state,{sortMenuOpen:!0})),v.trackConfigureView({view_type:"table",action:"add_sort"})}},t.prototype.getStyle=function(){var e=this.props,t=e.disabled,r=e.isLast;return{display:"flex",flexShrink:0,overflow:"hidden",height:32,fontSize:14,padding:0,width:e.width,borderRight:t&&r?"none":"1px solid "+this.theme.regularDividerColor}},t}(c.default);t.default=E},klxS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("9axl"),i=r("bPtJ"),l=r("lKX+"),s=function(e){function t(t,r){return e.call(this,a.default.table,t,[],r)||this}return o(t,e),t.createChildStore=function(e,r){var n=i.default.getChildStoreKey(a.default.table,r,t.keyName),o=e.getRecordStoreChildStore(n),l=o||new t(r,e.recordCacheStore);return o||l.setRecordStoreParent(e,n),l},t.prototype.getSpaceViewIds=function(){var e=this.getValue();return e&&e.space_views?e.space_views:[]},t.prototype.getSpaceViewsStore=function(){return i.createRecordKeyStore(this,a.default.table,this.id,"space_views")},t.prototype.getSpaceViewStores=function(){var e=this,t=this.getValue();return t&&t.space_views?t.space_views.map(function(t){return l.default.createChildStore(e,t)}):[]},t.keyName="UserRootStore",t}(i.default);t.default=s},koRX:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{loaded:!1,error:!1}},t}(r("LEzx").default);t.default=a},kolZ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var c=r("q1tI"),d=r("LvDl"),p=r("LNOE"),f=r("r8oj"),h=r("bFnu"),m=r("MBf9"),y=r("t+pW"),g=r("7TLZ"),v=r("mF3+"),b=r("i3uR"),w=r("gbGO"),S=r("WgIs"),_=r("2Y+N"),k=r("SR/M"),C=r("0689"),E=r("Uc+B"),P=r("SeL1"),x=r("N34Z"),T=r("VBxf"),O=r("5/h/"),M=r("bPtJ"),I=r("hfHo"),A=r("Sb6f"),D=r("ZYTv"),L=r("IwFn"),R=r("g4rC"),B=r("unoy"),j=r("wXH4"),V=r("Cm2F"),F=r("qE2X"),N=r("74GD"),U=r("fJHT"),W=r("QcDD"),z=r("T1hA"),H=r("0zNc"),q=r("w5u6"),G=r("wS9/"),Z=r("IULH"),Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderEditCommentPopup=function(){return c.createElement(N.default,{capture:!0},c.createElement("div",{style:{width:f.default.isReactNative||f.default.isCordova?"100vw":f.default.isMobile?"calc(100vw - 60px)":520,maxWidth:f.default.isMobileBrowser?"90vw":"100%",paddingTop:8,paddingBottom:f.default.isAndroid?12:8,paddingLeft:f.default.isMobile?G.default.calcPaddingLeft(10):10,paddingRight:f.default.isMobile?G.default.calcPaddingRight(10):10}},c.createElement(P.default,{parentStore:t.props.store,onCancel:t.handleCancelEdit,onSubmit:t.handleSubmitEdit,discussionInputStore:t.stores.discussionInputStore,isEditingExistingComment:!0,isCordovaSlideUpMenu:!0})))},t.handleEditComment=function(){return i(t,void 0,void 0,function(){var e,t,r;return l(this,function(n){switch(n.label){case 0:return e=g.getCommentTextStore(this.props.store),t=e.getValue()||[],r=this.stores.discussionInputStore.state.textStore,m.createAndCommit(function(e){x.setValue({store:r,value:t,transaction:e})}),this.stores.commentStore.setState({editing:!0}),[4,q.default.afterNextFlush()];case 1:return n.sent(),[4,q.default.afterNextFlush()];case 2:return n.sent(),B.setSelectionAtEnd({store:r}),[2]}})})},t.handleCancelEdit=function(){return i(t,void 0,void 0,function(){var e,t,r;return l(this,function(n){switch(n.label){case 0:return e=g.getCommentTextStore(this.props.store),t=e.getValue()||[],r=this.stores.discussionInputStore.state.textStore.getValue(),d.isEqual(t,r)?(this.stores.commentStore.setState({editing:!1}),[3,3]):[3,1];case 1:return[4,T.confirmUserAction({message:"Do you want to discard this edit?",acceptLabel:"Discard"})];case 2:n.sent()&&this.stores.commentStore.setState({editing:!1}),n.label=3;case 3:return[2]}})})},t.handleSubmitEdit=function(){return i(t,void 0,void 0,function(){var e,t=this;return l(this,function(r){switch(r.label){case 0:return(e=this.stores.discussionInputStore.state.textStore.getValue())&&e.length>0?(m.createAndCommit(function(r){p.editComment({store:t.props.store,text:e,transaction:r,discussionLocation:t.props.discussionLocation})}),this.stores.commentStore.setState({editing:!1}),[3,3]):[3,1];case 1:return[4,this.handleDeleteComment()];case 2:r.sent(),this.stores.commentStore.setState({editing:!1}),r.label=3;case 3:return[2]}})})},t.handleDeleteComment=function(){return i(t,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,T.confirmUserAction({message:"Would you like to delete this comment?",acceptLabel:"Delete"})];case 1:return e.sent()&&(this.deleteComment(),V.closeBlockDiscussionWhenOpenTabIsEmpty(),F.closeReplyDiscussionMenuWhenEmpty()),[2]}})})},t.handleMouseMove=function(e){H.default.state.isDragging||t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(e){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t.handleResolve=function(){m.createAndCommit(function(e){p.resolveDiscussion({discussionStore:t.props.discussionStore,transaction:e,discussionLocation:t.props.discussionLocation})}),V.closeBlockDiscussionWhenOpenTabIsEmpty()},t.handleReopen=function(){m.createAndCommit(function(e){p.reopenDiscussion({discussionStore:t.props.discussionStore,transaction:e,discussionLocation:t.props.discussionLocation})})},t}return o(t,e),t.prototype.renderComponent=function(){return c.createElement(j.default,{open:this.stores.commentStore.state.editing,popupType:f.default.isReactNative||f.default.isCordova?j.default.PopupType.SlideUp:j.default.PopupType.Popup,origin:this.renderComment(),onDismiss:this.handleCancelEdit,render:this.renderEditCommentPopup})},t.prototype.renderComment=function(){var e=this.props.store,r=e.getValue();if(r){var n,o=M.createRecordStore(e,O.default.table,r.created_by).getValue();return n=r.last_edited_time&&r.last_edited_time>r.created_time+100?"Edited "+I.default(r.last_edited_time).calendar():I.default(r.created_time).calendar(),c.createElement("div",{style:t.commentStyle,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},c.createElement(D.default,{userValue:o,style:t.avatarStyle,format:D.default.Format.AvatarOnly,avatarSize:t.avatarSize,avatarShouldShowShadow:!0}),c.createElement("div",{style:{flexGrow:1,minWidth:0}},c.createElement("div",{style:t.userRowStyle},c.createElement(D.default,{userValue:o,style:{fontWeight:A.default.fontWeight.semibold},format:D.default.Format.FullNameOnly}),c.createElement(L.default,{style:this.getDateStyle()},c.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},n))),c.createElement(U.default,{store:g.getCommentTextStore(this.props.store),disabled:!0,disableDateMentions:!0})),this.renderMenuButton())}},t.prototype.renderMenuButton=function(){var e=this;if(z.default.isLoggedIn()&&!("reader"===this.props.blockStore.getRole())){var t=this.props.discussionStore.getValue(),r=t&&t.comments&&t.comments[0]===this.props.store.id,n=t&&t.context,o=r&&!n,i=t&&t.resolved,l="comment_only"===this.props.blockStore.getRole(),s="reader"===this.props.blockStore.getRole(),d=o&&!f.default.isMobile&&!l&&!s,p=this.stores.mouseStore.state.mouseEntered||this.props.hoveringDiscussion&&o||this.stores.buttonPopupStore.state.open||f.default.isMobile||this.props.alwaysShowResolve&&d,h=this.props.store.getValue();if(h){var m=W.default.state.userStore;if(m){var y=m.id===h.created_by,g=f.default.isMobile||y;if(g||d)return c.createElement(b.default,{popupType:f.default.isMobile?b.default.PopupType.SlideUp:b.default.PopupType.Popup,buttonPopupStore:this.stores.buttonPopupStore,placementToOrigin:b.default.Placement.Right,renderOrigin:function(t){var r,n=d&&c.createElement(Z.default,{isSmall:!0,style:a({},g&&{borderTopRightRadius:0,borderBottomRightRadius:0,marginRight:-1},{color:e.theme.mediumTextColor}),onClick:i?e.handleReopen:e.handleResolve},i?"Re-open":"Resolve"),o=g&&c.createElement(Z.default,a({isSmall:!0,disabled:!p,style:a({},!f.default.isMobile&&d&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},{width:24})},t),v.default.dots({width:14,height:f.default.isMobile?4:3,fill:e.theme.mediumIconColor}));return f.default.isMobile?r={display:"flex",flexShrink:0,marginTop:-2}:(r={display:"flex",flexShrink:0,borderRadius:3,marginTop:-2},e.props.alwaysShowResolve&&d||(r=a({},r,{position:"absolute",marginTop:0,right:0,top:0,opacity:p?1:0,transition:"\n\t\t\t\t\t\t\t\t\topacity\n\t\t\t\t\t\t\t\t\t100ms\n\t\t\t\t\t\t\t\t\tease-out\n\t\t\t\t\t\t\t\t"}))),c.createElement("div",{style:r},n,o)},render:function(t){var r,n=e.props.discussionStore.getValue(),o=n&&n.resolved;r=f.default.isMobile?{menuType:w.default.MenuType.ActionSheet}:{menuType:w.default.MenuType.Popup};var i=[];return l||s||(o?i.push({key:"reopen",render:function(e){return c.createElement(k.default,a({},e,{title:"Re-open Discussion"}))},action:e.handleReopen}):i.push({key:"resolve",render:function(e){return c.createElement(k.default,a({},e,{title:"Resolve Discussion"}))},action:e.handleResolve})),y&&i.push({key:"edit",render:function(e){return c.createElement(k.default,a({},e,{title:"Edit Comment"}))},action:e.handleEditComment}),c.createElement(w.default,a({},r),c.createElement(S.default,{initialFocus:void 0,onAccept:t.close,sections:[{key:0,render:function(e){return c.createElement(_.default,a({},e))},items:u(i,[{key:"delete",render:function(e){return c.createElement(k.default,a({},e,{title:"Delete Comment"}))},action:e.handleDeleteComment}])}]}))}})}}}},t.prototype.deleteComment=function(){var e=this;m.createAndCommit(function(t){p.deleteComment({commentStore:e.props.store,transaction:t,discussionLocation:e.props.discussionLocation})})},t.prototype.getDateStyle=function(){return{fontSize:11,marginLeft:6,marginTop:4,minWidth:0,color:this.theme.lightTextColor}},t.stores={mouseStore:h.default,commentStore:C.default,discussionInputStore:E.default,buttonPopupStore:R.default},t.commentStyle={display:"flex",alignItems:"flex-start",position:"relative",marginBottom:6,fontSize:14},t.avatarStyle={marginRight:8,marginTop:2,userSelect:"none",WebkitUserSelect:"none"},t.avatarSize=20,t.userRowStyle={display:"flex",marginBottom:0,userSelect:"none",WebkitUserSelect:"none"},t}(y.default);t.default=Y},kyq3:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{inputValues:{}}},t}(r("LEzx").default);t.default=a},"l+8X":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,i=r("r8oj"),l=r("rXc8"),s=r("cDZm"),u=r("yjqD"),c=r("6Ydq");i.default.isReactNative||i.default.isCordova?a=new l.default("LocalRecordStore3",!1):i.default.isElectron&&(a=new s.default("LocalRecordStore3",!1));var d=6e4,p=i.default.isMobile?2e3:1e4;!function(){n(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:if(!a)return[3,7];t.label=1;case 1:return[4,u.timeout(d)];case 2:t.sent(),t.label=3;case 3:return t.trys.push([3,5,,6]),[4,a.squeeze(p)];case 4:return t.sent(),[3,6];case 5:return e=t.sent(),c.log({level:"error",from:"initializeEnvironment",type:"LocalStorageSqueezeError",error:e}),[3,6];case 6:return[3,1];case 7:return[2]}})})}(),t.default=a},l2mL:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t}(r("LEzx").default);t.default=new a},l4I2:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("1P/O"),i=r("jZoB"),l=r("nFzZ"),s=r("AmMh"),u=r("6Jq+"),c=r("HTHG");t.canIndent=function(e){if(!e)return!1;var t=u.default.closestList(e,!1),r=t.ancestor,n=t.child;if(r&&n){var a=r.getValue()||[],i=o.map(a,function(e){return r.findChildStore(function(t){return t.id===e})}),l=i[i.indexOf(n)-1];if(l)if(u.default.listsWithin(l)[0])return!0}return!1},t.canUnindent=function(e){if(!e)return!1;var t=u.default.closestList(e,!1),r=t.ancestor&&u.default.closestList(t.ancestor,!1);return Boolean(t.ancestor&&r&&r.ancestor)},t.indent=function(e){var t,r=e.transaction,n=e.blocks,l=n[0],s=!1,c=u.default.closestList(l,!1),d=c.ancestor,p=c.child;if(d&&p){var f=d.getValue()||[],h=o.map(f,function(e){return d.findChildStore(function(t){return t.id===e})}),m=h[h.indexOf(p)-1];if(m){var y=u.default.listsWithin(m);y[0]&&(t=y[0])}}if(t){var g=t.recordStoreParent();if(g&&"block"===g.table){var v=g.getValue();v&&"toggle"===v.type&&a.default.setOpen(v.id,!0)}n=n.map(function(e){var n=e.recordStoreParent();if(n)return i.remove({parent:n,remove:e,transaction:r}),i.append({parent:t,append:e,transaction:r}).child}),s=!0}return{blocks:n,didIndent:s}},t.unindent=function(e){var t=e.transaction,r=e.blocks,n=!1,a=r[0],s=u.default.closestList(a,!1),c=s.ancestor&&u.default.closestList(s.ancestor,!1);if(s.ancestor&&c&&c.ancestor){var d=c.child;r=o.clone(r).reverse(),r=l.compact(r.map(function(e){var r=e.recordStoreParent();if(r&&(i.remove({parent:r,remove:e,transaction:t}),c.ancestor))return i.insertAfter({parent:c.ancestor,insert:e,after:d,transaction:t}).child})),n=!0}return{blocks:r,didUnindent:n}};var d=function(e){var t,r,a=[],i=s.default.getSortedComponents(),l=e.getContentStores(),u=function(e){var t=i.find(function(t){return t.props.store===e});t&&(a=o.union(a,function e(t,r){var a,i,l=[],s=t.props.store;if(t.props.canDropAbove&&p(s)){var u=s.recordStoreParent();u&&l.push({parent:u})}var c=r.filter(function(e){return e.getContextClosestSelectable()===t});try{for(var d=n(c),f=d.next();!f.done;f=d.next()){var h=f.value;l=o.union(l,e(h,r))}}catch(e){a={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}if(t.props.canDropBelow&&p(s)){var m=s.recordStoreParent();m&&(m.id===s.id?l.push({parent:m}):l.push({parent:m,after:s}))}return l}(t,i)))};try{for(var c=n(l),d=c.next();!d.done;d=c.next()){u(d.value)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return a},p=function(e){return"collection"!==e.getParentTable()},f=function(e){var t,r,a=e.blocks,l=e.listPosition,s=e.transaction,u=o.clone(a).reverse();try{for(var c=n(a),d=c.next();!d.done;d=c.next()){var p=d.value,f=p.recordStoreParent();f&&i.remove({parent:f,remove:p,transaction:s})}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return l.after?u.map(function(e){return i.insertAfter({insert:e,after:l.after,parent:l.parent,transaction:s}).child}):u.map(function(e){return i.prepend({prepend:e,parent:l.parent,transaction:s}).child})};t.moveUp=function(e){var t=e.transaction,r=e.blocks,n=r[0];if(n){var a=c.getCurrentRootStore();if(a){var i=d(a),l=o.findIndex(i,function(e){return e.parent===n.recordStoreParent()&&e.after===n}),s=o.findLastIndex(i,function(e,t){return t<l&&e.parent===n.recordStoreParent()}),u=o.findLast(i,function(e,t){return t<s&&!n.contains(e.parent)});if(u)return f({blocks:r,listPosition:u,transaction:t})}}},t.moveDown=function(e){var t=e.transaction,r=e.blocks,n=o.last(r);if(n){var a=c.getCurrentRootStore();if(a){var i=d(a),l=o.findIndex(i,function(e){return e.parent===n.recordStoreParent()&&e.after===n}),s=i.find(function(e,t){return t>l&&!n.contains(e.parent)});if(s)return f({blocks:r,listPosition:s,transaction:t})}}}},l8Zq:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("wldR"),c=r("4VgC"),d=r("yNyh"),p=r("G4GV"),f=r("IYZQ"),h=r("bkwR"),m=r("VBxf"),y=r("qqdV"),g=r("zmp8"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDownloadInputChange=function(e){t.stores.inputStore.setState(a({},t.stores.inputStore.state,{inputValue:e.target.value}))},t.handleDownloadInputSubmit=function(){return i(t,void 0,void 0,function(){var e,t=this;return l(this,function(r){switch(r.label){case 0:return e=this.stores.inputStore.state.inputValue,[4,h.sendMobileAppLink({phoneNumber:e})];case 1:return"success"===r.sent().type?m.showDialog({message:"Link sent! Check your phone 👀",showCancel:!1,keepFocus:!1,items:[{label:"Okay",onAccept:function(){t.props.handleClose&&t.props.handleClose()}}]}):m.showError({error:new Error("Please enter a valid number 🙅")}),[2]}})})},t}return o(t,e),t.prototype.renderComponent=function(){return s.createElement("div",{style:t.wrapStyle},s.createElement("div",{style:{display:"flex"}},s.createElement(d.default,{type:"phone",value:this.stores.inputStore.state.inputValue,onChange:this.handleDownloadInputChange,placeholder:"Enter your phone number",style:{flex:"1",background:g.default.white},onSubmit:this.handleDownloadInputSubmit}),s.createElement(c.default,{style:{marginLeft:8},onClick:this.handleDownloadInputSubmit},"Send App Link")),s.createElement("div",{style:t.captionStyle},"You'll receive the link to the"," ",s.createElement(f.default,{external:!0,href:y.appStore},"Apple App Store")," ","or"," ",s.createElement(f.default,{external:!0,href:y.playStore},"Google Play Store"),". No spam."))},t.stores={inputStore:p.default},t.wrapStyle={width:"100%",maxWidth:510},t.captionStyle={fontSize:14,marginTop:12,marginLeft:4,color:g.default.FrontBaseGrayTextColor},t}(u.default);t.default=v},lBar:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("r8oj"),o={auto:!0,scroll:!0};function a(e){return e instanceof HTMLElement?e:e.parentElement?e.parentElement:void 0}t.getHTMLElement=a,t.getVerticalScrollableAncestor=function(e){var r=a(e);if(r)return t.getScrollableAncestorWithClassName(r,"vertical")},t.getHorizontalScrollableAncestor=function(e){var r=a(e);if(r)return t.getScrollableAncestorWithClassName(r,"horizontal")},t.getScrollableAncestors=function(e){var t=e,r=[];do{var n=window.getComputedStyle(t);n&&(n.overflow&&o[n.overflow]||n.overflowY&&o[n.overflowY]||n.overflowX&&o[n.overflowX])&&r.push(t),t=t.parentElement}while(t);return r},t.scrollElIntoView=function(e,r){void 0===r&&(r=8);var n=t.getVerticalScrollableAncestor(e);if(n&&n.getBoundingClientRect){var o=e.getBoundingClientRect(),a=n.getBoundingClientRect();o.top<a.top?n.scrollTop=n.scrollTop-(a.top-o.top)-r:o.bottom>a.bottom&&(n.scrollTop=n.scrollTop+(o.bottom-a.bottom)+r)}},t.scrollElToTop=function(e,r){void 0===r&&(r=0);var n=t.getVerticalScrollableAncestor(e);if(n&&n.getBoundingClientRect){var o=e.getBoundingClientRect(),a=n.getBoundingClientRect();n.scrollTop=n.scrollTop-(a.top-o.top)-r}},t.getScrollableAncestorWithClassName=function(e,t){if(e){var r=e;if(r)do{var n=window.getComputedStyle(r);if(r.classList&&r.classList.contains("notion-scroller")&&r.classList.contains(t)||n&&n.overflowY&&o[n.overflowY])return r;r=r.parentElement||void 0}while(r);return document.body}},t.browserSupportsPositionSticky=function(){return n.default.isChrome||n.default.isElectron}},lCCU:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("MeYt"),u=r("Sb6f"),c=r("enKW"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.caption,r=e.hasBackground;return i.createElement(s.default,{onClick:this.props.onClick,style:this.getButtonStyle(),mobileFeedback:this.props.mobileFeedback,className:this.props.className,disabled:this.props.disabled,disabledFeedback:!0,hoveredStyle:a({},r&&{background:this.theme.whiteButtonHoveredBackground}),pressedStyle:a({},r&&{background:this.theme.whiteButtonPressedBackground}),onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.icon(this.getIconStyle()),t&&i.createElement("div",{style:this.getCaptionStyle()},t))},t.prototype.getButtonStyle=function(){var e=this.props,t=e.caption,r=e.showShadow,n=e.hasBackground;return a({display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,borderRadius:3,height:24,width:t?"none":24,padding:t?"0 6px":0},n&&{background:this.theme.whiteButtonBackground},r&&{boxShadow:c.getShadow({elevation:2,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity})},this.props.style)},t.prototype.getIconStyle=function(){return{width:14,height:14,fill:this.props.isDarkIconColor?this.theme.regularIconColor:this.theme.mediumIconColor}},t.prototype.getCaptionStyle=function(){return{fontSize:12,fontWeight:u.default.fontWeight.medium,textTransform:"uppercase",letterSpacing:.5,color:this.theme.mediumTextColor,marginLeft:4}},t}(l.default);t.default=d},lEhh:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("r8oj"),u=r("zmp8"),c=r("MeYt"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(c.default,{onClick:this.props.onClick,disabled:this.props.disabled,disabledFeedback:!0,style:{borderRadius:44}},i.createElement("div",{style:this.getStyle()},i.createElement("div",{style:this.getCircleStyle()})))},t.prototype.getCircleSpacing=function(){void 0===this.props.isMobile?s.default.isMobile:this.props.isMobile;return this.props.isAndroid?0:2},t.prototype.getStyle=function(){var e=void 0===this.props.isMobile?s.default.isMobile:this.props.isMobile,t=this.props,r=t.isAndroid,n=t.on,o=this.theme.mode,i="dark"===o;return a({display:"flex",flexShrink:0,height:(r?14:e?26:18)-2*this.getCircleSpacing(),width:(r?38:e?44:30)-2*this.getCircleSpacing(),borderRadius:44,padding:this.getCircleSpacing(),boxSizing:"content-box",background:n?r?u.default.blueWithAlpha(.3):u.default.blue:r?u.grayscale[o].gray.alpha(.4).css():e?u.default.transparent:i?u.grayscale[o].lightgray.alpha(.3).css():u.grayscale[o].gray.alpha(.3).css(),boxShadow:n||r||!e?"":"inset 0 0 0 1px "+this.theme.darkDividerColor,transition:"background 200ms, box-shadow 200ms"},this.props.disabled&&{cursor:"default"})},t.prototype.getCircleStyle=function(){var e=void 0===this.props.isMobile?s.default.isMobile:this.props.isMobile,t=this.props,r=t.isAndroid,n=t.on,o=this.theme.shadowColor,a=this.theme.shadowOpacity;return{width:(r?22:e?26:18)-2*this.getCircleSpacing(),height:(r?22:e?26:18)-2*this.getCircleSpacing(),borderRadius:44,background:r&&n?u.default.blue:u.default.white,transition:"transform 200ms ease-out, background 200ms ease-out",transform:"\n\t\t\t\ttranslateX("+(this.props.on?(r?18:e?22:16)-2*this.getCircleSpacing():0)+"px)\n\t\t\t\ttranslateY(-"+(r?4:0)+"px)\n\t\t\t",boxShadow:r?"\n\t\t\t\t\t0 1px 3px "+o.alpha(2*a).css()+",\n\t\t\t\t\t0 6px 20px "+o.alpha(3*a).css()+"\n\t\t\t\t":e?"\n\t\t\t\t\t\t0 0 0 0.5px "+o.alpha(a).css()+",\n\t\t\t\t\t\t0 3px 8px 0 "+o.alpha(a).css()+",\n\t\t\t\t\t\t0 1px 1px 0 "+o.alpha(a).css()+",\n\t\t\t\t\t\t0 3px 1px 0 "+o.alpha(a).css()+"\n\t\t\t\t\t":void 0}},t}(l.default);t.default=d},lIq7:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("FcJC"),l=r("szb2"),s=r("EZe4"),u=r("wldR"),c=r("QcDD"),d=r("dccM"),p=r("UcZb"),f=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.handleWindowMouseMove=function(e){s.default({event:e,context:s.EventContext.SidebarMouseMove,callback:function(){if(r.updatePageViewRectThrottled(),r.cachedPageViewRect){var n=t.sidebarMinTriggerWidth,o=t.sidebarOpenWidthPercent,a=p.default.state,s=a.open,u=a.width,c=e.clientX,d=r.cachedPageViewRect.left,f=Math.max(d*o,n);c<f&&!l.default.state.open&&!s&&i.open(),c>u&&c>f&&s&&i.close()}}})},r.handleWindowMouseOut=function(e){e.toElement||e.relatedTarget||i.close()},r.updatePageViewRectThrottled=a.throttle(r.updatePageViewRect,500),r}return o(t,e),t.prototype.didMount=function(){window.addEventListener("mousemove",this.handleWindowMouseMove),window.addEventListener("mouseout",this.handleWindowMouseOut)},t.prototype.willUnmount=function(){window.removeEventListener("mousemove",this.handleWindowMouseMove),window.removeEventListener("mouseout",this.handleWindowMouseOut)},t.prototype.updatePageViewRect=function(){var e=this.getPageViewWrapEl();this.cachedPageViewRect=e?e.getBoundingClientRect():document.body.getBoundingClientRect()},t.prototype.getPageViewWrapEl=function(){var e=c.default.state.currentBlockStore,t=d.default.findComponent(function(t){return t.props.store===e});if(t){var r=t.getContentWrapEl();if(r)return r}},t.sidebarOpenWidthPercent=.38,t.sidebarMinTriggerWidth=18,t}(u.default);t.default=f},"lKX+":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},l=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var u=r("LvDl"),c=r("8L2b"),d=r("wpmu"),p=r("bPtJ"),f=r("G4cA"),h=r("nFzZ"),m=r("hbKx"),y=r("AXh+"),g=r("7TLZ"),v=r("3U9E"),b=r("5ma9"),w=function(e){function t(t,r){return e.call(this,c.default.table,t,[],r)||this}return o(t,e),t.createChildStore=function(e,r){var n=p.default.getChildStoreKey(c.default.table,r,t.keyName),o=e.getRecordStoreChildStore(n),a=o||new t(r,e.recordCacheStore);return o||a.setRecordStoreParent(e,n),a},t.prototype.clone=function(){return new t(this.id,this.recordCacheStore)},t.prototype.getSpaceId=function(){var e=this.getValue();if(e&&e.space_id)return e.space_id},t.prototype.getSpaceStore=function(){var e=this.getSpaceId();if(e)return f.default.createChildStore(this,e)},t.prototype.getBookmarkedPageIds=function(){var e=this.getValue();return e&&e.bookmarked_pages?e.bookmarked_pages:[]},t.prototype.getBookmarkedPagesStore=function(){return p.createRecordKeyStore(this,c.default.table,this.id,"bookmarked_pages")},t.prototype.getBookmarkedPagesStores=function(){var e=this.getBookmarkedPagesStore(),t=e.getValue();return t?t.map(function(t){return d.default.createChildStore(e,t)}):[]},t.prototype.getBookmarkedPages=function(){return this.getBookmarkedPagesStores().filter(function(e){return e.isNavigableBlock()&&e.hasValue()})},t.prototype.getSharedPages=function(){var e=this.getSpaceStore();if(e){var t=v.default.state.sharedPages||[],r=this.getSharedPagesStores(),n=e.getPagesStores(),o=n.filter(function(e){return e.canRead()}),a=n.filter(function(e){return e.isTopLevelSharedPage()}),i=h.compact(t.map(function(t){var r=d.default.createChildStore(e,t.id),n=m.getNavigableRootAncestor(r),a=m.getSpace(r),i=a?a.id:t.spaceId,l=Boolean(n&&o.find(function(e){return e.id===n.id}));if(g.areAncestorsLoaded(r)&&i===e.id&&r.canRead()&&r.isNavigableBlock()&&(r.isSharedWithCurrentUserViaExplicitPermission()||r.isSharedWithCurrentUserViaPermissionGroup(e))&&!m.blockIsDeleted(r)&&!l&&(!r.isTopLevel()||!e.canRead()))return r})),l=u.uniqBy(u.union(i,a),function(e){return e.id});return u.sortBy(l,function(e){var t=r.findIndex(function(t){return t.id===e.id});return t>=0?t:1/0})}return[]},t.prototype.getWorkspacePages=function(){var e=this.getSpaceStore();return e?e.getPagesStores().filter(function(t){return t.isTopLevelWorkspacePage(e.id)}):[]},t.prototype.getPrivatePages=function(){var e=this.getSpaceStore();return e?e.getPagesStores().filter(function(t){return t.isTopLevelPrivatePage(e.id)}):[]},t.prototype.getFirstPageStore=function(){return a(this,void 0,void 0,function(){var e,t,r,n;return i(this,function(o){switch(o.label){case 0:return e=this.getSpaceStore(),[4,this.load()];case 1:return o.sent(),e?this.hasRemoteSharedPages()?[3,3]:[4,b.refreshUserSharedPages()]:[3,5];case 2:o.sent(),o.label=3;case 3:return t=v.default.state.sharedPages||[],r=h.compact(t.map(function(t){var r=t.id;if(t.spaceId===e.id)return d.default.createChildStore(e,r)})),[4,Promise.all([e.load(),Promise.all(this.getBookmarkedPagesStores().map(function(e){return e.load()})),Promise.all(e.getPagesStores().map(function(e){return e.load()})),Promise.all(this.getSharedPagesStores().map(function(e){return e.load()})),Promise.all(r.map(function(e){return e.load()}))])];case 4:return o.sent(),n=s(this.getBookmarkedPages(),this.getWorkspacePages(),this.getSharedPages(),this.getPrivatePages(),r),[2,n.filter(function(e){return!y.userHasPermissionViaPublicAccess(e)})[0]];case 5:return[2]}})})},t.prototype.getSharedPageIds=function(){var e=this.getValue();return e&&e.shared_pages?e.shared_pages:[]},t.prototype.getSharedPagesStore=function(){return p.createRecordKeyStore(this,c.default.table,this.id,"shared_pages")},t.prototype.getSharedPagesStores=function(){var e=this.getSharedPagesStore(),t=e.getValue();return t?t.map(function(t){return d.default.createChildStore(e,t)}):[]},t.prototype.getVisitedTemplateIds=function(){var e=this.getValue();return e&&e.visited_templates?e.visited_templates:[]},t.prototype.getSidebarHiddenTemplateIds=function(){var e=this.getValue();return e&&e.sidebar_hidden_templates?e.sidebar_hidden_templates:[]},t.prototype.hasRemoteSharedPages=function(){var e=this.getSpaceId();if(!e)return!1;var t=v.default.state.sharedPages||[];return Boolean(t.find(function(t){return t.spaceId===e}))},t.keyName="SpaceViewStore",t}(p.default);t.default=w},lOyx:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("LvDl"),c=r("r8oj"),d=r("t+pW"),p=r("p9gS"),f=r("nFzZ"),h=r("Pl3d"),m=r("bkwR"),y=r("hU3F"),g=r("wlCD"),v=r("cYwG"),b=r("bPtJ"),w=r("6CqZ"),S=r("QcDD"),_=r("vJXr"),k=r("JuT7"),C=r("5Nka"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleActivityEmit=function(e){t.stores.checkpoint.set(Math.random())},t.handleActivityEmitThrottled=u.throttle(t.handleActivityEmit,1e3),t.handleSpaceEmit=f.ignoreFirst(t.handleActivityEmitThrottled),t.handleNavigableBlockEmit=f.ignoreFirst(t.handleActivityEmitThrottled),t.handleCollectionEmit=f.ignoreFirst(t.handleActivityEmitThrottled),t}return o(t,e),t.prototype.willMount=function(){this.startMessageListeners()},t.prototype.willUnmount=function(){this.stopMessageListeners()},t.prototype.renderComponent=function(){return _.default.state.online?this.renderOnline():this.renderOffline()},t.prototype.renderOffline=function(){return s.createElement("div",{style:this.getContentStyle()},s.createElement("div",{style:{marginTop:64,textAlign:"center"}},s.createElement("img",{src:C.default.images.updatesEmptyStatePng,width:32}),s.createElement("div",{style:{fontSize:14,color:this.theme.mediumTextColor,marginTop:4}},"Please go online to view updates.")))},t.prototype.renderOnline=function(){var e=this,t=S.default.state,r=t.userStore,n=t.currentSpaceStore;if(r&&n){var o=n,a=this.stores.offset.get(),u=this.stores.size.get(),c=this.stores.checkpoint.get(),d=this.props,y=d.spaceId,g=d.navigableBlockId,_=d.collectionId,k=d.source;return s.createElement(h.default,{throttle:1e3,request:{spaceId:y,navigableBlockId:g,collectionId:_,size:u,offset:a,checkpoint:c},performRequest:function(t){var r=t.spaceId,n=t.navigableBlockId,a=t.collectionId,s=t.size,u=t.offset;return i(e,void 0,void 0,function(){var e,t,i,c;return l(this,function(l){switch(l.label){case 0:e=20,l.label=1;case 1:return[4,m.getActivityLog({spaceId:r,navigableBlockId:n,collectionId:a,size:u+e})];case 2:if("failed"===(t=l.sent()).type)throw t.error;return i=t.data.activityIds,c=f.compact(i.map(function(e){var t=b.createRecordStore(o,w.default.table,e).getValue();if(t&&!t.invalid)return t})),i.length<u+e||c.length>=s?[2,{incrementOffset:e,activityIds:i,activities:c}]:(e+=20,[3,1]);case 3:return[2]}})})},render:function(t,r,n){if(t)return s.createElement("div",{style:e.errorStyle()},"Something went wrong.");if(!r)return s.createElement("div",{style:e.getContentStyle()},e.renderSpinner());var i=r.incrementOffset,l=r.activityIds,u=r.activities;return s.createElement("div",{style:e.getContentStyle()},s.createElement("div",null,0===u.length&&e.props.empty,u.map(function(t,r,n){var a=n.length-1===r;return s.createElement(p.default,{key:t.id,activity:t,rootStore:o,isLast:a,unread:!1,unvisited:!1,analyticsContext:e.props.analyticsContext,isTopbarUpdatesMenu:e.props.isTopbarUpdatesMenu,source:k})})),s.createElement(v.default,{onChange:function(t){t<200&&n&&r&&l.length>=a+i&&(e.stores.size.set(u.length+20),e.stores.offset.set(a+i))}},!n&&e.renderSpinner()))}})}},t.prototype.renderSpinner=function(){return s.createElement("div",{style:t.spinnerWrapStyle},s.createElement(g.default,null))},t.prototype.startMessageListeners=function(){var e=this.props,t=e.spaceId,r=e.navigableBlockId,n=e.collectionId;if(!t||r||n){if(r){var o=w.getMessageKey(r);this.navigableBlockListenerReference=k.default.addListener(o,this.handleNavigableBlockEmit,void 0)}if(n){var a=w.getMessageKey(n);this.collectionListenerReference=k.default.addListener(a,this.handleCollectionEmit,void 0)}}else{var i=w.getMessageKey(t);this.spaceListenerReference=k.default.addListener(i,this.handleSpaceEmit,void 0)}},t.prototype.stopMessageListeners=function(){this.spaceListenerReference&&(k.default.removeListener(this.spaceListenerReference),this.spaceListenerReference=void 0),this.navigableBlockListenerReference&&(k.default.removeListener(this.navigableBlockListenerReference),this.navigableBlockListenerReference=void 0),this.collectionListenerReference&&(k.default.removeListener(this.collectionListenerReference),this.collectionListenerReference=void 0)},t.prototype.getContentStyle=function(){return{minHeight:c.default.isMobile?void 0:"75vh",paddingBottom:12}},t.prototype.errorStyle=function(){return a({},this.getContentStyle(),{paddingLeft:16,paddingRight:16,paddingTop:24,color:this.theme.mediumTextColor,fontSize:c.default.isMobile?16:14,textAlign:"center"})},t.stores={offset:y.default.of(0),size:y.default.of(20),checkpoint:y.default.of(Math.random())},t.spinnerWrapStyle={display:"flex",alignItems:"center",justifyContent:"center",paddingTop:12,paddingBottom:12},t}(d.default);t.default=E},lP6X:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("q1tI"),l=r("wldR"),s=r("/Zir"),u=r("WDpx"),c=r("pAJP"),d=r("xVnP"),p=r("tmfq"),f=r("NV/j"),h=r("am2B"),m=r("qFEu"),y=r("DT29"),g=r("mDQS"),v=r("4NII"),b=r("5Nka"),w=r("zmp8"),S=r("Sb6f"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.websiteItems=[{title:"Wikipedia",logo:b.default.front.webClipper.logos.wikipediaPng},{title:"NYT",logo:b.default.front.webClipper.logos.nytimesPng},{title:"Twitter",logo:b.default.front.webClipper.logos.twitterPng},{title:"Instagram",logo:b.default.front.webClipper.logos.instagramPng},{title:"Pinterest",logo:b.default.front.webClipper.logos.pinterestPng},{title:"And more...",logo:b.default.front.webClipper.logos.morePng}],t.renderWebsiteLogo=function(e,t){return a.createElement("div",{key:t,style:{display:"flex",flexDirection:"column",alignItems:"center",marginLeft:0===t?0:v.default()?16:24,marginTop:v.default()?18:0}},a.createElement("img",{src:e.logo,style:v.default()?{width:36,height:36}:{width:42,height:42}}),a.createElement("div",{style:{fontSize:v.default()?12:14,textAlign:"center",color:w.default.FrontGrayTextColor,marginTop:6}},e.title))},t}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(u.default,{title:"Notion - Web clipper for Chrome and mobile"},a.createElement(s.default,{hideProductLink:!0,hidePricingLink:!0,analyticsName:"web_clipper"},this.renderHero(),this.renderHeroCallToAction(),this.renderDesktopFeatures(),this.renderMobileFeatures(),this.renderFavoriteWebsites(),this.renderCallToActionWithTweets()))},t.prototype.renderHero=function(){return a.createElement(i.Fragment,null,a.createElement(c.default,{name:"web_clipper_hero"}),a.createElement("img",{src:b.default.front.webClipper.webClipperHeroIllustrationPng,style:this.getHeroImageStyle()}),a.createElement("div",null,a.createElement(p.default,{title:"Notion Web Clipper",subtitle:a.createElement(i.Fragment,null,"Now you can save any page on the web to Notion. ",!v.default()&&a.createElement("br",null),"Capture and organize your clips, and we'll help you turn them into action.")})))},t.prototype.renderHeroCallToAction=function(){return a.createElement("div",{style:this.getCallToActionWrapStyle()},a.createElement(f.default,{format:f.default.Format.WebClipper,analyticsName:"web_clipper"}))},t.prototype.renderDesktopFeatures=function(){return a.createElement(i.Fragment,null,a.createElement(c.default,{name:"web_clipper_desktop_features"}),a.createElement(y.default,{title:"On Desktop",caption:"One click to clip anything and view in Notion, online or off."}),a.createElement(h.default,{format:h.default.Format.Four,features:t.featuresItems}))},t.prototype.renderMobileFeatures=function(){return a.createElement(i.Fragment,null,this.renderDivider(),a.createElement(c.default,{name:"web_clipper_mobile_features"}),a.createElement(y.default,{title:"On iOS & Android",caption:"Mobile app comes with built-in web clipper."}),a.createElement("div",{style:this.getMobileSectionWrapStyle()},a.createElement("div",{style:{width:t.mobileChromeWidth,marginRight:v.default()?0:36,marginBottom:v.default()?36:0}},this.renderMobileScreenshotCaption("Save anything with just two taps.","Now the share options in Chrome include saving to Notion."),a.createElement(m.default,{format:m.default.Format.IPhone,style:this.getMobileChromeStyle()},a.createElement("img",{src:b.default.front.webClipper.shareSheetBeforePng,style:t.mobileScreenshotStyle}))),a.createElement("div",{style:{width:t.mobileChromeWidth}},this.renderMobileScreenshotCaption("Make it part of your flow.","Tag whatever you save, so you can easily find and use it later."),a.createElement(m.default,{format:m.default.Format.IPhone,style:this.getMobileChromeStyle()},a.createElement("img",{src:b.default.front.webClipper.shareSheetAfterPng,style:t.mobileScreenshotStyle})))))},t.prototype.renderMobileScreenshotCaption=function(e,r){return a.createElement("div",{style:t.mobileScreenshotCaptionStyle},a.createElement("div",{style:{fontWeight:S.default.fontWeight.semibold}},e),a.createElement("div",{style:{color:w.default.FrontGrayTextColor}},r))},t.prototype.renderFavoriteWebsites=function(){return a.createElement(i.Fragment,null,a.createElement(c.default,{name:"web_clipper_websites"}),a.createElement(y.default,{title:"Put the whole Web into Notion",caption:"Notion's Web Clipper supports the internet's top sites.",topDivider:!0}),this.renderWebsiteLogos(),this.renderDesktopScreenshot())},t.prototype.renderDesktopScreenshot=function(){return a.createElement("img",{style:{width:820,maxWidth:"100%"},src:b.default.front.webClipper.favoriteWebsitesPng})},t.prototype.renderWebsiteLogos=function(){return a.createElement("div",{style:{display:"flex",flexDirection:v.default()?"column":"row",flexWrap:v.default()?"nowrap":"wrap",justifyContent:"center",marginBottom:24}},v.default()?a.createElement(i.Fragment,null,a.createElement("div",{style:{display:"flex",justifyContent:"center"}},this.websiteItems.slice(0,3).map(this.renderWebsiteLogo)),a.createElement("div",{style:{display:"flex",justifyContent:"center"}},this.websiteItems.slice(3).map(this.renderWebsiteLogo))):this.websiteItems.map(this.renderWebsiteLogo))},t.prototype.renderTweetsCallToAction=function(){return v.default()?a.createElement("div",null,a.createElement(f.default,{format:f.default.Format.Mobile,analyticsName:"web_clipper"})):a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.createElement(d.default,{analyticsName:"web_clipper"}),a.createElement("div",{style:t.callToActionSeparatorStyle}),a.createElement(f.default,{format:f.default.Format.WebClipper,analyticsName:"web_clipper"}))},t.prototype.renderCallToActionWithTweets=function(){return a.createElement(i.Fragment,null,a.createElement(y.default,{title:"New to Notion? It’s easy to get started",topDivider:!0}),this.renderTweetsCallToAction(),a.createElement(g.default,{scrollPoint:"twitter_testimonials"}))},t.prototype.renderDivider=function(){return a.createElement("div",{style:{width:"100%",height:1,background:w.default.frontBorderColor,marginTop:v.default()?32:48,marginBottom:v.default()?32:96}})},t.prototype.getHeroImageStyle=function(){return{maxHeight:v.default()?220:270,maxWidth:"100%"}},t.prototype.getCallToActionWrapStyle=function(){return{display:"flex",alignItems:"center",justifyContent:"center",marginTop:v.default()?18:24,marginBottom:v.default()?42:64}},t.prototype.getMobileSectionWrapStyle=function(){return{display:"flex",flexDirection:v.default()?"column":"row",alignItems:v.default()?"center":"flex-start"}},t.prototype.getMobileChromeStyle=function(){return{width:270}},t.featuresItems=[{header:"Save it with one click",caption:"Just hit the Notion logo to save any page you’re on.",image:b.default.front.webClipper.desktop01Png},{header:"Choose its destination",caption:"Give it a home in Notion using the dropdown.",image:b.default.front.webClipper.desktop02Png},{header:"Make it actionable",caption:"Add notes, share it, make it a task. Every item can be tagged, assigned and more.",image:b.default.front.webClipper.desktop03Png},{header:"Stay organized",caption:"Keep a database of your clips for future reference and projects.",image:b.default.front.webClipper.desktop04Png}],t.mobileChromeWidth=270,t.callToActionSeparatorStyle={width:1,height:24,flexShrink:0,marginLeft:24,marginRight:24,background:w.default.FrontDividerColor},t.mobileScreenshotStyle={width:"100%",borderRadius:3},t.mobileScreenshotCaptionStyle={fontSize:14,textAlign:"center",margin:"0 auto",width:"90%",marginBottom:24},t}(l.default);t.default=_},lUWv:function(e,t,r){"use strict";var n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("ZYTv"),u=r("tvfY"),c=r("7Q97"),d=r("mF3+"),p=r("MeYt"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderComponent=function(){var e=t.styles[this.props.format].avatarSize,r=this.getUserValue();return i.createElement("div",{style:this.getStyle()},i.createElement(s.default,{inline:!0,userValue:r,format:this.props.format===t.Format.Inline?s.default.Format.AvatarOnly:s.default.Format.Default,avatarSize:e,disableAvatarTooltip:this.props.disableAvatarTooltip,avatarShouldShowShadow:this.props.format===t.Format.Inline}),this.renderRemoveButton())},t.prototype.renderRemoveButton=function(){var e=t.styles[this.props.format],r=e.height,n=e.closeIconSize;if(this.props.showRemoveButton)return i.createElement(p.default,{onClick:this.props.onClickRemove,style:{display:"flex",alignItems:"center",justifyContent:"center",width:r,height:r,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:3}},d.default.closeThick({width:n,height:n,opacity:.5}))},t.prototype.getUserValue=function(){return u.default.createChildStore(this.props.parentStore,this.props.userId).getValue()},t.prototype.getStyle=function(){var e=this.props,r=e.format,n=e.isSingle,o=e.showRemoveButton,a=e.shouldShrink,i=t.styles[r],l=i.height,s=i.fontSize,u=i.margin,c=i.marginEditState;return{display:"flex",alignItems:"center",flexShrink:a?1:0,minWidth:0,height:l,borderRadius:3,fontSize:s,lineHeight:"120%",margin:n?0:o?c:u}},t.Format=c.TokenFormat,t.styles=((o={})[c.TokenFormat.ExtraSmall]={height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},o[c.TokenFormat.Small]={height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:16},o[c.TokenFormat.Medium]={height:18,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},o[c.TokenFormat.Inline]={height:18,fontSize:14,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:20},o[c.TokenFormat.Large]={height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:10,avatarSize:20},o),t}(l.default);t.default=f},lfst:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.findCollectionTemplatePickerItemFromStore=function(e){if(e)return this.findComponent(function(t){return t.props.templateStore===e})},t}(r("Uv1v").default);t.default=new a},lgA4:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("t+pW"),u=r("bsBB"),c=r("tvfY"),d=r("QcDD"),p=r("RqMp"),f=r("6BTz"),h=r("H4VD"),m=r("y6Dp"),y=r("mF3+"),g=r("zmp8"),v=r("Sb6f"),b=r("d9nj"),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleImportActionClick=function(){p.default.setState({open:!0}),m.trackCreditItemActionClick({type:"import_evernote"})},t.handleWebActionClick=function(){h.navigateToExternalURL({url:"/product"}),m.trackCreditItemActionClick({type:"web_login"})},t.handleDesktopActionClick=function(){h.navigateToExternalURL({url:"/desktop"}),m.trackCreditItemActionClick({type:"desktop_login"})},t.handleMobileActionClick=function(){h.navigateToExternalURL({url:"/mobile"}),m.trackCreditItemActionClick({type:"mobile_login"})},t.handleBrowserExtensionActionClick=function(){h.navigateToExternalURL({url:"/web-clipper"}),m.trackCreditItemActionClick({type:"browser_extension"})},t.handleMobileShareSheetActionClick=function(){h.navigateToExternalURL({url:"/mobile"}),m.trackCreditItemActionClick({type:"mobile_share_sheet"})},t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{style:this.getWrapperStyle()},i.createElement("div",{style:{flex:0}},this.renderLeft()),i.createElement("div",{style:this.getCenterStyle()},i.createElement("div",null,this.renderTitle()),i.createElement("div",{style:this.getCaptionStyle()},this.renderCaption())),i.createElement("div",{style:{flex:0}},this.renderRight()))},t.prototype.renderTitle=function(){var e=this.props.credit;if("invited_user"===e.type){var t=(r=this.getUserStore(e.to_user_id)).getValue();return i.createElement(l.Fragment,null,i.createElement(u.default,{format:u.UserFormat.FullNameOnly,userValue:t,style:{display:"inline-flex"}}),!e.activated&&t&&!t.onboarding_completed&&i.createElement("div",{style:{display:"inline-flex",color:this.theme.mediumTextColor}}," (has not signed up)"),!e.activated&&t&&t.onboarding_completed&&i.createElement("div",{style:{display:"inline-flex",color:this.theme.mediumTextColor}}," (has already signed up)"))}if("invited_by_user"===e.type){var r=this.getUserStore(e.from_user_id);return i.createElement(l.Fragment,null,i.createElement(u.default,{format:u.UserFormat.FullNameOnly,userValue:r.getValue(),style:{display:"inline-flex"}}),i.createElement("div",{style:{display:"inline-flex",color:this.theme.mediumTextColor}}," (invited you)"))}return"import_evernote"===e.type?"Import from Evernote":"web_login"===e.type?"Log in on the Web":"desktop_login"===e.type?"Log in on the Desktop App":"mobile_login"===e.type?"Log in on the Mobile App":"browser_extension"===e.type?"Use the Web Clipper":"mobile_share_sheet"===e.type?"Use the iOS or Android System Share Menu":void 0},t.prototype.renderCaption=function(){var e=this.props.credit;if("invited_user"===e.type){var t=this.getUserStore(e.to_user_id);return i.createElement(u.default,{format:u.UserFormat.EmailOnly,userValue:t.getValue()})}if("invited_by_user"===e.type){t=this.getUserStore(e.from_user_id);return i.createElement(u.default,{format:u.UserFormat.EmailOnly,userValue:t.getValue()})}return"import_evernote"===e.type?"Import your notes and notebooks":"web_login"===e.type?"Sign in to Notion from any web browser":"desktop_login"===e.type?"Download the desktop app and sign in":"mobile_login"===e.type?"Download the mobile app and sign in":"browser_extension"===e.type?"Download the Chrome Extension and save a link":"mobile_share_sheet"===e.type?"Use the share menu to save a link into Notion":void 0},t.prototype.renderLeft=function(){var e=this.props.credit;if("invited_user"===e.type){var t=this.getUserStore(e.to_user_id);return i.createElement(u.default,{format:u.UserFormat.AvatarOnly,userValue:t.getValue(),style:{marginRight:8},avatarSize:24})}if("invited_by_user"===e.type){t=this.getUserStore(e.from_user_id);return i.createElement(u.default,{format:u.UserFormat.AvatarOnly,userValue:t.getValue(),style:{marginRight:8},avatarSize:24})}return"import_evernote"===e.type?y.default.evernoteLogo(this.getIconStyle()):"web_login"===e.type?y.default.logInWeb(this.getIconStyle()):"desktop_login"===e.type?y.default.deviceDesktop(this.getIconStyle()):"mobile_login"===e.type?y.default.deviceMobile(this.getIconStyle()):"browser_extension"===e.type?y.default.googleChrome(this.getIconStyle()):"mobile_share_sheet"===e.type?y.default.deviceMobileShareSheet(this.getIconStyle()):void 0},t.prototype.renderRight=function(){var e,t=this.props.credit;return"import_evernote"===t.type?e={text:"Connect",onClick:this.handleImportActionClick}:"web_login"===t.type?e={text:"Visit",onClick:this.handleWebActionClick}:"desktop_login"===t.type?e={text:"Download",onClick:this.handleDesktopActionClick}:"mobile_login"===t.type?e={text:"Download",onClick:this.handleMobileActionClick}:"browser_extension"===t.type?e={text:"Install",onClick:this.handleBrowserExtensionActionClick}:"mobile_share_sheet"===t.type&&(e={text:"Download",onClick:this.handleMobileShareSheetActionClick}),i.createElement("div",{style:{display:"flex",alignItems:"center"}},e&&!t.activated&&i.createElement(b.default,{isBlue:!0,isSmall:!0,onClick:e.onClick},e.text),i.createElement("div",{style:a({minWidth:32,marginLeft:8,marginRight:8,textAlign:"right",fontWeight:v.default.fontWeight.semibold},!t.activated&&{color:this.theme.lightTextColor})},f.formatHumanReadableCurrency(t.amount,"dollar")),i.createElement("div",{style:this.getTickStyles(t.activated)},y.default.check({fill:g.default.white,width:12,height:12,opacity:t.activated?1:0})))},t.prototype.getUserStore=function(e){var t=d.default.state.currentSpaceStore;if(!t)throw new Error("No current space.");return c.default.createChildStore(t,e)},t.prototype.getWrapperStyle=function(){var e="1px solid "+this.theme.regularDividerColor;return{display:"flex",alignItems:"center",borderTop:this.props.isFirst?e:void 0,borderBottom:e,paddingTop:4,paddingBottom:4}},t.prototype.getCenterStyle=function(){return{flex:1,fontSize:14,marginLeft:4}},t.prototype.getCaptionStyle=function(){return{fontSize:12,marginBottom:2,color:this.theme.mediumTextColor}},t.prototype.getIconStyle=function(){return{width:24,height:24,fill:this.theme.lightIconColor,marginRight:8}},t.prototype.getTickStyles=function(e){var t=e?void 0:"inset 0 0 0 2px "+this.theme.regularDividerColor;return{display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20,borderRadius:20,background:e?g.default.blue:void 0,boxShadow:t}},t}(s.default);t.default=w},"lj/k":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{showFadeInAnimation:!1,isRepositioning:!1}},t}(r("LEzx").default);t.default=a},loBV:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.spaceViewStore,r=e.pageId;return!(!t||!r)&&-1!==t.getBookmarkedPageIds().indexOf(r)}},ls6I:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("hi+p"),u=r("r8oj"),c=r("VOS9"),d=r("t+pW"),p=r("wXH4"),f=r("y6Dp"),h=r("2Y+N"),m=r("dXb3"),y=r("gbGO"),g=r("VyA+"),v=r("0hFN"),b=r("sjR4"),w=r("fwa5"),S=r("KTXS"),_=r("qqdV"),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderOverlay=function(){var e=w.default.state;if(e.isActive){var r,n=e.originBlockRect,o=e.actions,s=e.inputValue,d={blocks:e.stores,originRect:n},p=e.showInput&&t.renderInputSection(),f=e.stores[0];return r=u.default.isMobile?{menuType:y.default.MenuType.Modal,title:"Actions",right:"Done",onClickRight:t.handleOverlayBgClick,header:p}:{menuType:y.default.MenuType.Popup,width:220,header:p},i.createElement(g.default,{capture:!0,onBackspace:l.identity},i.createElement(y.default,a({},r),i.createElement(c.default,{filter:s,context:d,sections:o,onAccept:t.handleAccept,initialFocus:s?0:void 0}),!s&&t.renderBlockAuthorInfo(),!s&&f.isCollectionView()&&t.renderCollectionHelpButton()))}},t.handleOverlayBgClick=function(){s.close()},t.handleAccept=function(e){var t=w.default.state;if(t.isActive){var r=b.default.state.stores,n=t.analyticsFrom,o=r[0];if(o){var a=o.getValue();a&&e.name&&f.trackBlockAction({name:e.name,from:n,block_type:a.type})}e.closeParentMenu&&s.close()}},t.handleInputChange=function(e){w.default.state.isActive&&w.default.setState(a({},w.default.state,{inputValue:e.target.value}))},t}return o(t,e),t.prototype.renderComponent=function(){var e=w.default.state;return i.createElement(p.default,{popupType:u.default.isMobile?p.default.PopupType.SlideUp:p.default.PopupType.Popup,open:e.isActive,originRect:e.isActive?e.originBlockRect:void 0,onDismiss:this.handleOverlayBgClick,placementToOrigin:p.default.Placement.Bottom,alignmentToOrigin:p.default.Alignment.Start,originGap:0,preventScaleTransition:!0,render:this.renderOverlay})},t.prototype.renderBlockAuthorInfo=function(){var e=w.default.state;if(e.isActive&&!(e.stores.length>1))return i.createElement(v.default,{store:e.stores[0],isPageMoreButton:!1})},t.prototype.renderInputSection=function(){var e=w.default.state;if(e.isActive&&!u.default.isMobile){var t=e.inputValue;return i.createElement(h.default,{isInput:!0},i.createElement(m.default,{value:t,onChange:this.handleInputChange,focus:!0,focusAfterAnimation:!0,placeholder:"Filter actions...",allowDelete:!0}))}},t.prototype.renderCollectionHelpButton=function(){return i.createElement(h.default,{topBorder:!0,disableDesktopPadding:!0},i.createElement(S.default,{title:"Learn about databases",href:_.guides.database,analyticsFrom:"block_menu"}))},t}(d.default);t.default=k},lufz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("HRSx"),o=r("FUUC"),a=r("9axl"),i=r("N34Z"),l=r("6SEd"),s=r("8L2b");t.setParent=function(e){var t=e.childStore,r=e.parentStore,n=e.transaction,o=t.getRecordStoreAtRootPath().getValue();if(o){var a=o.parent_id,l=o.parent_table,s=o.alive;a===r.id&&l===r.table&&s===e.alive||i.updateValue({store:t,data:{parent_id:r.id,parent_table:r.table,alive:e.alive},transaction:n})}},t.setAlive=function(e){var t=e.childStore,r=e.alive,n=e.transaction,o=t.getRecordStoreAtRootPath().getValue();o&&o.alive!==r&&i.updateValue({store:t,data:{alive:r},transaction:n})},t.updateParentForAddedChild=function(e){var r=e.childStore,i=e.parentStore,u=e.transaction,c=r.getValue()||{},d=c.parent_id,p=c.parent_table,f=r.recordStoreParent();i.table===o.default.table&&r.table===n.default.table||i.table===a.default.table&&r.table===s.default.table?t.setParent({childStore:r,parentStore:i,alive:!0,transaction:u}):i.table!==n.default.table&&i.table!==l.default.table||d&&(!f||d!==f.id||p!==f.table)||t.setParent({childStore:r,parentStore:i,alive:!0,transaction:u})},t.updateParentForRemovedChild=function(e){var r=e.childStore,n=e.parentStore,o=e.transaction,a=r.getValue()||{},i=a.parent_id,l=a.parent_table,s=a.alive;i===n.id&&l===n.table&&s&&t.setAlive({childStore:r,alive:!1,transaction:o})}},"m/OJ":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("wldR"),u=r("m8rc"),c=r("wXH4"),d=r("r8oj"),p=r("P9PB"),f=r("cBa6"),h=r("N34Z"),m=r("MBf9"),y=r("du8U"),g=r("HTHG"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChangeValue=function(e){if(e){var r=t.getEverythingIWant();if(r){var n=r.date_format,o=r.time_format;t.setDateAnnotationData(a({date_format:n,time_format:o},e))}}else t.removeDateAnnotation()},t.handleChangeDateFormat=function(e){var r=t.getEverythingIWant();if(r){var n=r.dateValue,o=r.time_format;t.setDateAnnotationData(a({date_format:e,time_format:o},n))}},t.handleChangeTimeFormat=function(e){var r=t.getEverythingIWant();if(r){var n=r.dateValue,o=r.date_format;t.setDateAnnotationData(a({date_format:o,time_format:e},n))}},t.setDateAnnotationData=function(e){var r=t.getEverythingIWant();if(r){var n=r.textStore,o=r.textValue,a=r.tokenIndex,i=r.annotations,l=o.map(function(t,r){if(r===a){var n=i.map(function(t){return f.isDateAnnotation(t)?["d",e]:t});return f.createToken(t[0],n)}return t});m.createAndCommit(function(e){h.setValue({store:n,value:l,transaction:e})})}},t.removeDateAnnotation=function(){var e=t.getEverythingIWant();if(e){var r=e.textStore,n=e.textValue,o=e.tokenIndex,a=n.filter(function(e,t){return t!==o});m.createAndCommit(function(e){h.setValue({store:r,value:a,transaction:e})})}},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=y.default.state;return l.createElement(c.default,{popupType:d.default.isMobile?c.default.PopupType.SlideUp:c.default.PopupType.Popup,open:t.open,originRect:t.originRect,onDismiss:u.close,render:function(){var t=e.getEverythingIWant();if(!t)return null;var r=t.date_format,n=t.time_format,o=t.dateValue;return l.createElement(p.default,{firstDayOfWeek:g.userSettingsStartOfWeekStore.state,value:o,locked:!1,onChangeValue:e.handleChangeValue,dateFormat:r,onChangeDateFormat:e.handleChangeDateFormat,timeFormat:n,onChangeTimeFormat:e.handleChangeTimeFormat,onDismiss:u.close,disabled:!1})}})},t.prototype.getEverythingIWant=function(){var e=y.default.state;if(e.open){var t=e.textStore,r=e.tokenIndex,n=t.getValue();if(n){var o=n[r];if(o){var a=f.getTokenAnnotations(o),l=f.findDateAnnotation(a);if(l){var s=f.getDateAnnotationData(l);return{textStore:t,textValue:n,tokenIndex:r,token:o,annotations:a,date_format:s.date_format,time_format:s.time_format,dateValue:i(s,["date_format","time_format"])}}}}}},t}(s.default);t.default=v},m0IC:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("r8oj"),a=r("EZe4"),i=r("DkKf"),l=r("qHvo"),s=r("0zNc"),u=r("iICV"),c=r("nZ1u");t.handleClick=function(e){var t=e.event,r=e.onClick,n=e.disabled;t.shiftKey||n||a.default({event:t,context:a.EventContext.EditorClick,callback:function(){r&&!i.mouseDidMoveAfterLastMouseDown()&&r(t)}})},t.handleDoubleClick=function(e){var t=e.store,r=e.event,n=e.onDoubleClick;e.disabled||a.default({event:r,context:a.EventContext.EditorDoubleClick,callback:function(){t.setState({hovered:!0,pressed:t.state.pressed}),n&&n(r)}})},t.handleContextMenu=function(e){var t=e.store,r=e.event,n=e.onContextMenu;e.disabled||(t.setState({hovered:!0,pressed:t.state.pressed}),n&&n(r))},t.handleMouseEnter=function(e){var t=e.event,r=e.onMouseEnter;r&&r(t)},t.handleMouseMove=function(e){var t=e.store,r=e.event,n=e.onMouseMove,o=e.disabled;u.default.state.isKeyboardMode||s.default.state.isDragging||l.default.state.isDragging||c.default.state.isActive||o||t.setState({hovered:!0,pressed:t.state.pressed}),n&&n(r)},t.handleMouseLeave=function(e){var t=e.store,r=e.event,n=e.onMouseLeave;e.disabled||t.setState({hovered:t.state.pressed,pressed:!1}),n&&n(r)},t.handleMouseDown=function(e){var t=e.store,r=e.event,n=e.onMouseDown;e.disabled||a.default({event:r,context:a.EventContext.ButtonMouseDown,callback:function(){t.setState({hovered:t.state.hovered,pressed:!0}),n&&n(r),window.addEventListener("mouseup",d(t))}})},t.handleMouseUp=function(e){var t=e.store,r=e.event,n=e.onMouseUp;e.disabled||(t.setState({hovered:t.state.hovered,pressed:!1}),n&&n(r),window.removeEventListener("mouseup",d(t)))},t.handleTouchStart=function(e){var t=e.store,r=e.event,n=e.onTouchStart;e.disabled||a.default({event:r,context:a.EventContext.MobileTap,callback:function(){t.setState({hovered:t.state.hovered,pressed:!0}),n&&n(r)}})},t.handleTouchEnd=function(e){var t=e.store,r=e.event,n=e.onTouchEnd;e.disabled||(t.setState({hovered:t.state.hovered,pressed:!1}),n&&n(r))},t.handleTouchCancel=function(e){var t=e.store,r=e.event,n=e.onTouchCancel;e.disabled||(t.setState({hovered:t.state.hovered,pressed:!1}),n&&n(r))};var d=function(e){return function(){e.setState({hovered:!1,pressed:!1})}},p=new Set;function f(){var e,t;try{for(var r=n(Array.from(p.values())),o=r.next();!o.done;o=r.next()){o.value.setState({hovered:!1,pressed:!1})}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}}t.startScrollListener=function(e){p.add(e)},t.stopScrollListener=function(e){p.delete(e)},t.startListeners=function(){o.default.isMobile&&document.addEventListener("scroll",f,!0)}},m3FE:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("KCxV"),s=r("aBKD"),u=r("7M94"),c=r("4NII"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return c.default()?a.createElement("div",{style:t.mobileWrapStyle},a.createElement(l.default,{style:{flexShrink:0,marginRight:20},width:"43%",src:this.props.mobileScreenshot}),a.createElement("div",{style:{width:"145%",flexShrink:0}},this.renderDesktopScreenshot()),a.createElement("div",{style:{width:24,flexShrink:0}})):a.createElement("div",{style:t.desktopWrapStyle},this.renderDesktopScreenshot(),a.createElement("div",{style:{position:"absolute",bottom:-42,right:-72}},a.createElement(l.default,{width:240,src:this.props.mobileScreenshot})))},t.prototype.renderDesktopScreenshot=function(){return a.createElement(s.default,{format:s.default.Format.Safari,aspectRatio:.602},a.createElement("img",{key:this.props.desktopScreenshot,className:u.fadeInSlow,style:{width:"100%"},src:this.props.desktopScreenshot}))},t.desktopWrapStyle={position:"relative",maxWidth:"100%",width:960,marginBottom:42},t.mobileWrapStyle={display:"flex",paddingBottom:24,width:"100vw",overflow:"auto",WebkitOverflowScrolling:"touch",paddingLeft:24},t}(i.default);t.default=d},m4z9:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("t+pW"),l=r("A9TN"),s=r("QcDD"),u=r("toub"),c=r("r8MX"),d=r("6BTz"),p=r("y6Dp"),f=r("N34Z"),h=r("MBf9"),m=r("MeYt"),y=r("bxQm"),g=r("mF3+"),v=r("q1tI"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){u.default.setState({open:!0,currentTab:"credit"}),p.trackInvitedByCreditClick()},t.handleCloseClick=function(){var e=s.default.state.userSettingsStore;e&&h.createAndCommit(function(t){f.updateValue({store:e.getSettingsStore(),data:{hide_referral_notification:!0},transaction:t}),p.trackInvitedByCreditCloseClick()})},t}return o(t,e),t.prototype.renderComponent=function(){var e=c.default.state.data;if(e){var r=e.availableCredit,n=Math.floor(r/l.default.pricing.personal.monthlyPrice);return a.createElement(m.default,{style:this.getStyle(),onClick:this.handleClick},a.createElement("div",{style:{display:"flex"}},g.default.gift({width:14,marginRight:6,fill:this.theme.mediumIconColor}),a.createElement("div",{style:{marginRight:12}},"You earned"," ",a.createElement("b",{style:{color:this.theme.regularTextColor}},d.formatHumanReadableCurrency(r,"dollar"))," ","in credit.",n>0&&a.createElement(v.Fragment,null," ","That's"," ",a.createElement("b",{style:{color:this.theme.regularTextColor}},n," month",n>1?"s":""," free"),"."))),a.createElement(y.default,{style:t.closeButtonStyle,onClick:this.handleCloseClick},g.default.closeThick({width:10})))}},t.prototype.getStyle=function(){return{position:"relative",padding:"8px 10px",margin:12,fontSize:12,borderRadius:6,border:"1px solid "+this.theme.outlineButtonBorder}},t.closeButtonStyle={position:"absolute",top:6,right:6},t}(i.default);t.default=b},m5ks:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("njgS"),a=r("+575"),i=r("Yf5i"),l=r("nFzZ");t.toSortValue=function(e){var r=e.property,n=e.schema,o=e.block,i=e.getRecordValue,l=e.userTimeZone,s=t.getRollupPropertyData({property:r,schema:n,getRecordValue:i});if(s){var u=s.propertySchema,c=s.targetCollectionSchema;if(u.relation_property&&u.target_property){if(u.aggregation)return t.computeRollupAggregationValue({property:r,schema:n,block:o,getRecordValue:i,userTimeZone:l});var d=o.properties||{},p=a.toRelationValue(d[u.relation_property])[0];if(p){var f=i("block",p);if(f)return a.toSortPropertyValue({property:u.target_property,schema:c,block:f,getRecordValue:i,userTimeZone:l})}}}},t.toExportStringValue=function(e){var r=e.property,n=e.schema,o=e.block,i=e.getRecordValue,s=e.userTimeZone,u=t.getRollupPropertyData({property:r,schema:n,getRecordValue:i});if(u){var c=u.propertySchema,d=u.targetCollectionSchema;if(c.relation_property&&c.target_property){if(!c.aggregation){var p=o.properties||{},f=a.toRelationValue(p[c.relation_property]);return l.compact(f.map(function(e){var t=i("block",e);if(c.target_property&&t)return a.toExportStringValue({property:c.target_property,schema:d,block:t,getRecordValue:i,userTimeZone:s})})).join(",")}var h=t.computeRollupAggregationValue({property:r,schema:n,block:o,getRecordValue:i,userTimeZone:s});return"number"==typeof h?h.toString():void 0}}},t.computeRollupAggregationValue=function(e){var r,o,l=e.schema,s=e.property,u=e.block,c=e.getRecordValue,d=e.userTimeZone,p=t.getRollupPropertyData({property:s,schema:l,getRecordValue:c});if(p){var f=p.propertySchema,h=p.targetCollectionSchema;if(f.aggregation&&f.relation_property&&f.target_property){var m=u.properties||{},y=a.toRelationValue(m[f.relation_property]),g=i.initializeIncrementalAggregation(f.aggregation);if(g){try{for(var v=n(y),b=v.next();!b.done;b=v.next()){var w=c("block",b.value);w&&"collection"===w.parent_table&&i.incrementIncrementalAggregation({property:f.target_property,incrementalResult:g,schema:h,block:w,getRecordValue:c,userTimeZone:d})}}catch(e){r={error:e}}finally{try{b&&!b.done&&(o=v.return)&&o.call(v)}finally{if(r)throw r.error}}return i.completeIncrementalAggregation(g)}}}},t.getRollupRelatedRecords=function(e){var r,o,i=e.schema,l=e.property,s=e.block,u=e.getRecordValue,c=t.getRollupPropertyData({property:l,schema:i,getRecordValue:u});if(!c)return[];var d=c.propertySchema;if(!d.relation_property||!d.target_property)return[];var p=s.properties||{},f=a.toRelationValue(p[d.relation_property]),h=[];try{for(var m=n(f),y=m.next();!y.done;y=m.next()){var g=u("block",y.value);g&&h.push(g)}}catch(e){r={error:e}}finally{try{y&&!y.done&&(o=m.return)&&o.call(m)}finally{if(r)throw r.error}}return h},t.getRollupPropertyData=function(e){var t=e.schema,r=e.property,n=e.getRecordValue,a=t[r];if(a&&"rollup"===a.type&&a.relation_property&&a.target_property_type&&a.target_property){var i=t[a.relation_property];if(i&&"relation"===i.type&&i.collection_id){var l=n("collection",i.collection_id);if(l){var s=o.getNormalizedSchema(l),u=s[a.target_property];if(u&&a.target_property_type===u.type)return{propertySchema:a,targetProperty:a.target_property,relationPropertySchema:i,targetCollectionValue:l,targetCollectionSchema:s,targetPropertySchema:u}}}}}},m8rc:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("du8U"),a=r("6rsX"),i=r("unoy");t.open=function(e){a.clear(),i.clear(),o.default.setState(n({open:!0},e))},t.close=function(){o.default.setState({open:!1,originRect:o.default.state.originRect})}},mAkY:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl");t.default=function(e,t){return n.toArray(e.substring(0,t)).length}},mDQS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("q1tI"),l=r("wldR"),s=r("pAJP"),u=r("5Nka"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(i.Fragment,null,a.createElement(s.default,{name:this.props.scrollPoint}),a.createElement("div",{style:t.wrapStyle},a.createElement("img",{src:u.default.front.tweetsPng,style:t.imageStyle})))},t.wrapStyle={overflowY:"auto",width:"100vw",overflow:"auto",WebkitOverflowScrolling:"touch"},t.imageStyle={display:"block",pointerEvents:"none",flexGrow:0,flexShrink:0,flexBasis:2277,width:2277,height:682},t}(l.default);t.default=c},"mF3+":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("q1tI"),a=r("Wq38"),i=r("nFzZ");t.iconsMap={alarmClock:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M4.31165,1.1958 L1.01208,3.95264 L0,2.75684 L3.30725,0 L4.31165,1.1958 Z M14,2.76416 L12.988,3.95947 L9.68127,1.1958 L10.6932,0 L14,2.76416 Z M7,1.50244 C10.4635,1.50244 13.2732,4.2998 13.2732,7.75098 C13.2732,11.2026 10.4635,14 7,14 C3.52954,14 0.726929,11.2026 0.726929,7.75098 C0.726929,4.2998 3.5365,1.50244 7,1.50244 Z M7.44116,4.23584 L7.44116,7.86572 L10.2234,9.50781 L9.60596,10.5166 L6.21594,8.49023 L6.21594,4.23584 L7.44116,4.23584 Z M2.29517,7.75098 C2.29517,10.3408 4.39819,12.4365 7,12.4365 C9.60181,12.4365 11.7048,10.3408 11.7048,7.75098 C11.7048,5.16113 9.60181,3.06543 7,3.06543 C4.39819,3.06543 2.29517,5.16113 2.29517,7.75098 Z"})},alias:{viewBox:"0 0 30 30",svg:o.createElement("polygon",{points:"5.4 26 24 7.4 24 20 26 20 26 4 10 4 10 6 22.6 6 4 24.6"})},arrowDown:{viewBox:"0 0 30 30",svg:o.createElement("polygon",{points:"24.594 16.594 16 25.188 16 1 14 1 14 25.188 5.406 16.594 4 18 15 29 26 18"})},arrowLeft:{viewBox:"0 0 30 30",svg:o.createElement("polygon",{points:"29 14 4.813 14 13.406 5.406 12 4 1 15 12 26 13.406 24.594 4.813 16 29 16"})},arrowRight:{viewBox:"0 0 30 30",svg:o.createElement("polygon",{points:"1 14 25.188 14 16.594 5.406 18 4 29 15 18 26 16.594 24.594 25.188 16 1 16"})},arrowUp:{viewBox:"0 0 30 30",svg:o.createElement("polygon",{points:"26 12 15 1 4 12 5.406 13.406 14 4.813 14 29 16 29 16 4.813 24.594 13.406"})},backward:{viewBox:"0 0 24 24",svg:o.createElement("polygon",{points:"23,11 4.801,11 11.4,4.4 10,3 1,12 10,21 11.4,19.6 4.801,13 23,13 "})},blockColor:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M25,5c0-2.2-1.8-4-4-4H6C3.8,1,2,2.8,2,5H1v2h1c0,2.2,1.8,4,4,4h15c2.2,0,4-1.8,4-4h2v6H14v4h-2v9c0,1.657,1.344,3,3,3 s3-1.343,3-3v-9h-2v-2h13V5H25z M23,7c0,1.103-0.896,2-2,2H6C4.896,9,4,8.103,4,7V5c0-1.103,0.896-2,2-2h15c1.104,0,2,0.897,2,2V7z M16,26c0,0.552-0.449,1-1,1s-1-0.448-1-1v-7h2V26z"})},book:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M27,23V1H7C4.791,1,3,2.791,3,5v20c0,2.209,1.791,4,4,4h20v-2h-1v-4H27z M21,3v6l-1-1.333L19,9V3H21z M20,11l3,4V3h2v18H9V3 h8v12L20,11z M5,5c0-1.103,0.896-2,2-2v18c-0.729,0-1.411,0.195-2,0.537V5z M24,27H7c-1.104,0-2-0.896-2-2s0.896-2,2-2h17V27z"})},calendarBy:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M24.2857143,4.78571429 C24.2857143,3.24707143 23.0386429,2 21.5,2 C19.9613571,2 18.7142857,3.24707143 18.7142857,4.78571429 L11.2857143,4.78571429 C11.2857143,3.24707143 10.0386429,2 8.5,2 C6.96135714,2 5.71428571,3.24707143 5.71428571,4.78571429 L2,4.78571429 L2,28 L28,28 L28,4.78571429 L24.2857143,4.78571429 Z M20.5714286,4.78571429 C20.5714286,4.27407143 20.9874286,3.85714286 21.5,3.85714286 C22.0125714,3.85714286 22.4285714,4.27407143 22.4285714,4.78571429 L22.4285714,6.64285714 C22.4285714,7.1545 22.0125714,7.57142857 21.5,7.57142857 C20.9874286,7.57142857 20.5714286,7.1545 20.5714286,6.64285714 L20.5714286,4.78571429 Z M7.57142857,4.78571429 C7.57142857,4.27407143 7.98742857,3.85714286 8.5,3.85714286 C9.01257143,3.85714286 9.42857143,4.27407143 9.42857143,4.78571429 L9.42857143,6.64285714 C9.42857143,7.1545 9.01257143,7.57142857 8.5,7.57142857 C7.98742857,7.57142857 7.57142857,7.1545 7.57142857,6.64285714 L7.57142857,4.78571429 Z M26.1428571,26.1428571 L3.85714286,26.1428571 L3.85714286,13.1428571 L26.1428571,13.1428571 L26.1428571,26.1428571 Z M26.1428571,11.2857143 L3.85714286,11.2857143 L3.85714286,6.64285714 L5.71428571,6.64285714 C5.71428571,8.1815 6.96135714,9.42857143 8.5,9.42857143 C10.0386429,9.42857143 11.2857143,8.1815 11.2857143,6.64285714 L18.7142857,6.64285714 C18.7142857,8.1815 19.9613571,9.42857143 21.5,9.42857143 C23.0386429,9.42857143 24.2857143,8.1815 24.2857143,6.64285714 L26.1428571,6.64285714 L26.1428571,11.2857143 Z"})},caption:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M2 5V7H28V5H2ZM16 11H2V13H16V11ZM2 19H26V17H2V19ZM2 25H22V23H2V25Z"})},check:{viewBox:"0 0 14 14",svg:o.createElement("polygon",{points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"})},checkboxSquare:{viewBox:"0 0 16 16",svg:o.createElement("path",{d:"M1.5,1.5 L1.5,14.5 L14.5,14.5 L14.5,1.5 L1.5,1.5 Z M0,0 L16,0 L16,16 L0,16 L0,0 Z"})},chevronDown:{viewBox:"0 0 30 30",svg:o.createElement("polygon",{points:"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "})},chevronLeft:{viewBox:"0 0 30 30",svg:o.createElement("polygon",{points:"12.6 15 23 25.2 20.2 28 7 15 20.2 2 23 4.8"})},chevronRight:{viewBox:"0 0 30 30",svg:o.createElement("polygon",{points:"17.4,15 7,25.2 9.8,28 23,15 9.8,2 7,4.8"})},close:{viewBox:"0 0 30 30",svg:o.createElement("polygon",{points:"26,5.4 24.6,4 15,13.6 5.4,4 4,5.4 13.6,15 4,24.6 5.4,26 15,16.4 24.6,26 26,24.6 16.4,15 "})},clearInput:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M15,0C6.716,0,0,6.716,0,15s6.716,15,15,15s15-6.716,15-15S23.284,0,15,0z M22,20.6L20.6,22L15,16.4L9.4,22L8,20.6l5.6-5.6 L8,9.4L9.4,8l5.6,5.6L20.6,8L22,9.4L16.4,15L22,20.6z"})},closeThick:{viewBox:"0 0 8 8",svg:o.createElement("polygon",{points:"8 1.01818182 6.98181818 0 4 2.98181818 1.01818182 0 0 1.01818182 2.98181818 4 0 6.98181818 1.01818182 8 4 5.01818182 6.98181818 8 8 6.98181818 5.01818182 4"})},code:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M11.625,4L0,15l11.625,11L13,24.563L2.906,15L13,5.438L11.625,4z M18.375,4L17,5.438L27.094,15L17,24.563L18.375,26L30,15L18.375,4z"})},darkMode:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M2.52914 9.52911C6.39513 9.52911 9.52914 6.39508 9.52914 2.52911C9.52914 1.63727 9.36236 0.784424 9.05828 0C11.6743 1.01404 13.5291 3.55499 13.5291 6.52911C13.5291 10.3951 10.3951 13.5291 6.52914 13.5291C3.55498 13.5291 1.01405 11.6743 0 9.05829C0.784435 9.36237 1.63731 9.52911 2.52914 9.52911Z"})},dots:{viewBox:"0 0 13 3",svg:o.createElement("g",null," ",o.createElement("path",{d:"M3,1.5A1.5,1.5,0,1,1,1.5,0,1.5,1.5,0,0,1,3,1.5Z"})," ",o.createElement("path",{d:"M8,1.5A1.5,1.5,0,1,1,6.5,0,1.5,1.5,0,0,1,8,1.5Z"})," ",o.createElement("path",{d:"M13,1.5A1.5,1.5,0,1,1,11.5,0,1.5,1.5,0,0,1,13,1.5Z"})," ")},doubleChevronLeft:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M7 2.225L5.775 1L0 7.125L5.775 13.25L7 12.025L2.45 7.125L7 2.225ZM14 2.225L12.775 1L7 7.125L12.775 13.25L14 12.025L9.45 7.125L14 2.225Z"})},doubleChevronRight:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M7 12.025L8.225 13.25L14 7.125L8.225 1L7 2.225L11.55 7.125L7 12.025ZM0 12.025L1.225 13.25L7 7.125L1.225 1L8.56743e-07 2.225L4.55 7.125L0 12.025Z"})},dragHandle:{viewBox:"0 0 10 10",svg:o.createElement("path",{d:"M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z"})},duplicate:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M1,29h20V9H1V29z M3,11h16v16H3V11z M9,1v6h2V3h16v16h-4v2h6V1H9z"})},rename:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M24,1c-1.141,0-2.55,0.45-3.55,1.45L6,16.9L5,25l8.1-1L27.55,9.551C28.604,8.495,29,7.063,29,6C29,3.238,26.762,1,24,1z M20.664,5.064L22.1,6.5L10.5,18.1l-1.436-1.436L20.664,5.064z M7.299,22.701l0.55-4.453l3.902,3.903L7.299,22.701z M13.336,20.936 L11.9,19.5L23.5,7.9l1.436,1.436L13.336,20.936z M26.311,7.91L22.09,3.689C22.705,3.198,23.478,3,24,3c1.654,0,3,1.346,3,3 C27,6.523,26.802,7.295,26.311,7.91z M25,27H3V5h12.072l2-2H1v26h26V12.928l-2,2V27z"})},expand:{viewBox:"-1 -1 9 11",svg:o.createElement("path",{id:"path0_stroke",d:"M 3.5 0L 3.98809 -0.569442L 3.5 -0.987808L 3.01191 -0.569442L 3.5 0ZM 3.5 9L 3.01191 9.56944L 3.5 9.98781L 3.98809 9.56944L 3.5 9ZM 0.488094 3.56944L 3.98809 0.569442L 3.01191 -0.569442L -0.488094 2.43056L 0.488094 3.56944ZM 3.01191 0.569442L 6.51191 3.56944L 7.48809 2.43056L 3.98809 -0.569442L 3.01191 0.569442ZM -0.488094 6.56944L 3.01191 9.56944L 3.98809 8.43056L 0.488094 5.43056L -0.488094 6.56944ZM 3.98809 9.56944L 7.48809 6.56944L 6.51191 5.43056L 3.01191 8.43056L 3.98809 9.56944Z"})},file:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M22,8v12c0,3.866-3.134,7-7,7s-7-3.134-7-7V8c0-2.762,2.238-5,5-5s5,2.238,5,5v12c0,1.657-1.343,3-3,3s-3-1.343-3-3V8h-2v12c0,2.762,2.238,5,5,5s5-2.238,5-5V8c0-3.866-3.134-7-7-7S6,4.134,6,8v12c0,4.971,4.029,9,9,9s9-4.029,9-9V8H22z"})},filter:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M2,8 L2,10 L28,10 L28,8 L2,8 Z M10,20 L10,22 L20,22 L20,20 L10,20 Z M6,16 L24,16 L24,14 L6,14 L6,16 Z"})},fullscreen:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M19,3v2h4.6L17,11.6l1.4,1.4L25,6.4V11h2V3H19z M11,5V3H3v8h2V6.4l6.6,6.6l1.4-1.4L6.4,5H11z M11.6,17L5,23.6V19H3v8h8v-2 H6.4l6.6-6.6L11.6,17z M25,23.6L18.4,17L17,18.4l6.6,6.6H19v2h8v-8h-2V23.6z"})},gift:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M7.95789 3.54464C8.00247 3.30845 8.16614 2.97748 8.48043 2.66319C8.84104 2.30258 9.38851 1.92751 9.87755 1.74943C10.1088 1.66523 10.237 1.65112 10.2972 1.65266C10.6256 1.99575 10.8618 2.39413 10.9488 2.70912C10.9917 2.86422 10.9849 2.94927 10.9797 2.97718L10.9792 2.98003C10.9777 2.9894 10.9767 2.99539 10.9553 3.01675C10.5461 3.42596 10.0755 3.57832 9.4321 3.60836C9.09223 3.62423 8.7328 3.60413 8.31688 3.57258C8.25969 3.56824 8.20022 3.56356 8.13892 3.55874L7.95789 3.54464ZM6.97082 2.14136C7.10128 1.95114 7.25234 1.76996 7.41977 1.60253C8.39608 0.626221 10.3325 -0.434439 11.3089 0.541871C12.2852 1.51818 12.9923 3.10109 12.016 4.07741C11.4993 4.59409 10.9264 4.86563 10.3362 4.99913H14V7.99913H13H8V5.05253C7.65076 5.02523 7.31443 4.99913 7.00006 4.99913C6.99017 4.98924 6.98043 4.9793 6.97082 4.96932C6.96122 4.9793 6.95148 4.98924 6.94159 4.99913C6.64476 4.99913 6.32836 5.0224 6 5.04797V7.99913H1H0V4.99913H3.60548C3.01529 4.86563 2.44237 4.59409 1.92569 4.07741C0.949377 3.10109 1.65648 1.51818 2.6328 0.541871C3.60911 -0.434439 5.54557 0.626221 6.52188 1.60253C6.68931 1.76996 6.84037 1.95114 6.97082 2.14136ZM10.3411 1.66021C10.3418 1.65908 10.3348 1.65588 10.3179 1.65399C10.3319 1.6604 10.3404 1.66134 10.3411 1.66021ZM1 8.99913V13.9991H6V8.99913H1ZM8 8.99913V13.9991H13V8.99913H8ZM5.46122 2.66319C5.77551 2.97748 5.93918 3.30845 5.98376 3.54464L5.80273 3.55874C5.74143 3.56356 5.68196 3.56824 5.62477 3.57258C5.20886 3.60413 4.84942 3.62423 4.50955 3.60836C3.86611 3.57832 3.39557 3.42596 2.98635 3.01675C2.965 2.99539 2.96399 2.9894 2.96241 2.98003L2.96191 2.97718C2.95674 2.94927 2.94998 2.86422 2.99284 2.70912C3.07987 2.39413 3.31602 1.99575 3.64441 1.65266C3.70469 1.65112 3.83287 1.66523 4.0641 1.74943C4.55314 1.92751 5.10061 2.30258 5.46122 2.66319ZM3.60056 1.66021C3.59983 1.65908 3.60685 1.65588 3.6238 1.65399C3.60977 1.6604 3.60129 1.66134 3.60056 1.66021Z"})},globe:{viewBox:"0 0 16 16",svg:o.createElement("path",{d:"M8,0C3.582,0,0,3.582,0,8s3.582,8,8,8s8-3.582,8-8S12.418,0,8,0z M8,7L7.938,8h-1L7,7H5v2h1l1,1c0.313-0.333,1.021-1,2-1h1 l1,0.229C11.86,9.437,12.513,9.75,13,10v1l-0.938,1.407C10.993,13.393,9.569,14,8,14v-1l-1-1v-1l-2-1C4.018,9.547,3.25,8.938,3,8 L2.785,6c0-0.187,0.435-0.867,0.55-1L3.278,4.307C4.18,3.154,5.494,2.343,7,2.09V3.5L8,4c0.3,0,0.609-0.045,1-0.417 C9.382,3.22,9.719,3,10,3c0.698,0,1,0.208,1,1l-0.5,1h-0.311C9.612,5.279,9.261,5.506,9,6C8.749,6.475,8.475,6.773,8,7z M13,8 c-0.417-0.25-0.771-0.583-1-1V6l0.797-1.593C13.549,5.409,14,6.65,14,8c0,0.165-0.012,0.326-0.025,0.488L13,8z"})},groupBy:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M2,14 L14,14 L14,2 L2,2 L2,14 Z M4,4 L12,4 L12,12 L4,12 L4,4 Z M2,28 L14,28 L14,16 L2,16 L2,28 Z M4,18 L12,18 L12,26 L4,26 L4,18 Z M16,2 L16,28 L28,28 L28,2 L16,2 Z M26,26 L18,26 L18,4 L26,4 L26,26 Z"})},hamburgerMenu:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M0,1.25 L14,1.25 L14,2.75 L0,2.75 L0,1.25 Z M0,6.25 L14,6.25 L14,7.75 L0,7.75 L0,6.25 Z M0,11.25 L14,11.25 L14,12.75 L0,12.75 L0,11.25 Z"})},help:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M6.3,11.2 L6.3,9.8 L7.7,9.8 L7.7,11.2 L6.3,11.2 Z M7,0 C10.864,0 14,3.136 14,7 C14,10.864 10.864,14 7,14 C3.136,14 0,10.864 0,7 C0,3.136 3.136,0 7,0 Z M7,12.6 C10.087,12.6 12.6,10.087 12.6,7 C12.6,3.913 10.087,1.4 7,1.4 C3.913,1.4 1.4,3.913 1.4,7 C1.4,10.087 3.913,12.6 7,12.6 Z M7,2.8 C8.547,2.8 9.8,4.053 9.8,5.6 C9.8,7.35 7.7,7.525 7.7,9.1 L6.3,9.1 C6.3,6.825 8.4,7 8.4,5.6 C8.4,4.83 7.77,4.2 7,4.2 C6.23,4.2 5.6,4.83 5.6,5.6 L4.2,5.6 C4.2,4.053 5.453,2.8 7,2.8 Z"})},versionHistory:{viewBox:"0 0 20 20",svg:o.createElement("path",{d:"M10 2.5C5.85833 2.5 2.5 5.85833 2.5 10H0L3.24167 13.2417L3.3 13.3583L6.66667 10H3.9C3.9 6.775 6.775 4 10 4C13.225 4 16.1 6.775 16.1 10C16.1 13.225 13.225 16.1 10 16.1C8.39167 16.1 6.65 15.2583 5.6 14.2L4.7 15.3C6.05833 16.6583 7.925 17.5 10 17.5C14.1417 17.5 17.5 14.1417 17.5 10C17.5 5.85833 14.1417 2.5 10 2.5ZM8.75 6.78571V10.5357L12.0312 13.2143L13.125 12.1429L10.3906 10V6.78571H8.75Z"})},versionHistoryThick:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M0 7C0 3.136 3.129 0 6.993 0C10.864 0 14 3.136 14 7C14 10.864 10.864 14 6.993 14C3.129 14 0 10.864 0 7ZM1.4 7C1.4 10.094 3.906 12.6 7 12.6C10.094 12.6 12.6 10.094 12.6 7C12.6 3.906 10.094 1.4 7 1.4C3.906 1.4 1.4 3.906 1.4 7ZM6.3 3.5H7.35V7.175L10.5 9.044L9.975 9.905L6.3 7.7V3.5Z"})},historyBack:{viewBox:"0 0 14 14",svg:o.createElement("polygon",{points:"2.85893 7.74676 8.05608 12.9439 7 14 0.528042 7.52804 0 7 0.528042 6.47196 7 0 8.05608 1.05608 2.85893 6.25324 14 6.25324 14 7.74676"})},historyForward:{viewBox:"0 0 14 14",svg:o.createElement("polygon",{points:"11.14107 6.25324 5.94392 1.0561 7 0 13.471958 6.47196 14 7 13.471958 7.52804 7 14 5.94392 12.94392 11.14107 7.74676 0 7.74676 1.77635684e-15 6.25324"})},import:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M23.9999867,15 L22.5939933,13.5940067 L15.99996,20.18804 L15.99996,2 L14.00004,2 L14.00004,20.18804 L7.405998,13.5940067 L5.999996,15 L15,23.9999867 L23.9999867,15 Z M2,25.9999933 L2,28 L28,28 L28,25.9999933 L2,25.9999933 Z"})},templates:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M15,1 L29,8 L15,15 L1,8 L15,1 Z M24.5287,8 L15.0007,3.23602 L5.47266,8 L15.0007,12.764 L24.5287,8 Z M22,13.736 L24.236,12.618 L29,15 L15,22 L1,15 L5.764,12.618 L8,13.736 L5.472,15 L15,19.764 L24.528,15 L22,13.736 Z M24.528,22 L22,20.736 L24.236,19.618 L29,22 L15,29 L1,22 L5.764,19.618 L8,20.736 L5.472,22 L15,26.764 L24.528,22 Z",id:"Shape"})},templatesColor:{viewBox:"0 0 20 20",svg:o.createElement("g",null,o.createElement("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z",fill:"#3C9ED7"}),o.createElement("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z",fill:"#E7595E"}),o.createElement("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z",fill:"#F5BC4E"}))},link:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M2,12c0-3.309,2.691-6,6-6h8c3.309,0,6,2.691,6,6s-2.691,6-6,6h-6c0,0.736,0.223,1.41,0.574,2H16c4.418,0,8-3.582,8-8 c0-4.418-3.582-8-8-8H8c-4.418,0-8,3.582-8,8c0,2.98,1.634,5.575,4.051,6.951C4.021,18.638,4,18.321,4,18 c0-0.488,0.046-0.967,0.115-1.436C2.823,15.462,2,13.827,2,12z M25.953,11.051C25.984,11.363,26,11.68,26,12 c0,0.489-0.047,0.965-0.117,1.434C27.176,14.536,28,16.172,28,18c0,3.309-2.691,6-6,6h-8c-3.309,0-6-2.691-6-6s2.691-6,6-6h6 c0-0.731-0.199-1.413-0.545-2H14c-4.418,0-8,3.582-8,8c0,4.418,3.582,8,8,8h8c4.418,0,8-3.582,8-8 C30,15.021,28.368,12.428,25.953,11.051z"})},locked:{viewBox:"0 0 24 30",svg:o.createElement("path",{d:"M20.4,12 C22.2,12 24,13.8 24,15.9 L24,26.4 C24,28.2 22.2,30 20.1,30 L3.6,30 C1.8,30 0,28.2 0,26.1 L0,15.6 C0,13.8 1.8,12 3.6,12 L3.6,7.5 C3.6,3.3 7.8,0 12,0 C16.2,0 20.4,3.3 20.4,7.5 L20.4,12 Z M7.5,12 L16.5,12 L16.5,7.5 C16.5,5.1 14.4,3.6 12,3.6 C9.6,3.6 7.5,5.1 7.5,7.5 L7.5,12 Z"})},unlocked:{viewBox:"0 0 24 30",svg:o.createElement("path",{d:"M20.4,12 L20.4,7.5 C20.4,3.3 16.2,0 12,0 C7.8,0 3.6,3.3 3.6,7.5 L7.5,7.5 C7.5,5.1 9.6,3.6 12,3.6 C14.4,3.6 16.5,5.1 16.5,7.5 L16.5,12 L7.5,12 L3.6,12 C1.8,12 0,13.8 0,15.6 L0,26.1 C0,28.2 1.8,30 3.6,30 L20.1,30 C22.2,30 24,28.2 24,26.4 L24,15.9 C24,13.8 22.2,12 20.4,12 Z"})},logout:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M17,24l9-9l-9-9l-1.406,1.406L22.188,14H8v2h14.188l-6.594,6.594L17,24z M6,4h16V2H4v26h18v-2H6V4z"})},loop:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M26,16c0,3.309-2.691,6-6,6H5.813l3.594-3.594L8,17l-6,6l6,6l1.406-1.406L5.813,24H20c4.4,0,8-3.6,8-8v-1h-2V16z M4,14 c0-3.309,2.691-6,6-6h14.188l-3.594,3.594L22,13l6-6l-6-6l-1.406,1.406L24.188,6H10c-4.4,0-8,3.6-8,8v1h2V14z"})},mail:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M0,4v22h30V4H0z M17.591,16.33C16.137,17.753,15.819,18,15,18s-1.137-0.247-2.555-1.635L2,6h26L17.591,16.33z M2,8.814 l7.17,7.119L2,21.8V8.814z M2.445,24l8.141-6.661L11,17.75c1.438,1.406,2.281,2.25,4,2.25s2.563-0.844,4-2.25l0.414-0.411L27.555,24 H2.445z M28,21.8l-7.17-5.867L28,8.814V21.8z"})},menu:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M2,4v2h26V4H2z M2,16h26v-2H2V16z M2,26h26v-2H2V26z"})},moveTo:{viewBox:"0 0 30 30",svg:o.createElement("polygon",{points:"7 26 7 9 25.188 9 21.594 12.594 23 14 29 8 23 2 21.594 3.406 25.188 7 5 7 5 26"})},noDate:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M24,2 L6,2 L2,16 L2,28 L28,28 L28,16 L24,2 Z M7.509,4 L22.491,4 L25.92,16 L19,16 C19,18.209 17.209,20 15,20 C12.791,20 11,18.209 11,16 L4.08,16 L7.509,4 Z M4,26 L4,18 L9.349,18 C10.174,20.329 12.389,22 15,22 C17.611,22 19.827,20.329 20.651,18 L26,18 L26,26 L4,26 Z"})},openAsPage:{viewBox:"0 0 30 30",svg:o.createElement("polygon",{points:"7.64594562 23.4667527 23.4674599 7.64523852 23.4674599 12.7279221 25.4558441 12.7279221 25.4558441 4.24264069 16.9705627 4.24264069 16.9705627 6.23102496 22.0532463 6.23102496 6.23173206 22.0525392 6.23102496 16.9705627 4.24264069 16.9705627 4.24264069 25.4558441 12.7279221 25.4558441 12.7279221 23.4674599"})},openAsPageThick:{viewBox:"0 0 14 14",svg:o.createElement("polygon",{points:"9.13029 3.66667 3.66667 9.13029 3.66667 7 2 7 2 12 7 12 7 10.3333 4.82065 10.3333 10.3333 4.82065 10.3333 7 12 7 12 2 7 2 7 3.66667"})},mention:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M6.78726 4.98561C7.77767 4.98561 8.39878 5.78297 8.39878 7.05875C8.39878 8.33453 7.76928 9.13189 6.77887 9.13189C5.82204 9.13189 5.23451 8.35132 5.23451 7.05875C5.23451 5.75779 5.81364 4.98561 6.78726 4.98561ZM7.07264 0C2.90117 0 0.0390625 2.85372 0.0390625 7.00839C0.0390625 11.247 2.85921 14 7.21532 14C8.16376 14 9.07863 13.8741 9.77527 13.6643V12.4053C9.28846 12.5983 8.28966 12.7326 7.29925 12.7326C3.72371 12.7326 1.44913 10.5252 1.44913 7.05036C1.44913 3.64269 3.7405 1.2506 6.9971 1.2506C10.2453 1.2506 12.4192 3.26499 12.4192 6.30336C12.4192 8.13309 11.8316 9.30815 10.9 9.30815C10.3544 9.30815 10.0439 8.96403 10.0439 8.36811V3.74341H8.50789V4.75899H8.35681C8.02947 4.01199 7.29086 3.56715 6.40117 3.56715C4.70573 3.56715 3.53906 4.97722 3.53906 7.01679C3.53906 9.14029 4.70573 10.5671 6.45153 10.5671C7.42515 10.5671 8.13858 10.1139 8.4911 9.25779H8.64218C8.79326 10.0719 9.55705 10.6091 10.581 10.6091C12.5786 10.6091 13.8292 8.91367 13.8292 6.21942C13.8292 2.53477 11.0762 0 7.07264 0Z"})},page:{viewBox:"0 0 30 30",svg:o.createElement("g",null," ",o.createElement("path",{d:"M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z"})," ")},pageEmpty:{viewBox:"0 0 30 30",svg:o.createElement("g",null," ",o.createElement("path",{d:"M16,1H4v28h22V11L16,1z M23.172,11H16V3.828L23.172,11z M24,27H6V3h8v10h10V27z"})," ")},pdf:{viewBox:"0 0 42 42",svg:o.createElement("path",{d:"M6,3 L36,3 C37.6569,3 39,4.34326 39,6 L39,36 C39,37.6567 37.6569,39 36,39 L6,39 C4.34314,39 3,37.6567 3,36 L3,6 C3,4.34326 4.34314,3 6,3 Z M12.3916324,17.6692964 C12.6740492,17.8831067 12.8153869,18.2406755 12.8153869,18.7423682 C12.8153869,19.2441828 12.6740492,19.6106452 12.3916324,19.8417552 C12.1138709,20.0728653 11.7225736,20.188603 11.21787,20.188603 L9.22452987,20.188603 L9.22452987,17.3486418 L11.21787,17.3486418 C11.7225736,17.3486418 12.1138709,17.4553642 12.3916324,17.6692964 Z M14.0168221,21.143866 C14.6280786,20.6727524 14.9336421,19.8679485 14.9336421,18.7293325 C14.9336421,17.6868398 14.6280786,16.9167572 14.0168221,16.4194503 C13.4056949,15.9221434 12.5861173,15.6734899 11.5582184,15.6734899 L7.09921423,15.6734899 L7.09921423,25.3187101 L9.22452987,25.3187101 L9.22452987,21.8505974 L11.3983891,21.8505974 C12.5328408,21.8505974 13.4056949,21.6151015 14.0168221,21.143866 Z M19.3259732,23.6435582 L19.3259732,17.3486418 L21.2984941,17.3486418 C22.2709182,17.3486418 22.9191579,17.6125239 23.243213,18.14041 C23.5719234,18.6639102 23.7364079,19.4164494 23.7364079,20.3979056 C23.7364079,21.1091447 23.6275275,21.7218239 23.4098958,22.2366742 C23.0117451,23.1745156 22.3079014,23.6435582 21.2984941,23.6435582 L19.3259732,23.6435582 Z M23.243213,15.8829144 C22.8219155,15.7520698 22.294065,15.6821398 21.6596618,15.6734899 L17.2493564,15.6734899 L17.2493564,25.3187101 L21.6596618,25.3187101 C23.2062299,25.3187101 24.3498627,24.718823 25.0906895,23.5191705 C25.6371608,22.6293298 25.9102672,21.5431004 25.9102672,20.2604823 C25.9102672,19.7546473 25.845482,19.2221317 25.7157824,18.6639102 C25.586212,18.1055668 25.343106,17.5863307 24.9865936,17.1065672 C24.5420199,16.513137 23.9608931,16.1053745 23.243213,15.8829144 Z M35.4978258,15.6865256 L28.2398178,15.6865256 L28.2398178,25.3187101 L30.3650558,25.3187101 L30.3650558,21.2748324 L34.8587673,21.2748324 L34.8587673,19.5996805 L30.3650558,19.5996805 L30.3650558,17.3814139 L35.4978258,17.3814139 L35.4978258,15.6865256 Z"})},person:{viewBox:"0 0 16 16",svg:o.createElement("path",{d:"M14,10.874c-0.618-0.542-1.045-0.747-3-1.874V8.052c0.207-0.31,0.387-0.641,0.535-0.983C12.007,6.865,12.5,6.455,12.5,6 c0-0.603-0.089-0.882-0.518-1.188C11.885,2.692,10.215,1,8,1S4.115,2.692,4.018,4.812C3.589,5.118,3.5,5.397,3.5,6 c0,0.455,0.493,0.865,0.965,1.068C4.613,7.411,4.793,7.741,5,8.052V9c-1.955,1.127-2.382,1.332-3,1.874C1.168,11.603,1,13.006,1,15 h14C15,13.006,14.832,11.603,14,10.874z"})},plus:{viewBox:"0 0 18 18",svg:o.createElement("polygon",{points:"17,8 10,8 10,1 8,1 8,8 1,8 1,10 8,10 8,17 10,17 10,10 17,10 "})},properties:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M2,8 L8,8 L8,2 L2,2 L2,8 Z M4,4 L6,4 L6,6 L4,6 L4,4 Z M10,4 L10,6 L28,6 L28,4 L10,4 Z M2,18 L8,18 L8,12 L2,12 L2,18 Z M4,14 L6,14 L6,16 L4,16 L4,14 Z M10,16 L28,16 L28,14 L10,14 L10,16 Z M2,28 L8,28 L8,22 L2,22 L2,28 Z M4,24 L6,24 L6,26 L4,26 L4,24 Z M10,26 L28,26 L28,24 L10,24 L10,26 Z"})},replace:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M11,9H5.798C7.76,5.994,11.143,4,15,4c6.075,0,11,4.925,11,11h2c0-7.18-5.82-13-13-13C10.977,2,7.384,3.83,5,6.701V3H3v8h8 V9z M19,21h5.202c-1.962,3.006-5.345,5-9.202,5C8.925,26,4,21.075,4,15H2c0,7.18,5.82,13,13,13c4.023,0,7.616-1.83,10-4.701V27h2v-8 h-8V21z"})},search:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M28,26.6l-8.265-8.264C21.15,16.61,22,14.405,22,12c0-5.523-4.478-10-10-10S2,6.477,2,12c0,5.523,4.478,10,10,10 c2.404,0,4.61-0.85,6.336-2.265L26.6,28L28,26.6z M12,20c-4.418,0-8-3.582-8-8c0-4.418,3.582-8,8-8s8,3.582,8,8 C20,16.418,16.418,20,12,20z"})},searchThick:{viewBox:"0 0 18 18",svg:o.createElement("path",{d:"M17,15.6l-5.119-5.119C12.583,9.499,13,8.299,13,7c0-3.314-2.686-6-6-6S1,3.686,1,7s2.686,6,6,6 c1.299,0,2.499-0.417,3.481-1.119L15.6,17L17,15.6z M7,11c-2.209,0-4-1.791-4-4c0-2.209,1.791-4,4-4s4,1.791,4,4 C11,9.209,9.209,11,7,11z"})},settings:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M30,18v-6h-4.425c-0.235-0.831-0.561-1.622-0.974-2.36l3.126-3.126l-4.242-4.243l-3.127,3.126 C19.621,4.985,18.83,4.66,18,4.425V0h-6v4.425c-0.83,0.235-1.621,0.561-2.358,0.973L6.515,2.271L2.272,6.514L5.398,9.64 C4.985,10.378,4.66,11.169,4.425,12H0v6h4.425c0.235,0.83,0.561,1.621,0.973,2.358l-3.126,3.126l4.243,4.242l3.125-3.125 c0.738,0.413,1.53,0.738,2.36,0.974V30h6v-4.425c0.83-0.235,1.622-0.561,2.36-0.974l3.125,3.125l4.243-4.242l-3.126-3.126 c0.412-0.737,0.737-1.528,0.973-2.358H30z M24.9,23.484l-1.415,1.414l-2.874-2.873c-1.295,1.035-2.878,1.723-4.611,1.916V28h-2 v-4.059c-1.733-0.193-3.316-0.881-4.611-1.916l-2.874,2.873L5.1,23.484l2.875-2.875C6.938,19.315,6.252,17.732,6.059,16H2v-2h4.059 c0.193-1.733,0.881-3.317,1.917-4.611L5.101,6.514L6.515,5.1L9.39,7.975c1.295-1.036,2.878-1.723,4.61-1.916V2h2v4.059 c1.732,0.192,3.315,0.879,4.61,1.916L23.485,5.1l1.414,1.414l-2.875,2.875c1.036,1.294,1.724,2.878,1.917,4.611H28v2h-4.059 c-0.193,1.732-0.88,3.315-1.916,4.609L24.9,23.484z M15,10c-2.762,0-5,2.239-5,5c0,2.762,2.238,5,5,5s5-2.238,5-5 C20,12.239,17.762,10,15,10z M15,18c-1.657,0-3-1.344-3-3c0-1.657,1.343-3,3-3s3,1.343,3,3C18,16.656,16.657,18,15,18z"})},showDeletedPages:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M3,3 L5,3 L5,6.701 C7.384,3.83 10.977,2 15,2 C22.18,2 28,7.82 28,15 C28,22.18 22.18,28 15,28 C7.82,28 2,22.18 2,15 L4,15 C4,21.075 8.925,26 15,26 C21.075,26 26,21.075 26,15 C26,8.925 21.075,4 15,4 C11.142,4 7.76,5.994 5.798,9 L11,9 L11,11 L3,11 L3,3 Z"})},random:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M9.45002,6.2999567 C8.87013,6.2999567 8.40002,5.8298565 8.40002,5.24995625 C8.40002,4.670056 8.87013,4.1999558 9.45002,4.1999558 C10.0299,4.1999558 10.5,4.670056 10.5,5.24995625 C10.5,5.8298565 10.0299,6.2999567 9.45002,6.2999567 Z M4.55,6.2999567 C3.9701,6.2999567 3.5,5.8298565 3.5,5.24995625 C3.5,4.670056 3.9701,4.1999558 4.55,4.1999558 C5.1299,4.1999558 5.6,4.670056 5.6,5.24995625 C5.6,5.8298565 5.1299,6.2999567 4.55,6.2999567 Z M6.993,0 C10.864,0 14,3.13600534 14,7.000007 C14,10.8639987 10.864,14 6.993,14 C3.129,14 0,10.8639987 0,7.000007 C0,3.13600534 3.129,0 6.993,0 Z M7,12.5999994 C10.094,12.5999994 12.6,10.0939983 12.6,7.000007 C12.6,3.90600567 10.094,1.4000046 7,1.4000046 C3.906,1.4000046 1.4,3.90600567 1.4,7.000007 C1.4,10.0939983 3.906,12.5999994 7,12.5999994 Z M7,10.8499986 C5.369,10.8499986 3.976,9.83499821 3.416,8.4000076 L4.585,8.4000076 C5.075,9.23299796 5.964,9.7999982 7,9.7999982 C8.036,9.7999982 8.932,9.23299796 9.415,8.4000076 L10.584,8.4000076 C10.024,9.83499821 8.631,10.8499986 7,10.8499986 Z"})},sort:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M17.406,21.594 L16,23 L22,29 L28,23 L26.594,21.594 L23,25.188 L23,5 L21,5 L21,25.188 L17.406,21.594 Z M12.594,8.406 L14,7 L8,1 L2,7 L3.406,8.406 L7,4.812 L7,25 L9,25 L9,4.812 L12.594,8.406 Z"})},speechBubble:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M0.913134,0.920639 C1.49851,0.331726 2.29348,0 3.12342,0 L10.8766,0 C11.7065,0 12.5015,0.331725 13.0869,0.920639 C13.6721,1.50939 14,2.30689 14,3.13746 L14,7.62943 C13.9962,8.01443 13.9059,8.47125 13.7629,8.82852 C13.6128,9.183 13.3552,9.57088 13.0869,9.84625 C12.813,10.1163 12.4265,10.3761 12.0734,10.5274 C11.7172,10.6716 11.2607,10.763 10.8766,10.7669 L10.1234,10.7669 L10.1234,12.5676 L10.1209,12.5676 C10.1204,12.793 10.0633,13.0792 9.97807,13.262 C9.8627,13.466 9.61158,13.7198 9.40818,13.8382 L9.40662,13.8391 L9.40539,13.8398 C9.22962,13.9255 8.94505,13.9951 8.75059,14 L8.74789,14 C8.35724,13.9963 7.98473,13.8383 7.71035,13.5617 L5.39553,10.7669 L3.12342,10.7669 C2.29348,10.7669 1.49851,10.4352 0.913134,9.84625 C0.644826,9.57089 0.387187,9.183 0.23711,8.82852 C0.0941235,8.47125 0.00379528,8.01443 0,7.62943 L0,3.13746 C0,2.30689 0.327915,1.50939 0.913134,0.920639 Z M3.12342,1.59494 C2.71959,1.59494 2.33133,1.75628 2.04431,2.04503 C1.75713,2.33395 1.59494,2.72681 1.59494,3.13746 L1.59494,7.62943 C1.59114,7.85901 1.62114,8.01076 1.71193,8.22129 C1.79563,8.4346 1.88065,8.56264 2.04431,8.72185 C2.33133,9.01061 2.71959,9.17195 3.12342,9.17195 L5.72383,9.17195 C5.93413,9.17195 6.13592,9.25502 6.28527,9.40308 L8.52848,12.1269 L8.52848,9.96942 C8.52848,9.52899 8.88552,9.17195 9.32595,9.17195 L10.8766,9.17195 C11.1034,9.17583 11.2517,9.14614 11.4599,9.05518 C11.6712,8.97132 11.7976,8.88635 11.9557,8.72185 C12.1193,8.56264 12.2044,8.4346 12.2881,8.22129 C12.3789,8.01076 12.4089,7.85901 12.4051,7.62943 L12.4051,3.13746 C12.4051,2.72681 12.2429,2.33394 11.9557,2.04503 C11.6687,1.75628 11.2804,1.59494 10.8766,1.59494 L3.12342,1.59494 Z"})},speechBubbleThin:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M22.7532,22.5338 C23.5213,22.526 24.4345,22.3433 25.1469,22.0548 C25.8531,21.7522 26.626,21.2326 27.1737,20.6925 C27.7104,20.1418 28.2256,19.366 28.5258,18.657 C28.8118,17.9425 28.9924,17.0289 29,16.2589 L29,8.27491 C29,6.61379 28.3442,5.01878 27.1737,3.84128 C26.003,2.66345 24.413,2 22.7532,2 L7.24684,2 C5.58696,2 3.99703,2.663451 2.82627,3.84128 C1.65583,5.01878 1,6.61379 1,8.27491 L1,16.2589 C1.00759057,17.0289 1.188247,17.9425 1.47422,18.657 C1.774375,19.366 2.28965,20.1418 2.82627,20.6925 C3.99703,21.8703 5.58697,22.5338 7.24684,22.5338 L11.7911,22.5338 L16.4207,28.1234 C16.9695,28.6766 17.7145,28.9926 18.4958,28.9999 L18.5012,29 C18.8901,28.9902 19.4592,28.8509 19.8108,28.6796 L19.8132,28.6782 L19.8164,28.6764 C20.2232,28.4396 20.7254,27.932 20.9561,27.5241 C21.1266,27.1583 21.2407,26.586 21.2417,26.1352 L21.2468,26.1352 L21.2468,22.5338 L22.7532,22.5338 Z M19.2468,25.9913 C19.2436,26.0374 19.2418,26.0839 19.2417,26.1308 C19.2416,26.2031 19.2306,26.3254 19.2028,26.4621 C19.1908,26.521 19.1786,26.5682 19.1684,26.6033 C19.1321,26.6491 19.0849,26.7028 19.0304,26.7579 C18.9756,26.8133 18.922,26.8615 18.8759,26.8988 C18.8715,26.9023 18.8673,26.9057 18.8632,26.9089 C18.8156,26.9252 18.7578,26.9422 18.6948,26.9576 C18.6312,26.9732 18.5719,26.9847 18.5225,26.9922 C18.5009,26.9954 18.4843,26.9974 18.4724,26.9987 C18.2567,26.9872 18.0509,26.9031 17.8881,26.7597 L13.3313,21.258 C12.9514,20.7993 12.3867,20.5338 11.7911,20.5338 L7.24684,20.5338 C6.12471,20.5338 5.04788,20.0867 4.25193,19.2898 C3.89579,18.9221 3.52751,18.3689 3.32374,17.8955 C3.13499,17.4156 3.00643,16.7622 3,16.2478 L3,8.27491 C3,7.14032 3.44804,6.05273 4.24473,5.25123 C5.04138,4.44977 6.12132,4 7.24684,4 L22.7532,4 C23.8787,4 24.9586,4.44977 25.7553,5.25123 C26.552,6.05273 27,7.14032 27,8.27491 L27,16.2478 C26.9936,16.7622 26.865,17.4156 26.6763,17.8955 C26.4739,18.3657 26.1091,18.9147 25.7552,19.2824 C25.3897,19.6384 24.8438,20.0052 24.3776,20.2085 C23.9015,20.3978 23.2514,20.5272 22.7419,20.5338 L21.2468,20.5338 C20.1423,20.5338 19.2468,21.4292 19.2468,22.5338 L19.2468,25.9913 Z M8,9 L8,11 L22,11 L22,9 L8,9 Z M8,14 L8,16 L18,16 L18,14 L8,14 Z"})},star:{viewBox:"0 0 24 24",svg:o.createElement("path",{d:"M 21.8901 9.96167L 16.2892 8.85783C 15.5108 8.70441 14.7923 8.19902 14.4382 7.41621L 12 2.02653L 9.56184 7.41621C 9.20772 8.19901 8.48919 8.70441 7.71076 8.85783L 2.10992 9.96167L 6.15369 13.7705C 6.76474 14.3461 7.06408 15.2064 6.86942 16.0696L 5.51107 22.093L 10.691 19.1803C 11.4989 18.726 12.5011 18.726 13.309 19.1803L 18.4889 22.093L 17.1306 16.0696C 16.9359 15.2064 17.2353 14.3461 17.8463 13.7705L 21.8901 9.96167ZM 23.1437 8.67989C 23.9739 8.84351 24.2847 9.76673 23.6963 10.321L 18.8748 14.8624C 18.6275 15.0954 18.5225 15.4233 18.5938 15.7396L 20.1901 22.8178C 20.3806 23.6629 19.3612 24.3044 18.5514 23.849L 12.5738 20.4878C 12.2225 20.2902 11.7775 20.2902 11.4262 20.4878L 5.44864 23.849C 4.63876 24.3044 3.61936 23.6629 3.80994 22.8178L 5.40616 15.7396C 5.47751 15.4233 5.37249 15.0954 5.12522 14.8624L 0.303734 10.321C -0.284752 9.76673 0.0260707 8.84351 0.856261 8.67989L 7.42071 7.38614C 7.77015 7.31727 8.05975 7.09732 8.19518 6.79796L 10.9941 0.610714C 11.3625 -0.203571 12.6375 -0.203571 13.0059 0.610714L 15.8048 6.79796C 15.9402 7.09732 16.2299 7.31727 16.5793 7.38614L 23.1437 8.67989Z"})},sub:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M5 3V20H23.187L19.594 16.406L21 15L27 21L21 27L19.594 25.594L23.187 22H3V3H5Z"})},team:{viewBox:"0 0 16 16",svg:o.createElement("path",{d:"M11,12.396c-0.815-0.637-1.719-1.052-3-1.813V9.965c0.242-0.278,0.448-0.621,0.615-1.014C9.081,8.836,9.5,8.382,9.5,8 c0-0.551-0.232-0.769-0.504-0.947C8.996,7.035,9,7.019,9,7c0-0.813-0.5-3-3-3S3,6.188,3,7c0,0.019,0.004,0.035,0.004,0.053 C2.732,7.231,2.5,7.449,2.5,8c0,0.382,0.419,0.836,0.885,0.952C3.552,9.344,3.758,9.687,4,9.965v0.618 c-1.281,0.76-2.185,1.175-3,1.813C0.047,13.141,0,14.25,0,16h12C12,14.25,11.953,13.141,11,12.396z M15,8.396 c-0.815-0.637-1.719-1.052-3-1.813V5.965c0.242-0.278,0.448-0.621,0.615-1.014C13.081,4.836,13.5,4.382,13.5,4 c0-0.551-0.232-0.769-0.504-0.947C12.996,3.035,13,3.019,13,3c0-0.813-0.5-3-3-3S7,2.188,7,3c0,0.019,0.004,0.035,0.004,0.053 C6.985,3.066,6.969,3.081,6.95,3.094c2.001,0.41,2.875,2.104,3.025,3.475C10.258,6.867,10.5,7.31,10.5,8 c0,0.689-0.476,1.375-1.147,1.731c-0.065,0.125-0.134,0.245-0.207,0.36c0.174,0.098,0.34,0.191,0.5,0.28 c0.732,0.409,1.364,0.762,1.97,1.236c0.158,0.123,0.293,0.256,0.417,0.392H16C16,10.25,15.953,9.141,15,8.396z"})},trash:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M21,5c0-2.2-1.8-4-4-4h-4c-2.2,0-4,1.8-4,4H2v2h2v22h22V7h2V5H21z M13,3h4c1.104,0,2,0.897,2,2h-8C11,3.897,11.897,3,13,3zM24,27H6V7h18V27z M16,11h-2v12h2V11z M20,11h-2v12h2V11z M12,11h-2v12h2V11z"})},triangle:{viewBox:"0 0 100 100",svg:o.createElement("polygon",{points:"5.9,88.2 50,11.8 94.1,88.2 "})},undo:{viewBox:"0 0 100 100",svg:o.createElement("path",{d:"M74.256,36.006 C62.043,23.791 43.268,21.352 28.374,29.957 L21.145,17.533 L14.582,42.359 L39.41,48.923 L31.899,36.015 C44.047,29.011 59.346,30.995 69.306,40.954 C79.402,51.052 81.322,66.638 73.975,78.858 L79.975,82.465 C88.981,67.484 86.63,48.379 74.256,36.006 Z"})},redo:{viewBox:"0 0 100 100",svg:o.createElement("path",{d:"M25.744,36.006 C37.957,23.791 56.732,21.352 71.626,29.957 L78.855,17.533 L85.418,42.359 L60.59,48.923 L68.101,36.015 C55.953,29.011 40.654,30.995 30.694,40.954 C20.598,51.052 18.678,66.638 26.025,78.858 L20.025,82.465 C11.019,67.484 13.37,48.379 25.744,36.006 Z"})},sidebarImport:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M11.2857,6.05714 L10.08571,4.85714 L7.85714,7.14786 L7.85714,1 L6.14286,1 L6.14286,7.14786 L3.91429,4.85714 L2.71429,6.05714 L7,10.42857 L11.2857,6.05714 Z M1,11.2857 L1,13 L13,13 L13,11.2857 L1,11.2857 Z"})},sidebarSearch:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M5.92239093,0.540000021 C2.94055203,0.540000021 0.5,2.98052217 0.5,5.96238099 C0.5,8.9442199 2.94055203,11.384762 5.92239093,11.384762 C7.02329179,11.384762 8.05258749,11.0564678 8.91032559,10.4866744 L12.1460745,13.6802311 C12.5695899,14.1037465 13.2589477,14.1037465 13.6823635,13.6802311 C14.1058788,13.2567158 14.1058788,12.5730353 13.6823635,12.1495199 L10.4410368,8.95033558 C11.0107904,8.09259747 11.3447619,7.06329182 11.3447619,5.96238099 C11.3447619,2.98052217 8.90420992,0.540000021 5.92239093,0.540000021 Z M5.92239093,2.70895241 C7.7320027,2.70895241 9.17580956,4.15272939 9.17580956,5.96238099 C9.17580956,7.77201268 7.7320027,9.21581954 5.92239093,9.21581954 C4.11275925,9.21581954 2.66895239,7.77201268 2.66895239,5.96238099 C2.66895239,4.15272939 4.11275925,2.70895241 5.92239093,2.70895241 Z"})},sidebarSettings:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M14,7.77 L14,6.17 L12.06,5.53 L11.61,4.44 L12.49,2.6 L11.36,1.47 L9.55,2.38 L8.46,1.93 L7.77,0.01 L6.17,0.01 L5.54,1.95 L4.43,2.4 L2.59,1.52 L1.46,2.65 L2.37,4.46 L1.92,5.55 L0,6.23 L0,7.82 L1.94,8.46 L2.39,9.55 L1.51,11.39 L2.64,12.52 L4.45,11.61 L5.54,12.06 L6.23,13.98 L7.82,13.98 L8.45,12.04 L9.56,11.59 L11.4,12.47 L12.53,11.34 L11.61,9.53 L12.08,8.44 L14,7.75 L14,7.77 Z M7,10 C5.34,10 4,8.66 4,7 C4,5.34 5.34,4 7,4 C8.66,4 10,5.34 10,7 C10,8.66 8.66,10 7,10 Z"})},sidebarTrash:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M13.5000308,3.23952 C13.5000308,4.55848168 11.9230308,12.0493 11.9230308,12.0782 C11.9230308,12.6571 9.73825083,14 7.04165083,14 C4.34504083,14 2.16025083,12.6571 2.16025083,12.0782 C2.16025083,12.0541 0.5,4.55799105 0.5,3.23952 C0.5,1.91780104 3.02713083,0 7.03525083,0 C11.0433308,0 13.5000308,1.9178004 13.5000308,3.23952 Z M7,2 C3.625,2 2.5,3.25 2.5,4 C2.5,4.75 3.625,6 7,6 C10.375,6 11.5,4.75 11.5,4 C11.5,3.25 10.375,2 7,2 Z"})},sidebarUpgrade:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M7.4973822,14 L6.3327516,14 L6.3327516,12.9982548 C3.59627691,12.8598022 2.00814427,11.5730076 2,9.51250727 L4.82606166,9.51250727 C4.86678301,10.2129145 5.48574753,10.7667248 6.3327516,10.8563118 L6.3327516,8.28272251 L5.36358348,8.07911576 C3.31122746,7.62303665 2.21175102,6.47469459 2.21175102,4.69924375 C2.21175102,2.60616638 3.71844095,1.28679465 6.3327516,1.09947644 L6.3327516,0 L7.4973822,0 L7.4973822,1.10762071 C9.89179756,1.33566027 11.414776,2.68760908 11.4392088,4.60965678 L8.70273415,4.60965678 C8.68644561,3.98254799 8.1733566,3.42873764 7.4973822,3.31471786 L7.4973822,5.79872019 L8.46655032,5.97789412 C10.600349,6.38510762 11.6835369,7.50901687 11.6835369,9.32518906 C11.6835369,11.4508435 10.176847,12.762071 7.4973822,12.9819663 L7.4973822,14 Z M8.89005236,9.65910413 C8.89005236,9.04013962 8.43397324,8.65735893 7.4973822,8.48632926 L7.4973822,10.8563118 C8.36067481,10.7830134 8.89005236,10.3350785 8.89005236,9.65910413 Z M5.07853403,4.4141943 C5.07853403,4.99243746 5.51018034,5.39150669 6.3327516,5.56253636 L6.3327516,3.30657359 C5.59162304,3.34729494 5.07853403,3.80337405 5.07853403,4.4141943 Z"})},addPageCover:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M0,2 C0,0.895432 0.895508,0 2,0 L12,0 C13.1045,0 14,0.895432 14,2 L14,12 C14,13.1046 13.1045,14 12,14 L2,14 C0.895508,14 0,13.1046 0,12 L0,2 Z M2,1.5 C1.72363,1.5 1.5,1.72386 1.5,2 L1.5,12 C1.5,12.2761 1.72363,12.5 2,12.5 L12,12.5 C12.2764,12.5 12.5,12.2761 12.5,12 L12.5,2 C12.5,1.72386 12.2764,1.5 12,1.5 L2,1.5 Z M4.5,7.25 L6.28564,9.75833 L8.78564,6 L12,11 L2,11 L4.5,7.25 Z"})},addPageDiscussion:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M0.913134,0.920639 C1.49851,0.331726 2.29348,0 3.12342,0 L10.8766,0 C11.7065,0 12.5015,0.331725 13.0869,0.920639 C13.6721,1.50939 14,2.30689 14,3.13746 L14,8.12943 C13.9962,8.51443 13.9059,8.97125 13.7629,9.32852 C13.6128,9.683 13.3552,10.0709 13.0869,10.3462 C12.813,10.6163 12.4265,10.8761 12.0734,11.0274 C11.7172,11.1716 11.2607,11.263 10.8766,11.2669 L10.1234,11.2669 L10.1234,12.5676 L10.1209,12.5676 C10.1204,12.793 10.0633,13.0791 9.97807,13.262 C9.8627,13.466 9.61158,13.7198 9.40818,13.8382 L9.40824,13.8383 C9.4077,13.8386 9.40716,13.8388 9.40661,13.8391 C9.40621,13.8393 9.4058,13.8396 9.40539,13.8398 L9.40535,13.8397 C9.22958,13.9254 8.94505,13.9951 8.75059,14 L8.74789,14 C8.35724,13.9963 7.98473,13.8383 7.71035,13.5617 L5.39553,11.2669 L3.12342,11.2669 C2.29348,11.2669 1.49851,10.9352 0.913134,10.3462 C0.644826,10.0709 0.387187,9.683 0.23711,9.32852 C0.0941235,8.97125 0.00379528,8.51443 0,8.12943 L0,3.13746 C0,2.30689 0.327915,1.50939 0.913134,0.920639 Z M3.12342,1.59494 C2.71959,1.59494 2.33133,1.75628 2.04431,2.04503 C1.75713,2.33395 1.59494,2.72681 1.59494,3.13746 L1.59494,8.12943 C1.59114,8.35901 1.62114,8.51076 1.71193,8.72129 C1.79563,8.9346 1.88065,9.06264 2.04431,9.22185 C2.33133,9.5106 2.71959,9.67195 3.12342,9.67195 L5.72383,9.67195 C5.93413,9.67195 6.13592,9.75502 6.28527,9.90308 L8.52848,12.1269 L8.52848,10.4694 C8.52848,10.029 8.88552,9.67195 9.32595,9.67195 L10.8766,9.67195 C11.1034,9.67583 11.2517,9.64614 11.4599,9.55518 C11.6712,9.47132 11.7976,9.38635 11.9557,9.22185 C12.1193,9.06264 12.2044,8.9346 12.2881,8.72129 C12.3789,8.51076 12.4089,8.35901 12.4051,8.12943 L12.4051,3.13746 C12.4051,2.72681 12.2429,2.33394 11.9557,2.04503 C11.6687,1.75628 11.2804,1.59494 10.8766,1.59494 L3.12342,1.59494 Z"})},addPageIcon:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M7,0 C10.8611563,0 14,3.13884372 14,7 C14,10.8611563 10.8611563,14 7,14 C3.13884372,14 0,10.8611563 0,7 C0,3.13884372 3.13884372,0 7,0 Z M7,12.4366581 C9.99199057,12.4366581 12.4366581,9.99199057 12.4366581,7 C12.4366581,4.00800943 9.99199057,1.56334192 7,1.56334192 C4.00800943,1.56334192 1.56334192,4.00800943 1.56334192,7 C1.56334192,9.99199057 4.00800943,12.4366581 7,12.4366581 Z M10.2047987,8.05080301 C10.5422471,8.31720964 10.5969989,8.79902568 10.3294688,9.13789228 C9.70072381,9.92382348 8.52090505,10.6790578 6.85314685,10.6790578 C5.18692175,10.6790578 3.92632016,9.870672 3.37623547,9.13715056 C3.10912252,8.79880749 3.16425472,8.30261766 3.50149501,8.03637533 C3.83983808,7.76926238 4.3360279,7.82439458 4.60919693,8.17117211 C4.87204485,8.56544398 5.75970971,9.11571586 6.85314685,9.11571586 C7.946584,9.11571586 8.83424886,8.56544398 9.10695636,8.15803822 C9.3865665,7.82600118 9.86551747,7.7829494 10.2047987,8.05080301 Z M4.58800147,6.32189915 C4.02083735,6.32189915 3.56105999,5.86212179 3.56105999,5.29495767 C3.56105999,4.72779356 4.02083735,4.26801619 4.58800147,4.26801619 C5.15516559,4.26801619 5.61494295,4.72779356 5.61494295,5.29495767 C5.61494295,5.86212179 5.15516559,6.32189915 4.58800147,6.32189915 Z M9.11829223,6.32189915 C8.55112812,6.32189915 8.09135075,5.86212179 8.09135075,5.29495767 C8.09135075,4.72779356 8.55112812,4.26801619 9.11829223,4.26801619 C9.68545635,4.26801619 10.1452337,4.72779356 10.1452337,5.29495767 C10.1452337,5.86212179 9.68545635,6.32189915 9.11829223,6.32189915 Z"})},editPageContents:{viewBox:"0 0 16 16",svg:o.createElement("path",{d:"M 11.7538 3.38462L 10 1.63077L 1.63077 10L 3.38462 11.7538L 11.7538 3.38462ZM 12.9231 0C 12.2689 0 11.4794 0.252923 10.8757 0.782154L 15.2234 5.12985C 15.7822 4.496 16 3.68738 16 3.07569C 16 1.37723 14.6228 0 12.9231 0ZM 0.615385 11.0154L 0 16L 4.98462 15.3846L 5.13846 15.2308L 0.769231 10.8615L 0.615385 11.0154ZM 4.24615 12.6154L 6 14.3692L 14.3692 6L 12.6154 4.24615L 4.24615 12.6154Z"})},audio:{viewBox:"0 0 26 23",svg:o.createElement("path",{d:"M0 6.06667V16.4667H5.2L12.1333 22.5333V0L5.2 6.06667H0ZM4.33333 14.7333H1.73333V7.8H4.33333V14.7333ZM6.06667 7.61193L10.4 3.8194V18.7139L6.06667 14.9214V7.61193ZM19.0667 11.2667C19.0667 8.84433 17.6445 6.76087 15.5931 5.78847L14.586 7.24447C16.1928 7.87627 17.3333 9.43453 17.3333 11.2684C17.3333 13.1023 16.1928 14.6588 14.586 15.2923L15.5931 16.7483C17.6445 15.7725 19.0667 13.689 19.0667 11.2667ZM19.5607 0.0563333L18.5718 1.48287C21.9709 3.42247 24.2658 7.07373 24.2658 11.2667C24.2658 15.4596 21.9709 19.1109 18.5727 21.0505L19.5615 22.477C23.4087 20.2193 26 16.0507 26 11.2667C26 6.48267 23.4087 2.314 19.5607 0.0563333ZM22.5333 11.2667C22.5333 7.6648 20.5339 4.53093 17.5855 2.9094L16.5915 4.34547C19.0918 5.64547 20.8 8.25413 20.8 11.2649C20.8 14.2757 19.0901 16.8844 16.5915 18.1844L17.5855 19.6205C20.5339 18.0015 22.5333 14.8685 22.5333 11.2667Z"})},codepen:{viewBox:"0 0 40 40",svg:o.createElement("path",{d:"M39.9834,13.7071 C39.8236,12.6665 38.6647,12.1063 37.8655,11.586 C36.4269,10.6255 35.0283,9.70502 33.5897,8.74452 C30.1931,6.46334 26.7564,4.18216 23.3598,1.90098 C22.5606,1.38071 21.7613,0.820424 20.9621,0.300155 C20.4027,-0.100052 19.6434,-0.100052 19.044,0.300155 C16.7663,1.82094 14.4485,3.38175 12.1708,4.90253 L2.10066,11.626 C1.22152,12.1863 0.0626603,12.7466 0.0226996,13.9472 C-0.0172612,15.2679 0.0226996,16.6286 0.0226996,17.9493 L0.0226996,24.3526 C0.0226996,25.5132 -0.217065,26.8739 0.861875,27.5943 C3.41936,29.3552 6.01681,31.036 8.61426,32.7569 C11.8111,34.878 15.008,37.0391 18.2048,39.1602 C19.084,39.7606 19.9631,40.4009 21.0421,39.6805 C21.9611,39.0802 22.8403,38.4799 23.7594,37.8796 C27.3159,35.5184 30.8724,33.1171 34.4289,30.7559 L38.385,28.1145 C38.6248,27.9544 38.9045,27.7944 39.1443,27.5943 C39.7037,27.1941 39.9435,26.6338 39.9435,25.9534 L39.9435,14.9477 C39.9834,14.5075 40.0234,14.1073 39.9834,13.7071 C39.9834,13.7871 39.9834,13.6671 39.9834,13.7071 Z M21.7214,4.94255 L35.1882,13.9472 L29.194,17.9893 L21.7214,12.9867 L21.7214,4.94255 Z M18.2848,4.94255 L18.2848,12.9467 L10.8521,17.9493 L4.81799,13.9472 L18.2848,4.94255 Z M3.45932,17.1489 L7.73512,20.0304 L3.45932,22.9118 L3.45932,17.1489 Z M18.2848,35.1182 L4.81799,26.1135 L10.8121,22.0714 L18.2448,27.074 L18.2448,35.1182 L18.2848,35.1182 Z M20.0031,24.1125 L13.929,20.0304 L20.0031,15.9482 L26.0771,20.0304 L20.0031,24.1125 Z M21.7214,35.1182 L21.7214,27.114 L29.1541,22.1114 L35.1482,26.1535 L21.7214,35.1182 Z M36.5468,22.9118 L32.271,20.0304 L36.5868,17.1489 L36.5468,22.9118 Z"})},compass:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M18,4.361V3c0-1.657-1.343-3-3-3s-3,1.343-3,3v1.361C6.27,5.718,2,10.854,2,17c0,7.18,5.82,13,13,13s13-5.82,13-13 C28,10.854,23.73,5.718,18,4.361z M14,3c0-0.552,0.448-1,1-1s1,0.448,1,1v1.051C15.669,4.025,15.338,4,15,4s-0.669,0.025-1,0.051V3z M16,27.949V26h-2v1.949C8.724,27.474,4.526,23.276,4.051,18H6v-2H4.051C4.526,10.724,8.724,6.526,14,6.051V8h2V6.051 c5.276,0.476,9.474,4.673,9.949,9.949H24v2h1.949C25.474,23.276,21.276,27.474,16,27.949z M8,24l10-4l4-10l-10,4L8,24z M18.41,13.59 l-1.949,4.871L11.59,20.41l1.949-4.871L18.41,13.59z"})},cornerResize:{viewBox:"0 0 16 16",svg:o.createElement("path",{fillRule:"evenodd",strokeWidth:"1.5",d:"M 14 0C 12.8955 0 12 0.895447 12 2L 12 12L 2 12C 0.895508 12 0 12.8954 0 14C 0 15.1046 0.895508 16 2 16L 14 16C 15.1045 16 16 15.1046 16 14L 16 2C 16 0.895447 15.1045 0 14 0Z"})},drive:{viewBox:"0 0 512 512",svg:o.createElement("g",null," ",o.createElement("path",{d:"M175.5,44.9c2.6,0,4.5,0,6.5,0c50.5,0,101,0.1,151.5-0.2c5.5,0,8.5,2,11,6.4c10.7,19,21.5,38,32.3,56.9   c13.2,23.2,26.5,46.4,39.8,69.5c14.8,25.9,29.8,51.6,44.6,77.5c11.9,20.7,23.6,41.6,35.4,62.4c1.5,2.6,5,5.2,3.5,7.8  c-0.8,1.4-5.6,0.6-8.5,0.6c-28.8-0.3-57.6-0.4-86.4-1.2c-19.7-0.6-39.3-0.3-58.9-0.8c-5.6-0.1-11.3-0.6-16.9-0.7   c-2.3,0-3.1-1.2-4-2.9c-9.7-17.9-19.4-35.7-29.2-53.6c-10.4-19.1-20.8-38.2-31.3-57.4c-11.5-21.2-23-42.4-34.5-63.5   c-11.6-21.3-23.3-42.6-34.9-64C188.7,69.7,182.3,57.6,175.5,44.9z"})," ",o.createElement("path",{d:"M97.1,474c1.6-6.5,5.5-10.8,8.3-15.6c14.5-25.3,29.3-50.3,43.9-75.5c8.6-14.9,17.1-29.8,25.5-44.8   c1.4-2.5,3.1-3.2,5.6-3.2c27.6,0.4,55.3,0.3,82.9,1.3c16.7,0.6,33.3,0.4,49.9,0.8c20.1,0.4,40.3,0.2,60.4,1.2  c13.8,0.6,27.6,0.4,41.4,0.7c29.3,0.5,58.6,0.8,87.9,1.2c1.4,0,3.2-0.7,4,1.1c0.5,1.3-0.4,2.4-1.2,3.6   c-10.4,16.3-20.8,32.7-31.2,49.1c-10.6,16.7-21.1,33.5-31.6,50.2c-5.3,8.4-10.6,16.7-15.6,25.2c-2.3,3.9-4.9,6.2-9.8,5.7   c-5.4-0.6-11-0.7-16.4-0.7c-99.3-0.1-198.6-0.2-297.9-0.3C101.3,474,99.4,474,97.1,474z"})," ",o.createElement("path",{d:"M9.8,326.3c1.1-5.3,4.5-9.5,7.1-14c14.3-25.7,28.9-51.2,43.3-76.8c9.7-17.1,19.5-34.3,29.2-51.4   c12.9-22.8,25.7-45.7,38.6-68.5c10.7-18.9,21.6-37.8,32.4-56.7c4.7-8.2,5.1-8.4,9.3-0.6c8.3,15.6,16.7,31.1,24.8,46.8  c6.1,11.9,12.6,23.7,18.9,35.5c7.2,13.6,14.5,27.2,21.7,40.7c2.2,4.2,4.3,8.6,6.8,12.7c1.3,2.1,0.9,3.4-0.3,5.4   c-16.2,27.3-32.2,54.7-48.4,81.9c-14,23.6-28.3,47-42.3,70.6c-16.4,27.5-32.6,55.1-49,82.6c-6.6,11.2-13.3,22.4-20,33.6   c-0.6,1.1-0.8,2.8-2.5,2.7c-1.6-0.1-2-1.7-2.6-2.8c-3.7-7.6-7.3-15.2-10.9-22.8c-6.9-14.7-13.9-29.3-20.9-44   c-9-18.8-18-37.5-27-56.3c-2.3-4.8-4.5-9.6-6.8-14.3C10.6,329.2,9.7,328,9.8,326.3z"})," ")},factoryBlockSettings:{viewBox:"0 0 24 24",svg:o.createElement("path",{d:"M12,8c-2.209,0-4,1.791-4,4s1.791,4,4,4s4-1.791,4-4S14.209,8,12,8z M12,14c-1.104,0-2-0.896-2-2s0.896-2,2-2s2,0.896,2,2 S13.104,14,12,14z M24,15V9h-3.523c-0.105-0.299-0.227-0.589-0.361-0.872l2.491-2.492l-4.243-4.243l-2.491,2.491 C15.59,3.75,15.299,3.629,15,3.523V0H9v3.523C8.701,3.629,8.411,3.75,8.128,3.885L5.636,1.394L1.394,5.636l2.491,2.492 C3.75,8.411,3.629,8.701,3.523,9H0v6h3.523c0.106,0.299,0.227,0.589,0.362,0.872l-2.492,2.491l4.243,4.243l2.492-2.491 C8.411,20.25,8.701,20.371,9,20.477V24h6v-3.523c0.299-0.105,0.59-0.227,0.872-0.361l2.491,2.491l4.243-4.243l-2.491-2.491 c0.135-0.283,0.256-0.573,0.361-0.872H24z M19.778,18.363l-1.415,1.415l-2.077-2.077c-0.896,0.502-2.271,1.049-3.286,1.363V22h-2 v-2.936c-1.016-0.314-2.391-0.861-3.286-1.363l-2.078,2.077l-1.415-1.415L6.3,16.285C5.781,15.359,5.234,13.953,4.936,13H2v-2h2.936 C5.234,10.047,5.781,8.641,6.3,7.714L4.222,5.636l1.415-1.415l2.078,2.077C8.609,5.797,9.984,5.25,11,4.936V2h2v2.936 c1.016,0.314,2.391,0.861,3.286,1.363l2.077-2.077l1.415,1.415L17.7,7.714c0.519,0.926,1.065,2.333,1.364,3.286H22v2h-2.936 c-0.299,0.953-0.846,2.359-1.364,3.285L19.778,18.363z"})},figma:{viewBox:"0 0 36 55",svg:o.createElement("path",{d:"M19.5,27.5 C19.5,23.08142 23.08142,19.5 27.5,19.5 C31.9186,19.5 35.5,23.08142 35.5,27.5 C35.5,31.9186 31.9186,35.5 27.5,35.5 C23.08142,35.5 19.5,31.9186 19.5,27.5 Z M0.5,46.5 C0.5,42.08142 4.08142,38.5 8.5,38.5 L16.5,38.5 L16.5,46.5 C16.5,50.9186 12.9186,54.5 8.5,54.5 C4.08142,54.5 0.5,50.9186 0.5,46.5 Z M19.5,16.5 L19.5,0.5 L27.5,0.5 C31.9186,0.5 35.5,4.08142 35.5,8.5 C35.5,12.9186 31.9186,16.5 27.5,16.5 L19.5,16.5 Z M8.5,16.5 C4.08142,16.5 0.5,12.9186 0.5,8.5 C0.5,4.08142 4.08142,0.5 8.5,0.5 L16.5,0.5 L16.5,16.5 L8.5,16.5 Z M8.5,35.5 C4.08142,35.5 0.5,31.9186 0.5,27.5 C0.5,23.08142 4.08142,19.5 8.5,19.5 L16.5,19.5 L16.5,35.5 L8.5,35.5 Z"})},framer:{viewBox:"0 0 48 77",svg:o.createElement("g",null," ",o.createElement("polygon",{points:"0 53 24 53 24 77"})," ",o.createElement("polygon",{points:"24 26 0 26 0 50 24 50 48 50"})," ",o.createElement("polygon",{points:"24 0 0 0 24 24 48 24 48 0"})," ")},github:{viewBox:"0 0 1024 1024",svg:o.createElement("path",{d:"M512 0C229.25 0 0 229.25 0 512c0 226.25 146.688 418.125 350.156 485.812 25.594 4.688 34.938-11.125 34.938-24.625 0-12.188-0.469-52.562-0.719-95.312C242 908.812 211.906 817.5 211.906 817.5c-23.312-59.125-56.844-74.875-56.844-74.875-46.531-31.75 3.53-31.125 3.53-31.125 51.406 3.562 78.47 52.75 78.47 52.75 45.688 78.25 119.875 55.625 149 42.5 4.654-33 17.904-55.625 32.5-68.375C304.906 725.438 185.344 681.5 185.344 485.312c0-55.938 19.969-101.562 52.656-137.406-5.219-13-22.844-65.094 5.062-135.562 0 0 42.938-13.75 140.812 52.5 40.812-11.406 84.594-17.031 128.125-17.219 43.5 0.188 87.312 5.875 128.188 17.281 97.688-66.312 140.688-52.5 140.688-52.5 28 70.531 10.375 122.562 5.125 135.5 32.812 35.844 52.625 81.469 52.625 137.406 0 196.688-119.75 240-233.812 252.688 18.438 15.875 34.75 47 34.75 94.75 0 68.438-0.688 123.625-0.688 140.5 0 13.625 9.312 29.562 35.25 24.562C877.438 930 1024 738.125 1024 512 1024 229.25 794.75 0 512 0z"})},invision:{viewBox:"0 0 215 182",svg:o.createElement("g",{stroke:"none",strokeWidth:"1"}," ",o.createElement("g",{transform:"translate(0.000000, -222.000000)"}," ",o.createElement("g",null," ",o.createElement("path",{d:"M98.9196618,401.249534 L67.23738,401.249534 C69.0283748,394.069758 70.787323,387.019973 72.4415558,380.387695 C68.8636285,384.425558 65.4170469,389.032134 61.2582199,392.866884 C50.6503674,402.647395 38.1012175,405.941417 24.0797327,402.23079 C13.9819165,399.55829 7.92421985,391.917675 6.61663119,381.562133 C5.46837247,372.464529 7.41824578,363.782628 9.57890401,355.080416 C13.7219334,338.391847 17.8017725,321.687933 21.9028255,304.989434 C22.0454551,304.409889 22.1339216,303.817254 22.2995706,302.96283 L-0.0003,302.96283 C2.30975824,294.403698 4.53721769,286.151943 6.78995327,277.806756 L60.5229552,277.806756 C60.3491817,278.642223 60.2273147,279.357627 60.0512844,280.059943 C53.0231647,308.023022 45.9535198,335.97572 39.0057421,363.95911 C38.1427426,367.435481 37.6331576,371.059899 37.479244,374.638277 C37.2535643,379.877659 40.2013936,382.783512 45.4935844,382.824134 C53.5440336,382.885068 60.4588621,379.769784 66.3955944,374.554776 C72.743064,368.979131 77.1564578,362.201967 79.1663619,353.808936 C83.0828089,337.452117 87.2971531,321.167064 91.379249,304.850416 C91.5232327,304.276286 91.5715282,303.678686 91.6933952,302.909569 L69.2513464,302.909569 C69.6155936,301.479211 69.9089773,300.269116 70.2316994,299.067145 C71.9843286,292.540938 73.758623,286.020597 75.4882328,279.488522 C75.7789084,278.389461 76.0555918,277.645621 77.5008451,277.651037 C92.8448135,277.709714 108.18833,277.692562 123.531847,277.702492 C123.75166,277.702492 123.97102,277.781931 124.411096,277.867238 C122.458966,286.803255 120.511801,295.717606 118.565087,304.631958 C118.656261,304.671226 118.747887,304.710043 118.838611,304.749311 C120.277996,302.605804 121.639297,300.404524 123.17076,298.328721 C129.752485,289.408051 137.659853,281.997178 148.043831,277.728671 C168.022811,269.515732 188.005402,280.685076 192.142563,302.283534 C193.975534,311.851454 193.064691,321.305631 190.553778,330.628914 C187.175803,343.16994 183.622249,355.664024 180.318748,368.224458 C179.661569,370.722733 179.467484,373.448493 179.624106,376.035235 C179.988804,382.073072 185.463796,384.737899 190.442292,381.268749 C192.360119,379.932273 194.120421,378.060937 195.308399,376.052387 C197.438816,372.450086 199.08989,368.563429 200.922861,364.787355 C201.278532,364.054347 201.552056,363.281168 201.937066,362.346854 C206.06836,363.936993 210.106223,365.491476 214.381049,367.137584 C210.178891,380.337594 205.268551,393.058261 192.248181,399.864312 C181.021966,405.732889 169.389528,405.395272 158.535233,398.5987 C151.013326,393.889214 148.484358,386.186312 148.027131,377.697592 C147.620005,370.133709 149.656088,362.968376 151.693976,355.800786 C154.30148,346.629159 157.031754,337.485517 159.315182,328.232646 C160.272516,324.353211 160.657977,320.20973 160.534756,316.210233 C160.26394,307.425422 153.949871,301.479211 145.147908,301.094201 C135.701404,300.681207 128.636273,304.704626 123.601357,312.562796 C119.514296,318.940958 117.721496,326.162711 115.917863,333.384916 C110.367494,355.603993 104.804488,377.819911 99.2455434,400.036731 C99.157077,400.390597 99.0564238,400.741303 98.9196618,401.249534 Z M28.7006165,241.023028 C28.6658618,230.356047 37.1446512,221.982425 47.9637399,222.000028 C58.6717942,222.017631 67.1365914,230.335285 67.169992,240.873176 C67.2033927,251.467488 58.5991253,259.984192 47.8874602,259.958916 C37.2349231,259.934091 28.7349198,251.545573 28.7006165,241.023028 Z"})," ")," ")," ")},loom:{viewBox:"0 0 32 32",svg:o.createElement("path",{d:"M32,16 C32,20.1956 29.5822,24.0356 25.8133,25.8844 C24.0356,29.5111 20.3378,32 16,32 C11.8044,32 7.96444,29.5822 6.11556,25.8133 C2.48889,24.0356 0,20.3378 0,16 C0,11.8044 2.41778,7.96444 6.18667,6.11556 C7.96444,2.48889 11.6622,0 16,0 C20.1956,0 24.0356,2.41778 25.8844,6.18667 C29.5111,7.96444 32,11.6622 32,16 Z M5.19111,9.10222 C3.27111,10.8089 2.06222,13.3689 2.06222,16.0711 C2.06222,21.12 6.11556,25.2444 11.0933,25.2444 C13.7244,25.2444 16.2133,24.0356 17.92,22.0444 L17.7457,22.0639 C17.1751,22.128 16.6524,22.1867 16.0711,22.1867 C14.5067,22.1867 12.9422,21.8311 11.5911,21.1911 L11.52,21.1911 C7.68,19.4133 5.04889,15.5022 5.04889,10.9511 C5.04889,10.3698 5.10756,9.84713 5.17161,9.27656 L5.19111,9.10222 Z M16.0711,2.06222 C11.0933,2.06222 7.04,6.11556 7.04,11.0933 C7.04,13.7244 8.17778,16.2133 10.1689,17.92 L10.1494,17.7457 C10.0853,17.1751 10.0267,16.6524 10.0267,16.0711 C10.0267,14.5067 10.3822,12.9422 11.0222,11.5911 L11.0222,11.52 C12.7289,7.68 16.5689,5.04889 21.0489,5.04889 C21.6889,5.04889 22.3289,5.12 22.8978,5.19111 C21.2622,3.27111 18.7022,2.06222 16.0711,2.06222 Z M15.9289,10.0267 C17.5644,10.0267 19.1289,10.3822 20.5511,11.0222 C24.4622,12.8 27.1644,16.5689 27.1644,21.0489 C27.1644,21.6889 27.0933,22.3289 27.0222,22.8978 C29.0133,21.2622 30.2222,18.7022 30.2222,16.0711 C30.2222,11.0933 26.0978,7.04 21.0489,7.04 C18.3467,7.04 15.7867,8.17778 14.08,10.1689 C14.6489,10.0978 15.2889,10.0267 15.9289,10.0267 Z M19.5556,12.7289 C18.4889,12.3022 17.3511,12.0178 16.1422,12.0889 C14.9333,12.0889 13.7956,12.3733 12.6578,12.8 C12.2311,13.8667 12.0178,15.0044 12.0178,16.2133 C12.0178,17.4222 12.3022,18.56 12.7289,19.6978 C13.7956,20.1244 14.9333,20.3378 16.1422,20.3378 C17.3511,20.3378 18.4889,20.0533 19.6267,19.6267 C20.0533,18.56 20.2667,17.4222 20.2667,16.2133 C20.2667,15.0044 19.9822,13.8667 19.5556,12.7289 Z M9.10222,27.0222 C10.8089,29.0133 13.3689,30.2222 16.0711,30.2222 C21.12,30.2222 25.2444,26.0978 25.2444,21.0489 C25.2444,18.3467 24.0356,15.7867 22.0444,14.08 C22.1156,14.6489 22.1867,15.2889 22.1867,15.9289 C22.1867,17.5644 21.8311,19.0578 21.1911,20.48 L21.1911,20.5511 C19.4133,24.4622 15.5022,27.1644 10.9511,27.1644 C10.3698,27.1644 9.84715,27.1058 9.2766,27.0417 C9.219,27.0353 9.16091,27.0287 9.10222,27.0222 Z"})},maps:{viewBox:"0 0 160 164",svg:o.createElement("g",null," ",o.createElement("polyline",{points:"16 163.155 76.159 103 136.314 163.155 16 163.155"})," ",o.createElement("path",{d:"M91.1523093,12 C89.1061243,15.5558234 87.6020864,19.4206238 86.7688642,23.441 C84.8448642,33.084 86.5958642,43.241 91.3038642,51.836 C91.8382207,52.8588753 92.3925227,53.8704894 92.9644441,54.8718184 L0,147.839 L0,24.942 C0,17.799 5.796,12 12.942,12 L91.1523093,12 L91.1523093,12 Z M27.8186945,28.8787927 C20.9826945,31.9947927 15.9026945,38.8067927 15.1686945,46.3227927 C13.7376945,56.9777927 21.5856945,67.7337927 32.0706945,69.9057927 C40.5536945,71.9007927 50.5746945,68.4527927 54.8196945,60.5497927 C57.5256945,56.1347927 57.8816945,50.7917927 57.3626945,45.7587927 C50.5816945,45.0857927 43.5296945,45.6577927 36.6486945,45.4797927 C36.5946945,48.0237927 36.6096945,50.5677927 36.7256945,53.1037927 C40.8396945,53.0417927 44.9526945,53.0807927 49.0736945,53.0727927 C47.8296945,58.9497927 41.9446945,62.9007927 36.0456945,62.2127927 C27.0296945,62.0967927 20.6586945,51.4727927 24.4936945,43.3927927 C27.4236945,35.1807927 39.1766945,32.2347927 45.4326945,38.4437927 C47.4426945,36.5027927 49.4526945,34.5547927 51.4096945,32.5597927 C45.1536945,26.7907927 35.5196945,25.3527927 27.8186945,28.8787927 Z"})," ",o.createElement("path",{d:"M124.80036,20.6120969 C120.325021,21.6105482 116.569675,25.5689693 116.191987,30.2012296 C115.721991,34.5142624 118.24735,38.8911407 122.112695,40.7949674 C126.304191,43.0118678 131.806442,42.332644 135.307176,39.1288306 C138.574835,36.2380909 139.764822,31.2458343 138.057917,27.2058756 C136.037937,22.1505427 130.041845,19.2713414 124.80036,20.6120969 Z M129.322621,0 C138.754833,0.539994477 147.978584,5.14840888 153.696218,12.7298698 C157.440026,17.5182824 159.529236,23.4620677 160,29.4989291 L160,31.7396754 C159.779233,43.4418634 152.290848,53.047919 145.807068,62.1501336 C138.528681,72.435413 131.801058,83.6445291 129.937231,96.3213226 C129.438005,98.4697621 129.034302,102.445875 127.470333,102.445875 C124.80036,102.3677 123.210376,86.842958 120.185792,80.3707165 C116.755058,72.8300244 111.978183,66.0154787 107.125156,59.3463161 C104.17134,55.3471262 101.384446,51.2079378 99.0798538,46.7964445 C95.4583524,40.1849736 94.1114431,32.3719766 95.591428,24.9543602 C96.8052617,19.097497 99.8698458,13.6698602 104.112879,9.47298004 C109.830513,3.88303721 117.561972,0.499225663 125.538045,0 L129.322621,0 Z"})," ",o.createElement("path",{d:"M151.652474,72 L151.652474,148.672145 C135.535571,132.464045 127.553192,124.419378 127.705338,124.538145 C131.041338,123.277145 130.263338,119.369145 130.912338,116.576145 C133.335338,100.096145 142.081338,85.5241452 151.543338,72.1531452 C151.579693,72.102109 151.616072,72.0510607 151.652474,72 Z"})," ",o.createElement("path",{d:"M106.040648,74 L92,88.0399478 L125.952845,121.992793 C123.906994,113.374953 121.723258,103.970177 117.61803,95.9459594 C114.174293,88.3766869 110.811044,80.7912134 106.040648,74 Z"})," ")},picture:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M1,4v22h28V4H1z M27,24H3V6h24V24z M18,10l-5,6l-2-2l-6,8h20L18,10z M11.216,17.045l1.918,1.918l4.576-5.491L21.518,20H9 L11.216,17.045z M7,12c1.104,0,2-0.896,2-2S8.104,8,7,8s-2,0.896-2,2S5.896,12,7,12z"})},tex:{viewBox:"0 0 32 21",svg:o.createElement("g",null," ",o.createElement("g",{id:"d7fc5246-3c04-467c-8f25-6c129c5642ac","data-name":"tex"}," ",o.createElement("g",{id:"ec363c67-067d-4da0-8c27-f8d029e068bd","data-name":"E"}," ",o.createElement("path",{id:"e1948427-1829-4c96-a9f4-14a99a3d5b97","data-name":"path0 fill",d:"M497.33,497.82c-1.2,0-2.11-.06-3-0.06a0.5,0.5,0,0,0-.55.27c0,0.15.17,0.23,0.57,0.32a1.08,1.08,0,0,1,1.06,1.23c0,0.55,0,1,0,3.32s-0.08,4.43-.13,5.21c-0.08,1-.42,1.2-1.39,1.41a0.59,0.59,0,0,0-.53.32c0,0.21.23,0.25,0.59,0.25,0.7,0,1.08-.09,2.13-0.09,2.76,0,6,.13,6.21.13a0.7,0.7,0,0,0,.36-0.21,14.63,14.63,0,0,0,.68-2.07c0-.21,0-0.53-0.15-0.53a0.78,0.78,0,0,0-.48.55,2.41,2.41,0,0,1-1.54,1.41,9,9,0,0,1-1.8.15,10.57,10.57,0,0,1-1.69-.13,0.74,0.74,0,0,1-.38-0.44,7,7,0,0,1-.15-1.56c0-.78,0-2.49.06-2.93a0.26,0.26,0,0,1,.17-0.17c0.53,0,1.29,0,1.9,0,1.06,0.06,1.18.13,1.44,1a0.52,0.52,0,0,0,.32.4c0.15,0,.23-0.19.23-0.53s-0.06-.68-0.06-1.2,0-.84.06-1.35c0-.17,0-0.46-0.17-0.46a0.54,0.54,0,0,0-.36.42c-0.34.87-.38,0.93-2.09,0.93h-1.27a0.18,0.18,0,0,1-.17-0.17c0-.44,0-3.84.08-4.29a0.5,0.5,0,0,1,.27-0.55,21.09,21.09,0,0,1,2.7.1,1.4,1.4,0,0,1,1.25,1.31,0.54,0.54,0,0,0,.3.47,0.46,0.46,0,0,0,.3-0.51c0-.38,0-1.08,0-1.84a0.28,0.28,0,0,0-.17-0.23,14.12,14.12,0,0,1-1.75.08h-2.81Z",transform:"translate(-484.44 -490.06)"})," ")," ",o.createElement("g",{id:"8dfbf0a9-85f0-49da-99d8-6229354b9534","data-name":"T"}," ",o.createElement("path",{id:"8602b8e9-f5d6-42d3-88c6-0649b350ce04","data-name":"path1 fill",d:"M490.48,490.82c-2.18,0-3.91-.06-4.39-0.11a1.32,1.32,0,0,1-.68-0.34,0.85,0.85,0,0,0-.3-0.3,0.39,0.39,0,0,0-.28.32,19.85,19.85,0,0,1-.38,2.55,0.4,0.4,0,0,0,.23.42c0.08,0,.19,0,0.38-0.42a5.64,5.64,0,0,1,.61-1,1.72,1.72,0,0,1,1.35-.44c0.32,0,1.94,0,2.3.09a0.26,0.26,0,0,1,.17.25v2.26c0,1.46-.09,5.3-0.13,6.44-0.06,1.41-.11,1.71-1.41,2a0.47,0.47,0,0,0-.38.34c0,0.11.19,0.23,0.57,0.23s1.33-.13,2.22-0.13,2.13,0.1,2.28.1,0.53,0,.53-0.25a0.65,0.65,0,0,0-.49-0.34c-1.22-.25-1.31-0.53-1.39-1.33s-0.1-2.6-.1-4.81c0-1.63,0-3.61,0-4.5a0.35,0.35,0,0,1,.15-0.25c0.29-.06,2.26-0.06,2.6,0,1.12,0.06,1.37.15,1.5,1.16,0.06,0.48.15,0.61,0.28,0.61a0.43,0.43,0,0,0,.32-0.38,11.69,11.69,0,0,1,.42-2.2c0.1-.27,0-0.44-0.09-0.44a0.72,0.72,0,0,0-.28.13,2.49,2.49,0,0,1-1.33.32C494,490.8,491.49,490.82,490.48,490.82Z",transform:"translate(-484.44 -490.06)"})," ")," ",o.createElement("g",{id:"88168da7-a35d-4a6e-af2a-2bab78b9d062","data-name":"X"}," ",o.createElement("path",{id:"f33958e3-fb20-476c-b2a8-674ffe821a96","data-name":"path2 fill",d:"M504,491a0.52,0.52,0,0,0,.51.36,3,3,0,0,1,1.84,1.14,53.54,53.54,0,0,1,3,4.73,0.22,0.22,0,0,1-.06.27c-1.14,1.58-2.22,2.87-3,3.72a4.47,4.47,0,0,1-2.22,1.27c-0.51.1-.7,0.27-0.7,0.44s0.15,0.21.51,0.21,1.2-.1,2-0.1c0.61,0,1.48.06,2,.06,0.25,0,.46-0.08.46-0.27a0.53,0.53,0,0,0-.46-0.32c-0.74-.27-1-0.47-0.17-1.82,0.53-.78,1.44-2,2.05-2.72a0.15,0.15,0,0,1,.19,0c0.23,0.21,2.09,3.17,2.53,4a0.26,0.26,0,0,1-.08.34,3.18,3.18,0,0,1-.68.23c-0.32.11-.42,0.19-0.42,0.34s0.11,0.25.47,0.25,1-.08,1.58-0.08c1.12,0,2.17.11,2.79,0.11,0.42,0,.57-0.09.57-0.25a0.49,0.49,0,0,0-.44-0.36,3.37,3.37,0,0,1-2.34-1.73c-0.49-.67-2.7-4-2.83-4.31a0.45,0.45,0,0,1,0-.23c0.91-1.27,2.17-2.7,2.85-3.52a3.79,3.79,0,0,1,2.38-1.41,0.5,0.5,0,0,0,.44-0.34,0.44,0.44,0,0,0-.46-0.21c-0.44,0-1.56.06-2,.06s-1.12,0-1.69,0c-0.36,0-.53.1-0.53,0.25a0.49,0.49,0,0,0,.48.34c0.67,0.13,1,.34.72,0.89a32.86,32.86,0,0,1-2.53,3.44,0.14,0.14,0,0,1-.19,0,33.44,33.44,0,0,1-2.3-3.63c-0.21-.38,0-0.59.34-0.68s0.46-.21.46-0.36a0.43,0.43,0,0,0-.47-0.21c-0.55,0-.91,0-1.63,0s-2-.1-2.39-0.1S504,490.84,504,491Z",transform:"translate(-484.44 -490.06)"})," ")," ")," ")},twitter:{viewBox:"0 0 300 300",svg:o.createElement("path",{d:"M103.62,251.13969 C197.96,251.13969 249.56,172.97969 249.56,105.19969 C249.56,102.97969 249.56,100.76969 249.41,98.5696903 C259.448314,91.3087989 268.113555,82.3184843 275,72.0196903 C265.638791,76.167708 255.708293,78.8879768 245.54,80.0896903 C256.24744,73.6795109 264.261235,63.5974102 268.09,51.7196903 C258.021575,57.6942435 247.006461,61.9048105 235.52,64.1696903 C219.620828,47.2636331 194.357194,43.1258162 173.895493,54.0764896 C153.433792,65.027163 142.86275,88.3429476 148.11,110.94969 C106.868957,108.882186 68.4447578,89.402923 42.4,57.3596903 C28.7862276,80.7961376 35.7398788,110.778285 58.28,125.82969 C50.117412,125.587766 42.1327937,123.385822 35,119.40969 C35,119.61969 35,119.83969 35,120.05969 C35.0066813,144.47562 52.2175149,165.505042 76.15,170.33969 C68.598696,172.399091 60.6758059,172.700133 52.99,171.21969 C59.7094793,192.113919 78.9657456,206.427529 100.91,206.83969 C82.7473504,221.11401 60.3105951,228.862968 37.21,228.83969 C33.1290357,228.831856 29.0520407,228.584765 25,228.09969 C48.4563595,243.152456 75.749134,251.13686 103.62,251.09969"})},typeform:{viewBox:"0 0 39 37",svg:o.createElement("path",{d:"M18.9906,36.6595 C13.5084,36.169 9.86346,35.5126 5.99103,31.7734 C2.19854,28.1113 0.042614,23.481 0.000614,18.2141 C-0.04178,12.8975 2.11206,9.02064 5.79122,5.45417 C7.58765,3.71277 9.38428,2.22793 11.4671,1.250696 C13.571,0.263571 15.914,-0.18164 18.7709,0.068369 C24.4543,0.565722 30.1481,3.86522 34.1239,7.81998 C36.129,9.81456 37.3515,11.625 38.065,13.6342 C38.7717,15.6244 38.9503,17.7336 38.9916,20.2544 C39.0729,25.2197 38.6521,30.8448 34.4584,34.2581 C32.3561,35.9692 29.8062,36.6748 27.1576,36.9058 C24.5203,37.1358 21.6927,36.9013 18.9906,36.6595 Z M19.1689,34.6675 C21.8951,34.9114 24.55,35.1256 26.9838,34.9134 C29.4062,34.7021 31.5158,34.0744 33.1959,32.707 C36.567,29.9632 37.074,25.3033 36.9919,20.2871 C36.9514,17.8172 36.7743,15.9761 36.1803,14.3034 C35.593,12.6497 34.5698,11.0846 32.7134,9.23793 C28.9659,5.51021 23.6857,2.50611 18.5966,2.06075 C16.0671,1.839406 14.0802,2.23386 12.3166,3.06131 C10.53195,3.89865 8.92348,5.2033 7.18327,6.89021 C3.78917,10.18034 1.963581,13.5619 2.00055,18.1981 C2.03792,22.8838 3.9411,27.0137 7.38029,30.3346 C10.73953,33.5784 13.7945,34.1866 19.1689,34.6675 Z M13.587,13.70967 L13.587,11.46 L25.7258,11.46 L25.7258,13.70967 L20.86663,13.70967 L20.86663,26.6035 L18.44618,26.6035 L18.44618,13.70967 L13.587,13.70967 Z"})},video:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M2,2v26h26V2H2z M26,6h-2V4h2V6z M22,14H8V4h14V14z M6,10H4V8h2V10z M6,12v2H4v-2H6z M6,16v2H4v-2H6z M6,20v2H4v-2H6z M8,16 h14v10H8V16z M24,20h2v2h-2V20z M24,18v-2h2v2H24z M24,14v-2h2v2H24z M24,10V8h2v2H24z M6,4v2H4V4H6z M4,24h2v2H4V24z M24,26v-2h2v2 H24z"})},importText:{viewBox:"0 0 32 32",svg:o.createElement("path",{d:"M6.3999,22.4 L19.1999,22.4 L19.1999,20.2667 L6.3999,20.2667 L6.3999,22.4 Z M6.3999,9.59999 L6.3999,11.7333 L25.5999,11.7333 L25.5999,9.59999 L6.3999,9.59999 Z M6.3999,17.0667 L25.5999,17.0667 L25.5999,14.9333 L6.3999,14.9333 L6.3999,17.0667 Z"})},importHTML:{viewBox:"0 0 32 32",svg:o.createElement("path",{d:"M13.088,21.472 L7.93605,16.32 L13.088,11.168 L11.52,9.59999 L4.80005,16.32 L11.52,23.04 L13.088,21.472 Z M18.912,21.472 L24.0641,16.32 L18.912,11.168 L20.48,9.59999 L27.2,16.32 L20.48,23.04 L18.912,21.472 Z"})},importCSV:{viewBox:"0 0 32 32",svg:o.createElement("polygon",{points:"21.0286 9.14285 10.7429 9.14285 10.7429 10.8571 16.3143 16 10.7429 21.1429 10.7429 22.8571 21.0286 22.8571 21.0286 20.2857 15.0286 20.2857 19.3143 16 15.0286 11.7143 21.0286 11.7143"})},androidShare:{viewBox:"0 0 15 15",svg:o.createElement("path",{d:"M11.9952,10.6024 C11.4229,10.6024 10.9108,10.8283 10.51928,11.1822 L5.15029999,8.05723 C5.18794999,7.88404 5.21806999,7.71084 5.21806999,7.53012 C5.21806999,7.3494 5.18794999,7.1762 5.15029999,7.00301 L10.45904,3.90813 C10.8657,4.28464 11.4003,4.51807 11.9952,4.51807 C13.2452,4.51807 14.2542,3.50904 14.2542,2.25904 C14.2542,1.00904 13.2452,0 11.9952,0 C10.7452,0 9.73614999,1.00904 9.73614999,2.25904 C9.73614999,2.43976 9.76626999,2.61295 9.80391999,2.78614 L4.49517999,5.88102 C4.08854999,5.50452 3.55391999,5.27108 2.95903999,5.27108 C1.70903999,5.27108 0.699999988,6.28012 0.699999988,7.53012 C0.699999988,8.78012 1.70903999,9.78916 2.95903999,9.78916 C3.55391999,9.78916 4.08854999,9.55572 4.49517999,9.17922 L9.85662999,12.3117 C9.81897999,12.4699 9.79638999,12.6355 9.79638999,12.8012 C9.79638999,14.0136 10.7828,15 11.9952,15 C13.2075,15 14.194,14.0136 14.194,12.8012 C14.194,11.5889 13.2075,10.6024 11.9952,10.6024 Z"})},appleShare:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M14,3.813V19h2V3.813l2.594,2.594L20,5l-5-5l-5,5l1.406,1.406L14,3.813z M18,8v2h6v18H6V10h6V8H4v22h22V8H18z"})},mobileQuickAdd:{viewBox:"0 0 22 22",svg:o.createElement("path",{d:"M19.4005,0.82721 C19.4005,0.82721 19.4765,0.749489 19.5975,0.627008 C19.6988,0.524262 19.8318,0.390184 19.978,0.243898 L19.9797,0.24227 C20.3021,-0.0793957 20.8305,-0.0810234 21.1539,0.239015 L21.7572,0.835551 C21.9138,0.989365 21.995,1.1914 22.0007,1.39506 C22.0011,1.41032 22.0011,1.42558 22.0007,1.44084 C21.995,1.64348 21.9147,1.8447 21.7597,1.99892 L21.7564,2.00238 C21.4347,2.32486 21.1788,2.58732 21.1788,2.58732 L19.4005,0.82721 Z M9.68738,10.4985 L18.806,1.41072 L20.5828,3.17083 L11.4649,12.2568 L9.04654,12.8845 L9.68738,10.4985 Z M17.0436,18.3378 C17.5044,18.3378 17.8786,17.9654 17.8786,17.5062 L17.8786,8.59846 L19.5503,6.94822 L19.5503,17.5062 C19.5503,18.8667 18.45,19.9758 17.0892,20 L4.46168,20 C3.11205,19.976 2.01912,18.8863 2,17.542 L2,5.00154 C2.01933,3.64224 3.13677,2.54317 4.5073,2.54317 L14.9102,2.54317 L13.226,4.20582 L4.5073,4.20582 C4.04566,4.20582 3.67145,4.57916 3.67145,5.03735 L3.67145,17.5062 C3.67145,17.9654 4.04566,18.3378 4.5073,18.3378 L17.0436,18.3378 Z"})},updatesMobile:{viewBox:"0 0 18 18",svg:o.createElement("path",{d:"M9,0 C13.9704035,0 18,4.02959646 18,9 C18,13.9704035 13.9704035,18 9,18 C4.02959646,18 0,13.9704035 0,9 C0,4.02959646 4.02959646,0 9,0 Z M9,16.4347826 C13.1062921,16.4347826 16.4347826,13.1062921 16.4347826,9 C16.4347826,4.89370789 13.1062921,1.56521739 9,1.56521739 C4.89370789,1.56521739 1.56521739,4.89370789 1.56521739,9 C1.56521739,13.1062921 4.89370789,16.4347826 9,16.4347826 Z M13.3043478,8.2173913 L13.3043478,9.7826087 L8.2173913,9.7826087 L8.2173913,3.52173913 L9.7826087,3.52173913 L9.7826087,8.2173913 L13.3043478,8.2173913 Z"})},image:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M2,2v26h26V2H2z M26,26H4v-4h22V26z M26,20H4V4h22V20z M8,10c1.104,0,2-0.896,2-2S9.104,6,8,6S6,6.896,6,8S6.896,10,8,10z M18,7l-5,5l-2-1l-5,7h18L18,7z M11.635,13.553l1.76,0.881l4.129-4.129L20.631,16H9.887L11.635,13.553z"})},indentDown:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M24,15l-1.406-1.406L16,20.188V2h-2v18.188l-6.594-6.594L6,15l9,9L24,15z M2,26v2h26v-2H2z"})},keyboard:{viewBox:"0 0 30 30",svg:o.createElement("g",null," ",o.createElement("path",{d:"M15,30l8-10H7Zm0-3.2L11.16,22h7.68Z"})," ",o.createElement("path",{d:"M6,4H4V6H6V4Zm4,0H8V6h2V4Zm4,0H12V6h2V4Zm4,0H16V6h2V4Zm4,0H20V6h2V4Zm4,0H24V6h2V4ZM10,8H8v2h2V8Zm4,0H12v2h2V8Zm4,0H16v2h2V8Zm4,0H20v2h2V8Zm-2,4H10v2H20V12Zm5,0H22v2h3V12ZM5,14H8V12H5v2ZM0,0V18H30V0H0ZM28,16H2V2H28V16Z"})," ")},moveUp:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M14,5.813V24h2V5.813l6.594,6.594L24,11l-9-9l-9,9l1.406,1.406L14,5.813z M2,26v2h26v-2H2z"})},thinPlus:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M 7.75 0L 6.25 0L 6.25 6.25L 0 6.25L 0 7.75L 6.25 7.75L 6.25 14L 7.75 14L 7.75 7.75L 14 7.75L 14 6.25L 7.75 6.25L 7.75 0Z"})},collectionBoard:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M12,1.5 L2,1.5 C1.72386,1.5 1.5,1.72386 1.5,2 L1.5,12 C1.5,12.2761 1.72386,12.5 2,12.5 L12,12.5 C12.2761,12.5 12.5,12.2761 12.5,12 L12.5,2 C12.5,1.72386 12.2761,1.5 12,1.5 Z M2,0 L12,0 C13.1046,0 14,0.895431 14,2 L14,12 C14,13.1046 13.1046,14 12,14 L2,14 C0.89543,14 0,13.1046 0,12 L0,2 C0,0.89543 0.895431,0 2,0 Z M3,3 L5,3 L5,9 L3,9 L3,3 Z M6,3 L8,3 L8,11 L6,11 L6,3 Z M9,3 L11,3 L11,7 L9,7 L9,3 Z"})},collectionCalendar:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M2.5638852,4.00389099 C1.97751564,4.00389099 1.85394185,4.02775419 1.73055258,4.09374349 C1.66602937,4.12825089 1.62435989,4.16992036 1.5898525,4.23444358 C1.5238632,4.35783284 1.5,4.48140663 1.5,5.06777619 L1.5,11.4361148 C1.5,12.0224844 1.5238632,12.1460581 1.5898525,12.2694474 C1.62435989,12.3339706 1.66602937,12.3756401 1.73055258,12.4101475 C1.85394185,12.4761368 1.97751564,12.5 2.5638852,12.5 L11.4361148,12.5 C12.0224844,12.5 12.1460581,12.4761368 12.2694474,12.4101475 C12.3339706,12.3756401 12.3756401,12.3339706 12.4101475,12.2694474 C12.4761368,12.1460581 12.5,12.0224844 12.5,11.4361148 L12.5,5.06777619 C12.5,4.48140663 12.4761368,4.35783284 12.4101475,4.23444358 C12.3756401,4.16992036 12.3339706,4.12825089 12.2694474,4.09374349 C12.1460581,4.02775419 12.0224844,4.00389099 11.4361148,4.00389099 L2.5638852,4.00389099 Z M2.5638852,0 L11.4361148,0 C12.3276335,0 12.6509198,0.0928256111 12.9768457,0.267132704 C13.3027716,0.441439796 13.5585602,0.697228371 13.7328673,1.0231543 C13.9071744,1.34908022 14,1.67236646 14,2.5638852 L14,11.4361148 C14,12.3276335 13.9071744,12.6509198 13.7328673,12.9768457 C13.5585602,13.3027716 13.3027716,13.5585602 12.9768457,13.7328673 C12.6509198,13.9071744 12.3276335,14 11.4361148,14 L2.5638852,14 C1.67236646,14 1.34908022,13.9071744 1.0231543,13.7328673 C0.697228371,13.5585602 0.441439796,13.3027716 0.267132704,12.9768457 C0.0928256111,12.6509198 0,12.3276335 0,11.4361148 L0,2.5638852 C0,1.67236646 0.0928256111,1.34908022 0.267132704,1.0231543 C0.441439796,0.697228371 0.697228371,0.441439796 1.0231543,0.267132704 C1.34908022,0.0928256111 1.67236646,0 2.5638852,0 Z M6.60827243,7.88013208 C6.78677948,7.99017068 6.92632446,8.13586302 7.02563114,8.31608625 C7.12516029,8.49671323 7.17444478,8.71027933 7.17444478,8.9554024 C7.17444478,9.26042304 7.09458389,9.55304765 6.93566937,9.83174103 C6.77538519,10.1128364 6.54407932,10.3297606 6.24381138,10.4810861 C5.94540062,10.6314756 5.55879429,10.7056433 5.08405217,10.7056433 C4.62315853,10.7056433 4.25679776,10.6510666 3.98380762,10.5399797 C3.70934324,10.4282929 3.48240403,10.2640606 3.30440443,10.0478329 C3.12805817,9.83361358 2.99343194,9.56612479 2.9000001,9.24612071 L2.98283969,9.11896253 L4.35355,8.93709925 L4.46485161,9.01707949 C4.51509639,9.274584 4.59088114,9.44802427 4.6861205,9.53760584 C4.78031584,9.62620542 4.89992613,9.67041934 5.05037379,9.67041934 C5.20638667,9.67041934 5.33271256,9.61489147 5.43606184,9.50111245 C5.54064959,9.38596997 5.59363096,9.23042835 5.59363096,9.02949485 C5.59363096,8.82421978 5.54282963,8.67133198 5.44386571,8.56577046 C5.34581006,8.46117777 5.21246981,8.40877739 5.03690243,8.40877739 C4.940102,8.40877739 4.8002636,8.43420255 4.61981985,8.48575791 L4.49260711,8.38240774 L4.56333172,7.40236671 L4.67762175,7.31062857 C4.7495572,7.32120731 4.80463865,7.32640368 4.84156779,7.32640368 C4.99603629,7.32640368 5.12107828,7.27863483 5.22217495,7.1822623 C5.32279379,7.08634528 5.37135361,6.97651838 5.37135361,6.84713544 C5.37135361,6.722085 5.33602621,6.62758421 5.26592939,6.55748739 C5.1960994,6.4876574 5.09821525,6.45206316 4.96617782,6.45206316 C4.82951843,6.45206316 4.72325489,6.4915714 4.64164292,6.57046298 C4.55936951,6.64999394 4.49865583,6.80177812 4.4656423,7.0266828 L4.34906155,7.11059121 L3.05244369,6.87821034 L2.97332297,6.75453648 C3.08679789,6.31954925 3.30702416,5.98294325 3.63313024,5.74881581 C3.95868951,5.51508094 4.41255466,5.4 4.99312053,5.4 C5.65877252,5.4 6.14637512,5.52571922 6.45490983,5.78363496 C6.76483892,6.0427163 6.92185689,6.37269938 6.92185689,6.76630731 C6.92185689,6.99943375 6.85758381,7.21202929 6.72960167,7.40154132 C6.63860335,7.53628882 6.51541935,7.65798876 6.36055846,7.76690917 C6.45917626,7.80107221 6.54169576,7.83870598 6.60827243,7.88013208 Z M8.35473185,7.73466014 C8.13924866,7.8429779 7.87085874,7.94598469 7.54923148,8.0440696 L7.42006133,7.94841866 L7.42006133,6.82356057 L7.48940117,6.72837677 C7.94541079,6.58148906 8.29715313,6.40616238 8.54458609,6.20391284 C8.79116591,6.00236063 8.98398529,5.75383787 9.12361714,5.45738873 L9.21408414,5.4 L10.3490457,5.4 L10.4490457,5.5 L10.4490457,10.5214473 L10.3490457,10.6214473 L8.96149625,10.6214473 L8.86149625,10.5214473 L8.86149625,7.42808474 C8.68861763,7.54952106 8.51971893,7.65172546 8.35473185,7.73466014 Z"})},collectionDeleteRule:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M12 3.27273L10.7273 2L7 5.72727L3.27273 2L2 3.27273L5.72727 7L2 10.7273L3.27273 12L7 8.27273L10.7273 12L12 10.7273L8.27273 7L12 3.27273Z"})},collectionGallery:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M12,1.5 L2,1.5 C1.72386,1.5 1.5,1.72386 1.5,2 L1.5,12 C1.5,12.2761 1.72386,12.5 2,12.5 L12,12.5 C12.2761,12.5 12.5,12.2761 12.5,12 L12.5,2 C12.5,1.72386 12.2761,1.5 12,1.5 Z M2,0 L12,0 C13.1046,0 14,0.895431 14,2 L14,12 C14,13.1046 13.1046,14 12,14 L2,14 C0.89543,14 0,13.1046 0,12 L0,2 C0,0.89543 0.895431,0 2,0 Z M3,3 L6.5,3 L6.5,6.5 L3,6.5 L3,3 Z M7.5,3 L11,3 L11,6.5 L7.5,6.5 L7.5,3 Z M3,7.5 L6.5,7.5 L6.5,11 L3,11 L3,7.5 Z M7.5,7.5 L11,7.5 L11,11 L7.5,11 L7.5,7.5 Z"})},collectionHide:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M26.6,0 L22.385,4.214 C19.976,2.883 17.337,2 15,2 C8.641,2 0,8.469 0,13 C0,15.455 2.542,18.468 5.878,20.722 L2,24.6 L3.4,26 L28,1.4 L26.6,0 Z M10.837,15.763 C10.31,14.971 9.99999,14.022 9.99999,13 C9.99999,10.239 12.238,8 15,8 C16.022,8 16.972,8.31 17.764,8.836 L10.837,15.763 Z M19.194,7.405 C18.025,6.526 16.576,6 15,6 C11.134,6 8,9.134 8,13 C8,14.576 8.526,16.025 9.40499,17.195 L7.299,19.301 C4.272,17.313 2,14.675 2,13 C2,10.025 9.149,4 15,4 C16.94,4 19.021,4.667 20.938,5.662 L19.194,7.405 Z M15,18 C14.76,18 14.53,17.962 14.299,17.929 L12.644,19.585 C13.381,19.849 14.172,20 15,20 C18.866,20 22,16.866 22,13 C22,12.172 21.849,11.381 21.585,10.643 L19.93,12.299 C19.962,12.53 20,12.76 20,13 C20,15.761 17.762,18 15,18 Z M25.746,6.481 L24.335,7.893 C26.506,9.657 28,11.644 28,13 C28,15.975 20.851,22 15,22 C13.707,22 12.353,21.694 11.024,21.204 L9.50999,22.717 C11.364,23.509 13.264,24.001 14.998,24.001 C21.357,24.001 29.998,17.532 29.998,13.001 C30,10.963 28.247,8.538 25.746,6.481 Z"})},collectionInbox:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M11.0918,0 C11.5383,0 11.9307,0.295898 12.0533,0.725586 L13.9615,7.40332 C13.9871,7.49316 14,7.58594 14,7.67871 L14,13 C14,13.5527 13.5522,14 13,14 L1,14 C0.447754,14 0,13.5527 0,13 L0,7.67871 C0,7.58594 0.0129395,7.49316 0.0384521,7.40332 L1.94666,0.725586 C2.06934,0.295898 2.46167,0 2.9082,0 L11.0918,0 Z M4.27271,1.5 C3.83728,1.5 3.45178,1.78223 3.31982,2.19727 L1.91455,6.61328 C1.70947,7.25879 2.1908,7.91699 2.86755,7.91699 L4.70837,7.91699 C4.70837,8.93652 5.16663,10.168 7,10.168 C8.83337,10.168 9.29163,8.93652 9.29163,7.91699 L11.1478,7.89355 C11.8201,7.88477 12.2927,7.22852 12.0876,6.58887 L10.681,2.19531 C10.5485,1.78125 10.1635,1.5 9.72864,1.5 L4.27271,1.5 Z"})},collectionList:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M12,1.5 L2,1.5 C1.72386,1.5 1.5,1.72386 1.5,2 L1.5,12 C1.5,12.2761 1.72386,12.5 2,12.5 L12,12.5 C12.2761,12.5 12.5,12.2761 12.5,12 L12.5,2 C12.5,1.72386 12.2761,1.5 12,1.5 Z M2,0 L12,0 C13.1046,0 14,0.895431 14,2 L14,12 C14,13.1046 13.1046,14 12,14 L2,14 C0.89543,14 0,13.1046 0,12 L0,2 C0,0.89543 0.895431,0 2,0 Z M3,3 L9,3 L9,4.5 L3,4.5 L3,3 Z M3,5.5 L11,5.5 L11,7 L3,7 L3,5.5 Z M3,8 L7,8 L7,9.5 L3,9.5 L3,8 Z"})},collectionNumberType:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M1.73457,9.90096 L1.73457,4.54339 L1.65064,4.54339 L0,5.68112 L0,4.37087 L1.73923,3.17252 L3.14274,3.17252 L3.14274,9.90096 L1.73457,9.90096 Z M3.59633,5.22882 C3.59633,3.90925 4.62215,3 6.0956,3 C7.52242,3 8.43633,3.82532 8.43633,4.96304 C8.43633,5.75106 8.09128,6.29195 6.97221,7.34108 L5.57337,8.64667 L5.57337,8.7306 L8.52959,8.7306 L8.52959,9.90096 L3.6756,9.90096 L3.6756,8.91711 L6.03498,6.66031 C6.87429,5.85364 7.05614,5.5459 7.05614,5.0936 C7.05614,4.55738 6.67379,4.13306 6.01633,4.13306 C5.3309,4.13306 4.90192,4.58536 4.90192,5.22882 L3.59633,5.22882 Z M10.4889,6.96805 L10.4889,5.93757 L11.3282,5.93757 C11.967,5.93757 12.4007,5.55988 12.4007,5.00967 C12.4007,4.50609 12.0043,4.12374 11.3469,4.12374 C10.6661,4.12374 10.2464,4.47345 10.1998,5.07495 L8.89888,5.07495 C8.94551,3.83464 9.90139,3 11.4168,3 C12.9089,3 13.7389,3.82532 13.7342,4.80917 C13.7296,5.62516 13.2166,6.16139 12.4939,6.33857 L12.4939,6.42717 C13.4311,6.56239 14,7.15923 14,8.05915 C14,9.23884 12.8903,10.0735 11.3702,10.0735 C9.8501,10.0735 8.81495,9.24351 8.75434,7.97056 L10.1019,7.97056 C10.1439,8.53942 10.6288,8.90312 11.3515,8.90312 C12.0649,8.90312 12.5639,8.51611 12.5639,7.93326 C12.5639,7.33642 12.0976,6.96805 11.3422,6.96805 L10.4889,6.96805 Z"})},collectionSearch:{viewBox:"0 0 12 12",svg:o.createElement("path",{d:"M11,9.92308 L8.04962,6.97308 C8.455,6.36385 8.69231,5.63308 8.69231,4.84615 C8.69231,2.72192 6.96962,1 4.84615,1 C2.72269,1 1,2.72192 1,4.84615 C1,6.97038 2.72231,8.69231 4.84615,8.69231 C5.63269,8.69231 6.36346,8.455 6.97269,8.05 L9.92308,11 L11,9.92308 Z M4.84615,7.15385 C3.57192,7.15385 2.53846,6.12038 2.53846,4.84615 C2.53846,3.57192 3.57231,2.53846 4.84615,2.53846 C6.12,2.53846 7.15385,3.57192 7.15385,4.84615 C7.15385,6.12038 6.12038,7.15385 4.84615,7.15385 Z"})},collectionShow:{viewBox:"0 0 30 30",svg:o.createElement("path",{d:"M15,4 C8.641,4 0,10.469 0,15 C0,19.531 8.641,26 15,26 C21.359,26 30,19.531 30,15 C30,10.469 21.359,4 15,4 Z M15,24 C9.149,24 2,17.975 2,15 C2,12.025 9.149,6 15,6 C20.851,6 28,12.025 28,15 C28,17.975 20.851,24 15,24 Z M15,8 C11.134,8 8,11.134 8,15 C8,18.866 11.134,22 15,22 C18.866,22 22,18.866 22,15 C22,11.134 18.866,8 15,8 Z M15,20 C12.238,20 10,17.761 10,15 C10,12.239 12.238,10 15,10 C17.762,10 20,12.239 20,15 C20,17.761 17.762,20 15,20 Z"})},collectionTable:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M2,2.22044605e-16 L12,0 C13.1045695,7.78148667e-16 14,0.8954305 14,2 L14,12 C14,13.1045695 13.1045695,14 12,14 L2,14 C0.8954305,14 1.11632554e-15,13.1045695 0,12 L0,2 C-1.3527075e-16,0.8954305 0.8954305,2.02906125e-16 2,2.22044605e-16 Z M5.75,5.67000008 L5.75,8.33000016 L12.5,8.33000016 L12.5,5.67000008 L5.75,5.67000008 Z M5.75,9.84000015 L5.75,12.5000002 L11.5,12.5000002 C12.0522847,12.5000002 12.5,12.052285 12.5,11.5000002 L12.5,9.84000015 L5.75,9.84000015 Z M1.5,5.67000008 L1.5,8.33000016 L4.25,8.33000016 L4.25,5.67000008 L1.5,5.67000008 Z M1.5,9.84000015 L1.5,11.5000002 C1.5,12.052285 1.94771525,12.5000002 2.5,12.5000002 L4.25,12.5000002 L4.25,9.84000015 L1.5,9.84000015 Z M2.5,1.5 C1.94771525,1.5 1.5,1.94771525 1.5,2.5 L1.5,4.16000009 L4.25,4.16000009 L4.25,1.5 L2.5,1.5 Z M5.75,1.5 L5.75,4.16000009 L12.5,4.16000009 L12.5,2.5 C12.5,1.94771525 12.0522847,1.5 11.5,1.5 L5.75,1.5 Z"})},trashThick:{viewBox:"0 0 24 24",svg:o.createElement("path",{d:"M17,5c0-2.2-1.8-4-4-4h-2C8.8,1,7,2.8,7,5H2v2h2v16h16V7h2V5H17z M11,3h2c1.103,0,2,0.897,2,2H9C9,3.897,9.897,3,11,3z M18,21H6V7h12V21z M10,9H8v10h2V9z M13,9h-2v10h2V9z M16,9h-2v10h2V9z"})},typesCheckbox:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M0,3 C0,1.34314 1.34326,0 3,0 L11,0 C12.6567,0 14,1.34314 14,3 L14,11 C14,12.6569 12.6567,14 11,14 L3,14 C1.34326,14 0,12.6569 0,11 L0,3 Z M3,1.5 C2.17139,1.5 1.5,2.17157 1.5,3 L1.5,11 C1.5,11.8284 2.17139,12.5 3,12.5 L11,12.5 C11.8286,12.5 12.5,11.8284 12.5,11 L12.5,3 C12.5,2.17157 11.8286,1.5 11,1.5 L3,1.5 Z M2.83252,6.8161 L3.39893,6.27399 L3.57617,6.10425 L3.92334,5.77216 L4.26904,6.10559 L4.44531,6.27582 L5.58398,7.37402 L9.28271,3.81073 L9.45996,3.64008 L9.80664,3.3056 L10.1538,3.63989 L10.3311,3.81067 L10.8936,4.35303 L11.0708,4.52399 L11.4434,4.88379 L11.0708,5.24353 L10.8936,5.41437 L6.1084,10.0291 L5.93115,10.2 L5.58398,10.5344 L5.23682,10.2 L5.05957,10.0292 L2.83057,7.87946 L2.65283,7.70801 L2.27832,7.34674 L2.6543,6.98694 L2.83252,6.8161 Z"})},typesCreatedAt:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M6.98643729,14.0000972 C5.19579566,14.0000972 3.40419152,13.3106896 2.04245843,11.9323606 C-0.681017475,9.21200555 -0.680780251,4.76029539 2.04293482,2.04012507 C4.76664406,-0.68004331 9.22427509,-0.68004331 11.9480135,2.04013479 C13.272481,3.36277455 14,5.1330091 14,6.99552762 C14,8.87640182 13.2721894,10.6285043 11.9480135,11.9509302 C10.5679344,13.3105924 8.77756503,14.0000972 6.98643729,14.0000972 Z M10.2705296,7.00913883 L10.2705296,8.46099754 L10.2705296,8.65543362 L10.076181,8.65543362 L8.6543739,8.65543362 L5.72059514,8.65543362 L5.52619796,8.65543362 L5.52619796,8.46099754 L5.52619796,5.52541044 L5.52619796,3.37946773 L5.52619796,3.18502193 L5.72059514,3.18502193 L7.17253164,3.18502193 L7.36692883,3.18502193 L7.36692883,3.37946773 L7.36692883,6.81467358 L10.076181,6.81467358 L10.2705296,6.81467358 L10.2705296,7.00913883 Z M12.1601539,6.99552762 C12.1601539,5.61697497 11.6190112,4.32597154 10.6393933,3.34769528 C8.63253764,1.34336744 5.35197452,1.34061603 3.34153136,3.33944106 C3.33868273,3.34219247 3.33607716,3.34494388 3.33322852,3.34769528 C1.32397148,5.35459953 1.32372842,8.63641682 3.33322852,10.6433794 C5.34295224,12.6504489 8.62968901,12.6504489 10.6393933,10.6433794 C11.6190112,9.66506426 12.1601539,8.37408027 12.1601539,6.99552762 Z"})},typesCreatedBy:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M13.125,10.0354 C12.5536,9.48588 10.801,8.53125 9.625,7.875 L9.625,7.04112 C9.849,6.71912 10.045,6.37 10.1911,5.98588 C10.5849,5.7435 10.9375,5.28412 10.9375,4.8125 C10.9375,4.35488 10.9323,3.94275 10.4668,3.605 C10.3049,1.5575 9.436,0 7,0 C4.564,0 3.69513,1.5575 3.53325,3.605 C3.06775,3.94275 3.0625,4.35488 3.0625,4.8125 C3.0625,5.28412 3.41513,5.7435 3.80888,5.98588 C3.955,6.37 4.151,6.71912 4.375,7.04112 L4.375,7.875 C3.199,8.53125 1.44638,9.48588 0.875,10.0354 C0.1645,10.7188 0,11.8125 0,14 L14,14 C14,11.8125 13.8364,10.7188 13.125,10.0354 Z"})},typesDate:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M10.8889,5.5 L3.11111,5.5 L3.11111,7.05556 L10.8889,7.05556 L10.8889,5.5 Z M12.4444,1.05556 L11.6667,1.05556 L11.6667,0 L10.1111,0 L10.1111,1.05556 L3.88889,1.05556 L3.88889,0 L2.33333,0 L2.33333,1.05556 L1.55556,1.05556 C0.692222,1.05556 0.00777777,1.75556 0.00777777,2.61111 L0,12.5 C0,13.3556 0.692222,14 1.55556,14 L12.4444,14 C13.3,14 14,13.3556 14,12.5 L14,2.61111 C14,1.75556 13.3,1.05556 12.4444,1.05556 Z M12.4444,12.5 L1.55556,12.5 L1.55556,3.94444 L12.4444,3.94444 L12.4444,12.5 Z M8.55556,8.61111 L3.11111,8.61111 L3.11111,10.1667 L8.55556,10.1667 L8.55556,8.61111 Z"})},typesEmail:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M14,6.22508 C14,7.0471 13.8666,7.79918 13.5999,8.48134 C13.3332,9.16351 12.9563,9.69867 12.4692,10.0868 C11.9821,10.475 11.524,10.6862 10.9764,10.6862 C10.5473,10.6862 10.1676,10.5849 9.83705,10.3823 C9.50653,10.1796 9.2688,9.91274 9.12384,9.58165 C8.51065,10.318 7.56114,10.6862 6.5928,10.6862 C5.56647,10.6862 4.75762,10.3823 4.16618,9.77431 C3.57473,9.16636 3.27902,8.33436 3.27902,7.27829 C3.27902,6.0738 3.66752,5.10337 4.44451,4.36697 C5.2215,3.63058 6.2362,3.26239 7.48867,3.26239 C7.98734,3.26239 9.5206,3.47449 9.74131,3.53033 C10.2518,3.65949 10.6003,4.12335 10.5763,4.6417 C10.5697,4.78537 10.5175,5.88115 10.4198,7.92905 C10.4198,8.72253 10.6401,9.11927 11.0808,9.11927 C11.4519,9.11927 11.7476,8.8524 11.968,8.31865 C12.1883,7.78491 12.2985,7.08706 12.2985,6.22508 C12.2985,5.30601 12.1042,4.49399 11.7157,3.78899 C11.3272,3.08399 10.7808,2.54597 10.0762,2.17492 C9.37173,1.80387 8.56719,1.61835 7.66263,1.61835 C6.49134,1.61835 5.47373,1.85525 4.60976,2.32905 C3.74579,2.80286 3.08332,3.48644 2.62234,4.37981 C2.16136,5.27319 1.93089,6.30499 1.93089,7.47523 C1.93089,9.05077 2.35851,10.2595 3.21378,11.1015 C4.06905,11.9435 5.30847,12.3645 6.93203,12.3645 C7.54667,12.3645 8.22216,12.2975 8.95856,12.1633 C9.18419,12.1222 9.47682,12.0555 9.83645,11.9632 C10.2649,11.8532 10.7081,12.0814 10.8607,12.4905 C11.0082,12.8863 10.802,13.3249 10.4001,13.4701 C10.3865,13.475 10.3728,13.4796 10.359,13.4837 C9.30721,13.7996 8.18808,13.9716 7.00161,14 C4.7982,14 3.08041,13.4292 1.84823,12.2875 C0.616061,11.1458 0,9.55883 0,7.52661 C0,6.11661 0.314555,4.8365 0.943688,3.68624 C1.57282,2.53598 2.46867,1.63405 3.63126,0.980429 C4.79385,0.326807 6.13184,0 7.64524,0 C8.9209,0 10.1589,0.290316 11.0634,0.770643 C11.968,1.25097 12.6374,1.99796 13.1824,2.94557 C13.7275,3.89318 14,4.98634 14,6.22508 Z M5.38462,7.23555 C5.38462,8.44263 5.87335,9.04616 6.85083,9.04616 C7.3623,9.04616 7.75159,8.86452 8.01869,8.50126 C8.28579,8.13799 8.44773,7.54734 8.50456,6.72927 L8.61539,4.83286 C8.32555,4.76993 7.9988,4.73846 7.63509,4.73846 C6.92471,4.73846 6.37204,4.96157 5.97707,5.40779 C5.58211,5.854 5.38462,6.46325 5.38462,7.23555 Z"})},typesFile:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M5.94578,14 C4.62416,14 3.38248,13.4963 2.44892,12.585 C1.514641,11.6736 1,10.4639 1,9.17405 C1.00086108,7.88562 1.514641,6.67434 2.44892,5.76378 L7.45612,0.985988 C8.80142,-0.327216 11.1777,-0.332396 12.5354,0.992848 C13.9369,2.36163 13.9369,4.58722 12.5354,5.95418 L8.03046,10.2414 C7.16278,11.0877 5.73682,11.0894 4.86024,10.2345 C3.98394,9.37789 3.98394,7.98769 4.86024,7.1327 L6.60422,5.4317 L7.87576,6.67196 L6.13177,8.37297 C6.01668,8.48539 6.00003,8.61545 6.00003,8.68335 C6.00003,8.75083 6.01668,8.88103 6.13177,8.99429 C6.36197,9.21689 6.53749,9.21689 6.76768,8.99429 L11.2707,4.70622 C11.9645,4.03016 11.9645,2.91757 11.2638,2.23311 C10.5843,1.57007 9.40045,1.57007 8.72077,2.23311 L3.71342,7.0109 C3.12602,7.58406 2.79837,8.35435 2.79837,9.17405 C2.79837,9.99459 3.12602,10.7654 3.72045,11.3446 C4.90947,12.5062 6.98195,12.5062 8.17096,11.3446 L10.41911,9.15165 L11.6906,10.3919 L9.4425,12.585 C8.50808,13.4963 7.2664,14 5.94578,14 Z"})},typesFormula:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M7.77892,7.06304 L4.62218,11.2875 C4.58556,11.3416 4.55285,11.4392 4.5504,11.5052 C4.5504,11.7022 4.7047,11.8619 4.89562,11.8619 L11.1383,11.8619 C11.6139,11.8619 11.9996,12.2598 11.9996,12.7507 L11.9996,13.1111 C11.9996,13.602 11.6139,14 11.1383,14 L1.861927,14 C1.385853,14 1.00011061,13.602 1.00011061,13.1111 L1.00011061,12.6858 C0.99718092,12.4783 1.0523567,12.3098 1.176868,12.1466 L4.39269,7.79888 C4.74816,7.31841 4.74572,6.65139 4.38683,6.17354 L1.400013,2.19436 C1.27306,2.03028 1.216419,1.85993 1.219349,1.65006 L1.219349,0.888889 C1.219349,0.397968 1.605091,0 2.08117,0 L10.91906,0 C11.3946,0 11.7804,0.397968 11.7804,0.888889 L11.7804,1.24925 C11.7804,1.74017 11.3946,2.13814 10.91906,2.13814 L5.13634,2.13814 C4.94542,2.13814 4.79064,2.29801 4.79064,2.49522 C4.79308,2.56049 4.82482,2.65709 4.86095,2.71087 L7.78038,6.68628 C7.8297,6.74847 7.84435,6.7934 7.84142,6.87363 C7.84435,6.95493 7.82921,7.00048 7.77892,7.06304 Z"})},typesMultipleSelect:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M4,3 C4,2.447715 4.447715,2 5,2 L12,2 C12.5523,2 13,2.447716 13,3 C13,3.55228 12.5523,4 12,4 L5,4 C4.447715,4 4,3.55228 4,3 Z M4,7 C4,6.447715 4.447715,6 5,6 L12,6 C12.5523,6 13,6.447716 13,7 C13,7.55228 12.5523,8 12,8 L5,8 C4.447715,8 4,7.55228 4,7 Z M4,11 C4,10.447715 4.447715,10 5,10 L12,10 C12.5523,10 13,10.447716 13,11 C13,11.55228 12.5523,12 12,12 L5,12 C4.447715,12 4,11.55228 4,11 Z M2,4 C1.44771525,4 1,3.55228475 1,3 C1,2.44771525 1.44771525,2 2,2 C2.55228475,2 3,2.44771525 3,3 C3,3.55228475 2.55228475,4 2,4 Z M2,8 C1.44771525,8 1,7.55228475 1,7 C1,6.44771525 1.44771525,6 2,6 C2.55228475,6 3,6.44771525 3,7 C3,7.55228475 2.55228475,8 2,8 Z M2,12 C1.44771525,12 1,11.5522847 1,11 C1,10.4477153 1.44771525,10 2,10 C2.55228475,10 3,10.4477153 3,11 C3,11.5522847 2.55228475,12 2,12 Z"})},typesNumber:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M4.46191,0 C3.8667,0 3.38428,0.482422 3.38428,1.07751 L3.38428,3.38425 L1.07764,3.38425 C0.482422,3.38425 0,3.86667 0,4.46179 C0,5.05688 0.482422,5.53931 1.07764,5.53931 L3.38428,5.53931 L3.38428,8.46063 L1.07764,8.46063 C0.482422,8.46063 0,8.94308 0,9.53818 C0,10.1333 0.482422,10.6157 1.07764,10.6157 L3.38428,10.6157 L3.38428,12.9224 C3.38428,13.5175 3.8667,13.9999 4.46191,13.9999 C5.05664,13.9999 5.53906,13.5175 5.53906,12.9224 L5.53906,10.6157 L8.46045,10.6157 L8.46045,12.9224 C8.46045,13.5175 8.94287,13.9999 9.53809,13.9999 C10.1333,13.9999 10.6157,13.5175 10.6157,12.9224 L10.6157,10.6157 L12.9224,10.6157 C13.5176,10.6157 14,10.1333 14,9.53818 C14,8.94308 13.5176,8.46063 12.9224,8.46063 L10.6157,8.46063 L10.6157,5.53931 L12.9224,5.53931 C13.5176,5.53931 14,5.05688 14,4.46179 C14,3.86667 13.5176,3.38425 12.9224,3.38425 L10.6157,3.38425 L10.6157,1.07751 C10.6157,0.482422 10.1333,0 9.53809,0 C8.94287,0 8.46045,0.482422 8.46045,1.07751 L8.46045,3.38425 L5.53906,3.38425 L5.53906,1.07751 C5.53906,0.482422 5.05664,0 4.46191,0 Z M5.53906,8.46063 L5.53906,5.53931 L8.46045,5.53931 L8.46045,8.46063 L5.53906,8.46063 Z"})},typesPerson:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M9.625,10.8465 C8.91187,10.2891 8.12088,9.926 7,9.26013 L7,8.71938 C7.21175,8.47612 7.392,8.176 7.53813,7.83213 C7.94587,7.7315 8.3125,7.33425 8.3125,7 C8.3125,6.51788 8.1095,6.32713 7.8715,6.17137 C7.8715,6.15562 7.875,6.14162 7.875,6.125 C7.875,5.41362 7.4375,3.5 5.25,3.5 C3.0625,3.5 2.625,5.4145 2.625,6.125 C2.625,6.14162 2.6285,6.15562 2.6285,6.17137 C2.3905,6.32713 2.1875,6.51788 2.1875,7 C2.1875,7.33425 2.55413,7.7315 2.96187,7.833 C3.108,8.176 3.28825,8.47612 3.5,8.71938 L3.5,9.26013 C2.37912,9.92513 1.58812,10.2882 0.875,10.8465 C0.041125,11.4984 0,12.4688 0,14 L10.5,14 C10.5,12.4688 10.4589,11.4984 9.625,10.8465 Z M13.125,7.3465 C12.4119,6.78912 11.6209,6.426 10.5,5.76013 L10.5,5.21938 C10.7118,4.97613 10.892,4.676 11.0381,4.33213 C11.4459,4.2315 11.8125,3.83425 11.8125,3.5 C11.8125,3.01787 11.6095,2.82713 11.3715,2.67138 C11.3715,2.65562 11.375,2.64162 11.375,2.625 C11.375,1.91363 10.9375,0 8.75,0 C6.5625,0 6.125,1.9145 6.125,2.625 C6.125,2.64162 6.1285,2.65562 6.1285,2.67138 C6.11188,2.68275 6.09787,2.69588 6.08125,2.70725 C7.83212,3.066 8.59688,4.54825 8.72813,5.74787 C8.97575,6.00863 9.1875,6.39625 9.1875,7 C9.1875,7.60288 8.771,8.20312 8.18388,8.51462 C8.127,8.624 8.06662,8.729 8.00275,8.82962 C8.155,8.91537 8.30025,8.99675 8.44025,9.07463 C9.08075,9.4325 9.63375,9.74137 10.164,10.1561 C10.3022,10.2638 10.4204,10.3801 10.5289,10.4991 L14,10.4991 C14,8.96875 13.9589,7.99837 13.125,7.3465 Z"})},typesPhoneNumber:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M2.20731,0.0127209 C2.1105,-0.0066419 1.99432,-0.00664663 1.91687,0.032079 C0.871279,0.438698 0.212942,1.92964 0.0580392,2.95587 C-0.426031,6.28627 2.20731,9.17133 4.62766,11.0689 C6.77694,12.7534 10.9012,15.5223 13.3409,12.8503 C13.6507,12.5211 14.0186,12.037 13.9993,11.553 C13.9412,10.7397 13.186,10.1588 12.6051,9.71349 C12.1598,9.38432 11.2304,8.47427 10.6495,8.49363 C10.1267,8.51299 9.79754,9.05515 9.46837,9.38432 L8.88748,9.96521 C8.79067,10.062 7.55145,9.24878 7.41591,9.15197 C6.91248,8.8228 6.4284,8.45491 6.00242,8.04829 C5.57644,7.64167 5.18919,7.19632 4.86002,6.73161 C4.7632,6.59607 3.96933,5.41495 4.04678,5.31813 C4.04678,5.31813 4.72448,4.58234 4.91811,4.2919 C5.32473,3.67229 5.63453,3.18822 5.16982,2.45243 C4.99556,2.18135 4.78257,1.96836 4.55021,1.73601 C4.14359,1.34875 3.73698,0.942131 3.27227,0.612963 C3.02055,0.419335 2.59457,0.0708094 2.20731,0.0127209 Z"})},typesRelation:{viewBox:"0 0 14 14",svg:o.createElement("polygon",{points:"4.5 1 4.5 3 9.586 3 1 11.586 2.414 13 11 4.414 11 9.5 13 9.5 13 1"})},typesRollup:{viewBox:"0 0 18 18",svg:o.createElement("path",{d:"M17,15.6l-5.119-5.119C12.583,9.499,13,8.299,13,7c0-3.314-2.686-6-6-6S1,3.686,1,7s2.686,6,6,6 c1.299,0,2.499-0.417,3.481-1.119L15.6,17L17,15.6z M7,11c-2.209,0-4-1.791-4-4c0-2.209,1.791-4,4-4s4,1.791,4,4 C11,9.209,9.209,11,7,11z"})},typesSelect:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M7,13 C10.31348,13 13,10.31371 13,7 C13,3.68629 10.31348,1 7,1 C3.68652,1 1,3.68629 1,7 C1,10.31371 3.68652,13 7,13 Z M3.75098,5.32278 C3.64893,5.19142 3.74268,5 3.90869,5 L10.09131,5 C10.25732,5 10.35107,5.19142 10.24902,5.32278 L7.15771,9.29703 C7.07764,9.39998 6.92236,9.39998 6.84229,9.29703 L3.75098,5.32278 Z"})},typesText:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M7,4.56818 C7,4.29204 6.77614,4.06818 6.5,4.06818 L0.5,4.06818 C0.223858,4.06818 0,4.29204 0,4.56818 L0,5.61364 C0,5.88978 0.223858,6.11364 0.5,6.11364 L6.5,6.11364 C6.77614,6.11364 7,5.88978 7,5.61364 L7,4.56818 Z M0.5,1 C0.223858,1 0,1.223858 0,1.5 L0,2.54545 C0,2.8216 0.223858,3.04545 0.5,3.04545 L12.5,3.04545 C12.7761,3.04545 13,2.8216 13,2.54545 L13,1.5 C13,1.223858 12.7761,1 12.5,1 L0.5,1 Z M0,8.68182 C0,8.95796 0.223858,9.18182 0.5,9.18182 L11.5,9.18182 C11.7761,9.18182 12,8.95796 12,8.68182 L12,7.63636 C12,7.36022 11.7761,7.13636 11.5,7.13636 L0.5,7.13636 C0.223858,7.13636 0,7.36022 0,7.63636 L0,8.68182 Z M0,11.75 C0,12.0261 0.223858,12.25 0.5,12.25 L9.5,12.25 C9.77614,12.25 10,12.0261 10,11.75 L10,10.70455 C10,10.4284 9.77614,10.20455 9.5,10.20455 L0.5,10.20455 C0.223858,10.20455 0,10.4284 0,10.70455 L0,11.75 Z"})},typesTitle:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M7.73943662,8.6971831 C7.77640845,8.7834507 7.81338028,8.8943662 7.81338028,9.00528169 C7.81338028,9.49823944 7.40669014,9.89260563 6.91373239,9.89260563 C6.53169014,9.89260563 6.19894366,9.64612676 6.08802817,9.30105634 L5.75528169,8.33978873 L2.05809859,8.33978873 L1.72535211,9.30105634 C1.61443662,9.64612676 1.2693662,9.89260563 0.887323944,9.89260563 C0.394366197,9.89260563 0,9.49823944 0,9.00528169 C0,8.8943662 0.0246478873,8.7834507 0.0616197183,8.6971831 L2.46478873,2.48591549 C2.68661972,1.90669014 3.24119718,1.5 3.90669014,1.5 C4.55985915,1.5 5.12676056,1.90669014 5.34859155,2.48591549 L7.73943662,8.6971831 Z M2.60035211,6.82394366 L5.21302817,6.82394366 L3.90669014,3.10211268 L2.60035211,6.82394366 Z M11.3996479,3.70598592 C12.7552817,3.70598592 14,4.24823944 14,5.96126761 L14,9.07922535 C14,9.52288732 13.6549296,9.89260563 13.2112676,9.89260563 C12.8169014,9.89260563 12.471831,9.59683099 12.4225352,9.19014085 C12.028169,9.6584507 11.3257042,9.95422535 10.5492958,9.95422535 C9.60035211,9.95422535 8.47887324,9.31338028 8.47887324,7.98239437 C8.47887324,6.58978873 9.60035211,6.08450704 10.5492958,6.08450704 C11.3380282,6.08450704 12.040493,6.33098592 12.4348592,6.81161972 L12.4348592,5.98591549 C12.4348592,5.38204225 11.9172535,4.98767606 11.1285211,4.98767606 C10.6602113,4.98767606 10.2411972,5.11091549 9.80985915,5.38204225 C9.72359155,5.43133803 9.61267606,5.46830986 9.50176056,5.46830986 C9.18133803,5.46830986 8.91021127,5.1971831 8.91021127,4.86443662 C8.91021127,4.64260563 9.0334507,4.44542254 9.19366197,4.34683099 C9.87147887,3.90316901 10.6232394,3.70598592 11.3996479,3.70598592 Z M11.1778169,8.8943662 C11.6830986,8.8943662 12.1760563,8.72183099 12.4348592,8.37676056 L12.4348592,7.63732394 C12.1760563,7.29225352 11.6830986,7.11971831 11.1778169,7.11971831 C10.5616197,7.11971831 10.056338,7.45246479 10.056338,8.0193662 C10.056338,8.57394366 10.5616197,8.8943662 11.1778169,8.8943662 Z M0.65625,11.125 L13.34375,11.125 C13.7061869,11.125 14,11.4188131 14,11.78125 C14,12.1436869 13.7061869,12.4375 13.34375,12.4375 L0.65625,12.4375 C0.293813133,12.4375 4.43857149e-17,12.1436869 0,11.78125 C-4.43857149e-17,11.4188131 0.293813133,11.125 0.65625,11.125 Z"})},typesUnknownType:{viewBox:"0 0 16 16",svg:o.createElement("path",{d:"M8,0 C12.4182,0 16,3.58203 16,8 C16,12.418 12.4182,16 8,16 C3.58185,16 0,12.418 0,8 C0,3.58203 3.58185,0 8,0 Z M6.74139,5.98633 C6.76208,5.31738 7.21722,4.87598 7.87933,4.87598 C8.52759,4.87598 8.98279,5.26221 8.98279,5.8208 C8.98279,6.42773 8.74139,6.71729 7.80347,7.26904 C6.84485,7.8208 6.5,8.44141 6.63104,9.62061 L6.65173,9.89648 L8.80347,9.89648 L8.80347,9.57227 C8.80347,8.92432 9.06549,8.61377 10.0103,8.06885 C11.0241,7.48291 11.5,6.7793 11.5,5.75879 C11.5,4.10352 10.1345,3 8.0379,3 C5.83105,3 4.52069,4.1792 4.5,5.98633 L6.74139,5.98633 Z M9.07239,12.0273 C9.07239,11.3379 8.48621,10.793 7.76898,10.793 C7.0448,10.793 6.46552,11.3379 6.46552,12.0273 C6.46552,12.7241 7.0448,13.269 7.76898,13.269 C8.48621,13.269 9.07239,12.7241 9.07239,12.0273 Z"})},typesUrl:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M3.73333,3.86667 L7.46667,3.86667 C8.49613,3.86667 9.33333,4.70387 9.33333,5.73333 C9.33333,6.7628 8.49613,7.6 7.46667,7.6 L6.53333,7.6 C6.01813,7.6 5.6,8.0186 5.6,8.53333 C5.6,9.04807 6.01813,9.46667 6.53333,9.46667 L7.46667,9.46667 C9.5284,9.46667 11.2,7.79507 11.2,5.73333 C11.2,3.6716 9.5284,2 7.46667,2 L3.73333,2 C1.6716,2 0,3.6716 0,5.73333 C0,7.124 0.762067,8.33453 1.88953,8.97713 C1.87553,8.83107 1.86667,8.6836 1.86667,8.53333 C1.86667,7.92013 1.98753,7.33447 2.2036,6.7978 C1.99267,6.4954 1.86667,6.12953 1.86667,5.73333 C1.86667,4.70387 2.70387,3.86667 3.73333,3.86667 Z M12.1095,5.28907 C12.1231,5.4356 12.1333,5.58307 12.1333,5.73333 C12.1333,6.34607 12.0101,6.9294 11.7931,7.46513 C12.0059,7.768 12.1333,8.13573 12.1333,8.53333 C12.1333,9.5628 11.2961,10.4 10.2667,10.4 L6.53333,10.4 C5.50387,10.4 4.66667,9.5628 4.66667,8.53333 C4.66667,7.50387 5.50387,6.66667 6.53333,6.66667 L7.46667,6.66667 C7.98187,6.66667 8.4,6.24807 8.4,5.73333 C8.4,5.2186 7.98187,4.8 7.46667,4.8 L6.53333,4.8 C4.4716,4.8 2.8,6.4716 2.8,8.53333 C2.8,10.59507 4.4716,12.2667 6.53333,12.2667 L10.2667,12.2667 C12.3284,12.2667 14,10.59507 14,8.53333 C14,7.14267 13.2375,5.93167 12.1095,5.28907 Z"})},appleLogo:{viewBox:"0 0 170 170",svg:o.createElement("path",{d:"m150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.58 6.53-8.33 11.05-11.22 13.56-4.48 4.12-9.28 6.23-14.42 6.35-3.69 0-8.14-1.05-13.32-3.18-5.197-2.12-9.973-3.17-14.34-3.17-4.58 0-9.492 1.05-14.746 3.17-5.262 2.13-9.501 3.24-12.742 3.35-4.929 0.21-9.842-1.96-14.746-6.52-3.13-2.73-7.045-7.41-11.735-14.04-5.032-7.08-9.169-15.29-12.41-24.65-3.471-10.11-5.211-19.9-5.211-29.378 0-10.857 2.346-20.221 7.045-28.068 3.693-6.303 8.606-11.275 14.755-14.925s12.793-5.51 19.948-5.629c3.915 0 9.049 1.211 15.429 3.591 6.362 2.388 10.447 3.599 12.238 3.599 1.339 0 5.877-1.416 13.57-4.239 7.275-2.618 13.415-3.702 18.445-3.275 13.63 1.1 23.87 6.473 30.68 16.153-12.19 7.386-18.22 17.731-18.1 31.002 0.11 10.337 3.86 18.939 11.23 25.769 3.34 3.17 7.07 5.62 11.22 7.36-0.9 2.61-1.85 5.11-2.86 7.51zm-31.26-123.01c0 8.1021-2.96 15.667-8.86 22.669-7.12 8.324-15.732 13.134-25.071 12.375-0.119-0.972-0.188-1.995-0.188-3.07 0-7.778 3.386-16.102 9.399-22.908 3.002-3.446 6.82-6.3113 11.45-8.597 4.62-2.2516 8.99-3.4968 13.1-3.71 0.12 1.0831 0.17 2.1663 0.17 3.2409z"})},googleChrome:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M7,14 C6.80955,14 6.62088,13.9924 6.43428,13.9775 L9.57162,8.54344 C9.5804,8.5288 9.58908,8.51405 9.59766,8.4992 C10.2622,7.34816 10.0773,5.93979 9.23745,5 L13.7101,5 C13.8987,5.63371 14,6.30503 14,7 C14,10.866 10.866,14 7,14 Z M7.09065,4 C6.02314,3.96852 4.97292,4.50947 4.4015,5.4992 C4.29626,5.68148 4.21233,5.87021 4.14892,6.06252 L1.91358,2.19079 C3.18958,0.841703 4.99649,0 7,0 C9.7924,0 12.2029,1.63505 13.3264,4 L7.09065,4 Z M1.23906,3.0225 L4.39037,8.48073 C4.64516,8.93043 5.01959,9.32016 5.49958,9.59728 C6.16481,9.98135 6.916,10.0817 7.61301,9.93584 L5.37591,13.8106 C2.29308,13.0782 0,10.3069 0,7 C0,5.52257 0.457709,4.15205 1.23906,3.0225 Z M9,7 C9,8.10457 8.10457,9 7,9 C5.89543,9 5,8.10457 5,7 C5,5.89543 5.89543,5 7,5 C8.10457,5 9,5.89543 9,7 Z"})},googleLogo:{viewBox:"0 0 15 15",svg:o.createElement("path",{d:"M 7.28571 6.4125L 7.28571 9L 11.3929 9C 11.2143 10.0875 10.1429 12.225 7.28571 12.225C 4.78571 12.225 2.78571 10.0875 2.78571 7.5C 2.78571 4.9125 4.82143 2.775 7.28571 2.775C 8.71429 2.775 9.64286 3.4125 10.1786 3.9375L 12.1429 1.9875C 10.8929 0.75 9.25 0 7.28571 0C 3.25 0 0 3.3375 0 7.5C 0 11.6625 3.25 15 7.28571 15C 11.5 15 14.25 11.9625 14.25 7.6875C 14.25 7.2 14.2143 6.825 14.1429 6.45L 7.28571 6.45L 7.28571 6.4125Z"})},googlePlay:{viewBox:"0 0 14 14",svg:o.createElement("path",{d:"M3.41741,13.7929001 L13.0843,8.42241009 C14.2002,7.80245009 14.2002,6.19755009 13.0843,5.57759009 L3.41741,0.207109087 C2.33284,-0.395426913 1,0.388821087 1,1.62952009 L1,12.3705001 C1,13.6112001 2.33284,14.3954001 3.41741,13.7929001 Z"})},notionLogo:{viewBox:"0 0 120 126",svg:o.createElement("path",{d:"M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"})},slackLogo:{viewBox:"0 0 16 16",svg:o.createElement("g",null,o.createElement("path",{d:"M1.68078 11.7915C2.60586 11.7915 3.36156 11.0358 3.36156 10.1107V8.42993H1.68078C0.755701 8.42993 0 9.18563 0 10.1107C0 11.0358 0.755701 11.7915 1.68078 11.7915Z",fill:"#E01E5A"}),o.createElement("path",{d:"M5.88928 8.42993C4.9642 8.42993 4.2085 9.18563 4.2085 10.1107V14.3192C4.2085 15.2443 4.9642 16 5.88928 16C6.81436 16 7.57006 15.2443 7.57006 14.3192V10.1107C7.57006 9.18563 6.81436 8.42993 5.88928 8.42993Z",fill:"#E01E5A"}),o.createElement("path",{d:"M4.2085 1.68078C4.2085 2.60586 4.9642 3.36156 5.88928 3.36156H7.57006V1.68078C7.57006 0.755701 6.81436 0 5.88928 0C4.9642 0 4.2085 0.755701 4.2085 1.68078Z",fill:"#36C5F0"}),o.createElement("path",{d:"M7.57003 5.88928C7.57003 4.9642 6.81433 4.2085 5.88925 4.2085H1.68078C0.755701 4.2085 0 4.9642 0 5.88928C0 6.81436 0.755701 7.57006 1.68078 7.57006H5.88925C6.81433 7.57006 7.57003 6.81436 7.57003 5.88928Z",fill:"#36C5F0"}),o.createElement("path",{d:"M10.1107 7.57003C11.0358 7.57003 11.7915 6.81433 11.7915 5.88925V1.68078C11.7915 0.755701 11.0358 0 10.1107 0C9.18563 0 8.42993 0.755701 8.42993 1.68078V5.88925C8.42993 6.81433 9.18563 7.57003 10.1107 7.57003Z",fill:"#2EB67D"}),o.createElement("path",{d:"M14.3192 4.2085C13.3941 4.2085 12.6384 4.9642 12.6384 5.88928V7.57006H14.3192C15.2443 7.57006 16 6.81436 16 5.88928C16 4.9642 15.2443 4.2085 14.3192 4.2085Z",fill:"#2EB67D"}),o.createElement("path",{d:"M8.42993 10.1107C8.42993 11.0358 9.18563 11.7915 10.1107 11.7915H14.3192C15.2443 11.7915 16 11.0358 16 10.1107C16 9.18563 15.2443 8.42993 14.3192 8.42993H10.1107C9.18563 8.42993 8.42993 9.18563 8.42993 10.1107Z",fill:"#ECB22E"}),o.createElement("path",{d:"M11.7915 14.3192C11.7915 13.3941 11.0358 12.6384 10.1107 12.6384H8.42993V14.3192C8.42993 15.2443 9.18563 16 10.1107 16C11.0358 16 11.7915 15.2443 11.7915 14.3192Z",fill:"#ECB22E"}))},unsplashLogo:{viewBox:"0 0 12 12",svg:o.createElement("path",{d:"M3.75 3.375V0H8.25V3.375H3.75ZM8.25 5.25H12V12H0V5.25H3.75V8.625H8.25V5.25Z"})},windowsLogo:{viewBox:"0 0 88 88",svg:o.createElement("path",{d:"m0,12.402,35.687-4.8602,0.0156,34.423-35.67,0.20313zm35.67,33.529,0.0277,34.453-35.67-4.9041-0.002-29.78zm4.3261-39.025,47.318-6.906,0,41.527-47.318,0.37565zm47.329,39.349-0.0111,41.34-47.318-6.6784-0.0663-34.739z"})},evernoteLogo:{viewBox:"0 0 26 26",svg:o.createElement("path",{d:"M4.15268 5.05184H6.70899C6.84353 5.05184 6.97807 4.92213 6.97807 4.79242C6.97807 4.79242 6.97807 2.71706 6.97807 2.13337C6.97807 1.67938 7.11262 1.2254 7.24716 0.901122L7.31443 0.706558L2.33636 5.44097C2.4709 5.37612 2.60544 5.31126 2.60544 5.31126C3.00907 5.1167 3.54724 5.05184 4.15268 5.05184ZM23.7959 4.59786C23.5941 3.56018 22.9886 3.10619 22.3832 2.91163C21.7778 2.71706 21.1723 2.45764 19.5578 2.26308C18.2796 2.13337 16.9342 2.06851 15.9924 2.06851C15.7233 1.35511 15.3197 0.576848 13.7725 0.187718C12.6961 -0.0717018 10.7453 -0.00684699 10.1398 0.058008C9.19803 0.187718 8.86167 0.576848 8.59258 0.836268C8.3235 1.09569 8.12169 1.80909 8.12169 2.26308C8.12169 2.5225 8.12169 3.04134 8.12169 3.68989C8.12169 4.27358 8.12169 4.27358 8.12169 4.79242C8.12169 5.57068 7.58352 6.15438 6.64172 6.15438H4.35449C3.81632 6.15438 3.4127 6.21923 3.07634 6.34894C2.80726 6.54351 2.53817 6.80293 2.40363 6.99749C2.06727 7.45148 2 7.97032 2 8.55401C2 8.55401 2 9.008 2.13454 9.85111C2.20181 10.4997 2.9418 14.7801 3.61451 16.2069C3.8836 16.7906 4.08541 16.9852 4.62358 17.2446C5.83446 17.7634 8.59258 18.2823 9.93801 18.4768C11.2162 18.6065 12.0907 18.9957 12.5616 18.0228C12.5616 18.0228 12.6289 17.7634 12.7634 17.4391C13.167 16.2069 13.2343 15.1044 13.2343 14.3261C13.2343 14.2612 13.3688 14.2612 13.3688 14.3261C13.3688 14.9098 13.2343 16.8554 14.7815 17.3743C15.387 17.5689 16.6651 17.7634 17.9433 17.8931C19.0869 18.0228 19.9614 18.4768 19.9614 21.3304C19.9614 23.0815 19.5578 23.3409 17.6069 23.3409C15.9924 23.3409 15.387 23.4058 15.387 22.1087C15.387 21.1359 16.3961 21.2007 17.2033 21.2007C17.5397 21.2007 17.2706 20.9413 17.2706 20.3576C17.2706 19.7091 17.6742 19.3848 17.2706 19.3848C14.647 19.3199 13.0998 19.3848 13.0998 22.5627C13.0998 25.4812 14.2434 26 18.0106 26C20.9705 26 21.9796 25.9351 23.1904 22.3033C23.4595 21.5899 23.9977 19.3848 24.3341 15.7529C24.6031 13.3533 24.1322 6.34894 23.7959 4.59786ZM18.6833 12.3156C18.3469 12.3156 18.1451 12.3156 17.8087 12.3805C17.7415 12.3805 17.7415 12.3805 17.6742 12.3805C17.6742 12.3805 17.6069 12.3805 17.6069 12.3156C17.6069 12.2507 17.6069 12.2507 17.6069 12.2507C17.7415 11.6022 18.0778 10.8239 19.0869 10.8239C20.1632 10.8888 20.4323 11.7968 20.4323 12.5102C20.4323 12.575 20.4323 12.575 20.4323 12.575C20.4323 12.6399 20.3651 12.6399 20.3651 12.6399C20.2978 12.6399 20.2978 12.6399 20.2978 12.575C19.8269 12.4453 19.2887 12.3805 18.6833 12.3156Z"})},logInWeb:{viewBox:"0 0 16 16",svg:o.createElement("path",{d:"M8,0C3.582,0,0,3.582,0,8s3.582,8,8,8s8-3.582,8-8S12.418,0,8,0z M8,7L7.938,8h-1L7,7H5v2h1l1,1c0.313-0.333,1.021-1,2-1h1 l1,0.229C11.86,9.437,12.513,9.75,13,10v1l-0.938,1.407C10.993,13.393,9.569,14,8,14v-1l-1-1v-1l-2-1C4.018,9.547,3.25,8.938,3,8 L2.785,6c0-0.187,0.435-0.867,0.55-1L3.278,4.307C4.18,3.154,5.494,2.343,7,2.09V3.5L8,4c0.3,0,0.609-0.045,1-0.417 C9.382,3.22,9.719,3,10,3c0.698,0,1,0.208,1,1l-0.5,1h-0.311C9.612,5.279,9.261,5.506,9,6C8.749,6.475,8.475,6.773,8,7z M13,8 c-0.417-0.25-0.771-0.583-1-1V6l0.797-1.593C13.549,5.409,14,6.65,14,8c0,0.165-0.012,0.326-0.025,0.488L13,8z"})},deviceMobile:{viewBox:"0 0 24 24",svg:o.createElement("path",{d:"M7 0C5.89551 0 5 0.894531 5 2V22C5 23.1055 5.89551 24 7 24H17C18.1045 24 19 23.1055 19 22V2C19 0.894531 18.1045 0 17 0H7ZM6 4H18V20H6V4ZM11 22C11 21.4473 11.4478 21 12 21C12.5522 21 13 21.4473 13 22C13 22.5527 12.5522 23 12 23C11.4478 23 11 22.5527 11 22Z"})},deviceMobileShareSheet:{viewBox:"0 0 24 24",svg:o.createElement("path",{d:"M16.5,12.5 L12,17 L7.5,12.5 L8.203,11.797 L11.5,15.094 L11.5,6 L12.5,6 L12.5,15.094 L15.797,11.797 L16.5,12.5 Z M5,2 C5,0.894531 5.89551,0 7,0 L17,0 C18.1045,0 19,0.894531 19,2 L19,22 C19,23.1055 18.1045,24 17,24 L7,24 C5.89551,24 5,23.1055 5,22 L5,2 Z M18,4 L6,4 L6,20 L18,20 L18,4 Z M12,21 C11.4478,21 11,21.4473 11,22 C11,22.5527 11.4478,23 12,23 C12.5522,23 13,22.5527 13,22 C13,21.4473 12.5522,21 12,21 Z"})},deviceDesktop:{viewBox:"0 0 24 24",svg:o.createElement("path",{d:"M2,3 L22,3 C23.1045,3 24,3.89453 24,5 L24,19 C24,19.3809 23.894,19.7344 23.7104,20.0371 C23.3599,20.6133 22.7251,21 22,21 L2,21 C0.895508,21 0,20.1055 0,19 L0,5 C0,3.89453 0.895508,3 2,3 Z M3.5,5 C2.671625,5 2,5.670905 2,6.5 C2,6.69629 2.03735,6.88379 2.10473,7.05371 C2.16773,7.211915 2.257085,7.358405 2.366945,7.484375 C2.64233,7.800785 3.048095,8 3.5,8 C4.328375,8 5,7.329095 5,6.5 C5,5.670905 4.328375,5 3.5,5 Z M7.5,5 C6.671625,5 6,5.670905 6,6.5 C6,7.00391 6.248295,7.449215 6.629145,7.721675 C6.874515,7.89746 7.175535,8 7.5,8 C8.328375,8 9,7.329095 9,6.5 C9,5.670905 8.328375,5 7.5,5 Z M10.40503,5.474615 C10.15381,5.74121 10,6.104495 10,6.5 C10,7.329095 10.671625,8 11.5,8 C12.328375,8 13,7.329095 13,6.5 C13,5.670905 12.328375,5 11.5,5 C11.0686,5 10.67896,5.181635 10.40503,5.474615 Z"})}};var l=i.mapValues(t.iconsMap,function(e){var t=e.viewBox,r=e.svg;return function(e){return o.createElement(a.default,n({},{svg:r,viewBox:t,style:e}))}});t.default=l},mKpc:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("prF1"),s=r("IYZQ"),u=r("d9nj"),c=r("4NII"),d=r("y6Dp"),p=r("qqdV"),f=r("sZEU"),h=r("zmp8"),m=r("mF3+"),y=r("Sb6f"),g=r("hfHo"),v=r("nFzZ"),b=r("0KcA"),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderFooterItem=function(e,t){return e.onClick?a.createElement(u.default,{key:t,style:{width:"100%"},onClick:e.onClick||function(){return e.href&&d.trackClickLink({from:"front_footer",href:e.href})}},e.title,e.isNew&&a.createElement(b.default,null)):a.createElement(l.default,{key:t,href:e.href,external:e.external,onClick:function(){return e.href&&d.trackClickLink({from:"front_footer",href:e.href})}},a.createElement(u.default,{style:{width:"100%"}},e.title,e.isNew&&a.createElement(b.default,null)))},t}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("div",{style:{display:"flex",flex:"none",width:"100%",marginTop:48,fontSize:c.default()?17:15,justifyContent:c.default()?"flex-start":"center",borderTop:c.default()?"none":"1px solid #F5EFE4"}},a.createElement("div",{style:{display:"flex",width:c.default()?"100%":t.contentWidth,justifyContent:c.default()?"flex-start":"space-around",flexDirection:c.default()?"column":"row",maxWidth:t.contentWidth,paddingTop:32,paddingBottom:64}},this.renderCopyright(),this.renderFooterColumn("Links",[{title:"Download for Mac",href:p.desktop},{title:"Download for Windows",href:p.desktop},{title:"Download for iOS & Android",href:p.mobile},{title:"Install Web Clipper",href:p.webClipper},{title:"Log in",href:p.login},{title:"Sign up",href:p.signup}]),this.renderFooterColumn("Product",v.compact([{title:"Overview",href:p.product},{title:"Pricing",href:p.pricing},{title:"Templates",href:p.templates,external:!0,isNew:!0},{title:"Switch from Evernote",href:p.evernote},{title:"What’s New",href:p.whatsNew,external:!0}])),this.renderFooterColumn("Company",[{title:"About",href:p.about},{title:"Join Us",href:p.joinUs,external:!0},{title:"Media Kit",href:p.mediaKit,external:!0},{title:"Tools & Craft",href:p.toolsAndCraft}]),this.renderFooterColumn("Help & Contact",[{title:"Guides & FAQs",href:p.guides.guides,external:!0},{title:"Notion for Teams",href:p.guides.notionForTeams,external:!0,isNew:!0},{title:"Twitter @NotionHQ",href:p.notionTwitter,external:!0},{title:"Chat with Us",onClick:function(){f.openIntercomMessages({from:"front_footer"})}},{title:"Email Us",href:"mailto:team@makenotion.com",external:!0}])))},t.prototype.renderCopyright=function(){return a.createElement("div",{style:{display:"flex",alignItems:"flex-start",flexDirection:c.default()?"column":"row",order:c.default()?1:0,width:c.default()?"100%":220}},a.createElement("div",null,m.default.notionLogo({width:32,marginTop:2,marginRight:20,marginBottom:c.default()?8:0})),a.createElement("div",null,a.createElement("div",{style:{fontWeight:y.default.fontWeight.bold,marginBottom:7}},"Notion"),a.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:12,fontSize:c.default?12:10,color:h.default.FrontGrayTextColor}},a.createElement("div",null,"The all-in-one workspace for your notes, tasks, wikis, and databases."),a.createElement("div",{style:{marginTop:8,marginBottom:8}},"© ",g.default().year()," Notion Labs, Inc."),a.createElement(s.default,{href:p.termsAndPrivacy,external:!0,onClick:function(){return d.trackClickLink({from:"front_footer",href:p.termsAndPrivacy})}},"Terms & Privacy"))))},t.prototype.renderFooterColumn=function(e,t){return a.createElement("div",{style:{marginBottom:c.default()?24:0}},a.createElement("div",{style:this.getColumnLabelStyle()},e),a.createElement("div",{style:{marginLeft:-8}},t.map(this.renderFooterItem)))},t.prototype.getColumnLabelStyle=function(){return{display:c.default()?"block":"inline-flex",width:"100%",whiteSpace:"nowrap",borderRadius:3,marginBottom:c.default()?10:4,paddingTop:c.default()?10:1,paddingBottom:c.default()?10:1,borderBottom:c.default()?"1px solid "+h.default.frontBorderColor:"none",fontWeight:y.default.fontWeight.bold}},t.contentWidth=900,t}(i.default);t.default=w},mN4y:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("wldR"),u=r("r8oj"),c=r("/Zir"),d=r("qFEu"),p=r("aBKD"),f=r("Sb6f"),h=r("yi/I"),m=r("mDQS"),y=r("l8Zq"),g=r("DT29"),v=r("pAJP"),b=r("IYZQ"),w=r("S26v"),S=r("qqdV"),_=r("5Nka"),k=r("zmp8"),C=r("4NII"),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.didMount=function(){w.parse(window.location.href).query.download&&(u.default.isIOS?window.location.href=S.appStore:window.location.href=S.playStore)},t.prototype.renderComponent=function(){return i.createElement(c.default,{hideMobileLink:!0,analyticsName:"mobile"},this.renderHeroSection(),this.renderEditorSection(),this.renderDatabaseSection(),this.renderSyncSection(),this.renderKnowledgeBaseSection(),this.renderTweets())},t.prototype.renderHeroSection=function(){return i.createElement(l.Fragment,null,i.createElement(v.default,{name:"hero"}),i.createElement("div",{style:this.getWrapStyle()},i.createElement("div",{style:a({maxWidth:380},C.default()?{marginBottom:42}:{marginRight:56},C.default()&&{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"})},i.createElement("img",{src:_.default.front.mobile.heroMobilePng,style:{display:"block",width:C.default()?272:300,height:C.default()?235:259,flexShrink:0}}),i.createElement("div",{style:{fontWeight:f.default.fontWeight.bold,fontSize:C.default()?34:50,lineHeight:1.1,marginTop:24}},"Notion for iOS and Android"),i.createElement("div",{style:{color:k.default.FrontBaseGrayTextColor,marginTop:8,marginBottom:18}},"Notes, tasks, knowledge base — Notion is your all-in-one workspace on the go."),this.renderDownloadButton()),i.createElement(d.default,{format:C.default()&&u.default.isIOS?d.default.Format.IPhone:d.default.Format.Android,style:this.getMobileChromeStyle()},i.createElement("img",{src:C.default()&&u.default.isIOS?_.default.front.mobile.mobileHeroGif:_.default.front.mobile.mobileHeroAndroidGif,style:t.mobileScreenshotStyle}))))},t.prototype.renderEditorSection=function(){return i.createElement(l.Fragment,null,!C.default()&&this.renderDivider(),i.createElement(v.default,{name:"editor"}),i.createElement("div",{style:a({},this.getWrapStyle(),C.default()&&{display:"flex",flexDirection:"column-reverse"})},i.createElement("div",null,i.createElement(d.default,{format:d.default.Format.IPhone,style:this.getMobileChromeStyle()},i.createElement("img",{src:_.default.front.mobile.mobileEditorGif,style:t.mobileScreenshotStyle}))),i.createElement("div",{style:{marginLeft:C.default()?0:56,maxWidth:380}},i.createElement(g.default,{alignLeft:!C.default(),topDivider:C.default(),title:"Text, Images, To-dos...",caption:i.createElement("span",null,"Capture your ideas with"," ",i.createElement("span",{style:{whiteSpace:"nowrap",fontStyle:"italic"}},"drag & drop 👋"),", using these building blocks:")}),i.createElement("img",{src:_.default.front.mobile.mobileBlockTypesPng,style:{display:"block",width:380,maxWidth:"100%",marginTop:28}}),i.createElement("div",{style:a({color:k.default.FrontBaseGrayTextColor},C.default()&&{textAlign:"center",marginBottom:24})},"...and 15+ more block types."))))},t.prototype.renderDatabaseSection=function(){return i.createElement(l.Fragment,null,i.createElement(v.default,{name:"databases"}),i.createElement("div",null,i.createElement(g.default,{title:i.createElement("span",null,"Tasks. Projects. Infinite flexibility"),caption:"Notion adapts the way you think and work.",topDivider:!0}),i.createElement("div",{style:this.getWrapStyle()},i.createElement("div",{style:{width:t.mobileChromeWidth,marginRight:C.default()?0:36,marginBottom:C.default()?36:0}},this.renderMobileScreenshotCaption("Spreadsheets & databases","Keep records of everything using powerful views with sorts and filters."),i.createElement(d.default,{format:C.default()&&u.default.isIOS?d.default.Format.IPhone:d.default.Format.Android,style:this.getMobileChromeStyle()},i.createElement("img",{src:C.default()&&u.default.isIOS?_.default.front.mobile.mobileTablePng:_.default.front.mobile.mobileTableAndroidPng,style:t.mobileScreenshotStyle}))),i.createElement("div",{style:{width:t.mobileChromeWidth,marginRight:C.default()?0:36,marginBottom:C.default()?36:0}},this.renderMobileScreenshotCaption("Kanban board","Visually organize tasks and projects. Add assignees, due dates, and tags."),i.createElement(d.default,{format:C.default()&&u.default.isIOS?d.default.Format.IPhone:d.default.Format.Android,style:this.getMobileChromeStyle()},i.createElement("img",{src:C.default()&&u.default.isIOS?_.default.front.mobile.mobileBoardPng:_.default.front.mobile.mobileBoardAndroidPng,style:t.mobileScreenshotStyle}))),i.createElement("div",{style:{width:t.mobileChromeWidth}},this.renderMobileScreenshotCaption("Calendar","Map all your to-dos and notes on a calendar, and see the big picture."),i.createElement(d.default,{format:C.default()&&u.default.isIOS?d.default.Format.IPhone:d.default.Format.Android,style:this.getMobileChromeStyle()},i.createElement("img",{src:C.default()&&u.default.isIOS?_.default.front.mobile.mobileCalendarPng:_.default.front.mobile.mobileCalendarAndroidPng,style:t.mobileScreenshotStyle}))))))},t.prototype.renderSyncSection=function(){return i.createElement(l.Fragment,null,i.createElement(v.default,{name:"sync"}),i.createElement("div",null,i.createElement("div",null,i.createElement(g.default,{title:"Work Offline. Across Many Devices",caption:"Notion works online, offline, and syncs with the companion browser and desktop apps.",topDivider:!0})),i.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.createElement("div",{style:{display:"flex",maxWidth:"90vw"}},i.createElement("div",{style:{width:"calc(25% - 24px)",marginRight:24}},i.createElement("div",{style:{color:k.default.FrontGrayTextColor,fontSize:14,marginBottom:12}},"Mobile"),i.createElement(d.default,{format:d.default.Format.IPhone,style:{width:"100%"}},i.createElement("img",{src:_.default.front.mobile.mobileSyncIosPng,style:t.mobileScreenshotStyle}))),i.createElement("div",{style:{width:"75%"}},i.createElement("div",{style:{color:k.default.FrontGrayTextColor,fontSize:14,marginBottom:12}},"Browser, Mac & Windows Apps ",!C.default()&&!u.default.isMobile&&i.createElement("span",{style:{color:k.default.uiBlack,fontWeight:f.default.fontWeight.semibold,marginLeft:2}},i.createElement(b.default,{href:S.desktop},"Download"))),i.createElement(p.default,{format:p.default.Format.Mac},i.createElement("img",{src:_.default.front.mobile.mobileSyncMacPng,style:{width:"100%",marginTop:"4.5%"}})))))))},t.prototype.renderKnowledgeBaseSection=function(){return i.createElement(l.Fragment,null,this.renderDivider(),i.createElement(v.default,{name:"knowledge_base"}),i.createElement(g.default,{title:"Your Collaborative Workspace",caption:"Knowledge base, wikis, team handbooks..."}),i.createElement("div",{style:this.getWrapStyle()},i.createElement("div",{style:{width:t.mobileChromeWidth,marginRight:C.default()?0:36,marginBottom:C.default()?36:0}},this.renderMobileScreenshotCaption("Real-time Collaboration","Edit together at the same time, @mention, and comments."),i.createElement(d.default,{format:d.default.Format.IPhone,style:this.getMobileChromeStyle()},i.createElement("img",{src:_.default.front.mobile.mobileCollaboratePng,style:t.mobileScreenshotStyle}))),i.createElement("div",{style:{width:t.mobileChromeWidth}},this.renderMobileScreenshotCaption("Folderless Organization","Structure all your pages in an outline, no messy folders."),i.createElement(d.default,{format:d.default.Format.IPhone,style:this.getMobileChromeStyle()},i.createElement("img",{src:_.default.front.mobile.mobileOutlineGif,style:t.mobileScreenshotStyle})))))},t.prototype.renderMobileScreenshotCaption=function(e,r){return i.createElement("div",{style:t.mobileScreenshotCaptionStyle},i.createElement("div",{style:{fontWeight:f.default.fontWeight.semibold}},e),i.createElement("div",{style:{color:k.default.FrontGrayTextColor}},r))},t.prototype.renderTweets=function(){return i.createElement(l.Fragment,null,i.createElement(v.default,{name:"tweets"}),i.createElement(g.default,{title:"See What People Say",caption:"Loved by teams and creators like you.",topDivider:!0}),this.renderDownloadButton(),i.createElement(m.default,{scrollPoint:"twitter_testimonials"}))},t.prototype.renderDownloadButton=function(){return C.default()?i.createElement(h.default,{analyticsName:"mobile"}):i.createElement(y.default,{analyticsName:"mobile"})},t.prototype.renderDivider=function(){return i.createElement("div",{style:{width:"100%",height:1,background:k.default.frontBorderColor,marginTop:C.default()?32:48,marginBottom:C.default()?32:96}})},t.prototype.getWrapStyle=function(){return{display:"flex",flexDirection:C.default()?"column":"row",alignItems:C.default()?"center":"flex-start"}},t.prototype.getMobileChromeStyle=function(){return{width:270}},t.mobileChromeWidth=270,t.mobileScreenshotStyle={width:"100%",borderRadius:3},t.mobileScreenshotCaptionStyle={fontSize:14,textAlign:"center",margin:"0 auto",width:"80%",marginBottom:24},t}(s.default);t.default=E},mQLz:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("17x9"),s=r("n8tN"),u=r("vgb/"),c=r("H4VD"),d=r("/YYm"),p=r("iICV"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleCreated=function(){this.activate(),p.default.setKeyboardMode(!1)},t.prototype.activate=function(){if(this.context.overrideLinkClick){var e=this.props.store,t=d.default({store:e});this.context.overrideLinkClick(t)}else c.navigateToBlock({store:this.props.store})},t.prototype.renderPersisted=function(){var e=this.props.disabled;return i.createElement(u.default,{store:this.props.store,style:a({},this.getBlockColorStyle(),this.props.style),isAlias:this.props.store.isCollectionViewAlias()||this.props.store.isAlias(),disabled:e})},t.contextTypes={overrideLinkClick:l.any},t}(s.default);t.default=f},mU7A:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl"),o=r("q1tI");t.default=function(e){return e=n.assign({percent:.1},e),o.createElement("div",{style:n.assign({position:"relative",minWidth:30,height:5,borderRadius:1,overflow:"hidden"},e.style)},o.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",background:"currentColor",opacity:.1}}),o.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:100*e.percent+"%",minWidth:2,background:"currentColor",opacity:.6}}))}},mVDJ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{recentEmojis:[],loadCategoryCount:t.defaultLoadCategoryCount}},t.defaultLoadCategoryCount=2,t}(r("LEzx").default);t.default=a},mWhK:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{value:"",html:"",query:""}},t}(r("LEzx").default);t.default=a},mcFc:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o=r("g90h");t.getNotificationId=function(e,t){return o.deterministicID([e,t].join(""))},t.getMessageKey=function(e){return"notification/"+e};var a={table:"notification",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,user_id:n.default.String,activity_id:n.default.UUID,received:n.default.Boolean,read:n.default.Boolean,visited:n.default.Boolean,emailed:n.default.Boolean,invalid:n.default.Boolean,space_id:n.default.UUID,navigable_block_id:n.default.UUID,collection_id:n.default.UUID,end_time:n.default.String,type:n.default.String}};t.default=a},meF8:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("i8i4"),s=r("LvDl"),u=r("wldR"),c=r("5Y2+"),d=r("3U6h"),p=r("RI9y"),f=r("IzPW"),h=r("VyA+"),m=r("v/t1"),y=r("w5u6"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleWindowMouseDown=function(e){var r=l.findDOMNode(t);r&&!r.contains(e.target)&&t.props.onBlur()},t.handleEnter=function(){t.handleKeyEvent(),t.props.onSubmit()},t.handleKeyEvent=function(){y.default.afterNextFlush(function(){t.saveSerializedTextSelection()})},t.getDisabled=function(){return!t.props.focus},t.getHtml=function(){return t.props.value+(t.props.value.length>0?"\n":"")},t.getSelection=function(){return t.stores.store.state.selection},t.handleMutation=function(e){t.saveSerializedTextSelection(),t.props.onChange(e)},t.saveSerializedTextSelection=function(){var e=t.stores.store,r=f.serializeTextSelection(p.get());s.isEqual(r,e.state.selection)||t.stores.store.setState({selection:r})},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),m.addPassiveEventListener(window,"mousedown",this.handleWindowMouseDown)},t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t);var r=this.stores.store;t.focus&&!r.state.selection&&(t.selectAll?r.setState({selection:{startIndex:0,endIndex:t.value.length}}):r.setState({selection:{startIndex:t.value.length,endIndex:t.value.length}}))},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),m.removePassiveEventListener(window,"mousedown",this.handleWindowMouseDown)},t.prototype.renderComponent=function(){return i.createElement(h.default,{capture:this.props.focus,onDelete:this.handleKeyEvent,onBackspace:this.handleKeyEvent,onEnter:this.handleEnter,onCommandEnter:this.handleKeyEvent,onCommandShiftEnter:this.handleKeyEvent,onUp:this.handleKeyEvent,onDown:this.handleKeyEvent,onLeft:this.handleKeyEvent,onRight:this.handleKeyEvent,onTab:this.handleKeyEvent,onUntab:this.handleKeyEvent,onSelectAll:this.handleKeyEvent,onToggleBold:this.handleKeyEvent,onToggleItalics:this.handleKeyEvent,onToggleStrike:this.handleKeyEvent,onToggleCode:this.handleKeyEvent,onUndo:this.handleKeyEvent,onRedo:this.handleKeyEvent,onEsc:this.handleKeyEvent,onCut:this.handleKeyEvent,onCopy:this.handleKeyEvent,onPaste:this.handleKeyEvent,onKeypress:this.handleKeyEvent,onHome:this.handleKeyEvent,onEnd:this.handleKeyEvent,onGoToBeginningOfLine:this.handleKeyEvent,onGoToEndOfLine:this.handleKeyEvent,onGoForwardOneChar:this.handleKeyEvent,onGoBackwardOneChar:this.handleKeyEvent},i.createElement(c.default,{style:a({},this.props.style,{whiteSpace:"pre-wrap"}),placeholder:this.props.placeholder,placeholderStyle:this.props.placeholderStyle,spellCheck:!1,getDisabled:this.getDisabled,getHtml:this.getHtml,getSelection:this.getSelection,onMutation:this.handleMutation}))},t.stores={store:d.default},t}(u.default);t.default=g},meXu:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("div",{style:this.getStyle(),onMouseDown:this.props.onMouseDown,onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,onContextMenu:this.props.onContextMenu},i.createElement("div",{style:this.getSidebarStyle()},this.props.sidebar),i.createElement("div",{style:this.getChildrenStyle()},this.props.children))},t.prototype.getStyle=function(){return{display:"flex",height:"100%",flexDirection:this.props.isReversed?"row-reverse":"row"}},t.prototype.getSidebarStyle=function(){return a({width:160,height:"100%",background:this.theme.sidebarBackground,flexGrow:0,flexShrink:0},this.props.sidebarStyle)},t.prototype.getChildrenStyle=function(){return{boxShadow:"0 0 5px "+this.theme.shadowColor.alpha(.07).css(),flexGrow:1,position:"relative",zIndex:1,height:"100%"}},t}(r("t+pW").default);t.default=l},mego:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("LvDl"),c=r("i8i4"),d=r("dsG5"),p=r("q2qQ"),f=r("r8oj"),h=r("mF3+"),m=r("7M94"),y=r("Sb6f"),g=r("M64d"),v=r("jmjn"),b=r("4jZO"),w=r("6rsX"),S=r("n8tN"),_=r("vmq8"),k=r("SGmk"),C=r("6fCZ"),E=r("EjWR"),P=r("8q7i"),x=r("o+Zi"),T=r("rrBF"),O=r("L4S0"),M=r("3luQ"),I=r("5rk/"),A=r("F1uM"),D=r("cBa6"),L=r("y6Dp"),R=r("vX3W"),B=r("GEFS"),j=r("A9TN"),V=r("unoy"),F=r("7TLZ"),N=r("Cm2F"),U=r("gRnv"),W=r("HTHG"),z=r("vJXr"),H=r("nZ1u"),q=r("0zNc"),G=r("0GcB"),Z=r("BRCg"),Y=r("zmp8"),K=r("MeYt"),J={tweet:P.default,gist:E.default,video:T.default,image:x.default,audio:M.default,invision:I.default,maps:O.default,drive:O.default,framer:O.default,figma:O.default,loom:O.default,typeform:O.default,codepen:O.default,embed:O.default,pdf:B.default},Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openMenu=function(){if(t.canEdit()){var e=t.props.embedButtonText||"Embed Link",r={embed:{type:"embed",caption:t.props.mediaMenuEmbedCaption||"Supports links of PDFs, Google Docs, Google Sheets, Google Maps, CodePen...",buttonText:e,inputPlaceholder:t.props.urlInputPlaceholder||"Paste in https://...",onChange:function(e){R.clear(),t.embedSource(e)}},file:{type:"file",onUpload:t.handleUpload},unsplash:{type:"unsplash",onChange:function(e){var r=e.url;R.clear(),t.embedSource(r)}}},n=t.props,o=n.popupWidth,i=n.maxHeight,l=t.props.mediaMenuCurrentTab||"embed",s=(t.props.mediaMenuTabs||["embed","file"]).map(function(e){return r[e]}),u=c.findDOMNode(t);if(u&&u instanceof Element){var d=u.getBoundingClientRect();R.show(a({originRect:d,originGap:0,isSmallWidth:!1,showArrow:!0,currentTab:l,tabs:s,title:"Embed"},o?{popupWidth:o}:{},i?{maxHeight:i}:{}))}}},t.replace=function(){t.openMenu();var e=t.props.store.getType();e&&L.trackEmbedBlockAction({type:"replace",block_type:e})},t.caption=function(){t.handleEditCaption()},t.getFullScreenNodeRect=function(){var e=t.getDimensions(),r=e.isFullWidth,n=e.aspectRatio;if(t.embedComp){var o=c.findDOMNode(t.embedComp);if(o&&o instanceof Element){var i=o.getBoundingClientRect();return r&&n?a({},u.toPlainObject(i),{width:i.width,height:i.width*n}):i}}},t.renderFullScreenNode=function(){var e=t.getSource(),r=t.getRenderer(t.getSource());if(e){var n=t.getRenderArgs(e);return r&&r.renderFullScreen?r.renderFullScreen(n):void 0}},t.handleEditCaption=function(){return i(t,void 0,void 0,function(){var e,t;return l(this,function(r){return e=this.props.store.getPropertyStore("caption"),w.edit({store:this.props.store}),V.setSelectionAtEnd({store:e}),(t=this.props.store.getType())&&L.trackEmbedBlockAction({type:"caption",block_type:t}),[2]})})},t.handleMouseEnter=function(e){q.default.state.isDragging||H.default.state.isActive||t.stores.embedBlockStore.setState(a({},t.stores.embedBlockStore.state,{hovered:!0}))},t.handleMouseLeave=function(e){q.default.state.isDragging||H.default.state.isActive||t.stores.embedBlockStore.setState(a({},t.stores.embedBlockStore.state,{hovered:!1}))},t.handleFullScreen=function(){p.fullScreen({blocks:[t.props.store]});var e=t.props.store.getType();e&&L.trackEmbedBlockAction({type:"full_screen",block_type:e})},t.handleOriginalClick=function(){d.openSource({store:t.props.store});var e=t.props.store.getType();e&&L.trackEmbedBlockAction({type:"original",block_type:e})},t.handleUpload=function(e){var r=t.props.store,n=W.getCurrentContainerPageWidth();d.uploadFile({store:r,file:e,pageWidth:n})},t.fileUploadStore=t.createComputedStore(function(){return Z.default.getKeyState(Z.default.getBlockKey(t.props.store.id))}),t}return o(t,e),t.prototype.handleCreated=function(){this.openMenu()},t.prototype.edit=function(){this.openMenu()},t.prototype.embed=function(e){this.embedSource(e)},t.prototype.activate=function(){this.getRenderer(this.getSource())?this.handleFullScreen():this.replace()},t.prototype.canRenderFullScreen=function(){var e=this.getRenderer(this.getSource());return!(!e||!e.renderFullScreen)},t.prototype.renderPersisted=function(){var e=this.getSource(),t=this.fileUploadStore.state;return t&&t.dataURL?this.renderSource(t.dataURL):e?this.renderSource(e):this.renderPlaceholder()},t.prototype.renderSource=function(e){var t=this,r=this.canEdit(),n=this.getDimensions(),o=n.preserveScale,i=n.isFullWidth,l=this.isRootChild(),u=this.getRenderer(e);if(u){var c=u.resizable,d=r&&c,p=d&&(!o||i&&l),h=d&&l,y=p&&!i,v=y&&l,b=_.ResizerAlignment.Left,w=_.ResizerAlignment.Right,S=_.ResizerType.Vertical,k=_.ResizerType.Horizontal,C=_.ResizerType.Corner;return g.default(function(r){return s.createElement("div",a({ref:function(r){r&&t.attachGhost(r,e)}},r),s.createElement("div",{style:{display:"flex"}},s.createElement("div",{className:m.cursorDefault,style:{position:"relative",overflow:"hidden",flexGrow:1},onMouseLeave:t.handleMouseLeave,onMouseEnter:t.handleMouseEnter},t.renderEmbed(e),h&&t.renderResizer("LeftResizer",k,b,o),d&&t.renderResizer("RightResizer",k,w,o),y&&t.renderResizer("RightCornerResizer",C,w,o),v&&t.renderResizer("LeftCornerResizer",C,b,o),p&&t.renderResizer("BottomResizer",S,null,o),t.renderActions(e)),!i&&!f.default.isMobile&&t.renderDiscussion()),t.renderCaption())})}},t.prototype.renderPlaceholder=function(){var e=!z.default.state.online,t=f.default.isMobile||this.stores.embedBlockStore.state.hovered,r=this.fileUploadStore.state;return s.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:{display:"flex"}},s.createElement(k.default,{style:this.getContentWrapStyle(),disabled:!this.canEdit()||e,iconSvg:this.props.iconSvg||h.default.compass,right:t&&this.canEdit()&&s.createElement(C.default,{store:this.props.store,fadeIn:!0}),onClick:this.openMenu,isLoading:Boolean(r),progressPercent:r?r.progressPercent:0,file:r?r.file:void 0,name:r?r.name:void 0,size:r?r.size:void 0},this.props.children||"Embed Anything (PDFs, Google Docs, Google Maps, Spotify...)"),this.renderDiscussion())},t.prototype.renderEmbed=function(e){var t=this.getRenderer(e);if(t){var r=this.getRenderArgs(e);return t.render(r)}},t.prototype.renderActions=function(e){var r=this;if(this.props.store.canEdit()){var n=this.getRenderer(e),o=this.shouldHideActions(),i=this.fileUploadStore.state,l=this.stores.blockResizerStore.state.dragging;if(!i&&!l){if(!n||!n.hideActions){var u=F.getNumberOfUnresolvedComments(this.props.store);return this.props.store.isNavigableAncestorLocked()?s.createElement("div",{style:this.getActionsStyle()},s.createElement(K.default,{style:t.actionButtonStyle,onClick:this.handleOriginalClick},"View Original")):o?s.createElement("div",{style:this.getActionsStyle()},s.createElement(C.default,{store:this.props.store,fadeIn:!1,iconStyle:{fill:Y.default.white}})):s.createElement("div",{style:this.getActionsStyle()},s.createElement(K.default,{style:a({},t.actionButtonStyle,f.default.isMobile&&{paddingLeft:8,paddingRight:8}),onClick:function(){w.clear(),u>0?N.openBlockDiscussionMenu({blockStore:r.props.store,analyticsFrom:"embed_menu"}):U.openNewBlockDiscussionMenu({blockStore:r.props.store})}},h.default.speechBubble({width:12,height:12,marginRight:u>0?4:0,fill:Y.default.white}),u>0&&u),!f.default.isMobile&&s.createElement(K.default,{style:t.actionButtonStyle,onClick:this.handleEditCaption},"Caption"),!f.default.isMobile&&s.createElement(K.default,{style:t.actionButtonStyle,onClick:this.handleOriginalClick},"Original"),s.createElement(C.default,{store:this.props.store,fadeIn:!1,iconStyle:{fill:Y.default.white}}))}return f.default.isMobile?s.createElement("div",{style:this.getActionsStyle()},s.createElement(C.default,{store:this.props.store,fadeIn:!1,iconStyle:{fill:Y.default.white}})):void 0}}},t.prototype.renderResizer=function(e,r,n,o){var i,l={position:"absolute"},u=_.ResizerType.Vertical,c=_.ResizerType.Horizontal,d=_.ResizerType.Corner,p=_.ResizerAlignment.Left,f=_.ResizerAlignment.Right;return r===u||r===d?l.bottom=t.resizerOffset:r===c&&(l.top=t.resizerOffset),n===p?l.left=t.resizerOffset:n===f&&(l.right=t.resizerOffset),i=r===d?h.default.cornerResize({stroke:Y.default.whiteWithAlpha(.5),fill:Y.default.blackWithAlpha(.65),width:t.cornerResizeSize,height:t.cornerResizeSize,transition:"opacity "+t.transition,opacity:this.shouldShowResizer()?1:0,position:"relative",bottom:3,left:n===p?3:-3,transform:n===p?"rotate(90deg)":"none"}):s.createElement("div",{style:this.getResizerInnerStyle(r)}),s.createElement(_.default,{key:e,store:this.props.store,preserveScale:o,resizerType:r,resizerAlignment:n,resizeComponent:this,blockResizerStore:this.stores.blockResizerStore,resizeHorizontally:!0,resizeVertically:!0,disabled:!1},s.createElement("div",{style:a({},this.getResizeStyle(r,n),l)},i))},t.prototype.shouldShowResizer=function(){var e=this.stores.embedBlockStore.state.hovered;return!f.default.isMobile&&e},t.prototype.attachGhost=function(e,t){var r=this.getRenderer(t);e&&r&&r.embedGhost&&e.setAttribute("embed-ghost","")},t.prototype.shouldHideActions=function(){var e=this.props.store.getFormat().block_width,r=this.stores.blockResizerStore.state.temporaryWidth;return void 0!==r?r<=t.minWidthForActions:void 0!==e&&e<=t.minWidthForActions},t.prototype.getDimensions=function(){var e=this.props.store.getFormat(),t=e.block_height,r=e.block_width,n=e.block_preserve_scale,o=e.block_full_width,a=e.block_page_width,i=e.block_aspect_ratio,l=this.stores.blockResizerStore.state,s=l.dragging,u=l.temporaryHeight,c=l.temporaryWidth,d=l.temporaryFullWidth,p=l.temporaryPageWidth,f=s?c:r,h=s?u:t,m=Boolean(s?d:o),y=Boolean(s?p:a);return{blockWidth:r,blockHeight:t,width:f,height:h,dragging:s,preserveScale:Boolean(this.props.preserveScale||n),isFullWidth:m,isPageWidth:y,aspectRatio:i}},t.prototype.getSource=function(){var e=this.props.store.getProperties(),t=e&&e.source,r=D.getText(t),n=this.props.store.getFormat().display_source;return A.getNormalizedSource(n||r)},t.prototype.getRenderArgs=function(e){var t=this,r=this.fileUploadStore.state,n=this.getDimensions(),o=n.blockWidth,a=n.blockHeight,i=n.width,l=n.height,s=n.dragging,u=n.preserveScale,c=n.isFullWidth,d=n.isPageWidth,p=n.aspectRatio,f=this.isRootChild();return{store:this.props.store,source:e,blockWidth:o,blockHeight:a,aspectRatio:p,width:i,height:l,dragging:s,preserveScale:u,isFullWidth:c,isPageWidth:d,isRootChild:f,dataURL:r?r.dataURL:void 0,disabled:!this.canEdit(),contentStyle:this.getContentStyle(),contentWrapStyle:this.getContentWrapStyle(),isLoading:Boolean(r),progressPercent:r?r.progressPercent:0,handleFullScreen:this.handleFullScreen,handleEmbedComp:function(e){return t.embedComp=e}}},t.prototype.getRenderer=function(e){var t=this.fileUploadStore.state;if(t&&t.dataURL)return J.image;if(e){if(e.startsWith("data:")||e.startsWith("<img"))return;var r=A.getBlockTypeForSource({url:e,baseUrl:j.default.baseURL});if("embed"!==r)return J[r]}var n=this.props.store.getType();return n&&e?J[n]:O.default},t.prototype.embedSource=function(e){var t=this.props.store,r=W.getCurrentContainerPageWidth();d.initializeEmbedBlock({source:e,isDataURL:!1,store:t,pageWidth:r})},Object.defineProperty(t,"actionButtonBackground",{get:function(){return f.default.isMobile?Y.default.blackWithAlpha(.3):Y.default.blackWithAlpha(.6)},enumerable:!0,configurable:!0}),t.prototype.getContentWrapStyle=function(){var e={position:"relative"};return this.canEdit()&&(e.cursor="pointer"),e},t.prototype.getContentStyle=function(){return{display:"block",width:"100%",pointerEvents:this.stores.blockResizerStore.state.dragging?"none":"auto"}},t.prototype.getResizeStyle=function(e,r){var n={position:"absolute",pointerEvents:this.shouldShowResizer()?"auto":"none",display:"flex",alignItems:"center",justifyContent:"center"};return r===_.ResizerAlignment.Right?n.right=0:r===_.ResizerAlignment.Left&&(n.left=0),e===_.ResizerType.Horizontal?(n.top=0,n.zIndex=1,n.height="100%",n.width=t.resizerWidth,n.cursor="col-resize"):e===_.ResizerType.Vertical?(n.bottom=0,n.zIndex=1,n.width="100%",n.height=t.resizerWidth,n.cursor="row-resize"):e===_.ResizerType.Corner&&(n.zIndex=2,n.bottom=0,n.width=n.height=t.cornerResizeSize,r===_.ResizerAlignment.Left?n.cursor="nesw-resize":r===_.ResizerAlignment.Right&&(n.cursor="nwse-resize")),n},t.prototype.getResizerInnerStyle=function(e){var r=G.default.state.mode,n={opacity:this.shouldShowResizer()?1:0,transition:t.transition,borderRadius:20,background:Y.grayscale[r].black.alpha(.6).css(),border:"1px solid "+Y.default.whiteWithAlpha(.9)};return e===_.ResizerType.Horizontal?(n.width=6,n.height=48,n.maxHeight="50%"):e===_.ResizerType.Vertical&&(n.height=6,n.width=48,n.maxWidth="50%"),n},t.prototype.getActionsStyle=function(){var e=this.stores.embedBlockStore.state.hovered,r=f.default.isMobile;return{position:"absolute",top:4,right:4,borderRadius:3,color:Y.default.white,fill:Y.default.white,fontSize:11.5,background:t.actionButtonBackground,display:"flex",whiteSpace:"nowrap",maxWidth:"calc(100% - 16px)",overflow:"hidden",pointerEvents:e||r?"auto":"none",opacity:e||r?1:0,transition:f.default.isSafari?void 0:t.transition,fontFamily:y.default.fontFamily.sans,zIndex:2}},t.minWidthForActions=230,t.stores={embedBlockStore:b.default,blockResizerStore:v.default},t.resizerWidth=15,t.resizerOffset=0,t.cornerResizeSize=20,t.actionButtonStyle={display:"flex",alignItems:"center",padding:"4px 6px",borderRight:"1px solid "+Y.default.whiteWithAlpha(.2)},t.centerPromptStyle={color:Y.default.white,fontSize:14,fontFamily:y.default.fontFamily.sans,padding:"0.3em 1.5em 0.3em",background:Y.default.blackWithAlpha(.4),borderRadius:3},t.transition="opacity 300ms ease-in",t}(S.default);t.default=Q},mfDO:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{forceDiscussionOpen:!1,forceDescriptionOpen:!1}},t}(r("LEzx").default);t.default=a},mg1p:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("q1tI"),s=r("i8i4"),u=r("M64d"),c=r("ikHm"),d=r("NOLh"),p=r("wldR"),f=r("VyA+"),h=r("fHgN"),m=r("LoBg"),y=r("Iece"),g=r("Sb6f"),v=r("EtGu"),b=r("wS9/"),w=r("zmp8"),S=r("d9nj"),_=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderOverlay=function(){var e=v.default.state,n=e.isOpen,o=e.renderFullScreenNode,s=e.fullScreenNodeRect;if(s){var c=window.innerWidth,p=window.innerHeight,h=c-2*t.edgePadding,y=p-2*t.edgePadding,g=h,b=g/s.width*s.height;if(b>y){var w=b/y;b/=w,g/=w}var _,k=(c-g)/2,C=(p-b)/2,E={translateX:s.left,translateY:s.top,width:s.width,height:s.height},P={translateX:k,translateY:C,width:g,height:b};return o&&(_=o()),u.default(function(e){return l.createElement(f.default,{capture:n,onEsc:r.handleClose,onEnter:i.identity,onSpace:r.handleClose,onCommandEnter:r.handleClose,onCommandShiftEnter:i.identity,onCommandSlash:i.identity,onUp:i.identity,onDown:i.identity,onDelete:i.identity,onBackspace:i.identity,onLeft:i.identity,onRight:i.identity,onUntab:i.identity,onTab:i.identity,onSelectAll:i.identity,onRedo:i.identity,onUndo:i.identity,onToggleBold:i.identity,onToggleItalics:i.identity,onToggleStrike:i.identity,onToggleCode:i.identity,onCut:i.identity,onCopy:i.identity,onPaste:i.identity,onKeypress:i.identity},l.createElement(m.default,{capture:n},l.createElement("div",a({onClick:r.handleClose,ref:function(e){r.rootEl=e},style:r.getStyle(n)},e),l.createElement(d.default,{isVisible:n,enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},animationStyle:{opacity:.8},render:function(){return l.createElement("div",{style:t.backgroundStyle})},onAnimationEnd:r.handleBackgroundAnimationEnd}),l.createElement(d.default,{ref:function(e){r.animatedEl=e},isVisible:n,enterAnimationStyle:E,exitAnimationStyle:E,animationStyle:P,springConfig:{translateX:t.springConfig,translateY:t.springConfig,width:t.springConfig,height:t.springConfig},render:function(){return l.createElement("div",{style:t.fullScreenNodeWrapStyle},_)},onAnimationEnd:r.handleFullscreenNodeAnimationEnd}),l.createElement(S.default,{style:r.getCloseButtonStyle(n),onClick:r.handleClose},"Close"))))})}},r.handleClose=function(){v.default.setState(a({},v.default.state,{isOpen:!1}))},r.handleResize=function(){v.default.state.isOpen&&r.enqueueForceUpdate()},r.handleFrameScrollerUpdate=function(){r.updateRootElFromScroll()},r.handleBackgroundAnimationEnd=function(){v.default.state.isOpen||v.default.setState(a({},v.default.state,{backgroundAnimationComplete:!0}))},r.handleFullscreenNodeAnimationEnd=function(){v.default.state.isOpen||v.default.setState(a({},v.default.state,{fullscreenNodeAnimationComplete:!0}))},r}return o(t,e),t.prototype.didMount=function(){e.prototype.didMount.call(this),window.addEventListener("resize",this.handleResize),y.default.addListener(this.handleFrameScrollerUpdate)},t.prototype.didMountOrUpdate=function(){e.prototype.didMountOrUpdate.call(this),this.updateRootElFromScroll()},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),window.removeEventListener("resize",this.handleResize),y.default.removeListener(this.handleFrameScrollerUpdate)},t.prototype.renderComponent=function(){var e=v.default.state,t=e.isOpen,r=e.fullscreenNodeAnimationComplete,n=e.backgroundAnimationComplete;return l.createElement(h.default,{open:t||!r||!n,render:this.renderOverlay})},t.prototype.getRenderedEl=function(){var e=s.findDOMNode(this.animatedEl);if(e)return e.childNodes[0]},t.prototype.updateRootElFromScroll=function(){if(this.getRenderedEl()){var e=y.default.state.scrollTop-v.default.state.startScrollTop;this.rootEl.style.transform="translateY("+-e+"px)"}},t.prototype.getStyle=function(e){return{zIndex:c.overlayContainer,position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:e?"auto":"none",cursor:"zoom-out"}},t.prototype.getCloseButtonStyle=function(e){return{position:"absolute",top:b.default.calcPaddingBottom(16),right:b.default.calcPaddingRight(18),display:e?"block":"none",fontWeight:g.default.fontWeight.medium}},t.edgePadding=32,t.springConfig={stiffness:50,damping:10,precision:.2},t.fullScreenNodeWrapStyle={position:"absolute",top:0,left:0,display:"flex"},t.backgroundStyle={position:"absolute",top:0,left:0,right:0,bottom:0,background:w.default.black},t}(p.default);t.default=_},mgm2:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("r8oj"),l=r("/YYm"),s=r("H4VD"),u=r("OxuQ"),c=r("Oy36"),d=r("q1tI"),p=r("0lqH"),f=r("IdSf"),h=r("MBf9"),m=r("N34Z"),y=r("7TLZ"),g=r("mF3+"),v=r("n8tN"),b=r("QcDD"),w=r("Sb6f"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderProperty=function(e){var r=t.props,n=r.store,o=r.schema,i=r.disabled,l=r.blockPropertyValueOverlayStore,s=r.locked;return a.createElement(p.default,{key:e,store:n,property:e,schema:o,disabled:i||!n.canEdit(),locked:s,format:p.BlockPropertyValueFormat.ListView,tableWrap:!1,blockPropertyValueOverlayStore:l})},t.renderDiscussionIndicator=function(){var e=t.props.store,r=y.getNumberOfUnresolvedComments(e);if(r>0)return a.createElement("div",{style:{display:"inline-flex",alignItems:"center",color:t.theme.lightTextColor,fontWeight:w.default.fontWeight.semibold,fontSize:12,paddingLeft:10,paddingRight:10}},g.default.speechBubble({width:14,height:14,marginRight:4,fill:t.theme.mediumIconColor}),r)},t.handleRecordIconChange=function(e){var r=t.props.store.getIconStore();r&&h.createAndCommit(function(t){m.setValue({store:r,value:e,transaction:t})})},t}return o(t,e),t.prototype.activate=function(){var e=this.getPeekUrl();e&&s.navigate({url:e})},t.prototype.renderComponent=function(){var e=this.props.showProperties;return i.default.isMobile&&this.props.showProperties.length>0?a.createElement(f.default,{href:this.getBlockUrl(),metaHref:this.getPeekUrl(),external:!1,style:this.getTwoLineMobileWrapStyle(),innerStyle:{paddingRight:4,marginTop:10,marginBottom:10}},a.createElement("div",{style:{display:"flex",alignItems:"center"}},this.renderTitle()),a.createElement("div",{style:{display:"flex",alignItems:"center",paddingLeft:6,marginTop:4}},e.map(this.renderProperty))):a.createElement(f.default,{href:this.getBlockUrl(),metaHref:this.getPeekUrl(),external:!1,style:t.oneLineWrapStyle,innerStyle:{display:"flex",alignItems:"center",paddingRight:4}},this.renderTitle(),e.map(this.renderProperty))},t.prototype.renderTitle=function(){var e=this.props,r=e.store,n=e.disabled,o=Boolean(!r.canEdit()||n)?a.createElement(c.default,{disabled:!1,bucket:"secure",icon:r.getIcon(),isEmptyPage:r.isEmptyPage(),size:22,style:t.iconStyle,onChange:this.handleRecordIconChange}):a.createElement(c.default,{disabled:!0,icon:r.getIcon(),isEmptyPage:r.isEmptyPage(),size:22,style:t.iconStyle});return a.createElement(d.Fragment,null,o,a.createElement("div",{style:this.getTitleWrapStyle()},a.createElement(u.default,{store:r,style:this.getTitleStyle()}),this.renderDiscussionIndicator()))},t.prototype.getPeekUrl=function(){var e=b.default.state.currentBlockStore;if(e)return l.default({store:e,fullyQualified:!1,peekViewBlockId:this.props.store.id})},t.prototype.getBlockUrl=function(){return l.default({store:this.props.store,fullyQualified:!1})},t.prototype.getTwoLineMobileWrapStyle=function(){return{textDecoration:"none",overflow:"hidden",borderBottom:"1px solid "+this.theme.darkDividerColor}},t.prototype.getTitleWrapStyle=function(){return{display:"flex",marginRight:"auto",minWidth:i.default.isMobile?0:240}},t.prototype.getTitleStyle=function(){return{fontWeight:w.default.fontWeight.medium,borderBottom:"1px solid "+this.theme.darkDividerColor,lineHeight:1.3}},t.oneLineWrapStyle={display:"flex",textDecoration:"none",height:30,overflow:"hidden",borderRadius:3},t.iconStyle={marginLeft:2,marginRight:6},t}(v.default);t.default=S},mgru:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl");function o(e){return n.isPlainObject(e)&&n.isEmpty(e)}function a(e){return n.isArray(e)&&n.isEmpty(e)}function i(e,t){return e===t||(!(!a(e)||!a(t))||!(!o(e)||!o(t)))}t.default=function e(t,r){if(i(t,r))return!0;if(n.isPlainObject(t)&&n.isPlainObject(r)){for(var o in t)if(t.hasOwnProperty(o)){if(!r.hasOwnProperty(o))return!1;if(o.toLowerCase().endsWith("style")||o.toLowerCase().endsWith("props")){if(!e(t[o],r[o]))return!1}else if(!i(t[o],r[o]))return!1}for(var o in r)if(r.hasOwnProperty(o)&&!t.hasOwnProperty(o))return!1;return!0}if(n.isArray(t)&&n.isArray(r)){if(t.length!==r.length)return!1;for(var a=0;a<t.length;a++)if(!i(t[a],r[a]))return!1;return!0}return!1}},miBo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},mjq6:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var a=r("P8+q"),i=r("LvDl");t.default=function(e,t,r){var l,s,u=[];try{for(var c=n(t),d=c.next();!d.done;d=c.next()){var p=d.value,f=o(a.filter(e,[p],{extract:r}),1)[0];f&&u.push(f)}}catch(e){l={error:e}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(l)throw l.error}}var h=u.map(function(t){var r=t.string.toLowerCase().indexOf(e.toLowerCase());return r>0?0===r?{original:t.original,score:1e5}:" "===t.string[r-1]?{original:t.original,score:1e4}:{original:t.original,score:1e3}:t});return i.sortBy(h,function(e){return-e.score}).map(function(e){return e.original})}},mnyC:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("wldR"),c=r("frzs"),d=r("H4VD"),p=r("DlEO"),f=r("qqdV"),h=r("5jDe"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMount=function(){return i(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,c.loginWithEmail({state:this.props.state,password:this.props.password,redirectURL:this.props.redirectURL})];case 1:return(e=t.sent())&&(p.default.setState(a({},p.default.state,{alert:e.message})),this.props.isSignup?d.navigate({url:f.signup}):d.navigate({url:f.login})),[2]}})})},t.prototype.renderComponent=function(){return s.createElement(h.default,null)},t}(u.default);t.default=m},mp8m:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{spinnerVisible:!1,showSpinnerTime:0,containerVisible:!1}},t}(r("LEzx").default);t.default=a},mvTP:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,i=r("LEzx");!function(e){e[e.Regular=0]="Regular",e[e.Fixed=1]="Fixed",e[e.Sticky=2]="Sticky"}(a=t.HeaderPosition||(t.HeaderPosition={}));var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{topPosition:a.Regular,bottomPosition:a.Regular,offsetTop:0,offsetBottom:0}},t}(i.default);t.default=l},mva1:function(e,t){},mxzd:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isActive:!1}},t}(r("LEzx").default);t.default=new a},n8tN:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("LvDl"),u=r("i8i4"),c=r("r8oj"),d=r("wpmu"),p=r("t+pW"),f=r("soXn"),h=r("7TLZ"),m=r("fJHT"),y=r("hbKx"),g=r("VpIZ"),v=r("KcXv"),b=r("DNgp"),w=r("3k5a"),S=r("UcZb"),_=r("wS9/"),k=r("zmp8"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registries=[w.default],t.blockStore=function(){return t.props.store},t.captionIsEmpty=t.createComputedStore(function(){var e=t.props.store.getPropertyStore("caption").getValue();return!e||0===e.length}),t.captionIsFocused=t.createComputedStore(function(){var e=t.props.store.getPropertyStore("caption");return b.default.state.editing&&b.default.state.store===e}),t}return o(t,e),t.prototype.getNode=function(){return u.findDOMNode(this)},t.prototype.canEdit=function(){return!this.props.disabled&&this.props.store.canEdit()},t.prototype.canComment=function(){return!this.props.disabled&&this.props.store.canComment()},t.prototype.canAdmin=function(){return!this.props.disabled&&this.props.store.canAdmin()},t.prototype.canView=function(){return this.props.store.canRead()},t.prototype.isRootChild=function(){return this.props.store.depth()<=2},t.prototype.renderComponent=function(){return this.props.store&&this.props.store?!this.canView()||this.hasSelfAsAncestor()?null:this.renderPersisted():null},t.prototype.renderPersisted=function(){return null},t.prototype.renderDiscussion=function(e){var t=h.getUnresolvedDiscussionStores(this.props.store);if(!this.props.hideContent)return t.length>0&&l.createElement(f.default,{key:"DiscussionIndicator",store:this.props.store,format:this.getDiscussionIndicatorFormat(),style:e})},t.prototype.renderCaption=function(){var e=this.props.disabled,t=this.props.store.getPropertyStore("caption"),r=this.captionShouldHavePadding(),n=a({},this.getCaptionStyle(),r&&{paddingLeft:26,paddingRight:26});if(!this.captionIsEmpty.state||this.captionIsFocused.state)return l.createElement(m.default,{disabled:e,style:n,placeholderStyle:n,placeholder:"Write a caption...",disableSlashCommands:!0,disableEmbedMenu:!0,store:t})},t.prototype.captionShouldHavePadding=function(){var e=this.props.store.getFormat(),t=e.block_full_width,r=e.block_width;if(e.block_page_width)return!1;if(t)return!0;var n=_.default.state.width;return(r||0)>=(!c.default.isMobile&&S.default.state.expanded?n-S.default.state.width:n)},t.prototype.hasSelfAsAncestor=function(){var e=this,t=0;return this.props.store.findRecordStoreAncestor(function(r){return r!==e.props.store&&e.props.store.id&&r.id===e.props.store.id&&s.isEqual(e.props.store.path,r.path)&&t++,!1}),t>1},t.prototype.getColumnListIndexAndCount=function(){var e,t,r,n,o,a=this.props.store,l=y.getPathStores(a);try{for(var s=i(l),u=s.next();!u.done;u=s.next()){var c=u.value;if(c instanceof d.default&&r){var p=c.getValue();if(p&&g.isNavigableType(p)&&p.id!==a.id)break;if(p&&"column_list"===p.type){var f=p.content||[];n=f.indexOf(r.id),o=f.length}}r=c}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return{columnListIndex:n,columnListColumnCount:o}},t.prototype.getDiscussionIndicatorFormat=function(){var e=this.getColumnListIndexAndCount();return!c.default.isMobile&&(void 0===e.columnListIndex||e.columnListColumnCount&&e.columnListIndex===e.columnListColumnCount-1)?f.DiscussionIndicatorFormat.FloatRight:f.DiscussionIndicatorFormat.PushContent},t.prototype.getBlockColorStyle=function(){var e=this.props.store.getFormat().block_color||"default";return k.getBlockColorStyle(e,this.theme)},t.prototype.getCaptionStyle=function(){return{fontSize:14,lineHeight:1.4,color:this.theme.mediumTextColor,paddingTop:6,paddingBottom:6,paddingLeft:v.itemStyle.paddingLeft}},t}(p.default);t.default=C},nDaI:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("t+pW"),u=r("NOLh"),c=r("njgS"),d=r("g90h"),p=r("6BTz"),f=r("r8oj"),h=r("nFzZ"),m=r("g4rC"),y=r("y6Dp"),g=r("i3uR"),v=r("Ijt+"),b=r("MeYt"),w=r("mF3+"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClosePopup=function(){t.stores.buttonPopupStore.setState(a({},t.stores.buttonPopupStore.state,{open:!1}))},t.handlePropertyAggregationMenuChange=function(e){var r=t.props,n=r.property,o=r.aggregation,a=r.schema,i=r.onChange,l=a[n];l&&(e?(i(o,{id:o?o.id:d.default(),property:n,type:n?l.type:void 0,aggregation_type:e,view_type:"table"}),y.trackConfigureView({view_type:"table",action:"table_change_aggregation"})):(i(o,void 0),y.trackConfigureView({view_type:"table",action:"table_remove_aggregation"})))},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=this.props,n=r.disabled,o=r.property,l=r.schema,s=this.stores.buttonPopupStore;return i.createElement(g.default,{popupType:f.default.isMobile?g.default.PopupType.SlideUp:g.default.PopupType.Popup,buttonPopupStore:s,disabled:n,renderOrigin:function(r){return i.createElement(b.default,a({disabled:n,style:t.buttonStyle},r),e.renderButtonContent())},render:function(){return i.createElement(v.default,{property:o,schema:l,onChange:e.handlePropertyAggregationMenuChange,onClose:e.handleClosePopup})}})},t.prototype.renderButtonContent=function(){var e=this,r=this.stores.buttonPopupStore,n=this.props,o=n.aggregation,a=n.schema,s=n.property,d=n.aggregationResult,m=n.isHovered,y=n.disabled,g=f.default.isMobile;if(o&&d&&!h.isNotDefined(d.value)){var v=c.aggregationShortNameMap[o.aggregation_type],b=a[s];if(!b)return;var S=p.getAggregationNumberFormat(b,o.aggregation_type),_=p.formatNumber(l.round(d.value,5),S);return[i.createElement("span",{key:"type",style:this.getAggregationTypeNameStyle()},v),i.createElement("span",{key:"value",style:t.valueStyle},_)]}if(!y&&(g||m||r.state.open))return i.createElement(u.default,{isVisible:!0,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},render:function(){return i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("span",{key:"placeholder",style:e.getPlaceholderStyle()},"Calculate"),w.default.chevronDown({width:10,marginLeft:4,fill:e.theme.lightIconColor}))}})},t.prototype.getAggregationTypeNameStyle=function(){return{fontSize:10,textTransform:"uppercase",letterSpacing:1,color:this.theme.mediumTextColor,marginTop:2,marginRight:4,userSelect:"none",WebkitUserSelect:"none"}},t.prototype.getPlaceholderStyle=function(){return{marginBottom:2,color:this.theme.lightTextColor}},t.stores={buttonPopupStore:m.default},t.buttonStyle={display:"flex",alignItems:"center",justifyContent:"flex-end",width:"100%",height:32,paddingRight:8,overflow:"hidden",whiteSpace:"nowrap",userSelect:"auto",WebkitUserSelect:"auto"},t.valueStyle={display:"flex",alignItems:"center",height:"100%",fontSize:14},t}(s.default);t.default=S},nFzZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl");function o(e){return Object.keys(e)}t.compact=function(e){return n.compact(e)},t.isNotDefined=function(e){return null==e},t.defaultValue=function(e,r){return t.isNotDefined(e)?r:e},t.nullify=function(e){var t=e;for(var r in t)void 0===t[r]&&(t[r]=null);return t},t.keys=o,t.values=function(e){return o(e).map(function(t){return e[t]})},t.mapValues=function(e,t){return n.mapValues(e,t)},t.pick=function(e,t){return n.pick(e,t)},t.omit=function(e,t){return n.omit(e,t)},t.ignoreFirst=function(e){var t=!1;return function(r){if(t)return e(r);t=!0}},t.ignoreFirst0=function(e){var t=!1;return function(){if(t)return e();t=!0}},t.popN=function(e,t){for(var r=[];e.length>0&&r.length<t;){var n=e.pop();n&&r.push(n)}return r},t.shiftN=function(e,t){for(var r=[];e.length>0&&r.length<t;){var n=e.shift();n&&r.push(n)}return r};t.SecondMs=1e3,t.MinuteMs=60*t.SecondMs,t.HourMs=60*t.MinuteMs,t.DayMs=24*t.HourMs,t.SecondS=1,t.MinuteS=60*t.SecondS,t.HourS=60*t.MinuteS,t.DayS=24*t.HourS},nM47:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this;Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("q1tI"),u=r("y6Dp"),c=r("ju2U"),d=r("A9TN"),p=r("r8oj"),f=r("Z0iJ"),h=r("bkwR"),m=r("hvW1"),y=r("VBxf"),g=r("Cycz"),v=r("T1hA"),b=r("enHn"),w=r("r8MX"),S=r("UiOz"),_=r("toub"),k=r("+UXM"),C=r("9PHN"),E=r("+fkW"),P=r("zttk"),x=r("5Nka");t.updateSubscription=function(e){return o(i,void 0,void 0,function(){var r,n,o,i,l,s,d,p,f;return a(this,function(a){switch(a.label){case 0:if(r=e.spaceStore,n=e.plan,o=e.billing,i=e.billingEmail,l=e.creditAmount,s=e.stripeToken,!(d=w.default.state.data))throw new Error("Subscription data not loaded.");return p=g.isSubscribed(d),c.clearBanners({bannerStore:S.default}),m.display({message:"Updating your subscription..."}),[4,h.updateSubscription({spaceId:r.id,plan:n,billing:o,billingEmail:i,creditAmount:l,stripeToken:s})];case 1:return"failed"===(f=a.sent()).type&&y.showError({error:f.error}),p?(n&&u.trackSubscriptionUpdatePlan({plan:n,old_plan:"subscribed_admin"===d.type?d.plan:void 0}),o&&u.trackSubscriptionUpdateBilling({billing:o}),i&&u.trackSubscriptionUpdateBillingEmail()):n&&o&&u.trackCreateSubscription({plan:n,billing:o,credit_amount:l||0}),[4,t.refresh()];case 2:return a.sent(),m.close(),[2]}})})},t.cancelSubscription=function(e){return o(i,void 0,void 0,function(){var r,n,o;return a(this,function(a){switch(a.label){case 0:if(r=e.spaceStore,m.display({message:"Canceling your subscription..."}),!(n=w.default.state.data))throw new Error("Subscription data not loaded.");return[4,h.cancelSubscription({spaceId:r.id})];case 1:return"failed"===(o=a.sent()).type&&y.showError({error:o.error}),"subscribed_admin"===n.type&&u.trackCancelSubscription({plan:n.plan}),[4,t.refresh()];case 2:return a.sent(),m.close(),[2]}})})},t.openStripePopup=function(e){return o(this,void 0,void 0,function(){var t,r,n;return a(this,function(o){switch(o.label){case 0:return t=e.email,r=e.name,n=e.panelLabel,[4,M()];case 1:return o.sent(),[4,new Promise(function(e,o){O=e,T.open({name:r,panelLabel:n,email:t,allowRememberMe:!1,billingAddress:!0})})];case 2:return[2,o.sent().id]}})})},t.closeStripePopup=function(){T&&T.close()},t.updateCurrentSpace=function(e){return o(this,void 0,void 0,function(){var r,o;return a(this,function(a){switch(a.label){case 0:return r=e.spaceId,o=w.default.state.spaceId,!v.default.isLoggedIn()||o&&o===r?[3,2]:(w.default.setState(n({},w.default.state,{spaceId:r})),[4,t.refresh()]);case 1:return a.sent(),[3,4];case 2:return[4,w.default.waitUntilLoaded()];case 3:a.sent(),a.label=4;case 4:return[2]}})})};var T,O;function M(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,f.default("https://checkout.stripe.com/checkout.js")];case 1:return e.sent(),T||(T=StripeCheckout.configure({key:d.default.stripe.key,image:x.default.images.logoForStripePng,locale:"auto",token:function(e){O&&O(e)}})),[2]}})})}t.refresh=function(){return o(this,void 0,void 0,function(){var e,t,r,n;return a(this,function(o){switch(o.label){case 0:return(e=w.default.state.spaceId)?(t="SubscriptionData:"+e,(r=k.default.get(t))&&w.default.setState({spaceId:e,data:r}),[4,b.default.drain()]):[3,3];case 1:return o.sent(),[4,h.getSubscriptionData({spaceId:e})];case 2:return"success"===(n=o.sent()).type&&(w.default.setState({spaceId:e,data:n.data}),k.default.set(t,n.data),g.isSubscribed(n.data)&&u.trackCurrentlySubscribed()),E.default.getPublicSpaceData(e,!0),[3,4];case 3:throw new Error("No spaceId.");case 4:return[2]}})})},t.validateCanCreate=function(){var e=w.default.state.data;return!(!p.default.isReactNative&&!p.default.isCordova)||(e&&g.isOverBlockLimit(e)?(u.trackReachBlockLimit(),c.displayBanner({id:"SubscriptionEditingBlocker",bannerStore:S.default,type:P.BannerType.Red,render:function(){return l.createElement(s.Fragment,null,"You are over the block limit for the Free plan",l.createElement(C.default,{onClick:function(){_.default.setState({open:!0,currentTab:"plans"})},style:{marginLeft:12}},"Upgrade for Unlimited"))}}),!1):(c.removeBanner({bannerStore:S.default,id:"SubscriptionEditingBlocker"}),!0))}},nObc:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("SR/M"),u=r("mF3+"),c=r("gbGO"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,a({},this.props,{title:i.createElement("div",{style:{color:this.theme.mediumTextColor}},this.props.title),icon:i.createElement("div",{style:{width:this.context.isMobile?16:14}},u.default.plus({fill:this.theme.mediumTextColor}))}))},t.contextTypes=a({},c.menuContextTypes),t}(l.default);t.default=d},nRJK:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("STAJ"),s=r("wldR"),u=r("bFnu"),c=r("iVjn"),d=r("IdIf"),p=r("r8oj"),f=r("zmp8"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDragStart=function(e){t.resizeStartLeftFormat=t.props.leftFormat,t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mousePressed:!0}))},t.handleDragMove=function(e){var r=t.getNewFormat(e);r&&t.props.onTemporaryResize(r)},t.handleDragEnd=function(e){var r=t.getNewFormat(e);r&&t.props.onAccept(r),t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mousePressed:!1}))},t.handleDragCancel=function(e){t.props.onCancel(),t.resizeStartLeftFormat=void 0,t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mousePressed:!1}))},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,r=this.stores.mouseStore.state,n=r.mouseEntered,o=(r.mousePressed||n)&&!p.default.isMobile;return i.createElement("div",{style:t.style,onMouseMove:function(){return e.stores.mouseStore.setState(a({},e.stores.mouseStore.state,{mouseEntered:!0}))},onMouseLeave:function(){return e.stores.mouseStore.setState(a({},e.stores.mouseStore.state,{mouseEntered:!1}))}},i.createElement(c.default,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:function(t){return i.createElement("div",a({style:o?e.getInnerActiveStyle():e.getInnerStyle()},t))}}))},t.prototype.getInnerStyle=function(){return{width:5,marginLeft:-3,marginTop:-1,height:34,transition:"background 200ms ease-out",background:f.default.blueWithAlpha(0),cursor:"col-resize"}},t.prototype.getInnerActiveStyle=function(){return a({},this.getInnerStyle(),{background:f.default.blueWithAlpha(.8)})},t.prototype.getNewFormat=function(e){if(this.resizeStartLeftFormat&&this.resizeStartLeftFormat.width){var t=Math.max(this.resizeStartLeftFormat.width+e.diffX,d.tableColumnMinWidth);return l.assoc("width",t,this.resizeStartLeftFormat)}},t.stores={mouseStore:u.default},t.style={position:"absolute",right:0,width:0,flexGrow:0,zIndex:1},t}(s.default);t.default=h},nWgh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1");t.subscriptionPlans=["personal_monthly_5","personal_yearly_48","team_monthly_10","team_yearly_96","personal_free","team_free","enterprise_free","personal_monthly_0.50","personal_monthly_1.50","personal_monthly_2.50","personal_monthly_3.50","team_monthly_0.10","team_monthly_0.50","team_monthly_0.80","team_monthly_0.90","team_monthly_1","team_monthly_1.20","team_monthly_1.50","team_monthly_2","team_monthly_2.40","team_monthly_2.50","team_monthly_3","team_monthly_3.20","team_monthly_3.50","team_monthly_4","team_monthly_4.50","team_monthly_5","team_monthly_5.60","team_monthly_6","team_monthly_7","team_monthly_8","personal_yearly_4.80","personal_yearly_14.40","personal_yearly_24","personal_yearly_33.60","team_yearly_1","team_yearly_5","team_yearly_8","team_yearly_9","team_yearly_9.60","team_yearly_12","team_yearly_15","team_yearly_20","team_yearly_24","team_yearly_25","team_yearly_28.80","team_yearly_32","team_yearly_35","team_yearly_40","team_yearly_45","team_yearly_48","team_yearly_56","team_yearly_60","team_yearly_67.20","team_yearly_80","enterprise_monthly_8","enterprise_yearly_80","enterprise_monthly_10","enterprise_yearly_96","enterprise_monthly_20","enterprise_yearly_192","enterprise_monthly_25","enterprise_yearly_240"],t.userModifiablePlans=["personal_monthly_5","personal_yearly_48","team_monthly_10","team_yearly_96","enterprise_monthly_25","enterprise_yearly_240"],t.monthlyYearlyPairs=[["personal_monthly_5","personal_yearly_48"],["team_monthly_10","team_yearly_96"],["personal_monthly_0.50","personal_yearly_4.80"],["personal_monthly_1.50","personal_yearly_14.40"],["personal_monthly_2.50","personal_yearly_24"],["personal_monthly_3.50","personal_yearly_33.60"],["team_monthly_0.10","team_yearly_1"],["team_monthly_0.50","team_yearly_5"],["team_monthly_0.80","team_yearly_8"],["team_monthly_0.90","team_yearly_9"],["team_monthly_1","team_yearly_9.60"],["team_monthly_1.20","team_yearly_12"],["team_monthly_1.50","team_yearly_15"],["team_monthly_2","team_yearly_20"],["team_monthly_2.40","team_yearly_24"],["team_monthly_2.50","team_yearly_25"],["team_monthly_3","team_yearly_28.80"],["team_monthly_3.20","team_yearly_32"],["team_monthly_3.50","team_yearly_35"],["team_monthly_4","team_yearly_40"],["team_monthly_4.50","team_yearly_45"],["team_monthly_5","team_yearly_48"],["team_monthly_5.60","team_yearly_56"],["team_monthly_6","team_yearly_60"],["team_monthly_7","team_yearly_67.20"],["team_monthly_8","team_yearly_80"],["enterprise_monthly_8","enterprise_yearly_80"],["enterprise_monthly_10","enterprise_yearly_96"],["enterprise_monthly_20","enterprise_yearly_192"],["enterprise_monthly_25","enterprise_yearly_240"]],t.billingTypes=["charge_automatically","send_invoice"];var o={table:"customer",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,customer_id:n.default.String}};t.default=o},nZ1u:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isActive:!1}},t}(r("LEzx").default);t.default=new a},naZa:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("q1tI"),c=r("LvDl"),d=r("17x9"),p=r("t+pW"),f=r("Pl3d"),h=r("wpmu"),m=r("bkwR"),y=r("2Ig/"),g=r("j76I"),v=r("XBB3"),b=r("zK7c"),w=r("8ssR"),S=r("8fuX"),_=r("6WtK"),k=r("r8oj"),C=r("wlCD"),E=r("AoM6"),P=r("IwFn"),x=r("cBa6"),T=r("A9TN"),O=r("tvfY"),M=r("lBar"),I=r("X6Ne"),A=r("QcDD"),D=r("vJXr"),L=r("bk3b"),R=r("wS9/"),B=r("r8MX"),j=r("tP7q"),V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderResult=function(e,r){var n,o=t.stores.store.state.navigatedRootId;return r?(n=o?h.default.createChildStore(r,o):r,u.createElement("div",{style:t.props.style},u.createElement("div",{style:a({fontSize:14,paddingTop:k.default.isMobile?4:8,paddingBottom:k.default.isMobile?4:8,paddingLeft:k.default.isMobile?10:12,paddingRight:k.default.isMobile?10:12,height:48,display:"flex",alignItems:"center",flexShrink:0},k.default.isMobile?{height:44,borderBottom:"\n\t\t\t\t\t\t\t\t\t\t\t1px solid "+t.theme.regularDividerColor+"\n\t\t\t\t\t\t\t\t\t\t"}:{})},u.createElement(_.default,{store:n,maxAncestorCount:2,ancestorMaxWidth:240,currentPageMaxWidth:240,showCurrentPageControls:!1,style:{flexGrow:1,flexShrink:1,minWidth:0,paddingLeft:R.default.paddingLeft,paddingRight:R.default.paddingRight}}),t.props.topbarRightActionButton),u.createElement(b.default,{key:n.id,store:n,isDefaultContainer:!0,render:function(e){return u.createElement(S.default,a({style:t.getScrollerStyle(),key:n.id,type:t.useSeparateHorizontalScroller(r)?S.default.OverflowType.Y:S.default.OverflowType.All,store:L.default,disableScroll:I.shouldDisableScroll()},e),u.createElement(v.default,{store:n,loadingContainerStore:void 0,context:t.props.isFrontPage?v.PageViewBlockContext.FrontPageTemplatePreview:v.PageViewBlockContext.InAppTemplatePreview,paddingTop:v.default.titlePaddingMarginTop,paddingBottom:v.default.paddingBottom,paddingLeft:v.default.defaultPaddingLeftRight,paddingRight:v.default.defaultPaddingLeftRight,pageCoverHeight:v.default.defaultPageCoverHeight,disabled:!1}))}}))):u.createElement("div",{style:a({display:"flex",alignItems:"center",justifyContent:"center"},t.props.style)},u.createElement(C.default,{style:{width:E.default.spinnerSize,height:E.default.spinnerSize}}))},t.handleOverrideLinkClick=function(e){var r=j.parseRoute({url:e,isMobile:k.default.isMobile,baseUrl:T.default.baseURL,protocol:T.default.protocol,currentUrl:window.location.href});"page"===r.name&&(r.peekViewBlockId?t.stores.store.setState(a({},t.stores.store.state,{navigatedRootId:r.peekViewBlockId})):t.stores.store.setState(a({},t.stores.store.state,{navigatedRootId:r.blockId})))},t.performRequest=function(e){return i(t,void 0,void 0,function(){var t,r,n,o,a,u,d,p,f,y,v,b,w,S,_,k,C,E,P=this;return l(this,function(T){switch(T.label){case 0:return[4,m.loadBlockSubtree({blockId:e,shallow:!1})];case 1:if("failed"===(a=T.sent()).type)throw a.error;if(u=a.data.subtreeRecordMap,d=A.default.state.currentSpaceStore,p=B.default.state.data,(f=this.stores.recordCacheStore).reset(),f.isTemplatePreview=!0,y=[],g.forEachRecordMapWithRole(u,function(e){var t,r,n=e.record,o=e.id,a=e.table;if(f.setRecord(a,o,{role:"editor",value:n.value}),"block"===a){var i=n.value;if(i){var l=i.properties||{};try{for(var u=s(Object.keys(l)),d=u.next();!d.done;d=u.next()){var p=d.value;y=c.union(y,x.getUserMentions(l[p]))}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}i.created_by&&(y=c.union(y,[i.created_by]))}}}),p)try{for(v=s(p.members),b=v.next();!b.done;b=v.next())w=b.value,y.push(w.userId)}catch(e){t={error:e}}finally{try{b&&!b.done&&(r=v.return)&&r.call(v)}finally{if(t)throw t.error}}return[4,Promise.all(y.map(function(e){return i(P,void 0,void 0,function(){var t,r;return l(this,function(n){switch(n.label){case 0:return d?[4,(t=O.default.createChildStore(d,e)).load()]:[3,2];case 1:return n.sent(),[2,t.getValue()];case 2:return[4,m.getRecordValue({table:"notion_user",id:e})];case 3:return[2,(r=n.sent())&&r.value]}})})}))];case 2:S=T.sent();try{for(_=s(S),k=_.next();!k.done;k=_.next())(C=k.value)&&f.setRecord("notion_user",C.id,{role:"reader",value:C})}catch(e){n={error:e}}finally{try{k&&!k.done&&(o=_.return)&&o.call(_)}finally{if(n)throw n.error}}return(E=A.default.state.userStore)?[4,E.load()]:[3,4];case 3:T.sent(),f.setRecord(E.table,E.id,{role:"editor",value:E.getValue()}),T.label=4;case 4:return[2,new h.default(e,f)]}})})},t}return o(t,e),t.prototype.getChildContext=function(){return{overrideLinkClick:this.handleOverrideLinkClick}},t.prototype.renderComponent=function(){return D.default.state.online?u.createElement(f.default,{request:this.props.previewRootId,performRequest:this.performRequest,render:this.renderResult}):u.createElement("div",{style:a({display:"flex",alignItems:"center",justifyContent:"center"},this.props.style)},u.createElement(P.default,null,"Please go online to view this template."))},t.prototype.useSeparateHorizontalScroller=function(e){return e.isCollectionView()&&!M.browserSupportsPositionSticky()},t.prototype.getScrollerStyle=function(){return a({flex:1},k.default.isSafari&&{zIndex:1})},t.stores={store:w.default,recordCacheStore:y.default},t.childContextTypes={overrideLinkClick:d.any},t}(p.default);t.default=V},nfLz:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("g90h"),l=r("oqYu"),s={download_desktop_app:!0,download_mobile_app:!0,click_send_app_link:!0,signup_with_front_page_template_item:!0,page_visit:!0,visit:!0,sign_up:!0,onboarding_show:!0,onboarding_complete:!0,gdpr_consent:!0,import_button_click:!0,open_import_modal:!0,create_subscription:!0,subscription_update_plan:!0,subscription_update_billing:!0,subscription_update_billing_email:!0,cancel_subscription:!0,click_upgrade_button:!0,reach_block_limit:!0,currently_subscribed:!0,create_block:!0,create_page:!0,select_template:!0,edit_block_text_60:!0,todo_block_check:!0,toggle_block_toggle:!0,block_action:!0,open_slash_menu:!0,open_embed_menu:!0,click_add_menu:!0,add_slack_integration:!0,remove_slack_integration:!0,edit_block_property_60:!0,create_property:!0,configure_property:!0,delete_property:!0,create_view:!0,configure_view:!0,delete_view:!0,relation_new_rollup:!0,relation_add_block:!0,create_space:!0,join_space:!0,leave_space:!0,delete_space:!0,drag:!0,mention_user:!0,mention_date:!0,mention_page:!0,set_reminder:!0,insert_column:!0,invite:!0,space_invite:!0,page_invite:!0,update_page_permission:!0,update_space_permission:!0,convert_guest_to_member:!0,remove_guest:!0,permission_group_create:!0,permission_group_add_members:!0,permission_group_remove_member:!0,permission_group_delete:!0,bookmark:!0,open_trash:!0,export:!0,open_quick_find:!0,select_quick_find_item:!0,toggle_dark_mode:!0,open_support_chat:!0,click_help:!0,click_help_item:!0,follow_page:!0,unfollow_page:!0,add_comment:!0,delete_comment:!0,edit_comment:!0,resolve_discussion:!0,click_all_updates:!0,click_page_updates:!0,click_followed_pages:!0,click_comments_and_mentions:!0,edit_lock_toggle:!0},u=[];t.initialize=function(e){window.intercomSettings={app_id:e.intercomAppId,user_hash:e.intercomUserHash?e.intercomUserHash:void 0},!e.noIntercomUserId&&e.user_id?window.intercomSettings.user_id=i.withoutDashes(e.user_id):e.user_email&&(window.intercomSettings.email=e.user_email);var t=window,r=t.Intercom;if("function"==typeof r)r("reattach_activator"),r("update",window.intercomSettings);else{var n=document,o=function e(){e.c(arguments)};o.q=u,o.c=function(e){o.q.push(e)},t.Intercom=o;var a=n.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://widget.intercom.io/widget/"+e.intercomAppId;var l=n.getElementsByTagName("script")[0];l.parentNode.insertBefore(a,l)}},t.identifyUser=function(e){return o(this,void 0,void 0,function(){var t,r,o,i,l;return a(this,function(a){return p()&&(t=e.userId,r=e.traits,o=e.settings,i={},(r.first_name||r.last_name)&&(i.name=[r.first_name,r.last_name].join(" ")),l=n({email:o.user_email,user_hash:o.intercomUserHash},r,i),!o.noIntercomUserId&&t?l.user_id=t:delete l.user_id,Intercom("update",l)),[2]})})},t.identifyWorkspace=function(e){if(p()){var t=e.companiesData;Intercom("update",{companies:t})}},t.track=function(e){return o(this,void 0,void 0,function(){var t,r;return a(this,function(n){return t=e.eventName,r=e.eventData,p()&&s[t]&&Intercom("trackEvent",t,r),[2]})})};var c=!1;t.openMessages=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(r){return t=e.prepopulatedContent,"undefined"!=typeof Intercom?Intercom("showNewMessage",t):u.push(["showNewMessage",t]),c||(c=!0,d(l.waitForCssInsets)),[2]})})};var d=function(e){return o(this,void 0,void 0,function(){return a(this,function(t){return"undefined"!=typeof Intercom?Intercom("onHide",e):u.push(["onHide",e]),[2]})})},p=function(){return"undefined"!=typeof Intercom}},njgS:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("STAJ"),i=r("D2XV"),l=r("oRaq"),s=r("mF3+"),u=r("IdIf"),c=r("5Nka");t.propertyTypes=["text","relation","url","checkbox","select","multi_select","person","number","date","file","email","phone_number","formula","title","created_time","created_by","last_edited_time","last_edited_by","rollup"],t.propertyTypeDisplayNameMap={title:"Title",text:"Text",number:"Number",url:"URL",select:"Select",multi_select:"Multi-Select",person:"Person",email:"Email",phone_number:"Phone",date:"Date",file:"Files & Media",checkbox:"Checkbox",formula:"Formula",relation:"Relation",rollup:"Rollup",created_time:"Created Time",created_by:"Created By",last_edited_time:"Last Edited Time",last_edited_by:"Last Edited By"},t.propertyTypeDescriptionMap={title:"The Name property is the identifier for pages in a collection and cannot be changed.",text:"A single line of text.",number:"A number, with options to format as currency, percent, and more.",url:"A link to a page on the web.",select:"Select from a list of options.",multi_select:"Tag with values from a list of options.",person:"Reference a person on your team.",email:"Reference an email address.",phone_number:"Reference a phone number.",date:"A date, with options to format and include time.",file:"Upload files and images.",checkbox:"Track status with a single checkbox.",formula:"Compute a formula using other properties of a page.",relation:"Allow pages in this database to reference pages in another.",rollup:"Display and summarize data from a relation.",created_time:"Reference the date and time a page was created.",created_by:"Reference the person that created a page.",last_edited_time:"Reference the date and time a page was last edited.",last_edited_by:"Reference the person that last edited a page."},t.propertyTypeDescriptionImageMap={title:"",text:c.default.images.tooltips.types.textPng,number:c.default.images.tooltips.types.numberPng,url:c.default.images.tooltips.types.urlPng,select:c.default.images.tooltips.types.selectPng,multi_select:c.default.images.tooltips.types.multiSelectPng,person:c.default.images.tooltips.types.personPng,email:c.default.images.tooltips.types.emailPng,phone_number:c.default.images.tooltips.types.phoneNumberPng,date:c.default.images.tooltips.types.datePng,file:c.default.images.tooltips.types.filePng,checkbox:c.default.images.tooltips.types.checkboxPng,formula:c.default.images.tooltips.types.formulaPng,relation:c.default.images.tooltips.types.relationPng,rollup:c.default.images.tooltips.types.relationPng,created_time:c.default.images.tooltips.types.createdTimePng,created_by:c.default.images.tooltips.types.createdByPng,last_edited_time:c.default.images.tooltips.types.createdTimePng,last_edited_by:c.default.images.tooltips.types.createdByPng},t.propertyTypeIconImageMap={title:c.default.images.icons.titlePng,text:c.default.images.icons.textPng,number:c.default.images.icons.numberPng,url:c.default.images.icons.urlPng,select:c.default.images.icons.selectPng,multi_select:c.default.images.icons.multipleSelectPng,person:c.default.images.icons.personPng,email:c.default.images.icons.emailPng,phone_number:c.default.images.icons.phoneNumberPng,date:c.default.images.icons.datePng,file:c.default.images.icons.filePng,checkbox:c.default.images.icons.checkboxPng,formula:c.default.images.icons.formulaPng,relation:c.default.images.icons.relationPng,rollup:c.default.images.icons.relationPng,created_time:c.default.images.icons.createdAtPng,created_by:c.default.images.icons.createdByPng,last_edited_time:c.default.images.icons.createdAtPng,last_edited_by:c.default.images.icons.createdByPng},t.userPropertyTypes=["text","number","select","multi_select","date","person","file","checkbox","url","email","phone_number","formula","relation","rollup","created_time","created_by","last_edited_time","last_edited_by"],t.userPropertyTypesWithSeparators=[{header:"Basic"},{type:"text"},{type:"number"},{type:"select"},{type:"multi_select"},{type:"date"},{type:"person"},{type:"file"},{type:"checkbox"},{type:"url"},{type:"email"},{type:"phone_number"},{divider:!0},{header:"Advanced"},{type:"formula"},{type:"relation"},{type:"rollup"},{type:"created_time"},{type:"created_by"},{type:"last_edited_time"},{type:"last_edited_by"}],t.linkUITypes=["title","url","email","phone_number"],t.stringTypes=["title","text","url","email","phone_number"],t.groupableTypes=["select","multi_select","person"],t.selectTypes=["select","multi_select"],t.isSelectType=function(e){return t.selectTypes.includes(e.type)},t.listViewDefaultTypes=["select","multi_select","person","date","created_time","created_by","last_edited_time","last_edited_by"],t.isListViewDefaultType=function(e){return t.listViewDefaultTypes.includes(e.type)},t.preventOverlayEditTypes=["created_by","created_time","last_edited_by","last_edited_time"],t.isDateType=function(e){return"formula"===e.type?Boolean(e.formula&&"date"===e.formula.result_type):"rollup"===e.type?Boolean(e.relation_property&&e.target_property&&e.aggregation&&t.datePropertyAggregations.includes(e.aggregation)):"date"===e.type||"created_time"===e.type||"last_edited_time"===e.type},t.personTypes=["person","created_by","last_edited_by","rollup"],t.metadataTypes=["created_by","created_time","last_edited_by","last_edited_time"],t.textEditableTypes=["text","title","url","email","phone_number","number"],t.insertStringOverlayTypes=["text","relation","url","select","multi_select","person","number","email","phone_number","title"],t.noPropertyValueOverlayTypes=["created_by","created_time","checkbox","last_edited_by","last_edited_time"],t.titleSchema={name:"Name",type:"title"},t.linkSchema={name:"Link",type:"url"},t.descriptionSchema={name:"Description",type:"text"},t.captionSchema={name:"Caption",type:"text"},t.checkedSchema={name:"Checked",type:"checkbox"};var d=Object.keys({ABAP:!0,Arduino:!0,Bash:!0,BASIC:!0,C:!0,Clojure:!0,CoffeeScript:!0,"C++":!0,"C#":!0,CSS:!0,Dart:!0,Diff:!0,Docker:!0,Elixir:!0,Elm:!0,Erlang:!0,Flow:!0,Fortran:!0,"F#":!0,Gherkin:!0,GLSL:!0,Go:!0,GraphQL:!0,Groovy:!0,Haskell:!0,HTML:!0,Java:!0,JavaScript:!0,JSON:!0,Kotlin:!0,LaTeX:!0,Less:!0,Lisp:!0,LiveScript:!0,Lua:!0,Makefile:!0,Markdown:!0,Markup:!0,MATLAB:!0,Nix:!0,"Objective-C":!0,OCaml:!0,Pascal:!0,Perl:!0,PHP:!0,PowerShell:!0,Prolog:!0,Python:!0,R:!0,Reason:!0,Ruby:!0,Rust:!0,Sass:!0,Scala:!0,Scheme:!0,Scss:!0,SQL:!0,Swift:!0,TypeScript:!0,"VB.Net":!0,Verilog:!0,VHDL:!0,"Visual Basic":!0,WebAssembly:!0,XML:!0,YAML:!0,"Plain Text":!0,"Java/C/C++/C#":!0,Shell:!0});t.languageOptions=d.map(function(e){return{value:e,id:e}}),t.languageSchema={name:"Language",type:"select",options:t.languageOptions},t.dateSchema={name:"Date",type:"date",date_format:i.defaultDateFormat,time_format:i.defaultTimeFormat},t.personSchema={name:"Person",type:"person"},t.sourceSchema={name:"Source",type:"url"},t.sizeSchema={name:"Size",type:"text"},t.systemPropertyTypeMap={title:t.titleSchema,description:t.descriptionSchema,caption:t.captionSchema,link:t.linkSchema,checked:t.checkedSchema,language:t.languageSchema,date:t.dateSchema,person:t.personSchema,source:t.sourceSchema,size:t.sizeSchema},t.checkboxYesValue="Yes",t.checkboxNoValue="No",t.collectionViewTypeDisplayNameMap={table:"Table",board:"Board",calendar:"Calendar",list:"List",gallery:"Gallery"},t.collectionViewTypeCaptionMap={table:"Table with types to store and view any kind of structured data",board:"Kanban board, great for project planning and bug tracking",calendar:"Month view, for event planning and scheduling",list:"A simplified page view, great for bookmarks and notes",gallery:"Grid of cards, use for mood boards, index cards, and recipes"},t.collectionViewTypeIconMap={table:s.default.collectionTable,board:s.default.collectionBoard,calendar:s.default.collectionCalendar,list:s.default.collectionList,gallery:s.default.collectionGallery},t.collectionViewTypeTooltipPhotoMap={table:c.default.images.tooltips.views.tablePng,board:c.default.images.tooltips.views.boardPng,calendar:c.default.images.tooltips.views.calendarPng,list:c.default.images.tooltips.views.listPng,gallery:c.default.images.tooltips.views.galleryPng},t.collectionViewPropertiesFormatKeyMap={table:"table_properties",board:"board_properties",calendar:"calendar_properties",list:"list_properties",gallery:"gallery_properties"},t.collectionViewTitleVisibleFormatKeyMap={table:void 0,board:"board_title_visible",calendar:void 0,list:void 0,gallery:"gallery_title_visible"},t.collectionViewCoverFormatKeyMap={table:void 0,board:"board_cover",calendar:void 0,list:void 0,gallery:"gallery_cover"},t.collectionViewCoverSizeFormatKeyMap={table:void 0,board:"board_cover_size",calendar:void 0,list:void 0,gallery:"gallery_cover_size"},t.collectionViewCoverAspectFormatKeyMap={table:void 0,board:"board_cover_aspect",calendar:void 0,list:void 0,gallery:"gallery_cover_aspect"},t.collectionViewShouldOfferToRemoveSortMap={table:!0,board:!1,calendar:!1,list:!0,gallery:!0},t.collectionViewTypes=["table","board","calendar","list","gallery"],t.filterComparatorHumanReadableNameMap={is_empty:"Is Empty",is_not_empty:"Is Not Empty",string_is:"Is",string_is_not:"Is Not",string_contains:"Contains",string_does_not_contain:"Does Not Contain",string_starts_with:"Starts With",string_ends_with:"Ends With",checkbox_is:"Is",checkbox_is_not:"Is Not",enum_is:"Is",enum_is_not:"Is Not",enum_contains:"Contains",enum_does_not_contain:"Does Not Contain",number_equals:"=",number_does_not_equal:"≠",number_greater_than:">",number_less_than:"<",number_greater_than_or_equal_to:"≥",number_less_than_or_equal_to:"≤",date_is:"Is",date_is_before:"Is Before",date_is_after:"Is After",date_is_on_or_before:"Is On Or Before",date_is_on_or_after:"Is On Or After",date_is_within:"Is Within"},t.propertyTypeDefaultFilterMap={text:{comparator:"string_contains"},relation:{comparator:"enum_contains"},url:{comparator:"string_contains"},checkbox:{comparator:"checkbox_is",value:t.checkboxYesValue},created_by:{comparator:"enum_is",value_type:"person"},last_edited_by:{comparator:"enum_is",value_type:"person"},select:{comparator:"enum_is"},multi_select:{comparator:"enum_contains"},person:{comparator:"enum_contains",value_type:"person"},number:{comparator:"number_equals"},date:{comparator:"date_is",value_type:"exact_date"},created_time:{comparator:"date_is",value_type:"exact_date"},last_edited_time:{comparator:"date_is",value_type:"exact_date"},file:{},email:{comparator:"string_contains"},phone_number:{comparator:"string_contains"},formula:{},title:{comparator:"string_contains"},rollup:{rollup_set_filter:"any",comparator:"is_empty"}},t.noValueComparators=["is_empty","is_not_empty"],t.stringComparators=["string_is","string_is_not","string_contains","string_does_not_contain","string_starts_with","string_ends_with","is_empty","is_not_empty"],t.checkboxComparators=["checkbox_is","checkbox_is_not"],t.singleEnumComparators=["enum_is","enum_is_not","is_empty","is_not_empty"],t.multiEnumComparators=["enum_contains","enum_does_not_contain","is_empty","is_not_empty"],t.numericComparators=["number_equals","number_does_not_equal","number_greater_than","number_less_than","number_greater_than_or_equal_to","number_less_than_or_equal_to","is_empty","is_not_empty"],t.dateComparators=["date_is","date_is_within","date_is_before","date_is_after","date_is_on_or_before","date_is_on_or_after","is_empty","is_not_empty"],t.filterComparatorMap={text:t.stringComparators,url:t.stringComparators,email:t.stringComparators,phone_number:t.stringComparators,checkbox:t.checkboxComparators,select:t.singleEnumComparators,multi_select:t.multiEnumComparators,person:t.multiEnumComparators,relation:t.multiEnumComparators,created_by:t.singleEnumComparators,last_edited_by:t.singleEnumComparators,number:t.numericComparators,date:t.dateComparators,created_time:t.dateComparators,last_edited_time:t.dateComparators,title:t.stringComparators,formula:t.noValueComparators,file:t.noValueComparators,rollup:t.noValueComparators},t.filterOperatorTypes=["and","or"],t.rollupSetFilterValues=["any","none","every"],t.personFilterValueTypes=["person","me"],t.dateRangeFilterValueTypes=["the_past_week","the_past_month","the_past_year","the_next_week","the_next_month","the_next_year"],t.dateExactFilterValueTypes=["exact_date","today","tomorrow","yesterday","one_week_ago","one_week_from_now","one_month_ago","one_month_from_now"],t.filterValueTypeDisplayNameMap={the_past_week:"The Past Week",the_past_month:"The Past Month",the_past_year:"The Past Year",the_next_week:"The Next Week",the_next_month:"The Next Month",the_next_year:"The Next Year",today:"Today",tomorrow:"Tomorrow",yesterday:"Yesterday",one_week_ago:"One Week Ago",one_week_from_now:"One Week From Now",one_month_ago:"One Month Ago",one_month_from_now:"One Month From Now",exact_date:"Exact Date",me:"Me",person:"Person"},t.filterNoValueTypes=["the_past_week","the_past_month","the_past_year","the_next_week","the_next_month","the_next_year","today","tomorrow","yesterday","one_week_ago","one_week_from_now","one_month_ago","one_month_from_now"],t.sortTypeValues=["ascending","descending"],t.aggregationFullNameMap={count:"Count All",count_values:"Count Values",unique:"Count Unique Values",empty:"Count Empty",not_empty:"Count Not Empty",percent_empty:"Percent Empty",percent_not_empty:"Percent Not Empty",sum:"Sum",average:"Average",median:"Median",min:"Min",max:"Max",range:"Range",earliest_date:"Earliest Date",latest_date:"Latest Date",date_range:"Date Range",checked:"Checked",unchecked:"Unchecked",percent_checked:"Percent Checked",percent_unchecked:"Percent Unchecked"},t.aggregationShortNameMap={count:"Count",count_values:"Values",unique:"Unique",empty:"Empty",not_empty:"Not Empty",percent_empty:"Empty",percent_not_empty:"Not Empty",sum:"Sum",average:"Average",median:"Median",min:"Min",max:"Max",range:"Range",earliest_date:"Earliest",latest_date:"Latest",date_range:"Range",checked:"Checked",unchecked:"Unchecked",percent_checked:"Checked",percent_unchecked:"Unchecked"},t.aggregationDescriptions={count:"Counts the total number of pages, including blank pages.",count_values:"Counts the number of non-empty values for this property. For a type that can contain multiple values like multi-select or person, this will count the number of selected values for each page.",unique:"Counts the number of unique values for this property. For a type that can contain multiple values like multi-select or person, this will count the unique values across all pages.",empty:"Counts the number of pages with an empty value for this property.",not_empty:"Counts the number of pages with a non-empty value for this property.",percent_empty:"Displays the percentage of pages that have an empty value for this property.",percent_not_empty:"Displays the percentage of pages that have a non-empty value for this property.",sum:"Computes the sum of a numeric property.",average:"Computes the average of a numeric property.",median:"Finds the median of a numeric property.",min:"Finds the minimum of a numeric property.",max:"Finds the maximum of a numeric property.",range:"Computes the range (maximum - minimum) of a numeric property.",earliest_date:"Finds the earliest date in time of a date property.",latest_date:"Finds the latest date in time of a date property.",date_range:"Computes the date range (latest date - earliest date) of a date property.",checked:"Counts the number of pages with a checked checkbox for this property.",unchecked:"Counts the number of pages with an unchecked checkbox for this property.",percent_checked:"Displays the percentage of pages that have a checked checkbox for this property.",percent_unchecked:"Displays the percentage of pages that have an unchecked checkbox for this property."},t.aggregationImages={count:c.default.images.aggregations.countPng,count_values:c.default.images.aggregations.countValuesPng,unique:c.default.images.aggregations.uniquePng,empty:c.default.images.aggregations.emptyPng,not_empty:c.default.images.aggregations.notEmptyPng,percent_empty:c.default.images.aggregations.percentEmptyPng,percent_not_empty:c.default.images.aggregations.percentNotEmptyPng,sum:c.default.images.aggregations.sumPng,average:c.default.images.aggregations.averagePng,median:c.default.images.aggregations.medianPng,min:c.default.images.aggregations.minPng,max:c.default.images.aggregations.maxPng,range:c.default.images.aggregations.rangePng,earliest_date:c.default.images.aggregations.earliestDatePng,latest_date:c.default.images.aggregations.latestDatePng,date_range:c.default.images.aggregations.dateRangePng,checked:c.default.images.aggregations.checkedPng,unchecked:c.default.images.aggregations.uncheckedPng,percent_checked:c.default.images.aggregations.percentCheckedPng,percent_unchecked:c.default.images.aggregations.percentUncheckedPng},t.aggregationTypes=["count","count_values","unique","empty","not_empty","percent_empty","percent_not_empty","sum","average","median","min","max","range","earliest_date","latest_date","date_range","checked","unchecked","percent_checked","percent_unchecked"],t.rowAggregations=["count"],t.defaultPropertyAggregations=["count_values","unique","empty","not_empty","percent_empty","percent_not_empty"],t.numericPropertyAggregations=["sum","average","median","min","max","range"],t.datePropertyAggregations=["earliest_date","latest_date","date_range"],t.checkboxPropertyAggregations=["checked","unchecked","percent_checked","percent_unchecked"],t.propertySupportsDefaultPropertyAggregations=function(e){return!t.propertySupportsCheckboxPropertyAggregations(e)},t.propertySupportsNumericPropertyAggregations=function(e){return"number"===e.type||"formula"===e.type&&e.formula&&"number"===e.formula.result_type||"rollup"===e.type&&e.aggregation&&(t.defaultPropertyAggregations.includes(e.aggregation)||t.numericPropertyAggregations.includes(e.aggregation))},t.propertySupportsDatePropertyAggregations=function(e){return t.isDateType(e)||"formula"===e.type&&e.formula&&"date"===e.formula.result_type||"rollup"===e.type&&e.aggregation&&t.datePropertyAggregations.includes(e.aggregation)},t.propertySupportsCheckboxPropertyAggregations=function(e){return"checkbox"===e.type||"formula"===e.type&&e.formula&&"checkbox"===e.formula.result_type},t.getDisplayName=function(e){return e||(e=""),e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},t.shouldShowFilterValue=function(e,r){if(!e.property||!e.comparator)return!1;var n=r[e.property];return!!n&&(!(t.isDateType(n)&&!e.value_type)&&!(t.noValueComparators.includes(e.comparator)||e.value_type&&t.filterNoValueTypes.includes(e.value_type)))},t.getNormalizedQuery=function(e,r){var o=e&&e.query?e.query:{};if(o.group_by&&e&&"board"===e.type){var i=r[o.group_by];i&&a.contains(i.type,t.groupableTypes)||(o=n({},o,{group_by:void 0}))}if(o.calendar_by&&e&&"calendar"===e.type){var l=r[o.calendar_by];l&&t.isDateType(l)||(o=n({},o,{calendar_by:void 0}))}var s=(o.filter||[]).filter(function(e){if(e.property){var t=r[e.property];if(e&&t&&e.type===t.type){if(!e.value||"select"!==t.type&&"multi_select"!==t.type)return!0;var n=t.options||[];return Boolean(n.find(function(t){return u.groupValuesEqual(t.value,e.value)}))}return!1}return!0}),c=(o.sort||[]).filter(function(e){if(e.property){var t=r[e.property];return Boolean(e&&t&&e.type===t.type)}return!0}),d=(o.aggregate||[]).filter(function(n){if(n.property){var o=r[n.property];return Boolean(n&&o&&n.type===o.type&&e&&n.view_type===e.type&&t.aggregationTypes.includes(n.aggregation_type))}return!0});return e&&"board"===e.type&&0===d.length&&d.push({id:"count",view_type:"board",aggregation_type:"count"}),o=n({},o,{filter:s,sort:c,aggregate:d,filter_operator:o.filter_operator||"and"})},t.getNormalizedSchema=function(e){var r,a,i,s,u,c,d=e.schema||{},p=Object.keys(d);try{for(var f=o(p),h=f.next();!h.done;h=f.next()){var m=h.value,y=d[m];if(y)if(t.isSelectType(y)&&y.options){var g=y.options.filter(function(e){return Boolean(e.value)});g.length!==y.options.length&&(d=n({},d,((i={})[m]=n({},y,{options:g}),i)))}else if("relation"===y.type)y.collection_id?y.property||(d=n({},d,((u={})[m]=n({},y,{property:m}),u))):d=n({},d,((s={})[m]={name:y.name,type:"text"},s));else if("formula"===y.type){var v=y.formula?l.normalizeFormula(y.formula):void 0;d=n({},d,((c={})[m]=n({},y,{formula:v}),c))}}}catch(e){r={error:e}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return d},t.maxPageSortLength=1e3},nkfK:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("HRSx"),i=r("NoAG"),l=r("6SEd"),s=r("njgS"),u=r("cBa6"),c=r("j76I"),d=r("wF3w"),p=r("g90h");t.getStringCopyName=function(e){return e.startsWith("Copy of ")?e:"Copy of "+(e||"Untitled")},t.getTextCopyName=function(e){var t=u.getText(e);if(t.startsWith("Copy of "))return e;var r=[u.createToken("Copy of ")];return t||r.push(u.createToken("Untitled")),u.insertTokensAtCharIndex(e,r,0)},t.duplicateSubtree=function(e){var t=e.sourceBlockId,r=e.targetBlockId,f=e.recordMap,h={};for(var m in f)for(var y in f[m]){var g=y===t?r:p.default();c.setRecordIdMap(h,m,y,g)}var v={};return c.forEachRecordMap(f,function(e){var t,f,m=e.table,y=e.id,g=e.record,b=o.cloneDeep(g),w=c.getRecordIdMap(h,m,y);if(w&&(b.id=w),m===a.default.table){var S=b;p.isUUIDWithDashes(g.id)&&(S.copied_from=g.id),S.id===r?(delete S.parent_id,delete S.parent_table,delete S.alive):(L=c.getRecordIdMap(h,S.parent_table,S.parent_id))&&(S.parent_id=L);var _=S;_.content&&(_.content=_.content.map(function(e){return c.getRecordIdMap(h,a.default.table,e)||e}));var k=S;for(var C in k.view_ids&&(k.view_ids=k.view_ids.map(function(e){return c.getRecordIdMap(h,i.default.table,e)||e})),k.collection_id&&(k.collection_id=c.getRecordIdMap(h,l.default.table,k.collection_id)||k.collection_id),S.discussions&&delete S.discussions,S.permissions&&delete S.permissions,S.properties||(S.properties={}),S.properties){var E=u.getTextValueWithoutDiscussions(S.properties[C]);S.properties[C]=E}if(S.ignore_block_count&&delete S.ignore_block_count,S.properties)try{for(var P=n(Object.keys(S.properties)),x=P.next();!x.done;x=P.next()){C=x.value;var T=S.properties[C];T&&(S.properties[C]=T.map(function(e){var t=u.getTokenAnnotations(e).map(function(e){if(u.isPageAnnotation(e)){var t=u.getPageAnnotationData(e);if(t){var r=c.getRecordIdMap(h,a.default.table,t);if(r)return u.createPageAnnotation(r)}}return e});return u.createToken(u.getTokenValue(e),t)}))}}catch(e){t={error:e}}finally{try{x&&!x.done&&(f=P.return)&&f.call(P)}finally{if(t)throw t.error}}var O=Date.now();S.created_time=O,S.last_edited_time=O,c.setRecordMap(v,m,S.id,S)}else if(m===l.default.table){var M=b;p.isUUIDWithDashes(g.id)&&(M.copied_from=g.id),(L=c.getRecordIdMap(h,M.parent_table,M.parent_id))&&(M.parent_id=L);var I=s.getNormalizedSchema(M);for(var C in I){var A=I[C];if(A&&"relation"===A.type&&A.collection_id){var D=c.getRecordIdMap(h,l.default.table,A.collection_id);D?A.collection_id=D:A.property=d.default()}}M.template_pages&&(M.template_pages=M.template_pages.map(function(e){return c.getRecordIdMap(h,a.default.table,e)||e})),c.setRecordMap(v,m,M.id,M)}else if(m===i.default.table){var L,R=b;(L=c.getRecordIdMap(h,R.parent_table,R.parent_id))&&(R.parent_id=L),R.page_sort&&(R.page_sort=R.page_sort.map(function(e){return c.getRecordIdMap(h,a.default.table,e)||e})),c.setRecordMap(v,m,R.id,R)}}),v}},nld8:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.isInlineAutocompleteOpen=function(){var e=this.findComponent(function(e){return e.props.isOpen});return Boolean(e)},t}(r("Uv1v").default);t.default=new a},nsmd:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,iconSvg:l.default.typeform,mediaMenuCurrentTab:"embed",mediaMenuTabs:["embed"],mediaMenuEmbedCaption:"Works with any public Typeform link..."}),"Embed Typeform")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},nzdk:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"asana_token",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,access_token:n.default.String,refresh_token:n.default.String,account:n.default.String}};t.default=o},"o+Zi":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("q1tI"),a=r("2m/B"),i=r("zmp8"),l=r("wlCD"),s=r("fVGD"),u=r("1y3T");function c(e){var t=e.store,r=e.dataURL,n=e.source,a=e.render,i=e.width;return r?a(void 0,r):o.createElement(u.default,{url:n,width:i,render:a,permissionRecord:{table:t.table,id:t.id}})}var d={render:function(e){var t=e.progressPercent,r=e.disabled,n=e.isLoading,u=e.contentStyle,d=e.contentWrapStyle,p=e.handleFullScreen,f=e.source,h=e.handleEmbedComp,m=e.dataURL,y=e.isFullWidth,g=(e.isPageWidth,e.isRootChild),v=e.dragging,b=e.height,w=e.blockWidth,S=e.aspectRatio,_=e.store,k=y&&!v?void 0:w,C={};return y&&g||!S?b&&(C.height=b,C.background=i.default.contentGrayBackground):(C.height=0,C.paddingBottom=100*S+"%",C.background=i.default.contentGrayBackground),c({store:_,source:f,dataURL:m,width:k,render:function(e,i){return o.createElement("div",{style:d,onClick:r?p:void 0},o.createElement(a.default,{ref:function(e){return h(e)},src:i,style:u,placeholderStyle:C,onDoubleClick:p,height:y&&g?b:void 0,capMaxHeight:y&&g}),n&&o.createElement("div",{style:a.default.loadingContainerStyle},o.createElement(l.default,{style:{width:16,height:16,marginRight:4}}),o.createElement("div",{style:{width:26,textAlign:"right"}},o.createElement(s.default,{percentage:t}))))}})},renderFullScreen:function(e){var t=e.store,r=e.source,l=e.contentStyle;return c({store:t,source:r,dataURL:e.dataURL,width:window.innerWidth,render:function(e,t){return o.createElement("div",{style:{alignSelf:"center",margin:"0 auto"}},o.createElement(a.default,{src:t,style:n({},l,{background:i.default.white}),capMaxHeight:!1}))}})},resizable:!0};t.default=d},"o/MK":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("0lqH"),u=r("wweX"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseMove=function(){t.props.pagePropertiesStore.setState(a({},t.props.pagePropertiesStore.state,{hoveredProperty:t.props.property}))},t.handleMouseLeave=function(){t.props.pagePropertiesStore.setState(a({},t.props.pagePropertiesStore.state,{hoveredProperty:void 0}))},t.handleOpenProperty=function(e){u.open({blockPropertyValueOverlayStore:t.props.blockPropertyValueOverlayStore,store:t.props.store,property:e,format:s.BlockPropertyValueFormat.Page})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,r=e.property,n=e.store,o=e.disabled,a=e.parentCollectionLocked,l=e.onTab,u=e.onUntab,c=e.schema,d=e.blockPropertyValueOverlayStore;return i.createElement("div",{key:r,style:t.style,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},i.createElement(s.default,{store:n,property:r,locked:a,schema:c,disabled:o,format:s.BlockPropertyValueFormat.Page,onTab:l,onUntab:u,tableWrap:!1,blockPropertyValueOverlayStore:d,onOpenProperty:this.handleOpenProperty}))},t.style={display:"flex",alignItems:"center",marginLeft:4,height:"100%",flex:"auto",minWidth:0},t}(l.default);t.default=c},"oAn+":function(e,t,r){"use strict";var n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("t+pW"),u=r("7Q97"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderComponent=function(){return l.createElement("div",{style:this.getStyle()},l.createElement("span",null,this.props.count," more..."))},t.prototype.getStyle=function(){var e=this.props,r=e.format,n=e.isPage,o=t.styles[r].margin,a=t.styles[r],l=a.height,s=a.fontSize;return i({display:"flex",alignItems:"center",lineHeight:1.2,borderRadius:3,fontSize:s,margin:o,color:this.theme.mediumTextColor},!n&&{height:l})},t.Format=u.TokenFormat,t.styles=((o={})[u.TokenFormat.ExtraSmall]={height:14,fontSize:12,margin:"0 4px 0 0"},o[u.TokenFormat.Small]={height:18,fontSize:12,margin:"0 6px 6px 0"},o[u.TokenFormat.Medium]={height:21,fontSize:14,margin:"0 12px 6px 0"},o[u.TokenFormat.Inline]={height:21,fontSize:14,margin:"0 12px 0 0"},o[u.TokenFormat.Large]={height:24,fontSize:16,margin:"0 8px 8px 0"},o),t}(s.default);t.default=c},oCZo:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("IdIf"),u=r("Sb6f"),c=r("r8oj"),d=r("0lqH"),p=r("LeVO"),f=r("mF3+"),h=r("IdSf"),m=r("/YYm"),y=r("fJHT"),g=r("bFnu"),v=r("Oy36"),b=r("7M94"),w=r("H4VD"),S=r("y6Dp"),_=r("hi+p"),k=r("bPtJ"),C=r("6rsX"),E=r("BJyN"),P=r("D2XV"),x=r("7TLZ"),T=r("LKv3"),O=r("n8tN"),M=r("QcDD"),I=r("sjR4"),A=r("qHvo"),D=r("DNgp"),L=r("iICV"),R=r("enKW"),B=r("lCCU"),j=r("0zNc"),V=r("nZ1u"),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderProperty=function(e,r){var n=t.props,o=n.store,a=n.schema,l=n.blockPropertyValueOverlayStore;return i.createElement(d.default,{key:e,store:o,property:e,schema:a,disabled:!0,locked:!1,format:d.BlockPropertyValueFormat.Board,tableWrap:!1,blockPropertyValueOverlayStore:l})},t.renderDiscussionIndicator=function(){var e=t.props.store,r=x.getNumberOfUnresolvedComments(e);if(r>0)return i.createElement("div",{style:{display:"flex",alignItems:"center",color:t.theme.lightTextColor,fill:t.theme.lightTextColor,fontWeight:u.default.fontWeight.semibold,fontSize:12,marginBottom:8,paddingLeft:10,paddingRight:10}},f.default.speechBubble({width:14,height:14,marginRight:4,fill:t.theme.mediumIconColor}),r)},t.handleClick=function(){S.trackExpandBlock({is_peek:!0,from:"board"})},t.handleActionButtonClick=function(e){C.select({store:t.props.store}),_.showAtPosition({stores:I.default.state.stores,left:e.clientX,top:e.clientY,showInput:!0,actions:E.blockActions,analyticsFrom:"block_more_menu"})},t.handleTextEnter=function(){var e=t.props,r=e.store,n=e.onTextEnter;n&&n(r)},t.handleTextEsc=function(){var e=t.props,r=e.store,n=e.onTextEsc;n&&n(r)},t.handleMouseMove=function(){if(!j.default.state.isDragging&&!V.default.state.isActive){var e=t.stores.mouseStore;e.setState(a({},e.state,{mouseEntered:!0}))}},t.handleMouseLeave=function(){var e=t.stores.mouseStore;e.setState(a({},e.state,{mouseEntered:!1}))},t.isEditingTitle=t.createComputedStore(function(){var e=D.default.state;return e.editing&&e.store===t.props.store.getBlockTitleStore()}),t.shouldShowActionButton=t.createComputedStore(function(){var e=L.default.state.isKeyboardMode;return!c.default.isMobile&&t.canEdit()&&t.mouseIsEntered.state&&!e}),t.mouseIsEntered=t.createComputedStore(function(){return t.stores.mouseStore.state.mouseEntered&&!A.default.state.isDragging}),t.getRecordValue=function(e,r){return k.createRecordStore(t.props.store,e,r).getValue()},t}return o(t,e),t.prototype.activate=function(){var e=this.getPeekURL();e&&w.navigate({url:e})},t.prototype.renderComponent=function(){var e=this.props,t=e.store,r=e.schema,n=e.isSingleGroup,o=e.coverFormat,l=e.coverAspectFormat,s=e.coverSizeFormat,u=e.shouldShowTitle,d=this.shouldShowActionButton.state,p=this.getPageURL(),f=this.getPeekURL(),m=this.isEditingTitle.state,y=this.mouseIsEntered.state;return i.createElement(h.default,{style:a({},this.getStyle(),{position:y?"relative":"static"},n&&{display:"flex"}),innerStyle:{userSelect:m?void 0:"none",WebkitUserSelect:m?void 0:"none",height:"100%",minHeight:40},hoveredStyle:{background:this.theme.cardHoveredBackground},pressedStyle:{background:this.theme.cardPressedBackground},href:p,metaHref:c.default.isMobile?p:f,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},d&&this.renderActionButton(),o&&i.createElement(T.default,{store:t,coverFormat:o,coverAspectFormat:l,coverSizeFormat:s,schema:r,isGallery:!1}),u&&this.renderTitle(),this.renderProperties(),this.renderDiscussionIndicator())},t.prototype.renderTitle=function(){var e=this.props.store,r=e.getBlockTitleStore(),n=e.hasIcon()||!e.isEmptyPage(),o=this.isEditingTitle.state;return i.createElement("div",{style:t.desktopTitleWrapStyle},n&&i.createElement(v.default,{disabled:!0,style:c.default.isMobile?t.mobileTitleIconStyle:t.desktopTitleIconStyle,icon:e.getIcon(),size:c.default.isMobile?24:18,isEmptyPage:e.isEmptyPage()}),i.createElement(y.default,{store:r,disabled:!o,disableSlashCommands:!0,disableStyleAnnotations:!0,disableEmbedMenu:!0,onEnter:this.handleTextEnter,onEsc:this.handleTextEsc,onTab:l.identity,placeholder:o?"Type a name...":"Untitled",style:a({},c.default.isMobile?t.mobileTitleTextStyle:t.desktopTitleTextStyle,{pointerEvents:o?void 0:"none"}),disableSelectAllBlocks:!0}))},t.prototype.renderActionButton=function(){var e=this;return i.createElement(p.default,{renderTooltip:function(){return"Rename, Delete, Move To and more..."},render:function(t){return i.createElement(B.default,a({icon:f.default.dots,showShadow:!0,hasBackground:!0,style:{position:"absolute",top:7,right:7,zIndex:1},className:b.fadeIn,onClick:e.handleActionButtonClick},t))}})},t.prototype.renderProperties=function(){var e=this.getShowProperties(),t=this.props.shouldShowTitle;if(e.length>0)return i.createElement("div",{style:{lineHeight:1.5,paddingBottom:4,paddingTop:t?0:8}},e.map(this.renderProperty))},t.prototype.getShowProperties=function(){var e=this,t=this.props,r=t.store,n=t.format,o=t.schema,a=n.board_properties||[];return r.getValue()?a.filter(function(t){return t.visible&&s.cardPropertyFormatIsVisible({blockValue:r.getValue(),property:t.property,schema:o,getRecordValue:e.getRecordValue,userTimeZone:P.currentTimeZone})}).map(function(e){return e.property}):[]},t.prototype.getPeekURL=function(){var e=this.props.store,t=M.default.state.currentBlockStore;if(t)return m.default({store:t,fullyQualified:!1,peekViewBlockId:e.id})},t.prototype.getPageURL=function(){var e=this.props.store;return m.default({store:e,fullyQualified:!1})},t.prototype.getStyle=function(){return{boxShadow:R.getShadow({elevation:2,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity}),borderRadius:3,marginBottom:8,background:this.theme.popoverBackground,overflow:"hidden",transition:"background 100ms ease-out"}},t.stores={mouseStore:g.default},t.desktopTitleWrapStyle={paddingTop:8,paddingBottom:10,paddingLeft:10,paddingRight:10},t.desktopTitleIconStyle={float:"left",marginTop:2,marginRight:4,marginLeft:-2},t.mobileTitleIconStyle={float:"left",marginTop:0,marginRight:4,marginLeft:-2},t.desktopTitleTextStyle={fontSize:14,lineHeight:1.5,minHeight:21,fontWeight:u.default.fontWeight.medium,width:"auto"},t.mobileTitleTextStyle={fontSize:16,lineHeight:1.5,minHeight:24,fontWeight:u.default.fontWeight.medium,width:"auto"},t}(O.default);t.default=F},oFLp:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("/YYm"),i=r("wpmu"),l=r("jZoB"),s=r("H4VD"),u=r("g90h"),c=r("N34Z"),d=r("udrG"),p=r("QcDD"),f=r("T1hA");t.replaceBlockWithPageAlias=function(e){return n(this,void 0,void 0,function(){var t,r,n,a;return o(this,function(o){return t=e.store,r=e.aliasStore,n=e.transaction,(a=t.recordStoreParent())?[2,l.replaceChild({parent:a,oldChild:t,newChild:r,transaction:n}).child]:[2]})})},t.replaceBlockWithCollectionAlias=function(e){return n(this,void 0,void 0,function(){var t,r,n,a,s,p,h,m,y;return o(this,function(o){return t=e.store,r=e.collectionStore,n=e.transaction,a=f.default.state.userId,(s=t.recordStoreParent())&&a?(p=Date.now(),h=u.default(),m={id:u.default(),version:0,type:"table",parent_id:h,parent_table:"block",alive:!0},c.createRecord({table:"collection_view",value:m,recordCacheStore:t.recordCacheStore,transaction:n}),y={id:h,version:0,type:d.default.collectionView,collection_id:r.id,view_ids:[m.id],properties:{},parent_id:s.id,parent_table:"block",alive:!0,created_by:a,created_time:p,last_edited_by:a,last_edited_time:p},c.createRecord({table:"block",value:y,recordCacheStore:t.recordCacheStore,transaction:n}),[2,l.replaceChild({parent:s,oldChild:t,newChild:i.default.createChildStore(s,y.id),transaction:n}).child]):[2]})})},t.navigateToPage=function(e){var t=e.blocks[0];if(e.openInNewTab){var r=a.default({store:t});s.navigate({url:r,metaClick:!0})}else{var n=t.recordStoreParentStore instanceof i.default&&t.recordStoreParentStore.isCollectionView(),o=p.default.state.currentBlockStore;if(n&&o){var l=a.default({store:o,fullyQualified:!1,peekViewBlockId:t.id});s.navigate({url:l})}else s.navigateToBlock({store:t})}}},oRaq:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("qr6c"),i=r("9OwC"),l=r("pxbK"),s=r("cBa6"),u=r("njgS"),c=r("+575"),d=r("5/h/"),p=r("D2XV"),f=r("m5ks"),h=r("O+wX"),m={title:function(e){var t=e.property,r=e.block.properties||{},n=r&&r[t]||[];return s.getTextWithoutTokens(n)},text:function(e){var t=e.property,r=e.block.properties||{},n=r&&r[t]||[];return s.getTextWithoutTokens(n)},select:function(e){var t=e.property,r=e.schema,n=e.block.properties||{},o=n&&n[t]||[],a=r[t].options||[];return c.toSelectValue(o,a)},multi_select:function(e){var t=e.property,r=e.schema,n=e.block.properties||{},o=n&&n[t]||[],a=r[t].options||[];return c.toMultiSelectValue(o,a).join(", ")},checkbox:function(e){var t=e.property,r=e.block.properties||{},n=r&&r[t]||[];return c.toCheckboxValue(n)},date:function(e){var t=e.property,r=e.block.properties||{},n=r&&r[t]||[];return c.toDateValue(n)},person:function(e){var t=e.property,r=e.block,n=e.getRecordValue,o=r.properties||{},a=o&&o[t]||[];return c.toPersonValue(a).map(function(e){var t=n("notion_user",e);if(t){var r=[];return t.given_name&&r.push(t.given_name),t.family_name&&r.push(t.family_name),r.join(" ")}}).join(", ")},relation:function(e){var t=e.property,r=e.block,n=e.getRecordValue,o=r.properties||{},a=o&&o[t]||[];return c.toRelationValue(a).map(function(e){var t=n("block",e);return t&&t.properties?s.getTextWithoutTokens(t.properties.title):void 0}).join(", ")},rollup:function(e){var t=e.property,r=e.schema[t];if(r&&"rollup"===r.type&&r.aggregation){var n=f.computeRollupAggregationValue(e);return u.datePropertyAggregations.includes(r.aggregation)&&n?p.dateTime(n,e.userTimeZone):n}return f.toExportStringValue(e)},number:function(e){var t=e.property,r=e.block.properties||{},n=r&&r[t]||[];return c.toNumberValue(n)},file:function(e){var t=e.property,r=e.block.properties||{},n=r&&r[t]||[];return c.toFileValue(n).map(function(e){return e.data}).join(", ")},url:function(e){var t=e.property,r=e.block.properties||{},n=r&&r[t]||[];return c.toUrlValue(n)},email:function(e){var t=e.property,r=e.block.properties||{},n=r&&r[t]||[];return c.toUrlValue(n)},phone_number:function(e){var t=e.property,r=e.block.properties||{},n=r&&r[t]||[];return c.toUrlValue(n)},formula:function(e){return l.evaluateFormula(n({},e,{depth:e.depth+1}))},created_time:function(e){var t=e.block,r=e.userTimeZone;if(t.created_time)return p.dateTime(t.created_time,r)},last_edited_time:function(e){var t=e.block,r=e.userTimeZone;if(t.last_edited_time)return p.dateTime(t.last_edited_time,r)},created_by:function(e){var t=e.block,r=e.getRecordValue,n=t.created_by;if(n){var o=r("notion_user",n);if(o)return d.getFullName(o)}},last_edited_by:function(e){var t=e.block,r=e.getRecordValue,n=t.last_edited_by;if(n){var o=r("notion_user",n);if(o)return d.getFullName(o)}}};function y(e){var t=e.property,r=e.schema[t];if(r){var n=r.type;return m[n](e)}}function g(e,t){return void 0===t&&(t=1),{type:"error",message:e,size:t}}function v(e){if(e)return e.isAccessorNode?"accessor":e.isArrayNode?"array":e.isAssignmentNode?"assignment":e.isBlockNode?"block":e.isConditionalNode?"conditional":e.isConstantNode?"constant":e.isFunctionAssignmentNode?"functionAssignment":e.isFunctionNode?"function":e.isIndexNode?"index":e.isObjectNode?"object":e.isOperatorNode?"operator":e.isParenthesisNode?"parenthesis":e.isRangeNode?"range":e.isSymbolNode?"symbol":void 0}function b(e,t,r){if(e){var n=v(e);if(n&&w.hasOwnProperty(n))return w[n](e,t,r)}}t.toFormulaValue=y,t.toFormulaValueAsString=function(e){var t=e.schema,r=e.property,n=e.userTimeZone,o=y(e),a=t[r];if(!a)throw new Error("Property not found");return"number"==typeof o||"boolean"==typeof o?o.toString():p.isPersistedDate(o)?"date"===a.type?h.formatPersistedDate({value:o,userTimeZone:n}):void 0:o},t.createError=g,t.formulaErrors={invalidProperty:function(e){return"Invalid property reference: "+e.name},invalidSyntax:function(e){return"Invalid syntax: "+e.nodeString},illegalType:function(e){return"Illegal type: "+e.nodeString},branchTypes:function(e){return"Each branch of a condition must be of the same type: "+e.nodeString},illegalConstant:function(e){return"Illegal constant: "+e.name+"."},undefinedFunction:function(e){return"Undefined function: "+e.name+"."},undefinedConstant:function(e){return"Undefined constant: "+e.name+"."},undefinedOperator:function(e){return"Undefined operator: "+e.name+"."},fewArguments:function(e){return"Too few arguments in function "+e.name+"."},manyArguments:function(e){return"Too many arguments in function "+e.name+"."},typeMatch:function(e){var t=e.nodeString,r=e.type;return"Type mismatch: "+t+" is not a "+(r?u.propertyTypeDisplayNameMap[r]:"undefined")+"."},recursiveDependency:function(e){return"Property "+e.name+" creates a circular dependency."}},t.getNodeType=v,t.nodeToFormula=b;var w={accessor:function(e,r,n){return g(t.formulaErrors.invalidSyntax(e.toString()))},array:function(e,r,n){return g(t.formulaErrors.invalidSyntax(e.toString()))},assignment:function(e,r,n){return g(t.formulaErrors.invalidSyntax(e.toString()))},block:function(e,r,n){return g(t.formulaErrors.invalidSyntax(e.toString()))},conditional:function(e,r,n){var o=b(e.condition,r,n),a=b(e.trueExpr,r,n),i=b(e.falseExpr,r,n);if(o)return"error"===o.type?o:a&&"error"===a.type?a:i&&"error"===i.type?i:i&&i.result_type!=i.result_type?g(t.formulaErrors.branchTypes(e.toString())):a&&i?{type:"conditional",result_type:a.result_type,condition:o,true:a,false:i}:void 0},constant:function(e,r,n){var o=e.value,a=e.valueType,i={string:"text",number:"number",boolean:"checkbox"};return i.hasOwnProperty(a)?{type:"constant",result_type:i[a],value:o.toString(),value_type:a}:g(t.formulaErrors.illegalConstant(o.toString()))},functionAssignment:function(e,r,n){return g(t.formulaErrors.invalidSyntax(e.toString()))},function:function(e,r,n){var o=e.fn.name,a=e.args;if("prop"!==o){var l=i.getFunction(o)||i.getOperator(o);if(l){var s=l.signatures,u=(a||[]).map(function(e){return b(e,r,n)});return s.reduce(function(e,t){if(e&&"error"!==e.type)return e;var r=S(o,n,t,u);return r?e&&"error"===e.type&&e.size<r.size?e:r:{type:"function",result_type:t.resultType,name:o,args:u}},void 0)}return g(t.formulaErrors.undefinedFunction(o))}var c=function(e){return 1===e.length&&e[0].isConstantNode&&"string"===e[0].valueType?void 0:g(t.formulaErrors.invalidProperty(e.map(function(e){return e.toString()}).join("")))}(a);if(c)return c;var d=a[0].value,p=Object.keys(n).find(function(e){var t=n[e];return Boolean(t&&t.name===d)});if(!p)return g(t.formulaErrors.invalidProperty(d));var f=n[p];if(!f)return g(t.formulaErrors.invalidProperty(d));if("formula"!==f.type)return{type:"property",result_type:t.getFormulaPropertyType(f),name:d,id:p};var h=f.formula,m=h?h.result_type:void 0;return k(h).includes(r)?g(t.formulaErrors.recursiveDependency({name:f.name})):m?{type:"property",result_type:t.getFormulaPropertyType(f),name:d,id:p}:void 0},index:function(e,r,n){return g(t.formulaErrors.invalidSyntax(e.toString()))},object:function(e,r,n){return g(t.formulaErrors.invalidSyntax(e.toString()))},operator:function(e,r,n){var o=e.op,a=e.fn,l=(e.args||[]).map(function(e){return b(e,r,n)}),s=i.getOperator(a);return s?s.signatures.reduce(function(e,t){if(e&&"error"!==e.type)return e;var r=S(a,n,t,l);return r?e&&"error"===e.type&&e.size<r.size?e:r:{type:"operator",result_type:t.resultType,operator:o,name:a,args:l}},void 0):g(t.formulaErrors.undefinedOperator(o))},parenthesis:function(e,t,r){return b(e.content,t,r)},range:function(e,r,n){return g(t.formulaErrors.invalidSyntax(e.toString()))},symbol:function(e,r,n){var o=e.name;return i.constants.hasOwnProperty(o)?{type:"symbol",result_type:i.constants[o].resultType,name:o}:g(t.formulaErrors.undefinedConstant(o))}};function S(e,r,a,i){var l=a.arity,s=a.variadic;if(s){if(!(i.length>0))return g(t.formulaErrors.fewArguments({name:e}));if((u=o.compact(i.map(function(e){return _(s,r,e)}))).length>0)return n({},u[0],{size:u.length})}else{if(l&&i.length<l.length)return g(t.formulaErrors.fewArguments({name:e}));if(l&&i.length>l.length)return g(t.formulaErrors.manyArguments({name:e}));var u;if(l&&(u=o.compact(i.map(function(e,t){return _(l[t],r,e)}))).length>0)return n({},u[0],{size:u.length})}}function _(e,r,n){if("error"===n.type)return n;if(e!==n.result_type){var o=l.formulaToString(n,r);return g(t.formulaErrors.typeMatch({nodeString:o,type:e}))}}function k(e){if(!e)return[];if("conditional"===e.type)return o.union(k(e.condition),k(e.true),k(e.false));if("function"===e.type||"operator"===e.type){var t=e.args||[];return o.union.apply(null,t.map(k))}return"property"===e.type?[e.id]:[]}function C(e,t){if(e){var r=e.type;if(E.hasOwnProperty(r))return E[r](e,t)}}t.getFormulaPropertyType=function(e){return"title"===e.type||"relation"===e.type||"url"===e.type||"select"===e.type||"multi_select"===e.type||"person"===e.type||"file"===e.type||"email"===e.type||"phone_number"===e.type||"text"===e.type||"created_by"===e.type||"last_edited_by"===e.type?"text":"number"===e.type?"number":"created_time"===e.type||"last_edited_time"===e.type||"date"===e.type?"date":"checkbox"===e.type?"checkbox":"rollup"===e.type?e.aggregation?u.datePropertyAggregations.includes(e.aggregation)?"date":"number":"text":"formula"===e.type&&e.formula?"number"===e.formula.result_type?"number":"date"===e.formula.result_type?"date":"checkbox"===e.formula.result_type?"checkbox":"text":"text"},t.getFormulaDependencies=k,t.formulaToNode=C;var E={conditional:function(e,t){return new a.expression.node.ConditionalNode(C(e.condition,t),C(e.true,t),C(e.false,t))},constant:function(e,t){var r=e.value,n=e.value_type;return new a.expression.node.ConstantNode(r,n)},function:function(e,t){var r=e.name,n=e.args;return new a.expression.node.FunctionNode(new a.expression.node.SymbolNode(r),(n||[]).map(function(e){return C(e,t)}))},operator:function(e,t){var r=e.operator,n=e.name,o=e.args;return new a.expression.node.OperatorNode(r,n,(o||[]).map(function(e){return C(e,t)}))},property:function(e,t){var r=e.id,n=e.name,o=t.hasOwnProperty(r)?t[r].name:n;return new a.expression.node.FunctionNode("prop",[new a.expression.node.ConstantNode(o,"string")])},symbol:function(e,t){var r=e.name;return new a.expression.node.SymbolNode(r)}};function P(e){var t=e.formula,r=e.schema,n=e.block,o=e.getRecordValue,a=e.userTimeZone,i=e.depth;if(t){var l=t.type;if(x.hasOwnProperty(l))return x[l]({formula:t,schema:r,block:n,getRecordValue:o,userTimeZone:a,depth:i})}}t.formulaToFormulaValue=P;var x={conditional:function(e){var t=e.formula,r=e.schema,n=e.block,o=e.getRecordValue,a=e.userTimeZone,i=e.depth;if("conditional"===t.type)return P({formula:t.condition,schema:r,block:n,getRecordValue:o,userTimeZone:a,depth:i})?P({formula:t.true,schema:r,block:n,getRecordValue:o,userTimeZone:a,depth:i}):P({formula:t.false,schema:r,block:n,getRecordValue:o,userTimeZone:a,depth:i})},constant:function(e){var t=e.formula;if("constant"===t.type){var r=t.value,n=t.value_type;if("string"===n)return r;if("number"===n)return parseFloat(r);if("boolean"===n)return!!JSON.parse(r)}},function:function(e){var t=e.formula,r=e.schema,n=e.userTimeZone,o=e.block,a=e.getRecordValue,l=e.depth;if("function"===t.type){var s=(t.args||[]).map(function(e){return P({formula:e,schema:r,block:o,getRecordValue:a,userTimeZone:n,depth:l})}),u=i.getFunction(t.name),c=i.getOperator(t.name);if(u)return u.apply(s,n);if(c)return c.apply(s,n)}},property:function(e){var t=e.formula,r=e.schema,n=e.userTimeZone,o=e.block,a=e.getRecordValue,i=e.depth;if("property"===t.type)return y({property:t.id,schema:r,block:o,getRecordValue:a,userTimeZone:n,depth:i})},operator:function(e){var t=e.formula,r=e.schema,n=e.userTimeZone,o=e.block,a=e.getRecordValue,l=e.depth;if("operator"===t.type){var s=t.args,u=t.name,c=(s||[]).map(function(e){return P({formula:e,schema:r,block:o,getRecordValue:a,userTimeZone:n,depth:l})}),d=i.getOperator(u);if(d)return d.apply(c,n)}},symbol:function(e){var t=e.formula;if("symbol"===t.type){var r=t.name;if(i.constants.hasOwnProperty(r))return i.constants[r].value}}};t.normalizeFormula=function e(t){if("conditional"===t.type)return{type:t.type,condition:e(t.condition),true:e(t.true),false:e(t.false),result_type:t.result_type};if("constant"===t.type)return{type:t.type,value:t.value,value_type:t.value_type,result_type:t.result_type};if("function"===t.type){var r=t.args||[];return{type:t.type,name:t.name,args:r.map(e),result_type:t.result_type}}if("operator"===t.type)return r=t.args||[],{type:t.type,operator:t.operator,name:t.name,args:r.map(e),result_type:t.result_type};if("symbol"===t.type)return{type:t.type,name:t.name,result_type:t.result_type};if("property"===t.type)return{type:t.type,id:t.id,name:t.name,result_type:t.result_type};if("error"===t.type)return{type:t.type,message:t.message,result_type:t.result_type,size:t.size};throw new Error("Invalid formula type.")}},oWRT:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("r8oj"),l=r("X6Ne"),s=r("yjqD"),u=r("N34Z"),c=r("6Ydq"),d=r("sgGF"),p=r("bkwR"),f=r("MBf9"),h=r("VMJe"),m=r("unoy"),y=r("A9TN"),g=r("PYYe"),v=r("sjR4"),b=r("T1hA"),w=r("8dfn"),S=r("UcZb"),_=r("p0Uu"),k=r("X3py"),C=r("3uHk"),E=r("7IvN"),P=r("CpD0"),x=r("PQqx"),T=window;t.getCordovaDeviceInfo=function(){return i.default.isCordova&&T.AppVersion&&T.device&&T.device.model?{cordovaDeviceModel:T.device.model,cordovaAppVersion:T.AppVersion.version}:{}},t.getCordovaOSVersion=function(){if(i.default.isCordova&&T.AppVersion&&T.device&&T.device.version){var e=T.device.version.replace(/[^\d\.]/g,"").split(".").map(function(e){return parseInt(e)}).filter(function(e){return!a.isNaN(e)});return 0===e.length?[0,0,0]:1===e.length?[e[0],0,0]:2===e.length?[e[0],e[1],0]:[e[0],e[1],e[2]]}};var O,M=s.deferred();function I(e){return n(this,void 0,void 0,function(){var t,r,n,a;return o(this,function(o){switch(o.label){case 0:return t=b.default.state.userId,e&&t?(r=d.getFirebaseTokenId({user_id:t,token:e}),[4,p.getRecordValue({table:d.default.table,id:r})]):[3,2];case 1:n=o.sent(),a=v.default.getCurrentRecordCacheStore(),n&&(n.value&&!n.value.invalid||!a||f.createAndCommit(function(n){u.createRecord({table:d.default.table,value:{id:r,token:e,user_id:t,invalid:!1},recordCacheStore:a,transaction:n})})),o.label=2;case 2:return[2]}})})}function A(e){document.addEventListener("backbutton",e)}function D(){T.WkWebView&&T.WkWebView.allowsBackForwardNavigationGestures&&(S.default.state.open||!C.default.canScroll()?!1!==O&&(O=!1,T.WkWebView.allowsBackForwardNavigationGestures(!1)):!0!==O&&(O=!0,T.WkWebView.allowsBackForwardNavigationGestures(!0)))}function L(){k.default.state.phase===k.ReactNativeKeyboardPhase.willShow&&l.mobileAutoScroll()}function R(){C.default.canScroll()&&(S.default.state.open?_.default.SidebarMobileScroller&&_.default.SidebarMobileScroller.scrollToTop({isAnimated:!0,animationCallback:a.identity}):_.default.PageScroller&&_.default.PageScroller.scrollToTop({isAnimated:!0,animationCallback:a.identity}))}document.addEventListener("deviceready",M.resolve,!1),t.initializeCordovaApp=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return e.isCordova?[4,M.promise]:[3,2];case 1:t.sent(),e.isAndroid&&T.StatusBar&&(T.StatusBar.backgroundColorByName("black"),T.StatusBar.styleBlackOpaque()),t.label=2;case 2:return[2]}})})},t.share=function(e){T.plugins&&T.plugins.socialsharing&&T.plugins.socialsharing.shareWithOptions({url:e},function(){},function(){})},t.setTheme=function(e){T.StatusBar&&("light"===e?i.default.isAndroid?(T.StatusBar.backgroundColorByName("black"),T.StatusBar.styleBlackOpaque()):T.StatusBar.styleDefault():(i.default.isAndroid&&T.StatusBar.backgroundColorByName("black"),T.StatusBar.styleBlackOpaque()))},t.openInAppBrowser=function(e){T.SafariViewController&&T.SafariViewController.show({url:g(e)})},t.closeInAppBrowser=function(){T.SafariViewController&&T.SafariViewController.hide()},t.exitApp=function(){var e=navigator.app;e&&e.exitApp&&e.exitApp()},t.showSplashscreen=function(){T.navigator.splashscreen&&T.navigator.splashscreen.show()},t.hideSplashscreen=function(){T.navigator.splashscreen&&T.navigator.splashscreen.hide()},t.buzz=function(){T.TapticEngine&&T.TapticEngine.unofficial.weakBoom()},t.setBadgeNumber=function(e){T.FirebasePlugin&&T.FirebasePlugin.setBadgeNumber(e)},t.hasNativeGoogleLogin=function(){return Boolean(i.default.isAndroid&&T.plugins&&T.plugins.googleplus)},t.requestGoogleJwt=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){return i.default.isAndroid&&T.plugins&&T.plugins.googleplus?(e=T.plugins.googleplus,[2,new Promise(function(t){e.login({webClientId:y.default.googleOAuth.clientId},function(e){return t({value:e})},function(e){return t({error:{message:"CordovaError:"+e.code+" "+e.message}})})})]):[2]})})},t.logoutOfGoogle=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){return i.default.isAndroid&&T.plugins&&T.plugins.googleplus?(e=T.plugins.googleplus,[2,new Promise(function(t){e.logout(function(){t({value:void 0})})})]):[2]})})},t.subscribeToOpenLink=function(e){i.default.isCordova&&T.universalLinks&&(T.universalLinks.subscribe(null,function(t){e(t.url)}),window.handleOpenURL=function(t){e(t)})},t.subscribeToPushNotifications=function(e){i.default.isCordova&&T.FirebasePlugin&&T.FirebasePlugin.onNotificationOpen(function(t){return e(t||{})},function(e){return c.log({level:"error",from:"cordovaActions",type:"FirebasePlugin.onNotificationOpen",error:e})})},t.unregisterPushNotifications=function(){T.FirebasePlugin&&T.FirebasePlugin.unregister()},t.registerPushNotifications=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return T.FirebasePlugin&&(T.FirebasePlugin.grantPermission(),T.FirebasePlugin.onTokenRefresh(I,function(e){return c.log({level:"error",from:"cordovaActions",type:"FirebasePlugin.onTokenRefresh",error:e})})),[2,void 0]})})},t.isIPhoneX=function(){return!!(i.default.isCordova&&T.device&&T.device.model)&&("iPhone10,3"===T.device.model||"iPhone10,6"===T.device.model)},t.getMobileVersion=function(){if(T.AppVersion){var e=T.AppVersion.version;if(e)return h.parseVersion(e)}},t.subscribeToBackButton=A,t.startListeners=function(){i.default.isCordova&&(S.default.addListener(D),w.default.addListener(D),k.default.addListener(L),window.addEventListener("statusTap",R),window.addEventListener("keyboardWillShow",function(){return k.default.updateKeyboardPhaseDebounced(k.ReactNativeKeyboardPhase.willShow)}),window.addEventListener("keyboardDidShow",function(){return k.default.updateKeyboardPhaseDebounced(k.ReactNativeKeyboardPhase.shown)}),window.addEventListener("keyboardWillHide",function(){return k.default.updateKeyboardPhaseDebounced(k.ReactNativeKeyboardPhase.willHide)}),window.addEventListener("keyboardDidHide",function(){return k.default.updateKeyboardPhaseDebounced(k.ReactNativeKeyboardPhase.hidden)}),document.addEventListener("pause",P.default.pause,!1),document.addEventListener("resume",P.default.resume,!1),i.default.isAndroid&&k.default.addListener(function(){if(k.default.state.phase===k.ReactNativeKeyboardPhase.hidden){if(E.default.state.open)return;m.clear()}}),A(x.handleEvent))}},oWZM:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("SR/M"),s=r("t+pW"),u=r("r8oj"),c=r("zmp8"),d=r("IULH"),p=r("mF3+"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=Boolean(this.props.title);return u.default.isMobile?i.createElement(l.default,{showExtensionArrow:!0,focused:!1,title:e?i.createElement("div",null,this.props.title):i.createElement("div",{style:{color:c.default.uiGray}},this.props.placeholder),onClick:this.props.onClick}):i.createElement(d.default,{isLarge:!0,onClick:this.props.onClick,disabled:this.props.disabled,style:a({marginRight:8,maxWidth:180,padding:"0 8px"},this.props.disabled&&{opacity:.5,borderColor:c.default.transparent})},i.createElement("div",{style:{display:"flex",minWidth:0,color:e?this.theme.regularTextColor:this.theme.mediumTextColor}},e?this.props.title:this.props.placeholder),p.default.chevronDown(a({width:10,marginLeft:6,fill:this.theme.lightIconColor},this.props.disabled&&{opacity:0})))},t}(s.default);t.default=f},oaNT:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("r8oj"),i=r("X6Ne"),l=r("q2qQ"),s=r("p+Y9"),u=r("MBf9"),c=r("dsG5"),d=r("HTHG"),p=r("sjR4"),f=r("DNgp"),h=r("w5u6");function m(){h.default.afterNextFlush(i.mobileAutoScroll)}t.takePicture=function(){return n(this,void 0,void 0,function(){var e,t,r;return o(this,function(n){switch(n.label){case 0:return[4,s.openFilePicker({multiple:!0})];case 1:return e=n.sent(),t=p.default.getCurrentRecordCacheStore(),r=d.getCurrentContainerPageWidth(),0!==e.length&&t?(u.createAndCommit(function(n){var o=c.createEmbedBlocksFromFiles({files:e,recordCacheStore:t,pageWidth:r,transaction:n});l.insertBlocksAfterSelection({blocks:o,selection:p.default.state.stores,transaction:n})}),[2]):[2]}})})},t.startListeners=function(){a.default.isMobile&&f.default.addListener(m)}},ogob:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("A9TN"),l=r("5FB0"),s=r("6PQq");t.initialize=function(){var e=i.default.amplitude&&i.default.amplitude.apiKey;e&&s.getInstance().init(e,"",{includeReferrer:!0,includeUtm:!0,unsetParamsReferrerOnNewSession:!0})},t.identifyUser=function(e){var t,r;if(u()){var n=e.userId,i=e.traits,l=e.spaceIds;s.getInstance().setUserId(n);var c=new s.Identify;if(i)try{for(var d=o(Object.keys(i)),p=d.next();!p.done;p=d.next()){var f=p.value,h=i[f];h&&(a.isArray(h)?c.append(f,h):c.set(f,h))}}catch(e){t={error:e}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}s.getInstance().identify(c),l&&s.getInstance().setGroup("workspace",l)}},t.deidentifyUser=function(){u()&&s.getInstance().setUserId(null)},t.identifyWorkspace=function(e){if(u()){var t=e.spaceData,r={group_type:"workspace",group_value:t.space_id,group_properties:n({},t)};l.default({method:"POST",url:"https://api.amplitude.com/groupidentify?api_key="+i.default.amplitude.apiKey+"&identification="+encodeURIComponent(JSON.stringify(r)),json:!1})}},t.track=function(e){if(u()){var t=e.eventName,r=e.eventData,n=e.spaceId;n?s.getInstance().logEventWithGroups(t,r,{workspace:n}):s.getInstance().logEvent(t,r)}};var u=function(){return void 0!==s}},ohKz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},okm4:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{ready:!1,initialRequestCompleted:!1,loading:!1,endOfResultsReached:!1,error:void 0,currentCursor:void 0,currentChunkNumber:void 0}},t}(r("LEzx").default);t.default=a},"ooa+":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("prF1"),u=r("bxQm"),c=r("d9nj"),d=r("9M6r"),p=r("8fuX"),f=r("62KP"),h=r("1Imc"),m=r("T1hA"),y=r("wS9/"),g=r("sZEU"),v=r("H4VD"),b=r("qqdV"),w=r("5Nka"),S=r("mF3+"),_=r("zmp8"),k=r("Sb6f"),C=r("hfHo"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleReset=function(e){t.stores.loginStore.reset()},t.openIntercom=function(){g.openIntercomMessages({from:"mobile_login"})},t}return o(t,e),t.prototype.didMount=function(){m.default.isLoggedIn()&&v.navigate({url:"/",redirect:!0})},t.prototype.renderComponent=function(){var e=this.stores.loginStore.state.showEmail;return i.createElement(p.default,{style:t.scrollerStyle,type:p.default.OverflowType.Y},i.createElement("div",{style:this.getScrollContainerStyle()},i.createElement(c.default,{isGray:!0,onClick:this.handleReset,icon:S.default.backward,style:{marginTop:36,marginBottom:12,display:e?"flex":" none"}},"Go Back"),i.createElement("img",{src:w.default.images.notionLogoPng,style:{width:44,height:44,flexGrow:0,flexShrink:0,marginTop:64,marginBottom:20,display:e?"none":"block"}}),i.createElement("div",{style:{lineHeight:1.4,fontSize:18,color:_.default.black,display:e?"none":" block"}},i.createElement("div",{style:{fontWeight:k.default.fontWeight.bold,marginBottom:16}},"Welcome to Notion! 👋"),i.createElement("div",{style:{marginBottom:16}},"Notion is a collaborative tool for"," ",i.createElement("span",{style:{fontWeight:k.default.fontWeight.medium}},"notes"),","," ",i.createElement("span",{style:{fontWeight:k.default.fontWeight.medium}},"tasks"),", and"," ",i.createElement("span",{style:{fontWeight:k.default.fontWeight.medium}},"wikis")," ","✍️"),i.createElement("div",{style:{marginBottom:20}},"First, create an account to save and sync your content.")),i.createElement(d.default,a({style:{marginBottom:24,alignItems:"flex-start"},emailPasswordSentPromptStyle:{fontSize:13},emailPasscodePlaceholder:"Enter login code",emailLabel:"Email",emailInputAutoFocus:!0},this.stores)),this.renderFooter()))},t.prototype.renderFooter=function(){return i.createElement("div",{style:t.footerStyle},i.createElement("div",{style:{display:"flex",alignItems:"center",lineHeight:1.2}},i.createElement(s.default,{href:b.termsAndPrivacy,external:!0},i.createElement(u.default,null,"Privacy & Terms")),i.createElement(u.default,{style:{marginLeft:4},onClick:this.openIntercom},"Need Help?")),i.createElement(u.default,{style:{marginTop:12},disabled:!0},"© ",C.default().year()," Notion Labs, Inc."))},t.prototype.getScrollContainerStyle=function(){return{width:"100%",paddingTop:y.default.paddingTop,paddingLeft:y.default.calcPaddingLeft(34),paddingRight:y.default.calcPaddingRight(34)}},t.stores={loginStore:h.default,loginPermissionsStore:f.default},t.footerStyle={marginTop:36,paddingBottom:48,marginLeft:-4},t.scrollerStyle={height:"100%",width:"100%"},t}(l.default);t.default=E},oqYu:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i,l,s=r("LvDl"),u=r("r8oj"),c=r("X3py"),d=r("X6Ne"),p=r("yjqD"),f=r("N34Z"),h=r("sgGF"),m=r("bkwR"),y=r("MBf9"),g=r("unoy"),v=r("A9TN"),b=r("PYYe"),w=r("sjR4"),S=r("T1hA"),_=r("8dfn"),k=r("UcZb"),C=r("p0Uu"),E=r("X3py"),P=r("3uHk"),x=r("7IvN"),T=r("CpD0"),O=r("/8Ho"),M=r("GId0"),I=r("wS9/"),A=r("PQqx"),D=r("aF0I"),L={openLink:function(e){i=e},pushNotificationTokenRefresh:function(){},backButtonPress:function(){},keyboardWillShow:function(){},keyboardDidShow:function(){},keyboardWillHide:function(){},keyboardDidHide:function(){},pause:function(){},resume:function(){},appUpdateError:function(){},appUpdateChecking:function(){},appUpdateAvailable:function(){},appUpdateNotAvailable:function(){},appUpdateProgress:function(){},appUpdateReady:function(){},appUpdateFinished:function(){},statusBarTap:function(){}},R=p.deferred();function B(e){return n(this,void 0,void 0,function(){var t,r,n,a;return o(this,function(o){switch(o.label){case 0:return t=S.default.state.userId,e&&t?(r=h.getFirebaseTokenId({user_id:t,token:e}),[4,m.getRecordValue({table:h.default.table,id:r})]):[3,2];case 1:n=o.sent(),a=w.default.getCurrentRecordCacheStore(),n&&(n.value&&!n.value.invalid||!a||y.createAndCommit(function(n){f.createRecord({table:h.default.table,value:{id:r,token:e,user_id:t,invalid:!1},recordCacheStore:a,transaction:n})})),o.label=2;case 2:return[2]}})})}function j(){return n(this,void 0,void 0,function(){var e,t,r;return o(this,function(n){switch(n.label){case 0:if(!u.default.isIOS||!u.default.isReactNative)return[2];e=document.createElement("div"),t=["env(safe-area-inset-top)","env(safe-area-inset-bottom)","env(safe-area-inset-left)","env(safe-area-inset-right)"],e.style.width="calc("+t.join(" + ")+")",e.style.visibility="hidden",document.body.appendChild(e),r=0,n.label=1;case 1:return r<50?e.offsetWidth>0?[3,3]:[4,p.timeout(1)]:[3,3];case 2:return n.sent(),r++,[3,1];case 3:return document.body.removeChild(e),I.default.updateWindowSize(),[2]}})})}function V(e){L.backButtonPress=function(){e({type:"backbutton"})}}function F(){D.reactNativeSendApi.setWebViewAllowsNavigationGestures&&(k.default.state.open||!P.default.canScroll()?!1!==l&&(l=!1,D.reactNativeSendApi.setWebViewAllowsNavigationGestures(!1)):!0!==l&&(l=!0,D.reactNativeSendApi.setWebViewAllowsNavigationGestures(!0)))}function N(){E.default.state.phase===c.ReactNativeKeyboardPhase.willShow&&d.mobileAutoScroll()}function U(){P.default.canScroll()&&(k.default.state.open?C.default.SidebarMobileScroller&&C.default.SidebarMobileScroller.scrollToTop({isAnimated:!0,animationCallback:s.identity}):C.default.PageScroller&&C.default.PageScroller.scrollToTop({isAnimated:!0,animationCallback:s.identity}))}document.addEventListener("deviceready",R.resolve,!1),t.initializeReactNativeApp=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){switch(n.label){case 0:return e.isReactNative?[4,R.promise]:[3,4];case 1:return n.sent(),[4,p.timeout(0)];case 2:return n.sent(),[4,j()];case 3:n.sent(),t=new Set,document.addEventListener("message",function(e){var r,n;if(e.data)try{for(var o=a(Array.from(t)),i=o.next();!i.done;i=o.next())(0,i.value)(e.data)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}),r=new O.EventBasedApi({sendChannel:function(e){return window.postMessage(e,"*")},receiveChannel:{addListener:function(e){return t.add(e)},removeListener:function(e){return t.delete(e)}},receiveHandlers:L,sendCapabilities:window[M.appJsToReactNativeCapabilitiesKey]||[]}),Object.assign(D.reactNativeSendApi,r.api),e.isAndroid&&D.reactNativeSendApi.setStatusBarBackgroundColor&&D.reactNativeSendApi.setStatusBarStyle&&(D.reactNativeSendApi.setStatusBarBackgroundColor("black"),D.reactNativeSendApi.setStatusBarStyle("light-content")),D.reactNativeSendApi.ready&&D.reactNativeSendApi.ready(),n.label=4;case 4:return[2]}})})},t.share=function(e){D.reactNativeSendApi.share&&D.reactNativeSendApi.share(e)},t.setTheme=function(e){D.reactNativeSendApi.setStatusBarBackgroundColor&&D.reactNativeSendApi.setStatusBarStyle&&("light"===e?u.default.isAndroid?(D.reactNativeSendApi.setStatusBarBackgroundColor("black"),D.reactNativeSendApi.setStatusBarStyle("light-content")):D.reactNativeSendApi.setStatusBarStyle("default"):(u.default.isAndroid&&D.reactNativeSendApi.setStatusBarBackgroundColor("black"),D.reactNativeSendApi.setStatusBarStyle("light-content")))},t.openInAppBrowser=function(e){D.reactNativeSendApi.openInAppBrowser&&D.reactNativeSendApi.openInAppBrowser(b(e))},t.closeInAppBrowser=function(){D.reactNativeSendApi.closeInAppBrowser&&D.reactNativeSendApi.closeInAppBrowser()},t.exitApp=function(){D.reactNativeSendApi.exitApp&&D.reactNativeSendApi.exitApp()},t.showSplashscreen=function(){D.reactNativeSendApi.showSplashScreen&&D.reactNativeSendApi.showSplashScreen()},t.hideSplashscreen=function(){D.reactNativeSendApi.hideSplashScreen&&D.reactNativeSendApi.hideSplashScreen()},t.buzz=function(){D.reactNativeSendApi.buzz&&D.reactNativeSendApi.buzz()},t.setBadgeNumber=function(e){D.reactNativeSendApi.setBadgeNumber&&D.reactNativeSendApi.setBadgeNumber(e)},t.onAppUpdateReady=function(e){L.appUpdateReady=e},t.onAppUpdateError=function(e){L.appUpdateError=e},t.onAppUpdateChecking=function(e){L.appUpdateChecking=e},t.onAppUpdateAvailable=function(e){L.appUpdateAvailable=e},t.onAppUpdateNotAvailable=function(e){L.appUpdateNotAvailable=e},t.onAppUpdateProgress=function(e){L.appUpdateProgress=e},t.onAppUpdateFinished=function(e){L.appUpdateFinished=e},t.hasNativeGoogleLogin=function(){return u.default.isAndroid&&Boolean(D.reactNativeSendApi.requestGoogleJwt)},t.requestGoogleJwt=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return u.default.isAndroid&&D.reactNativeSendApi.requestGoogleJwt?[2,D.reactNativeSendApi.requestGoogleJwt({webClientId:v.default.googleOAuth.clientId})]:[2]})})},t.logoutOfGoogle=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return u.default.isAndroid&&D.reactNativeSendApi.logoutOfGoogle?[2,D.reactNativeSendApi.logoutOfGoogle()]:[2]})})},t.resetAssetCache=function(){return n(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return D.reactNativeSendApi.resetAppCache?[4,D.reactNativeSendApi.resetAppCache()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.setLogglyData=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return D.reactNativeSendApi.setLogglyData?[4,D.reactNativeSendApi.setLogglyData(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.subscribeToOpenLink=function(e){if(L.openLink=e,i){var t=i;i=void 0,setTimeout(function(){return e(t)})}},t.unregisterPushNotifications=function(){D.reactNativeSendApi.unregisterPushNotifications&&D.reactNativeSendApi.unregisterPushNotifications()},t.registerPushNotifications=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return D.reactNativeSendApi.registerPushNotifications?[4,D.reactNativeSendApi.registerPushNotifications()]:[3,2];case 1:(e=t.sent())&&B(e),t.label=2;case 2:return[2]}})})},t.waitForCssInsets=j,t.subscribeToBackButton=V,t.cancelUserBackgroundTasks=function(){return n(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return D.reactNativeSendApi.cancelUserBackgroundTasks?[4,D.reactNativeSendApi.cancelUserBackgroundTasks()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.startListeners=function(){u.default.isReactNative&&(k.default.addListener(F),_.default.addListener(F),E.default.addListener(N),L.statusBarTap=U,L.keyboardWillShow=function(){return E.default.updateKeyboardPhaseDebounced(c.ReactNativeKeyboardPhase.willShow)},L.keyboardDidShow=function(){return E.default.updateKeyboardPhaseDebounced(c.ReactNativeKeyboardPhase.shown)},L.keyboardWillHide=function(){return E.default.updateKeyboardPhaseDebounced(c.ReactNativeKeyboardPhase.willHide)},L.keyboardDidHide=function(){return E.default.updateKeyboardPhaseDebounced(c.ReactNativeKeyboardPhase.hidden)},L.pushNotificationTokenRefresh=B,L.resume=T.default.resume,L.pause=T.default.pause,u.default.isAndroid&&E.default.addListener(function(){if(E.default.state.phase===c.ReactNativeKeyboardPhase.hidden){if(x.default.state.open)return;g.clear()}}),V(A.handleEvent))}},oqx9:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("kaWB"),i=r("bPtJ"),l=function(e){function t(t,r){return e.call(this,a.default.table,t,[],r)||this}return o(t,e),t.createChildStore=function(e,r){var n=i.default.getChildStoreKey(a.default.table,r,t.keyName),o=e.getRecordStoreChildStore(n),l=o||new t(r,e.recordCacheStore);return o||l.setRecordStoreParent(e,n),l},t.keyName="CommentRecordStore",t}(i.default);t.default=l},ouJW:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("i8i4"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.findBlockPropertyValue=function(e,t){return this.findComponent(function(r){return r.props.store===e&&r.props.property===t})},t.prototype.getRect=function(e,t){var r=this.findBlockPropertyValue(e,t);if(r){var n=a.findDOMNode(r);if(n&&n instanceof Element)return n.getBoundingClientRect()}},t}(r("Uv1v").default);t.default=new i},ov3o:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isOpen:!1}},t}(r("LEzx").default);t.default=new a},ox2z:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("SR/M"),s=r("TDb4"),u=r("gbGO"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=!this.context.isMobile&&this.props.shortcuts&&this.props.shortcuts[0];return i.createElement(l.default,a({},this.props,{style:this.props.style,icon:this.renderSvg(),right:this.props.right||e&&i.createElement(s.default,{name:e,style:this.getShortcutStyle()})}))},t.prototype.renderSvg=function(){var e=this.props.svg;if(e)return i.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},e({width:this.context.isMobile?20:17,height:this.context.isMobile?20:17}))},t.prototype.getShortcutStyle=function(){return{color:this.theme.lightTextColor,fontSize:12,whiteSpace:"nowrap"}},t.contextTypes=a({},u.menuContextTypes),t}(r("t+pW").default);t.default=c},"p+Y9":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("q1tI"),l=r("LvDl"),s=r("yjqD"),u=r("ju2U"),c=r("r8oj"),d=r("bkwR"),p=r("Cycz"),f=r("6Ydq"),h=r("r8MX"),m=r("UiOz"),y=r("toub"),g=r("9PHN"),v=r("zttk"),b=r("QhBr"),w=r("szb2"),S=r("5xGH");function _(e){return n(this,void 0,void 0,function(){var t,r,n,a,i,l,u,m,y,g,v;return o(this,function(o){switch(o.label){case 0:return t=e.file,r=e.bucket,n=t.type||"text/plain; charset=utf-8",a=h.default.state.data,!e.preventLimitFreeFileSize&&a&&p.isUnsubscribed(a)&&!c.default.isReactNative&&!c.default.isCordova&&t.size>E?(k(),e.onError&&e.onError(new Error("Your file is over the 5MB limit of the Free plan.")),[3,5]):[3,1];case 1:return e.onStart&&e.onStart({file:t,name:t.name,size:(t.size/1024).toFixed(1)+"KB"}),[4,d.getUploadFileUrl({bucket:r,name:t.name,contentType:n})];case 2:return"success"!==(i=o.sent()).type?[3,4]:(l=i.data,u=l.url,m=l.signedPutUrl,y=s.deferred(),(g=new XMLHttpRequest).open("PUT",m),g.setRequestHeader("Content-type",n),g.upload.addEventListener("progress",function(t){if(t.lengthComputable){var r=Math.round(100*t.loaded/t.total);e.onProgress&&e.onProgress({progressPercent:r,uploadedFiles:0})}}),g.onreadystatechange=function(){4===g.readyState&&(200===g.status?y.resolve({type:"success",status:g.status,data:u}):(f.log({level:"error",from:"uploadActions",type:"ClientUploadError",data:{status:g.status,responseText:g.responseText}}),y.resolve({type:"failed",status:g.status,offline:0===g.status,error:new S.HttpError("User:Upload failed.",{status:g.status}),body:void 0})))},g.send(t),[4,y.promise]);case 3:return"failed"===(v=o.sent()).type?e.onError&&e.onError(v.error):e.onComplete&&e.onComplete(u),[3,5];case 4:e.onError&&e.onError(i.error),o.label=5;case 5:return[2]}})})}function k(){u.displayBanner({bannerStore:w.default.state.open?b.default:m.default,id:t.uploadLimitBannerId,type:v.BannerType.Red,render:function(){return a.createElement(i.Fragment,null,"Your file is over the ",t.maxFreeAccountFileSizeInt,"MB limit of the Free plan",a.createElement(g.default,{onClick:function(){y.default.setState({open:!0,currentTab:"plans"})},style:{marginLeft:12}},"Upgrade for Unlimited Uploads"))}})}t.uploadFiles=function(e){var t=e.files.map(function(e){return{file:e,name:e.name,size:(e.size/1024).toFixed(1)+"KB"}});e.onStart&&e.onStart(t);var r={},n=0;s.batch(e.files,P,function(t){return Promise.all(t.map(function(t){return new Promise(function(o,a){_({file:t,bucket:e.bucket,onStart:function(){},onProgress:function(t){var r=t.progressPercent;e.onProgress&&e.onProgress({progressPercent:r,uploadedFiles:n})},onComplete:function(e){n++,r[t.name]=e,o()},onError:a,preventLimitFreeFileSize:e.preventLimitFreeFileSize})})}))}).then(function(){var t=e.files.map(function(e){return r[e.name]});e.onComplete&&e.onComplete(t)}).catch(e.onError)},t.uploadFile=_,t.openFilePickerAndUpload=function(e){x(),e.multiple?C.setAttribute("multiple",""):C.removeAttribute("multiple"),e.accept&&C.setAttribute("accept",e.accept),C.addEventListener("change",function(r){var n=l.toArray(C.files);t.uploadFiles({files:n,bucket:e.bucket,onStart:e.onStart,onProgress:e.onProgress,onComplete:e.onComplete,onError:e.onError,preventLimitFreeFileSize:e.preventLimitFreeFileSize})}),C.click()},t.openFilePicker=function(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){return x(),e.multiple?C.setAttribute("multiple",""):C.removeAttribute("multiple"),e.accept&&C.setAttribute("accept",e.accept),t=s.deferred(),C.addEventListener("change",function(e){var r=l.toArray(C.files);t.resolve(r)}),C.addEventListener("blur",function(e){t.resolve([])}),C.click(),[2,t.promise]})})},t.displayUploadLimitBanner=k,t.removeUploadLimitBanner=function(){u.removeBanner({bannerStore:m.default,id:t.uploadLimitBannerId}),u.removeBanner({bannerStore:b.default,id:t.uploadLimitBannerId})},t.maxFreeAccountFileSizeInt=5,t.uploadLimitBannerId="SubscriptionEditingBlocker";var C,E=1e6*t.maxFreeAccountFileSizeInt,P=5,x=function(){C&&C.remove(),(C=document.createElement("input")).type="file",C.style.opacity="0",C.style.pointerEvents="none",C.style.position="fixed",C.style.left="-1000px",C.style.top="-1000px",document.body.appendChild(C)}},p0Uu:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={}},p26Z:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=a},p4ec:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r("LvDl"),u=r("1M3H"),c=r("+80P"),d=r("udrG"),p=r("cBa6"),f=r("HRSx"),h=r("5/h/"),m=r("nFzZ"),y=r("+575"),g=r("fO5X"),v=r("622O"),b=r("O+wX"),w=r("g90h"),S=r("Wvka"),_=function(e){return e&&e.properties?e.properties:{}},k=function(e){var t=p.getAnnotationType(e);return"a"===t?"[":"b"===t?"**":"i"===t?"*":"c"===t?"`":"s"===t?"~~":""},C=function(e){var t=p.getAnnotationType(e);return p.isLinkAnnotation(e)?"]("+(p.getLinkAnnotationData(e)||"")+")":"b"===t?"**":"i"===t?"*":"c"===t?"`":"s"===t?"~~":""},E=function(e){var r=e.annotation,n=e.getRecordValue,a=e.baseUrl,i=e.userTimeZone;if(p.isUserAnnotation(r)){var l=p.getUserAnnotationData(r),s=n(h.default.table,l);return"@"+h.getFullName(s)}if(p.isPageAnnotation(r)){var u=p.getPageAnnotationData(r),c=n(f.default.table,u);if(c)return"["+t.titleText({block:c,getRecordValue:n,baseUrl:a,userTimeZone:i})+"]("+a+"/"+u+")"}else if(p.isDateAnnotation(r)){var d=p.getDateAnnotationData(r),m=d.date_format,y=d.time_format,g=o(d,["date_format","time_format"]);return b.formatPersistedDate({value:g,date_format:m,time_format:y,userTimeZone:i})}},P=function(e){var t=/^\s+/.exec(e);return t?t[0]:""},x=function(e){var t=/\s+$/.exec(e);return t?t[0]:""},T=function(e){var t=x(e);return t.length>0?e.slice(0,-1*t.length):e},O=function(e){var t=P(e);return e.slice(t.length)};t.titleText=function(e){var t=e.block,r=e.getRecordValue,n=e.baseUrl,o=e.userTimeZone;return U({textValue:p.getTokens(_(t).title),getRecordValue:r,baseUrl:n,userTimeZone:o})};var M=function(e){var t=e.block,r=e.getRecordValue,o=e.depth,a=t&&t.content?t.content:[];return m.compact(s.map(a,function(t){return N(n({},e,{block:r(f.default.table,t),depth:o+1}))}))},I=function(e){return e.split("\n")},A=function(e){var t=e.block,r=e.rootBlockId,n=e.secureFileS3Url,o=e.exportedFilePaths,a=e.baseUrl,i=_(t).source,l=p.getText(i);if(!v.isSecureFileUrl(l,n))return{path:l,isFile:!0};if(o){var s=v.getS3UrlExportPath(l);if(s)return{path:s,isFile:!0}}return{path:S.default({pageId:r,scrollToBlockId:t.id,baseUrl:a}),isFile:!1}},D=function(e){var t=e.block,r=e.getRecordValue,n=e.baseUrl,o=e.userTimeZone,a=p.getTokens(_(t).caption);return a.length>0?[{text:U({textValue:a,getRecordValue:r,baseUrl:n,userTimeZone:o}),breakLines:!0,indentChildren:!1,children:[]}]:[]},L=function(e){return{text:"",breakLines:!0,indentChildren:!1,children:M(e)}},R=function(){},B=function(e){var r=e.block,n=e.getRecordValue,o=e.baseUrl,a=e.userTimeZone;return{text:"- "+t.titleText({block:r,getRecordValue:n,baseUrl:o,userTimeZone:a}).trim(),breakLines:!1,indentChildren:!0,children:M(e)}},j=function(e){var r=e.block,n=e.getRecordValue,o=e.baseUrl,a=e.userTimeZone,i=A(e);return{text:"["+(t.titleText({block:r,getRecordValue:n,baseUrl:o,userTimeZone:a})||i.path)+"]("+i.path+")",breakLines:!0,indentChildren:!1,children:D(e)}},V=function(e){var t=e.block,r=e.getRecordValue,n=e.baseUrl,o=e.relativeSubpagePaths;if("collection_view"===t.type||"collection_view_page"===t.type){var a=r("collection",t.collection_id);if(a){var i=p.getText(a.name)||"Untitled";return o?{text:"["+i+"](./"+v.getCollectionCSVPath(a)+")",breakLines:!0,indentChildren:!1,children:[]}:{text:"["+i+"]("+n+"/"+w.withoutDashes(t.id)+")",breakLines:!0,indentChildren:!1,children:[]}}}},F={text:function(e){var r=e.block,n=e.getRecordValue,o=e.baseUrl,a=e.userTimeZone;return{text:t.titleText({block:r,getRecordValue:n,baseUrl:o,userTimeZone:a}),breakLines:!0,indentChildren:!1,children:M(e)}},header:function(e){var r=e.block,n=e.getRecordValue,o=e.baseUrl,a=e.userTimeZone;return{text:"# "+t.titleText({block:r,getRecordValue:n,baseUrl:o,userTimeZone:a}).trim(),breakLines:!0,indentChildren:!1,children:M(e)}},sub_header:function(e){var r=e.block,n=e.getRecordValue,o=e.baseUrl,a=e.userTimeZone;return{text:"## "+t.titleText({block:r,getRecordValue:n,baseUrl:o,userTimeZone:a}).trim(),breakLines:!0,indentChildren:!1,children:M(e)}},sub_sub_header:function(e){var r=e.block,n=e.getRecordValue,o=e.baseUrl,a=e.userTimeZone;return{text:"### "+t.titleText({block:r,getRecordValue:n,baseUrl:o,userTimeZone:a}).trim(),breakLines:!0,indentChildren:!1,children:M(e)}},quote:function(e){var r=e.block,n=e.getRecordValue,o=e.baseUrl,a=e.userTimeZone;return{text:"> "+t.titleText({block:r,getRecordValue:n,baseUrl:o,userTimeZone:a}).trim(),breakLines:!0,indentChildren:!1,children:M(e)}},bulleted_list:B,toggle:B,to_do:function(e){var r=e.block,n=e.getRecordValue,o=e.baseUrl,a=e.userTimeZone;return{text:(y.toCheckboxValue(_(r).checked)?"- [x] ":"- [ ] ")+" "+t.titleText({block:r,getRecordValue:n,baseUrl:o,userTimeZone:a}).trim(),breakLines:!1,indentChildren:!0,children:M(e)}},numbered_list:function(e){var r,n=e.block,o=e.getRecordValue,a=e.baseUrl,i=e.rootBlocks,l=e.userTimeZone,u=n.parent_id,c=o(f.default.table,u);r=c?m.compact(s.map(c.content,function(e){return o(f.default.table,e)})):i;var p=s.findIndex(r,function(e){return e.id===n.id}),h=s.slice(r,0,p),y=s.findLastIndex(h,function(e){return e.type!==d.default.numberedList});return{text:h.length-(y+1)+1+". "+t.titleText({block:n,getRecordValue:o,baseUrl:a,userTimeZone:l}),breakLines:!1,indentChildren:!0,children:M(e)}},code:function(e){var r=e.block,n=e.getRecordValue,o=e.baseUrl,a=e.userTimeZone,i=t.titleText({block:r,getRecordValue:n,baseUrl:o,userTimeZone:a});return{text:""+(i=s.map(I(i),function(e){return"    "+e}).join("\n")),breakLines:!0,indentChildren:!1,children:[]}},page:function(e){var r=e.block,n=e.getRecordValue,o=e.baseUrl,a=e.relativeSubpagePaths,i=e.userTimeZone,l=t.titleText({block:r,getRecordValue:n,baseUrl:o,userTimeZone:i});return a?{text:"["+l+"](./"+v.getBlockMarkdownPath(r)+")",breakLines:!0,indentChildren:!1,children:[]}:{text:"["+l+"]("+o+"/"+w.withoutDashes(r.id)+")",breakLines:!0,indentChildren:!1,children:[]}},image:function(e){var r=e.block,n=e.getRecordValue,o=e.baseUrl,a=e.userTimeZone,i=A(e);return{text:i.isFile?"!["+t.titleText({block:r,getRecordValue:n,baseUrl:o,userTimeZone:a})+"]("+i.path+")":"["+t.titleText({block:r,getRecordValue:n,baseUrl:o,userTimeZone:a})+"]("+i.path+")",breakLines:!0,indentChildren:!1,children:D(e)}},video:j,embed:j,bookmark:function(e){var r=e.block,n=e.getRecordValue,o=e.baseUrl,a=e.userTimeZone,i=_(r).link,l=y.toUrlValue(i);return{text:"["+t.titleText({block:r,getRecordValue:n,baseUrl:o,userTimeZone:a})+"]("+l+")",breakLines:!0,indentChildren:!1,children:D(e)}},file:j,tweet:j,maps:j,gist:j,framer:j,invision:j,drive:j,figma:j,loom:j,pdf:j,typeform:j,codepen:j,audio:j,divider:function(){return{text:"---",breakLines:!0,indentChildren:!1,children:[]}},equation:function(e){var t=e.block,r="";return t&&t.properties&&t.properties.title&&(r=p.getText(t.properties.title)),{text:"$$"+r+"$$",breakLines:!0,indentChildren:!1,children:[]}},collection_view:V,collection_view_page:V,column_list:L,column:L,factory:R,copy_indicator:R,breadcrumb:R,link_to_collection:R,link_to_page:R,table_of_contents:R},N=function(e){var t=e.block;if(t&&t.type){var r=F[t.type];if(r)return r(e)}};function U(e){var t,r,n,o,i,u,c,d,f=e.textValue,h=e.getRecordValue,m=e.baseUrl,y=e.userTimeZone,v="",b=p.getTokens(f),w=[];try{for(var S=a(b),_=S.next();!_.done;_=S.next()){var M=_.value,I=p.getTokenAnnotations(M),A=g.default(w,I,function(e,t){return s.isEqual(e,t)}),D=p.getTokenValue(M),L=I.map(function(e){return E({annotation:e,getRecordValue:h,baseUrl:m,userTimeZone:y})}).find(function(e){return Boolean(e)})||D,R=x(v);v=T(v),A.deleted.reverse();try{for(var B=a(A.deleted),j=B.next();!j.done;j=B.next()){var V=j.value;v+=C(V)}}catch(e){n={error:e}}finally{try{j&&!j.done&&(o=B.return)&&o.call(B)}finally{if(n)throw n.error}}v+=R,v+=P(L);try{for(var F=a(A.created),N=F.next();!N.done;N=F.next()){V=N.value;v+=k(V)}}catch(e){i={error:e}}finally{try{N&&!N.done&&(u=F.return)&&u.call(F)}finally{if(i)throw i.error}}v+=O(L);var U=s.intersectionWith(w,I,function(e,t){return s.isEqual(e,t)});w=l(U,A.created)}}catch(e){t={error:e}}finally{try{_&&!_.done&&(r=S.return)&&r.call(S)}finally{if(t)throw t.error}}var W=x(v);v=T(v),w.reverse();try{for(var z=a(w),H=z.next();!H.done;H=z.next()){V=H.value;v+=C(V)}}catch(e){c={error:e}}finally{try{H&&!H.done&&(d=z.return)&&d.call(z)}finally{if(c)throw c.error}}return v+=W}function W(e){var t,r,n=(new c).match(e)||[];if(0===n.length)return e;var o="",i=0;try{for(var l=a(n),s=l.next();!s.done;s=l.next()){var u=s.value,d=0===u.index||"<"!==e[u.index-1],p=u.lastIndex===e.length||">"!==e[u.lastIndex],f=Boolean(e.slice(u.index).match(/^[a-z][a-z]+:/i)),h=d&&p&&f;o+=e.slice(i,u.index),h&&(o+="<"),o+=u.raw,h&&(o+=">"),i=u.lastIndex}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return o+=e.slice(i)}function z(e){return e.replace(/\\/g,"\\\\")}t.renderBlocksToMarkdown=function(e){var t=e.blocks,r=e.rootBlockId,n=e.getRecordValue,o=e.relativeSubpagePaths,i=e.baseUrl,l=e.secureFileS3Url,u=e.exportedFilePaths,c=e.userTimeZone;return function e(t){var r,n,o="";try{for(var i=a(t),l=i.next();!l.done;l=i.next()){var u=l.value;u.breakLines&&(o+="\n"),u.text&&(o+=u.text+"\n"),u.breakLines&&(o+="\n");var c=e(u.children);u.indentChildren&&(c=s.map(I(c),function(e){return e?"    "+e:""}).join("\n")),o+=""+c}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o=o.replace(/[\n]{3,}/g,"\n\n")}(m.compact(t.map(function(e){return N({block:e,rootBlockId:r,getRecordValue:n,rootBlocks:t,depth:0,relativeSubpagePaths:o,exportedFilePaths:u,baseUrl:i,secureFileS3Url:l,userTimeZone:c})}))).trim()},t.renderTextValueToMarkdown=U,t.normalizeLinkText=function(e){return new u({linkify:!0}).normalizeLinkText(e)},t.markdownToHtml=function(e){return new u({linkify:!0}).render(z(W(e)))},t.markdownToInlineHtml=function(e){return new u({linkify:!0}).renderInline(z(W(e)))}},p6dh:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldEmit=!1,t}return o(t,e),t.prototype.getInitialState=function(){return{subscribedRecords:{}}},t}(r("LEzx").default);t.default=new a},p9C0:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("NCLm"),i=r("bPtJ"),l=function(e){function t(t,r){return e.call(this,a.default.table,t,[],r)||this}return o(t,e),t.createChildStore=function(e,r){var n=i.default.getChildStoreKey(a.default.table,r,t.keyName),o=e.getRecordStoreChildStore(n),l=o||new t(r,e.recordCacheStore);return o||l.setRecordStoreParent(e,n),l},t.prototype.getSettingsStore=function(){return i.createRecordKeyStore(this,a.default.table,this.id,"settings")},t.prototype.getSettings=function(){var e=this.getValue();return e&&e.settings?e.settings:{}},t.keyName="UserSettingsStore",t}(i.default);t.default=l},p9gS:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("LvDl"),u=r("q1tI"),c=r("wpmu"),d=r("bjn0"),p=r("bPtJ"),f=r("tvfY"),h=r("G4cA"),m=r("udrG"),y=r("kaWB"),g=r("bmSz"),v=r("5/h/"),b=r("7L5k"),w=r("nFzZ"),S=r("y6Dp"),_=r("LNOE"),k=r("qE2X"),C=r("MBf9"),E=r("AvkE"),P=r("VpIZ"),x=r("IzPW"),T=r("hbKx"),O=r("AXh+"),M=r("cBa6"),I=r("w4GY"),A=r("6d3V"),D=r("HnKe"),L=r("IdSf"),R=r("zEGb"),B=r("tC8O"),j=r("mF3+"),V=r("Oy36"),F=r("OxuQ"),N=r("bxQm"),U=r("t+pW"),W=r("EKpD"),z=r("Sb6f"),H=r("zmp8"),q=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderBlockEdit=function(e,n,o){var i=o.length-1===n,s=r.getRecordValue("block",e.block_id),u=s?P.getRecordUrl({table:"block",value:s,getRecordValue:r.getRecordValue}):"/",c=a({},t.editButtonStyle,{marginBottom:i?12:0});return"block-deleted"===e.type?e.block_data.block_value.type===m.default.page?l.createElement(L.default,{key:n,href:u,onClick:function(){return r.track("block_edit")},innerStyle:c},l.createElement(A.default,{edit:e,rootStore:r.props.rootStore})):l.createElement("div",{key:n,style:c},l.createElement(A.default,{edit:e,rootStore:r.props.rootStore})):l.createElement(L.default,{key:n,href:u,onClick:function(){return r.track("block_edit")},innerStyle:c},l.createElement(A.default,{edit:e,rootStore:r.props.rootStore}))},r.getRecordValue=function(e,t){return p.createRecordStore(r.props.rootStore,e,t).getValue()},r.getUserValue=function(e){return f.default.createChildStore(r.props.rootStore,e).getValue()},r.getSpaceValue=function(e){return h.default.createChildStore(r.props.rootStore,e).getValue()},r}return o(t,e),t.prototype.willMountOrUpdate=function(){this.warmCommentData()},t.prototype.warmCommentData=function(){var e,t;if("commented"===this.props.activity.type){var r=p.createRecordStore(this.props.rootStore,g.default.table,this.props.activity.discussion_id).getValue();if(r){var n=r.comments||[];try{for(var o=i(n),a=o.next();!a.done;a=o.next()){var l=a.value,s=p.createRecordStore(this.props.rootStore,y.default.table,l).getValue();if(s)p.createRecordStore(this.props.rootStore,v.default.table,s.created_by).getValue()}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}}},t.prototype.renderComponent=function(){var e=this.props.activity;switch(e.type){case"block-edited":return this.renderBlockEditActivity(e);case"collection-row-created":case"collection-row-deleted":return this.renderCollectionRowActivity(e);case"top-level-block-created":case"top-level-block-deleted":return this.renderTopLevelBlockActivity(e);case"permissions-edited":return this.renderPermissionsActivity(e);case"permission-group-edited":return this.renderPermissionGroupActivity(e);case"user-mentioned":return this.renderMentionActivity(e);case"commented":return this.renderCommentActivity(e);case"user-invited":return this.renderUserInvitedActivity(e);case"collection-edited":return this.renderCollectionEdited(e);case"collection-view-edited":return this.renderCollectionViewEdited(e);case"collection-property-edited":return this.renderCollectionPropertyEdited(e);case"reminder":return this.renderReminderActivity(e);case"page-locked":case"page-unlocked":return this.renderPageLockActivity(e);case"email-edited":return this.renderEmailEdited(e)}},t.prototype.renderBlockEditActivity=function(e){if(e.edits){var t=b.prepareEditsForDisplay(e.edits),r=this.getBlockValue(t[0].navigable_block_id);if(r){var n=this.getAuthors(t);return l.createElement(I.default,{timestamp:parseInt(e.end_time),header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:n})," edited ",this.renderTitle("block",r)),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(r.id,"block"),rootStore:this.props.rootStore,navigableBlockId:r.id,unread:this.props.unread,unvisited:this.props.unvisited,icon:l.createElement(I.AuthorIcon,{authors:n}),showSnapshotButton:this.props.isTopbarUpdatesMenu},l.createElement(W.default,{visible:5,items:t.map(this.renderBlockEdit)}))}}},t.prototype.renderCollectionRowActivity=function(e){if(e.edits){var t=e.edits[0],r=this.getBlockValue(e.collection_row_id);if(r&&r.properties){var n="collection-row-created"===t.type?" created ":" deleted ",o=this.getAuthors(e.edits);return l.createElement(I.default,{timestamp:parseInt(e.end_time),header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:o}),n,this.renderTitle("block",r)),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(r.id,"block"),rootStore:this.props.rootStore,navigableBlockId:r.id,unread:this.props.unread,unvisited:this.props.unvisited,icon:l.createElement(I.AuthorIcon,{authors:o}),showSnapshotButton:this.props.isTopbarUpdatesMenu})}}},t.prototype.renderTopLevelBlockActivity=function(e){if(e.edits){var t=e.edits[0],r=this.getBlockValue(e.top_level_block_id);if(r){var n=P.hasSpacePermission(r)?" workspace":" private",o="top-level-block-created"===t.type?" created":" deleted",a=this.getAuthors(e.edits);return l.createElement(I.default,{timestamp:parseInt(e.end_time),header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:a}),o,n," page ",this.renderTitle("block",r)),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(r.id,"block"),rootStore:this.props.rootStore,unread:this.props.unread,unvisited:!1,icon:l.createElement(I.AuthorIcon,{authors:a}),showSnapshotButton:!1})}}},t.prototype.renderPermissionsActivity=function(e){var r=this;if(e.edits){var n,o,i=b.prepareEditsForDisplay(e.edits),u=i[0];if(u.navigable_block_id){var c=this.getBlockValue(u.navigable_block_id);if(!c)return;o=this.renderTitle("block",c),n=this.getIsRecordPrivateToUser(c.id,"block")}else{var d=this.getSpaceValue(u.space_id);if(!d)return;o=this.renderTitle("space",d),n=this.getIsRecordPrivateToUser(u.space_id,"space")}var p=s.groupBy(i,E.isAutojoinPermissionEdit),f=p.true||[],h=p.false||[],m=[];if(f.forEach(function(e,t){var a=r.getAuthors([e]);m.push(l.createElement(I.default,{key:"autojoin-"+t,timestamp:e.timestamp,header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:a})," joined ",o),isLast:r.props.isLast,isPrivate:n,rootStore:r.props.rootStore,navigableBlockId:e.navigable_block_id,unread:r.props.unread,unvisited:!!e.navigable_block_id&&r.props.unvisited,icon:l.createElement(I.AuthorIcon,{authors:a}),showSnapshotButton:!1}))}),h.length>0){var y=this.getAuthors(h);m.push(l.createElement(I.default,{key:"others",timestamp:parseInt(e.end_time),header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:y})," updated permission for ",o),isLast:this.props.isLast,isPrivate:n,rootStore:this.props.rootStore,navigableBlockId:u.navigable_block_id,unread:this.props.unread,unvisited:!!u.navigable_block_id&&this.props.unvisited,icon:l.createElement(I.AuthorIcon,{authors:y}),showSnapshotButton:!1},h.map(function(e,n,o){var i=o.length-1===n;return l.createElement("div",{key:n,style:a({},t.editButtonStyle,{marginBottom:i?12:0})},l.createElement(A.default,{key:n,edit:e,rootStore:r.props.rootStore}))})))}return m}},t.prototype.renderPermissionGroupActivity=function(e){var r=this;if(e.edits){var n=b.prepareEditsForDisplay(e.edits)[0];if(n){var o=this.getSpaceValue(n.space_id);if(o){var i=P.getRecordUrl({table:"space",value:o,getRecordValue:this.getRecordValue}),s=this.renderPermissionGroupTitle(B.getPermissionGroupFromActivity({activity:e,getRecordValue:this.getRecordValue}),e.space_id),u=B.renderPermissionGroupEditedVerb({activity:e}),c=this.getAuthors(e.edits);return l.createElement(I.default,{timestamp:parseInt(e.end_time),header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:c})," "+u+" "," group ",l.createElement("span",{style:t.boldStyle},s)),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(e.space_id,"space"),rootStore:this.props.rootStore,unread:this.props.unread,unvisited:this.props.unvisited,icon:l.createElement(I.AuthorIcon,{authors:c}),showSnapshotButton:!1},l.createElement(L.default,{href:i,onClick:function(){return r.track("group_edit")},innerStyle:a({},t.editButtonStyle,{marginBottom:12})},l.createElement(A.default,{edit:n,rootStore:this.props.rootStore})))}}}},t.prototype.renderMentionActivity=function(e){var r=this;if(e.edits){var n=e.edits[0],o=this.getBlockValue(n.navigable_block_id);if(o){var i=this.getBlockValue(e.mentioned_block_id);if(i){var s=P.getRecordUrl({table:"block",value:i,getRecordValue:this.getRecordValue}),u=this.getAuthors(e.edits);return l.createElement(I.default,{timestamp:parseInt(e.end_time),header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:u})," mentioned you in ",this.renderTitle("block",o)),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(o.id,"block"),rootStore:this.props.rootStore,navigableBlockId:o.id,unread:this.props.unread,unvisited:this.props.unvisited,icon:l.createElement(I.AuthorIcon,{authors:u}),showSnapshotButton:!1},l.createElement(L.default,{href:s,onClick:function(){return r.track("mention_edit")},innerStyle:a({},t.editButtonStyle,{marginBottom:12})},l.createElement(A.default,{edit:n,rootStore:this.props.rootStore})))}}}},t.prototype.renderCommentActivity=function(e){var r=this;if(e.edits){var n=p.createRecordStore(this.props.rootStore,g.default.table,e.discussion_id),o=n.getValue();if(o){var i=c.default.createChildStore(this.props.rootStore,o.parent_id),s=T.getPathStores(i),u=T.pathIsAlive(s),d=i.getValue();if(d){var f=this.getBlockValue(e.navigable_block_id);if(f){var h=u?P.getRecordUrl({table:"block",value:d,getRecordValue:this.getRecordValue,discussionId:e.discussion_id}):void 0,m=this.getAuthors(e.edits),y=function(e){if(r.track("comment_edit"),!u){var t=e.target;k.openReplyDiscussionMenu({discussionStore:n,rect:t.getBoundingClientRect(),blockStore:i})}};return l.createElement(I.default,{timestamp:parseInt(e.end_time),header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:m})," commented in ",this.renderTitle("block",f)),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(e.navigable_block_id,"block"),rootStore:this.props.rootStore,navigableBlockId:e.navigable_block_id,unread:this.props.unread,unvisited:this.props.unvisited,icon:l.createElement(I.AuthorIcon,{authors:m}),showSnapshotButton:!1},this.renderCommentContext({activity:e,url:h,onClick:y}),l.createElement(W.default,{visible:5,items:e.edits.map(function(e,n,o){var i=o.length-1===n;return l.createElement(L.default,{key:n,onClick:y,href:h,innerStyle:a({},t.editButtonStyle,{marginBottom:i?12:0})},l.createElement(A.default,{edit:e,rootStore:r.props.rootStore}))})}),this.renderCommentActions(e,u))}}}}},t.prototype.renderCommentContext=function(e){var r=e.activity,n=e.url,o=e.onClick,i=this.getRecordValue(g.default.table,r.discussion_id);if(i&&i.context){var s=M.filterAnnotations(i.context,function(e){return!M.isDiscussionAnnotation(e)||M.getDiscussionAnnotationData(e)===i.id}),u=0===M.getDiscussionIds(s).length,c=x.renderText({textValue:s,parentStore:this.props.rootStore,disableStyleAnnotations:!1,disabled:!0,highlightDiscussionId:i.id,theme:this.theme});return l.createElement(L.default,{href:n,onClick:o,innerStyle:a({},t.editButtonStyle,{display:"flex",alignItems:"flex-start",fontSize:14},u&&{color:this.theme.mediumTextColor},{paddingTop:2,paddingBottom:6,marginBottom:0})},u&&l.createElement("div",{style:{flexShrink:0,alignSelf:"center",width:3,borderRadius:3,marginLeft:2,marginRight:8,height:20,background:H.commentContextBarBackground}}),l.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},c))}},t.prototype.renderCommentActions=function(e,t){var r=this.getRecordValue(g.default.table,e.discussion_id);if(r){var n=p.createRecordStore(this.props.rootStore,g.default.table,r.id),o=c.default.createChildStore(this.props.rootStore,r.parent_id);return l.createElement("div",{style:{paddingLeft:52,marginBottom:12}},l.createElement(N.default,{style:{marginLeft:-5},onClick:function(e){var t=e.target;k.openReplyDiscussionMenu({discussionStore:n,rect:t.getBoundingClientRect(),blockStore:o})}},"Reply"),t&&l.createElement(u.Fragment,null,l.createElement(D.default,null),r.resolved?l.createElement(N.default,{onClick:function(){C.createAndCommit(function(e){_.reopenDiscussion({discussionStore:n,transaction:e,discussionLocation:"updates_menu"})})}},"Re-open"):l.createElement(N.default,{onClick:function(){C.createAndCommit(function(e){_.resolveDiscussion({discussionStore:n,transaction:e,discussionLocation:"updates_menu"})})}},"Resolve")))}},t.prototype.renderUserInvitedActivity=function(e){if(e.edits){var t,r,n,o=e.edits[0];if(o.navigable_block_id){var a=this.getBlockValue(o.navigable_block_id);if(!a)return;t=this.renderTitle("block",a),r=" invited you to ",n=this.getIsRecordPrivateToUser(a.id,"block")}else if(o.permission_group_id){var i=B.getPermissionGroup({spaceId:o.space_id,permissionGroupId:o.permission_group_id,getRecordValue:this.getRecordValue});t=this.renderPermissionGroupTitle(i,o.space_id),r=" added you to group ",n=this.getIsRecordPrivateToUser(o.space_id,"space")}else{var s=this.getSpaceValue(o.space_id);if(!s)return;t=this.renderTitle("space",s),r=" invited you to ",n=this.getIsRecordPrivateToUser(o.space_id,"space")}var u=this.getAuthors(e.edits);return l.createElement(I.default,{timestamp:parseInt(e.end_time),header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:u}),r,t),isLast:this.props.isLast,isPrivate:n,rootStore:this.props.rootStore,navigableBlockId:e.navigable_block_id,unread:this.props.unread,unvisited:!!o.navigable_block_id&&this.props.unvisited,icon:l.createElement(I.AuthorIcon,{authors:u}),showSnapshotButton:!1})}},t.prototype.renderCollectionEdited=function(e){if(e.edits){var t=this.getRecordValue("collection",e.collection_id);if(t){var r=e.edits[0];if(r){var n="collection-created"===r.type?"created":"edited",o=this.getAuthors(e.edits);return l.createElement(I.default,{timestamp:parseInt(e.end_time),header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:o})," "+n+" ",this.renderTitle("collection",t)),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(e.collection_id,"collection"),rootStore:this.props.rootStore,navigableBlockId:e.navigable_block_id,unread:this.props.unread,unvisited:this.props.unvisited,icon:l.createElement(I.AuthorIcon,{authors:o}),showSnapshotButton:this.props.isTopbarUpdatesMenu})}}}},t.prototype.renderCollectionViewEdited=function(e){if(e.edits){var t=this.getRecordValue("collection",e.collection_id);if(t){var r=this.getRecordValue("collection_view",e.collection_view_id);if(r){var n=b.prepareEditsForDisplay(e.edits)[0];if(n){var o="collection-view-created"===n.type?"created":"collection-view-deleted"===n.type?"deleted":"edited",a=this.getAuthors(e.edits);return l.createElement(I.default,{timestamp:parseInt(e.end_time),header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:a})," "+o+" view ",this.renderCollectionViewTitle(r)," in ",this.renderTitle("collection",t)),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(e.collection_id,"collection"),rootStore:this.props.rootStore,navigableBlockId:e.navigable_block_id,unread:this.props.unread,unvisited:this.props.unvisited,icon:l.createElement(I.AuthorIcon,{authors:a}),showSnapshotButton:this.props.isTopbarUpdatesMenu})}}}}},t.prototype.renderCollectionPropertyEdited=function(e){if(e.edits){var t=b.prepareEditsForDisplay(e.edits)[0];if(t){var r=this.getRecordValue("collection",e.collection_id);if(r){var n="collection-property-changed"===t.type?t.collection_property_data.after:t.collection_property_data,o="collection-property-created"===t.type?"created":"collection-property-deleted"===t.type?"deleted":"edited",a=this.getAuthors(e.edits);return l.createElement(I.default,{timestamp:parseInt(e.end_time),header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:a})," "+o+" property ",this.renderCollectionPropertyTitle(n)," in ",this.renderTitle("collection",r)),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(e.collection_id,"collection"),rootStore:this.props.rootStore,navigableBlockId:e.navigable_block_id,unread:this.props.unread,unvisited:this.props.unvisited,icon:l.createElement(I.AuthorIcon,{authors:a}),showSnapshotButton:this.props.isTopbarUpdatesMenu})}}}},t.prototype.renderReminderActivity=function(e){var r=this;if(e.edits){var n=e.edits[0],o=this.getBlockValue(n.navigable_block_id);if(o){var i=this.getBlockValue(e.reminder_block_id);if(i){var s=P.getRecordUrl({table:"block",value:i,getRecordValue:this.getRecordValue});return l.createElement(I.default,{timestamp:parseInt(e.end_time),header:l.createElement("span",null,"Reminder in ",this.renderTitle("block",o)),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(o.id,"block"),rootStore:this.props.rootStore,navigableBlockId:o.id,unread:this.props.unread,unvisited:this.props.unvisited,icon:l.createElement(I.ReminderIcon,null),showSnapshotButton:!1},l.createElement(L.default,{href:s,onClick:function(){return r.track("reminder_edit")},innerStyle:a({},t.editButtonStyle,{marginBottom:12})},l.createElement(A.default,{edit:n,rootStore:this.props.rootStore})))}}}},t.prototype.renderPageLockActivity=function(e){if(e.edits){var t=e.edits[0],r=this.getBlockValue(t.navigable_block_id);if(r){var n=this.getAuthors(e.edits),o="page-locked"===e.type?"locked":"unlocked";return l.createElement(I.default,{timestamp:parseInt(e.end_time),header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:n})," "+o+" ",this.renderTitle("block",r)),isPrivate:this.getIsRecordPrivateToUser(r.id,"block"),isLast:this.props.isLast,rootStore:this.props.rootStore,navigableBlockId:r.id,unread:this.props.unread,unvisited:this.props.unvisited,icon:l.createElement(I.AuthorIcon,{authors:n}),showSnapshotButton:!1})}}},t.prototype.renderEmailEdited=function(e){if(e.edits){var t=e.edits[0];if(t){var r=this.getAuthors(e.edits);return l.createElement(I.default,{timestamp:parseInt(e.end_time),header:l.createElement("span",null,l.createElement(I.AuthorPhrase,{authors:r})," changed email from"," ",t.old_email," to ",t.new_email),isLast:this.props.isLast,isPrivate:!1,rootStore:this.props.rootStore,unread:!1,unvisited:!1,icon:l.createElement(I.AuthorIcon,{authors:r}),showSnapshotButton:!1})}}},t.prototype.renderCollectionPropertyTitle=function(e){return l.createElement("span",{style:a({},t.boldStyle,{whiteSpace:"nowrap"})},l.createElement(R.default,{type:e.type,size:12,style:t.svgIconStyle,theme:this.theme,isDark:!0})," ",e.name)},t.prototype.renderCollectionViewTitle=function(e){var r=this,n=P.getCollectionViewUrl({collectionView:e,getRecordValue:this.getRecordValue});return l.createElement(L.default,{href:n,onClick:function(){return r.track("click_title")},external:!1,innerStyle:a({},t.pageLinkStyle,t.boldStyle),inline:!0},this.renderCollectionViewTypeIcon(e.type)," ",e.name||"Untitled")},t.prototype.renderCollectionViewTypeIcon=function(e){var r=t.svgIconStyle;return"table"===e?j.default.collectionTable(r):"board"===e?j.default.collectionBoard(r):"calendar"===e?j.default.collectionCalendar(r):"list"===e?j.default.collectionList(r):"gallery"===e?j.default.collectionGallery(r):void 0},t.prototype.getStore=function(e,t){return"collection"===e?d.default.createChildStore(this.props.rootStore,t):"space"===e?h.default.createChildStore(this.props.rootStore,t):c.default.createChildStore(this.props.rootStore,t)},t.prototype.renderTitle=function(e,r){var n=this,o=this.getStore(e,r.id),i=P.getRecordIcon({table:e,value:r,getRecordValue:this.getRecordValue}),s=P.getRecordUrl({table:e,value:r,getRecordValue:this.getRecordValue});return l.createElement(L.default,{href:s,onClick:function(){return n.track("click_title")},external:!1,innerStyle:t.pageLinkStyle,inline:!0},i&&l.createElement(V.default,{disabled:!0,icon:i,isEmptyPage:!1,size:18,style:t.recordIconStyle}),l.createElement(F.default,{store:o,style:a({display:"inline",whiteSpace:"normal",marginRight:Boolean(i)?3:0,wordBreak:"break-word"},t.boldStyle)}))},t.prototype.renderPermissionGroupTitle=function(e,r){var n,o;return e?(n=e.icon,o=e.name||"Untitled Group"):o="Deleted Group",l.createElement("span",null,n&&l.createElement(V.default,{disabled:!0,icon:{icon:n,table:"space",id:r},isEmptyPage:!1,size:18,style:t.recordIconStyle}),l.createElement("span",{style:a({display:"inline",whiteSpace:"normal",marginRight:Boolean(n)?3:0,wordBreak:"break-word"},t.boldStyle)},o))},t.prototype.getBlockValue=function(e){return c.default.createChildStore(this.props.rootStore,e).getValue()},t.prototype.getAuthors=function(e){var t=s.uniq(s.flatten(e.map(function(e){return e.user_ids||[]})));return w.compact(t.map(this.getUserValue))},t.prototype.track=function(e){S.trackActivityAction(this.props.analyticsContext,{target:e,type:E.getAnalyticsTagForActivity(this.props.activity)})},t.prototype.getIsRecordPrivateToUser=function(e,t){if("all_updates"===this.props.source){if(!e)return!1;var r=void 0;return r="block"===t?c.default.createChildStore(this.props.rootStore,e):"collection"===t?d.default.createChildStore(this.props.rootStore,e):h.default.createChildStore(this.props.rootStore,e),O.isRecordPrivateToUser(r)}return!1},t.canSelectStyle={userSelect:"text",WebkitUserSelect:"text"},t.boldStyle={fontWeight:z.default.fontWeight.semibold},t.pageLinkStyle=a({padding:1},t.canSelectStyle),t.recordIconStyle={display:"inline-flex",marginRight:2,verticalAlign:"text-top"},t.svgIconStyle={width:12,height:12,display:"inline",verticalAlign:"middle",marginBottom:2,marginLeft:2},t.editButtonStyle=a({padding:0,paddingLeft:52,paddingRight:16},t.canSelectStyle),t}(U.default);t.default=q},pAJP:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("7M94"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("div",{className:l.analyticsScrollPoint,id:this.props.name})},t}(i.default);t.default=s},pQrc:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e){var t=e.split("@",2);if(2===t.length)return t[1]}}},pSmD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isOpen:!1}},t}(r("LEzx").default);t.default=a},pWI8:function(e,t){},pl8j:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},pqiZ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.className,r=e.onClick;return i.createElement("div",{style:this.getStyle(),className:t,onClick:r},i.createElement("div",{style:this.getInnerStyle()}))},t.prototype.getStyle=function(){var e=this.props,t=e.size,r=e.style,n=e.vertical;return a({display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",width:n?t:"100%",height:n?"100%":t,flexGrow:0,flexShrink:0,flexBasis:"auto"},r)},t.prototype.getInnerStyle=function(){var e=this.props,t=e.innerStyle,r=e.isHidden,n=e.vertical;return a({width:n?1:"100%",height:n?"100%":1,visibility:r?"hidden":"visible",borderBottom:"1px solid "+this.theme.regularDividerColor},t)},t}(r("t+pW").default);t.default=l},prF1:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("17x9"),s=r("S26v"),u=r("H4VD"),c=r("wldR"),d=r("r8oj"),p=r("zmp8"),f=r("A9TN"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var r=t.props,n=r.disabled,o=r.external,a=r.onClick,i=t.prepareUrl(t.props.href),l=t.prepareUrl(t.props.metaHref),s=e.metaKey||e.ctrlKey;e.shiftKey?e.preventDefault():!d.default.isElectron&&s||(i&&!n&&(o?(e.preventDefault(),u.navigateToExternalURL({url:l||i})):t.context.overrideLinkClick?t.context.overrideLinkClick(l||i):u.navigate({url:s?i:l||i,metaClick:s})),e.preventDefault(),a&&a(e))},t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement("a",{href:this.prepareUrl(this.props.href),target:this.props.external?"_blank":void 0,rel:"noopener noreferrer",style:this.getLinkStyle(),onClick:this.handleClick,className:this.props.className,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.children)},t.prototype.prepareUrl=function(e){var t=s.sanitizeUrl(e);return this.props.external&&t&&s.isRelativeUrl(t)?s.setBaseUrl({relativeUrl:t,baseUrl:f.default.baseURL}):t},t.prototype.getLinkStyle=function(){return a({display:"block",textDecoration:"none",userSelect:"none",WebkitUserSelect:"none",cursor:"pointer",color:p.default.inherit},this.props.style)},t.contextTypes={overrideLinkClick:l.any},t}(c.default);t.default=h},pxbK:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("STAJ"),i=r("wZee"),l=r("oRaq"),s=r("9OwC"),u=r("D2XV"),c=r("E5KU"),d=r("yZWr").create();d.import(r("LPs6")),d.import(r("78Py")),d.import(r("9TFD")),d.import(r("Poiv"));var p=a.mapObjIndexed(a.prop("value"),s.constants),f=a.mapObjIndexed(a.prop("apply"),s.operators),h=a.mapObjIndexed(a.prop("apply"),s.functions);d.import(p,{override:!0}),d.import(f,{override:!0}),d.import(h,{override:!0}),d.config({predictable:!0});var m=25;function y(e){var t=e.schema,r=e.property,n=e.block,a=e.getRecordValue,i=e.userTimeZone,s=e.depth,u=t[r];if(u&&"formula"===u.type&&u.formula){var d=u.formula;if(!(s>m))try{var p=l.formulaToFormulaValue({formula:d,schema:t,block:n,getRecordValue:a,userTimeZone:i,depth:s});return"number"==typeof p?o.round(p,12):p}catch(e){return void c.error(e)}}}t.stringToFormula=function(e,t,r){if(""!==(e=function(e){return e.replace(/\\n/g,"\n").replace(/\\t/g,"\t")}(e)).trim()){var n=null;try{n=d.parse(e)}catch(e){return{type:"error",message:e.message,size:1}}return l.nodeToFormula(n,t,r)}},t.formulaToString=function(e,t){return e?function(e){if(e){var t=e.toString({parenthesis:"auto",handler:function(e,t){if(e.isOperatorNode&&"not"===e.fn)return"not "+e.args[0].toString(t)}});return t.replace(/\n/g,"\\n").replace(/\t/g,"\\t")}return""}(l.formulaToNode(e,t)):""},t.formulaToSortValue=function(e){var t=e.schema[e.property].formula;if(t){var r=t.result_type,n=y(e);return"date"===r&&u.isPersistedDate(n)?u.getMomentRange(n,e.userTimeZone).start.valueOf():n}},t.evaluateFormula=y,t.escapeProperty=function(e){return JSON.stringify(e)},t.parseCompletions=function(e,t){var r=[],o=null,a=!1,i=!1,l=function(e){return null!==o&&r.push([o,e])&&(o=null)};return e.split("").forEach(function(e,t){var r;"\\"===e?(i=!i,l(t)):'"'===e?(a=i?a:!a,i=!1,l(t)):(r=e,g.test(r)?(a||i||null!==o||(o=t),i=!1):l(t))}),l(e.length),r.find(function(e){var r=n(e,2),o=r[0],a=r[1];return t>=o&&t<=a})};var g=/^[a-zA-Z][a-zA-Z0-9]*$/;var v={string:{pattern:/"(?:\\\\|\\"|[^\\"])*?"/,greedy:!0},operator:/[-+%^\*\/]|[!=]=|<=?|>=?|\b(?:or|and|not)\b/,number:/\b[0-9]+(\.[0-9]+)?\b/,boolean:/\b(?:true|false)\b/};t.highlightFormulaText=function(e){return i.highlight(e,v)}},q0nT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=document.documentElement;return{left:0,top:0,right:e.clientWidth,bottom:e.clientHeight,width:e.clientWidth,height:e.clientHeight}}},q2qQ:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var l=r("LvDl"),s=r("wpmu"),u=r("y6Dp"),c=r("qpkC"),d=r("jZoB"),p=r("6rsX"),f=r("nM47"),h=r("unoy"),m=r("Mf5Y"),y=r("MBf9"),g=r("X6Ne"),v=r("ICWk"),b=r("XfKI"),w=r("bkwR"),S=r("H4VD"),_=r("VBxf"),k=r("T1kp"),C=r("nFzZ"),E=r("RvCr"),P=r("bjn0"),x=r("hvW1"),T=r("sQnJ"),O=r("D2XV"),M=r("7TLZ"),I=r("mego"),A=r("sjR4"),D=r("AmMh"),L=r("3k5a"),R=r("w5u6"),B=r("HTHG"),j=r("q2qQ");t.remove=function(e){var t=e.store,r=e.transaction,n=t.recordStoreParent();if(n)if("block"===n.table||"space"===n.table)d.remove({parent:n,remove:t,transaction:r});else if("collection"===n.table){var o=P.default.createChildStore(t,n.id);E.remove({collectionStore:o,store:t,transaction:r})}return t},t.removeSelectionIfEmptyText=function(e){var r=e.blocks,n=e.transaction;if(1===r.length){var o=r[0];o&&M.isEmptyTextBlock(o)&&t.remove({store:o,transaction:n})}},t.removeBlocks=function(e){var r,n,o=e.blocks,i=e.transaction,s=function(e){var t=D.default.getSortedComponents(),r=l.findIndex(t,function(t){return t.props.store===e}),n=t[r];if(n){var o=n.getContextSelectableContainer(),a=l.slice(t,0,r),i=l.findLast(a,function(e){return e.props.canSelect&&e.getContextSelectableContainer()===o});if(i)return i.props.store;var s=l.slice(t,r+1).find(function(e){return Boolean(e.props.canSelect&&e.getContextSelectableContainer()===o)});return s?s.props.store:void 0}}(o[0]);try{for(var u=a(o),c=u.next();!c.done;c=u.next()){var d=c.value;t.remove({store:d,transaction:i})}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}p.clear(),p.setPivot({pivot:s}),(b.blocksAreOutlinerTopLevel({blocks:o})||b.isPeekPage({blocks:o})||b.isCurrentPage({blocks:o}))&&(w.deleteBlocks({blockIds:o.map(function(e){return e.id}),permanentlyDelete:!1}),S.navigateAwayIfCurrentPage({blocks:o})),h.clear()},t.insertBlocksAfterSelection=function(e){var t=e.selection,r=e.transaction,n=e.blocks,o=B.getCurrentRootStore();if(!o)throw new Error("No root store.");if(t.length>0){var a=l.last(t),i=D.default.findComponent(function(e){return e.props.store===a&&e.props.canInsertAfter&&e.props.onInsertAfter}),s=void 0;if(i&&i.props.onInsertAfter)s=C.compact(i.props.onInsertAfter({insertStores:n,transaction:r}));else s=l.clone(n).reverse().map(function(e){return d.prepend({parent:o.getContentStore(),prepend:e,transaction:r}).child});return p.setSelection({stores:s}),s}s=void 0;if(o.isCollectionView()){var u=L.default.findBlockFromStoreWithMethod(o,"insertBlocks");if(!u)throw new Error("No collection view found.");s=u.insertBlocks(n,r)}else{var c=o.getContentStore();s=n.map(function(e){return d.append({parent:c,append:e,transaction:r}).child})}return p.setSelection({stores:s}),s},t.insertBlocksBeforeSelection=function(e){var t=e.selection,r=e.transaction,n=e.blocks,o=B.getCurrentRootStore();if(!o)throw new Error("No root store.");if(t.length>0){var a=t[0],i=D.default.findComponent(function(e){return e.props.store===a&&e.props.canInsertBefore&&e.props.onInsertBefore});if(!i||!i.props.onInsertBefore)throw new Error("No Selectable found.");var l=i.props.onInsertBefore({insertStores:n,transaction:r});return p.setSelection({stores:l}),l}var s=o.getContentStore(),u=n.map(function(e){return d.append({parent:s,append:e,transaction:r}).child});return p.setSelection({stores:u}),u},t.handleSelectionEnter=function(e){var t=e.blocks,r=(e.transaction,t[0]);if(r){var n=D.default.findSelectableFromStore(r);n&&n.props.onEnter&&n.props.onEnter(e)}},t.insertBlock=function(e){var r,n=e.createBlockItem,o=e.selection,a=e.transaction,i=e.analyticsFrom,l=A.default.getCurrentRecordCacheStore();if(f.validateCanCreate()&&n&&l){var s=m.createItem({createBlockItem:n,transaction:a,recordCacheStore:l,from:i});r=t.insertBlocksAfterSelection({blocks:[s],selection:o,transaction:a})[0]}return r},t.insertBlockAndEdit=function(e){var r=e.selection,n=e.transaction,o=t.insertBlock(e);o&&j.editCreated({insertedStores:[o],isCreated:!0}),t.removeSelectionIfEmptyText({transaction:n,blocks:r})},t.duplicateBlocks=function(e){var r=e.blocks,n=e.transaction,o=r.map(function(e){var t=i(c.duplicateBlock({store:e,addCopyName:!0,transaction:n}),2),r=t[0];return t[1].then(function(e){e&&_.showError({error:e})}),r});t.insertBlocksAfterSelection({blocks:o,selection:r,transaction:n})},t.fullScreen=function(e){var t=e.blocks[0];L.default;var r=L.default.findComponent(function(e){return e instanceof I.default&&e.props.store===t});r&&k.openFullscreen({renderFullScreenNode:r.renderFullScreenNode,fullScreenNodeRect:r.getFullScreenNodeRect()})},t.activate=function(e){var t;e.blocks.find(function(e){var r=L.default.findBlockFromStoreWithMethod(e,"activate");return!!r&&(t=r,!0)}),t&&t.activate()},t.configure=function(e){var t=e.blocks[0],r=L.default.findBlockFromStoreWithMethod(t,"configure");r&&(r.configure(),u.trackConfigureTemplateButton({from:"block_action"}))},t.caption=function(e){var t=e.blocks[0],r=L.default.findBlockFromStoreWithMethod(t,"caption");r&&r.caption()},t.selectBlocks=function(e){var t=C.compact(D.default.findSelectablesFromIds(e)).map(function(e){return e.props.store});p.setSelection({stores:t})},t.scrollToAndSelectBlocks=function(e){var t=C.compact(D.default.findSelectablesFromIds(e));t.length>0&&(g.scrollIntoView({component:t[0],revealTop:!0}),p.setSelection({stores:t.map(function(e){return e.props.store})}))},t.triggerCollectionViewBlockMethod=function(e){var t=e.blocks,r=e.method,n=t[0].findRecordStoreAncestor(function(e){return e instanceof s.default&&e.isCollectionView()}).ancestor;if(n){var o=L.default.findBlockFromStoreWithMethod(n,r);o&&o[r]()}},t.openCollectionAsPage=function(e){var t=e.blocks[0].findRecordStoreAncestor(function(e){return e instanceof s.default&&e.isCollectionView()}).ancestor;t&&S.navigateToBlock({store:t})},t.exportBlock=function(e){return n(this,void 0,void 0,function(){var t,r,n,a,i;return o(this,function(o){switch(o.label){case 0:return t=e.blocks,r=e.recursive,n=t[0],x.display({message:"Exporting"}),[4,w.exportBlock({blockId:n.id,recursive:r,timeZone:O.currentTimeZone}).next()];case 1:return(a=o.sent().value).error?(x.close(),_.showError({error:new Error("Export failed.")})):(i=a.value.exportURL,x.close(),u.trackExport({format:r?"all_markdown":"markdown"}),S.downloadUrl({url:i})),[2]}})})},t.insertTextBelow=function(e){var r=e.blocks,n=e.transaction,o=t.insertBlock({selection:r,createBlockItem:v.allCreateBlockItems.text,analyticsFrom:"text_insert_below",transaction:n});o&&(p.edit({store:o}),h.setSelectionAtStart({store:o.getBlockTitleStore()}),R.default.afterNextFlush(function(){T.activateForAddMenu({blockStore:o})}))},t.activateAddMenu=function(e){var r=e.store,n=D.default.findSelectableFromStore(r);M.isEmptyTextBlock(r)?(p.edit({store:r}),h.setSelectionAtStart({store:r.getBlockTitleStore()}),T.activateForAddMenu({blockStore:r})):n&&n.props.onInsertRowBelow?y.createAndCommit(function(e){n.props.onInsertRowBelow&&n.props.onInsertRowBelow({transaction:e})}):y.createAndCommit(function(e){t.insertTextBelow({blocks:[r],transaction:e})})},t.editCreated=function(e){var t=e.insertedStores;e.isCreated?R.default.afterNextFlush(function(){var e=t[0];if(e){var r=L.default.findBlockWithMethodFromStore(e,"handleCreated");r?r.handleCreated():(p.select({store:e}),p.editSelection())}}):p.setSelection({stores:t})}},q5TD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("naZa"),u=r("WgIs"),c=r("2Y+N"),d=r("Ma8p"),p=r("Na01"),f=r("8fuX"),h=r("Sb6f"),m=r("H4VD"),y=r("HSWF"),g=r("Cihu"),v=r("V9q8"),b=r("y6Dp"),w=r("zmp8"),S=r("4VgC"),_=r("qqdV"),k=r("MeYt"),C=r("2hVL"),E=r("enKW"),P=r("ikHm"),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){C.default.setState(a({},C.default.state,{activated:!0})),b.trackActivateFrontPageTemplate()},t.handleSignupClick=function(){var e=C.default.state.item;b.trackSignupWithFrontPageTemplateItem({name:e.name}),y.setFrontPageTemplate(e.rootId),m.navigate({url:_.signup})},t.handleMouseDown=function(e){v.closestNode(e.target,function(e){return e instanceof HTMLElement&&(e.classList.contains("notion-template-preview")||e.classList.contains("notion-overlay-container"))})||C.default.setState(a({},C.default.state,{activated:!1}))},t}return o(t,e),t.prototype.willMount=function(){window.addEventListener("mousedown",this.handleMouseDown)},t.prototype.willUnmount=function(){window.removeEventListener("mousedown",this.handleMouseDown)},t.prototype.renderComponent=function(){var e=C.default;return i.createElement("div",{style:t.style,className:"notion-template-preview",onMouseMove:function(){return e.setState(a({},e.state,{mouseEntered:!0}))},onMouseLeave:function(){return e.setState(a({},e.state,{mouseEntered:!1}))}},this.renderSidebar(e.state),this.renderPreview(e.state),this.renderCover(e.state),e.state.activated&&i.createElement(g.default,null))},t.prototype.renderCover=function(e){return i.createElement("div",{style:this.getCoverWrapStyle(e),onClick:this.handleClick},i.createElement("div",{style:t.coverStyle,onClick:this.handleClick},"Live Demo - Click to Play 👆"))},t.prototype.renderSidebar=function(e){var r=this;return i.createElement("div",{style:t.sidebarStyle},i.createElement(f.default,{style:t.sidebarScrollerStyle,type:f.OverflowType.Y},i.createElement(u.default,{disableKeyboard:!0,initialFocus:void 0,sections:e.sections.map(function(t){return{key:t.name,render:function(e){return i.createElement(c.default,a({},e,{title:i.createElement("div",{style:r.getSectionLabelStyle()},t.name)}))},items:t.items.map(function(t){return r.renderMenuListItem(e,t)})}})})))},t.prototype.renderMenuListItem=function(e,r){return{key:r.name,action:function(){C.default.setState(a({},C.default.state,{item:r})),b.trackClickFrontPageTemplateItem({name:r.name})},render:function(n){var o=e.item===r;return i.createElement(k.default,a({hovered:o},n),i.createElement(p.default,{style:{paddingLeft:18},isMobile:!1,left:i.createElement("div",{style:t.iconWrapStyle},i.createElement(d.default,{size:20,emoji:r.emoji}))},r.name))}}},t.prototype.renderPreview=function(e){return i.createElement(s.default,{key:e.item.previewRootId,previewRootId:e.item.previewRootId,style:t.previewStyle,isFrontPage:!0,topbarRightActionButton:i.createElement(S.default,{onClick:this.handleSignupClick},"Sign up with this Template")})},t.prototype.getCoverWrapStyle=function(e){return{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"100%",height:"100%",left:0,right:0,zIndex:P.frontPageTemplateCover,background:e.mouseEntered?"rgba(195, 133, 68, 0.07)":"rgba(195, 133, 68, 0.12)",border:"3px solid "+(e.activated?w.default.transparent:""+w.default.red),opacity:e.activated?0:1,cursor:"pointer",pointerEvents:e.activated?"none":"auto",transition:"opacity 300ms, background 200ms",borderRadius:t.borderRadius,color:w.default.white}},t.prototype.getSectionLabelStyle=function(){return{letterSpacing:"0.03em",textTransform:"uppercase",fontSize:11.5,fontWeight:h.default.fontWeight.semibold,lineHeight:1,marginBottom:1,marginLeft:6,marginTop:10,color:w.default.FrontPageTemplateSidebarLabelTextColor}},t.sidebarWidth=220,t.borderRadius=7,t.style={display:"flex",position:"relative",width:1320,maxWidth:"94vw",height:730,background:w.default.white,boxShadow:E.default.frontDeepShadow,borderRadius:7},t.coverStyle={fontSize:24,fontWeight:h.default.fontWeight.semibold,marginLeft:24,padding:"8px 24px",background:"rgba(0, 0, 0, 0.8)",borderRadius:24},t.sidebarStyle={width:t.sidebarWidth,color:w.default.FrontTemplateSidebarText,display:"flex",flexDirection:"column",borderTopLeftRadius:t.borderRadius,borderBottomLeftRadius:t.borderRadius,borderRight:"1px solid "+w.default.uiLightBorder},t.sidebarScrollerStyle={flexGrow:1,flexShrink:1,paddingBottom:36},t.previewStyle={width:"calc(100% - "+t.sidebarWidth+"px)",flexGrow:1,flexShrink:1,display:"flex",flexDirection:"column"},t.iconWrapStyle={color:w.default.black},t}(l.default);t.default=x},q8I6:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("GQP/"),u=r("unoy"),c=r("r8oj"),d=r("i3uR"),p=r("t+pW"),f=r("LeVO"),h=r("uSCg"),m=r("D8Ld"),y=r("yNyh"),g=r("TDb4"),v=r("y6Dp"),b=r("MeYt"),w=r("DNgp"),S=r("ieCD"),_=r("d9nj"),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleButtonPopupClick=function(e){s.openLinkAnnotationMenu(),v.trackRichTextMenuClick({action:"a"})},t.handleInputChange=function(e){var t=S.default.state;t.open&&S.default.setState(a({},t,{url:e.target.value}))},t.handleLinkClick=function(e){s.linkSelection()},t.handleUnlinkClick=function(e){s.unlinkSelection()},t.handleClose=function(){w.default.emit()},t}return o(t,e),t.prototype.didMount=function(){S.default.reset()},t.prototype.renderComponent=function(){var e=this,t=u.textSelectionHasAnnotationType("a");return i.createElement(d.default,{popupType:c.default.isReactNative||c.default.isCordova?d.default.PopupType.SlideUp:d.default.PopupType.Popup,renderOrigin:function(r){return i.createElement(f.default,{renderTooltip:function(){return i.createElement(l.Fragment,null,i.createElement("div",null,"Add Link"),i.createElement("div",null,i.createElement(g.default,{style:{color:e.theme.mediumInvertedTextColor},name:"openLinkMenu"})))},render:function(n){return i.createElement(b.default,a({style:a({display:"flex",alignItems:"center",borderRadius:0,paddingLeft:7,paddingRight:8},t&&{color:e.theme.blueColor},e.props.style),disabled:u.textSelectionContainsAnnotationType("u")||u.textSelectionContainsAnnotationType("p")},h.default(r,n)),e.props.children)}})},buttonPopupStore:S.default,onClick:this.handleButtonPopupClick,keepFocus:c.default.isMobile,onClose:this.handleClose,style:{width:480},render:function(){var t=S.default.state;if(t.open)return i.createElement(m.default,{capture:S.default.state.open,allowEsc:!0},i.createElement("div",{style:{display:"flex",alignItems:"center",padding:12}},i.createElement(y.default,{type:"url",style:{flexGrow:1,flexShrink:1,marginRight:8},onChange:e.handleInputChange,value:t.url,onSubmit:e.handleLinkClick,focus:S.default.state.open,placeholder:"Paste your link, such as http://nytimes.com..."}),i.createElement(_.default,{onClick:e.handleLinkClick},"Link"),i.createElement(_.default,{onClick:e.handleUnlinkClick},"Unlink")))}})},t}(p.default);t.default=k},"qC7/":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var c=r("q1tI"),d=r("wldR"),p=r("lUWv"),f=r("r8oj"),h=r("tvfY"),m=r("nFzZ"),y=r("hU3F"),g=r("gbGO"),v=r("W3at"),b=r("Pl3d"),w=r("WgIs"),S=r("2Y+N"),_=r("f0kS"),k=r("zTdN"),C=r("4HCU"),E=r("QcDD"),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputValue=new y.default(""),t.searchUsers=function(e){return i(t,void 0,void 0,function(){var t;return l(this,function(r){switch(r.label){case 0:return[4,C.searchUsers({query:e,membersOnly:!1})];case 1:return t=r.sent(),[2,m.compact(t.map(function(e){return e.userId}))]}})})},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t),t.insertChar&&this.inputValue.set(t.insertChar)},t.prototype.renderComponent=function(){var e=this,t=this.props.disabled,r=this.props.value.map(function(r){return c.createElement(p.default,{key:r,userId:r,format:f.default.isMobile?p.default.Format.Large:p.default.Format.Medium,showRemoveButton:!t,onClickRemove:function(){var t=e.props.value.filter(function(e){return e!==r});e.props.onChange({value:t})},shouldShrink:!0,isSingle:!1,parentStore:e.props.parentStore})}),n={request:{query:this.inputValue.get(),currentUserIds:this.props.value},performRequest:function(t){var r=t.query,n=t.currentUserIds;return i(e,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this.searchUsers(r)];case 1:return[2,e.sent().filter(function(e){return!n.some(function(t){return t===e})}).map(function(e){return{key:e,userId:e}})]}})})},render:function(t,r,n){if(t)return c.createElement(S.default,{title:"Select a person",loading:!n},c.createElement(k.default,{title:"Something went wrong."}));if(r&&0===r.length)return c.createElement(S.default,{title:"Select a person",loading:!n},c.createElement(k.default,{title:"No Results"}));var o=m.compact((r||[]).map(function(t){var r=E.default.state.currentBlockStore;if(r){var n=h.default.createChildStore(r,t.userId).getValue();if(n)return{key:t.userId,render:function(e){return c.createElement(_.default,a({},e,{user:n}))},action:function(){e.props.onChange({value:u(e.props.value,[t.userId])}),e.inputValue.set("")}}}}));return c.createElement(w.default,{initialFocus:e.inputValue.get().length>0?0:void 0,sections:[{key:"person section",render:function(e){return c.createElement(S.default,a({},e,{title:"Select a person",loading:!n}))},items:o}]})}},o=this.props.schema[this.props.property];if(o){var s,d=c.createElement(v.default,{focus:!f.default.isMobile||void 0,focusAfterAnimation:!0,format:v.default.Format.Person,tokens:r,placeholder:"Search for a person...",disabled:t,onRemoveLastToken:function(){e.props.onChange({value:e.props.value.slice(0,e.props.value.length-1)})},value:this.inputValue.get(),onChange:function(t){return e.inputValue.set(t.target.value)},dontShowBorderBottom:f.default.isAndroid});return s=f.default.isMobile?{menuType:g.default.MenuType.Modal,title:o.name,right:"Done",onClickRight:this.props.onDismiss,header:d}:{menuType:g.default.MenuType.Popup,maxHeight:333,header:d},t?c.createElement(g.default,a({},s)):c.createElement(g.default,a({},s),c.createElement(b.default,a({},n)))}},t}(d.default);t.default=P},qDOf:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LEzx"),i=r("A9TN"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.verboseAnalytics=i.default.isAdminMode,t}return o(t,e),t.prototype.getInitialState=function(){return{isAmplitudeEnabled:!1,isIntercomEnabled:!1,intercomAppId:void 0,intercomUserHash:void 0,noIntercomUserId:!1,featureFlags:[]}},t.prototype.hasFeatureFlag=function(e){return this.state.featureFlags.includes(e)},t}(a.default);t.default=new l},qE2X:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this;Object.defineProperty(t,"__esModule",{value:!0});var i=r("r8oj"),l=r("6rsX"),s=r("Uc+B"),u=r("unoy"),c=r("y6Dp"),d=r("w5u6"),p=r("SYQx");t.openReplyDiscussionMenu=function(e){return n(a,void 0,void 0,function(){var t,r,n,a;return o(this,function(o){switch(o.label){case 0:return t=e.discussionStore,r=e.rect,n=e.blockStore,a=new s.default,p.default.setState({open:!0,rect:r,discussionStore:t,discussionInputStore:a,blockStore:n}),l.clear(),i.default.isMobile?[3,2]:[4,d.default.afterNextFlush()];case 1:o.sent(),u.setSelectionAtStart({store:a.state.textStore}),o.label=2;case 2:return c.trackOpenReplyDiscussionMenu(),[2]}})})},t.closeReplyDiscussionMenu=function(){var e=p.default.state;e.open&&(p.default.setState({open:!1,rect:e.rect}),l.clear())},t.closeReplyDiscussionMenuWhenEmpty=function(){var e=p.default.state;if(e.open){var r=e.discussionStore.getValue();r&&r.comments&&0!==r.comments.length||t.closeReplyDiscussionMenu()}}},qFEu:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r("q1tI"),s=r("wldR"),u=r("zmp8"),c=r("5Nka");!function(e){e[e.IPhone=0]="IPhone",e[e.Android=1]="Android"}(i||(i={}));var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return this.props.format===i.IPhone?this.renderIPhone():this.renderAndroid()},t.prototype.renderIPhone=function(){return l.createElement("div",{style:a({boxShadow:"0 12px 30px "+u.default.blackWithAlpha(.25),background:u.default.FrontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%"},this.props.style)},l.createElement("div",{style:{width:"100%",height:0,paddingBottom:"202.5%",backgroundImage:"url("+c.default.images.chromeMobilePng+")",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),l.createElement("div",{style:{position:"absolute",top:0,left:"6.66667%",width:"86.66666667%",marginTop:"24%"}},this.props.children))},t.prototype.renderAndroid=function(){return l.createElement("div",{style:a({boxShadow:"0 12px 30px "+u.default.blackWithAlpha(.25),background:u.default.FrontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%"},this.props.style)},l.createElement("div",{style:{width:"100%",height:0,paddingBottom:"205.73012939%",backgroundImage:"url("+c.default.images.chromeMobileAndroidPng+")",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),l.createElement("div",{style:{position:"absolute",top:0,left:"4.1589648799%",width:"91.5785582255%",marginTop:"20.60998152%"}},this.props.children))},t.Format=i,t}(s.default);t.default=d},qHvo:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LEzx");!function(e){e[e.Above=0]="Above",e[e.Below=1]="Below",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.Onto=4]="Onto"}(t.DroppableDirection||(t.DroppableDirection={}));var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isDragging:!1,isNativeDrag:!1,startX:0,startY:0,currentX:0,currentY:0,offsetX:0,offsetY:0,currentHintDropZones:[],draggedStores:[]}},t.prototype.draggedDelta=function(){var e=this.state,t=e.startX,r=e.startY;return{dx:e.currentX-t,dy:e.currentY-r}},t}(a.default);t.default=new i},qKs6:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("N34Z"),i=r("MBf9"),l=r("QcDD"),s=r("D2XV"),u=r("A9TN"),c=r("r8oj");t.updateUserSettingsOnInitialize=function(){return n(this,void 0,void 0,function(){var e,r,n;return o(this,function(o){switch(o.label){case 0:return!(e=l.default.state.userSettingsStore)||u.default.isAdminMode?[3,2]:[4,e.load()];case 1:o.sent(),(r=e.getSettings())&&(n={},s.currentLocale!==r.locale&&(n.locale=s.currentLocale),s.currentTimeZone!==r.time_zone&&(n.time_zone=s.currentTimeZone),c.default.isDesktopBrowser&&!r.used_desktop_web_app&&(n.used_desktop_web_app=!0),c.default.isMobileBrowser&&!r.used_mobile_web_app&&(n.used_mobile_web_app=!0),c.default.isElectron&&c.default.isMac&&!r.used_mac_app&&(n.used_mac_app=!0),c.default.isElectron&&c.default.isWindows&&!r.used_windows_app&&(n.used_windows_app=!0),c.default.isReactNative&&c.default.isIOS&&!r.used_ios_app&&(n.used_ios_app=!0),c.default.isReactNative&&c.default.isAndroid&&!r.used_android_app&&(n.used_android_app=!0),Object.keys(n).length>0&&i.createAndCommit(function(r){t.updateUserSettings({userSettingsStore:e,data:n,transaction:r})})),o.label=2;case 2:return[2]}})})},t.updateUserSettings=function(e){var t=e.userSettingsStore,r=e.data,n=e.transaction;a.updateValue({store:t.getSettingsStore(),data:r,transaction:n})},t.setStartWeekToMonday=function(){i.createAndCommit(function(e){var r=l.default.state.userSettingsStore;r&&t.updateUserSettings({userSettingsStore:r,data:{start_day_of_week:1},transaction:e})})},t.setStartWeekToSunday=function(){i.createAndCommit(function(e){var r=l.default.state.userSettingsStore;r&&t.updateUserSettings({userSettingsStore:r,data:{start_day_of_week:0},transaction:e})})}},qQqH:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI");t.default=function(e){return function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={loaded:!1},e}return o(r,t),r.prototype.componentDidMount=function(){var t=this;e.then(function(e){t.component=e.default,t.setState({loaded:!0})})},r.prototype.render=function(){if(!this.state.loaded)return null;var e=this.component;return i.createElement(e,a({},this.props))},r}(i.Component)}},qQvp:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("wldR"),u=r("Pl3d"),c=r("bkwR"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this,t="/desktop/"+this.props.platform+"/download";return l.createElement(u.default,{request:{},performRequest:function(){return a(e,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,c.getDesktopDownloadUrl({platform:this.props.platform})];case 1:if("success"===(e=t.sent()).type)return[2,e.data.url];throw e.error}})})},render:function(r,n,o){return e.props.render(n||t)}})},t}(s.default);t.default=d},qRmb:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u,c=r("A9TN"),d=r("g90h"),p=r("6Ydq"),f=r("u5ao"),h=r("Z6+j"),m=r("VaV0"),y=new h.default,g=new Map,v=new Map,b=new Map;function w(){var e,t,r=this;if(!u){var n=(e=d.default(),t=c.default.messageStore.url+"?sessionId="+encodeURIComponent(e),new m(t,{reconnect:{max:1e4,retries:1e20}}));n.on("data",C),n.on("open",function(e){return o(r,void 0,void 0,function(){return a(this,function(e){return g.forEach(function(e,t){var r=v.get(t);S(t,r?r.version:-1).catch(function(e){p.log({level:"warning",from:"messageStoreHelpers",type:"OpenSubscriptionError",error:e})})}),[2]})})}),n.on("reconnected",function(e){return o(r,void 0,void 0,function(){return a(this,function(e){return g.forEach(function(e,t){var r=v.get(t);S(t,r?r.version:-1).catch(function(e){p.log({level:"warning",from:"messageStoreHelpers",type:"ReconnectSubscriptionError",error:e})})}),[2]})})});var i=!0;n.on("readyStateChange",function(e){"end"===e?i=!1:"open"===e&&(i=!0),y.emit(i)}),n.on("error",function(e){"TransportError"!==e.type?p.log({level:"info",from:"messageStoreHelpers",type:"primusTransportError",error:e}):p.log({level:"error",from:"messageStoreHelpers",type:"unknownPrimusError",error:e})}),n.on("end",function(){!function(e){if(p.log({level:"info",from:"messageStoreHelpers",type:"messageStoreEnd"}),setTimeout(function(){e.destroy()},0),e!==u)return;u=void 0,w()}(n)}),u=n,window.__primusClient=u}return u}function S(e,t){return k("registerSubscription",{key:e,version:t})}function _(e){return k("unregisterSubscription",{key:e})}function k(e,t){return o(this,void 0,void 0,function(){var r;return a(this,function(o){return r=d.default(),[2,new Promise(function(o,a){b.set(r,{resolve:o,reject:a}),w().write(n({type:c.default.messageStore.api+"/"+e,requestId:r},t))})]})})}function C(e){var t,r;if(f.ServerMessageV1Schema(e)){var n=e;if("response"===n.type){var o=n.requestId,a=n.status,i=n.result,l=b.get(o);if(b.delete(o),!l)return;"ok"===a?l.resolve(i):l.reject(new Error(i))}else{var u=n.key,c=n.value,d=n.version,h=g.get(u);if(!h)return;v.set(u,{version:d,value:c});try{for(var m=s(h),y=m.next();!y.done;y=m.next()){var w=y.value.listener;try{w(u,c)}catch(e){p.log({level:"warning",from:"messageStoreHelpers",type:"ListenerError",error:e})}}}catch(e){t={error:e}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}}}else p.rateLimitedLog({level:"warning",from:"messageStoreHelpers",type:"ValidationError",data:e})}t.setValue=function(e,t,r){return k("setValue",{key:e,value:t,ttl:r})},t.setIfGreater=function(e,t,r){return k("setIfGreater",{key:e,value:t,ttl:r})},t.increment=function(e,t,r){return k("increment",{key:e,amount:t,ttl:r})},t.setField=function(e,t,r,n){return k("setField",{key:e,field:t,value:r,ttl:n})},t.updateField=function(e,t,r,n){return k("updateField",{key:e,field:t,updates:r,ttl:n})},t.getValueAndVersion=function(e){return k("getValueAndVersion",{key:e})},t.registerOnDisconnect=function(e,t){return k("registerOnDisconnect",{disconnectId:e,operations:t})},t.unregisterOnDisconnect=function(e){return k("unregisterOnDisconnect",{disconnectId:e})},t.subscribe=function(e,t,r){return o(this,void 0,void 0,function(){var n,o;return a(this,function(a){switch(a.label){case 0:return(n=g.get(e))&&0!==n.length?[3,2]:(n=[{listener:t,listenerId:r}],g.set(e,n),[4,S(e,-1)]);case 1:return a.sent(),[2];case 2:return n.find(function(e){return e.listenerId===r})?(n=l(n.filter(function(e){return e.listenerId!==r}),[{listener:t,listenerId:r}]),g.set(e,n),[2]):(n=l(n,[{listener:t,listenerId:r}]),g.set(e,n),(o=v.get(e))&&t(e,o.value),[2])}})})},t.unsubscribe=function(e,t){return o(this,void 0,void 0,function(){var r,n;return a(this,function(o){switch(o.label){case 0:return(r=g.get(e))?(n=r.filter(function(e){return e.listenerId!==t})).length===r.length?[2]:0!==n.length?[3,2]:(g.delete(e),v.delete(e),[4,_(e)]):[2];case 1:return o.sent(),[3,3];case 2:g.set(e,n),o.label=3;case 3:return[2]}})})},t.onConnectionStateChange=function(e){y.addListener(e)},t.offConnectionStateChange=function(e){y.removeListener(e)}},qpkC:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("nkfK"),l=r("udrG"),s=r("VBxf"),u=r("bkwR"),c=r("y6Dp"),d=r("N34Z"),p=r("Mf5Y"),f=r("HRSx"),h=r("j76I"),m=r("JU1L"),y=r("VpIZ"),g=r("6SEd"),v=r("NoAG"),b=r("vJXr"),w=r("+DAh"),S=r("yjqD");function _(e){var t=e.sourceBlockId,r=e.targetBlockId,n=e.sourceBlockSubtree,o=e.targetRecordCacheStore,a=e.addCopyName,l=e.transaction,s=p.initializeTemplate({sourceBlockId:t,targetBlockId:r,sourceBlockSubtree:n,targetRecordCacheStore:o,transaction:l});if(a&&s&&s.isNavigableBlock()){var u=s.getTitleStore();if(u){var c=u.getValue(),f=i.getTextCopyName(c);d.setValue({store:u,value:f,transaction:l})}}return s}function k(e){var t=this,r=e.sourceBlockId,a=e.targetRecordCacheStore,i=e.snapshotData,s=e.addCopyName,c=e.transaction,p=d.createBlock({type:l.default.copyIndicator,recordCacheStore:a,transaction:c}),f=S.deferred();return c.postSubmitCallbacks.push(function(e){return n(t,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return e?(f.resolve(e),[3,3]):[3,1];case 1:return[4,u.duplicateBlock({sourceBlockId:r,targetBlockId:p.id,snapshotData:i,addCopyName:s}).next()];case 2:t=n.sent().value,f.resolve(t.error),n.label=3;case 3:return[2]}})})}),[p,f.promise]}function C(e){for(var t,r,n,o,i,l,s=e.blockId,u=e.recordCacheStore,c=e.allowCopyCollections,d=e.requireFullSubtree,p={},b=new Set,w=[{table:f.default.table,id:s,parentId:"doesn't matter"}];w.length>0;){var S=w.shift();if(S&&!b.has(S.id)){b.add(S.id);var _=s===S.id;if(S.table===f.default.table){if(!(j=u.getRecord(S.table,S.id))||!j.value){if(d)return;continue}var k=j.value;if(!_&&k.parent_id!==S.parentId)continue;if(h.setRecordMap(p,S.table,S.id,k),k.collection_id&&w.push({table:g.default.table,id:k.collection_id,parentId:k.id}),k.view_ids)try{for(var C=a(k.view_ids),E=C.next();!E.done;E=C.next()){var P=E.value;w.push({table:v.default.table,id:P,parentId:k.id})}}catch(e){t={error:e}}finally{try{E&&!E.done&&(r=C.return)&&r.call(C)}finally{if(t)throw t.error}}var x=y.getBlockChildren(k);try{for(var T=a(x),O=T.next();!O.done;O=T.next()){var M=O.value;w.push({table:f.default.table,id:M,parentId:k.id})}}catch(e){n={error:e}}finally{try{O&&!O.done&&(o=T.return)&&o.call(T)}finally{if(n)throw n.error}}}else if(S.table===g.default.table){if(!c)return;if(!(j=u.getRecord(S.table,S.id))||!j.value){if(d)return;continue}if(j.value.parent_id!==S.parentId)continue;h.setRecordMap(p,S.table,S.id,j.value);var I=u.state.cache;try{for(var A=a(Object.keys(I)),D=A.next();!D.done;D=A.next()){var L=D.value,R=m.extractCombinedId(L);if(R.table===f.default.table){var B=u.getRecord(R.table,R.id);B&&B.value&&B.value.parent_id===S.id&&B.value.alive&&w.push({table:R.table,id:R.id,parentId:S.id})}}}catch(e){i={error:e}}finally{try{D&&!D.done&&(l=A.return)&&l.call(A)}finally{if(i)throw i.error}}}else if(S.table===v.default.table){var j;if(!(j=u.getRecord(S.table,S.id))||!j.value){if(d)return;continue}if(j.value.parent_id!==S.parentId)continue;h.setRecordMap(p,S.table,S.id,j.value)}}}return p}t.localDuplicate=_,t.serverDuplicate=k,t.duplicateBlock=function(e){var t=e.store,r=e.addCopyName,n=e.transaction,o=t.getRecordStoreAtRootPath().getValue();o&&c.trackCreateBlock({from:"copy",type:o.type});var a=C({blockId:t.id,recordCacheStore:t.recordCacheStore,allowCopyCollections:!1,requireFullSubtree:!0});if(a)return[_({sourceBlockId:t.id,sourceBlockSubtree:a,targetRecordCacheStore:t.recordCacheStore,addCopyName:r,transaction:n}),Promise.resolve(void 0)];if(t.recordCacheStore!==w.default)throw new Error("Can only server duplicate from the environment RecordCacheStore.");return b.default.state.online||s.showError({error:new Error("Please go online to copy this block.")}),k({sourceBlockId:t.id,targetRecordCacheStore:t.recordCacheStore,addCopyName:r,transaction:n})},t.loadLocalSubtree=C},qqdV:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logout="/logout",t.login="/login",t.signup="/signup",t.loginWithEmail="/loginwithemail",t.product="/product",t.pricing="/pricing",t.about="/about",t.evernote="/evernote",t.webClipper="/web-clipper",t.andyHertzfeld="/tools-and-craft/01-andy-hertzfeld",t.stuCard="/tools-and-craft/02-stu-card",t.tedNelson="/tools-and-craft/03-ted-nelson",t.toolsAndCraft="/tools-and-craft",t.why="/why",t.desktop="/desktop",t.mobile="/mobile",t.android="/android",t.unsubscribe="/unsubscribe",t.onboarding="/onboarding",t.invoice="/invoice",t.joinUsRedirect="/join-us",t.jobsRedirect="/jobs",t.admin="/__admin",t.templates="/templates",t.help="/help",t.guide="/guide",t.googlePopupRedirect="/googlepopupredirect",t.googleAuthCallback="/oauth2callback",t.googlePopupCallback="/googlepopupcallback",t.slackPopupRedirect="/slackpopupredirect",t.slackAuthCallback="/slackoauthcallback",t.trelloPopupRedirect="/trellopopupredirect",t.trelloAuthCallback="/trelloauthcallback",t.asanaPopupRedirect="/asanapopupredirect",t.asanaAuthCallback="/asanaauthcallback",t.evernotePopupRedirect="/evernotepopupredirect",t.evernoteAuthCallback="/evernoteoauthcallback",t.notionTwitter="https://twitter.com/NotionHQ",t.appStore="https://itunes.apple.com/app/notion-notes-tasks-wikis/id1232780281",t.playStore="https://play.google.com/store/apps/details?id=notion.id",t.devChromeExtension="https://chrome.google.com/webstore/detail/ndbjfpdjbfcljfnfhoopkljapcaomhha",t.prodChromeExtension="https://chrome.google.com/webstore/detail/knheggckgoiihginacbkhaalnibhilkk",t.termsAndPrivacy="https://www.notion.so/28ffdd083dc3473e9c2da6ec011b58ac",t.whatsNew="https://www.notion.so/157765353f2c4705bd45474e5ba8b46c",t.mediaKit="https://www.notion.so/205535b1d9c4440497a3d7a2ac096286",t.joinUs="https://www.notion.so/e7aeb157238a4603a2964b28c646f07f",t.webClipperGuide="https://www.notion.so/ba54b19ecaeb466b8070b9e683c5fce1",t.templatesPage="https://www.notion.so/181e961aeb5c4ee6915307c0dfd5156d",t.guides={guides:"https://www.notion.so/e040febf70a94950b8620e6f00005004",notionForTeams:"https://www.notion.so/f6f02f30e70c4fcdbad04760354d8f79",keyboardShortcuts:"https://www.notion.so/66e28cec810548c3a4061513126766b0",reinstallMac:"https://www.notion.so/3341dd4ece814f4697a89bc8a6a7ac07",reinstallWindows:"https://www.notion.so/c13422552b7a462d8c1867e9c8367cde",upgradeAndroid:"https://www.notion.so/d76947964e2f4d9a847da0069dfe1714",upgradeiOS:"https://www.notion.so/87d6bfa0b33144aaaaf20f1fbb734c42",import:"https://www.notion.so/18c37b470e8941789548b68049af750b",importGoogleDocs:"https://www.notion.so/18c37b470e8941789548b68049af750b#ebe40bb5b29c41efb667aab572aaa3e1",importDropboxPaper:"https://www.notion.so/18c37b470e8941789548b68049af750b#0c1d7d615f5d4fb9b336599cb78b7ebd",importQuip:"https://www.notion.so/18c37b470e8941789548b68049af750b#06e61532ef134ed79cd9579e76607e5d",importWorkflowy:"https://www.notion.so/18c37b470e8941789548b68049af750b#de83d9f6dc0d4a73bf1583150ce1d007",importEvernote:"https://www.notion.so/18c37b470e8941789548b68049af750b#7e4b6c2bdb7b4e999595ec4a59bbff7b",sharing:"https://www.notion.so/524c32ac63dc424a842891ace7a99bf8",invitePerson:"https://www.notion.so/27d4016f95b5444eb7be5f81d5bfa057",allUpdates:"https://www.notion.so/c1112a5335c848e7922a3fd5d91227f7",notifications:"https://www.notion.so/bef80feafec64c789e631c85a16f2d5b",quickFind:"https://www.notion.so/af945b6e69b64437afba2d143e4b546f",relations:"https://www.notion.so/fd56bfc6a3f0471a9f0cc3110ff19a79",reminders:"https://www.notion.so/b4325370e2744d999c021900e76c9abb",trash:"https://www.notion.so/e1b5901bdc2f4905aaf0aa4a3b47be63",pageHistory:"https://www.notion.so/eec3af1f5bc64ba0a712ee5794e12a9c",database:"https://www.notion.so/fd8cd2d212f74c50954c11086d85997e",databaseView:"https://www.notion.so/fd8cd2d212f74c50954c11086d85997e#c043b067bae44fb1ba678a276e6ad257",tableOfContents:"https://www.notion.so/50de58f824bf4100a4a9fa5b6f783c2b",profileSettings:"https://www.notion.so/87076204f7f5480db33c35e85c46968b",notificationSettings:"https://www.notion.so/bef80feafec64c789e631c85a16f2d5b#c4d40cecfa654dadb67992b981a12aed",referralsAndCredit:"https://www.notion.so/7f39e3701b3f482ba313e60461fabee8",exportOrDeleteWorkspace:"https://www.notion.so/a0648422a1324111b360ac0c377bcded",members:"https://www.notion.so/27d4016f95b5444eb7be5f81d5bfa057#c5b722687a3a42c685c15c8da8ebe4cd",databaseTemplates:"https://www.notion.so/454ed5ab5bd24226b58d176697bd7e10"}},r1Zr:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("N34Z"),a=r("+575"),i=r("y6Dp");t.check=function(e){var t,r,l=e.blocks,s=e.transaction;try{for(var u=n(l),c=u.next();!c.done;c=u.next()){var d=c.value;o.updateValue({store:d.getPropertiesStore(),data:{checked:a.fromCheckboxValue(!0)},transaction:s})}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}i.trackTodoBlockCheck({is_checked:!0})},t.uncheck=function(e){var t,r,l=e.blocks,s=e.transaction;try{for(var u=n(l),c=u.next();!c.done;c=u.next()){var d=c.value;o.updateValue({store:d.getPropertiesStore(),data:{checked:a.fromCheckboxValue(!1)},transaction:s})}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}i.trackTodoBlockCheck({is_checked:!1})}},r8MX:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t.prototype.waitUntilLoaded=function(){var e=this;return this.waitUntil(function(){return Boolean(e.state.data)})},t}(r("LEzx").default);t.default=new a},r8oj:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r("rMTC"),o=r("D2XV"),a=r("QjHk"),i=r("K4CH"),l=r("A9TN"),s=new i(navigator.userAgent),u=new(function(){function t(){this.isElectron=Boolean(window.__isElectron||e&&e.__require),this.isElectronMac=this.isElectron&&("darwin"===window.__platform||e&&e.__process&&"darwin"===e.__process.platform),this.isReactNative=/ReactNative/.test(navigator.userAgent),this.isCordova=/Cordova/.test(navigator.userAgent),this.isNative=this.isElectron||this.isReactNative||this.isCordova,this.isBrowser=!this.isNative,this.isHttpApp="https:"===window.location.protocol||"http:"===window.location.protocol,this.isChrome=/Chrome/i.test(navigator.userAgent)||/CriOS/i.test(navigator.userAgent),this.isSafari=!this.isChrome&&/Safari/i.test(navigator.userAgent),this.isFirefox=/Firefox/i.test(navigator.userAgent),this.isAndroid=/Android/i.test(navigator.userAgent)||"Android"===s.getOS().name,this.isMobile=/iPhone|iPad|iPod|Android|Windows Phone/i.test(navigator.userAgent)||this.isAndroid,this.isIOS=/iPad|iPhone|iPod/i.test(navigator.userAgent),this.isTablet=this.isMobile&&Math.min(window.innerHeight,window.innerWidth)>750,this.isSmallPhone=this.isMobile&&window.innerWidth<=320,this.isDesktop=!this.isMobile,this.isMac=/Mac/i.test(navigator.userAgent)&&!this.isMobile,this.isWindows=/Windows/i.test(navigator.userAgent)&&!this.isMobile,this.isChromebook=/CrOS/i.test(navigator.userAgent),this.isLinux=(/Linux/i.test(navigator.userAgent)||this.isChromebook)&&!this.isMobile,this.isSmallScreen=a("only screen and (max-width: 480px)").matches,this.isRetina=a("(-webkit-min-device-pixel-ratio: 1.5),\t\t\t\t\t\t(min--moz-device-pixel-ratio: 1.5),\t\t\t\t\t\t(-o-min-device-pixel-ratio: 3/2),\t\t\t\t\t\t(min-resolution: 1.5dppx)").matches,this.isEurope=o.currentTimeZone.indexOf("Europe")>=0,this.isMobileBrowser=this.isMobile&&this.isBrowser,this.isDesktopBrowser=this.isDesktop&&this.isBrowser,this.isBrowserMac=this.isMac&&this.isBrowser,this.isBrowserWindows=this.isWindows&&this.isBrowser,this.scrollbarWidth=n.default(),this.isChromeExtension="undefined"!=typeof chrome&&void 0!==chrome.tabs,this.logglyData={},this.isIPhoneX=!1,this.version=l.default.version,this.os=this.getDeviceOS(),this.platform=this.getDevicePlatform()}return t.prototype.getDeviceOS=function(){return this.isMac?"mac":this.isWindows?"windows":this.isIOS?"ios":this.isAndroid?"android":this.isChrome?"chrome":this.isLinux?"linux":"unknown"},t.prototype.getDevicePlatform=function(){return this.isElectron?"electron":this.isReactNative?"react-native":this.isCordova?"cordova":"browser"},t}());t.default=u}).call(this,r("yLpj"))},rEZL:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("LvDl"),u=r("wZee"),c=r("i8i4"),d=r("cBa6"),p=r("aZ00"),f=r("Ajfl"),h=r("TM4X"),m=r("V9q8"),y=r("IzPW"),g=r("Sb6f"),v=r("t+pW"),b=r("5Y2+"),w=r("Mcmf"),S=r("MBf9"),_=r("jWHj"),k=r("DNgp"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderContentContainer=function(e,r,n){return l.createElement("div",a({style:a({display:"flex"},!t.props.codeWrap&&{overflowX:"auto",WebkitOverflowScrolling:"touch"}),className:"line-numbers notion-code-block"},e),l.createElement(b.default,{ref:function(e){t.editor=e},style:a({},t.getContentEditableStyle(),t.props.isQuickFind&&{paddingTop:12},t.props.codeWrap?{whiteSpace:"pre-wrap",minWidth:0}:{whiteSpace:"pre"}),getDisabled:t.getDisabled,getHtml:t.getHtml,getSelection:t.getContainerSelection,onMutation:t.handleMutation,spellCheck:!1,autoCorrect:"off",autoCapitalize:"off",onSelect:r}))},t.handleMutation=function(e){S.createAndCommit(function(r){f.applyTextUpdate({store:t.props.store,newValue:e,transaction:r})})},t.handleDelete=function(e){if(t.canEdit()){var r=t.props.store,n=k.default.state;n.editing&&S.createAndCommit(function(t){h.backspace({store:r,selection:n.selection,deleteForwards:!0,transaction:t,event:e})})}},t.handleBackspace=function(e){var r=_.getKeyboardState();if(t.canEdit()&&!r.option&&!r.control&&!r.command){var n=t.props.store,o=k.default.state;o.editing&&S.createAndCommit(function(t){h.backspace({store:n,selection:o.selection,deleteForwards:!1,transaction:t,event:e})})}},t.handleEnter=function(e){if(t.canEdit()&&(e.preventDefault(),!t.editor||!t.editor.isComposing)){var r=k.default.state;r.editing&&S.createAndCommit(function(e){f.insertString({store:t.props.store,string:"\n",selection:r.selection,transaction:e})})}},t.handleTab=function(e){if(t.canEdit()){e.preventDefault();var r=k.default.state;r.editing&&S.createAndCommit(function(e){f.indentSelection({store:t.props.store,selection:r.selection,transaction:e})})}},t.handleUntab=function(e){if(t.canEdit()){e.preventDefault();var r=k.default.state;r.editing&&S.createAndCommit(function(e){f.unindentSelection({store:t.props.store,selection:r.selection,transaction:e})})}},t.handleCopy=function(e){p.copy({event:e})},t.handleCut=function(e){S.createAndCommit(function(t){p.cut({event:e,transaction:t})})},t.handlePaste=function(e){S.createAndCommit(function(t){p.paste({event:e,transaction:t})})},t.getDisabled=function(){return!t.canEdit()},t.getHtml=function(){var e,r,n,o=d.getText(t.getTextValue()),a=u.languages[t.props.language];if(o&&a&&o.length<1e4){var l=u.highlight(o,a);n="";var c=document.createElement("div");c.innerHTML=l;var p=m.getTextNodes(c);try{for(var f=i(p),h=f.next();!h.done;h=f.next()){var y=h.value,g=s.escape(y.data);y.parentNode!==c?n+='<span class="'+y.parentNode.className+'">'+g+"</span>":n+=g}}catch(t){e={error:t}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}}else n=s.escape(o);return n+="<span>\n</span>"},t.clearBrowserSelection=function(){t.getEditorNode().blur()},t.isEditing=t.createComputedStore(function(){var e=k.default.state;return e.editing&&e.store===t.props.store}),t.getTextSelectionFromRange=function(e){return y.serializeTextSelection(e)},t.getContainerSelection=function(){if(t.isEditing.state){var e=t.props.store,r=k.default.state;if(r.editing){var n=d.getChars(e.getValue()).length;return{startIndex:Math.min(r.selection.startIndex,n),endIndex:Math.min(r.selection.endIndex,n)}}}},t.getEndSelection=function(){var e=s.toArray(d.getText(t.getTextValue()));return{startIndex:e.length,endIndex:e.length}},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.disabled;return l.createElement(w.default,{store:this.props.store,disabled:e,getTextSelectionFromRange:this.getTextSelectionFromRange,clearBrowserSelection:this.clearBrowserSelection,getEndSelection:this.getEndSelection,onDelete:this.handleDelete,onBackspace:this.handleBackspace,onEnter:this.handleEnter,onCommandEnter:s.identity,onCommandShiftEnter:s.identity,onTab:this.handleTab,onUntab:this.handleUntab,onToggleBold:s.identity,onToggleItalics:s.identity,onToggleStrike:s.identity,onToggleCode:s.identity,onCopy:this.handleCopy,onCut:this.handleCut,onPaste:this.handlePaste,render:this.renderContentContainer,disableMentions:!0,disableSlashCommands:!0,canSelectAllBlocks:!0,canInsertText:!0,canSelectionDrag:!0,topBottomPadding:40})},t.prototype.canEdit=function(){return Boolean(!this.props.disabled&&this.props.store.canEdit())},t.prototype.getEditorNode=function(){return c.findDOMNode(this.editor)},t.prototype.getTextValue=function(){return this.props.store.getValue()},t.prototype.getContentEditableStyle=function(){return{flexGrow:1,flexShrink:1,textAlign:"left",fontFamily:g.default.fontFamily.githubMono,fontSize:"85%",tabSize:2,padding:"30px 16px 30px 20px",minHeight:"1em",color:this.theme.regularTextColor}},t}(v.default);t.default=C},rGsA:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("t+pW"),l=r("fHgN"),s=r("r8oj"),u=r("zmp8"),c=r("Sb6f"),d=r("MeYt"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleBlur=function(){var e=document.activeElement;e instanceof HTMLInputElement&&e.blur()},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;if((s.default.isReactNative||s.default.isCordova)&&s.default.isIOS){var t=this.props.offset||0;return a.createElement(l.default,{open:!0,render:function(){return a.createElement("div",{style:{position:"fixed",top:"100vh",width:"100%",height:44,display:"flex",alignItems:"center",justifyContent:"flex-end",backgroundColor:u.default.DismissKeyboardBarBackground,transform:"translateY("+(e.props.show?-44-t:0)+"px)",transition:e.props.show?"ease-out":"ease-in",boxShadow:"\n\t\t\t\t\t\t\t\t0 -1px 0 "+e.theme.darkDividerColor+"\n\t\t\t\t\t\t\t"}},a.createElement(d.default,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",marginRight:16,color:u.default.blue,fontWeight:c.default.fontWeight.semibold},onClick:e.handleBlur},"Done"))}})}},t}(i.default);t.default=p},rJFj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return![".","#","$","[","]"].map(function(t){return-1!==e.indexOf(t)}).reduce(function(e,t){return e||t},!1)}},rMTC:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var r=document.createElement("div");r.style.width="100%",e.appendChild(r);var n=r.offsetWidth;return e.parentNode&&e.parentNode.removeChild(e),t-n}},rMap:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("dP7y"),s=r("LvDl"),u=r("t+pW"),c=r("yNyh"),d=r("VyA+"),p=r("G4GV"),f=r("Hl/2"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInputChange=function(e){var r=t.props.onChange,n=e.target.value;t.stores.inputStore.setState(a({},t.stores.inputStore.state,{inputValue:n})),r(n)},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t);var r=t.value;this.stores.inputStore.setState(a({},this.stores.inputStore.state,{inputValue:r||""}))},t.prototype.renderComponent=function(){var e=this.props.disabled;if(this.props.value){var t=l.find(this.props.value);t&&t[0]&&t[0].href&&t[0].href}return i.createElement(d.default,{capture:!e,onDelete:s.identity,onSpace:s.identity,onBackspace:s.identity,onLeft:s.identity,onRight:s.identity,onUp:s.identity,onDown:s.identity,onSelectAll:s.identity,onRedo:s.identity,onUndo:s.identity,onCut:s.identity,onCopy:s.identity,onPaste:s.identity,onKeypress:s.identity},i.createElement(c.default,{type:this.props.inputType,style:a({},f.default.textStyle,{display:"block"}),value:this.stores.inputStore.state.inputValue,format:c.default.Format.Transparent,onChange:this.handleInputChange,focus:!e,disabled:e}))},t.stores={inputStore:p.default},t}(u.default);t.default=h},"rQb/":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("Sb6f"),s=r("t+pW"),u=r("zmp8"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.baseline,r=e.large,n=e.block,o=e.children,l=e.small,s=e.style,c="full"===t;return i.createElement("div",{style:a({},this.getStyle(),s,{borderBottom:c?"1px solid "+u.default.dividerColor:0,marginBottom:c?16:8,paddingBottom:c?8:0,fontSize:r?24:l?12:16,width:n?"100%":"auto"})},o)},t.prototype.getStyle=function(){var e=this.props.hasMarginTop,t={fontSize:16,fontWeight:l.default.fontWeight.medium,color:this.theme.regularTextColor,marginBottom:8};return e&&(t.marginTop=16),t},t}(s.default);t.default=c},rTCD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("hfHo"),l=r("LEzx"),s=r("+UXM");!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(t.CalendarDragDirection||(t.CalendarDragDirection={}));var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{dayStoreMap:new Map,isDragging:!1,currentlyScrolledMonth:0}},t.getLocalViewPreferenceKey=function(e){return"CalendarView:"+e},t.getLocalPreferences=function(e){return s.default.get(t.getLocalViewPreferenceKey(e))},t.getLocalDateRangeStart=function(e){var t=this.getLocalPreferences(e);return t&&t.dateRangeStart?i.default(t.dateRangeStart):i.default()},t.setLocalDateRangeStart=function(e,r){var n=this.getLocalPreferences(e)||{};s.default.set(t.getLocalViewPreferenceKey(e),a({},n,{dateRangeStart:r}))},t}(l.default);t.default=u},rX6N:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("wldR"),u=r("r8oj"),c=r("nFzZ"),d=r("QkuB"),p=r("2Y+N"),f=r("WgIs"),h=r("gbGO"),m=r("zTdN"),y=r("IdIf"),g=r("SR/M"),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e,t=this.props,r=t.onAccept,n=t.schema,o=t.onClose,s=Object.keys(n),v=(s=l.sortBy(s,function(e){var t=n[e];return t?t.name:""})).filter(function(e){var t=n[e];return t&&"file"===t.type}).map(function(e){return{type:"property",property:e}}),b=[void 0,{type:"page_cover"},{type:"page_content"}],w=c.compact(b.map(function(e){return{key:e?e.type:"none",render:function(t){return i.createElement(g.default,a({},t,{disabled:!1,title:y.getCoverFormatHumanReadableName(e)}))},action:function(){return r(e)}}})),S=c.compact(v.map(function(e){var t=n[e.property];if(t)return{key:e.property,render:function(e){return i.createElement(d.default,a({},e,{propertySchema:t,format:d.default.DisplayFormat.Name}))},action:function(){return r(e)}}})),_=[{key:0,render:function(e){return i.createElement(p.default,a({},e))},items:w}];return S.length>0&&_.push({key:1,render:function(e){return i.createElement(p.default,a({topBorder:!0},e))},items:S}),e=u.default.isMobile?{menuType:h.default.MenuType.ActionSheet}:{menuType:h.default.MenuType.Popup,width:200},i.createElement(h.default,a({},e),0===w.length?i.createElement(p.default,null,i.createElement(m.default,{title:"No results"})):i.createElement(f.default,{sections:_,onAccept:o,initialFocus:void 0}))},t}(s.default);t.default=v},rXc8:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=r("bwRH"),s=r("r8oj"),u=r("wo7W"),c=r("Nfcv"),d=new l.AsyncLRU({get:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.isCordova?c.getItem.apply(c,i(e)):u.getItem.apply(u,i(e))},set:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.isCordova?c.setItem.apply(c,i(e)):u.setItem.apply(u,i(e))},remove:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.isCordova?c.removeItem.apply(c,i(e)):u.removeItem.apply(u,i(e))},scan:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.isCordova?c.scanItems.apply(c,i(e)):u.scanItems.apply(u,i(e))},getSize:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.isCordova?c.getSize.apply(c,i(e)):u.getSize.apply(u,i(e))}}),p=function(){function e(e,t){this.lru=d,this.namespace=e,this.important=t}return e.prototype.get=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.lru.get(this.makeKey(e))];case 1:return[2,t.sent()]}})})},e.prototype.set=function(e,t){return n(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,this.lru.set(this.makeKey(e),t,this.important)];case 1:return[2,r.sent()]}})})},e.prototype.remove=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.lru.remove(this.makeKey(e))];case 1:return[2,t.sent()]}})})},e.prototype.squeeze=function(e){return this.lru.squeeze(e)},e.prototype.scan=function(e){return n(this,void 0,void 0,function(){var t=this;return o(this,function(r){switch(r.label){case 0:return[4,this.lru.scan(function(r,n){r&&n&&n.value&&r.startsWith(t.namespace)&&e(r.substring(t.namespace.length+1),n.value)})];case 1:return r.sent(),[2]}})})},e.prototype.makeKey=function(e){return[this.namespace,e].join(":")},e}();t.default=p},raUL:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("ClNu");t.default=new n.default},rhAD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("QmC8"),s=r("ikHm"),u=r("t+pW"),c=r("WgIs"),d=r("/6eU"),p=r("LoBg"),f=r("2Y+N"),h=r("AXyr"),m=r("VBxf"),y=r("yNyh"),g=r("enKW"),v=r("IULH"),b=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderModal=function(){var e=l.default.state;if(e.open&&(r.lastOpenState=e),r.lastOpenState){var n=r.lastOpenState,o=n.acceptLabel,s=n.requiredInputValue,u=[{key:"accept",render:function(e){return i.createElement(v.default,a({isRed:!0,isLarge:!0,style:t.buttonStyle,hovered:e.focused},e),o)},action:r.handleAccept},{key:"cancel",render:function(e){return i.createElement(v.default,a({isLarge:!0,style:t.buttonStyle,hovered:e.focused},e),"Cancel")},action:r.handleCancel}];return i.createElement(p.default,{capture:!0},i.createElement("div",null,i.createElement("div",{style:{minHeight:64,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:16}},r.lastOpenState.message),i.createElement(y.default,{value:r.lastOpenState.inputValue,focus:!0,onChange:r.handleInputChange,style:{height:38,marginBottom:2},placeholder:s}),i.createElement(c.default,{initialFocus:void 0,sections:[{key:"dialog",render:function(e){return i.createElement(f.default,a({},e))},items:u}]})))}},r.handleAccept=function(){var e=l.default.state;e.open&&(e.inputValue.trim().toLowerCase()===e.requiredInputValue.trim().toLowerCase()?h.close({didConfirm:!0}):m.showError({error:new Error("Please type '"+e.requiredInputValue+"' to continue")}))},r.handleCancel=function(){h.close({didConfirm:!1})},r.handleInputChange=function(e){var t=l.default.state;t.open&&l.default.setState(a({},t,{inputValue:e.target.value}))},r}return o(t,e),t.prototype.renderComponent=function(){var e=l.default.state;return i.createElement(d.default,{open:e.open,keepFocus:!0,overlayZIndex:s.dialogModal,onDismiss:this.handleCancel,preventHideChildrenWhileOpening:!0,innerStyle:{overflow:"hidden",borderRadius:3,paddingTop:24,paddingBottom:16,paddingLeft:32,paddingRight:32,width:336,fontSize:16,boxShadow:g.getShadow({elevation:5,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity}),background:this.theme.contentBackground,marginLeft:24,marginRight:24},render:this.renderModal})},t.buttonStyle={width:"100%",marginTop:16},t}(u.default);t.default=b},rlmE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl"),o=r("r8oj"),a=r("3zPy");t.default=function e(t,r){if(n.isArray(r))return r.some(function(r){return e(t,r)});var i=r.toLowerCase().split("+");if(o.default.isWindows||o.default.isLinux){if((n.includes(i,"command")||n.includes(i,"ctrl"))!==t.ctrlKey)return!1}else{if(n.includes(i,"command")!==t.metaKey)return!1;if(n.includes(i,"ctrl")!==t.ctrlKey)return!1}return n.includes(i,"shift")===t.shiftKey&&n.includes(i,"alt")===t.altKey&&n.every(i,function(e){return"command"===e||"shift"===e||"ctrl"===e||"alt"===e||a(t.keyCode)===e})}},rrBF:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("F1uM"),s=r("WHWW"),u=r("wldR"),c=r("hU3F"),d=r("r8oj"),p=r("EZe4"),f=r("WxaJ"),h=r("zmp8"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handlePlay=function(e){t.stores.played.set(!0)},t.handlePause=function(e){d.default.isMobile&&t.stores.played.set(!1)},t.handleRef=function(e){t.props.handleEmbedComp(e),t.video=e},t.handlePlayVideo=function(e){t.video&&p.default({event:e,context:p.EventContext.EditorClick,callback:function(){t.video.play()}})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.props,r=t.store,n=t.source,o=t.contentWrapStyle,u=t.handleFullScreen,c=t.aspectRatio,d=t.height,m=t.handleEmbedComp,y=t.isFullWidth,g=t.isRootChild,v=t.preserveScale;return i.createElement(f.default,{url:n,permissionRecord:{table:r.table,id:r.id},render:function(t,r,f){var b=a({},e.props.contentStyle);return f?r?l.isVideoFileURL({url:n})?(y&&g&&v&&(b.height=d),e.stores.played.get()||(b.pointerEvents="none"),b.backgroundColor=h.default.contentGrayBackground,i.createElement("div",{style:o,onMouseDown:p.captureEditorMouseDown},i.createElement("div",{style:{position:"relative"},onDoubleClick:u},i.createElement("video",{ref:e.handleRef,style:b,controls:!0,preload:"auto",onPause:e.handlePause,onPlay:e.handlePlay},i.createElement("source",{src:r})),e.renderOverlay()))):i.createElement("div",{style:o,onDoubleClick:u},i.createElement("div",{style:{position:"relative"}},i.createElement(s.default,{ref:function(e){return m(e)},source:r,height:d,style:b,isFullWidth:y,preserveScale:v,aspectRatio:c,background:!0}))):void 0:i.createElement("div",null)}})},t.prototype.renderPlayButton=function(){return d.default.isFirefox||d.default.isMobile?null:i.createElement("div",{style:t.buttonContainerStyle},i.createElement("div",{style:t.buttonTriangleStyle}))},t.prototype.renderOverlay=function(){return this.stores.played.get()?null:i.createElement("div",{onClick:this.handlePlayVideo,style:t.overlayStyle},this.renderPlayButton())},t.stores={played:c.default.of(!1)},t.overlayStyle={position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},t.buttonContainerStyle={position:"relative",height:70,width:70,borderWidth:3,borderStyle:"solid",borderColor:h.default.uiBlack,borderRadius:70},t.buttonTriangleStyle={position:"absolute",left:"50%",top:"50%",transform:"translate(-30%, -50%)",height:0,width:0,borderStyle:"solid",borderColor:h.default.uiBlack,borderRightWidth:0,borderLeftWidth:24.5,borderTopWidth:16.1,borderBottomWidth:16.1,borderTopColor:h.default.transparent,borderBottomColor:h.default.transparent},t}(u.default),y={render:function(e){return i.createElement(m,a({},e))},resizable:!0,embedGhost:!0};t.default=y},rrJ4:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("IdIf"),u=r("Sb6f"),c=r("r8oj"),d=r("0lqH"),p=r("LeVO"),f=r("mF3+"),h=r("IdSf"),m=r("/YYm"),y=r("fJHT"),g=r("bFnu"),v=r("Oy36"),b=r("7M94"),w=r("H4VD"),S=r("y6Dp"),_=r("hi+p"),k=r("6rsX"),C=r("BJyN"),E=r("LKv3"),P=r("D2XV"),x=r("bPtJ"),T=r("7TLZ"),O=r("n8tN"),M=r("QcDD"),I=r("sjR4"),A=r("qHvo"),D=r("DNgp"),L=r("iICV"),R=r("enKW"),B=r("lCCU"),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderProperty=function(e){var r=t.props,n=r.store,o=r.schema,a=r.blockPropertyValueOverlayStore;return i.createElement(d.default,{key:e,store:n,property:e,schema:o,disabled:!0,locked:!1,format:d.BlockPropertyValueFormat.GalleryView,tableWrap:!1,blockPropertyValueOverlayStore:a})},t.renderDiscussionIndicator=function(){var e=t.props.store,r=T.getNumberOfUnresolvedComments(e);if(r>0)return i.createElement("div",{style:{display:"flex",alignItems:"center",color:t.theme.lightTextColor,fontWeight:u.default.fontWeight.semibold,fontSize:12,marginBottom:8,paddingLeft:10,paddingRight:10}},f.default.speechBubble({width:14,height:14,marginRight:4,fill:t.theme.mediumIconColor}),r)},t.handleClick=function(){S.trackExpandBlock({is_peek:!0,from:"board"})},t.handleActionButtonClick=function(e){k.select({store:t.props.store}),_.showAtPosition({stores:I.default.state.stores,left:e.clientX,top:e.clientY,showInput:!0,actions:C.blockActions,analyticsFrom:"block_more_menu"})},t.handleTextEnter=function(){var e=t.props,r=e.store,n=e.onTextEnter;n&&n(r)},t.handleTextEsc=function(){var e=t.props,r=e.store,n=e.onTextEsc;n&&n(r)},t.handleMouseMove=function(){var e=t.stores.mouseStore;e.setState(a({},e.state,{mouseEntered:!0}))},t.handleMouseLeave=function(){var e=t.stores.mouseStore;e.setState(a({},e.state,{mouseEntered:!1}))},t.isEditingTitle=t.createComputedStore(function(){var e=D.default.state;return e.editing&&e.store===t.props.store.getBlockTitleStore()}),t.shouldShowActionButton=t.createComputedStore(function(){var e=L.default.state.isKeyboardMode;return!c.default.isMobile&&t.canEdit()&&t.mouseIsEntered.state&&!e}),t.mouseIsEntered=t.createComputedStore(function(){return t.stores.mouseStore.state.mouseEntered&&!A.default.state.isDragging}),t.getRecordValue=function(e,r){return x.createRecordStore(t.props.store,e,r).getValue()},t}return o(t,e),t.prototype.activate=function(){var e=this.getPeekURL();e&&w.navigate({url:e})},t.prototype.renderComponent=function(){var e=this.props,t=e.store,r=e.schema,n=e.coverFormat,o=e.coverAspectFormat,l=e.coverWidth,s=e.coverHeight,u=e.coverSizeFormat,d=e.shouldShowTitle,p=this.shouldShowActionButton.state,f=this.getPageURL(),m=this.getPeekURL(),y=this.isEditingTitle.state,g=this.mouseIsEntered.state,v=this.getShowPropertiesWithValue();return i.createElement(h.default,{style:a({},this.getStyle(),{position:g?"relative":"static",height:"100%"}),innerStyle:{display:"flex",flexDirection:"column",userSelect:y?void 0:"none",WebkitUserSelect:y?void 0:"none",height:"100%"},hoveredStyle:{background:this.theme.cardHoveredBackground},pressedStyle:{background:this.theme.cardPressedBackground},href:f,metaHref:c.default.isMobile?f:m,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},n&&i.createElement(E.default,{store:t,coverWidth:l,coverHeight:s,coverFormat:n,coverAspectFormat:o,coverSizeFormat:u,fullWidth:c.default.isMobile,schema:r,isGallery:!0}),p&&this.renderActionButton(),d&&this.renderTitle(),v.length>0&&i.createElement("div",{style:this.getPropertiesWrapStyle()},v.map(this.renderProperty)),this.renderDiscussionIndicator())},t.prototype.renderTitle=function(){var e=this.props.store,r=e.getBlockTitleStore(),n=e.hasIcon()||!e.isEmptyPage(),o=this.isEditingTitle.state;return i.createElement("div",{style:this.getTitleWrapStyle()},n&&i.createElement(v.default,{disabled:!0,style:c.default.isMobile?t.mobileTitleIconStyle:t.desktopTitleIconStyle,icon:e.getIcon(),size:c.default.isMobile?24:18,isEmptyPage:e.isEmptyPage()}),i.createElement(y.default,{store:r,disabled:!o,disableSlashCommands:!0,disableStyleAnnotations:!0,disableEmbedMenu:!0,onEnter:this.handleTextEnter,onEsc:this.handleTextEsc,onTab:l.identity,placeholder:o?"Type a name...":"Untitled",style:a({},c.default.isMobile?t.mobileTitleTextStyle:t.desktopTitleTextStyle,{pointerEvents:o?void 0:"none"}),disableSelectAllBlocks:!0}))},t.prototype.renderActionButton=function(){var e=this;return i.createElement(p.default,{renderTooltip:function(){return"Rename, Delete, Move To and more..."},render:function(t){return i.createElement(B.default,a({icon:f.default.dots,showShadow:!0,hasBackground:!0,style:{position:"absolute",top:7,right:7,zIndex:1},className:b.fadeIn,onClick:e.handleActionButtonClick},t))}})},t.prototype.getPeekURL=function(){var e=this.props.store,t=M.default.state.currentBlockStore;if(t)return m.default({store:t,fullyQualified:!1,peekViewBlockId:e.id})},t.prototype.getPageURL=function(){var e=this.props.store;return m.default({store:e,fullyQualified:!1})},t.prototype.getShowPropertiesWithValue=function(){var e=this,t=this.props,r=t.showProperties,n=t.store,o=t.schema;return r.filter(function(t){return s.cardPropertyFormatIsVisible({blockValue:n.getValue(),property:t,schema:o,getRecordValue:e.getRecordValue,userTimeZone:P.currentTimeZone})})},t.prototype.getStyle=function(){return{boxShadow:R.getShadow({elevation:2,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity}),borderRadius:3,background:this.theme.popoverBackground,overflow:"hidden",transition:"background 100ms ease-out"}},t.prototype.getTitleWrapStyle=function(){return{width:"100%",padding:0===this.getShowPropertiesWithValue().length?"8px 10px 10px":"8px 10px 6px"}},t.prototype.getPropertiesWrapStyle=function(){return{paddingTop:this.props.shouldShowTitle?0:8,paddingLeft:10,paddingBottom:10}},t.stores={mouseStore:g.default},t.desktopTitleIconStyle={float:"left",marginTop:2,marginRight:4,marginLeft:-2},t.mobileTitleIconStyle={float:"left",marginTop:0,marginRight:4,marginLeft:-2},t.desktopTitleTextStyle={fontSize:14,lineHeight:1.5,minHeight:21,fontWeight:u.default.fontWeight.medium,width:"auto",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},t.mobileTitleTextStyle={fontSize:16,lineHeight:1.5,minHeight:24,fontWeight:u.default.fontWeight.medium,width:"auto",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},t}(O.default);t.default=j},"rro+":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl"),o=r("RqMp"),a=r("bB9B"),i=r("MBf9"),l=r("mF3+"),s=r("9uZX"),u=r("30UQ"),c=r("H4VD");t.basicTemplateItems=[{name:"Empty Page",type:"empty_page",onClick:function(e){i.createAndCommit(function(t){a.createEmptyPage({store:e,transaction:t})})}},{name:"Default Page",type:"default_page",onClick:function(e){i.createAndCommit(function(t){a.createNewPageWithIcon({store:e,transaction:t})})}},{name:"Templates",type:"templates",onClick:function(e){var r=n.shuffle(t.allTemplateItems)[0];u.open({store:e,item:r,sections:t.templatePreviewSections,createNewPage:!1,isPrivate:!1})}},{name:"Import",type:"import",onClick:function(e){o.default.setState({open:!0,pageStore:e})}}],t.mobileBasicTemplateItems=[{name:"Empty Page",type:"empty_page",onClick:function(e){i.createAndCommit(function(t){a.createEmptyPage({store:e,transaction:t})})}},{name:"Default Page",type:"default_page",onClick:function(e){i.createAndCommit(function(t){a.createNewPageWithIcon({store:e,transaction:t})})}}],t.databaseTemplateItems=[{name:"Table",type:"table",icon:l.default.collectionTable({height:17,width:17}),onClick:function(e){i.createAndCommit(function(t){a.createNewCollection({store:e,template:s.createTable(!1),transaction:t}),c.navigateToBlock({store:e})})}},{name:"Board",type:"board",icon:l.default.collectionBoard({height:17,width:17}),onClick:function(e){i.createAndCommit(function(t){a.createNewCollection({store:e,template:s.createBoard(!1),transaction:t}),c.navigateToBlock({store:e})})}},{name:"List",type:"list",icon:l.default.collectionList({height:17,width:17}),onClick:function(e){i.createAndCommit(function(t){a.createNewCollection({store:e,template:s.createList(!1),transaction:t}),c.navigateToBlock({store:e})})}},{name:"Calendar",type:"calendar",icon:l.default.collectionCalendar({height:17,width:17}),onClick:function(e){i.createAndCommit(function(t){a.createNewCollection({store:e,template:s.createCalendar(!1),transaction:t}),c.navigateToBlock({store:e})})}},{name:"Gallery",type:"gallery",icon:l.default.collectionGallery({height:17,width:17}),onClick:function(e){i.createAndCommit(function(t){a.createNewCollection({store:e,template:s.createGallery(!1),transaction:t}),c.navigateToBlock({store:e})})}}],t.templatePreviewSections=[{name:"Notes & Docs",items:[{emoji:"📌",name:"Quick Note",caption:"Put all your knowledge in one place.",previewRootId:"7e89f436-7aac-4f66-b0a6-6e65ec868d2a",rootId:"7e89f436-7aac-4f66-b0a6-6e65ec868d2a"},{emoji:"🌟",name:"Design Spec",caption:"Document requirements and embed prototypes.",previewRootId:"4034b84d-cd5c-49c7-98a9-69d3d18a0c5b",rootId:"4034b84d-cd5c-49c7-98a9-69d3d18a0c5b"},{emoji:"🤖",name:"Coding Guidelines",caption:"Document best practices.",previewRootId:"ebc30c0e-3e45-4a4d-8be2-8c5246dbdc66",rootId:"ebc30c0e-3e45-4a4d-8be2-8c5246dbdc66"},{emoji:"🚩",name:"Vision & Mission",caption:"Write down your goals and aspirations.",previewRootId:"b9e01a67-687f-4779-b351-0241c0549b2d",rootId:"b9e01a67-687f-4779-b351-0241c0549b2d"},{emoji:"✏️",name:"Blog Post",caption:"Put all your knowledge in one place.",previewRootId:"20f83114-dc15-488e-b568-4c8c29821a4b",rootId:"20f83114-dc15-488e-b568-4c8c29821a4b"}]},{name:"Knowledge Base",items:[{emoji:"📘",name:"Team Home",caption:"Put all your knowledge in one place.",previewRootId:"2591dd0c-6f02-4963-944c-9412280bf318",rootId:"45362b27-a135-4312-8797-0a814858a66a"},{emoji:"📕",name:"Personal Home",caption:"Put all your knowledge in one place.",previewRootId:"360acc93-778f-4aa4-b9d2-c633f53eda1b",rootId:"88c9c2b0-d732-4342-8963-0580a4725571"},{emoji:"💬",name:"Meeting Notes",caption:"Keep a history of all your meetings.",previewRootId:"92c401e7-a793-4ab3-88c3-9833785ace03",rootId:"ba03136b-703a-4e41-bc58-12d0b71f12d4"},{emoji:"📋",name:"Employee Onboarding",caption:"Get teammates up to speed.",previewRootId:"a0112056-09eb-4be5-9418-edee4fa398f9",rootId:"b70fde59-e732-4ec6-b589-58ccb08c4d83"}]},{name:"Tasks & Projects",items:[{emoji:"📮",name:"Tasks & Issues",caption:"Project tracker with kanban, assignees, due dates, and more.",previewRootId:"5b593126-d3eb-401d-b62c-83cbe362d2d5",rootId:"6c02254d-2c59-4932-8074-029480665065"},{emoji:"🎒",name:"Lightweight To-dos",caption:"Track your tasks with a lightweight document.",previewRootId:"7d17f8ad-2530-40c8-8959-45bda9d75d7e",rootId:"1579f066-746f-4cdf-a873-bf38e7a2a4fe"},{emoji:"🚎",name:"Roadmap",caption:"See the big picture.",previewRootId:"6c53b191-c992-4fa8-9468-f92fb3d430bf",rootId:"7336f52b-0cca-4f73-be67-9c9cbec88905"},{emoji:"📔",name:"Weekly Agenda",caption:"Drag & drop to-dos on a weekly calendar.",previewRootId:"1b2074af-f551-4497-9b64-a4e4a2cd364b",rootId:"870e9815-7ae0-48f9-94fa-b7b81cddcaf0"},{emoji:"📆",name:"Editorial Calendar",caption:"Put all your knowledge in one place.",previewRootId:"12dfe419-56cf-498f-a8fc-efa3e0319c72",rootId:"066f04c3-cefb-41c0-bac9-38ec01b59104"}]},{name:"Database & Spreadsheets",items:[{emoji:"✍️",name:"Notes & Drafts",caption:"Capture and develop your ideas.",previewRootId:"5961573f-24db-4fb0-af46-ad7716148db4",rootId:"9c0f3d20-6d64-4a8c-a9df-82589d140445"},{emoji:"✌️",name:"Recruiting Pipeline",caption:"Manage candidates from first contact to hire.",previewRootId:"458b529b-fc09-494a-b699-14e86e192e3f",rootId:"a7a53eba-ee2c-40d2-b93f-15d59690f684"},{emoji:"👞",name:"Lightweight CRM",caption:"Create a sales pipeline that's tailored to you.",previewRootId:"8be00849-e242-4c72-b60d-3882e5ae892b",rootId:"64c35070-7b95-4ff1-b9d7-b19f4bb84df1"},{emoji:"👓",name:"Reading List",caption:"Organize links and read them later.",previewRootId:"0dc73850-a48c-4096-ab71-3eeeda48522e",rootId:"8abe9f7e-b7e6-4f78-af16-822a9e12c426"},{emoji:"💰",name:"Fundraising Database",caption:"Fundraise with confidence.",previewRootId:"a6ceefd1-4dbf-4162-b223-b96b300ea071",rootId:"1da441fc-d984-474b-b873-fe8f31853d47"}]}],t.allTemplateItems=n.flatten(t.templatePreviewSections.map(function(e){return e.items})),t.teamWorkspaceTemplateRootIdMap={team_docs_knowledge_base:["45362b27-a135-4312-8797-0a814858a66a","ba03136b-703a-4e41-bc58-12d0b71f12d4","7336f52b-0cca-4f73-be67-9c9cbec88905","6c02254d-2c59-4932-8074-029480665065"],team_project_management:["6c02254d-2c59-4932-8074-029480665065","7336f52b-0cca-4f73-be67-9c9cbec88905","45362b27-a135-4312-8797-0a814858a66a","ba03136b-703a-4e41-bc58-12d0b71f12d4"]},t.teamPrivateTemplates=["9c0f3d20-6d64-4a8c-a9df-82589d140445"],t.personalTemplates=["88c9c2b0-d732-4342-8963-0580a4725571","1579f066-746f-4cdf-a873-bf38e7a2a4fe","9c0f3d20-6d64-4a8c-a9df-82589d140445","870e9815-7ae0-48f9-94fa-b7b81cddcaf0"]},rro0:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("t+pW"),l=r("6q9u"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,r=e.title,n=e.caption,o=e.isSelected,i=e.onClick;return a.createElement("div",{style:t.wrapStyle,onClick:i},a.createElement(l.default,{isSelected:o}),a.createElement("b",null,r),n&&a.createElement("div",{style:{color:this.theme.mediumTextColor,marginLeft:8}},n))},t.wrapStyle={display:"flex",alignItems:"center",flex:1,fontSize:14,marginBottom:12,cursor:"pointer"},t}(i.default);t.default=s},ruBJ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("VBxf"),s=r("80on"),u=r("enKW"),c=r("ikHm"),d=r("t+pW"),p=r("WgIs"),f=r("/6eU"),h=r("LoBg"),m=r("2Y+N"),y=r("IULH"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderModal=function(){var e=s.default.state,r=e.message,n=e.items,o=e.showCancel,u=n.map(function(e,t){return{key:t,render:function(t){return i.createElement(y.default,a({isLarge:!0,hovered:t.focused,style:{width:"100%",marginTop:8},isRed:"red"===e.color,isBlue:"blue"===e.color},t),e.label||"Label")},action:function(){e.onAccept&&(e.onAccept(),l.dismissDialog())}}});return o&&u.push({key:"cancel",render:function(e){return i.createElement(y.default,a({isLarge:!0,hovered:e.focused,style:{width:"100%",marginTop:8}},e),"Cancel")},action:function(){t.handleCancel()}}),i.createElement(h.default,{capture:!0},i.createElement("div",null,r&&i.createElement("div",{style:{minHeight:64,display:"flex",alignItems:"center",justifyContent:"center"}},r),i.createElement(p.default,{initialFocus:0,sections:[{key:"dialog",render:function(e){return i.createElement(m.default,a({},e))},items:u}]})))},t.handleCancel=function(){l.dismissDialog();var e=s.default.state.handleCancel;return e&&e(),!1},t}return o(t,e),t.prototype.renderComponent=function(){var e=s.default.state,t=e.open,r=e.innerStyle,n=e.keepFocus;return i.createElement(f.default,{open:t,keepFocus:n,overlayZIndex:c.dialogModal,onDismiss:this.handleCancel,preventHideChildrenWhileOpening:!0,innerStyle:a({overflow:"hidden",borderRadius:3,padding:"24px 32px",width:336,fontSize:16,boxShadow:u.getShadow({elevation:5,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity}),background:this.theme.contentBackground,marginLeft:24,marginRight:24},r),render:this.renderModal})},t}(d.default);t.default=g},s65R:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("SR/M"),s=r("t+pW"),u=r("r8oj"),c=r("AlLG"),d=r("QkuB"),p=r("IULH"),f=r("mF3+"),h=r("zmp8"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return u.default.isMobile?this.props.propertySchema?i.createElement(d.default,{propertySchema:this.props.propertySchema,onClick:this.props.onClick,focused:!1,format:d.default.DisplayFormat.Name,showExtensionArrow:!0}):i.createElement(l.default,{focused:!1,title:"Property"}):i.createElement(p.default,{isLarge:!0,style:a({marginRight:8,maxWidth:180,padding:"0 8px"},this.props.disabled&&{opacity:.5,borderColor:h.default.transparent}),onClick:this.props.onClick,disabled:this.props.disabled},this.props.propertySchema?i.createElement(c.default,{propertySchema:this.props.propertySchema,showIcon:!0,style:{lineHeight:1.4}}):"Property",f.default.chevronDown({width:10,marginLeft:4,fill:this.theme.lightIconColor}))},t}(s.default);t.default=m},sFjn:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isOpen:!1,isInsertOpen:!1,isTurnIntoOpen:!1,isColorPopup:!1}},t}(r("LEzx").default);t.default=a},sLhR:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("jmjn"),u=r("n8tN"),c=r("mego"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderPersisted=function(){return i.createElement(c.default,a({},this.props,this.stores,{store:this.props.store,iconSvg:l.default.loom,mediaMenuCurrentTab:"embed",mediaMenuTabs:["embed"],mediaMenuEmbedCaption:"Works with any Loom sharable link..."}),"Embed Loom")},t.stores={blockResizerStore:s.default},t}(u.default);t.default=d},sPNb:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("jZoB"),s=r("N34Z"),u=r("nM47"),c=r("Mf5Y"),d=r("MBf9"),p=r("udrG"),f=r("VpIZ");t.transform=function(e){var t=this,r=e.block,h=e.blockType,m=e.transaction;if(u.validateCanCreate()){s.updateValue({store:r,data:{type:h},transaction:m});var y=r.getValue(),g=r.getType(),v=r.recordStoreParentStore;if(y&&v&&(f.isHeadingType(y)||g===p.default.divider)){n(t,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e=r.getContentStores(),[4,Promise.all(e.map(function(e){return e.load()}))];case 1:return t.sent(),d.createAndCommit(function(t){var n,o,s=i.clone(e).reverse();try{for(var u=a(s),c=u.next();!c.done;c=u.next()){var d=c.value;l.remove({parent:r.getContentStore(),remove:d,transaction:t}),l.insertAfter({parent:v,insert:d,after:r,transaction:t})}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}),[2]}})})}!y||"code"!==y.type||y.properties&&y.properties.language||c.postCreateCodeBlock({store:r,transaction:m})}return r},t.transformBlocks=function(e){var r,n,o=e.blocks,i=e.blockType,l=e.transaction;try{for(var s=a(o),u=s.next();!u.done;u=s.next()){var c=u.value;t.transform({block:c,blockType:i,transaction:l})}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}},sQnJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("cBa6"),o=r("r8oj"),a=r("RI9y"),i=r("Ajfl"),l=r("unoy"),s=r("6rsX"),u=r("y6Dp"),c=r("AmMh"),d=r("43ch"),p=r("WaiN"),f=r("GKeo"),h=r("7IvN");t.activateFromInsertion=function(e){var t=e.textStore,r=e.oldSelection,i=e.oldTextValue,l=f.default.state,s=n.getChars(t.getValue()||[])[r.startIndex],c=d.default.findEditableWithStore(t);if(!l.open&&!p.default.state.open&&!h.default.state.open&&"/"===s&&c&&!c.props.disableSlashCommands&&(!o.default.isMobile||o.default.isTablet)){var m=a.get();if(m){var y=a.getRect(m);y&&(f.default.setState({open:!0,isAddMenu:!1,textStore:t,oldTextValue:i,oldSelection:r,selectionRect:y}),u.trackOpenSlashMenu())}}},t.activateForAddMenu=function(e){var t=e.blockStore;if(!f.default.state.open&&!o.default.isMobile){var r=t.getBlockTitleStore(),n=c.default.getRectFromStore(t);n&&f.default.setState({open:!0,isAddMenu:!0,textStore:r,oldTextValue:r.getValue(),oldSelection:{startIndex:0,endIndex:0},selectionRect:n})}},t.accept=function(e){var r=e.transaction,n=f.default.state;if(n.open){var o=n.textStore,a=n.oldTextValue,u=n.oldSelection;i.setValue({store:o,value:a,transaction:r}),t.close();var c=d.default.getClosestSelectableStore(o);c&&s.edit({store:c}),l.setSelection({store:o,selection:u})}},t.close=function(){f.default.setState({open:!1})}},sS7W:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("y6Dp"),a=r("iICV"),i=r("cR5F");function l(e){i.default.state.open||(i.default.setState(n({},i.default.state,{open:!0})),o.trackOpenQuickFind({from:e.analyticsFrom}))}t.toggleQuickFind=function(e){i.default.state.open?t.closeQuickFind():l(e)},t.openQuickFind=l,t.closeQuickFind=function(){i.default.state.open&&(i.default.setState(n({},i.default.state,{open:!1})),a.default.setKeyboardMode(!1))}},sSHh:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("t+pW"),l=r("prF1"),s=r("mF3+"),u=r("y6Dp"),c=r("d9nj"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this;return a.createElement(l.default,{style:{display:"flex",marginLeft:-6},href:this.props.href,external:!0,onClick:function(){return u.trackClickHelpButton({from:e.props.analyticsFrom})}},a.createElement(c.default,{icon:s.default.help,isSmall:!0,isLightGray:!0},this.props.title))},t}(i.default);t.default=d},sV9r:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("r8oj"),u=r("M64d"),c=r("tvfY"),d=r("NOLh"),p=r("vio7"),f=r("wldR"),h=r("ZYTv"),m=r("nFzZ"),y=r("T1hA"),g=r("AmMh"),v=r("fbat"),b=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.avatarsWithRects=[],r.handleContainerMount=function(e){e&&(r.containerEl=e)},r.updateAvatars=function(){var e=r.props.presenceStore;if(e&&r.containerEl){var n=y.default.state.userId,o=e.getUserData().filter(function(t){return t.userId!==n&&e.getUserIsPresent(t)}),a=e.state.rootStore;if(a){var i=[];if(o.length>0){var l={},s=v.default.state.currentStore,u=g.default.getSortedComponents(),c=r.containerEl.getBoundingClientRect();i=m.compact(o.map(function(r){var n=e.getUserBlockId(r);if(n){var o=u.find(function(e){var t=e.props.store;return Boolean(t&&t.id===n&&a.contains(t)&&e.props.shouldShowHalo)});if(o){l.hasOwnProperty(n)||(l[n]=0),l[n]++;var i=o.getNode();if(!i)return;if(!(i instanceof Element))return;var d=i.getBoundingClientRect(),p=s&&s.id===n?t.selectableHoverMenuTargetOffset:0;if(d)return{userId:r.userId,left:d.left-c.left-p,top:d.top-c.top+(l[n]-1)*t.iconStackOffset}}}}))}r.avatarsWithRects=i,r.enqueueForceUpdate()}}},r.updateAvatarsDebounced=l.debounce(r.updateAvatars,100),r}return o(t,e),t.prototype.didMount=function(){e.prototype.didMount.call(this),window.addEventListener("resize",this.updateAvatarsDebounced),this.interval=setInterval(this.updateAvatarsDebounced,t.updateInterval)},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),window.removeEventListener("resize",this.updateAvatarsDebounced),clearInterval(this.interval)},t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t)},t.prototype.renderComponent=function(){var e=this;return i.createElement("div",{className:"notion-presence-container",style:t.containerStyle,ref:this.handleContainerMount},i.createElement(p.default,{render:function(){return m.compact(e.avatarsWithRects.map(function(t){var r=t.userId,n=t.left,o=t.top;return e.renderAvatar(r,n,o)}))}}))},t.prototype.renderAvatar=function(e,r,n){var o=this,l=this.props.presenceStore.state.rootStore;if(l){var p=this.getAvatarWrapEnterExitStyle(r,n),f=c.default.createChildStore(l,e).getValue();if(f)return i.createElement(d.default,{isVisible:!0,key:e,enterAnimationStyle:p,exitAnimationStyle:p,animationStyle:this.getAvatarWrapAnimationStyle(r,n),render:function(){return u.default(function(r){return i.createElement("div",a({key:e,style:o.getAvatarWrapStyle()},r),i.createElement(h.default,{userValue:f,style:o.getAvatarStyle(),format:h.default.Format.AvatarOnly,avatarSize:s.default.isMobile?t.avatarMobileSize:t.avatarSize,avatarShouldShowShadow:!0}))})}})}},t.prototype.getAvatarWrapAnimationStyle=function(e,t){return s.default.isMobile?(e-=21,t+=5):(e-=28,t+=3),{translateX:e,translateY:t,scale:1,opacity:1}},t.prototype.getAvatarWrapEnterExitStyle=function(e,t){return a({},this.getAvatarWrapAnimationStyle(e,t),{scale:.5,opacity:0})},t.prototype.getAvatarWrapStyle=function(){var e;return{position:"absolute",top:0,left:0,width:e=s.default.isMobile?t.avatarMobileSize:t.avatarSize,height:e}},t.prototype.getAvatarStyle=function(){var e;return{width:e=s.default.isMobile?t.avatarMobileSize:t.avatarSize,height:e}},t.updateInterval=1e3,t.iconStackOffset=15,t.selectableHoverMenuTargetOffset=44,t.avatarSize=24,t.avatarMobileSize=20,t.containerStyle={position:"absolute",top:0,left:0,pointerEvents:"none",zIndex:1},t}(f.default);t.default=b},sZEU:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("y6Dp"),o=r("nfLz");t.openIntercomMessages=function(e){var t=e.from,r=e.prepopulatedContent;n.trackOpenSupportChat({from:t}),o.openMessages({prepopulatedContent:r})}},saYl:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("t+pW"),l=r("MeYt"),s=r("FcJC"),u=r("ikHm"),c=r("mF3+"),d=r("r8oj"),p=r("ttM1"),f=r("UcZb"),h=r("wS9/"),m=r("X3py"),y=r("DNgp"),g=r("AXh+"),v=r("QcDD"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){s.quickAddPage({from:"mobile_quick_add_button"})},t.shouldShowStore=t.createComputedStore(function(){return m.default.state.phase===m.ReactNativeKeyboardPhase.hidden&&!f.default.state.open&&!y.default.state.editing&&!g.userHasPermissionViaPublicAccess(t.props.store)&&Boolean(v.default.state.currentSpaceStore&&v.default.state.currentSpaceStore.canEdit())}),t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return a.createElement(p.default,{show:this.shouldShowStore.state,showDelay:300,showHold:0,render:function(r){return a.createElement("div",{style:e.getWrapStyle(r)},a.createElement(l.default,{onClick:e.handleClick,mobileFeedback:!0,style:t.buttonStyle},c.default.mobileQuickAdd(e.getIconStyle())))}})},t.prototype.getWrapStyle=function(e){var t=d.default.isMobileBrowser;return{position:"absolute",bottom:t?16:h.default.calcPaddingBottom(16),right:t?16:h.default.calcPaddingRight(16),width:44,height:44,borderRadius:"100%",overflow:"hidden",zIndex:u.mobileQuickAddButton,opacity:e?1:0,pointerEvents:e?"auto":"none",background:this.theme.buttonBackground,border:"1px solid "+this.theme.darkDividerColor}},t.prototype.getIconStyle=function(){return{width:22,fill:this.theme.regularIconColor}},t.buttonStyle={display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},t}(i.default);t.default=b},samx:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("LvDl"),u=r("t+pW"),c=r("LeVO"),d=r("WgIs"),p=r("njgS"),f=r("g90h"),h=r("6BTz"),m=r("nFzZ"),y=r("y6Dp"),g=r("2Y+N"),v=r("SR/M"),b=r("B22C"),w=r("gbGO"),S=r("i3uR"),_=r("r8oj"),k=r("wXH4"),C=r("uSCg"),E=r("Sb6f"),P=r("d9nj"),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderMenu=function(e){var r;return r=_.default.isMobile?{menuType:w.default.MenuType.Modal,title:"Aggregation",right:"Done",onClickRight:e.close}:{menuType:w.default.MenuType.Popup,width:200},l.createElement(w.default,a({},r),l.createElement(d.default,{initialFocus:0,sections:[{key:"aggregation section",render:function(e){return l.createElement(g.default,a({},e))},items:t.getAggregationActions()}],onAccept:e.close}))},t.handleSelectAggregation=function(e,r){var n,o=t.props,a=o.aggregation,i=o.schema,l=o.onChange,s=a?a.id:f.default();if(e){var u=i[e];u&&(n=u.type)}l(a,{id:s,property:e,type:n,aggregation_type:r,view_type:"board"}),y.trackConfigureView({view_type:"board",action:"board_change_aggregation"})},t.renderAggregationMenuItem=function(e,t,r){return l.createElement(c.default,{key:r.key,placement:k.Popup.Placement.Right,delayThreshold:0,render:function(e){return l.createElement(v.default,a({title:t},C.default(e,r)))},renderTooltip:function(){return l.createElement("div",{style:{width:140,whiteSpace:"normal"}},l.createElement("img",{src:p.aggregationImages[e],style:{borderRadius:3,width:140,marginTop:4}}),p.aggregationDescriptions[e])}})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return l.createElement(c.default,{renderTooltip:function(){return e.renderTooltipText()},render:function(t){return l.createElement(S.default,{popupType:_.default.isMobile?S.default.PopupType.SlideUp:S.default.PopupType.Popup,renderOrigin:function(r){return l.createElement(P.default,a({disabled:e.props.disabled,style:{fontWeight:E.default.fontWeight.medium,color:e.theme.lightTextColor,height:24}},C.default(t,r)),e.renderValue())},disabled:e.props.disabled,render:e.renderMenu})}})},t.prototype.renderTooltipText=function(){var e=this.props,t=e.aggregation,r=e.schema;if(t){var n=p.aggregationFullNameMap[t.aggregation_type];if(t.property){var o=r[t.property];if(o)return n+" in "+o.name}return n}return"Aggregate"},t.prototype.renderValue=function(){var e=this.props,t=e.aggregation,r=e.schema,n=e.aggregationResult;if(t&&n&&!m.isNotDefined(n.value)){if(t.property){var o=r[t.property],a=h.getAggregationNumberFormat(o,t.aggregation_type);return h.formatNumber(s.round(n.value,5),a)}return n.value.toString()}},t.prototype.getAggregationActions=function(){var e,t,r,n,o,a,l,s,u,c,d=[];try{for(var f=i(p.rowAggregations),h=f.next();!h.done;h=f.next()){var m=h.value;d.push(this.createRowAggregationAction(m))}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}var y=this.getDefaultProperties();if(y.length>0)try{for(var g=i(p.defaultPropertyAggregations),v=g.next();!v.done;v=g.next()){m=v.value;d.push(this.getAggregationGroupAction(m,y))}}catch(e){r={error:e}}finally{try{v&&!v.done&&(n=g.return)&&n.call(g)}finally{if(r)throw r.error}}var b=this.getNumericProperties();if(b.length>0)try{for(var w=i(p.numericPropertyAggregations),S=w.next();!S.done;S=w.next()){m=S.value;d.push(this.getAggregationGroupAction(m,b))}}catch(e){o={error:e}}finally{try{S&&!S.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}var _=this.getDateProperties();if(_.length>0)try{for(var k=i(p.datePropertyAggregations),C=k.next();!C.done;C=k.next()){m=C.value;d.push(this.getAggregationGroupAction(m,_))}}catch(e){l={error:e}}finally{try{C&&!C.done&&(s=k.return)&&s.call(k)}finally{if(l)throw l.error}}var E=this.getCheckboxProperties();if(E.length>0)try{for(var P=i(p.checkboxPropertyAggregations),x=P.next();!x.done;x=P.next()){m=x.value;d.push(this.getAggregationGroupAction(m,E))}}catch(e){u={error:e}}finally{try{x&&!x.done&&(c=P.return)&&c.call(P)}finally{if(u)throw u.error}}return d},t.prototype.getAggregationGroupAction=function(e,t){var r=this,n=p.aggregationFullNameMap[e],o=m.compact(t.map(function(t){return r.createPropertyAggregationAction(t,e)}));return{key:e+n,render:function(e,t){return l.createElement(b.default,a({},e,{onFocus:t.onFocus,renderOrigin:function(e){return l.createElement(v.default,a({},e,{title:n}))},renderExtension:function(e,r){var i;return i=_.default.isMobile?a({menuType:w.default.MenuType.Modal,title:n,right:"Done",onClickRight:r.close},e):a({menuType:w.default.MenuType.Popup,width:200},e),l.createElement(w.default,a({},i),l.createElement(d.default,{initialFocus:0,sections:[{key:"results",render:function(e){return l.createElement(g.default,a({},e))},items:o}],onAccept:t.onAccept}))}}))},action:function(){return null}}},t.prototype.getDefaultProperties=function(){var e=this.props.schema;return Object.keys(e).filter(function(t){var r=e[t];return r&&p.propertySupportsDefaultPropertyAggregations(r)})},t.prototype.getNumericProperties=function(){var e=this.props.schema;return Object.keys(e).filter(function(t){var r=e[t];return r&&p.propertySupportsNumericPropertyAggregations(r)})},t.prototype.getDateProperties=function(){var e=this.props.schema;return Object.keys(e).filter(function(t){var r=e[t];return r&&p.propertySupportsDatePropertyAggregations(r)})},t.prototype.getCheckboxProperties=function(){var e=this.props.schema;return Object.keys(e).filter(function(t){var r=e[t];return r&&p.propertySupportsCheckboxPropertyAggregations(r)})},t.prototype.createRowAggregationAction=function(e){var t=this,r=p.aggregationFullNameMap[e];return{key:e,render:function(n){return t.renderAggregationMenuItem(e,r,n)},action:function(){t.handleSelectAggregation(void 0,e)}}},t.prototype.createPropertyAggregationAction=function(e,t){var r=this,n=this.props.schema[e];if(n){var o=n.name;return{key:e+" "+t,render:function(e){return r.renderAggregationMenuItem(t,o,e)},action:function(){r.handleSelectAggregation(e,t)}}}},t}(u.default);t.default=x},sbdd:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("SR/M"),u=r("wpmu"),c=r("G4cA"),d=r("OxuQ"),p=r("Oy36"),f=r("t+pW"),h=r("aw/t"),m=r("gbGO"),y=r("mF3+"),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.store,r=e.placeholder,n=e.hidePath;return i.createElement(s.default,a({},this.props,{title:i.createElement(d.default,{store:t,placeholder:r}),icon:this.renderIcon(),caption:!n&&h.hasPath(t)&&i.createElement(h.default,{store:t})}))},t.prototype.renderIcon=function(){var e=this.props.store,t=this.context.isMobile;return this.props.isSubpage?i.createElement(l.Fragment,null,y.default.sub({width:t?17:14,fill:this.theme.lightIconColor,marginLeft:4,marginRight:t?12:8}),i.createElement(p.default,{disabled:!0,icon:e.getIcon(),isEmptyPage:e instanceof u.default&&e.isEmptyPage(),title:e instanceof c.default?e.getName():void 0,size:this.context.isMobile?24:20})):i.createElement(p.default,{disabled:!0,icon:e.getIcon(),isEmptyPage:e instanceof u.default&&e.isEmptyPage(),title:e instanceof c.default?e.getName():void 0,size:this.context.isMobile?24:20})},t.contextTypes=a({},m.menuContextTypes),t}(f.default);t.default=g},scnN:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl");t.object=function(e){return function(t){if(!o.isPlainObject(t))return!1;for(var r in e)if(!e[r](t[r]))return!1;return!0}},t.objectMapOf=function(e){return function(t){if(!o.isPlainObject(t))return!1;for(var r in t)if(!e(t[r]))return!1;return!0}},t.string=function(){return function(e){return o.isString(e)}},t.number=function(){return function(e){return o.isNumber(e)}},t.gt=function(e){return function(t){return o.isNumber(t)&&t>e}},t.gte=function(e){return function(t){return o.isNumber(t)&&t>=e}},t.lt=function(e){return function(t){return o.isNumber(t)&&t<e}},t.lte=function(e){return function(t){return o.isNumber(t)&&t<=e}},t.optional=function(e){return function(t){return void 0===t||e(t)}},t.maxLen=function(e){return function(t){return!(!o.isArray(t)||t.length>e)}},t.minLen=function(e){return function(t){return!(!o.isArray(t)||t.length<e)}},t.array=function(e){return function(t){var r,a;if(!o.isArray(t))return!1;try{for(var i=n(t),l=i.next();!l.done;l=i.next()){var s=l.value;if(!e(s))return!1}}catch(e){r={error:e}}finally{try{l&&!l.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return!0}},t.boolean=function(){return function(e){return o.isBoolean(e)}},t.any=function(){return function(e){return!0}},t.equal=function(e){return function(t){return t===e}},t.oneOf=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some(function(e){return t===e})}},t.or=function(e,t){return function(r){return e(r)||t(r)}},t.or3=function(e,t,r){return function(n){return e(n)||t(n)||r(n)}},t.primitive=function(){return function(e){return o.isNumber(e)||o.isString(e)||o.isBoolean(e)||o.isNull(e)}},t.and=function(e,t){return function(r){return e(r)&&t(r)}},t.union=function(e){return function(t){return e.some(function(e){return e(t)})}}},sdlW:function(e,t,r){"use strict";var n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s,u=r("LvDl"),c=r("STAJ"),d=r("udrG"),p=r("FUUC"),f=r("wpmu"),h=r("G4cA"),m=r("lKX+"),y=r("bkwR"),g=r("jZoB"),v=r("Mr7a"),b=r("N34Z"),w=r("H4VD"),S=r("MBf9"),_=r("NQmS"),k=r("HSWF"),C=r("Fe7V"),E=r("y6Dp"),P=r("nM47"),x=r("cBa6"),T=r("p+Y9"),O=r("ju2U"),M=r("g90h"),I=r("VBxf"),A=r("hvW1"),D=r("QcDD"),L=r("T1hA"),R=r("UiOz"),B=r("+DAh"),j=r("A9TN"),V=r("8L2b"),F=r("vJXr"),N=r("qpkC"),U=r("9axl"),W=r("r8oj");function z(e){var t=e.spaceViewStore,r=e.spaceStore,n=e.isPrivate,o=e.prepend,a=e.title,i=e.transaction,l=e.loading,s=b.createBlock({type:l?d.default.copyIndicator:d.default.page,properties:{title:a?x.createTextValue(a):void 0},recordCacheStore:r.recordCacheStore,transaction:i});return H({spaceStore:r,spaceViewStore:t,pageStore:s,isPrivate:n,prepend:o,transaction:i}),s}function H(e){var t,r=e.spaceStore,n=e.pageStore,o=e.isPrivate,a=e.prepend,i=e.transaction,l=L.default.state.userId;o?l&&(t={type:"user_permission",role:"editor",user_id:l}):t={type:"space_permission",role:"editor"},b.updateValue({store:n,data:{permissions:t?[t]:[]},transaction:i}),a?g.prepend({parent:r.getPagesStore(),prepend:n,transaction:i}):g.append({parent:r.getPagesStore(),append:n,transaction:i})}t.createSpace=function(e){return a(this,void 0,void 0,function(){var t,r,n,o,a,l,s,u,c,d,f,y;return i(this,function(i){switch(i.label){case 0:return t=e.name,r=e.domain,n=e.userRootStore,o=e.emailDomains,a=e.analyticsFrom,l=S.create(),(s=L.default.state.userId)?(u=b.createRecord({table:p.default.table,value:{name:t,domain:r||void 0,permissions:[{type:"user_permission",role:"editor",user_id:s}],email_domains:o,beta_enabled:!1},recordCacheStore:n.recordCacheStore,transaction:l}),c=new h.default(u.id),d=b.createRecord({table:V.default.table,value:{space_id:c.id,notify_mobile:!0,notify_desktop:!0,notify_email:!0,parent_id:s,parent_table:U.default.table,alive:!0},recordCacheStore:n.recordCacheStore,transaction:l}),f=new m.default(d.id),g.append({parent:n.getSpaceViewsStore(),append:d,transaction:l}),E.trackCreateSpace({from:a}),y=l.awaitDone(),S.commit({transaction:l}),[4,y]):[3,2];case 1:return i.sent(),[2,{spaceViewStore:f,spaceStore:c}];case 2:throw new Error("Must be logged in.")}})})},t.navigateToSpace=function(e){return a(this,void 0,void 0,function(){var r,n,a,l,u,c,d,p,h,m,y,g;return i(this,function(i){switch(i.label){case 0:if(r=e.spaceViewStore,n=e.redirectPageId,a=e.userSettingsStore,!(l=r.getSpaceStore()))throw new Error("Invalid space store.");return O.removeBanner({bannerStore:R.default,id:T.uploadLimitBannerId}),a?[4,t.automaticallyCreateGettingStartedPageInSpace({spaceStore:l,spaceViewStore:r,userSettingsStore:a})]:[3,2];case 1:return c=i.sent(),[3,3];case 2:c=void 0,i.label=3;case 3:return u=c,p=k.getSessionVisitedEvernotePage(),a?(h=a.getSettings(),l.canEdit()&&p&&!h.created_evernote_getting_started?(k.setSessionVisitedEvernotePage(!1),[4,t.createGettingStartedPageInSpace({type:s.Evernote,spaceStore:l,spaceViewStore:r,userSettingsStore:a})]):[3,5]):[3,5];case 4:d=i.sent(),i.label=5;case 5:return[4,r.getFirstPageStore()];case 6:return m=i.sent(),n?w.navigateToBlock({store:new f.default(n)}):d?w.navigateToBlock({store:d}):u?w.navigateToBlock({store:u}):m?w.navigateToBlock({store:m}):l.canEdit()?(y=S.create(),g=z({spaceStore:l,spaceViewStore:r,isPrivate:!0,transaction:y,prepend:!1}),S.commit({transaction:y}),w.navigateToBlock({store:g})):(k.setLastVisitedRoute(void 0),_.createOrJoinSpace()),D.default.setState(o({},D.default.state,{currentSpaceStore:l,currentSpaceViewStore:r})),[2]}})})},t.navigateToFirstSpace=function(e){return a(this,void 0,void 0,function(){var r,n,o,a,l;return i(this,function(i){switch(i.label){case 0:return r=e.userRootStore,n=e.ignoreSpaceId,o=e.userSettingsStore,[4,r.load()];case 1:return i.sent(),a=r.getSpaceViewStores(),[4,Promise.all(a.map(function(e){return e.load()}))];case 2:return i.sent(),(l=a.find(function(e){return!n||e.getSpaceId()!==n}))?[4,t.navigateToSpace({spaceViewStore:l,userSettingsStore:o})]:[3,4];case 3:return i.sent(),[3,5];case 4:k.setLastVisitedRoute(void 0),_.createOrJoinSpace(),i.label=5;case 5:return[2]}})})},t.navigateToSpaceAtIndex=function(e){return a(this,void 0,void 0,function(){var r,n,o,a,l;return i(this,function(i){switch(i.label){case 0:return r=e.index,n=e.userRootStore,o=e.userSettingsStore,a=n.getSpaceViewStores(),(l=a[r])?[4,t.navigateToSpace({spaceViewStore:l,userSettingsStore:o})]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.createEmptyPageInSpace=z,t.addPageToSpace=H,function(e){e[e.Web=0]="Web",e[e.Mobile=1]="Mobile",e[e.Evernote=2]="Evernote"}(s=t.GettingStartedPageType||(t.GettingStartedPageType={}));var q=((n={})[s.Web]="e950a58c-0d6f-42c3-8225-9e7adc5d4182",n[s.Mobile]="27fa9add-6ec7-433a-88c9-58279f5055c3",n[s.Evernote]="2e568628-70b1-4f35-934e-81ea4263d0e8",n);t.createGettingStartedPageInSpace=function(e){return a(this,void 0,void 0,function(){var t,r,n,o,a,l,u,c,d,p,f;return i(this,function(i){switch(i.label){case 0:return t=e.type,r=e.spaceStore,n=e.spaceViewStore,o=e.userSettingsStore,F.default.state.online?(a=q[t],[4,y.loadBlockSubtree({blockId:a,shallow:!1})]):[2];case 1:if("failed"===(l=i.sent()).type)return[2];if(u=S.create(),c=z({spaceStore:r,spaceViewStore:n,isPrivate:!0,prepend:!0,transaction:u}),C.setRecordMap({recordCacheStore:c.recordCacheStore,recordMap:l.data.subtreeRecordMap}),!(d=N.loadLocalSubtree({blockId:a,recordCacheStore:c.recordCacheStore,allowCopyCollections:!0,requireFullSubtree:!1})))throw new Error("Client copy could not be created.");return N.localDuplicate({sourceBlockId:a,targetBlockId:c.id,sourceBlockSubtree:d,targetRecordCacheStore:c.recordCacheStore,transaction:u}),p={},f={},t!==s.Web&&t!==s.Mobile||(p.created_getting_started=!0),t===s.Evernote&&(f.created_evernote_getting_started=!0),Object.keys(p).length>0&&b.updateValue({store:n,data:p,transaction:u}),Object.keys(f).length>0&&b.updateValue({store:o.getSettingsStore(),data:f,transaction:u}),S.commit({transaction:u}),[2,c]}})})},t.automaticallyCreateGettingStartedPageInSpace=function(e){return a(this,void 0,void 0,function(){var r,n,o,a;return i(this,function(i){switch(i.label){case 0:return r=e.spaceStore,n=e.spaceViewStore,o=e.userSettingsStore,[4,Promise.all([r.load(),n.load(),o.load()])];case 1:if(i.sent(),r.canEdit()){if(!(a=n.getValue()))throw new Error("Invalid space view value.");if(!o.getValue())throw new Error("Invalid user settings value.");if(!a.created_getting_started)return[2,t.createGettingStartedPageInSpace({spaceStore:r,spaceViewStore:n,type:W.default.isMobile?s.Mobile:s.Web,userSettingsStore:o})]}return[2]}})})},t.updateSpaceIcon=function(e){return new Promise(function(t,r){var n=e.spaceStore,o=e.icon,a=e.transaction;b.updateValue({store:n,data:{icon:o},transaction:a}),a.postSubmitCallbacks.push(function(e){e?r(e):t()})})},t.updateSpaceSettings=function(e){return a(this,void 0,void 0,function(){var t,r,n,o,a,s,c,d,p,f,h,m,y,g,v,w;return i(this,function(i){switch(i.label){case 0:return n=e.spaceStore,o=S.create(),a=n.getValue(),s={domain:e.domain,email_domains:e.emailDomains,name:e.name,disable_public_access:e.disablePublicAccess,disable_guests:e.disableGuests,disable_move_to_space:e.disableMoveToSpace,disable_export:e.disableExport},c=Boolean(!!a&&a.disable_public_access),d=Boolean(!!s&&s.disable_public_access),c||!d?[3,2]:[4,I.confirmUserAction({message:"Are you sure? This will remove public access from all pages in this workspace.",acceptLabel:"Yes"})];case 1:if(!i.sent())return[2];i.label=2;case 2:return p=Boolean(!!a&&a.disable_guests),f=Boolean(!!s&&s.disable_guests),p||!f?[3,4]:[4,I.confirmUserAction({message:"Are you sure? All guests in this workspace will be removed.",acceptLabel:"Yes"})];case 3:if(!i.sent())return[2];i.label=4;case 4:h={};try{for(m=l(Object.keys(s)),y=m.next();!y.done;y=m.next())g=y.value,v=a?a[g]:void 0,w=s[g],u.isEqual(v,w)||(h[g]=w||null)}catch(e){t={error:e}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}return b.updateValue({store:n,data:h,transaction:o}),S.commit({transaction:o}),[2,new Promise(function(e,t){o.postSubmitCallbacks.push(function(r){r?t(r):e()})})]}})})},t.joinSpace=function(e){return a(this,void 0,void 0,function(){var r,n,o,a,l,s,u,c,d,p;return i(this,function(i){switch(i.label){case 0:return r=e.spaceId,n=e.userRootStore,o=e.navigate,a=e.analyticsFrom,l=e.userSettingsStore,s=n.getSpaceViewStores(),u=s.find(function(e){var t=e.getValue();return Boolean(t&&t.space_id===r)}),j.default.isAdminMode||y.setSpaceInviteNotificationsAsReadAndVisited({timestamp:Date.now(),spaceId:r}),u?o?[4,t.navigateToSpace({spaceViewStore:u,userSettingsStore:l})]:[3,2]:[3,3];case 1:i.sent(),i.label=2;case 2:return[2,{spaceViewStore:u}];case 3:return[4,y.addUsersToSpace({userIds:[n.id],spaceId:e.spaceId})];case 4:if("failed"===(c=i.sent()).type)throw c.error;return d=n.getSpaceViewStores(),[4,Promise.all(d.map(function(e){return e.load()}))];case 5:if(i.sent(),!(p=d.find(function(e){var t=e.getValue();return Boolean(t&&t.space_id===r)})))throw new Error("No space view was created.");return o?[4,t.navigateToSpace({spaceViewStore:p,userSettingsStore:l})]:[3,7];case 6:i.sent(),i.label=7;case 7:return P.updateCurrentSpace({spaceId:e.spaceId}).then(function(){E.trackJoinSpace({from:a})}),[2,{spaceViewStore:p}]}})})},t.leaveSpace=function(e){return a(this,void 0,void 0,function(){var r,n,o,a,l;return i(this,function(i){switch(i.label){case 0:return r=e.spaceId,n=e.userSettingsStore,o=D.default.state,a=o.userRootStore,l=o.userStore,a&&l?[4,y.removeUsersFromSpace({userIds:[l.id],spaceId:r,removePagePermissions:!0,revokeUserTokens:!1})]:[3,2];case 1:i.sent(),t.navigateToFirstSpace({userRootStore:a,ignoreSpaceId:r,userSettingsStore:n}),i.label=2;case 2:return[2]}})})},t.deleteSpace=function(e){return a(this,void 0,void 0,function(){var r,n,o,a,l,s;return i(this,function(i){switch(i.label){case 0:if(r=e.spaceId,n=e.userSettingsStore,o=D.default.state,a=o.userRootStore,l=o.userStore,!a||!l)return[3,5];A.display({message:"Deleting Workspace..."}),i.label=1;case 1:return i.trys.push([1,,4,5]),[4,y.deleteSpace({spaceId:r}).next()];case 2:if((s=i.sent().value).error)throw s.error;return[4,C.fetchRemoteRecord({recordCacheStore:B.default,table:"user_root",id:a.id})];case 3:return i.sent(),t.navigateToFirstSpace({userRootStore:a,ignoreSpaceId:r,userSettingsStore:n}),[3,5];case 4:return A.close(),[7];case 5:return[2]}})})},t.setPagePermissionsToPrivate=function(e){var t,r,n=e.blocks,o=e.transaction,a=L.default.state.userId;if(a)try{for(var i=l(n),s=i.next();!s.done;s=i.next()){var u=s.value;b.updateValue({store:u,data:{permissions:[{type:"user_permission",role:"editor",user_id:a}]},transaction:o})}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.setPagePermissionsToWorkspace=function(e){var t,r,n=e.blocks,o=e.transaction;if(L.default.state.userId)try{for(var a=l(n),i=a.next();!i.done;i=a.next()){var s=i.value;s.getPermissionItems().find(function(e){return"space_permission"===e.type&&"editor"===e.role})||v.setPermissionItems({store:s,permissionItems:[{type:"space_permission",role:"editor"}],transaction:o})}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}},t.removePagePermissions=function(e){var t,r,n=e.blocks,o=e.transaction;try{for(var a=l(n),i=a.next();!i.done;i=a.next()){var s=i.value;b.updateValue({store:s,data:{permissions:null},transaction:o})}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}},t.createPermissionGroup=function(e){var t=e.spaceStore,r=e.transaction,n=t.getValue();if(!n)throw new Error("Space has no value.");var o={id:M.default()},a=n.permission_groups||[],i=c.prepend(o,a);return b.updateValue({store:t,data:{permission_groups:i},transaction:r}),o},t.updatePermissionGroups=function(e){var t=e.spaceStore,r=e.groups,n=e.transaction;b.updateValue({store:t,data:{permission_groups:r},transaction:n})},t.updatePermissionGroup=function(e){var t=e.spaceStore,r=e.group,n=e.transaction,o=t.getValue();if(!o)throw new Error("Space has no value.");var a,i=o.permission_groups||[];a=i.findIndex(function(e){return e.id===r.id})>=0?i.map(function(e){return e.id===r.id?r:e}):c.append(r,i),b.updateValue({store:t,data:{permission_groups:a},transaction:n})},t.deletePermissionGroup=function(e){return a(this,void 0,void 0,function(){var t,r,n,o,a,l;return i(this,function(i){switch(i.label){case 0:if(t=e.spaceStore,r=e.group,n=e.transaction,!(o=t.getValue()))throw new Error("Space has no value.");return a=o.permission_groups||[],l=a.filter(function(e){return e.id!==r.id}),b.updateValue({store:t,data:{permission_groups:l},transaction:n}),[4,y.transferPermissionGroup({spaceId:t.id,groupId:r.id})];case 1:return i.sent(),[2]}})})},t.setSpaceViewIds=function(e){return a(this,void 0,void 0,function(){var t,r,n;return i(this,function(o){return t=e.userRootStore,r=e.spaceViewIds,n=e.transaction,b.updateValue({store:t,data:{space_views:r},transaction:n}),[2]})})},t.getSpaceDomainUrl=function(e){var t=e.getDomain();return t?window.location.host+"/"+t:null},t.validateSpaceDomain=function(e){return e=(e=e.toLowerCase()).replace(/[^a-z0-9]/g,"")}},sgGF:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o=r("g90h");t.getFirebaseTokenId=function(e){var t=e.user_id,r=e.token;return o.deterministicID([t,r].join(""))};var a={table:"firebase_token",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,token:n.default.String,user_id:n.default.UUID,invalid:n.default.Boolean}};t.default=a},sjR4:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,i=r("LvDl"),l=r("LEzx"),s=r("AmMh");!function(e){e[e.Selected=0]="Selected",e[e.Editing=1]="Editing"}(a=t.SelectionPhase||(t.SelectionPhase={}));var u=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{stores:[],phase:a.Selected}},t.prototype.cloneState=function(){return{stores:i.clone(this.state.stores),phase:this.state.phase}},t.prototype.getEditing=function(){if(this.state.phase===a.Editing)return this.state.stores[0]},t.prototype.isSelected=function(){return this.state.stores.length>0&&this.state.phase===a.Selected},t.prototype.getNodes=function(){return i.compact(i.map(this.state.stores,function(e){return s.default.findNodeFromStore(e)}))},t.prototype.getCurrentRootStore=function(){var e=this.state.defaultContainer;if(e)return e.props.store},t.prototype.getCurrentRecordCacheStore=function(){var e=this.getCurrentRootStore();if(e)return e.recordCacheStore},t.Phase=a,t}(l.default));window.__SelectionStore=u,t.default=u},sk4J:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wldR"),s=r("r8oj"),u=r("nFzZ"),c=r("2Y+N"),d=r("WgIs"),p=r("gbGO"),f=r("IdIf"),h=r("SR/M"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e,t=this.props,r=t.onAccept,n=t.onClose,o=[{key:0,render:function(e){return i.createElement(c.default,a({},e))},items:u.compact(["small","medium","large"].map(function(e){return{key:e||"medium",render:function(t){return i.createElement(h.default,a({},t,{disabled:!1,title:f.getCoverSizeHumanReadableName(e)}))},action:function(){return r(e)}}}))}];return e=s.default.isMobile?{menuType:p.default.MenuType.ActionSheet}:{menuType:p.default.MenuType.Popup,width:200},i.createElement(p.default,a({},e),i.createElement(d.default,{sections:o,onAccept:n,initialFocus:void 0}))},t}(l.default);t.default=m},smsn:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("LvDl"),c=r("q1tI"),d=r("z22Z"),p=r("aZ00"),f=r("mF3+"),h=r("oqYu"),m=r("Mr7a"),y=r("r8oj"),g=r("hbKx"),v=r("wpmu"),b=r("/YYm"),w=r("tvfY"),S=r("IwFn"),_=r("t+pW"),k=r("4QR2"),C=r("DQmc"),E=r("G+ib"),P=r("8fuX"),x=r("ZYTv"),T=r("gbGO"),O=r("2HDO"),M=r("MBf9"),I=r("LeVO"),A=r("Oy36"),D=r("OxuQ"),L=r("Sb6f"),R=r("5/h/"),B=r("D8Ld"),j=r("Cycz"),V=r("q1tI"),F=r("5Nka"),N=r("Fv2F"),U=r("QcDD"),W=r("vJXr"),z=r("wS9/"),H=r("r8MX"),q=r("A9TN"),G=r("oWRT"),Z=r("IULH"),Y=r("7M94"),K=r("AXh+"),J=r("prF1"),Q=r("MeYt"),X=r("qqdV"),$=r("y6Dp"),ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderUserPermissionItem=function(e){var r=t.props.store,n=v.default.createChildStore(r,e.blockIds[0]),o=w.default.createChildStore(r,e.permissionItem.user_id).getValue(),a=n.id!==r.id,s=c.createElement(x.default,{userValue:o,format:x.default.Format.AvatarOnly,avatarSize:E.default.iconSize,disableAvatarTooltip:!0,style:{width:"100%",height:"100%"}}),u=H.default.state.data,p=(u?j.getMembers(u):[]).find(function(t){return t.userId===e.permissionItem.user_id}),f=Boolean(p&&!d.canAdmin(p.role)&&!d.canEdit(p.role)),h=o&&o.email?f?c.createElement("div",{style:{display:"flex"}},c.createElement("div",{style:{minWidth:0,marginRight:3,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},o.email),c.createElement("div",null,"– Guest")):o.email:void 0;return c.createElement("div",{key:e.permissionItem.user_id,style:t.getPermissionItemWrapStyle()},c.createElement(E.default,{format:E.default.Format.User,currentBlockStore:r,store:n,permissionItem:e.permissionItem,disabled:!t.canEdit(),icon:s,title:R.getFullName(o)||"Invitation Sent",subtitle:h,role:e.permissionItem.role,isUser:!0,isGuest:f,isPublic:!1,isSubscribed:t.isSubscribed(),isInherited:a,tooltip:a?t.renderInheritedPermissionTooltip(n):void 0,upgradeButtonName:"user_permission_item",onUpgradeButtonClick:t.props.onUpgradeButtonClick,onChange:function(e){M.createAndCommit(function(n){return i(t,void 0,void 0,function(){return l(this,function(t){return m.setPermissionItems({store:r,permissionItems:[e],transaction:n}),[2]})})})}}))},t.handleCopy=function(){var e=b.default({store:t.props.store});p.copyString({stringValue:e}),t.props.buttonPopupStore.setState({open:!1})},t.handleReactNativeShareClick=function(){var e=N.getHttpUrl({schemeUrl:window.location.href,baseUrl:q.default.baseURL});y.default.isReactNative?h.share(e):y.default.isCordova&&G.share(e)},t}return o(t,e),t.prototype.renderComponent=function(){var e,t=this;return e=y.default.isMobile?{menuType:T.default.MenuType.Modal,title:"Share",right:"Done",onClickRight:this.props.onClose,whiteBackground:!0}:{menuType:T.default.MenuType.Popup},c.createElement(T.default,a({},e,{className:Y.shareMenu}),c.createElement(B.default,{capture:!0,allowEsc:!0},c.createElement(O.default,{capture:!0,ignoreBlockSelection:!0,restoreSelection:!1,focusOffscreenInput:!1,render:function(){return W.default.state.online?t.renderPermissions():t.renderOfflineMessage()}})))},t.prototype.renderOfflineMessage=function(){return c.createElement(k.default,null,c.createElement(S.default,{style:{textAlign:"center"}},"Please go online to publish & share."))},t.prototype.renderPermissions=function(){var e,t,r,n,o=this,i=U.default.state.currentSpaceStore,l=this.props.store,p=K.getMostPermissiveBlockPermissions(l),h=[];if(i){var m=i.getValue();m&&m.permission_groups&&(h=m.permission_groups)}var g={permissionItem:{type:"public_permission",role:"none"},blockIds:[l.id]},v={permissionItem:{type:"space_permission",role:"none"},blockIds:[l.id]};try{for(var b=s(p),w=b.next();!w.done;w=b.next()){var S=w.value;if(d.isPublicPermission(S.permissionItem))g=S;else if(d.isSpacePermission(S.permissionItem)){v=S}}}catch(t){e={error:t}}finally{try{w&&!w.done&&(t=b.return)&&t.call(b)}finally{if(e)throw e.error}}var _=p.filter(function(e){var t=e.permissionItem;return d.isGroupPermission(t)}),C=function(e){var t=e.id;_.some(function(e){return e.permissionItem.group_id===t})||_.push({permissionItem:{type:"group_permission",role:"none",group_id:t},blockIds:[l.id]})};try{for(var E=s(h),x=E.next();!x.done;x=E.next()){C(x.value)}}catch(e){r={error:e}}finally{try{x&&!x.done&&(n=E.return)&&n.call(E)}finally{if(r)throw r.error}}_=u.sortBy(_,function(e){if(i){var t=i.getValue();if(t&&t.permission_groups)return t.permission_groups.findIndex(function(t){return t.id===e.permissionItem.group_id})}return e.permissionItem.group_id});var T=p.filter(function(e){var t=e.permissionItem;return d.isUserPermission(t)}),O={};y.default.isMobile||(O.maxHeight="calc(70vh - 80px)");var M=i&&!i.getDisablePublicAccess();return c.createElement("div",{style:{flexGrow:1,flexShrink:1,display:"flex",flexDirection:"column"}},y.default.isMobile&&c.createElement(V.Fragment,null,c.createElement(k.default,{hasExtraPadding:!0,childrenStyle:{display:"flex",paddingLeft:z.default.paddingLeft,paddingRight:z.default.paddingRight}},this.renderInviteButton(),this.renderPageLinkButton()),c.createElement("div",{style:{borderBottom:"1px solid "+this.theme.regularDividerColor}})),c.createElement(P.default,{style:O,type:P.default.OverflowType.Y},M&&this.renderPublicPermissionItem(g),this.renderSpacePermissionItem(v),_.map(function(e){var t=e.permissionItem.group_id,r=h.find(function(e){return e.id===t});if(r&&i)return o.renderGroupPermissionItem(e,r,i.id)}),T.map(this.renderUserPermissionItem)),!y.default.isMobile&&c.createElement(V.Fragment,null,c.createElement(k.default,{hasExtraPadding:!0,childrenStyle:{display:"flex"}},this.renderInviteButton(),this.renderPageLinkButton())),c.createElement(J.default,{href:X.guides.sharing,onClick:function(){return $.trackClickHelpButton({from:"sharing"})},external:!0,style:a({},!y.default.isMobile&&{boxShadow:"0 -1px 0 "+this.theme.regularDividerColor,marginBottom:-1})},c.createElement(Q.default,{mobileFeedback:y.default.isMobile},c.createElement(k.default,{hasExtraPadding:!0,style:{paddingLeft:z.default.calcPaddingLeft(14),paddingRight:z.default.calcPaddingLeft(14),paddingTop:6,paddingBottom:8,lineHeight:1},childrenStyle:{display:"flex",alignItems:"center"}},f.default.help({width:14,fill:this.theme.lightIconColor,marginLeft:y.default.isMobile?6:0,marginRight:y.default.isMobile?8:6}),c.createElement("span",{style:{fontSize:12,verticalAlign:1,color:this.theme.lightTextColor}},"Learn about sharing")))))},t.prototype.renderInviteButton=function(){var e=U.default.state.currentSpaceStore;if(e){var t=this.props.store;return c.createElement(C.default,{store:t,disabled:!this.canEdit(),membersOnly:e.getDisableGuests(),isSpace:!1,isSubscribed:this.isSubscribed(),onUpgradeButtonClick:this.props.onUpgradeButtonClick,upgradeButtonName:"invite_permission_block",shouldGrow:!0})}},t.prototype.renderPageLinkButton=function(){var e=this;if(!y.default.isMobileBrowser)return c.createElement(I.default,{delayThreshold:0,placement:I.default.Placement.Bottom,renderTooltip:function(){return e.getPageLinkInfoTooltip()},render:function(t){return c.createElement(Z.default,a({isLarge:!0,onClick:y.default.isReactNative||y.default.isCordova?e.handleReactNativeShareClick:e.handleCopy,style:{marginLeft:12,flex:1}},t),"Copy Page Link")}})},t.prototype.renderPublicPermissionItem=function(e){var t=this,r=this.props.store,n=v.default.createChildStore(r,e.blockIds[0]),o=n.id!==r.id;return c.createElement("div",{style:this.getPermissionItemWrapStyle()},c.createElement(E.default,{format:E.default.Format.Web,currentBlockStore:r,store:n,permissionItem:e.permissionItem,disabled:!this.canEdit(),icon:f.default.globe({width:E.default.iconSize-2,height:E.default.iconSize-2,fill:this.theme.regularIconColor}),title:"Public Access",tooltip:o?this.renderInheritedPermissionTooltip(n):this.renderPublicPermissionTooltip(),role:e.permissionItem.role,isUser:!1,isGuest:!1,isPublic:!0,isSubscribed:this.isSubscribed(),isInherited:o,upgradeButtonName:"public_permission_item",onUpgradeButtonClick:this.props.onUpgradeButtonClick,switcherRole:"reader",onChange:function(e){return i(t,void 0,void 0,function(){var t=this;return l(this,function(n){return M.createAndCommit(function(n){return i(t,void 0,void 0,function(){return l(this,function(t){return m.setPermissionItems({store:r,permissionItems:[e],transaction:n}),[2]})})}),[2]})})}}))},t.prototype.renderSpacePermissionItem=function(e){var t=this,r=this.props.store,n=v.default.createChildStore(r,e.blockIds[0]),o=g.getSpace(r);if(o&&o.getValue()){var a=o.getPermissionItems().filter(function(e){return d.canEdit(d.getRole(e))}),s=n.id!==r.id;return c.createElement("div",{style:this.getPermissionItemWrapStyle()},c.createElement(E.default,{format:E.default.Format.Workspace,currentBlockStore:r,store:n,permissionItem:e.permissionItem,disabled:!this.canEdit(),icon:this.renderSpaceIcon(),title:"Workspace Access",tooltip:s?this.renderInheritedPermissionTooltip(n):this.renderSpacePermissionTooltip(),subtitle:a.length+" Member"+(1!==a.length?"s":""),role:e.permissionItem.role,isUser:!1,isGuest:!1,isPublic:!1,isSubscribed:this.isSubscribed(),isInherited:s,upgradeButtonName:"space_permission_item",onUpgradeButtonClick:this.props.onUpgradeButtonClick,onChange:function(e){return i(t,void 0,void 0,function(){var t=this;return l(this,function(n){return M.createAndCommit(function(n){return i(t,void 0,void 0,function(){return l(this,function(t){return m.setPermissionItems({store:r,permissionItems:[e],transaction:n}),[2]})})}),[2]})})}}))}},t.prototype.renderPublicPermissionTooltip=function(){return this.renderTooltip(c.createElement("span",null,"Anybody with the link can access the page. No login required."),F.default.images.tooltips.share.publicPagePng,120)},t.prototype.renderSpacePermissionTooltip=function(){return this.renderTooltip(c.createElement("span",null,"For all members in your workspace, this page will show up in the"," ",c.createElement("span",{style:{fontWeight:L.default.fontWeight.bold}},"Workspace")," ","section their sidebar."),F.default.images.tooltips.share.workspacePng)},t.prototype.renderGroupPermissionTooltip=function(e){return this.renderTooltip(c.createElement("span",null,"For all members of the ",e," group, this page will show up in the"," ",c.createElement("span",{style:{fontWeight:L.default.fontWeight.bold}},"Shared")," ","section in their sidebar."),F.default.images.tooltips.share.sharedPng,120)},t.prototype.renderInheritedPermissionTooltip=function(e){var t=e.getIcon();return c.createElement("div",{style:{whiteSpace:"normal",width:180}},"This access is based on"," ",c.createElement("span",{style:{whiteSpace:"nowrap",fontWeight:L.default.fontWeight.bold}},t&&c.createElement(A.default,{disabled:!0,icon:t,isEmptyPage:!1,size:12,style:{marginRight:4,display:"inline-block"}}),c.createElement(D.default,{store:e,style:{display:"inline"}})),". Please go there to remove or change it.")},t.prototype.renderTooltip=function(e,t,r){return c.createElement("div",{style:{width:240,marginTop:4,marginBottom:4}},c.createElement("div",{style:{width:"100%",height:r||180,borderRadius:3,backgroundImage:"url("+t+")",backgroundSize:"cover",marginBottom:6}}),c.createElement("div",{style:{whiteSpace:"normal",lineHeight:1.4}},e))},t.prototype.renderSpaceIcon=function(){var e=U.default.state.currentSpaceStore;return e?c.createElement(A.default,{disabled:!0,title:e.getName(),icon:e.getIcon(),isEmptyPage:!1,size:E.default.iconSize}):f.default.team()},t.prototype.renderGroupPermissionItem=function(e,t,r){var n=this,o=this.props.store,a=v.default.createChildStore(o,e.blockIds[0]),s=t.user_ids||[],u=t.name||"Untitled",d=a.id!==o.id,p=c.createElement(A.default,{disabled:!0,title:u,icon:t.icon?{table:"space",id:r,icon:t.icon}:void 0,isEmptyPage:!1,size:E.default.iconSize});return c.createElement("div",{key:t.id,style:this.getPermissionItemWrapStyle()},c.createElement(E.default,{format:E.default.Format.Workspace,currentBlockStore:o,store:a,permissionItem:e.permissionItem,disabled:!this.canEdit(),icon:p,title:u,tooltip:d?this.renderInheritedPermissionTooltip(a):this.renderGroupPermissionTooltip(u),subtitle:s.length+" Member"+(1!==s.length?"s":""),role:e.permissionItem.role,isUser:!1,isGuest:!1,isPublic:!1,isSubscribed:this.isSubscribed(),isInherited:d,upgradeButtonName:"group_permission_item",onUpgradeButtonClick:this.props.onUpgradeButtonClick,onChange:function(e){return i(n,void 0,void 0,function(){var t=this;return l(this,function(r){return M.createAndCommit(function(r){return i(t,void 0,void 0,function(){return l(this,function(t){return m.setPermissionItems({store:o,permissionItems:[e],transaction:r}),[2]})})}),[2]})})}}))},t.prototype.getPermissionItemWrapStyle=function(){return{boxShadow:"0 1px 0 "+this.theme.regularDividerColor,marginBottom:1,width:"100%"}},t.prototype.isSubscribed=function(){var e=H.default.state.data;return Boolean(e&&j.isSubscribed(e))},t.prototype.canEdit=function(){return d.canAdmin(this.props.store.getRole()||"editor")},t.prototype.getPageLinkInfoTooltip=function(){var e=K.getMostPermissiveBlockPermissions(this.props.store).map(function(e){return e.permissionItem}),t=e.find(function(e){return"public_permission"===e.type}),r=e.find(function(e){return"space_permission"===e.type}),n=e.filter(function(e){return"user_permission"===e.type});return t?c.createElement("div",null,"This page has public link access, so anyone",c.createElement("br",null),"with the link will be able to view the page."):r?c.createElement("div",null,"This page has workspace access, so anyone",c.createElement("br",null),"in the workspace will be able to view the link."):n.length>1?c.createElement("div",null,"Only you and other invited members",c.createElement("br",null),"and guests will be able to view the link."):c.createElement("div",null,"Only you can access this page,",c.createElement("br",null),"so the link will only work for you.")},t}(_.default);t.default=ee},soXn:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,i=r("q1tI"),l=r("Cm2F"),s=r("t+pW"),u=r("7TLZ"),c=r("mF3+"),d=r("6rsX"),p=r("Sb6f"),f=r("lCCU");!function(e){e[e.PushContent=0]="PushContent",e[e.FloatRight=1]="FloatRight"}(a=t.DiscussionIndicatorFormat||(t.DiscussionIndicatorFormat={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){d.clear(),l.openBlockDiscussionMenu({blockStore:t.props.store,analyticsFrom:"discussion_indicator"})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.store,t=u.getNumberOfUnresolvedComments(e);if(t>0)return this.props.format===a.FloatRight?i.createElement("div",{style:{width:0,height:0}},this.renderButton(t)):this.renderButton(t)},t.prototype.renderButton=function(e){return i.createElement(f.default,{icon:c.default.speechBubble,style:{alignSelf:"flex-start",marginLeft:4,marginTop:3},onClick:this.handleClick,caption:this.renderNumberOfComments(e)})},t.prototype.renderNumberOfComments=function(e){var t=e>9?"9+":e;return i.createElement("span",{style:{marginLeft:2,color:this.theme.lightTextColor,fontWeight:p.default.fontWeight.semibold}},t)},t}(s.default);t.default=h},stZG:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("EZe4"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseDown=function(e){t.props.capture&&i.default({event:e,context:i.EventContext.EditorMouseDown,callback:a.identity})},t.handleClick=function(e){t.props.capture&&i.default({event:e,context:i.EventContext.EditorClick,callback:a.identity})},t.handleDoubleClick=function(e){t.props.capture&&i.default({event:e,context:i.EventContext.EditorDoubleClick,callback:a.identity})},t.handleContextMenu=function(e){t.props.capture&&i.default({event:e,context:i.EventContext.EditorContextMenu,callback:a.identity})},t}return o(t,e),t.prototype.renderComponent=function(){return this.props.render({onMouseDown:this.handleMouseDown,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu})},t}(r("wldR").default);t.default=l},swxp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl"),o=r("HRSx"),a=r("6SEd"),i=r("NoAG"),l=r("nWgh"),s=r("+ftx"),u=r("FUUC"),c=r("8L2b"),d=r("408K"),p=r("Ew1z"),f=r("vCBP"),h=r("9axl"),m=r("5/h/"),y=r("RJuv"),g=r("6CqZ"),v=r("mcFc"),b=r("sgGF"),w=r("gn7I"),S=r("nzdk"),_=r("YRhr"),k=r("bmSz"),C=r("8+67"),E=r("kaWB"),P=r("LB1/"),x=r("IpGr"),T=r("NCLm"),O=r("k8sp"),M=r("Cb/J");t.tableWithParentAndAlive={block:!0,space_view:!0,collection:!0,collection_view:!0,comment:!0},t.tableWithParent={block:!0,space_view:!0,collection:!0,collection_view:!0,comment:!0,activity:!0,discussion:!0,slack_integration:!0,snapshot:!0},t.tableWithFileIds={block:!0,collection:!0},t.schemas={block:o.default,customer:l.default,notion_user:m.default,space:u.default,space_view:c.default,token:f.default,user_root:h.default,temporary_password:p.default,collection:a.default,collection_view:i.default,google_token:s.default,follow:y.default,activity:g.default,notification:v.default,firebase_token:b.default,trello_token:w.default,asana_token:S.default,slack_integration:d.default,slack_notification:_.default,discussion:k.default,comment:E.default,snapshot:C.default,credit:P.default,used_credit:x.default,user_settings:T.default,evernote_token:O.EvernoteTokenSchema,space_recover_pages:M.default},t.allPropertiesMap={},n.forOwn(t.schemas,function(e){e.columnTypes&&n.forOwn(e.columnTypes,function(e,r){r&&(t.allPropertiesMap[r]=!0)})}),t.default=t.schemas},sxKp:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("r8oj"),l=r("wldR"),s=r("wXH4"),u=r("PRHG"),c=r("Cm2F"),d=r("I6hv"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderDiscussionMenu=function(){if(d.default.state.open)return a.createElement(u.default,{rect:d.default.state.rect,tab:d.default.state.tab,blockStore:d.default.state.blockStore})},t}return o(t,e),t.prototype.renderComponent=function(){var e=d.default.state,t=e.open,r=e.rect;return a.createElement(s.default,{popupType:i.default.isMobile?s.default.PopupType.SlideUp:s.default.PopupType.Popup,open:t,originRect:r,placementToOrigin:s.default.Placement.Bottom,alignmentToOrigin:s.default.Alignment.Center,disableMouseCapture:!0,originGap:4,render:this.renderDiscussionMenu,preventScaleTransition:!0,preventOpacityTransition:!0,onDismiss:c.closeBlockDiscussionMenu})},t}(l.default);t.default=p},szb2:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},"t+pW":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("wldR"),i=r("LqYT"),l=r("uwoq"),s=r("0GcB"),u=r("zmp8"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"theme",{get:function(){return u.getTheme(t.themeModeStore.state)},enumerable:!0,configurable:!0}),t.themedRoutes=["page","space","onboarding","unknown"],t.themeModeStore=new i.default(function(){var e=l.default.state.route;return e&&t.themedRoutes.includes(e.name)?s.default.state.mode:"light"}),t}(a.default);t.default=c},t3i2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("5Nka"),o=[{coverUrl:n.default.images.pageCover.nasaTheBlueMarbleJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaTheBlueMarbleJpg,position:.5,title:"The Blue Marble",subtitle:"1972"},{coverUrl:n.default.images.pageCover.nasaTransonicTunnelJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaTransonicTunnelJpg,position:.4,title:"Transonic Tunnel",subtitle:"1990"},{coverUrl:n.default.images.pageCover.nasaMultiAxisGimbleRigJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaMultiAxisGimbleRigJpg,position:.2,title:"Multi-Axis Gimble Rig",subtitle:"1959"},{coverUrl:n.default.images.pageCover.nasaEvaDuringSkylab3Jpg,thumbUrl:n.default.images.pageCover.thumbs.nasaEvaDuringSkylab3Jpg,position:.6,title:"EVA During Skylab 3",subtitle:"1973"},{coverUrl:n.default.images.pageCover.nasaEagleInLunarOrbitJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaEagleInLunarOrbitJpg,position:.6,title:"Eagle In Lunar Orbit",subtitle:"1969"},{coverUrl:n.default.images.pageCover.nasaBuzzAldrinOnTheMoonJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaBuzzAldrinOnTheMoonJpg,position:1,title:"Buzz Aldrin on the Moon",subtitle:"1969"},{coverUrl:n.default.images.pageCover.nasaIbmType704Jpg,thumbUrl:n.default.images.pageCover.thumbs.nasaIbmType704Jpg,position:.8,title:" IBM Type 704",subtitle:"1957"},{coverUrl:n.default.images.pageCover.nasaWrightsFirstFlightJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaWrightsFirstFlightJpg,position:.6,title:"Wright's First Flight",subtitle:"1903"},{coverUrl:n.default.images.pageCover.nasaGreatSandyDesertAustraliaJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaGreatSandyDesertAustraliaJpg,position:.3,title:"Great Sandy Desert, Australia",subtitle:"2013"},{coverUrl:n.default.images.pageCover.nasaSpaceShuttleColumbiaJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaSpaceShuttleColumbiaJpg,position:.7,title:"Space Shuttle Columbia",subtitle:"1986"},{coverUrl:n.default.images.pageCover.nasaRobertStewartSpacewalkJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaRobertStewartSpacewalkJpg,position:.6,title:"Robert Stewart Spacewalk",subtitle:"1984"},{coverUrl:n.default.images.pageCover.nasaSpaceShuttleChallengerJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaSpaceShuttleChallengerJpg,position:1,title:"Space Shuttle Challenger",subtitle:"1985"},{coverUrl:n.default.images.pageCover.nasaRobertStewartSpacewalk2Jpg,thumbUrl:n.default.images.pageCover.thumbs.nasaRobertStewartSpacewalk2Jpg,position:.6,title:"Robert Stewart Spacewalk 2",subtitle:"1984"},{coverUrl:n.default.images.pageCover.nasaSpaceShuttleColumbiaAndSunriseJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaSpaceShuttleColumbiaAndSunriseJpg,position:1,title:"Space Shuttle Columbia and Sunrise",subtitle:"1983"},{coverUrl:n.default.images.pageCover.nasaTimPeakeSpacewalkJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaTimPeakeSpacewalkJpg,position:.5,title:"Tim Peake Spacewalk",subtitle:"2015"},{coverUrl:n.default.images.pageCover.nasaBruceMccandlessSpacewalkJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaBruceMccandlessSpacewalkJpg,position:.5,title:"Bruce McCandless Spacewalk",subtitle:"1984"},{coverUrl:n.default.images.pageCover.nasaNewYorkCityGridJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaNewYorkCityGridJpg,position:.5,title:"New York City Grid",subtitle:"2015"},{coverUrl:n.default.images.pageCover.nasaFingerprintsOfWaterOnTheSandJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaFingerprintsOfWaterOnTheSandJpg,position:.4,title:"Water on the Sand",subtitle:"2015"},{coverUrl:n.default.images.pageCover.nasaCarinaNebulaJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaCarinaNebulaJpg,position:1,title:"Carina Nebula",subtitle:"2015"},{coverUrl:n.default.images.pageCover.nasaOrionNebulaJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaOrionNebulaJpg,position:1,title:"Orion Nebula",subtitle:"1994"},{coverUrl:n.default.images.pageCover.nasaReducedGravityWalkingSimulatorJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaReducedGravityWalkingSimulatorJpg,position:.5,title:"Reduced Gravity Walking Simulator",subtitle:"1963"},{coverUrl:n.default.images.pageCover.nasaEarthGridJpg,thumbUrl:n.default.images.pageCover.thumbs.nasaEarthGridJpg,position:.7,title:"Earth Grid",subtitle:""}],a=[{coverUrl:n.default.images.pageCover.metVincentVanGoghGinouxJpg,thumbUrl:n.default.images.pageCover.thumbs.metVincentVanGoghGinouxJpg,position:.7,title:"Vincent van Gogh",subtitle:"1890, L'Arlésienne: Madame Joseph-Michel Ginouxs"},{coverUrl:n.default.images.pageCover.metWinslowHomerMaineCoastJpg,thumbUrl:n.default.images.pageCover.thumbs.metWinslowHomerMaineCoastJpg,position:.4,title:"Winslow Homer",subtitle:"1896, Maine Coast"},{coverUrl:n.default.images.pageCover.metFredericEdwinChurch1871Jpg,thumbUrl:n.default.images.pageCover.thumbs.metFredericEdwinChurch1871Jpg,position:.7,title:"Frederic Edwin Church",subtitle:"1871, The Parthenon"},{coverUrl:n.default.images.pageCover.metJosephHidley1870Jpg,thumbUrl:n.default.images.pageCover.thumbs.metJosephHidley1870Jpg,position:.4,title:"Joseph Hidley",subtitle:"1870, View of Poestenkill, New York"},{coverUrl:n.default.images.pageCover.metJulesTavernier1878Jpg,thumbUrl:n.default.images.pageCover.thumbs.metJulesTavernier1878Jpg,position:.5,title:"Jules Tavernier",subtitle:"1878, Dance in a Subterranean Roundhouse at Clear Lake, California"},{coverUrl:n.default.images.pageCover.metHenryLerolle1885Jpg,thumbUrl:n.default.images.pageCover.thumbs.metHenryLerolle1885Jpg,position:.9,title:"Henry Lerolle",subtitle:"1885, The Organ Rehearsal"},{coverUrl:n.default.images.pageCover.metGeorgesSeurat1884Jpg,thumbUrl:n.default.images.pageCover.thumbs.metGeorgesSeurat1884Jpg,position:1,title:"Georges Seurat",subtitle:"1884, Study for 'A Sunday on La Grande Jatte'"},{coverUrl:n.default.images.pageCover.metJohnSingerSargentMoroccoJpg,thumbUrl:n.default.images.pageCover.thumbs.metJohnSingerSargentMoroccoJpg,position:.6,title:"John Singer Sargent",subtitle:"1879, Morocco"},{coverUrl:n.default.images.pageCover.metPaulSignacJpg,thumbUrl:n.default.images.pageCover.thumbs.metPaulSignacJpg,position:.7,title:"Paul Signac",subtitle:"1891, Evening Calm, Concarneau"},{coverUrl:n.default.images.pageCover.metVincentVanGoghOleandersJpg,thumbUrl:n.default.images.pageCover.thumbs.metVincentVanGoghOleandersJpg,position:1,title:"Vincent van Gogh",subtitle:"1888, Oleanders"},{coverUrl:n.default.images.pageCover.metEmanuelLeutzeJpg,thumbUrl:n.default.images.pageCover.thumbs.metEmanuelLeutzeJpg,position:.7,title:"Emanuel Leutze",subtitle:"1851, Washington Crossing the Delaware"},{coverUrl:n.default.images.pageCover.metFitzHenryLaneJpg,thumbUrl:n.default.images.pageCover.thumbs.metFitzHenryLaneJpg,position:.5,title:"Fitz Henry Lane",subtitle:"1854, The Golden State Entering New York Harbor"},{coverUrl:n.default.images.pageCover.metVincentVanGoghCradleJpg,thumbUrl:n.default.images.pageCover.thumbs.metVincentVanGoghCradleJpg,position:.8,title:"Vincent van Gogh",subtitle:"1889, Woman Rocking a Cradle"},{coverUrl:n.default.images.pageCover.metCamillePissarro1896Jpg,thumbUrl:n.default.images.pageCover.thumbs.metCamillePissarro1896Jpg,position:.6,title:"Camille Pissarro",subtitle:"1896, Morning, An Overcast Day, Rouen"},{coverUrl:n.default.images.pageCover.metGerome1890Jpg,thumbUrl:n.default.images.pageCover.thumbs.metGerome1890Jpg,position:.8,title:"Jean-Léon Gérôme",subtitle:"1890, Pygmalion and Galatea"},{coverUrl:n.default.images.pageCover.metArnoldBocklin1880Jpg,thumbUrl:n.default.images.pageCover.thumbs.metArnoldBocklin1880Jpg,position:0,title:"Arnold Böcklin",subtitle:"1880, Island of the Dead"},{coverUrl:n.default.images.pageCover.metHenriTl1892Jpg,thumbUrl:n.default.images.pageCover.thumbs.metHenriTl1892Jpg,position:.8,title:"Henri de Toulouse-Lautrec",subtitle:"1892, Divan Japonais"},{coverUrl:n.default.images.pageCover.metHoracePippinJpg,thumbUrl:n.default.images.pageCover.thumbs.metHoracePippinJpg,position:.5,title:"Horace Pippin",subtitle:"1945, Victorian Interior I"},{coverUrl:n.default.images.pageCover.metJeanBeraudJpg,thumbUrl:n.default.images.pageCover.thumbs.metJeanBeraudJpg,position:.6,title:"Jean Béraud",subtitle:"1877, unday at the Church of Saint-Philippe-du-Roule, Paris"},{coverUrl:n.default.images.pageCover.metCezanne1890Jpg,thumbUrl:n.default.images.pageCover.thumbs.metCezanne1890Jpg,position:.3,title:"Paul Cézanne",subtitle:"1890, Still Life with Apples and a Pot of Primroses"},{coverUrl:n.default.images.pageCover.metEdgarDegas1874Jpg,thumbUrl:n.default.images.pageCover.thumbs.metEdgarDegas1874Jpg,position:.7,title:"Edgar Degas",subtitle:"1874, The Dance Class"},{coverUrl:n.default.images.pageCover.metHenriRousseau1907Jpg,thumbUrl:n.default.images.pageCover.thumbs.metHenriRousseau1907Jpg,position:.7,title:"Henri Rousseau",subtitle:"1907, The Repast of the Lion"},{coverUrl:n.default.images.pageCover.metVincentVanGoghIrisesJpg,thumbUrl:n.default.images.pageCover.thumbs.metVincentVanGoghIrisesJpg,position:.5,title:"Vincent van Gogh",subtitle:"1890, Irises"},{coverUrl:n.default.images.pageCover.metTerracottaFuneraryPlaqueJpg,thumbUrl:n.default.images.pageCover.thumbs.metTerracottaFuneraryPlaqueJpg,position:.9,title:"Terracotta funerary plaque",subtitle:"ca. 520–510 B.C."},{coverUrl:n.default.images.pageCover.metWilliamTurner1835Jpg,thumbUrl:n.default.images.pageCover.thumbs.metWilliamTurner1835Jpg,position:.4,title:"William Turner",subtitle:"1835, Venice, from the Porch of Madonna della Salute"},{coverUrl:n.default.images.pageCover.metTheUnicornInCaptivityJpg,thumbUrl:n.default.images.pageCover.thumbs.metTheUnicornInCaptivityJpg,position:.7,title:"The Unicorn in Captivity",subtitle:"ca. 1495–1505"},{coverUrl:n.default.images.pageCover.metGoya1789Jpg,thumbUrl:n.default.images.pageCover.thumbs.metGoya1789Jpg,position:.8,title:"Goya",subtitle:"1787"},{coverUrl:n.default.images.pageCover.metBruegel1565Jpg,thumbUrl:n.default.images.pageCover.thumbs.metBruegel1565Jpg,position:.5,title:"Pieter Bruegel the Elder",subtitle:"1565"},{coverUrl:n.default.images.pageCover.metCanaletto1720Jpg,thumbUrl:n.default.images.pageCover.thumbs.metCanaletto1720Jpg,position:0,title:"Canaletto",subtitle:"1720s"},{coverUrl:n.default.images.pageCover.metKlimt1912Jpg,thumbUrl:n.default.images.pageCover.thumbs.metKlimt1912Jpg,position:1,title:"Gustav Klimt",subtitle:"1912"}],i=[{coverUrl:n.default.images.pageCover.metWilliamMorris1877WillowJpg,thumbUrl:n.default.images.pageCover.thumbs.metWilliamMorris1877WillowJpg,position:.1,title:"William Morris",subtitle:"1875, Willow Bough"},{coverUrl:n.default.images.pageCover.metWilliamMorris1875Jpg,thumbUrl:n.default.images.pageCover.thumbs.metWilliamMorris1875Jpg,position:1,title:"William Morris",subtitle:"1875, Marigold"},{coverUrl:n.default.images.pageCover.metWilliamMorris1878Jpg,thumbUrl:n.default.images.pageCover.thumbs.metWilliamMorris1878Jpg,position:1,title:"William Morris",subtitle:"1878, Bird"},{coverUrl:n.default.images.pageCover.metSilkKashanCarpetJpg,thumbUrl:n.default.images.pageCover.thumbs.metSilkKashanCarpetJpg,position:.5,title:"Silk Kashan Carpet",subtitle:"16th century"}],l={gradient:{title:"Color & Gradient",url:"https://images.superfamous.com/36-Gradients",items:[{coverUrl:n.default.images.pageCover.solidRedPng,thumbUrl:n.default.images.pageCover.thumbs.solidRedPng,position:.6,title:"Red"},{coverUrl:n.default.images.pageCover.solidYellowPng,thumbUrl:n.default.images.pageCover.thumbs.solidYellowPng,position:.6,title:"Yellow"},{coverUrl:n.default.images.pageCover.solidBluePng,thumbUrl:n.default.images.pageCover.thumbs.solidBluePng,position:.6,title:"Blue"},{coverUrl:n.default.images.pageCover.solidBeigePng,thumbUrl:n.default.images.pageCover.thumbs.solidBeigePng,position:.6,title:"Beige"},{coverUrl:n.default.images.pageCover.gradients8Png,thumbUrl:n.default.images.pageCover.thumbs.gradients8Png,position:.3,title:"Gradient 8"},{coverUrl:n.default.images.pageCover.gradients4Png,thumbUrl:n.default.images.pageCover.thumbs.gradients4Png,position:.1,title:"Gradient 4"},{coverUrl:n.default.images.pageCover.gradients2Png,thumbUrl:n.default.images.pageCover.thumbs.gradients2Png,position:.8,title:"Gradient 2"},{coverUrl:n.default.images.pageCover.gradients11Jpg,thumbUrl:n.default.images.pageCover.thumbs.gradients11Jpg,position:.6,title:"Gradient 11"},{coverUrl:n.default.images.pageCover.gradients10Jpg,thumbUrl:n.default.images.pageCover.thumbs.gradients10Jpg,position:.6,title:"Gradient 10"},{coverUrl:n.default.images.pageCover.gradients5Png,thumbUrl:n.default.images.pageCover.thumbs.gradients5Png,position:.6,title:"Gradient 5"},{coverUrl:n.default.images.pageCover.gradients3Png,thumbUrl:n.default.images.pageCover.thumbs.gradients3Png,position:.4,title:"Gradient 3"}]},nasa:{title:"NASA Archive",url:"https://www.flickr.com/photos/nasacommons/",items:o},metPatterns:{title:"The MET Museum – Patterns",url:"https://www.metmuseum.org/art/collection",items:i},rijksmuseum:{title:"Rijksmuseum",url:"https://www.rijksmuseum.nl/en/rijksstudio",items:[{coverUrl:n.default.images.pageCover.rijksmuseumVermeerTheMilkmaidJpg,thumbUrl:n.default.images.pageCover.thumbs.rijksmuseumVermeerTheMilkmaidJpg,position:.7,title:"Johannes Vermeer",subtitle:"1660, The Milkmaid"},{coverUrl:n.default.images.pageCover.rijksmuseumJansz1649Jpg,thumbUrl:n.default.images.pageCover.thumbs.rijksmuseumJansz1649Jpg,position:.3,title:"Pieter Jansz",subtitle:"1649, Interior of the Sint-Odulphuskerk in Assendelft"},{coverUrl:n.default.images.pageCover.rijksmuseumRembrandt1642Jpg,thumbUrl:n.default.images.pageCover.thumbs.rijksmuseumRembrandt1642Jpg,position:.4,title:"Rembrandt van Rijn",subtitle:"1642, Night Watch"},{coverUrl:n.default.images.pageCover.rijksmuseumJansz1636Jpg,thumbUrl:n.default.images.pageCover.thumbs.rijksmuseumJansz1636Jpg,position:.5,title:"Pieter Jansz",subtitle:"1636, Interior of the Church of St Bavo in Haarlem"},{coverUrl:n.default.images.pageCover.rijksmuseumJansz1641Jpg,thumbUrl:n.default.images.pageCover.thumbs.rijksmuseumJansz1641Jpg,position:.2,title:"Pieter Jansz",subtitle:"1641, The Nave and Choir of the Mariakerk in Utrecht"},{coverUrl:n.default.images.pageCover.rijksmuseumJanLievens1627Jpg,thumbUrl:n.default.images.pageCover.thumbs.rijksmuseumJanLievens1627Jpg,position:.4,title:"Jan Lievens",subtitle:"1627, Still Life with Books"},{coverUrl:n.default.images.pageCover.rijksmuseumJansz1637Jpg,thumbUrl:n.default.images.pageCover.thumbs.rijksmuseumJansz1637Jpg,position:.4,title:"Pieter Jansz",subtitle:"1637, The Transept of the Mariakerk in Utrecht"},{coverUrl:n.default.images.pageCover.rijksmuseumMignons1660Jpg,thumbUrl:n.default.images.pageCover.thumbs.rijksmuseumMignons1660Jpg,position:.5,title:"Abraham Mignons",subtitle:"1660, Still Life with Flowers and a Watch"},{coverUrl:n.default.images.pageCover.rijksmuseumAvercamp1620Jpg,thumbUrl:n.default.images.pageCover.thumbs.rijksmuseumAvercamp1620Jpg,position:.4,title:"Hendrick Avercamp",subtitle:"1620, Enjoying the Ice near a Town"},{coverUrl:n.default.images.pageCover.rijksmuseumAvercamp1608Jpg,thumbUrl:n.default.images.pageCover.thumbs.rijksmuseumAvercamp1608Jpg,position:.3,title:"Hendrick Avercamp",subtitle:"1608, Winter Landscape with Ice Skaters"},{coverUrl:n.default.images.pageCover.rijksmuseumClaesz1628Jpg,thumbUrl:n.default.images.pageCover.thumbs.rijksmuseumClaesz1628Jpg,position:0,title:"Pieter Claesz",subtitle:"1628, Vanitas Still Life with the Spinario"}]},metWoodcuts:{title:"The MET Museum – Japanese Prints",url:"https://www.metmuseum.org/art/collection",items:[{coverUrl:n.default.images.pageCover.woodcuts1Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts1Jpg,position:.1,title:"Katsushika Hokusai",subtitle:"1830, The Great Wave off Kanagawa"},{coverUrl:n.default.images.pageCover.woodcuts2Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts2Jpg,position:.8,title:"Katsushika Hokusai",subtitle:"1830, Storm Below Mount Fuji"},{coverUrl:n.default.images.pageCover.woodcuts3Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts3Jpg,position:.8,title:"Katsushika Hokusai",subtitle:"1830, South Wind, Clear Sky"},{coverUrl:n.default.images.pageCover.woodcuts4Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts4Jpg,position:.4,title:"Keisai Eisen",subtitle:"1842, Koi"},{coverUrl:n.default.images.pageCover.woodcuts5Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts5Jpg,position:0,title:"Kobayashi Kiyochika",subtitle:"1878, Street Scene in the Outskirts of Edo on an Evening in Winter"},{coverUrl:n.default.images.pageCover.woodcuts6Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts6Jpg,position:1,title:"Katsushika Hokusai",subtitle:"1850, View of Mt. Asama from the Usui Pass"},{coverUrl:n.default.images.pageCover.woodcuts7Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts7Jpg,position:.3,title:"Katsushika Hokusai",subtitle:"1833, Kyoto, Sanjo Ohashi"},{coverUrl:n.default.images.pageCover.woodcuts8Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts8Jpg,position:1,title:"Katsushika Hokusai",subtitle:"1830, Mishima Pass in Kai Province"},{coverUrl:n.default.images.pageCover.woodcuts9Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts9Jpg,position:1,title:"Katsushika Hokusai",subtitle:"1830, Kajikazawa in Kai Province"},{coverUrl:n.default.images.pageCover.woodcuts10Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts10Jpg,position:.1,title:"Katsushika Hokusai",subtitle:"1840, Kameyama"},{coverUrl:n.default.images.pageCover.woodcuts11Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts11Jpg,position:0,title:"Ito Jakuchu",subtitle:"1900, Swallow and Camellia"},{coverUrl:n.default.images.pageCover.woodcuts13Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts13Jpg,position:0,title:"Utagawa Hiroshige",subtitle:"1858, Mount Yuga in Bizen Province"},{coverUrl:n.default.images.pageCover.woodcuts14Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts14Jpg,position:.4,title:"Katsushika Hokusai",subtitle:"1830, Fuji from Inume Pass"},{coverUrl:n.default.images.pageCover.woodcuts15Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts15Jpg,position:.7,title:"Katsushika Hokusai",subtitle:"1842, Kusatsu Station"},{coverUrl:n.default.images.pageCover.woodcuts16Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcuts16Jpg,position:0,title:"Katsushika Hokusai",subtitle:"Sunset at Seta"},{coverUrl:n.default.images.pageCover.woodcutsSekka1Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcutsSekka1Jpg,position:.9,title:"Kamisaka Sekka",subtitle:"1909, Dwarrelende sneeuw"},{coverUrl:n.default.images.pageCover.woodcutsSekka2Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcutsSekka2Jpg,position:.2,title:"Kamisaka Sekka",subtitle:"1903, Wierook benodigdheden"},{coverUrl:n.default.images.pageCover.woodcutsSekka3Jpg,thumbUrl:n.default.images.pageCover.thumbs.woodcutsSekka3Jpg,position:.8,title:"Kamisaka Sekka",subtitle:"1909, Lente"}]},met:{title:"The MET Museum",url:"https://www.metmuseum.org/art/collection",items:a}};t.default=l},t96T:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t}(r("LEzx").default);t.default=a},tC8O:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("5/h/"),i=r("hfHo"),l=r("GJWe"),s=r("+575"),u=r("udrG"),c=r("nFzZ"),d=r("AvkE"),p=r("pxbK"),f=r("njgS"),h=r("VpIZ"),m=r("D2XV"),y=r("O+wX"),g=r("7L5k");function v(e){if(1===e.length)return e[0];if(2===e.length)return e.join(" and ");if(e.length>2){var t=e.length-1;return e.slice(0,1).join(", ")+" and "+t+" other"+(1===t?"":"s")}return"Someone"}function b(e){var t=e.activity,r=e.getRecordValue,n=t.edits||[];return o.uniq(o.flatten(n.map(function(e){return e.user_ids||[]}))).map(function(e){return r("notion_user",e)})}function w(e){return v(b(e).map(function(e){return a.getFullName(e)}))}function S(e){var t=e.blockValue,r=e.getRecordValue,n=e.userTimeZone;return h.getRecordTitleWithEmoji({table:"block",value:t,getRecordValue:r,placeholder:"Untitled",userTimeZone:n})}function _(e){return k(e).title}function k(e){var t=e.activity,r=e.getRecordValue,n=e.userTimeZone,o=t.navigable_block_id||t.top_level_block_id||t.collection_row_id;if(o){var a=r("block",o);return a?{url:h.getRecordUrl({table:"block",value:a,getRecordValue:e.getRecordValue,baseUrl:e.baseURL}),title:S({blockValue:a,getRecordValue:r,userTimeZone:n})}:{url:e.baseURL||"/",title:"Untitled"}}if(t.collection_id)return x(e);if("permission-group-edited"===t.type){var i=r("space",t.space_id);return{title:V(R({activity:t,getRecordValue:r})),url:i?h.getRecordUrl({table:"space",value:i,getRecordValue:e.getRecordValue,baseUrl:e.baseURL}):"/"}}return E(e)}function C(e){return E(e).title}function E(e){var t=e.activity,r=e.getRecordValue,n=e.userTimeZone,o=r("space",t.space_id);return o?{title:h.getRecordTitleWithEmoji({table:"space",value:o,getRecordValue:r,placeholder:"Untitled",userTimeZone:n}),url:h.getRecordUrl({table:"space",value:o,getRecordValue:e.getRecordValue,baseUrl:e.baseURL})}:{url:e.baseURL||"/",title:"Untitled"}}function P(e){return x(e).title}function x(e){var t=e.activity,r=e.getRecordValue,n=e.userTimeZone;if(t.collection_id){var o=r("collection",t.collection_id);if(o){var a=h.getRecordTitleWithEmoji({table:"collection",value:o,getRecordValue:r,placeholder:"Untitled",userTimeZone:n});return{url:h.getRecordUrl({table:"collection",value:o,getRecordValue:e.getRecordValue,baseUrl:e.baseURL}),title:a}}return{url:e.baseURL||"/",title:"Untitled"}}return{url:e.baseURL||"/",title:"Untitled"}}function T(e){if(e.blockValue.properties)return l.renderTextAsString({textValue:e.blockValue.properties.title,getRecordValue:e.getRecordValue,userTimeZone:e.userTimeZone})}function O(e){var t=e.blockValue;return s.toCheckboxValue(t.properties&&t.properties.checked)}function M(e){switch(e){case"editor":return"Full Access";case"reader":return"Read-only";case"read_and_write":return"Edit Only";case"comment_only":return"Comment Only";case"none":return"No Access"}}function I(e){var t=e.userTimeZone,r=e.activity,o=e.getRecordValue;if(r.edits)return c.compact(r.edits.map(function(e){return"permission-created"===e.type?e.permission_data:"permission-deleted"===e.type?n({},e.permission_data,{role:"none"}):e.permission_data.after}).map(function(e){if("user_permission"===e.type){var n=o("notion_user",e.user_id);return a.getFullName(n)+" ("+M(e.role)+")"}return"space_permission"===e.type?C({activity:r,getRecordValue:o,userTimeZone:t})+" ("+M(e.role)+")":"public_permission"===e.type?"Public ("+M(e.role)+")":void 0})).join(", ")}function A(e){switch(e.blockValue.type){case u.default.text:case u.default.header:case u.default.subHeader:case u.default.subSubHeader:case u.default.factory:case u.default.equation:case u.default.code:return T(e);case u.default.toggle:return"▸ "+T(e);case u.default.bulletedList:return"• "+T(e);case u.default.numberedList:return"1. "+T(e);case u.default.quote:return"“"+T(e)+"”";case u.default.toDo:return(O(e)?"✓ ":"▢ ")+T(e);case u.default.file:case u.default.bookmark:return"🔗 "+T(e);case u.default.embed:case u.default.framer:case u.default.tweet:case u.default.gist:case u.default.drive:case u.default.maps:case u.default.invision:case u.default.video:case u.default.audio:case u.default.image:return"🖼 Image";case u.default.page:case u.default.collectionView:case u.default.collectionViewPage:return S(e)}}function D(e){var t=e.getRecordValue,r=e.baseURL,n=e.userTimeZone,o=t("block",e.blockId);if(o){if("page"===o.type&&"collection"===o.parent_table){var a=t("collection",o.parent_id);if(a){var i=f.getNormalizedSchema(a),l=i[e.property];return(l?l.name:void 0)+" ("+(L({property:e.property,schema:i,block:o,getRecordValue:t,userTimeZone:e.userTimeZone,baseURL:e.baseURL})||"Empty")+")"}return A({blockValue:o,getRecordValue:t,baseURL:r,userTimeZone:n})}return A({blockValue:o,getRecordValue:t,baseURL:r,userTimeZone:n})}}function L(e){var t=e.property,r=e.schema,n=e.block,o=e.getRecordValue,u=e.userTimeZone,c=e.baseURL,d=r[t];if(n.properties&&d){var h=n.properties[t];if(h){if("title"===d.type||"text"===d.type)return l.renderTextAsString({textValue:h,getRecordValue:o,userTimeZone:u});if("select"===d.type){var g=r[t].options||[];return s.toSelectValue(h,g)}if("multi_select"===d.type){g=r[t].options||[];return s.toMultiSelectValue(h,g).join(", ")}if("checkbox"===d.type)return s.toCheckboxValue(h)?f.checkboxYesValue:f.checkboxNoValue;if("date"===d.type){var v=s.toDateValue(h);if(v)return y.formatPersistedDate({value:v,date_format:d.date_format,time_format:d.time_format,userTimeZone:u})}else{if("person"===d.type)return s.toPersonValue(h).map(function(e){return o("notion_user",e)}).map(function(e){return a.getFullName(e)}).join(", ");if("relation"===d.type)return s.toRelationValue(h).map(function(e){return o("block",e)}).map(function(e){return e?S({blockValue:e,getRecordValue:o,baseURL:c,userTimeZone:u}):"Unknown"}).join(", ");if("number"===d.type){var b=s.toNumberValue(h);if(void 0!==b)return b.toString()}else{if("file"===d.type)return s.toFileValue(h).map(function(e){return e.value||e.data}).join(", ");if("url"===d.type||"phone_number"===d.type||"email"===d.type)return s.toUrlValue(h);if("formula"===d.type){if(r[t].formula){var w=p.evaluateFormula({schema:r,property:t,block:n,getRecordValue:o,userTimeZone:u,depth:0});return m.isPersistedDate(w)?y.formatPersistedDate({value:w,userTimeZone:u}):"boolean"==typeof w?w?f.checkboxYesValue:f.checkboxNoValue:"number"==typeof w?w.toString():w}}else{if("created_by"===d.type){var _=n.created_by;if(!_)return a.getFullName({});var k=o("notion_user",_);return a.getFullName(k)}if("created_time"===d.type)return i.default(n.created_time).tz(u).format("MM/DD/YYYY")}}}}}}function R(e){var t=e.activity,r=e.getRecordValue,n=j({spaceId:t.space_id,permissionGroupId:t.permission_group_id,getRecordValue:r});if(!n){var o=g.prepareEditsForDisplay(t.edits||[])[0];n="permission-group-changed"===o.type?o.permission_group_data.after:o.permission_group_data}return n}function B(e){var t=e.activity,r=g.prepareEditsForDisplay(t.edits||[])[0];return r?"permission-group-created"===r.type?"created":"permission-group-deleted"===r.type?"deleted":"edited":"edited"}function j(e){var t=e.spaceId,r=e.permissionGroupId,n=(0,e.getRecordValue)("space",t);return(n&&n.permission_groups||[]).find(function(e){return e.id===r})}function V(e){return e?e.icon&&e.name?e.icon+" "+e.name:e.icon?e.icon+" Untitled Group":e.name?e.name:"Untitled Group":"Deleted Group"}t.pluralizeUserNames=v,t.getAuthors=b,t.getAuthorPhrase=w,t.getBlockTitle=S,t.getBlockUrl=function(e){return h.getRecordUrl({table:"block",value:e.blockValue,getRecordValue:e.getRecordValue,baseUrl:e.baseURL})},t.getTargetName=_,t.getTargetNameAndURL=k,t.getSpaceName=C,t.getSpaceNameAndURL=E,t.getCollectionName=P,t.getCollectionNameAndURL=x,t.renderTitle=T,t.getChecked=O,t.renderLink=function(e){var t=e.blockValue;if(t.properties)return s.toUrlValue(t.properties.link||[])},t.renderRole=M,t.default=function(e){var t=e.activity,r=e.getRecordValue,n=e.baseURL,o=e.userTimeZone,a=w(e),i=_(e),s=P(e),u=C(e);switch(t.type){case"top-level-block-created":return{subject:a+" created "+i+" in "+u};case"top-level-block-deleted":return{subject:a+" deleted "+i+" in "+u};case"collection-row-created":return{subject:a+" created "+i+" in "+s};case"collection-row-deleted":return{subject:a+" deleted "+i+" in "+s};case"block-edited":var c=void 0;if(t.edits){var p=t.edits[0];if("block-changed"===p.type)if("page"===(m=p.block_data.after.block_value).type&&"collection"===m.parent_table){var h=p.block_schema||f.systemPropertyTypeMap;c=d.getChangedBlockProperties({before:p.block_data.before.block_value,after:p.block_data.after.block_value,schema:h}).filter(function(e){var t=h[e];return t&&"formula"!==t.type}).map(function(t){var n=h[t];return(n?n.name:void 0)+" ("+(L({property:t,schema:h,block:p.block_data.after.block_value,getRecordValue:r,userTimeZone:e.userTimeZone,baseURL:e.baseURL})||"Empty")+")"}).join(", ")}else c=A({blockValue:m,getRecordValue:r,baseURL:n,userTimeZone:o});else if("block-created"===p.type)c=A({blockValue:m=p.block_data.block_value,getRecordValue:r,baseURL:n,userTimeZone:o});else if("block-deleted"===p.type){var m;c="[Deleted] "+A({blockValue:m=p.block_data.block_value,getRecordValue:r,baseURL:n,userTimeZone:o})}}return{subject:a+" edited "+i,body:c};case"permissions-edited":return{subject:a+" edited permission for "+i,body:I({activity:t,getRecordValue:r,userTimeZone:e.userTimeZone})};case"user-mentioned":return{subject:a+" mentioned you in "+i,body:D({getRecordValue:r,baseURL:n,userTimeZone:e.userTimeZone,blockId:t.mentioned_block_id,property:t.mentioned_property})};case"commented":if(c=void 0,t.edits){var y=t.edits[0];if("comment-created"===y.type){var g=r("comment",y.comment_id);(v=y.comment_data||g)&&(c="💬 "+l.renderTextAsString({textValue:v.text,getRecordValue:e.getRecordValue,userTimeZone:e.userTimeZone}))}else if("comment-changed"===y.type)c="💬 "+l.renderTextAsString({textValue:y.comment_data.after.text,getRecordValue:e.getRecordValue,userTimeZone:e.userTimeZone});else{var v;g=r("comment",y.comment_id),(v=y.comment_data||g)&&(c="[Deleted]💬 "+l.renderTextAsString({textValue:v.text,getRecordValue:e.getRecordValue,userTimeZone:e.userTimeZone}))}}return{subject:a+" commented in "+i,body:c};case"user-invited":return{subject:a+" "+(t.permission_group_id?"added":"invited")+" you to "+i};case"collection-edited":return{subject:a+" edited "+i};case"collection-view-edited":var b=e.getRecordValue("collection_view",t.collection_view_id);return{subject:a+" edited view "+(b&&b.name||"Untitled")+" in "+i};case"collection-property-edited":var S=t.edits&&t.edits[0],k=S&&("collection-property-changed"===S.type?S.collection_property_data.after.name:S.collection_property_data.name)||"Unknown";return t.collection_property_id,{subject:a+" edited property "+k+" in "+i};case"reminder":return{subject:"Reminder in "+i,body:D({getRecordValue:r,baseURL:n,userTimeZone:e.userTimeZone,blockId:t.reminder_block_id,property:t.reminder_property})};case"permission-group-edited":return{subject:a+" "+B({activity:t})+" "+i};case"page-locked":case"page-unlocked":return{subject:a+" "+("page-locked"===t.type?"locked":"unlocked")+" "+i};case"email-edited":return{subject:a+" edited their account settings"}}},t.renderProperty=L,t.getPermissionGroupFromActivity=R,t.renderPermissionGroupEditedVerb=B,t.getPermissionGroup=j,t.getPermissionGroupName=V},tP7q:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var a=r("S26v"),i=r("vRGJ"),l=r("qqdV"),s=r("CC14"),u=r("g90h"),c=r("gZKy"),d=r("Fv2F"),p={credit:!0,intercom:!0};function f(e){var t=[],r=i(e.pattern,t).exec(e.pathname);if(r)return t.reduce(function(e,t,n){return e[t.name]=r[n+1],e},{})}function h(e){var t=e.substring(e.length-u.uuidLengthWithoutDashes);if(u.isUUIDWithoutDashes(t))return u.withDashes(t)}function m(e,t){var r;e.hash&&(r=u.withDashes(e.hash.substring(1)));var n=e.query.v,o=n&&u.withDashes(n),a=e.query.p,i=a&&u.withDashes(a),l=e.query.d,s=Boolean(e.query.showMoveTo),c=Boolean(e.query.saveParent);return t&&i?{blockId:i,scrollToBlockId:r,collectionViewId:o,discussionId:l,showMoveTo:s,saveParent:c}:{scrollToBlockId:r,collectionViewId:o,peekViewBlockId:i,discussionId:l,showMoveTo:s,saveParent:c}}t.nonNativeRoutes={joinUsRedirect:!0,whyRedirect:!0,androidRedirect:!0,invoiceRedirect:!0,product:!0,pricing:!0,about:!0,evernote:!0,"web-clipper":!0,toolsAndCraft:!0,toolsAndCraftEpisode1:!0,toolsAndCraftEpisode2:!0,toolsAndCraftEpisode3:!0,desktop:!0,mobile:!0,unsubscribe:!0,upcomingInvoice:!0,invoiceById:!0,templatesRedirect:!0,guideRedirect:!0},t.parseRoute=function(e){var t=a.parse(e.url);if(!(t.protocol||t.host||t.hostname||t.pathname)){var r=t.hash,i=t.query,y=t.search;t=a.parse(e.currentUrl||e.baseUrl),y&&(t.query=i,t.search=y),r&&(t.hash=r)}if(t.protocol&&t.host&&t.hostname){var g=!1;e.baseUrl===t.protocol+"//"+t.host&&(g=!0);var v=!1;if(e.protocol&&d.getSchemeUrl({httpUrl:e.baseUrl,protocol:e.protocol})===t.protocol+"//"+t.hostname&&(v=!0),!g&&!v)return{name:"external"}}if(t.pathname&&t.pathname.startsWith("/www.notion.so")&&(t.pathname=t.pathname.slice("/www.notion.so".length)),t.pathname||(t.pathname="/"),"/"!==t.pathname&&t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),"/"===t.pathname)return{name:"root",target:p[t.query.target]?t.query.target:void 0};if(t.pathname===l.googleAuthCallback){var b=t.query,w=b.code,S=b.error,_=void 0,k=void 0;try{_=(E=JSON.parse(s.decode(t.query.state))).callbackType,k=E.encryptedToken}catch(S){}return{name:"googleAuthCallback",code:w,callbackType:_,encryptedToken:k,error:S}}if(t.pathname===l.logout)return{name:"logout"};if(t.pathname.startsWith("/native/"))return{name:"nativeRedirect",redirect:a.removeBaseUrl(e.url).slice("/native".length)};if(t.pathname===l.login)return{name:"login"};if(t.pathname===l.signup)return{name:"signup"};if(t.pathname===l.loginWithEmail){var C=t.query,E=C.state,P=C.password,x=C.redirectURL;return{name:"loginWithEmailCallback",state:E,password:P,isSignup:"true"===t.query.isSignup,redirectURL:x}}if(t.pathname===l.product)return{name:"product"};if(t.pathname===l.pricing)return{name:"pricing"};if(t.pathname===l.about)return{name:"about"};if(t.pathname===l.evernote)return{name:"evernote"};if(t.pathname===l.webClipper)return{name:"web-clipper"};if(t.pathname===l.andyHertzfeld)return{name:"toolsAndCraftEpisode1"};if(t.pathname===l.stuCard)return{name:"toolsAndCraftEpisode2"};if(t.pathname===l.tedNelson)return{name:"toolsAndCraftEpisode3"};if(t.pathname===l.toolsAndCraft)return{name:"toolsAndCraft"};if(t.pathname===l.joinUsRedirect||t.pathname===l.jobsRedirect)return{name:"joinUsRedirect"};if(t.pathname===l.why)return{name:"whyRedirect"};if(t.pathname===l.templates)return{name:"templatesRedirect"};if(t.pathname===l.help)return{name:"guideRedirect"};if(t.pathname===l.guide)return{name:"guideRedirect"};if(t.pathname===l.desktop)return{name:"desktop"};if(t.pathname===l.mobile)return{name:"mobile"};if(t.pathname===l.android)return{name:"androidRedirect"};if(t.pathname===l.unsubscribe)return{name:"unsubscribe",payload:t.query.payload};if(t.pathname===l.onboarding)return{name:"onboarding"};if(t.pathname===l.invoice)return{name:"invoiceRedirect"};var T=f({pattern:"/invoice/:id",pathname:t.pathname});if(T){var O=T.id;return"upcoming"===O?{name:"upcomingInvoice",spaceId:t.query.spaceId}:{name:"invoiceById",invoiceId:O}}if(t.pathname===l.onboarding)return{name:"onboarding"};var M=f({pattern:"/__ui/:page?",pathname:t.pathname});if(M)return{name:"uiDoc",page:M.page};if(t.pathname===l.admin)return{name:"admin"};if(t.pathname.startsWith("/space/")){var I=t.pathname.slice("/space/".length);return u.isUUIDWithoutDashes(I)?{name:"space",spaceId:u.withDashes(I),spaceDomain:void 0}:{name:"unknown"}}var A=(t.pathname||"/").substring(1),D=o(A.split("/"),2),L=D[0],R=D[1];if(R){var B;if(!(B=h(R)))return{name:"unknown"};var j=c.default[L]?void 0:L;return n({name:"page",blockId:B,spaceId:void 0,spaceDomain:j,peekViewBlockId:void 0,collectionViewId:void 0,scrollToBlockId:void 0,discussionId:void 0,showMoveTo:void 0,saveParent:void 0},m(t,e.isMobile))}return(B=h(L))?n({name:"page",blockId:B,spaceId:void 0,spaceDomain:void 0,peekViewBlockId:void 0,collectionViewId:void 0,scrollToBlockId:void 0,discussionId:void 0,showMoveTo:void 0,saveParent:void 0},m(t,e.isMobile)):c.default[L]?{name:"unknown"}:{name:"space",spaceId:void 0,spaceDomain:L}},t.createGooglePopupRedirect=function(e,t){var r={callbackType:t.authType.callbackType};return t.email&&(r.email=t.email),t.contacts&&(r.contacts="true"),t.authType.redirectToAuth&&(r.redirectToAuth="true"),a.makeUrl({url:""+e+l.googlePopupRedirect,query:r})},t.createSlackPopupRedirect=function(e,t){var r={callbackType:t.authType.callbackType,blockId:t.blockId};return t.authType.redirectToAuth&&(r.redirectToAuth="true"),a.makeUrl({url:""+e+l.slackPopupRedirect,query:r})},t.createTrelloPopupRedirect=function(e,t){var r={callbackType:t.authType.callbackType};return t.authType.redirectToAuth&&(r.redirectToAuth="true"),a.makeUrl({url:""+e+l.trelloPopupRedirect,query:r})},t.createAsanaPopupRedirect=function(e,t){var r={callbackType:t.authType.callbackType};return t.authType.redirectToAuth&&(r.redirectToAuth="true"),a.makeUrl({url:""+e+l.asanaPopupRedirect,query:r})},t.createEvernotePopupRedirect=function(e,t){var r={callbackType:t.authType.callbackType};return t.authType.redirectToAuth&&(r.redirectToAuth="true"),a.makeUrl({url:""+e+l.evernotePopupRedirect,query:r})},t.createUrlPath=function(e){var t=e.route;if("space"===t.name)return t.spaceId?"/space/"+u.withoutDashes(t.spaceId):"/"+t.spaceDomain;throw new Error("This should never happen")}},tXfH:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("y6Dp"),u=r("NQmS"),c=r("H4VD"),d=r("sdlW"),p=r("r8oj"),f=r("HSWF"),h=r("klxS"),m=r("tvfY"),y=r("wldR"),g=r("AoM6"),v=r("VVh3"),b=r("uN94"),w=r("p9C0"),S=r("T1hA"),_=r("toub"),k=r("bkwR"),C=r("VTj5"),E=r("Ripq"),P=r("HHyf"),x=r("wpmu"),T=r("HTHG"),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.willMount=function(){return a(this,void 0,void 0,function(){var e,t,r,n,o,a,l,s,d;return i(this,function(i){switch(i.label){case 0:return e=this.props.route,[4,this.loadRedirectData()];case 1:return t=i.sent(),this.componentIsMounted?(r=t.userStore.getValue(),n=r&&r.onboarding_completed,o=r&&r.mobile_onboarding_completed,t.firstSpaceView&&n?!p.default.isMobile||o?[3,2]:(u.open(b.mobileExistingUserFlow),[3,6]):[3,7]):[2];case 2:return t.forkPageBlockId?(f.setForkPageTemplate(void 0),[4,(a=x.default.createChildStore(t.userRootStore,t.forkPageBlockId)).load()]):[3,5];case 3:return i.sent(),[4,T.loadUserSpaceViewStores(t.userRootStore)];case 4:if(i.sent(),1===(l=T.getUserMemberOrAdminSpaceViewStores(t.userRootStore)).length){if(s=l[0],!(d=s.getSpaceStore()))return[2];E.forkPageWithLoadingAndNavigate({store:a,spaceStore:d,spaceViewStore:s,isPrivate:!0})}else c.navigateToBlock({store:a});return[3,6];case 5:t.redirectUrl?this.redirect(t):this.navigateToFirstSpace(t),i.label=6;case 6:return"credit"===e.target&&_.default.setState({open:!0,currentTab:"credit"}),[3,8];case 7:this.identifyNewUser(),t.redirectUrl?p.default.isMobile?u.open(b.mobileRedirectFlow):u.open(b.desktopRedirectFlow):p.default.isMobile?u.open(b.mobileColdStartFlow):u.open(b.desktopColdStartFlow),i.label=8;case 8:return[2]}})})},t.prototype.renderComponent=function(){return l.createElement("div",{style:t.style},l.createElement(v.default,{style:{width:"100%",height:"100%"},spinnerSize:g.default.spinnerSize,showSpinnerTimeout:500}))},t.prototype.navigateToFirstSpace=function(e){d.navigateToFirstSpace({userRootStore:e.userRootStore,userSettingsStore:e.userSettingsStore})},t.prototype.redirect=function(e){e.redirectUrl&&c.navigate({url:e.redirectUrl,redirect:!0})},t.prototype.loadRedirectData=function(){return a(this,void 0,void 0,function(){var e,t,r,n,o,a,l,s,u,c,d;return i(this,function(i){switch(i.label){case 0:return[4,C.loadUserContent().next()];case 1:if(i.sent(),e=f.getLastVisitedRoute(),t=f.getLastVisitedRouteUrl(),r=f.getForkPageTemplate(),!(n=S.default.state.userId))throw new Error("User not logged in.");return o=new m.default(n),a=new h.default(n),l=new w.default(n),[4,Promise.all([o.load(),a.load(),l.load()])];case 2:return i.sent(),s=a.getSpaceViewStores(),[4,Promise.all(s.map(function(e){return e.load()}))];case 3:return i.sent(),u=s[0],e?[4,P.loadPublicPageData({request:e}).next()]:[3,5];case 4:if(c=i.sent(),(d=c.value)&&(d.canJoinSpace||d.userHasExplicitAccess||!d.hasPublicAccess))return[2,{userStore:o,userRootStore:a,userSettingsStore:l,firstSpaceView:u,redirectUrl:t,forkPageBlockId:r}];i.label=5;case 5:return[2,{userStore:o,userRootStore:a,userSettingsStore:l,firstSpaceView:u,forkPageBlockId:r}]}})})},t.prototype.identifyNewUser=function(){var e=S.default.state.userId;e&&(s.identifyNewUser({user_id:e}),k.initializeUserAnalytics({}))},t.style={position:"absolute",top:0,left:0,bottom:0,right:0},t}(y.default);t.default=O},tZFf:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("wldR"),c=r("Pl3d"),d=r("bkwR"),p=r("wpmu"),f=r("IdSf"),h=r("/YYm"),m=r("r8oj"),y=r("03VN"),g=r("CSYU"),v=r("cYwG"),b=r("+575"),w=r("gbGO"),S=r("WgIs"),_=r("2Y+N"),k=r("dXb3"),C=r("sbdd"),E=r("zTdN"),P=r("nFzZ"),x=r("y6Dp"),T=r("D2XV"),O=r("Z1H8"),M=r("4HCU"),I=r("QcDD"),A=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderResults=function(e,t,n){var o=r.stores.store.state.query;return e?s.createElement(_.default,{title:"Click to add to the calendar",loading:!n},s.createElement(E.default,{title:"Something went wrong."})):t&&0===t.length?s.createElement(_.default,{title:"Click to add to the calendar",loading:!n},s.createElement(E.default,{title:"No Results"})):t?s.createElement(S.default,{sections:[{key:"results",render:function(e){return s.createElement(_.default,a({},e,{title:"Click to add to the calendar",loading:!n}))},items:r.getMenuListItems(t||[])}],initialFocus:o?0:void 0}):s.createElement(_.default,{title:"Click to add to the calendar",loading:!n},s.createElement(E.default,{title:"Loading..."}))},r.handleQueryChange=function(e){r.stores.store.setState({query:e.target.value,limit:t.loadMoreIncrement})},r.handleScrollOffsetChange=function(e){var n=r.stores,o=n.store,i=n.requestStore,l=i.state.result;e<t.loadMoreScrollOffset&&!i.state.loading&&l&&o.state.limit<=l.length&&o.setState(a({},o.state,{limit:o.state.limit+t.loadMoreIncrement}))},r.performRequest=function(e){return i(r,void 0,void 0,function(){var t,r,n,o,a;return l(this,function(i){switch(i.label){case 0:return t=this.props,r=t.collectionStore,n=t.collectionViewId,o=t.calendarBy,[4,d.queryCollection({collectionId:r.id,collectionViewId:n,query:{filter:[{id:"no-date",property:o,comparator:"is_empty",type:"date"}]},loader:{type:"table",limit:e.limit,query:e.query,userTimeZone:T.currentTimeZone,loadContentCover:!1,userLocale:T.currentLocale}})];case 1:if("failed"===(a=i.sent()).type)throw a.error;return"table"===a.data.result.type?[2,a.data.result.blockIds]:[2,[]]}})})},r}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=this.stores,r=t.store,n=t.requestStore,o=r.state,i=o.query,l=o.limit;return s.createElement(O.default,{capture:!0,allowEsc:!0,render:function(t){var r,o=s.createElement(_.default,{isInput:!0},s.createElement(k.default,{placeholder:"Search for a page...",focus:!m.default.isMobile||void 0,focusAfterAnimation:!0,value:i,onChange:e.handleQueryChange}));return r=m.default.isMobile?a({menuType:w.default.MenuType.Modal,title:"Items With No Date",right:"Done",onClickRight:e.props.onClose,header:o},t):a({menuType:w.default.MenuType.Popup,header:o},t),s.createElement(w.default,a({},r),s.createElement(c.default,{request:{query:i,limit:l},requestStore:n,performRequest:e.performRequest,render:e.renderResults,debounce:M.defaultSearchDebounce}),s.createElement(v.default,{onChange:e.handleScrollOffsetChange}))}})},t.prototype.renderMenuListItem=function(e,t,r){return s.createElement(C.default,a({},e,{store:t,hidePath:!0,right:s.createElement(f.default,{key:t.id,href:r,innerStyle:{display:"flex",alignItems:"center",borderRadius:3,paddingLeft:m.default.isMobile?8:6,paddingRight:m.default.isMobile?8:6,height:m.default.isMobile?44:22},onClick:function(){x.trackCalendarNoDateMenuView()}},"View"),dontShrinkRight:!0}))},t.prototype.getMenuListItems=function(e){var t=this,r=this.props,n=r.collectionStore,o=r.calendarBy,a=e.map(function(e){return p.default.createChildStore(n,e)}).filter(function(e){return!b.toDateValue(e.getPropertyStore(o).getValue())}).map(function(e){var r=I.default.state.currentBlockStore;if(r){var n=h.default({store:r,peekViewBlockId:e.id});return{key:e.id,render:function(r){return t.renderMenuListItem(r,e,n)},action:function(){t.props.onAddBlock(e),x.trackCalendarNoDateMenuAdd()}}}});return P.compact(a)},t.loadMoreScrollOffset=200,t.loadMoreIncrement=20,t.stores={store:y.default,requestStore:g.default},t}(u.default);t.default=A},tmfq:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("q1tI"),l=r("wldR"),s=r("Sb6f"),u=r("4NII"),c=r("zmp8"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement(i.Fragment,null,a.createElement("div",{style:this.getTitleStyle()},this.props.title),this.props.subtitle&&a.createElement("div",{style:this.getSubtitleStyle()},this.props.subtitle))},t.prototype.getTitleStyle=function(){return{marginTop:24,fontSize:u.default()?34:50,lineHeight:1.1,fontWeight:s.default.fontWeight.bold,textAlign:"center"}},t.prototype.getSubtitleStyle=function(){return{marginTop:18,maxWidth:720,fontSize:u.default()?17:22,textAlign:"center",color:c.default.FrontGrayTextColor}},t}(l.default);t.default=d},toub:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("RGVD"),l=r("LEzx"),s=r("5Nka"),u=r("Cycz"),c=r("r8MX");t.getTabIcons={profile:function(){return a.createElement(i.default,{avatarSize:20,format:i.default.Format.AvatarOnly})},notifications:function(){return a.createElement("img",{src:s.default.images.sidebarNotificationsPng,style:{width:20,height:20}})},settings:function(){return a.createElement("img",{src:s.default.images.sidebarSettingsPng,style:{width:20,height:20}})},members:function(){return a.createElement("img",{src:s.default.images.sidebarMembersPng,style:{width:20,height:20}})},plans:function(){return a.createElement("img",{src:s.default.images.sidebarUpgradePng,style:{width:20,height:20}})},billing:function(){return a.createElement("img",{src:s.default.images.sidebarBillingPng,style:{width:20,height:20}})},credit:function(){return a.createElement("img",{src:s.default.images.sidebarCreditPng,style:{width:20,height:20}})}},t.getTabTitles={profile:function(){return"My Account"},notifications:function(){return"My Notifications"},settings:function(){return"Settings"},members:function(){return"Members"},plans:function(){var e=c.default.state.data;return e&&u.isSubscribed(e)?"Plans":"Upgrade"},billing:function(){return"Billing"},credit:function(){return"Earn Credit"}};var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1,currentTab:"settings"}},t}(l.default);t.default=new d},ttM1:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("wldR"),i=r("hU3F"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.didMountOrUpdate=function(){var e=this;this.props.show?(this.hideTimerId&&clearTimeout(this.hideTimerId),this.hideTimerId=void 0):(this.showTimerId&&clearTimeout(this.showTimerId),this.showTimerId=void 0),!this.props.show||this.stores.shown.get()||this.showTimerId?this.props.show||!this.stores.shown.get()||this.hideTimerId||(this.hideTimerId=window.setTimeout(function(){e.hideTimerId=void 0,e.stores.shown.set(!1)},this.props.showHold)):this.showTimerId=window.setTimeout(function(){e.showTimerId=void 0,e.stores.shown.set(!0),e.hideTimerId=window.setTimeout(function(){e.hideTimerId=void 0,!e.props.show&&e.stores.shown.get()&&e.stores.shown.set(!1)},e.props.showHold)},this.props.showDelay)},t.prototype.renderComponent=function(){return this.props.render(this.stores.shown.get())},t.stores={shown:i.default.of(!1)},t}(a.default);t.default=l},tvfY:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("5/h/"),i=r("bPtJ"),l=function(e){function t(t,r){return e.call(this,a.default.table,t,[],r)||this}return o(t,e),t.createChildStore=function(e,r){var n=i.default.getChildStoreKey(a.default.table,r,t.keyName),o=e.getRecordStoreChildStore(n),l=o||new t(r,e.recordCacheStore);return o||l.setRecordStoreParent(e,n),l},t.prototype.hasName=function(){var e=this.getValue();return Boolean(e&&e.given_name&&e.family_name)},t.keyName="UserStore",t}(i.default);t.default=l},tw5M:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{modalOpen:!1,tokenQuery:"",inviteUsers:[],inviteRole:"editor"}},t}(r("LEzx").default);t.default=a},typy:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("r8oj"),s=r("i3uR"),u=r("t+pW"),c=r("LeVO"),d=r("uSCg"),p=r("y6Dp"),f=r("MeYt"),h=r("DNgp"),m=r("mF3+"),y=r("WgIs"),g=r("gbGO"),v=r("2Y+N"),b=r("EszA"),w=r("zmp8"),S=r("I5tp"),_=r("Sb6f"),k=r("BTUg"),C=r("2HDO"),E=r("6nbh"),P=r("zmp8"),x=r("unoy"),T=r("cBa6"),O=r("TDb4"),M=i.Fragment,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleToggleHighlightAnnotation=function(){b.annotateSelection({annotation:["h",k.default.state.color]}),p.trackRichTextMenuClick({action:"h",color:k.default.state.color})},t.handleButtonPopupClick=function(e){p.trackRichTextMenuClick({action:"h"})},t.handleClose=function(){h.default.emit()},t.menuItemAction=function(e){b.unannotateSelection({annotationType:"h"}),"default"!==e&&(k.default.setHighlightColor(e),t.handleToggleHighlightAnnotation())},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return i.createElement(s.default,{popupType:l.default.isMobile?s.default.PopupType.SlideUp:s.default.PopupType.Popup,originGap:4,onClose:this.handleClose,onClick:this.handleButtonPopupClick,renderOrigin:function(t){return i.createElement(c.default,{renderTooltip:function(){return i.createElement(M,null,i.createElement("div",null,"Text Color"),i.createElement("div",null,i.createElement(O.default,{style:{color:e.theme.mediumInvertedTextColor},name:"toggleHighlight"})))},render:function(r){return i.createElement(f.default,a({style:a({display:"flex",alignItems:"center",paddingLeft:7,paddingRight:6,whiteSpace:"nowrap"},e.props.style)},d.default(t,r)),i.createElement("div",{style:e.getColorIconStyle()},l.default.isMobile?"Color":"A"),m.default.chevronDown({width:10,marginLeft:l.default.isMobile?4:3,fill:"dark"===e.theme.mode?P.default.white:e.theme.lightIconColor}))}})},render:function(t){var r;return r=l.default.isMobile?{menuType:g.default.MenuType.Modal,title:"Text Color",left:"Cancel",onClickLeft:function(){t.close()}}:{menuType:g.default.MenuType.Popup},i.createElement(g.default,a({},r),i.createElement(C.default,{capture:l.default.isMobile,store:e.stores.ignoreSelectionAreaStore,ignoreBlockSelection:!1,restoreSelection:!0,focusOffscreenInput:!1,render:function(r){var n=w.blockTextColors.map(function(n){return{key:n,action:function(){r(),e.menuItemAction(n),t.close()},render:function(e){return i.createElement(S.default,a({},e,{color:n}))}}}),o=w.blockBackgroundColors.map(function(n){return{key:n,action:function(){r(),e.menuItemAction(n),t.close()},render:function(e){return i.createElement(S.default,a({},e,{color:n}))}}}),l=k.default.state.color;return i.createElement(y.default,{sections:[{key:0,items:[{key:0,action:function(){r(),e.menuItemAction(l),t.close()},render:function(e){return i.createElement(S.default,a({},e,{color:l,shortcuts:["toggleHighlight"]}))}}],render:function(e){return i.createElement(v.default,a({},e,{title:"Last Used",isTitleUppercase:!0}))}},{key:1,items:n,render:function(e){return i.createElement(v.default,a({},e,{title:"Color",isTitleUppercase:!0}))}},{key:2,items:o,render:function(e){return i.createElement(v.default,a({},e,{title:"Background",isTitleUppercase:!0}))}}],initialFocus:void 0})}}))}})},t.prototype.getTextSelectionColor=function(){var e=x.textSelectionHasAnnotationType("h");return e?T.getHighlightAnnotationData(e):"default"},t.prototype.getColorIconStyle=function(){return a({display:"inline-flex",alignItems:"center",justifyContent:"center",height:18,textAlign:"center",fontSize:15,borderRadius:2},!l.default.isMobile&&{width:18,fontWeight:_.default.fontWeight.medium,marginBottom:2},w.getHighlightColorStyle(this.getTextSelectionColor(),this.theme))},t.stores={ignoreSelectionAreaStore:E.default},t}(u.default);t.default=I},tzV5:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},l=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e},u=this;Object.defineProperty(t,"__esModule",{value:!0});var c=r("LvDl"),d=r("STAJ"),p=r("y6Dp"),f=r("njgS"),h=r("H4VD"),m=r("NoAG"),y=r("wF3w"),g=r("wpmu"),v=r("bPtJ"),b=r("vTDQ"),w=r("bkwR"),S=r("N34Z"),_=r("MBf9"),k=r("09Jm"),C=r("IdIf"),E=r("RvCr"),P=r("0QAI"),x=r("r8oj"),T=r("d933"),O=r("p+Y9"),M=r("hvW1"),I=r("VBxf"),A=r("XDBA"),D=r("D2XV"),L=r("lufz"),R=r("QcDD"),B=r("vJXr"),j=r("T1hA"),V=r("3k5a"),F=r("w5u6"),N=r("enHn"),U=r("Owea"),W=r("+DAh"),z=r("Fe7V"),H=r("HRSx"),q=r("6SEd"),G=r("j76I"),Z=r("yUnD"),Y=r("yjqD"),K=r("HTHG"),J=r("rTCD");t.getIncrementChunkSize=function(e){var t=e.getValue();return t&&"board"===t.type?b.default.boardIncrementChunkSize:b.default.tableIncrementChunkSize},t.reset=function(e){return o(u,void 0,void 0,function(){var r,o,i,l,s,u,c,d,p,f,m,y,g,v,b,w,S;return a(this,function(a){return r=e.collectionViewBlockStore,o=e.collectionViewStore,i=e.collectionStore,l=e.collectionViewLocalStore,s=e.emitRender,u=e.isFullScreen,c=N.default.isPendingTransactionForRecord(i.table,i.id),u&&(h.resetPageState(),h.resetSidebarState(),h.resetEditorState()),d=l.state,p=d.localResultListener,f=d.remoteResultListener,p&&p.destroy(),f&&f.destroy(),l.reset(),o&&(m=!1,y=function(e){m||(m=!0,F.default.afterNextFlush(function(){t.computeLocalResults({collectionViewLocalStore:l}),m=!1}))},g=new T.default({onChange:y}),v=!1,b=function(e){v||(v=!0,F.default.afterNextFlush(function(){t.fetchRemoteResults({collectionViewLocalStore:l}),v=!1}))},w=new T.default({onChange:b}),S=J.default.getLocalDateRangeStart(o.id),l.setState(n({},l.state,{collectionViewBlockStore:r,collectionStore:i,collectionViewStore:o,localResultListener:g,remoteResultListener:w,currentLimit:t.getIncrementChunkSize(o),emitRender:s,dateRangeStart:D.getMomentStartOfWeek(S.clone().startOf("month"),K.userSettingsStartOfWeekStore.state).valueOf(),dateRangeEnd:u&&!x.default.isMobile?D.getMomentEndOfWeek(S.clone().endOf("month").add(1,"month"),K.userSettingsStartOfWeekStore.state).valueOf():D.getMomentEndOfWeek(S.clone().endOf("month"),K.userSettingsStartOfWeekStore.state).valueOf(),isReady:c})),F.default.afterNextFlush(function(){t.fetchRemoteResults({collectionViewLocalStore:l})}),t.computeLocalResults({collectionViewLocalStore:l})),[2]})})},t.destroy=function(e){return o(u,void 0,void 0,function(){var t,r,n,o;return a(this,function(a){return t=e.collectionViewLocalStore,r=t.state,n=r.localResultListener,o=r.remoteResultListener,n&&n.destroy(),o&&o.destroy(),t.reset(),[2]})})},t.fetchRemoteResults=function(e){return o(u,void 0,void 0,function(){var t,r,n,o,i,l,s,u,c,d,p,h,m,y,g,v,b,S,_,k,E,P,x,T,O,M;return a(this,function(a){switch(a.label){case 0:return t=e.collectionViewLocalStore,r=t.state,n=r.collectionViewStore,o=r.collectionStore,i=t.state,l=i.currentLimit,s=i.searchQuery,u=i.remoteResultListener,c=i.dateRangeStart,d=i.dateRangeEnd,p=t.createUpdater(),u&&o&&n?B.default.state.online?[4,N.default.drain()]:[3,2]:[2];case 1:a.sent(),a.label=2;case 2:return h=N.default.getLastTaskTimestamp(),p({isLoading:!0}),m=o.recordCacheStore,u.startListener(!0),y=n.getValue(),g=K.userSettingsStartOfWeekStore.state,v=o.getSchema(),b=n.getFormat(),u.stopListener(),y?(S=f.getNormalizedQuery(y,v),_=C.getNormalizedFormat(b,v,"board"===y.type?S.group_by:void 0,[],C.getFormatContextFromCollectionViewType(y.type)),k=A.createCollectionLoader({collectionViewValue:y,currentLimit:l,dateRangeStart:c,dateRangeEnd:d,format:_,searchQuery:s,startDayOfWeek:g}),E={collectionId:o.id,collectionViewId:n.id,query:S,loader:k},P=!1,x=void 0,m===W.default&&B.default.state.online?(x=w.queryCollection(E),[4,Promise.race([x,Y.timeout(1e4)])]):[3,4]):[3,10];case 3:(T=a.sent())&&(P=!0),T&&"success"===T.type&&Q({lastTaskTimestamp:h,collectionViewLocalStore:t,response:T.data,updater:p}),a.label=4;case 4:if(P)return[3,8];a.label=5;case 5:return a.trys.push([5,7,,8]),[4,X(E,m)];case 6:return O=a.sent(),z.setRecordMap({recordCacheStore:m,recordMap:O.recordMap}),Q({lastTaskTimestamp:h,collectionViewLocalStore:t,response:O,updater:p}),[3,8];case 7:return a.sent(),[3,8];case 8:return P||!x?[3,10]:[4,x];case 9:"success"===(M=a.sent()).type&&Q({lastTaskTimestamp:h,collectionViewLocalStore:t,response:M.data,updater:p}),a.label=10;case 10:return[2]}})})};var Q=function(e){var r,o,a=e.lastTaskTimestamp,l=e.collectionViewLocalStore,s=e.response,u=e.updater;if(N.default.getLastTaskTimestamp()!==a)l.setState(n({},l.state,{isLoading:!1})),t.fetchRemoteResults({collectionViewLocalStore:l});else{var c=new Set,d=P.getAllBlockIdsFromResult(s.result);try{for(var p=i(d),f=p.next();!f.done;f=p.next()){var h=f.value;c.add(h)}}catch(e){r={error:e}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}u({resultSet:c,remoteResult:s.result}),t.computeLocalResults({collectionViewLocalStore:l}),F.default.afterNextFlush(function(){u({isLoading:!1,isReady:!0})})}};function X(e,t){return o(this,void 0,void 0,function(){var r,n,l,s,u,c,d,p,h,y,g,v,b,w,S,_,k,C,E,x,T,O,M,I,A,D,L,B=this;return a(this,function(j){switch(j.label){case 0:return l=e.collectionId,s=e.collectionViewId,u=e.query,c=e.loader,(p=R.default.state.userStore)&&(d=p.getValue()),h=Date.now(),[4,Z.getLocalRecord({table:q.default.table,id:l,recordCacheStore:t})];case 1:if(!(y=j.sent()))throw new Error("Collection not found.");return g=y.value,v=f.getNormalizedSchema(g),[4,Z.getLocalRecord({table:m.default.table,id:s,recordCacheStore:t})];case 2:if(!(b=j.sent()))throw new Error("Collection view not found.");return w=function(e,t){return o(this,void 0,void 0,function(){var r;return a(this,function(n){switch(n.label){case 0:return[4,Z.getLocalRecord({table:e,id:t})];case 1:return[2,(r=n.sent())?r.value:void 0]}})})},S=b.value,_={},k={collectionValue:g,pageSort:S.page_sort||[],collectionViewId:s,query:u,loader:c,userId:d?d.id:void 0,currentTime:h,getRecordValue:function(e,t){return G.getRecordMap(_,e,t)}},C=P.initializeQuery(k),E=[],x=[],[4,Z.scanLocalRecords({callback:function(e,t,r){if(e===H.default.table&&r&&r.value){var n=r.value;n.parent_id===l&&n.parent_table===q.default.table&&n.alive&&(E.push(n),x.push(r))}},recordCacheStore:t})];case 3:return j.sent(),T=("table"===c.type||"board"===c.type)&&c.loadContentCover,[4,P.loadRelatedRecordsForCollectionQuery({collectionId:l,schema:v,query:u,loadAllProperties:Boolean(c.query),blocks:E,loadContentCover:T,recordMap:_,loadRecordValue:w})];case 4:j.sent();try{for(O=i(E),M=O.next();!M.done;M=O.next())I=M.value,P.incrementQuery(I,k,C)}catch(e){r={error:e}}finally{try{M&&!M.done&&(n=O.return)&&n.call(O)}finally{if(r)throw r.error}}return A=P.completeQuery(k,C),D={},L=P.getAllBlockIdsFromResult(A),[4,Promise.all(L.map(function(e){return o(B,void 0,void 0,function(){var r;return a(this,function(n){switch(n.label){case 0:return[4,Z.getLocalRecord({table:H.default.table,id:e,recordCacheStore:t})];case 1:return(r=n.sent())&&G.setRecordMapWithRole(D,H.default.table,e,r),[2]}})})}))];case 5:return j.sent(),G.setRecordMapWithRole(D,q.default.table,l,y),G.setRecordMapWithRole(D,m.default.table,s,b),[2,{result:A,recordMap:D}]}})})}t.computeLocalResults=function(e){return o(u,void 0,void 0,function(){var t,r,o,i,l,s,u,d,p,h,m,y,b,w,S,_,k,E,x,T,O,M,I,D,L;return a(this,function(a){return t=e.collectionViewLocalStore,r=t.state,o=r.collectionViewStore,i=r.collectionStore,l=t.state,s=l.resultSet,u=l.currentLimit,d=l.localResultListener,p=l.localResult,h=l.dateRangeStart,m=l.dateRangeEnd,y=l.searchQuery,b=i?U.default.getEditedBlocksForCollection(i.id):new Set,d?(d.startListener(!0),i&&i.getValue()&&o&&o.getValue()?(w=Date.now(),S=j.default.state.userId,_=i.getValue(),k=o.getValue(),E=K.userSettingsStartOfWeekStore.state,x=i.getSchema(),T=f.getNormalizedQuery(o.getValue(),x),_&&k?(O=C.getNormalizedFormat(o.getFormat(),x,"board"===k.type?T.group_by:void 0,[],C.getFormatContextFromCollectionViewType(k.type)),M=A.createCollectionLoader({collectionViewValue:k,currentLimit:u,dateRangeStart:h,dateRangeEnd:m,format:O,searchQuery:y,startDayOfWeek:E}),I={collectionValue:_,pageSort:k.page_sort||[],collectionViewId:o.id,query:T,loader:M,userId:S,currentTime:w,getRecordValue:function(e,t){var r=R.default.state.currentBlockStore;if(r)return v.createRecordStore(r,e,t).getValue()}},D=P.initializeQuery(I),s.forEach(function(e){var t=g.default.createChildStore(i,e).getValue();t&&P.incrementQuery(t,I,D)}),b.forEach(function(e){if(!s.has(e)){var t=g.default.createChildStore(i,e).getValue();t&&P.incrementQuery(t,I,D)}}),L=P.completeQuery(I,D),d.stopListener(),c.isEqual(p,L)||t.setState(n({},t.state,{localResult:L}))):d.stopListener(),[2]):(d.stopListener(),[2])):[2]})})},t.increment=function(e){return o(this,void 0,void 0,function(){var r,o,i,l;return a(this,function(a){switch(a.label){case 0:return r=e.collectionViewLocalStore,(o=r.state.collectionViewStore)?(i=r.state.currentLimit,l=i+t.getIncrementChunkSize(o),r.setState(n({},r.state,{currentLimit:l})),[4,t.fetchRemoteResults({collectionViewLocalStore:r})]):[2];case 1:return a.sent(),[2]}})})},t.setDateRange=function(e){return o(this,void 0,void 0,function(){var r,o,i;return a(this,function(a){switch(a.label){case 0:return r=e.dateRangeStart,o=e.dateRangeEnd,(i=e.collectionViewLocalStore).setState(n({},i.state,{dateRangeStart:r,dateRangeEnd:o})),[4,t.fetchRemoteResults({collectionViewLocalStore:i})];case 1:return a.sent(),[2]}})})},t.updateSearchQuery=function(e){return o(u,void 0,void 0,function(){var r,o,i;return a(this,function(a){switch(a.label){case 0:return r=e.searchQuery,o=e.collectionViewLocalStore,(i=o.state.collectionViewStore)?(o.setState(n({},o.state,{searchQuery:r||"",currentLimit:t.getIncrementChunkSize(i),reachedEndOfSearchResults:!1})),[4,t.fetchRemoteResults({collectionViewLocalStore:o})]):[2];case 1:return a.sent(),[2]}})})},t.addToResultSet=function(e){var r=e.collectionViewLocalStore,n=e.blockId;if(r.state.collectionStore){var o=r.state.resultSet;o.has(n)||(o.add(n),r.emit(),t.computeLocalResults({collectionViewLocalStore:r}))}},t.createCollectionView=function(e){var t=e.collectionViewBlockStore,r=e.collectionView,n=e.transaction;S.createRecord({table:m.default.table,value:r,recordCacheStore:t.recordCacheStore,transaction:n});var o=t.getValue();if(o){var a=o.view_ids||[],i=d.append(r.id,a);S.updateValue({store:t,data:{view_ids:i},transaction:n})}},t.updateCollectionView=function(e){return o(this,void 0,void 0,function(){var r,n,o,i;return a(this,function(a){return r=e.collectionViewStore,n=e.collectionViewLocalStore,o=e.update,i=e.transaction,S.updateValue({store:r,data:o,transaction:i}),t.computeLocalResults({collectionViewLocalStore:n}),[2]})})},t.updateCollection=function(e){var t,r,o=e.collectionStore,a=e.update,l=e.transaction,u=o.getSchema();if(a.schema){var p=Object.keys(a.schema),h=function(e){var t=u[e],r=t?t.type:void 0,i=a.schema[e],l=i?i.type:void 0,p=a.schema[e];!d.contains(r,f.selectTypes)&&d.contains(l,f.selectTypes)&&p&&w.getSelectPropertyValues({collectionId:o.id,property:e}).then(function(t){var r;if("failed"===t.type)throw t.error;var a=t.data.results,i=_.create(),l=p.options||[],u=o.getSchema(),d=c.uniqBy(s(l,a.map(function(e){return{id:y.default(),value:e}})),function(e){return e.value}),f=n({},p,{options:d}),h=n({},u,((r={})[e]=f,r));S.updateValue({store:o,data:{schema:h},transaction:i}),_.commit({transaction:i})})};try{for(var m=i(p),g=m.next();!g.done;g=m.next()){h(g.value)}}catch(e){t={error:e}}finally{try{g&&!g.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}}S.updateValue({store:o,data:a,transaction:l})},t.renameSelectValuesFromSchemaUpdate=function(e){var t,r,n,o,a=e.collectionStore,l=e.oldSchema,s=e.newSchema,u=e.transaction,c=d.union(Object.keys(l),Object.keys(s));try{for(var p=i(c),h=p.next();!h.done;h=p.next()){var m=h.value,y=l[m],g=s[m];if(y&&g&&d.contains(y.type,f.selectTypes)&&d.contains(g.type,f.selectTypes)){var v=g,b=y.options||[],w=v.options||[],S=d.union(b.map(function(e){return e.id}),w.map(function(e){return e.id})),_=function(e){var t=b.find(function(t){return t.id===e}),r=w.find(function(t){return t.id===e});t&&r&&t.value!==r.value&&E.renameGroup({collectionStore:a,property:m,oldValue:t.value,newValue:r.value,transaction:u})};try{for(var k=i(S),C=k.next();!C.done;C=k.next()){_(C.value)}}catch(e){n={error:e}}finally{try{C&&!C.done&&(o=k.return)&&o.call(k)}finally{if(n)throw n.error}}}}}catch(e){t={error:e}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}},t.createNewProperty=function(e){var r=e.collectionViewLocalStore,n=e.transaction,o=e.formatKey,a=e.uniqueNamePrefix,i=e.beforeProperty,l=e.afterProperty,s=r.state,u=s.collectionStore,c=s.collectionViewStore;if(u&&c){var p=u.getSchema(),f=r.getNormalizedFormat();if(f){var h,m=f.table_properties||[],g=Object.keys(p),v=k.default(a,function(e){return!g.find(function(t){var r=p[t];return Boolean(r&&r.name===e)})}),b=y.default(),w={property:b,visible:!0},S={name:v,type:"text"};if(i){var _=m.findIndex(function(e){return e.property===i});h=d.insert(_,w,m)}else if(l){var C=m.findIndex(function(e){return e.property===l});h=d.insert(C+1,w,m)}else h=d.append(w,m);var E=d.assoc(b,S,p),P=d.assoc(o,h,f);return t.updateCollectionView({collectionViewStore:c,collectionViewLocalStore:r,update:{format:P},transaction:n}),t.updateCollection({collectionStore:u,update:{schema:E},transaction:n}),b}}},t.mergeWithCSV=function(e){var t,r=this,n=e.store;O.openFilePickerAndUpload({bucket:"temporary",onStart:function(e){t=e,M.display({message:"Uploading"})},onComplete:function(e){var i,l;i=e[0],l=t[0].name,o(r,void 0,void 0,function(){var e,t;return a(this,function(r){switch(r.label){case 0:return M.display({message:"Importing"}),(e=n.getCollectionViewCollectionStore())&&(t=V.default.findCollectionViewBlockFromStore(n))?t.stores.collectionViewLocalStore.getCurrentResults().some(function(e){return!c.isEmpty(e.getProperties())})?[3,2]:(_.createAndCommit(function(t){L.setAlive({childStore:e,alive:!1,transaction:t})}),[4,w.importFile({importType:"ReplaceBlock",fileURL:i,fileName:l,pageId:n.id}).next()]):[2];case 1:return r.sent().value.error&&I.showError({error:new Error("Import failed.")}),[3,4];case 2:return[4,w.importFile({importType:"MergeIntoCollection",fileURL:i,fileName:l,collectionId:e.id}).next()];case 3:r.sent().value.error&&I.showError({error:new Error("Import failed.")}),r.label=4;case 4:return M.close(),[2]}})})},onError:function(e){M.close(),I.showError({error:new Error("Import failed.")})}})},t.exportCSV=function(e){return o(this,void 0,void 0,function(){var t,r,n,o,i,l,s,u;return a(this,function(a){switch(a.label){case 0:return t=e.store,(r=V.default.findCollectionViewBlockFromStore(t))?(n=r.stores.collectionViewLocalStore,o=n.state,i=o.collectionStore,l=o.collectionViewStore,i&&l?(p.trackExport({format:"csv"}),M.display({message:"Exporting"}),[4,w.exportCollection({collectionId:i.id,collectionViewId:l.id,timeZone:D.currentTimeZone}).next()]):[2]):[2];case 1:return(s=a.sent().value).error?(M.close(),I.showError({error:new Error("Export failed.")})):(u=s.value.exportURL,M.close(),h.downloadUrl({url:u})),[2]}})})},t.performLocalQueryCollection=X},"u+/N":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("q1tI");t.default=function(e,t){if(e.ref&&t.ref){var r=t.ref;t.ref=function(t){e.ref(t),r(t)}}return n.cloneElement(e,t)}},"u+oF":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("qBCY"),l=r("wldR"),s=r("dccM"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wordCount=0,t}return o(t,e),t.prototype.willMount=function(){this.wordCount=this.getWordCount()},t.prototype.renderComponent=function(){return a.createElement("span",null,this.wordCount)},t.prototype.getWordCount=function(){var e=this,t=s.default.findComponent(function(t){return t.props.store===e.props.store});if(t){var r=t.getContentWrapEl();if(r)return i(r.innerText)}return 0},t}(l.default);t.default=u},u5ao:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("scnN"),o=r("LvDl");t.PrimitiveTypesSchema=n.primitive(),t.OptionalPrimitiveTypesSchema=n.optional(t.PrimitiveTypesSchema),t.ValueTypesSchema=n.or(t.PrimitiveTypesSchema,n.objectMapOf(t.PrimitiveTypesSchema)),t.OptionalValueTypesSchema=n.or(t.OptionalPrimitiveTypesSchema,n.objectMapOf(t.OptionalPrimitiveTypesSchema)),t.NestedValueTypesSchema=n.or(t.OptionalValueTypesSchema,n.objectMapOf(t.OptionalValueTypesSchema)),t.keyValidator=function(e){return o.isString(e)&&e.length>0&&!e.match(/[{}]/)},t.ValueAndVersionSchema=n.object({value:t.NestedValueTypesSchema,version:n.number()}),t.setValueRequestV1Schema=n.object({key:t.keyValidator,value:t.ValueTypesSchema,ttl:n.optional(n.number())}),t.setValueResponseV1Schema=n.object({key:t.keyValidator,value:t.OptionalValueTypesSchema,version:n.number()}),t.setIfGreaterRequestV1Schema=n.object({key:t.keyValidator,value:n.number(),ttl:n.optional(n.number())}),t.setIfGreaterResponseV1Schema=n.object({key:t.keyValidator,value:n.number(),version:n.number()}),t.incrementRequestV1Schema=n.object({key:t.keyValidator,amount:n.number(),ttl:n.optional(n.number())}),t.incrementResponseV1Schema=n.object({key:t.keyValidator,value:n.number(),version:n.number()}),t.setFieldRequestV1Schema=n.object({key:t.keyValidator,field:n.string(),value:t.OptionalValueTypesSchema,ttl:n.optional(n.number())}),t.setFieldResponseV1Schema=n.object({key:t.keyValidator,field:n.string(),value:t.NestedValueTypesSchema,version:n.number()}),t.updateFieldRequestV1Schema=n.object({key:t.keyValidator,field:n.string(),updates:n.objectMapOf(t.OptionalValueTypesSchema),ttl:n.optional(n.number())}),t.updateFieldResponseV1Schema=n.object({key:t.keyValidator,field:n.string(),value:t.NestedValueTypesSchema,version:n.number()}),t.getValueAndVersionRequestV1Schema=n.object({key:t.keyValidator}),t.getValueAndVersionResponseV1Schema=n.object({key:t.keyValidator,value:t.OptionalValueTypesSchema,version:n.number()});var a=n.object({operation:n.equal("setValue"),key:t.keyValidator,value:n.string(),ttl:n.optional(n.number())}),i=n.object({operation:n.equal("setValue"),key:t.keyValidator,value:t.OptionalValueTypesSchema,version:n.number()}),l=n.object({operation:n.equal("increment"),key:t.keyValidator,amount:n.number(),ttl:n.optional(n.number())}),s=n.object({operation:n.equal("increment"),key:t.keyValidator,value:n.number(),version:n.number()}),u=n.object({operation:n.equal("setIfGreater"),key:t.keyValidator,value:n.number(),ttl:n.optional(n.number())}),c=n.object({operation:n.equal("setIfGreater"),key:t.keyValidator,value:n.number(),version:n.number()}),d=n.object({operation:n.equal("setField"),key:t.keyValidator,field:n.string(),value:t.OptionalValueTypesSchema,ttl:n.optional(n.number())}),p=n.object({operation:n.equal("setField"),key:t.keyValidator,field:n.string(),value:t.NestedValueTypesSchema,version:n.number()}),f=n.object({operation:n.equal("updateField"),key:t.keyValidator,field:n.string(),updates:n.objectMapOf(t.OptionalValueTypesSchema),ttl:n.optional(n.number())}),h=n.object({operation:n.equal("updateField"),key:t.keyValidator,field:n.string(),value:t.NestedValueTypesSchema,version:n.number()}),m={setValue:a,increment:l,setIfGreater:u,setField:d,updateField:f};t.batchRequestItemSchema=n.union(Object.values(m));var y={setValue:i,increment:s,setIfGreater:c,setField:p,updateField:h};t.batchResponseItemSchema=n.union(Object.values(y)),t.batchRequestV1Schema=n.object({operations:n.array(t.batchRequestItemSchema)}),t.batchResponseV1Schema=n.object({responses:n.array(t.batchResponseItemSchema)}),t.registerSubscriptionRequestV1Schema=n.object({key:t.keyValidator,version:n.optional(n.number())}),t.registerSubscriptionResponseV1Schema=n.object({key:t.keyValidator,wasNotified:n.boolean()}),t.unregisterSubscriptionRequestV1Schema=n.object({key:t.keyValidator}),t.unregisterSubscriptionResponseV1Schema=n.object({key:t.keyValidator}),t.registerOnDisconnectRequestV1Schema=n.object({disconnectId:n.string(),operations:n.array(t.batchRequestItemSchema)}),t.registerOnDisconnectResponseV1Schema=n.object({disconnectId:n.string(),hadDisconnect:n.boolean()}),t.unregisterOnDisconnectRequestV1Schema=n.object({disconnectId:n.string()}),t.unregisterOnDisconnectResponseV1Schema=n.object({disconnectId:n.string(),wasRemoved:n.boolean()}),t.ServerMessageV1Schema=n.or(n.object({type:n.equal("notification"),key:t.keyValidator,value:t.NestedValueTypesSchema,version:n.number()}),n.object({type:n.equal("response"),status:n.oneOf("ok","error"),requestId:n.string(),result:n.any()})),t.userPresenceDataSchema=n.object({userId:n.string(),present:n.boolean(),activityTimestamp:n.optional(n.number()),blockId:n.optional(n.or(o.isNull,n.string()))})},uLZi:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{openPopups:new Set}},t}(r("LEzx").default);t.default=new a},uLvo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl"),o=r("bK/N"),a=r("QShV"),i=r("fke4"),l="spellcheckEnabled",s=function(){function e(){var e=this;if(this.wordCache=new a(1e3),this.langCache=new a(100),this.enabled=!0,this.handleSelectionChange=function(){if(e.enabled){var t=e.getInputElement();t&&t!==e.currentInputElement?(e.currentInputElement=t,e.handleDetectLanguageChange(t)):t&&e.handleDetectLanguageChangeThrottled(t)}},this.handleDetectLanguageChange=function(t){var r=t.textContent;if(r){var n=e.detectLanguage(r);void 0!==n&&navigator.language.startsWith(n)&&(n=navigator.language),e.setLanguage(n)}},this.handleDetectLanguageChangeThrottled=n.throttle(this.handleDetectLanguageChange,500),o.electronApi&&o.electronApi.loadSpellcheck){o.electronApi.loadSpellcheck();var t=i.default.get(l);void 0!==t&&(this.enabled=t),document.addEventListener("selectionchange",this.handleSelectionChange)}}return e.prototype.setEnabled=function(e){e!==this.enabled&&(this.enabled=e,i.default.set(l,e))},e.prototype.isEnabled=function(){return this.enabled},e.prototype.addToDictionary=function(e){o.electronApi&&o.electronApi.spellchecker&&o.electronApi.spellchecker.add(e)},e.prototype.removeFromDictionary=function(e){o.electronApi&&o.electronApi.spellchecker&&o.electronApi.spellchecker.remove(e)},e.prototype.getCorrections=function(e){return o.electronApi&&o.electronApi.spellchecker?o.electronApi.spellchecker.getCorrectionsForMisspelling(e):[]},e.prototype.detectLanguage=function(e){var t;return this.langCache.cache[e]?this.langCache.get(e):(o.electronApi&&o.electronApi.cld&&o.electronApi.cld.detect(e,function(e,r){if(r&&r.reliable&&r.languages){var n=r.languages[0];n&&n.code&&(t=n.code)}}),this.langCache.set(e,t),t)},e.prototype.setLanguage=function(e){var t=this;this.currentLanguage!==e&&(this.currentLanguage=e,o.electronApi&&o.electronApi.setSpellCheckProvider&&(void 0===e?o.electronApi.setSpellCheckProvider({language:"en",autoCorrect:!1,spellCheck:function(e){return!0}}):o.electronApi.setSpellCheckProvider({language:e,autoCorrect:!0,spellCheck:function(r){if(!t.enabled)return!0;var n=e+":"+r,a=t.wordCache.get(n);return void 0!==a?a:o.electronApi&&o.electronApi.spellchecker&&(o.electronApi.spellchecker.setDictionary(e),!o.electronApi.spellchecker.isMisspelled(r))?(t.wordCache.set(n,!0),!0):(t.wordCache.set(n,!1),!1)}})))},e.prototype.getInputElement=function(){var e=document.activeElement;if(e instanceof HTMLElement&&("input"===e.tagName||"true"===e.contentEditable))return e},e}();t.default=new s},uN94:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LEzx"),i=r("r8oj");t.desktopColdStartFlow={name:"desktop_cold_start",getSteps:function(){return i.default.isEurope?["desktop_gdpr","desktop_profile","desktop_workspace","desktop_import","desktop_download"]:["desktop_profile","desktop_workspace","desktop_import","desktop_download"]}},t.desktopRedirectFlow={name:"desktop_redirect",getSteps:function(){return i.default.isEurope?["desktop_gdpr","desktop_profile","desktop_download"]:["desktop_profile","desktop_download"]}},t.desktopJoinOrCreateSpaceFlow={name:"desktop_join_or_create_space",getSteps:function(){return["desktop_workspace","desktop_import","desktop_download"]}},t.mobileJoinOrCreateSpaceFlow={name:"mobile_join_or_create_space",getSteps:function(){return["mobile_workspace"]}},t.mobileColdStartFlow={name:"mobile_cold_start",getSteps:function(){var e=["mobile_profile_name","mobile_profile_source","mobile_profile_source_other","mobile_profile_persona","mobile_profile_persona_other","mobile_profile_use_case","mobile_profile_type","mobile_workspace","mobile_editor","mobile_offline","mobile_sync","mobile_share_sheet"];return i.default.isEurope&&e.unshift("mobile_gdpr"),e}},t.mobileRedirectFlow={name:"mobile_redirect",getSteps:function(){var e=["mobile_profile_name","mobile_profile_source","mobile_profile_source_other","mobile_profile_persona","mobile_profile_persona_other","mobile_profile_use_case","mobile_profile_type","mobile_editor","mobile_offline","mobile_sync","mobile_share_sheet"];return i.default.isEurope&&e.unshift("mobile_gdpr"),e}},t.mobileExistingUserFlow={name:"mobile_existing_user",getSteps:function(){return["mobile_editor","mobile_offline","mobile_sync","mobile_share_sheet"]}};var l=function(e){function r(){var r=e.call(this)||this;return i.default.isMobile?r.setState({currentStage:"mobile_profile_name",flow:t.mobileColdStartFlow,isLoading:!1}):r.setState({currentStage:"desktop_profile",flow:t.desktopColdStartFlow,isLoading:!1}),r}return o(r,e),r}(a.default);t.default=new l},uSCg:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl");t.default=function(e,t){return Object.keys(t).forEach(function(r){var n=t[r],i=e[r];i&&r.startsWith("on")&&a.isFunction(n)?e[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.apply(void 0,o(e)),n.apply(void 0,o(e))}:i||(e[r]=n)}),e}},uUOz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},udrG:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={image:"image",video:"video",bookmark:"bookmark",file:"file",page:"page",link_to_page:"link_to_page",link_to_collection:"link_to_collection",text:"text",header:"header",subHeader:"sub_header",subSubHeader:"sub_sub_header",toDo:"to_do",bulletedList:"bulleted_list",numberedList:"numbered_list",toggle:"toggle",code:"code",factory:"factory",divider:"divider",columnList:"column_list",column:"column",copyIndicator:"copy_indicator",breadcrumb:"breadcrumb",equation:"equation",quote:"quote",collectionView:"collection_view",collectionViewPage:"collection_view_page",embed:"embed",framer:"framer",tweet:"tweet",gist:"gist",drive:"drive",figma:"figma",loom:"loom",typeform:"typeform",codepen:"codepen",audio:"audio",maps:"maps",invision:"invision",pdf:"pdf",table_of_contents:"table_of_contents"}},uhOZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7M94");t.clickedOutsideMenu=function(e){var t=e.menuElement,r=e.clickedElement;return!(t===r||t.contains(r)||r.classList.contains("notion-link")||r.closest("."+n.overlayContainer)&&!r.closest("."+n.peekRenderer)&&!r.closest("."+n.historyModal)&&!r.closest("."+n.pageTemplateModal))}},ujHu:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{emailInputValue:"",showAllInviteCredits:!1}},t}(r("LEzx").default);t.default=a},unoy:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("cBa6"),l=r("r8oj"),s=r("hl64"),u=r("x0lk"),c=r("IzPW"),d=r("RI9y"),p=r("6rsX"),f=r("Ajfl"),h=r("MBf9"),m=r("cDc9"),y=r("sjR4"),g=r("DNgp"),v=r("AmMh"),b=r("43ch"),w=r("w5u6"),S=r("Ucj+"),_=function(e){return e.startIndex===e.endIndex},k=function(e,t){var r=e.startIndex;return _(e)&&r>0?[r-1]:f.selectionRange(e)},C=function(e,t){var r=i.getTokens(t),n=r.map(function(e){return a.toArray(i.getTokenValue(e))});return e.map(function(e){var t=0,o=n.findIndex(function(r){return(t+=r.length)>e}),a=r[o];return a?i.getTokenAnnotations(a):[]})};t.textSelectionHasAnnotationType=function(e){var t=g.default.state;if(t.editing){var r=t.store,n=t.selection,o=t.extendAnnotations;if(n&&r){if(_(n))return o.entries().find(function(t){return i.getAnnotationType(t)===e});var l=r.getValue();if(l){var s=k(n,l),u=C(s,l);if(0!==u.length){var c=u.map(function(t){return t.find(function(t){return i.getAnnotationType(t)===e})});return a.every(c,function(e){return Boolean(e)})?c[0]:void 0}}}}},t.textSelectionContainsAnnotationType=function(e){var t,r,n=g.default.state;if(!n.editing)return!1;var l=n.store,s=n.selection;if(s&&l){if(_(s))return!1;var u=l.getValue();if(!u)return!1;var c=i.getTokens(u),d=0;try{for(var p=o(c),f=p.next();!f.done;f=p.next()){var h=f.value,m=a.toArray(i.getTokenValue(h));if(d>=s.startIndex&&d<s.endIndex||d<s.startIndex&&d+m.length>s.startIndex)if(i.getTokenAnnotations(h).some(function(t){return i.getAnnotationType(t)===e}))return!0;d+=m.length}}catch(e){t={error:e}}finally{try{f&&!f.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return!1}return!1},t.getEndSelection=function(e){var t=b.default.findEditableWithStore(e);if(t)return t.props.getEndSelection?t.props.getEndSelection():void 0};var E=function(e){return 0===e.startIndex&&0===e.endIndex};t.selectionsEqual=function(e,t){return!e&&!t||e&&t&&(e.startIndex===t.startIndex||!e.startIndex&&!t.startIndex)&&(e.endIndex===t.endIndex||!e.endIndex&&!t.endIndex)},t.selectionIsAtEnd=function(e,r){return t.selectionsEqual(r,t.getEndSelection(e))},t.getAllEditableStores=function(e){e.getRoot();var t=b.default.getSortedComponents(),r=y.default.state.defaultContainer,n=t.filter(function(e){if(!e||e.props.disabled)return!1;var t=e.getContextClosestSelectable();if(!t)return!1;var n=t.getContextSelectableContainer();return!(!n||n!==r)});return a.map(n,function(e){return e.props.store})},t.getPreviousStore=function(e){var r=t.getAllEditableStores(e),n=r.indexOf(e);return-1===n?null:r[n-1]},t.getNextStore=function(e){var r=t.getAllEditableStores(e),n=r.indexOf(e);return-1===n?null:r[n+1]},t.editClosestSelectable=function(e){var t=b.default.getClosestSelectableStore(e);p.edit({store:t}),p.editSelection()};var P=function(e,r){t.setSelection({store:e,selection:r});var n=b.default.getClosestSelectableStore(e);n&&p.edit({store:n})},x=function(e){var t,r,n=[],i=function(e){var t=a.findIndex(n,function(t){var r=t[0];return u.intersectsHorizontally(e.rect,r.rect)});t>=0?n[t].push(e):n.push([e])};try{for(var l=o(e),s=l.next();!s.done;s=l.next()){i(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return n};function T(){d.clear(),O()}function O(){t.setSelection({store:void 0,selection:void 0})}t.setSelection=function(e){var t,r,n=e.store,l=e.selection,s=new m.default;if(n&&l){var u=n.getValue()||[],c=k(l,u),d=C(c,u)[0]||[],p=function(e){var t=i.getAnnotationType(e);if(!i.mentionAnotationTypes[t])if(i.neverExtendAnotationTypes[t]){var r=i.getTokenWithCharIndex(u,l.startIndex),n=i.getTokenAnnotations(r);Boolean(n.find(function(e){return i.getAnnotationType(e)===t}))&&s.add(e)}else s.add(e)};try{for(var f=o(d),h=f.next();!h.done;h=f.next()){p(h.value)}}catch(e){t={error:e}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}var y=g.default.state;(!y.editing||y.store===n)&&y.editing&&a.isEqual(y.selection,e.selection)&&y.extendAnnotations.equals(s)||g.default.setState({editing:!0,store:n,selection:l,extendAnnotations:s,savedSelectionXPosition:y.editing?y.savedSelectionXPosition:void 0})}else n&&!l?g.default.setState({editing:!0,store:n,selection:{startIndex:0,endIndex:0},extendAnnotations:new m.default,savedSelectionXPosition:0}):g.default.state.editing&&g.default.setState({editing:!1})},t.replaceInSelection=function(e){var r=e.store,n=(e.replace,g.default.state);n.editing&&n.store===r&&t.setSelection({store:r,selection:n.selection})},t.toggleExtendAnnotation=function(e){var r=e.annotation;if(!i.neverExtendAnotationTypes[r[0]]){var n=i.getAnnotationType(r),o=g.default.state,a=o.editing&&o.extendAnnotations.find(function(e){return i.getAnnotationType(e)===n});a?t.setExtendAnnotation({annotation:a,extend:!1}):t.setExtendAnnotation({annotation:r,extend:!0})}},t.setExtendAnnotation=function(e){var t=e.annotation,r=e.extend,n=g.default.state;n.editing&&(r?n.extendAnnotations.add(t):n.extendAnnotations.delete(t),g.default.emit())},t.setSelectionAtStart=function(e){var r=e.store;t.setSelection({store:r,selection:{startIndex:0,endIndex:0}})},t.setSelectionAtEnd=function(e){var r=e.store;t.setSelection({store:r,selection:t.getEndSelection(r)})},t.selectAllText=function(e){var r=e.store,n=e.canSelectAllBlocks,o=t.getEndSelection(r),a=g.default.state,i={startIndex:0,endIndex:o?o.endIndex:0};n&&a.editing&&t.selectionsEqual(a.selection,i)?p.selectAll():t.setSelection({store:r,selection:i})},t.saveSelectionXPosition=function(e){var t=g.default.state;t.editing&&!t.savedSelectionXPosition&&g.default.setState(n({},t,{savedSelectionXPosition:e.savedSelectionXPosition}))},t.clearSavedSelectionXPosition=function(){g.default.state.editing&&g.default.setState(n({},g.default.state,{savedSelectionXPosition:void 0}))},t.updateFromBrowserSelectionAfterTick=function(e){var r=e.store;w.default.afterNextFlush(function(){var e=c.serializeTextSelection();t.setSelection({store:r,selection:e})})},t.clear=T,t.clearStores=O,t.arrowUp=function(e){var r=e.store,n=e.event,o=e.topBottomPadding,a=d.get();if(a){var i=d.getRect(a),l=b.default.findNodeFromStore(r),s=g.default.state;if(l&&l instanceof Element&&s.editing){var u=l.getBoundingClientRect(),f=t.getPreviousStore(r);if(i&&u){var h=Math.abs(i.top-u.top),m={startIndex:s.selection.startIndex,endIndex:s.selection.startIndex},y=b.default.getClosestSelectableStore(r);if(!n.altKey&&n.shiftKey&&E(m)&&(d.selectionIsBackwards()||a.collapsed)&&y)p.setSelection({stores:[y]});else if(!n.altKey&&!n.shiftKey&&h<=o&&f){n.preventDefault();var v=i.left;t.saveSelectionXPosition({savedSelectionXPosition:v});var w=b.default.findNodeFromStore(f);if(w&&w instanceof Element){var S=w.getBoundingClientRect(),_=s.savedSelectionXPosition?Math.max(s.savedSelectionXPosition,S.left):S.left;_=Math.min(_,S.right);var k=S.bottom-o,C=d.rangeFromPoint(_,k),x=c.serializeTextSelection(C);x&&P(f,x)}}else t.updateFromBrowserSelectionAfterTick({store:r})}}}},t.arrowDown=function(e){var r=e.store,n=e.event,o=e.topBottomPadding,a=d.get();if(a){var i=d.getRect(a),l=b.default.findNodeFromStore(r),s=g.default.state;if(l&&l instanceof Element&&s.editing){var u=l.getBoundingClientRect();if(i&&u){var f=t.getNextStore(r),h=Math.abs(i.bottom-u.bottom),m={startIndex:s.selection.endIndex,endIndex:s.selection.endIndex},y=b.default.getClosestSelectableStore(r);if(!n.altKey&&n.shiftKey&&t.selectionIsAtEnd(r,m)&&(!d.selectionIsBackwards()||a.collapsed)&&y)p.setSelection({stores:[y]});else if(!n.altKey&&!n.shiftKey&&h<=o&&f){n.preventDefault();var v=i.right;t.saveSelectionXPosition({savedSelectionXPosition:v});var w=b.default.findNodeFromStore(f);if(w&&w instanceof Element){var S=w.getBoundingClientRect(),_=s.savedSelectionXPosition?Math.max(s.savedSelectionXPosition,S.left):S.left;_=Math.min(_,S.right);var k=S.top+o,C=d.rangeFromPoint(_,k),E=c.serializeTextSelection(C);E&&P(f,E)}}else t.updateFromBrowserSelectionAfterTick({store:r})}}}},t.arrowLeft=function(e){w.default.afterNextFlush(function(){t.clearSavedSelectionXPosition()});var r=e.store,n=e.event,o=d.get(),a=g.default.state;if(a.editing){var i={startIndex:a.selection.startIndex,endIndex:a.selection.startIndex},l=b.default.getClosestSelectableStore(r);if(!n.altKey&&n.shiftKey&&o&&E(i)&&(d.selectionIsBackwards()||o.collapsed)&&l)p.setSelection({stores:[l]});else if(n.altKey||n.shiftKey||a.store!==r||!E(a.selection))t.updateFromBrowserSelectionAfterTick({store:r});else{n.preventDefault();var s=t.getPreviousStore(r);if(s){var u=t.getEndSelection(s);u&&P(s,u)}}}},t.arrowRight=function(e){w.default.afterNextFlush(function(){t.clearSavedSelectionXPosition()});var r=e.store,n=e.event,o=d.get(),a=g.default.state;if(a.editing){var i={startIndex:a.selection.endIndex,endIndex:a.selection.endIndex},l=b.default.getClosestSelectableStore(r);if(!n.altKey&&n.shiftKey&&o&&t.selectionIsAtEnd(r,i)&&(!d.selectionIsBackwards()||o.collapsed)&&l)p.setSelection({stores:[l]});else if(n.altKey||n.shiftKey||a.store!==r||!t.selectionIsAtEnd(r,a.selection))t.updateFromBrowserSelectionAfterTick({store:r});else{n.preventDefault();var s=t.getNextStore(r);s&&P(s,{startIndex:0,endIndex:0})}}},t.editNearestBlock=function(e){var t=e.x,r=e.y,n=function(e,t){var r,n,i=S.default.state.selectableRectMap,l=v.default.getSortedComponents(),u=y.default.state.defaultContainer,c=l.filter(function(e){return e.props.canEditText&&e.getContextSelectableContainer()===u}),d=[];try{for(var p=o(c),f=p.next();!f.done;f=p.next()){var h=f.value,m=i.get(h);m&&d.push({selectable:h,rect:m})}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}var g=d.filter(function(e){return e.rect.top<=t});g.reverse();var b=x(g),w=a.map(b,function(e){return e.sort(function(e,t){return-1*s.default(e.selectable.getNode(),t.selectable.getNode())})[0]}),_=a.minBy(w,function(t){var r=t.rect;return Math.min(Math.abs(r.left-e),Math.abs(r.right-e))});if(_)return _;var k=d.filter(function(e){return e.rect.bottom>=t&&g.indexOf(e)<0}),C=x(k),E=a.map(C,function(e){return e.sort(function(e,t){return s.default(e.selectable.getNode(),t.selectable.getNode())})[0]}),P=a.minBy(E,function(t){var r=t.rect;return Math.min(Math.abs(r.left-e),Math.abs(r.right-e))});return P||void 0}(t,r);n&&n.selectable.props.onEditText&&h.createAndCommit(function(e){n.selectable.props.onEditText&&n.selectable.props.onEditText({isAtStart:t<=n.rect.left,transaction:e})})},t.startListeners=function(){window.addEventListener("mousedown",function(e){w.default.afterNextFlush(function(){t.clearSavedSelectionXPosition()})}),l.default.isMobileBrowser&&document.addEventListener("focusout",function(){setTimeout(function(){d.get()||T()},0)})}},uoQt:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("t+pW"),c=r("hfHo"),d=r("6BTz"),p=r("Nvzn"),f=r("8fuX"),h=r("q1tI"),m=r("toub"),y=r("I9e+"),g=r("/6eU"),v=r("yNyh"),b=r("nM47"),w=r("nWgh"),S=r("Pl3d"),_=r("bkwR"),k=r("CSYU"),C=r("wlCD"),E=r("IdSf"),P=r("rro0"),x=r("Sb6f"),T=r("Cycz"),O=r("A9TN"),M=r("2A6Q"),I=r("IwFn"),A=r("Vw2h"),D=r("y6Dp"),L=r("QcDD"),R=r("vJXr"),B=r("Ng05"),j=r("IULH"),V=r("d9nj"),F=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderBillingHistoryResults=function(e,t){r.props.mockBillingHistoryResult&&(t=r.props.mockBillingHistoryResult);var n=r.stores.billingHistoryRequestStore;return s.createElement("div",null,t&&0===t.events.length&&s.createElement("div",{style:{color:r.theme.mediumTextColor,fontSize:14}},"This workspace has no payments yet."),t&&t.events.map(r.renderBillingHistoryEvent),t&&!t.reachedEndOfResults&&s.createElement(V.default,{onClick:r.handleLoadMoreBillingEventsClick,style:{marginLeft:-4,width:"100%"}},"Load More"),n.state.loading&&s.createElement(C.default,null))},r.renderBillingHistoryEvent=function(e,t){var n;return"invoice"===e.type&&(n=e.amount>0?s.createElement("div",null,"An invoice for ",d.formatHumanReadableCurrency(e.amount,"dollar")," ","is available"," ",s.createElement(E.default,{inline:!0,href:"/invoice/"+e.id,external:!0,innerStyle:r.getViewInvoiceButtonStyle()},"(View invoice)")):s.createElement("div",null,"Your account was credited"," ",d.formatHumanReadableCurrency(-e.amount,"dollar")," ",s.createElement(E.default,{inline:!0,href:"/invoice/"+e.id,external:!0,innerStyle:r.getViewInvoiceButtonStyle()},"(View invoice)"))),"charge"===e.type&&(n=s.createElement("div",null,"A payment for ",d.formatHumanReadableCurrency(e.amount,"dollar")," ","pending"===e.status?"is":""," ",e.status)),s.createElement("div",{style:{display:"flex",fontSize:14,marginBottom:8},key:t},n,s.createElement("div",{style:{marginLeft:"auto",color:r.theme.mediumTextColor}},c.default(e.timestamp).format("MMMM Do, YYYY")))},r.renderPaymentMethodModal=function(){var e=r.stores.store.state.temporaryBillingType,n=r.props.data,o=e||n.billing;return s.createElement("div",{style:r.getModalStyle()},s.createElement("div",{style:t.modalTitleStyle},"Change Payment Method"),s.createElement("div",{style:{marginTop:12,marginBottom:20}},s.createElement(P.default,{title:"Pay with Card",caption:"Credit or debit card",isSelected:"charge_automatically"===o,onClick:r.handleUseCardClick}),r.renderSwitchButtonSpacer(),s.createElement(P.default,{title:"ACH or Wire Transfer",caption:"Receive an invoice via email",isSelected:"charge_automatically"!==o,onClick:r.handleSendInvoiceClick})),n.brand&&n.last4&&s.createElement(V.default,{isGray:!0,isLarge:!0,onClick:r.handleCardUpdateClick,style:{marginBottom:18,marginLeft:-8}},"Change Card"),s.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},s.createElement(j.default,{isLarge:!0,onClick:r.handleModalClose,style:{marginRight:12}},"Cancel"),s.createElement(B.default,{isLarge:!0,onClick:r.handlePaymentMethodAccept},"Update")))},r.renderBillingIntervalModal=function(){var e=r.stores.store.state.temporaryBillingInterval,n=r.props.data,o=e||n.interval,a=n.productId,i=n.monthlyPlanAmount,l=n.yearlyPlanAmount,u=Math.floor(100*(1-l/(12*i)));return s.createElement("div",{style:r.getModalStyle()},s.createElement("div",{style:t.modalTitleStyle},"Change Billing Interval"),s.createElement("div",{style:{marginTop:12,marginBottom:20}},s.createElement(P.default,{title:"Yearly – Save "+u+"%",caption:s.createElement(h.Fragment,null,d.formatHumanReadableCurrency(l/12,"dollar"),"/mo",a!==O.default.pricing.personal.productId&&" per member"),isSelected:"year"===o,onClick:r.handleYearlyBillingClick}),r.renderSwitchButtonSpacer(),s.createElement(P.default,{title:"Monthly",caption:s.createElement(h.Fragment,null,d.formatHumanReadableCurrency(i,"dollar"),"/mo",a!==O.default.pricing.personal.productId&&" per member"),isSelected:"year"!==o,onClick:r.handleMonthlyBillingClick})),s.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},s.createElement(j.default,{isLarge:!0,onClick:r.handleModalClose,style:{marginRight:12}},"Cancel"),s.createElement(B.default,{isLarge:!0,onClick:r.handleBillingIntervalAccept},"Update")))},r.renderApplyCreditModal=function(){var e=r.props.data,n=e.availableCredit,o=r.getCurrentFormCreditAmount(),a=Math.max(0,(e.nextInvoiceAmount||0)-o);return s.createElement("div",{style:r.getModalStyle()},s.createElement("div",{style:t.modalTitleStyle},"Use Notion Credit —"," ",d.formatHumanReadableCurrency(n,"dollar")," available"),s.createElement("div",{style:{fontSize:14,display:"flex",alignItems:"center",marginBottom:16}},s.createElement("div",{style:{width:"100%",marginRight:20,color:r.theme.mediumTextColor}},"How much credit would you like to apply to your next invoice?"),s.createElement(A.default,{availableCredit:n,focus:!0,selectAll:!0,onChange:r.handleApplyCreditAmountInputChange}),s.createElement("div",{style:{whiteSpace:"nowrap",marginLeft:8}},"/ ",d.formatHumanReadableCurrency(n,"dollar"))),s.createElement("div",{style:{borderTop:"1px solid "+r.theme.regularDividerColor,paddingTop:16}},s.createElement("div",{style:{paddingBottom:18,fontSize:12,color:r.theme.mediumTextColor}},"Applying credit to your account ",s.createElement("b",null,"cannot be undone"),"."),s.createElement("div",{style:{display:"flex",alignItems:"center"}},s.createElement("div",{style:{fontSize:36,lineHeight:1}},d.formatHumanReadableCurrency(a,"dollar")),s.createElement("div",{style:{marginLeft:8,fontSize:12,color:r.theme.mediumTextColor,alignSelf:"flex-end"}},"next invoice total"),s.createElement(j.default,{isLarge:!0,style:{marginLeft:"auto"},onClick:r.handleModalClose},"Cancel"),s.createElement(B.default,{isLarge:!0,style:{marginLeft:12},disabled:o<=0,onClick:r.handleApplyCreditAccept},"Apply"))))},r.renderBillingEmailModal=function(){var e=r.props.data,n=r.stores.store.state.temporaryBillingEmail;return s.createElement("div",{style:r.getModalStyle()},s.createElement("div",{style:t.modalTitleStyle},"Change Billing Email"),s.createElement(v.default,{focus:!0,selectAll:!0,value:void 0!==n?n:e.billingEmail||"",onChange:r.handleBillingEmailChange,onSubmit:r.handleBillingEmailAccept,style:{marginTop:12,marginBottom:20}}),s.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},s.createElement(j.default,{isLarge:!0,onClick:r.handleModalClose},"Cancel"),s.createElement(B.default,{style:{marginLeft:12},isLarge:!0,onClick:r.handleBillingEmailAccept},"Update")))},r.handleChangePlanClick=function(){m.default.setState({open:!0,currentTab:"plans"})},r.handlePaymentMethodChangeClick=function(){r.stores.store.setState(a({},r.stores.store.state,{paymentMethodModalOpen:!0}))},r.handleBillingIntervalChangeClick=function(){r.stores.store.setState(a({},r.stores.store.state,{billingIntervalModalOpen:!0}))},r.handleBillingEmailChangeClick=function(){r.stores.store.setState(a({},r.stores.store.state,{billingEmailModalOpen:!0}))},r.handleModalClose=function(){r.stores.store.reset()},r.handleBillingEmailChange=function(e){r.stores.store.setState(a({},r.stores.store.state,{temporaryBillingEmail:e.target.value}))},r.handleBillingEmailAccept=function(){return i(r,void 0,void 0,function(){var e,t,r,n;return l(this,function(o){switch(o.label){case 0:return e=this.props,t=e.spaceStore,r=e.data,(n=this.stores.store.state.temporaryBillingEmail)===r.billingEmail?[3,2]:[4,b.updateSubscription({spaceStore:t,billingEmail:n})];case 1:o.sent(),o.label=2;case 2:return this.handleModalClose(),[2]}})})},r.handleMonthlyBillingClick=function(){r.stores.store.setState(a({},r.stores.store.state,{temporaryBillingInterval:"month"}))},r.handleYearlyBillingClick=function(){r.stores.store.setState(a({},r.stores.store.state,{temporaryBillingInterval:"year"}))},r.handleBillingIntervalAccept=function(){return i(r,void 0,void 0,function(){var e,t,r,n,o,a,i;return l(this,function(l){switch(l.label){case 0:return e=this.props,t=e.spaceStore,r=e.data,(n=this.stores.store.state.temporaryBillingInterval)&&n!==r.interval?(o=w.monthlyYearlyPairs.find(function(e){return e.indexOf(r.plan)>=0}))?(a=o.indexOf(r.plan),i=o[0===a?1:0],[4,b.updateSubscription({spaceStore:t,plan:i})]):[3,2]:[3,2];case 1:l.sent(),l.label=2;case 2:return this.handleModalClose(),[2]}})})},r.handleUseCardClick=function(){r.stores.store.setState(a({},r.stores.store.state,{temporaryBillingType:"charge_automatically"}))},r.handleSendInvoiceClick=function(){r.stores.store.setState(a({},r.stores.store.state,{temporaryBillingType:"send_invoice"}))},r.handleCardUpdateClick=function(){return i(r,void 0,void 0,function(){var e,t,r;return l(this,function(n){switch(n.label){case 0:return e=this.props.spaceStore,(t=this.props.data).billingEmail?[4,b.openStripePopup({name:"Update your Card",panelLabel:"Update",email:t.billingEmail})]:[3,3];case 1:return r=n.sent(),[4,b.updateSubscription({spaceStore:e,billing:"charge_automatically",stripeToken:r})];case 2:n.sent(),n.label=3;case 3:return this.handleModalClose(),[2]}})})},r.handlePaymentMethodAccept=function(){return i(r,void 0,void 0,function(){var e,t,r,n,o,a,i,s;return l(this,function(l){switch(l.label){case 0:if(e=this.props.spaceStore,t=this.props.data,r=this.stores.store.state.temporaryBillingType,"charge_automatically"!==(n=r||t.billing)||t.brand)return[3,3];if(o=L.default.state.userStore,a=o?o.getValue():void 0,!(i=t.billingEmail||(a?a.email:void 0)))throw new Error("No billing email found.");return[4,b.openStripePopup({name:"Update your Card",panelLabel:"Update",email:i})];case 1:return s=l.sent(),[4,b.updateSubscription({spaceStore:e,billing:"charge_automatically",stripeToken:s,billingEmail:i})];case 2:return l.sent(),[3,5];case 3:return n===t.billing?[3,5]:[4,b.updateSubscription({spaceStore:e,billing:r})];case 4:l.sent(),l.label=5;case 5:return this.handleModalClose(),[2]}})})},r.handleApplyCreditClick=function(){r.stores.store.setState(a({},r.stores.store.state,{applyCreditModalOpen:!0}))},r.handleApplyCreditAccept=function(){return i(r,void 0,void 0,function(){var e,t;return l(this,function(r){switch(r.label){case 0:return e=this.getCurrentFormCreditAmount(),t=this.props.spaceStore,e>0?[4,b.updateSubscription({spaceStore:t,creditAmount:e})]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.handleModalClose(),D.trackSubscriptionApplyCredit({amount:e}),[2]}})})},r.handleApplyCreditAmountInputChange=function(e){r.stores.store.setState(a({},r.stores.store.state,{temporaryApplyCreditCents:e}))},r.handleRestartSubscriptionClick=function(){return i(r,void 0,void 0,function(){var e,t;return l(this,function(r){switch(r.label){case 0:return e=this.props.spaceStore,t=this.props.data,[4,b.updateSubscription({spaceStore:e,plan:t.plan})];case 1:return r.sent(),this.handleModalClose(),[2]}})})},r.handleLoadMoreBillingEventsClick=function(){r.stores.store.setState(a({},r.stores.store.state,{billingEventsLimit:r.stores.store.state.billingEventsLimit+t.billingEventsLimitIncrement}))},r.performGetBillingHistoryRequest=function(e){return i(r,void 0,void 0,function(){var t,r;return l(this,function(n){switch(n.label){case 0:return t=this.props.spaceStore,[4,_.getBillingHistory({spaceId:t.id,limit:e})];case 1:if("failed"===(r=n.sent()).type)throw r.error;return[2,r.data]}})})},r}return o(t,e),t.prototype.willMount=function(){b.refresh()},t.prototype.renderComponent=function(){return R.default.state.online?this.renderBilling():this.renderOfflineMessage()},t.prototype.renderOfflineMessage=function(){return s.createElement(M.default,null,s.createElement(I.default,{style:{textAlign:"center"}},"Please go online to manage billing."))},t.prototype.renderBilling=function(){var e=this.props.data,r=this.stores.store.state,n=r.paymentMethodModalOpen,o=r.billingIntervalModalOpen,a=r.billingEmailModalOpen,i=r.applyCreditModalOpen;return s.createElement("div",{style:t.wrapStyle},s.createElement(f.default,{style:t.scrollerStyle,type:f.OverflowType.Y},this.renderHeader(e),this.renderSummary(e),this.renderPaymentMethod(e),this.renderSeparator(),this.renderBillingInterval(e),this.renderSeparator(),this.renderBillingEmail(e),this.renderSeparator(),this.renderCredit(e),this.renderBillingHistory(e),s.createElement(g.default,{open:n,render:this.renderPaymentMethodModal,onDismiss:this.handleModalClose}),s.createElement(g.default,{open:o,render:this.renderBillingIntervalModal,onDismiss:this.handleModalClose}),s.createElement(g.default,{open:i,render:this.renderApplyCreditModal,onDismiss:this.handleModalClose}),s.createElement(g.default,{open:a,render:this.renderBillingEmailModal,onDismiss:this.handleModalClose})))},t.prototype.renderHeader=function(e){return s.createElement("div",{style:this.getHeaderStyle()},T.getProductName(e.productId)," Plan")},t.prototype.renderSummary=function(e){var r=this.props.spaceStore,n=T.renderSubscriptionStatus(r.id,e),o=T.isCanceled(e),a="subscribed_admin"===e.type;return s.createElement("div",{style:t.summaryStyle},s.createElement("div",{style:t.summaryMessageStyle},n),o&&s.createElement(B.default,{isLarge:!0,onClick:this.handleRestartSubscriptionClick,style:{marginRight:8}},"Restart Subscription"),a&&s.createElement(j.default,{isLarge:!0,onClick:this.handleChangePlanClick},"Change Plan"))},t.prototype.renderBillingSettingOption=function(e,t,r){return s.createElement("div",{style:{display:"flex",alignItems:"center",fontSize:14}},s.createElement("div",{style:{marginRight:"auto"}},e),s.createElement("div",{style:{color:this.theme.mediumTextColor}},t),s.createElement("div",{style:{minWidth:110,display:"flex",justifyContent:"flex-end"}},r))},t.prototype.renderSeparator=function(){return s.createElement("div",{style:{flex:"none",height:1,marginTop:16,marginBottom:16,background:this.theme.regularDividerColor}})},t.prototype.renderPaymentMethod=function(e){return this.renderBillingSettingOption("Payment Method",s.createElement(h.Fragment,null,"send_invoice"===e.billing&&s.createElement("div",null,"ACH or Wire Transfer"),"charge_automatically"===e.billing&&(e.last4&&e.brand?s.createElement("div",null,p.default(e.brand)," ending in ",e.last4):s.createElement("div",null,"None"))),s.createElement(V.default,{isBlue:!0,onClick:this.handlePaymentMethodChangeClick,style:t.updateButtonStyle},"Update"))},t.prototype.renderBillingInterval=function(e){return this.renderBillingSettingOption("Billing Interval",s.createElement("div",null,"month"===e.interval?"Monthly":"Yearly"),s.createElement(V.default,{isBlue:!0,onClick:this.handleBillingIntervalChangeClick,style:t.updateButtonStyle},"Update"))},t.prototype.renderBillingEmail=function(e){return this.renderBillingSettingOption("Billing Email",s.createElement("div",null,e.billingEmail||"None Set"),s.createElement(V.default,{isBlue:!0,onClick:this.handleBillingEmailChangeClick,style:t.updateButtonStyle},"Update"))},t.prototype.renderCredit=function(e){var r=-Math.min(0,e.accountBalance);return this.renderBillingSettingOption("Account Balance",s.createElement("div",null,d.formatHumanReadableCurrency(r,"dollar")),s.createElement(V.default,{isBlue:!0,onClick:this.handleApplyCreditClick,style:t.updateButtonStyle},"Apply Credit"))},t.prototype.renderBillingHistory=function(e){var t=this.stores,r=t.store,n=t.billingHistoryRequestStore,o={request:r.state.billingEventsLimit,performRequest:this.performGetBillingHistoryRequest,render:this.renderBillingHistoryResults};return s.createElement("div",{style:{marginTop:36}},s.createElement("div",{style:this.getHeaderStyle()},"Billing History"),s.createElement(S.default,a({},o,{requestStore:n})))},t.prototype.renderSwitchButtonSpacer=function(){return s.createElement("div",{style:{flex:"none",width:16}})},t.prototype.getCurrentFormCreditAmount=function(){var e=this.props.data,t=this.stores.store.state.temporaryApplyCreditCents;return void 0!==t?t:e.availableCredit},t.prototype.getModalStyle=function(){return{width:480,background:this.theme.popoverBackground,padding:24,borderRadius:3}},t.prototype.getHeaderStyle=function(){return{borderBottom:"1px solid "+this.theme.regularDividerColor,fontSize:18,fontWeight:x.default.fontWeight.semibold,paddingBottom:6,marginBottom:12}},t.prototype.getViewInvoiceButtonStyle=function(){return{color:this.theme.mediumTextColor,padding:"2px 3px",borderRadius:3}},t.billingEventsLimitIncrement=20,t.stores={store:y.default,billingHistoryRequestStore:k.default},t.wrapStyle={display:"flex",flexDirection:"column",height:"100%"},t.scrollerStyle={height:"100%",padding:"36px 64px"},t.modalTitleStyle={fontSize:18,marginBottom:16,fontWeight:x.default.fontWeight.medium},t.summaryStyle={display:"flex",alignItems:"flex-start",fontSize:14,marginBottom:36},t.summaryMessageStyle={marginRight:"auto",paddingRight:16},t.updateButtonStyle={marginLeft:18,marginRight:-4,fontWeight:x.default.fontWeight.medium},t}(u.default);t.default=F},"uux+":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("wldR"),u=r("MeYt"),c=r("pAJP"),d=r("h7gD"),p=r("/Zir"),f=r("NV/j"),h=r("q5TD"),m=r("/dq7"),y=r("xVnP"),g=r("am2B"),v=r("mDQS"),b=r("aBKD"),w=r("DT29"),S=r("yi/I"),_=r("m3FE"),k=r("4NII"),C=r("5Nka"),E=r("zmp8"),P=r("Sb6f"),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.galleryItems=[{illustration:C.default.front.product.useCaseIllustrationNotePng,title:"Notes, Docs",shortTitle:"Notes",desktopScreenshot:C.default.front.product.useCaseScreenshotNotePng,mobileScreenshot:C.default.front.product.useCaseScreenshotNoteMobilePng},{illustration:C.default.front.product.useCaseIllustrationWikiPng,title:"Knowledge Base",shortTitle:"Wiki",desktopScreenshot:C.default.front.product.useCaseScreenshotWikiPng,mobileScreenshot:C.default.front.product.useCaseScreenshotWikiMobilePng},{illustration:C.default.front.product.useCaseIllustrationTaskPng,title:"Tasks, Projects",shortTitle:"Tasks",desktopScreenshot:C.default.front.product.useCaseScreenshotTaskPng,mobileScreenshot:C.default.front.product.useCaseScreenshotTaskMobilePng},{illustration:C.default.front.product.useCaseIllustrationDatabasePng,title:"Databases",shortTitle:"Databases",desktopScreenshot:C.default.front.product.useCaseScreenshotDatabasePng,mobileScreenshot:C.default.front.product.useCaseScreenshotDatabaseMobilePng}],t.useCases=[{title:"Notes & Docs",caption:"A simple, beautiful writing experience, with 30+ media types.",illustrationURL:C.default.front.product.useCaseIllustrationNoteAltPng,logosURL:C.default.front.product.useCaseLogos1Png,illustrationStyle:{width:240,marginRight:8},illustrationMobileStyle:{width:171,height:125},desktopImageURL:C.default.front.product.useCaseScreenshotNotePng,desktopImageGifURL:C.default.front.product.useCaseScreenshotNoteGif,analyticsScrollPointName:"use_case_1"},{title:"Knowledge Base",caption:"Turn your tribal knowledge into easy-to-find answers.",illustrationURL:C.default.front.product.useCaseIllustrationWikiPng,logosURL:C.default.front.product.useCaseLogos2Png,desktopImageURL:C.default.front.product.useCaseScreenshotWikiPng,desktopImageGifURL:C.default.front.product.useCaseScreenshotWikiGif,analyticsScrollPointName:"use_case_2"},{title:"Tasks & Projects",caption:"Kanban board, calendar, and list views. Lightweight yet flexible.",illustrationURL:C.default.front.product.useCaseIllustrationTaskPng,logosURL:C.default.front.product.useCaseLogos3Png,desktopImageURL:C.default.front.product.useCaseScreenshotTaskPng,desktopImageGifURL:C.default.front.product.useCaseScreenshotTaskGif,analyticsScrollPointName:"use_case_3"},{title:"Spreadsheets & Databases",caption:"Keep records of everything. Capture your unique workflows.",illustrationURL:C.default.front.product.useCaseIllustrationDatabasePng,logosURL:C.default.front.product.useCaseLogos4Png,desktopImageURL:C.default.front.product.useCaseScreenshotDatabasePng,desktopImageGifURL:C.default.front.product.useCaseScreenshotDatabaseGif,analyticsScrollPointName:"use_case_4"}],t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(p.default,{hideProductLink:!0,analyticsName:"product"},this.renderHeroHeader(),this.renderGallery(),this.renderTestimonials(),this.renderProblem(),this.renderUseCases(),!k.default()&&this.renderTemplates(),this.renderTeamFeatures(),this.renderPersonalFeatures(),this.renderGetApps(),this.renderTweets())},t.prototype.renderHeroHeader=function(){return i.createElement(l.Fragment,null,i.createElement(c.default,{name:"hero"}),i.createElement("div",{style:this.getHeroHeaderWrapStyle()},i.createElement("div",{style:this.getHeroHeaderStyle()},"All-in-one workspace"),i.createElement("div",{style:this.getCallToActionWrapStyle()},i.createElement("div",{style:this.getCallToActionTitleStyle()},"Write, plan, collaborate, and get organized. Notion is all you need — in one tool."),k.default()&&i.createElement("div",{style:{marginTop:18,marginBottom:12}},i.createElement(S.default,{analyticsName:"product"})),!k.default()&&i.createElement(y.default,{buttonTitle:"Get Started",analyticsName:"hero"}),i.createElement("div",{style:this.getCallToActionCaptionStyle()},"For teams & individuals — Web, Mobile, Mac, Windows."))))},t.prototype.renderGallery=function(){var e=this;return i.createElement(m.default,{itemsCount:this.galleryItems.length,analyticsFrom:"product_gallery",render:function(t){var r=t.currentIndex,n=t.setIndex;return i.createElement(l.Fragment,null,i.createElement("div",{style:e.getGalleryButtonsWrapStyle()},e.galleryItems.map(function(t,o){var a=r===o;return i.createElement(u.default,{key:o,style:e.getGalleryButtonStyle(),onClick:function(){return n(o)}},i.createElement("img",{src:t.illustration,style:e.getGalleryIllustrationStyle()}),i.createElement("div",{style:e.getGalleryTitleStyle(a)},k.default()?t.shortTitle:t.title))})),i.createElement(_.default,{desktopScreenshot:e.galleryItems[r].desktopScreenshot,mobileScreenshot:e.galleryItems[r].mobileScreenshot}))}})},t.prototype.renderTestimonials=function(){return i.createElement(l.Fragment,null,i.createElement(c.default,{name:"testimonials"}),i.createElement(w.default,{title:"Loved by teams and individuals",topDivider:!0}),i.createElement("div",{style:this.getTestimonialWrapStyle()},this.renderTestimonialItem("Anyone in the company can surface and discover the information they need...","David Cullinan","Intercom, Internal Communications",C.default.front.product.testimonialLogoIntercomPng),i.createElement("div",{style:t.testimonialDividerStyle}),this.renderTestimonialItem("We use it on a daily basis... love how it adapts to our team's workflow.","Christopher Reath","Slack, Design Team",C.default.front.product.testimonialLogoSlackPng),i.createElement("div",{style:t.testimonialDividerStyle}),this.renderTestimonialItem("It's been a LONG time since I fell in love with an app like Notion.","David Pierce","Wall Street Journal, Personal Tech Columnist",C.default.front.product.testimonialLogoWsjPng)))},t.prototype.renderTestimonialItem=function(e,r,n,o){return i.createElement("div",{style:{flex:1,marginBottom:k.default()?36:0}},i.createElement("div",{style:t.testimonialQuoteStyle},"“",e,"”"),i.createElement("div",{style:t.testimonialAuthorWrapStyle},i.createElement("img",{src:o,style:t.testimonialLogoStyle}),i.createElement("div",null,i.createElement("div",null,r),i.createElement("div",null,n))))},t.prototype.renderProblem=function(){return i.createElement(l.Fragment,null,i.createElement(c.default,{name:"problem"}),i.createElement(w.default,{title:"Too many tools? Too much chaos?",topDivider:!0}),i.createElement("img",{src:C.default.front.product.competitorsIllustrationPng,style:{width:k.default()?370:570,maxWidth:"100%",marginBottom:56,marginTop:k.default()?-12:-24}}))},t.prototype.renderUseCases=function(){return i.createElement(l.Fragment,null,i.createElement(w.default,{title:"With Notion, all your work is in one place",caption:"Four tools in one. No more getting lost in tabs."}),i.createElement("div",{style:{maxWidth:"100%"}},this.useCases.map(this.renderUseCasesItem)))},t.prototype.renderUseCasesItem=function(e,r){return k.default()?i.createElement(l.Fragment,{key:r},i.createElement(c.default,{name:e.analyticsScrollPointName}),i.createElement("div",{key:r,style:{marginTop:36,textAlign:"center"}},i.createElement("img",{src:e.illustrationURL,style:a({width:125,height:125,flexGrow:0,flexShrink:0,display:"block",marginLeft:"auto",marginRight:"auto"},e.illustrationMobileStyle)}),i.createElement("div",{style:{fontSize:24,fontWeight:P.default.fontWeight.bold,marginTop:12,marginBottom:6}},r+1+". "+e.title),i.createElement("div",{style:{marginBottom:12}},e.caption),i.createElement("div",{style:{color:E.default.FrontBaseGrayTextColor,marginTop:6,marginBottom:24}},"Replaces",i.createElement("img",{src:e.logosURL,style:{width:220,display:"inline",verticalAlign:"sub",marginLeft:12}})),i.createElement("div",{style:{display:"flex",paddingBottom:32,marginBottom:16,width:"100vw",marginLeft:-30,paddingLeft:30,overflow:"auto",WebkitOverflowScrolling:"touch"}},i.createElement("div",{style:{width:"145%",maxWidth:t.useCaseItemWidth,flexShrink:0}},i.createElement(b.default,{format:b.default.Format.Safari,aspectRatio:.6},i.createElement("img",{src:e.desktopImageGifURL,style:{width:"100%"}}))),i.createElement("div",{style:{width:60,flexShrink:0}})))):i.createElement(l.Fragment,{key:r},i.createElement(c.default,{name:e.analyticsScrollPointName}),i.createElement("div",{style:{marginBottom:64,width:t.useCaseItemWidth,maxWidth:"100%"}},i.createElement("div",{style:{display:"flex",alignItems:"flex-end",width:"96%",margin:"0 auto"}},i.createElement("div",{style:{fontSize:126,fontWeight:P.default.fontWeight.bold,lineHeight:1,marginRight:28,marginBottom:16,textAlign:"center"}},r+1),i.createElement("div",{style:{marginBottom:32}},i.createElement("div",{style:{fontSize:30,fontWeight:P.default.fontWeight.bold,lineHeight:1.15,marginBottom:8}},e.title),i.createElement("div",{style:{color:E.default.FrontBaseGrayTextColor,fontSize:17,lineHeight:1.4}},e.caption)),i.createElement("img",{src:e.illustrationURL,style:a({width:175,height:175,flexGrow:0,flexShrink:0,display:"block",marginLeft:8,marginRight:32},e.illustrationStyle)}),i.createElement("div",{style:{marginBottom:32}},i.createElement("div",{style:{marginLeft:4,marginBottom:8,color:E.default.FrontBaseGrayTextColor}},"Replaces"),i.createElement("img",{src:e.logosURL,style:{width:250,height:24}}))),i.createElement(b.default,{format:b.default.Format.Safari,aspectRatio:.6},i.createElement("img",{src:e.desktopImageGifURL,style:{width:"100%"}}))))},t.prototype.renderTemplates=function(){return i.createElement(l.Fragment,null,i.createElement(c.default,{name:"templates"}),i.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100vw",background:E.default.FrontProductTemplatesBackground,marginTop:72,paddingTop:56,paddingBottom:56,marginBottom:64}},i.createElement(w.default,{title:"Choose a workflow",caption:"Adopt best practices to jump-start your next project.",illustration:i.createElement("img",{src:C.default.front.product.templatesIllustrationPng,style:{width:550,maxWidth:"100%"}})}),i.createElement(h.default,null)))},t.prototype.renderTeamFeatures=function(){return i.createElement(l.Fragment,null,i.createElement(c.default,{name:"team_features"}),i.createElement(w.default,{title:i.createElement("span",null,"Bring clarity to your"," ",i.createElement("span",{style:{fontStyle:"italic"}},"team")),caption:"With one tool, everyone sees the whole picture.",illustration:i.createElement("img",{src:C.default.front.product.teamFeaturesIllustrationPng,style:this.getFeatureImgStyle()})}),!k.default()&&i.createElement("div",{style:{marginBottom:64}},i.createElement(y.default,{buttonTitle:"Get Started",analyticsName:"product"})),i.createElement(g.default,{format:g.default.Format.Four,features:t.personalFeaturesData}))},t.prototype.renderPersonalFeatures=function(){return i.createElement(l.Fragment,null,i.createElement(c.default,{name:"personal_features"}),i.createElement(w.default,{title:i.createElement("span",null,"Boost ",i.createElement("span",{style:{fontStyle:"italic"}},"personal")," ","productivity"),caption:"Write better. Think more clearly. Stay organized.",illustration:i.createElement("img",{src:C.default.front.product.personalFeaturesIllustrationPng,style:this.getFeatureImgStyle()}),topDivider:!0}),!k.default()&&i.createElement("div",{style:{display:"flex",marginBottom:64}},i.createElement(f.default,{format:f.default.Format.Mac,analyticsName:"product"}),i.createElement(f.default,{format:f.default.Format.Windows,analyticsName:"product",style:{marginLeft:16}}),i.createElement(f.default,{format:f.default.Format.Mobile,analyticsName:"product",style:{marginLeft:16}})),i.createElement(g.default,{format:g.default.Format.Four,features:t.teamFeaturesData}))},t.prototype.renderGetApps=function(){return i.createElement(l.Fragment,null,i.createElement(c.default,{name:"get_started"}),i.createElement(w.default,{title:"Try it now",caption:"It’s free and works across many devices.",topDivider:!0}),i.createElement(d.default,{analyticsName:"product"}))},t.prototype.renderTweets=function(){return i.createElement(l.Fragment,null,i.createElement("div",{style:{height:64}}),i.createElement(v.default,{scrollPoint:"twitter_testimonials"}))},t.prototype.getGalleryButtonStyle=function(){return{display:"flex",alignItems:"center",flexGrow:1,flexDirection:"column",borderRadius:6,width:k.default()?"25%":t.useCaseIllustrationSize}},t.prototype.getGalleryButtonsWrapStyle=function(){return k.default()?{display:"flex",width:"100%",marginBottom:8,justifyContent:"space-evenly"}:{display:"flex",width:824,marginTop:68,marginBottom:22,marginLeft:-16,paddingLeft:24,paddingRight:24,justifyContent:"space-evenly"}},t.prototype.getGalleryIllustrationStyle=function(){return{width:k.default()?"100%":t.useCaseIllustrationSize,height:k.default()?"auto":t.useCaseIllustrationSize,maxWidth:t.useCaseIllustrationSize}},t.prototype.getGalleryTitleStyle=function(e){return{fontSize:k.default()?13:16,fontWeight:P.default.fontWeight.medium,marginTop:k.default()?4:12,marginBottom:k.default()?4:8,paddingBottom:4,textAlign:"center",backgroundImage:"linear-gradient(to right, black 0%, black 100%)",backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% "+(e?2:0)+"px"}},t.prototype.getHeroHeaderWrapStyle=function(){return{display:"flex",flexDirection:k.default()?"column":"row",maxWidth:824,marginTop:k.default()?0:64,textAlign:k.default()?"center":"left"}},t.prototype.getCallToActionWrapStyle=function(){return k.default()?{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"}:{width:"46%",minWidth:386}},t.prototype.getCallToActionTitleStyle=function(){return a({},!k.default()&&{fontSize:19,marginTop:14,marginBottom:12,lineHeight:1.5})},t.prototype.getCallToActionCaptionStyle=function(){return a({color:E.default.FrontBaseGrayTextColor,fontSize:15},k.default()?{marginBottom:36}:{marginTop:10})},t.prototype.getHeroHeaderStyle=function(){return k.default()?{fontSize:48,fontWeight:P.default.fontWeight.bold,letterSpacing:"-0.005em",lineHeight:1,marginTop:6,marginBottom:16}:{fontSize:74,fontWeight:P.default.fontWeight.bold,letterSpacing:"-0.005em",lineHeight:1.1,marginTop:-4,width:"50%",minWidth:410}},t.prototype.getFeatureImgStyle=function(){return{width:k.default()?240:340,height:k.default()?141:200,maxWidth:"100%"}},t.prototype.getTestimonialWrapStyle=function(){return{display:"flex",flexDirection:k.default()?"column":"row",maxWidth:k.default()?440:"100%"}},t.teamFeaturesData=[{header:"Your central source of truth",caption:"Need a wiki? Notion is easy to edit, and even easier to organize and maintain. All your important knowledge stays in one place.",image:C.default.front.product.teamFeatureWikiPng},{header:"A simpler workflow for docs & tasks",caption:"Tired of linking Google Docs and Trello? Notion seamlessly blends the two. Full-powered project trackers with docs inside. Save your team from context switching.",image:C.default.front.product.teamFeatureDocsPng},{header:"The missing half of Slack",caption:"Too many insights slip through Slack? Notion is your team's long term memory. Use the Slack integration to push updates to the rest of your teammates.",image:C.default.front.product.teamFeatureSlackPng,disableImageShadow:!0},{header:"Embed your current tools",caption:"Showcase designs from Figma? Review financial projections from Google Sheets? Notion embeds them all and 50+ other apps. It’s the hub for all your team's knowledge.",image:C.default.front.product.teamFeatureIntegrationsPng,disableImageShadow:!0}],t.personalFeaturesData=[{header:"Stay focused",caption:"Notion is light, fast, and distraction-free. The interface fades away the moment you start typing, leaving you alone with your work. ",image:C.default.front.product.personalFeatureFocusPng},{header:"#Markdown. /Slash commands",caption:"Love keyboard shortcuts? You can access all of Notion's features from your fingertips, so you can stay in flow.",image:C.default.front.product.personalFeatureMarkdownPng},{header:"Think with drag & drop",caption:"Outline your ideas, then rearrange them in any order. Notion’s unique editor helps you structure your thoughts and daily plans.",image:C.default.front.product.personalFeatureDndGif},{header:"Offline. Sync across devices",caption:"Notion syncs with all your devices and collaborators in real-time. It works in your browser, and runs offline with the Mac, Windows, and mobile apps.",image:C.default.front.product.personalFeatureOfflinePng,disableImageShadow:!0}],t.useCaseIllustrationSize=175,t.useCaseItemWidth=910,t.testimonialQuoteStyle={marginBottom:12,lineHeight:1.4,color:E.default.FrontProductTestimonialItemColor},t.testimonialLogoStyle={width:34,height:28,minWidth:34,minHeight:28,marginTop:4,marginLeft:4,marginRight:12},t.testimonialAuthorWrapStyle={display:"flex",fontSize:14,lineHeight:1.4,color:E.default.FrontBaseGrayTextColor},t.testimonialDividerStyle={width:1,flexGrow:0,flexShrink:0,background:E.default.frontBorderColor,marginLeft:36,marginRight:36},t}(s.default);t.default=x},uwlX:function(e,t,r){"use strict";r.r(t),function(e){Function&&Function.prototype&&Function.prototype.bind&&(/MSIE [678]/.test(navigator.userAgent)||(window.__twttr&&window.__twttr.widgets&&window.__twttr.widgets.loaded&&window.twttr.widgets.load&&window.twttr.widgets.load(),window.__twttr&&window.__twttr.widgets&&window.__twttr.widgets.init||function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r=window.__twttrll;window.__twttrll=function(n,a){for(var i,l,s=0,u=[];s<n.length;s++)l=n[s],o[l]&&u.push.apply(u,o[l]),o[l]=0;for(i in a)e[i]=a[i];for(r&&r(n,a);u.length;)u.shift().call(null,null,t)};var n={},o={0:0};t.e=function(e,t){},t.e=function(e,r){if(0===o[e])return r.call(null,null,t);if(void 0!==o[e])o[e].push(r);else{o[e]=[r];var n=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.onerror=function(){var t=o[e];for(a.onerror=null,delete o[e];t.length;)t.shift().call(null,new Error("failed to load chunk"))},a.src=t.p+"js/"+({1:"dm_button",2:"button",3:"grid",4:"moment",5:"periscope_on_air",6:"timeline",7:"tweet"}[e]||e)+"."+{1:"c9f0b4f943a926eb7af107443d33364f",2:"df1da1fef194d8f8f3fd803a219a8177",3:"d416ad1e7cade90f77b5fb828cf4bc4a",4:"189c3723afcd0d91c33b2a05c73be7f2",5:"e6b25843ebf988f199d25724dd785f62",6:"fe37195db6188934961bb169bf5784a6",7:"05b3387999ca4bf3e9bd50ecbb81d2b3"}[e]+".js",n.appendChild(a)}},t.m=e,t.c=n,t.p="https://platform.twitter.com/",t(0)}([function(e,t,r){var n,o=r(1),a=r(9),i=r(14),l=r(16),s=r(18),u=r(19),c=r(30),d=r(32),p=r(260),f=r(271),h=r(272),m=r(239);r(273),m.emitter.trigger(m.START),s.set("widgets.init",!0),l.set("init",!0),h(),n=new o,i.exposeReadyPromise(n.promise,l.base,"_e"),l.set("widgets",p),l.set("widgets.load",d.load),l.set("events",c),f(function(){n.resolve(l.base),u.attachTo(a),d.loadPage()})},function(e,t,r){var n=r(2);e.exports=function(){var e=this;this.promise=new n(function(t,r){e.resolve=t,e.reject=r})}},function(e,t,r){var n=r(3).Promise,o=r(7),a=r(8);e.exports=a.hasPromiseSupport()?o.Promise:n},function(t,r,n){var o;(function(t){(function(){function a(e){return"function"==typeof e}function i(){return function(){setTimeout(l,1)}}function l(){for(var e=0;e<C;e+=2)(0,I[e])(I[e+1]),I[e]=void 0,I[e+1]=void 0;C=0}function s(){}function u(e,t){if(t.constructor===e.constructor)!function(e,t){t._state===D?p(e,t._result):t._state===L?f(e,t._result):h(t,void 0,function(t){c(e,t)},function(t){f(e,t)})}(e,t);else{var r=function(e){try{return e.then}catch(e){return R.error=e,R}}(t);r===R?f(e,R.error):void 0===r?p(e,t):a(r)?function(e,t,r){E(function(e){var n=!1,o=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,function(r){n||(n=!0,t!==r?c(e,r):p(e,r))},function(t){n||(n=!0,f(e,t))},e._label);!n&&o&&(n=!0,f(e,o))},e)}(e,t,r):p(e,t)}}function c(e,t){e===t?f(e,new TypeError("You cannot resolve a promise with itself")):function(e){return"function"==typeof e||"object"==typeof e&&null!==e}(t)?u(e,t):p(e,t)}function d(e){e._onerror&&e._onerror(e._result),m(e)}function p(e,t){e._state===A&&(e._result=t,e._state=D,0!==e._subscribers.length&&E(m,e))}function f(e,t){e._state===A&&(e._state=L,e._result=t,E(d,e))}function h(e,t,r,n){var o=e._subscribers,a=o.length;e._onerror=null,o[a]=t,o[a+D]=r,o[a+L]=n,0===a&&e._state&&E(m,e)}function m(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n,o,a=e._result,i=0;i<t.length;i+=3)n=t[i],o=t[i+r],n?g(r,n,o,a):o(a);e._subscribers.length=0}}function y(){this.error=null}function g(e,t,r,n){var o,i,l,s,u=a(r);if(u){if((o=function(e,t){try{return e(t)}catch(e){return B.error=e,B}}(r,n))===B?(s=!0,i=o.error,o=null):l=!0,t===o)return void f(t,new TypeError("A promises callback cannot return that same promise."))}else o=n,l=!0;t._state!==A||(u&&l?c(t,o):s?f(t,i):e===D?p(t,o):e===L&&f(t,o))}function v(e,t){var r=this;r._instanceConstructor=e,r.promise=new e(s),r._validateInput(t)?(r._input=t,r.length=t.length,r._remaining=t.length,r._init(),0===r.length?p(r.promise,r._result):(r.length=r.length||0,r._enumerate(),0===r._remaining&&p(r.promise,r._result))):f(r.promise,r._validationError())}function b(e){this._id=W++,this._state=void 0,this._result=void 0,this._subscribers=[],s!==e&&(a(e)||function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof b||function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}(),function(e,t){try{t(function(t){c(e,t)},function(t){f(e,t)})}catch(t){f(e,t)}}(this,e))}var w,S,_,k=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},C=0,E=function(e,t){I[C]=e,I[C+1]=t,2===(C+=2)&&(S?S(l):_())},P="undefined"!=typeof window?window:void 0,x=P||{},T=x.MutationObserver||x.WebKitMutationObserver,O="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),M="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,I=new Array(1e3);_=O?function(){var e=process.nextTick,t=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=setImmediate),function(){e(l)}}():T?function(){var e=0,t=new T(l),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}():M?function(){var e=new MessageChannel;return e.port1.onmessage=l,function(){e.port2.postMessage(0)}}():void 0===P?function(){try{var e=n(5);return w=e.runOnLoop||e.runOnContext,function(){w(l)}}catch(e){return i()}}():i();var A=void 0,D=1,L=2,R=new y,B=new y;v.prototype._validateInput=function(e){return k(e)},v.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},v.prototype._init=function(){this._result=new Array(this.length)};var j=v;v.prototype._enumerate=function(){for(var e=this,t=e.length,r=e.promise,n=e._input,o=0;r._state===A&&o<t;o++)e._eachEntry(n[o],o)},v.prototype._eachEntry=function(e,t){var r=this,n=r._instanceConstructor;!function(e){return"object"==typeof e&&null!==e}(e)?(r._remaining--,r._result[t]=e):e.constructor===n&&e._state!==A?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(n.resolve(e),t)},v.prototype._settledAt=function(e,t,r){var n=this,o=n.promise;o._state===A&&(n._remaining--,e===L?f(o,r):n._result[t]=r),0===n._remaining&&p(o,n._result)},v.prototype._willSettleAt=function(e,t){var r=this;h(e,void 0,function(e){r._settledAt(D,t,e)},function(e){r._settledAt(L,t,e)})};var V=function(e){return new j(this,e).promise},F=function(e){function t(e){c(n,e)}function r(e){f(n,e)}var n=new this(s);if(!k(e))return f(n,new TypeError("You must pass an array to race.")),n;for(var o=e.length,a=0;n._state===A&&a<o;a++)h(this.resolve(e[a]),void 0,t,r);return n},N=function(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(s);return c(t,e),t},U=function(e){var t=new this(s);return f(t,e),t},W=0,z=b;b.all=V,b.race=F,b.resolve=N,b.reject=U,b._setScheduler=function(e){S=e},b._setAsap=function(e){E=e},b._asap=E,b.prototype={constructor:b,then:function(e,t){var r=this,n=r._state;if(n===D&&!e||n===L&&!t)return this;var o=new this.constructor(s),a=r._result;if(n){var i=arguments[n-1];E(function(){g(n,o,i,a)})}else h(r,o,e,t);return o},catch:function(e){return this.then(null,e)}};var H={Promise:z,polyfill:function(){var t;if(void 0!==e)t=e;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=t.Promise;r&&"[object Promise]"===Object.prototype.toString.call(r.resolve())&&!r.cast||(t.Promise=z)}};n(6).amd?void 0===(o=function(){return H}.call(r,n,r,t))||(t.exports=o):void 0!==t&&t.exports&&(t.exports=H)}).call(this)}).call(r,n(4)(t))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=window},function(e,t,r){function n(e){return/(Trident|MSIE|Edge[\/ ]?\d)/.test(e=e||s)}var o=r(9),a=(r(10),r(13)),i=r(7),l=r(12),s=a.userAgent;e.exports={retina:function(e){return(e=e||i).devicePixelRatio?e.devicePixelRatio>=1.5:!!e.matchMedia&&e.matchMedia("only screen and (min-resolution: 144dpi)").matches},anyIE:n,ie9:function(e){return/MSIE 9/.test(e=e||s)},ie10:function(e){return/MSIE 10/.test(e=e||s)},ios:function(e){return/(iPad|iPhone|iPod)/.test(e=e||s)},android:function(e){return/^Mozilla\/5\.0 \(Linux; (U; )?Android/.test(e=e||s)},canPostMessage:function(e,t){return t=t||s,(e=e||i).postMessage&&!(n(t)&&e.opener)},touch:function(e,t,r){return t=t||a,r=r||s,"ontouchstart"in(e=e||i)||/Opera Mini/.test(r)||t.msMaxTouchPoints>0},cssTransitions:function(){var e=o.body.style;return void 0!==e.transition||void 0!==e.webkitTransition||void 0!==e.mozTransition||void 0!==e.oTransition||void 0!==e.msTransition},hasPromiseSupport:function(){return!!(i.Promise&&i.Promise.resolve&&i.Promise.reject&&i.Promise.all&&i.Promise.race&&(new i.Promise(function(t){e=t}),l.isType("function",e)));var e},hasIntersectionObserverSupport:function(){return!!i.IntersectionObserver},hasPerformanceInformation:function(){return i.performance&&i.performance.getEntriesByType},hasLocalStorageSupport:function(){try{return i.localStorage.setItem("local_storage_support_test","true"),void 0!==i.localStorage}catch(e){return!1}}}},function(e,t){e.exports=document},function(e,t,r){function n(){i("info",u.toRealArray(arguments))}function o(){i("error",u.toRealArray(arguments))}function a(){return s.performance&&+s.performance.now()||+new Date}function i(e,t){if(s[c]&&s[c][e])switch(t.length){case 1:s[c][e](t[0]);break;case 2:s[c][e](t[0],t[1]);break;case 3:s[c][e](t[0],t[1],t[2]);break;case 4:s[c][e](t[0],t[1],t[2],t[3]);break;case 5:s[c][e](t[0],t[1],t[2],t[3],t[4]);break;default:0!==t.length&&s[c].warn&&s[c].warn("too many params passed to logger."+e)}}var l=r(11),s=r(7),u=r(12),c=["con","sole"].join(""),d={},p=u.contains(l.href,"tw_debug=true");e.exports={info:n,warn:function(){i("warn",u.toRealArray(arguments))},error:o,time:function(e){p&&(d[e]=a())},timeEnd:function(e){p&&(d[e]?n("_twitter",e,a()-d[e]):o("timeEnd() called before time() for id: ",e))}}},function(e,t){e.exports=location},function(e,t,r){function n(e,t){var r;for(r in e)e.hasOwnProperty&&!e.hasOwnProperty(r)||t(r,e[r]);return e}function o(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function a(e){return e===Object(e)}function i(e){var t;if(!a(e))return!1;if(Object.keys)return!Object.keys(e).length;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function l(e){return e?Array.prototype.slice.call(e):[]}var s=r(7);e.exports={aug:function(e){return l(arguments).slice(1).forEach(function(t){n(t,function(t,r){e[t]=r})}),e},async:function(e,t){s.setTimeout(function(){e.call(t||null)},0)},compact:function e(t){return n(t,function(r,n){a(n)&&(e(n),i(n)&&delete t[r]),null!=n&&""!==n||delete t[r]}),t},contains:function(e,t){return!(!e||!e.indexOf)&&e.indexOf(t)>-1},forIn:n,isObject:a,isEmptyObject:i,toType:o,isType:function(e,t){return e==o(t)},toRealArray:l}},function(e,t){e.exports=navigator},function(e,t,r){var n=r(15);e.exports={exposeReadyPromise:function(e,t,r){t.ready=n(e.then,e),r&&Array.isArray(t[r])&&(t[r].forEach(n(e.then,e)),delete t[r])}}},function(e,t,r){var n=r(12);e.exports=function(e,t){var r=Array.prototype.slice.call(arguments,2);return function(){var o=n.toRealArray(arguments);return e.apply(t,r.concat(o))}}},function(e,t,r){var n=r(17);e.exports=new n("twttr")},function(e,t,r){function n(e){return l.isType("string",e)?e.split("."):l.isType("array",e)?e:[]}function o(e,t){var r=n(t).slice(0,-1);return r.reduce(function(e,t,n){if(e[t]=e[t]||{},!l.isObject(e[t]))throw new Error(r.slice(0,n+1).join(".")+" is already defined with a value.");return e[t]},e)}function a(e,t){(t=t||i)[e]=t[e]||{},Object.defineProperty(this,"base",{value:t[e]}),Object.defineProperty(this,"name",{value:e})}var i=r(7),l=r(12);l.aug(a.prototype,{get:function(e){return n(e).reduce(function(e,t){if(l.isObject(e))return e[t]},this.base)},set:function(e,t,r){var a=n(e),i=o(this.base,e),l=a.slice(-1);return r&&l in i?i[l]:i[l]=t},init:function(e,t){return this.set(e,t,!0)},unset:function(e){var t=n(e),r=this.get(t.slice(0,-1));r&&delete r[t.slice(-1)]},aug:function(e){var t=this.get(e),r=l.toRealArray(arguments).slice(1);if(t=void 0!==t?t:{},r.unshift(t),!r.every(l.isObject))throw new Error("Cannot augment non-object.");return this.set(e,l.aug.apply(null,r))},call:function(e){var t=this.get(e),r=l.toRealArray(arguments).slice(1);if(!l.isType("function",t))throw new Error("Function "+e+"does not exist.");return t.apply(null,r)},fullPath:function(e){var t=n(e);return t.unshift(this.name),t.join(".")}}),e.exports=a},function(e,t,r){var n=r(17);e.exports=new n("__twttr")},function(e,t,r){function n(e){var t,r;e.altKey||e.metaKey||e.shiftKey||(t=i.closest(function(e){return"A"===e.tagName||"AREA"===e.tagName},e.target))&&s.isIntentURL(t.href)&&(r=(r=(r=function(e){return[e,"original_referer="+o.href].join(-1==e.indexOf("?")?"?":"&")}(t.href)).replace(/^http[:]/,"https:")).replace(/^\/\//,"https://"),l.open(r,t),a.preventDefault(e))}var o=r(11),a=r(20),i=r(22),l=r(23),s=r(24);e.exports={attachTo:function(e){e.addEventListener("click",n,!1)}}},function(e,t,r){function n(e){var t=e.getAttribute("data-twitter-event-id");return t||(e.setAttribute("data-twitter-event-id",++d),d)}function o(e,t,r){var n=0,o=e&&e.length||0;for(n=0;n<o;n++)if(e[n].call(t,r,t),r.ceaseImmediately)return!1}function a(e,t,r){for(var n=r||e.target||e.srcElement,i=u.list(n).map(function(e){return"."+e}).concat(n.tagName),l=0,s=i.length;l<s;l++)if(!1===o(t[i[l]],n,e))return;e.cease||n!==this&&a.call(this,e,t,n.parentElement||n.parentNode)}function i(e,t,r,n){function o(n){a.call(e,n,r[t])}(function(e,t,r,n){e.id&&(p[e.id]=p[e.id]||[],p[e.id].push({el:e,listener:t,type:r,rootId:n}))})(e,o,t,n),e.addEventListener(t,o,!1)}function l(e){e&&e.preventDefault?e.preventDefault():e.returnValue=!1}function s(e){e&&(e.cease=!0)&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}var u=r(21),c={},d=-1,p={};e.exports={stop:function(e){return s(e),l(e),!1},stopPropagation:s,stopImmediatePropagation:function(e){e&&(e.ceaseImmediately=!0,s(e),e.stopImmediatePropagation())},preventDefault:l,delegate:function(e,t,r,o){var a=n(e);c[a]=c[a]||{},c[a][t]||(c[a][t]={},i(e,t,c[a],a)),c[a][t][r]=c[a][t][r]||[],c[a][t][r].push(o)},simulate:function(e,t,r){var o=n(t),i=c[o]&&c[o];a.call(t,{target:r},i[e])},removeDelegatesForWidget:function(e){var t=p[e];t&&(t.forEach(function(e){e.el.removeEventListener(e.type,e.listener,!1),delete c[e.rootId]}),delete p[e])}}},function(e,t,r){function n(e){return new RegExp("\\b"+e+"\\b","g")}function o(e,t){return e.classList?void e.classList.add(t):void(n(t).test(e.className)||(e.className+=" "+t))}function a(e,t){return e.classList?void e.classList.remove(t):void(e.className=e.className.replace(n(t)," "))}function i(e,t){return e.classList?e.classList.contains(t):s.contains(l(e),t)}function l(e){return s.toRealArray(e.classList?e.classList:e.className.match(u))}var s=r(12),u=/\b([\w-_]+)\b/g;e.exports={add:o,remove:a,replace:function(e,t,r){return e.classList&&i(e,t)?(a(e,t),void o(e,r)):void(e.className=e.className.replace(n(t),r))},toggle:function(e,t,r){return void 0===r&&e.classList&&e.classList.toggle?e.classList.toggle(t,r):(r?o(e,t):a(e,t),r)},present:i,list:l}},function(e,t,r){var n=r(12);e.exports={closest:function e(t,r,o){var a;if(r)return o=o||r&&r.ownerDocument,a=n.isType("function",t)?t:function(e){var t=e.charAt(0);return"."===t?function(t){var r=t.className?t.className.split(/\s+/):[];return n.contains(r,e.slice(1))}:"#"===t?function(t){return t.id===e.slice(1)}:function(t){return t.tagName===e.toUpperCase()}}(t),r===o?a(r)?r:void 0:a(r)?r:e(a,r.parentNode,o)}}},function(e,t,r){function n(e,t){var r=s.decodeURL(t);switch(e){case"favorite":case"like":return{tweet_id:r.tweet_id};case"follow":return{screen_name:r.screen_name,user_id:r.user_id};case"retweet":return{source_tweet_id:r.tweet_id};default:return{}}}function o(e){this.srcEl=[],this.element=e}var a=r(24),i=r(27),l=r(30),s=r(25),u={favorite:["favorite","like"],follow:["follow"],like:["favorite","like"],retweet:["retweet"],tweet:["tweet"]};o.open=function(e,t,r){var o=(a.intentType(e)||"").toLowerCase();a.isTwitterURL(e)&&(function(e,t){i.open(e,{},t)}(e,r),t&&l.trigger("click",{target:t,region:"intent",type:"click",data:{}}),t&&u[o]&&u[o].forEach(function(r){l.trigger(r,{target:t,region:"intent",type:r,data:n(o,e)})}))},e.exports=o},function(e,t,r){function n(e){return"string"==typeof e&&u.test(e)&&RegExp.$1.length<=20}function o(e){if(n(e))return RegExp.$1}function a(e,t){var r=s.decodeURL(e);if(t=t||!1,r.screen_name=o(e),r.screen_name)return s.url("https://twitter.com/intent/"+(t?"follow":"user"),r)}function i(e){return"string"==typeof e&&f.test(e)}function l(e){return"string"==typeof e&&c.test(e)}var s=r(25),u=/(?:^|(?:https?:)?\/\/(?:www\.)?twitter\.com(?::\d+)?(?:\/intent\/(?:follow|user)\/?\?screen_name=|(?:\/#!)?\/))@?([\w]+)(?:\?|&|$)/i,c=/(?:^|(?:https?:)?\/\/(?:www\.)?twitter\.com(?::\d+)?\/(?:#!\/)?[\w_]+\/status(?:es)?\/)(\d+)/i,d=/^http(s?):\/\/(\w+\.)*twitter\.com([:\/]|$)/i,p=/^http(s?):\/\/pbs\.twimg\.com\//,f=/^#?([^.,<>!\s\/#\-()'"]+)$/,h=/twitter\.com(?::\d{2,4})?\/intent\/(\w+)/,m=/^https?:\/\/(?:www\.)?twitter\.com\/\w+\/timelines\/(\d+)/i,y=/^https?:\/\/(?:www\.)?twitter\.com\/i\/moments\/(\d+)/i,g=/^https?:\/\/(?:www\.)?twitter\.com\/(\w+)\/(?:likes|favorites)/i,v=/^https?:\/\/(?:www\.)?twitter\.com\/(\w+)\/lists\/([\w-]+)/i,b=/^https?:\/\/(?:www\.)?twitter\.com\/i\/live\/(\d+)/i,w=/^https?:\/\/syndication\.twitter\.com\/settings/i,S=/^https?:\/\/(localhost|platform)\.twitter\.com(?::\d+)?\/widgets\/widget_iframe\.(.+)/i;e.exports={isHashTag:i,hashTag:function(e,t){if(t=void 0===t||t,i(e))return(t?"#":"")+RegExp.$1},isScreenName:n,screenName:o,isStatus:l,status:function(e){return l(e)&&RegExp.$1},intentForProfileURL:a,intentForFollowURL:function(e){return a(e,!0)},isTwitterURL:function(e){return d.test(e)},isTwimgURL:function(e){return p.test(e)},isIntentURL:function(e){return h.test(e)},isSettingsURL:function(e){return w.test(e)},isWidgetIframeURL:function(e){return S.test(e)},regexen:{profile:u},momentId:function(e){return y.test(e)&&RegExp.$1},collectionId:function(e){return m.test(e)&&RegExp.$1},intentType:function(e){return h.test(e)&&RegExp.$1},likesScreenName:function(e){return g.test(e)&&RegExp.$1},listScreenNameAndSlug:function(e){return!!v.test(e)&&{ownerScreenName:RegExp.$1,slug:RegExp.$2}},eventId:function(e){return b.test(e)&&RegExp.$1}}},function(e,t,r){function n(e){return encodeURIComponent(e).replace(/\+/g,"%2B").replace(/'/g,"%27")}function o(e){return decodeURIComponent(e)}function a(e){var t=[];return s.forIn(e,function(e,r){var o=n(e);s.isType("array",r)||(r=[r]),r.forEach(function(e){l.hasValue(e)&&t.push(o+"="+n(e))})}),t.sort().join("&")}function i(e){var t={};return e?(e.split("&").forEach(function(e){var r=e.split("="),n=o(r[0]),a=o(r[1]);if(2==r.length)return s.isType("array",t[n])?void t[n].push(a):n in t?(t[n]=[t[n]],void t[n].push(a)):void(t[n]=a)}),t):{}}var l=r(26),s=r(12);e.exports={url:function(e,t){return a(t).length>0?s.contains(e,"?")?e+"&"+a(t):e+"?"+a(t):e},decodeURL:function(e){var t=e&&e.split("?");return 2==t.length?i(t[1]):{}},decode:i,encode:a,encodePart:n,decodePart:o}},function(e,t,r){function n(e){return null!=e&&""!==e}function o(e){return i(e)&&e%1==0}function a(e){return i(e)&&!o(e)}function i(e){return n(e)&&!isNaN(e)}function l(e){return u.contains(d,e)}function s(e){return u.contains(c,e)}var u=r(12),c=[!0,1,"1","on","ON","true","TRUE","yes","YES"],d=[!1,0,"0","off","OFF","false","FALSE","no","NO"];e.exports={hasValue:n,isInt:o,isFloat:a,isNumber:i,isString:function(e){return"string"===u.toType(e)},isArray:function(e){return n(e)&&"array"==u.toType(e)},isTruthValue:s,isFalseValue:l,asInt:function(e){if(o(e))return parseInt(e,10)},asFloat:function(e){if(a(e))return e},asNumber:function(e){if(i(e))return e},asBoolean:function(e){return!(!n(e)||!s(e)&&(l(e)||!e))}}},function(e,t,r){function n(e,t){function r(e){return Math.round(e/2)}return e>t?{coordinate:0,size:t}:{coordinate:r(t)-r(e),size:e}}function o(e,t,r){var o,i;r=r||{},o=n((t=a.parse(t)).width,r.width||m),t.left=o.coordinate,t.width=o.size,i=n(t.height,r.height||y),t.top=i.coordinate,t.height=i.size,this.win=e,this.features=function(e){var t=[];return f.forIn(e,function(e,r){t.push(e+"="+r)}),t.join(",")}(t)}var a,i=r(7),l=r(28),s=r(20),u=r(22),c=r(8),d=r(24),p=r(29),f=r(12),h="intent_",m=i.screen.width,y=i.screen.height;a=(new l).defaults({width:550,height:520,personalbar:"0",toolbar:"0",location:"1",scrollbars:"1",resizable:"1"}),o.prototype.open=function(e,t){var r=t&&"click"==t.type&&u.closest("a",t.target),n=t&&(t.altKey||t.metaKey||t.shiftKey),o=r&&(c.ios()||c.android());if(d.isTwitterURL(e))return n||o?this:(this.name=h+p.generate(),this.popup=this.win.open(e,this.name,this.features),t&&s.preventDefault(t),this)},o.open=function(e,t,r){return new o(i,t).open(e,r)},e.exports=o},function(e,t,r){function n(){this.assertions=[],this._defaults={}}var o=r(26),a=r(12);n.prototype.assert=function(e,t){return this.assertions.push({fn:e,msg:t||"assertion failed"}),this},n.prototype.defaults=function(e){return this._defaults=e||this._defaults,this},n.prototype.require=function(e){var t=this;return(e=Array.isArray(e)?e:a.toRealArray(arguments)).forEach(function(e){t.assert(function(e){return function(t){return o.hasValue(t[e])}}(e),"required: "+e)}),this},n.prototype.parse=function(e){var t,r;if(t=a.aug({},this._defaults,e||{}),(r=this.assertions.reduce(function(e,r){return r.fn(t)||e.push(r.msg),e},[])).length>0)throw new Error(r.join("\n"));return t},e.exports=n},function(e,t){var r="i",n=0,o=0;e.exports={generate:function(){return r+String(+new Date)+Math.floor(1e5*Math.random())+n++},deterministic:function(){return r+String(o++)}}},function(e,t,r){var n=r(16),o=r(31),a=r(12);e.exports=a.aug(n.get("events")||{},o.Emitter)},function(e,t,r){var n=r(12),o=r(15),a={bind:function(e,t){return this._handlers=this._handlers||{},this._handlers[e]=this._handlers[e]||[],this._handlers[e].push(t)},unbind:function(e,t){var r;this._handlers&&this._handlers[e]&&(t?(r=this._handlers[e].indexOf(t))>=0&&this._handlers[e].splice(r,1):this._handlers[e]=[])},trigger:function(e,t){var r=this._handlers&&this._handlers[e];(t=t||{}).type=e,r&&r.forEach(function(e){n.async(o(e,this,t))})}};e.exports={Emitter:a,makeEmitter:function(){return n.aug(function(){},a)}}},function(e,t,r){function n(){var e=u.val("widgets:autoload")||!0;return!f.isFalseValue(e)&&(f.isTruthValue(e)?a.body:a.querySelectorAll(e))}function o(e){var t;return e=(e=e||a.body).length?h.toRealArray(e):[e],d.pause(),t=l.allResolved(function(e){return e.reduce(function(e,t){return e.concat(y.reduce(function(e,r){return e.concat(r(t))},[]))},[])}(e).map(function(e){return s.addWidget(e)})).then(function(e){p.trigger("loaded",{widgets:e}),g.emitter.trigger(g.ALL_WIDGETS_RENDERED,{widgets:e})}),l.always(t,function(){d.resume()}),t}var a=r(9),i=r(2),l=r(33),s=r(34),u=r(41),c=r(18),d=r(42),p=r(30),f=r(26),h=r(12),m=r(73),y=r(78),g=r(239);e.exports={load:o,loadPage:function(){var e=n();return m.load(),!1===e?i.resolve():(c.set("widgets.loaded",!0),o(e))},_getPageLoadTarget:n}},function(e,t,r){function n(e,t){return e.then(t,t)}function o(e){return e instanceof a}var a=r(2),i=r(1);e.exports={always:n,allResolved:function(e){var t;return void 0===e?a.reject(new Error("undefined is not an object")):Array.isArray(e)?(t=e.length)?new a(function(r,n){function a(){(l+=1)===t&&(0===s.length?n():r(s))}function i(e){s.push(e),a()}var l=0,s=[];e.forEach(function(e){o(e)?e.then(i,a):i(e)})}):a.resolve([]):a.reject(new Error("Type error"))},some:function(e){var t;return t=(e=e||[]).length,e=e.filter(o),t?t!==e.length?a.reject("non-Promise passed to .some"):new a(function(t,r){function n(){(o+=1)===e.length&&r()}var o=0;e.forEach(function(e){e.then(t,n)})}):a.reject("no promises passed to .some")},isPromise:o,allSettled:function(e){function t(){}return a.all((e||[]).map(function(e){return n(e,t)}))},timeout:function(e,t){var r=new i;return setTimeout(function(){r.reject(new Error("Promise timed out"))},t),e.then(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}}},function(e,t,r){var n=r(35),o=r(39),a=r(2),i=r(33),l=r(15),s=r(12),u=new o(function(e){var t=function(e){return e.reduce(function(e,t){return e[t.className]=e[t.className]||[],e[t.className].push(t),e},{})}(e.map(n.fromRawTask));s.forIn(t,function(e,t){i.allSettled(t.map(function(e){return e.initialize()})).then(function(){t.forEach(function(e){a.all([e.hydrate(),e.insertIntoDom()]).then(l(e.render,e)).then(l(e.success,e),l(e.fail,e))})})})});e.exports={addWidget:function(e){return u.add(e)}}},function(e,t,r){function n(e,t){this._widget=null,this._sandbox=null,this._hydrated=!1,this._insertedIntoDom=!1,this._Sandbox=e.Sandbox,this._factory=e.factory,this._widgetParams=e.parameters,this._resolve=t,this._className=e.className,this._renderedClassName=e.className+"-rendered",this._errorClassName=e.className+"-error",this._srcEl=e.srcEl,this._targetGlobal=function(e){return(e.srcEl||e.targetEl).ownerDocument.defaultView}(e),this._insertionStrategy=function(t){var r=e.srcEl,n=e.targetEl;r?n.insertBefore(t,r):n.appendChild(t)}}var o=r(21),a=r(36),i=r(30),l=r(38),s=r(2),u=r(33);n.fromRawTask=function(e){return new n(e.input,e.taskDoneDeferred.resolve)},n.prototype.initialize=function(){var e=this,t=new this._Sandbox(this._targetGlobal);return this._factory(this._widgetParams,t).then(function(r){return e._widget=r,e._sandbox=t,r})},n.prototype.insertIntoDom=function(){var e=this;return this._widget?this._sandbox.insert(this._widget.id,{class:[this._className,this._renderedClassName].join(" ")},null,this._insertionStrategy).then(function(){e._insertedIntoDom=!0}):s.reject(new Error("cannot insert widget into DOM before it is initialized"))},n.prototype.hydrate=function(){var e=this;return this._widget?this._widget.hydrate().then(function(){e._hydrated=!0}):s.reject(new Error("cannot hydrate widget before it is initialized"))},n.prototype.render=function(){function e(e){return l(t._sandbox.sandboxEl).then(function(){return s.reject(e)})}var t=this;return this._hydrated?this._insertedIntoDom?t._widget.render(t._sandbox).then(function(){return t._sandbox.onResize(function(){return t._widget.resize().then(function(){i.trigger("resize",{target:t._sandbox.sandboxEl})})}),t._widget.show()}).then(function(){return l(t._srcEl).then(function(){return t._sandbox.sandboxEl})},e):e(new Error("cannot render widget before DOM insertion")):e(new Error("cannot render widget before hydration"))},n.prototype.fail=function(){var e=this;return this._srcEl?u.always(a.write(function(){o.add(e._srcEl,e._errorClassName)}),function(){i.trigger("rendered",{target:e._srcEl}),e._resolve(e._srcEl)}):(e._resolve(),s.resolve())},n.prototype.success=function(){i.trigger("rendered",{target:this._sandbox.sandboxEl}),this._resolve(this._sandbox.sandboxEl)},e.exports=n},function(e,t,r){function n(e,t){return function(){try{t.resolve(e.call(this))}catch(e){t.reject(e)}}}var o=r(37),a=r(1),i=r(12);e.exports={sync:function(e,t){e.call(t)},read:function(e,t){var r=new a;return o.read(n(e,r),t),r.promise},write:function(e,t){var r=new a;return o.write(n(e,r),t),r.promise},defer:function(e,t,r){var l=new a;return i.isType("function",e)&&(r=t,t=e,e=1),o.defer(e,n(t,l),r),l.promise}}},function(e,t,r){var n;!function(){function o(){this.frames=[],this.lastId=0,this.raf=a,this.batch={hash:{},read:[],write:[],mode:null}}var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)};o.prototype.read=function(e,t){var r=this.add("read",e,t),n=r.id;return this.batch.read.push(r.id),"reading"===this.batch.mode||this.batch.scheduled?n:(this.scheduleBatch(),n)},o.prototype.write=function(e,t){var r=this.add("write",e,t),n=this.batch.mode,o=r.id;return this.batch.write.push(r.id),"writing"===n||"reading"===n||this.batch.scheduled?o:(this.scheduleBatch(),o)},o.prototype.defer=function(e,t,r){"function"==typeof e&&(r=t,t=e,e=1);var n=this,o=e-1;return this.schedule(o,function(){n.run({fn:t,ctx:r})})},o.prototype.clear=function(e){if("function"==typeof e)return this.clearFrame(e);e=Number(e);var t=this.batch.hash[e];if(t){var r=this.batch[t.type],n=r.indexOf(e);delete this.batch.hash[e],~n&&r.splice(n,1)}},o.prototype.clearFrame=function(e){var t=this.frames.indexOf(e);~t&&this.frames.splice(t,1)},o.prototype.scheduleBatch=function(){var e=this;this.schedule(0,function(){e.batch.scheduled=!1,e.runBatch()}),this.batch.scheduled=!0},o.prototype.uniqueId=function(){return++this.lastId},o.prototype.flush=function(e){for(var t;t=e.shift();)this.run(this.batch.hash[t])},o.prototype.runBatch=function(){try{this.batch.mode="reading",this.flush(this.batch.read),this.batch.mode="writing",this.flush(this.batch.write),this.batch.mode=null}catch(e){throw this.runBatch(),e}},o.prototype.add=function(e,t,r){var n=this.uniqueId();return this.batch.hash[n]={id:n,fn:t,ctx:r,type:e}},o.prototype.run=function(e){var t=e.ctx||this,r=e.fn;if(delete this.batch.hash[e.id],!this.onError)return r.call(t);try{r.call(t)}catch(e){this.onError(e)}},o.prototype.loop=function(){function e(){var t=r.frames.shift();r.frames.length?n(e):r.looping=!1,t&&t()}var t,r=this,n=this.raf,o=!1;this.looping||(t=setTimeout(function(){o=!0,e()},500),n(function(){o||(clearTimeout(t),e())}),this.looping=!0)},o.prototype.schedule=function(e,t){return this.frames[e]?this.schedule(e+1,t):(this.loop(),this.frames[e]=t)};var i=new o;void 0!==e&&e.exports?e.exports=i:void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){var n=r(36);e.exports=function(e){return n.write(function(){e&&e.parentNode&&e.parentNode.removeChild(e)})}},function(e,t,r){function n(e){this._inputsQueue=[],this._task=e,this._hasFlushBeenScheduled=!1}var o=r(1),a=r(40),i=r(15);n.prototype.add=function(e){var t=new o;return this._inputsQueue.push({input:e,taskDoneDeferred:t}),this._hasFlushBeenScheduled||(this._hasFlushBeenScheduled=!0,a(i(this._flush,this))),t.promise},n.prototype._flush=function(){try{this._task.call(null,this._inputsQueue)}catch(e){this._inputsQueue.forEach(function(t){t.taskDoneDeferred.reject(e)})}this._inputsQueue=[],this._hasFlushBeenScheduled=!1},e.exports=n},function(e,t,r){var n=r(3).Promise;e.exports=n._asap},function(e,t,r){function n(e){var t,r,n,i=0;for(o={},t=(e=e||a).getElementsByTagName("meta");t[i];i++)r=t[i],/^twitter:/.test(r.name)&&(n=r.name.replace(/^twitter:/,""),o[n]=r.content)}var o,a=r(9);n(),e.exports={init:n,val:function(e){return o[e]}}},function(e,t,r){function n(e){e.forEach(function(e){var t=e.input.namespace,r=e.input.data,n=e.input.offsite,o=e.input.version;i.clientEvent(t,r,n,o),e.taskDoneDeferred.resolve()})}var o=r(43),a=r(44),i=r(71),l=r(50),s=new(r(72))(function(e){var t,r,i;if(0!==e.length){if(1===e.length)return n(e);r=(t=o(e,function(e){return l.noticeSeen(e.input.namespace)})).true,i=t.false,r&&r.length>0&&n(r.slice(0,1)),i&&(1===i.length?n:function(e){a.init(),e.forEach(function(e){var t=e.input.namespace,r=e.input.data,n=e.input.offsite,o=e.input.version;a.clientEvent(t,r,n,o)}),a.flush().then(function(){e.forEach(function(e){e.taskDoneDeferred.resolve()})},function(){e.forEach(function(e){e.taskDoneDeferred.reject()})})})(i)}});e.exports={scribe:function(e,t,r,n){return s.add({namespace:e,data:t,offsite:r,version:n})},pause:function(){s.pause()},resume:function(){s.resume()}}},function(e,t){e.exports=function(e,t){return e.reduce(function(e,r){var n=t(r);return e[n]=e[n]||[],e[n].push(r),e},{})}},function(e,t,r){function n(){var e=l.createElement("form"),t=l.createElement("input"),r=l.createElement("input");return S++,e.action=h.CLIENT_EVENT_ENDPOINT,e.method="POST",e.target=b+S,e.id=w+S,t.type="hidden",t.name="dnt",t.value=d.enabled(),r.type="hidden",r.name="tfw_redirect",r.value=h.RUFOUS_REDIRECT,e.appendChild(t),e.appendChild(r),e}function o(){var e=b+S;return c({id:e,name:e,width:0,height:0,border:0},{display:"none"},l.doc)}var a,i,l,s=r(9),u=r(7),c=r(45),d=r(46),p=r(1),f=r(2),h=r(50),m=r(12),y=r(53),g=r(18).get("scribeCallback"),v=Math.floor(1e3*Math.random())+"_",b="rufous-frame-"+v+"-",w="rufous-form-"+v+"-",S=0,_=!1,k=new p;e.exports={clientEvent:function(e,t,r,n){(function(e,t){var r=!m.isObject(e),n=!!t&&!m.isObject(t);return r||n})(e,t)||(g&&g(arguments),k.promise.then(function(){!function(e,t){var r,n,o;m.isObject(e)&&m.isObject(t)&&(o=h.flattenClientEventPayload(e,t),(r=a.firstChild).value=+(+r.value||o.dnt||0),(n=l.createElement("input")).type="hidden",n.name="l",n.value=h.stringify(o),a.appendChild(n))}(h.formatClientEventNamespace(e),h.formatClientEventData(t,r,n))}))},flush:function(){return k.promise.then(function(){var e;return a.children.length<=2?f.reject():(e=f.all([l.doc.body.appendChild(a),l.doc.body.appendChild(i)]).then(function(e){var t=e[0],r=e[1];return r.addEventListener("load",function(){!function(e,t){return function(){var r=e.parentNode;r&&(r.removeChild(e),r.removeChild(t))}}(t,r)()}),t.submit(),e}),a=n(),i=o(),e)})},init:function(){return _?k.promise:((l=new y(u)).insert("rufous-sandbox",null,{display:"none"},function(e){s.body.appendChild(e)}).then(function(){l.setTitle("Twitter analytics iframe"),a=n(),i=o(),k.resolve([a,i])}),_=!0,k.promise)}}},function(e,t,r){var n=r(9),o=r(12);e.exports=function(e,t,r){var a;if(r=r||n,t=t||{},(e=e||{}).name){try{a=r.createElement('<iframe name="'+e.name+'"></iframe>')}catch(t){(a=r.createElement("iframe")).name=e.name}delete e.name}else a=r.createElement("iframe");return e.id&&(a.id=e.id,delete e.id),a.allowtransparency="true",a.scrolling="no",a.setAttribute("frameBorder",0),a.setAttribute("allowTransparency",!0),o.forIn(e,function(e,t){a.setAttribute(e,t)}),o.forIn(t,function(e,t){a.style[e]=t}),a}},function(e,t,r){var n=r(9),o=r(11),a=r(47),i=r(49),l=r(26),s=r(41),u=!1,c=/https?:\/\/([^\/]+).*/i;e.exports={setOn:function(){u=!0},enabled:function(e,t){return!!(u||l.asBoolean(s.val("dnt"))||i.isUrlSensitive(t||o.host)||a.isFramed()&&i.isUrlSensitive(a.rootDocumentLocation())||(e=c.test(e||n.referrer)&&RegExp.$1,e&&i.isUrlSensitive(e)))}}},function(e,t,r){var n=r(11),o=r(48),a=r(12),i=o.getCanonicalURL()||n.href,l=i;e.exports={isFramed:function(){return i!==l},rootDocumentLocation:function(e){return e&&a.isType("string",e)&&(i=e),i},currentDocumentLocation:function(){return l}}},function(e,t,r){function n(e,t){var r,n;return t=t||a,/^https?:\/\//.test(e)?e:/^\/\//.test(e)?t.protocol+e:(r=t.host+(t.port.length?":"+t.port:""),0!==e.indexOf("/")&&((n=t.pathname.split("/")).pop(),n.push(e),e="/"+n.join("/")),[t.protocol,"//",r,e].join(""))}var o=r(9),a=r(11),i=r(24);e.exports={absolutize:n,getCanonicalURL:function(){for(var e,t=o.getElementsByTagName("link"),r=0;t[r];r++)if("canonical"==(e=t[r]).rel)return n(e.href)},getScreenNameFromPage:function(){for(var e,t,r,n=[o.getElementsByTagName("a"),o.getElementsByTagName("link")],a=0,l=0,s=/\bme\b/;e=n[a];a++)for(l=0;t=e[l];l++)if(s.test(t.rel)&&(r=i.screenName(t.href)))return r}}},function(e,t,r){function n(e){return e in i?i[e]:i[e]=a.test(e)}var o=r(11),a=/^[^#?]*\.(gov|mil)(:\d+)?([#?].*)?$/i,i={};e.exports={isUrlSensitive:n,isHostPageSensitive:function(){return n(o.host)}}},function(e,t,r){function n(e){return s.aug({client:"tfw"},e||{})}function o(e,t,r){return t=t||{},s.aug({},t,{_category_:e,triggered_on:t.triggered_on||+new Date,dnt:l.enabled(r)})}var a=r(9),i=r(51),l=r(46),s=r(12),u=r(52),c=r(18),d=u.version,p=c.get("clientEventEndpoint")||"https://syndication.twitter.com/i/jot",f=1;e.exports={extractTermsFromDOM:function e(t,r){var n;return r=r||{},t&&t.nodeType===Node.ELEMENT_NODE?((n=t.getAttribute("data-scribe"))&&n.split(" ").forEach(function(e){var t=e.trim().split(":"),n=t[0],o=t[1];n&&o&&!r[n]&&(r[n]=o)}),e(t.parentNode,r)):r},flattenClientEventPayload:function(e,t){return s.aug({},t,{event_namespace:e})},formatGenericEventData:o,formatClientEventData:function(e,t,r){var n=e&&e.widget_origin||a.referrer;return(e=o("tfw_client_event",e,n)).client_version=d,e.format_version=void 0!==r?r:1,t||(e.widget_origin=n),e},formatClientEventNamespace:n,formatTweetAssociation:function(e,t){var r={};return(t=t||{}).association_namespace=n(e),r[f]=t,r},noticeSeen:function(e){return"notice"===e.element&&"seen"===e.action},splitLogEntry:function(e){var t,r,n,o,a;return e.item_ids&&e.item_ids.length>1?(t=Math.floor(e.item_ids.length/2),r=e.item_ids.slice(0,t),n={},o=e.item_ids.slice(t),a={},r.forEach(function(t){n[t]=e.item_details[t]}),o.forEach(function(t){a[t]=e.item_details[t]}),[s.aug({},e,{item_ids:r,item_details:n}),s.aug({},e,{item_ids:o,item_details:a})]):[e]},stringify:function(e){var t,r=Array.prototype.toJSON;return delete Array.prototype.toJSON,t=i.stringify(e),r&&(Array.prototype.toJSON=r),t},AUDIENCE_ENDPOINT:"https://syndication.twitter.com/i/jot/syndication",CLIENT_EVENT_ENDPOINT:p,RUFOUS_REDIRECT:"https://platform.twitter.com/jot.html"}},function(e,t,r){var n=r(7).JSON;e.exports={stringify:n.stringify||n.encode,parse:n.parse||n.decode}},function(e,t){e.exports={version:"8d42196d:1516861372886"}},function(e,t,r){var n=r(54),o=r(63);e.exports=n.build([o])},function(e,t,r){var n=r(55),o=r(58),a=r(15);(n=Object.create(n)).build=a(n.build,null,o),e.exports=n},function(e,t,r){var n=r(56),o=r(57),a=r(12);e.exports={couple:function(){return a.toRealArray(arguments)},build:function(e,t,r){var a=new e;return(t=o(n(t||[]))).forEach(function(e){e.call(null,a)}),a.build(r)}}},function(e,t,r){var n=r(12);e.exports=function e(t){var r=[];return t.forEach(function(t){var o=n.isType("array",t)?e(t):[t];r=r.concat(o)}),r}},function(e,t){e.exports=function(e){return e.filter(function(t,r){return e.indexOf(t)===r})}},function(e,t,r){function n(){o.apply(this,arguments)}var o=r(59),a=r(12),i=r(62);n.prototype=Object.create(o.prototype),a.aug(n.prototype,{factory:i}),e.exports=n},function(e,t,r){function n(){this.Component=this.factory(),this._adviceArgs=[],this._lastArgs=[]}var o=r(60),a=r(12),i=r(61);a.aug(n.prototype,{factory:i,build:function(e){var t=this;return this.Component,a.aug(this.Component.prototype.boundParams,e),this._adviceArgs.concat(this._lastArgs).forEach(function(e){(function(e,t,r){var n=this[t];if(!n)throw new Error(t+" does not exist");this[t]=e(n,r)}).apply(t.Component.prototype,e)}),delete this._lastArgs,delete this._adviceArgs,this.Component},params:function(e){var t=this.Component.prototype.paramConfigs;e=e||{},this.Component.prototype.paramConfigs=a.aug({},e,t)},define:function(e,t){if(e in this.Component.prototype)throw new Error(e+" has previously been defined");this.override(e,t)},defineStatic:function(e,t){this.Component[e]=t},override:function(e,t){this.Component.prototype[e]=t},defineProperty:function(e,t){if(e in this.Component.prototype)throw new Error(e+" has previously been defined");this.overrideProperty(e,t)},overrideProperty:function(e,t){var r=a.aug({configurable:!0},t);Object.defineProperty(this.Component.prototype,e,r)},before:function(e,t){this._adviceArgs.push([o.before,e,t])},after:function(e,t){this._adviceArgs.push([o.after,e,t])},around:function(e,t){this._adviceArgs.push([o.around,e,t])},last:function(e,t){this._lastArgs.push([o.after,e,t])}}),e.exports=n},function(e,t,r){var n=r(33),o=r(12),a=r(15);e.exports={before:function(e,t){return function(){var r,o=this,a=arguments;return r=t.apply(this,arguments),n.isPromise(r)?r.then(function(){return e.apply(o,a)}):e.apply(this,arguments)}},after:function(e,t){return function(){function r(e,t){return n.isPromise(t)?t.then(function(){return e}):e}var o,a=this,i=arguments;return o=e.apply(this,arguments),n.isPromise(o)?o.then(function(e){return r(e,t.apply(a,i))}):r(o,t.apply(this,arguments))}},around:function(e,t){return function(){var r=o.toRealArray(arguments);return r.unshift(a(e,this)),t.apply(this,r)}}}},function(e,t,r){function n(){return!0}function o(e){return e}function a(e,t,r){var n=null;return e.some(function(e){if(e=i.isType("function",e)?e():e,t(e))return n=r(e),!0}),n}var i=r(12);e.exports=function(){function e(e){var t=this;e=e||{},this.params=Object.keys(this.paramConfigs).reduce(function(r,i){var l=[],s=t.boundParams,u=t.paramConfigs[i],c=u.validate||n,d=u.transform||o;if(i in s&&l.push(s[i]),i in e&&l.push(e[i]),l="fallback"in u?l.concat(u.fallback):l,r[i]=a(l,c,d),u.required&&null==r[i])throw new Error(i+" is a required parameter");return r},{}),this.initialize()}return i.aug(e.prototype,{paramConfigs:{},boundParams:{},initialize:function(){}}),e}},function(e,t,r){var n=r(21),o=r(36),a=r(61),i=r(2),l=r(12);e.exports=function(){function e(e){t.apply(this,arguments),Object.defineProperty(this,"targetGlobal",{value:e})}var t=a();return e.prototype=Object.create(t.prototype),l.aug(e.prototype,{id:null,initialized:!1,width:0,height:0,sandboxEl:null,insert:function(){return i.reject()},onResize:function(){},addClass:function(e){var t=this.sandboxEl;return e=Array.isArray(e)?e:[e],o.write(function(){e.forEach(function(e){n.add(t,e)})})},removeClass:function(e){var t=this.sandboxEl;return e=Array.isArray(e)?e:[e],o.write(function(){e.forEach(function(e){n.remove(t,e)})})},styleSelf:function(e){var t=this;return o.write(function(){l.forIn(e,function(e,r){t.sandboxEl.style[e]=r})})}}),e}},function(e,t,r){function n(e,t,r,n){return t=g.aug({id:e},S,t),r=g.aug({},_,r),f(t,r,n)}function o(e,t,r,o,i){var s=new m,u=b.generate(),c=n(e,t,r,i);return v.set(["sandbox",u],function(){var e=c.contentWindow.document;l.write(function(){e.write("<!DOCTYPE html><html><head></head><body></body></html>")}).then(function(){e.close(),s.resolve(c)})}),c.src=["javascript:",'document.write("");',"try { window.parent.document; }",'catch (e) { document.domain="'+a.domain+'"; }',"window.parent."+v.fullPath(["sandbox",u])+"();"].join(""),c.addEventListener("error",s.reject,!1),l.write(function(){o.parentNode.replaceChild(c,o)}),s.promise}var a=r(9),i=r(21),l=r(36),s=r(64),u=r(54),c=r(65),d=r(66),p=r(67),f=r(45),h=(r(10),r(68)),m=r(1),y=r(2),g=r(12),v=r(18),b=r(29),w=r(15),S={allowfullscreen:"true"},_={position:"absolute",visibility:"hidden",display:"block",width:"0px",height:"0px",padding:"0",border:"none"},k={position:"static",visibility:"visible"},C="SandboxRoot",E=".SandboxRoot { display: none; }",P=50;e.exports=u.couple(r(69),function(e){e.overrideProperty("id",{get:function(){return this.sandboxEl&&this.sandboxEl.id}}),e.overrideProperty("initialized",{get:function(){return!!this.win}}),e.overrideProperty("width",{get:function(){return this._width}}),e.overrideProperty("height",{get:function(){return this._height}}),e.overrideProperty("sandboxEl",{get:function(){return this.iframeEl}}),e.defineProperty("iframeEl",{get:function(){return this._iframe}}),e.defineProperty("rootEl",{get:function(){return this.doc&&this.doc.documentElement}}),e.defineProperty("widgetEl",{get:function(){return this.doc&&this.doc.body.firstElementChild}}),e.defineProperty("win",{get:function(){return this.iframeEl&&this.iframeEl.contentWindow}}),e.defineProperty("doc",{get:function(){return this.win&&this.win.document}}),e.define("_updateCachedDimensions",function(){var e=this;return l.read(function(){var t,r=h(e.sandboxEl);"visible"==e.sandboxEl.style.visibility?e._width=r.width:(t=h(e.sandboxEl.parentElement).width,e._width=Math.min(r.width,t)),e._height=r.height})}),e.define("_setTargetToBlank",function(){var e=this.createElement("base");e.target="_blank",this.doc.head.appendChild(e)}),e.define("_didResize",function(){var e=this,t=this._resizeHandlers.slice(0);return this._updateCachedDimensions().then(function(){t.forEach(function(t){t(e)})})}),e.define("setTitle",function(e){this.iframeEl.title=e}),e.override("createElement",function(e){return this.doc.createElement(e)}),e.override("createFragment",function(){return this.doc.createDocumentFragment()}),e.override("htmlToElement",function(e){var t;return(t=this.createElement("div")).innerHTML=e,t.firstElementChild}),e.override("hasSelectedText",function(){return!!s.getSelectedText(this.win)}),e.override("addRootClass",function(e){var t=this.rootEl;return e=Array.isArray(e)?e:[e],this.initialized?l.write(function(){e.forEach(function(e){i.add(t,e)})}):y.reject(new Error("sandbox not initialized"))}),e.override("removeRootClass",function(e){var t=this.rootEl;return e=Array.isArray(e)?e:[e],this.initialized?l.write(function(){e.forEach(function(e){i.remove(t,e)})}):y.reject(new Error("sandbox not initialized"))}),e.override("hasRootClass",function(e){return i.present(this.rootEl,e)}),e.define("addStyleSheet",function(e,t){var r,n=new m;return this.initialized?((r=this.createElement("link")).type="text/css",r.rel="stylesheet",r.href=e,r.addEventListener("load",n.resolve,!1),r.addEventListener("error",n.reject,!1),l.write(w(t,null,r)).then(function(){return c(e).then(n.resolve,n.reject),n.promise})):y.reject(new Error("sandbox not initialized"))}),e.override("prependStyleSheet",function(e){var t=this.doc;return this.addStyleSheet(e,function(e){var r=t.head.firstElementChild;return r?t.head.insertBefore(e,r):t.head.appendChild(e)})}),e.override("appendStyleSheet",function(e){var t=this.doc;return this.addStyleSheet(e,function(e){return t.head.appendChild(e)})}),e.define("addCss",function(e,t){var r;return d.inlineStyle()?((r=this.createElement("style")).type="text/css",r.appendChild(this.doc.createTextNode(e)),l.write(w(t,null,r))):y.resolve()}),e.override("prependCss",function(e){var t=this.doc;return this.addCss(e,function(e){var r=t.head.firstElementChild;return r?t.head.insertBefore(e,r):t.head.appendChild(e)})}),e.override("appendCss",function(e){var t=this.doc;return this.addCss(e,function(e){return t.head.appendChild(e)})}),e.override("makeVisible",function(){var e=this;return this.styleSelf(k).then(function(){e._updateCachedDimensions()})}),e.override("injectWidgetEl",function(e){var t=this;return this.initialized?this.widgetEl?y.reject(new Error("widget already injected")):l.write(function(){t.doc.body.appendChild(e)}):y.reject(new Error("sandbox not initialized"))}),e.override("matchHeightToContent",function(){var e,t=this;return l.read(function(){e=t.widgetEl?h(t.widgetEl).height:0}),l.write(function(){t.sandboxEl.style.height=e+"px"}).then(function(){return t._updateCachedDimensions()})}),e.override("matchWidthToContent",function(){var e,t=this;return l.read(function(){e=t.widgetEl?h(t.widgetEl).width:0}),l.write(function(){t.sandboxEl.style.width=e+"px"}).then(function(){return t._updateCachedDimensions()})}),e.after("initialize",function(){this._iframe=null,this._width=this._height=0,this._resizeHandlers=[]}),e.override("insert",function(e,t,r,a){var i=this,s=new m,u=this.targetGlobal.document,c=n(e,t,r,u);return l.write(w(a,null,c)),c.addEventListener("load",function(){(function(e){try{e.contentWindow.document}catch(e){return y.reject(e)}return y.resolve(e)})(c).then(null,w(o,null,e,t,r,c,u)).then(s.resolve,s.reject)},!1),c.addEventListener("error",s.reject,!1),s.promise.then(function(e){var t=p(i._didResize,P,i);return i._iframe=e,i.win.addEventListener("resize",t,!1),y.all([i._setTargetToBlank(),i.addRootClass(C),i.prependCss(E)])})}),e.override("onResize",function(e){this._resizeHandlers.push(e)}),e.after("styleSelf",function(){return this._updateCachedDimensions()})})},function(e,t,r){function n(e){return(e=e||o).getSelection&&e.getSelection()}var o=r(7);e.exports={getSelection:n,getSelectedText:function(e){var t=n(e);return t?t.toString():""}}},function(e,t,r){var n=r(9),o=r(7),a=r(1),i=2e4;e.exports=function(e){var t=new a,r=n.createElement("img");return r.onload=r.onerror=function(){o.setTimeout(t.resolve,50)},r.src=e,o.setTimeout(t.reject,i),t.promise}},function(e,t,r){var n,o=r(21),a=r(9),i=r(7),l=r(41),s=r(38),u=r(26),c=r(29),d="csptest";e.exports={inlineStyle:function(){var e=d+c.generate(),t=a.createElement("div"),r=a.createElement("style"),p="."+e+" { visibility: hidden; }";return!!a.body&&(u.asBoolean(l.val("widgets:csp"))&&(n=!1),void 0!==n?n:(t.style.display="none",o.add(t,e),r.type="text/css",r.appendChild(a.createTextNode(p)),a.body.appendChild(r),a.body.appendChild(t),n="hidden"===i.getComputedStyle(t).visibility,s(t),s(r),n))}}},function(e,t,r){var n=r(7);e.exports=function(e,t,r){var o,a=0;return r=r||null,function i(){var l=r||this,s=arguments,u=+new Date;return n.clearTimeout(o),u-a>t?(a=u,void e.apply(l,s)):void(o=n.setTimeout(function(){i.apply(l,s)},t))}}},function(e,t){e.exports=function(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}},function(e,t,r){var n=r(70);e.exports=function(e){e.define("createElement",n),e.define("createFragment",n),e.define("htmlToElement",n),e.define("hasSelectedText",n),e.define("addRootClass",n),e.define("removeRootClass",n),e.define("hasRootClass",n),e.define("prependStyleSheet",n),e.define("appendStyleSheet",n),e.define("prependCss",n),e.define("appendCss",n),e.define("makeVisible",n),e.define("injectWidgetEl",n),e.define("matchHeightToContent",n),e.define("matchWidthToContent",n)}},function(e,t){e.exports=function(){throw new Error("unimplemented method")}},function(e,t,r){function n(e,t,r,n){var a=!p.isObject(e),i=!!t&&!p.isObject(t);a||i||(f&&f(arguments),o(d.formatClientEventNamespace(e),d.formatClientEventData(t,r,n),d.CLIENT_EVENT_ENDPOINT))}function o(e,t,r){var n,o;r&&p.isObject(e)&&p.isObject(t)&&(n=d.flattenClientEventPayload(e,t),o={l:d.stringify(n)},d.noticeSeen(e)&&(o.notice_seen=!0),n.dnt&&(o.dnt=1),s(c.url(r,o)))}function a(e,t,r,n){var o=!p.isObject(e),a=!!t&&!p.isObject(t);if(!o&&!a)return i(d.flattenClientEventPayload(d.formatClientEventNamespace(e),d.formatClientEventData(t,r,n)))}function i(e){return m.push(e),m}function l(e){return encodeURIComponent(e).length+3}function s(e){return(new Image).src=e}var u=r(46),c=r(25),d=r(50),p=r(12),f=r(18).get("scribeCallback"),h=2083,m=[],y=c.url(d.CLIENT_EVENT_ENDPOINT,{dnt:0,l:""}),g=encodeURIComponent(y).length;e.exports={_enqueueRawObject:i,scribe:o,clientEvent:n,clientEvent2:function(e,t,r){return n(e,t,r,2)},enqueueClientEvent:a,flushClientEvents:function(){var e;return m.length>1&&a({page:"widgets_js",component:"scribe_pixel",action:"batch_log"},{}),e=m,m=[],e.reduce(function(t,r,n){var o=t.length,a=o&&t[o-1];return n+1==e.length&&r.event_namespace&&"batch_log"==r.event_namespace.action&&(r.message=["entries:"+n,"requests:"+o].join("/")),function e(t){return Array.isArray(t)||(t=[t]),t.reduce(function(t,r){var n,o=d.stringify(r),a=l(o);return g+a<h?t=t.concat(o):(n=d.splitLogEntry(r)).length>1&&(t=t.concat(e(n))),t},[])}(r).forEach(function(e){var r=l(e);(!a||a.urlLength+r>h)&&(a={urlLength:g,items:[]},t.push(a)),a.urlLength+=r,a.items.push(e)}),t},[]).map(function(e){var t={l:e.items};return u.enabled()&&(t.dnt=1),s(c.url(d.CLIENT_EVENT_ENDPOINT,t))})},interaction:function(e,t,r,o){var a=d.extractTermsFromDOM(e.target||e.srcElement);a.action=o||"click",n(a,t,r)}}},function(e,t,r){function n(e,t){this._inputsQueue=[],this._task=e,this._isPaused=!1,this._flushDelay=t&&t.flushDelay||i,this._pauseLength=t&&t.pauseLength||l,this._flushTimeout=void 0}var o=r(1),a=r(15),i=100,l=3e3;n.prototype.add=function(e){var t=new o;return this._inputsQueue.push({input:e,taskDoneDeferred:t}),this._scheduleFlush(),t.promise},n.prototype._scheduleFlush=function(){this._isPaused||(clearTimeout(this._flushTimeout),this._flushTimeout=setTimeout(a(this._flush,this),this._flushDelay))},n.prototype._flush=function(){try{this._task.call(null,this._inputsQueue)}catch(e){this._inputsQueue.forEach(function(t){t.taskDoneDeferred.reject(e)})}this._inputsQueue=[],this._flushTimeout=void 0},n.prototype.pause=function(e){clearTimeout(this._flushTimeout),this._isPaused=!0,!e&&this._pauseLength&&setTimeout(a(this.resume,this),this._pauseLength)},n.prototype.resume=function(){this._isPaused=!1,this._scheduleFlush()},e.exports=n},function(e,t,r){function n(e){return a.settingsLoaded().then(function(t){return t[e]})}function o(){return n("experiments")}var a=r(74);e.exports={isBucketed:function(){return n("isBucketed")},shouldObtainCookieConsent:function(){return n("shouldObtainCookieConsent")},getExperiments:o,getExperiment:function(e){return o().then(function(t){if(!t[e])throw new Error("Experiment not found");return t[e]})},getExperimentKeys:function(){return o().then(function(e){return Object.keys(e)})},load:function(){a.load()}}},function(e,t,r){function n(e){var t=e||{is_bucketed:!1,should_obtain_cookie_consent:!0,experiments:{}};return new m(t.is_bucketed,t.should_obtain_cookie_consent,t.experiments)}var o,a=r(45),i=r(1),l=r(9),s=r(51),u=r(11),c=r(25),d=r(7),p=r(8),f=r(75),h=r(76),m=(r(10),r(77));e.exports={load:function(){var e,t,r,m;return o=new i,p.ie9()||p.ie10()||"http:"!==u.protocol&&"https:"!==u.protocol?void o.resolve(n()):(e={origin:u.origin},t=c.url(f.resourceBaseUrl+f.widgetIframeHtmlPath,e),r=function(e){var r;if(t.substr(0,e.origin.length)===e.origin)try{(r=s.parse(e.data)).namespace===h.settings&&o.resolve(n(r.settings))}catch(e){}},d.addEventListener("message",r),m=a({src:t},{display:"none"}),void l.body.appendChild(m))},settingsLoaded:function(){var e=new i;return o.promise.then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e.promise}}},function(e,t){e.exports={tweetButtonHtmlPath:"/widgets/tweet_button.83d5793f6ebbe2046330abda6016ae93.{{lang}}.html",followButtonHtmlPath:"/widgets/follow_button.83d5793f6ebbe2046330abda6016ae93.{{lang}}.html",hubHtmlPath:"/widgets/hub.html",widgetIframeHtmlPath:"/widgets/widget_iframe.83d5793f6ebbe2046330abda6016ae93.html",resourceBaseUrl:"https://platform.twitter.com"}},function(e,t){e.exports={settings:"twttr.settings"}},function(e,t){e.exports=function(e,t,r){this.isBucketed=e,this.shouldObtainCookieConsent=t,this.experiments=r||{}}},function(e,t,r){e.exports=[r(79),r(111),r(126),r(160),r(171),r(177),r(222),r(241),r(246)]},function(e,t,r){var n=r(25),o=r(26),a=r(12),i=r(80),l=r(82)(),s=r(85),u="a.twitter-dm-button";e.exports=function(e){return l(e,u).map(function(e){return s(function(e){var t=e.getAttribute("data-show-screen-name"),r=i(e),l=e.getAttribute("href"),s=e.getAttribute("data-screen-name"),u=t?o.asBoolean(t):null,c=e.getAttribute("data-size"),d=n.decodeURL(l),p=d.recipient_id,f=e.getAttribute("data-text")||d.text,h=e.getAttribute("data-welcome-message-id")||d.welcomeMessageId;return a.aug(r,{screenName:s,showScreenName:u,size:c,text:f,userId:p,welcomeMessageId:h})}(e),e.parentNode,e)})}},function(e,t,r){var n=r(46),o=r(26),a=r(25),i=r(12),l=r(81);e.exports=function(e){var t=e.href&&e.href.split("?")[1],r=t?a.decode(t):{},s={lang:l(e),width:e.getAttribute("data-width")||e.getAttribute("width"),height:e.getAttribute("data-height")||e.getAttribute("height"),related:e.getAttribute("data-related"),partner:e.getAttribute("data-partner")};return o.asBoolean(e.getAttribute("data-dnt"))&&n.setOn(),i.forIn(s,function(e,t){var n=r[e];r[e]=o.hasValue(n)?n:t}),i.compact(r)}},function(e,t,r){var n=r(12);e.exports=function e(t){var r;if(t)return r=t.lang||t.getAttribute("data-lang"),n.isType("string",r)?r:e(t.parentElement)}},function(e,t,r){var n=r(83),o=r(29);e.exports=function(){var e="data-twitter-extracted-"+o.generate();return function(t,r){return n(t,r).filter(function(t){return!t.hasAttribute(e)}).map(function(t){return t.setAttribute(e,"true"),t})}}},function(e,t,r){var n=r(12),o=r(84);e.exports=function(e,t){return o(e,t)?[e]:n.toRealArray(e.querySelectorAll(t))}},function(e,t,r){var n=r(7).HTMLElement,o=n.prototype.matches||n.prototype.matchesSelector||n.prototype.webkitMatchesSelector||n.prototype.mozMatchesSelector||n.prototype.msMatchesSelector||n.prototype.oMatchesSelector;e.exports=function(e,t){if(o)return o.call(e,t)}},function(e,t,r){var n=r(86),o=r(87),a=r(107);e.exports=function(e,t,r){return new n(o,a,"twitter-dm-button",e,t,r)}},function(e,t){function r(e,t,r,n,o,a){this.factory=e,this.Sandbox=t,this.srcEl=a,this.targetEl=o,this.parameters=n,this.className=r}r.prototype.destroy=function(){this.srcEl=this.targetEl=null},e.exports=r},function(e,t,r){var n=r(1);e.exports=function(e,t){var o=new n;return r.e(1,function(n,a){var i;if(n)return o.reject(n);try{i=r(88),o.resolve(new i(e,t))}catch(e){o.reject(e)}}),o.promise}},,function(e,t,r){var n=r(55),o=r(90),a=r(15);(n=Object.create(n)).build=a(n.build,null,o),e.exports=n},function(e,t,r){function n(){o.apply(this,arguments),this.Widget=this.Component}var o=r(59),a=r(12),i=r(91);n.prototype=Object.create(o.prototype),a.aug(n.prototype,{factory:i,build:function(){return o.prototype.build.apply(this,arguments)},selectors:function(e){var t=this.Widget.prototype.selectors;e=e||{},this.Widget.prototype.selectors=a.aug({},e,t)}}),e.exports=n},function(e,t,r){var n=r(2),o=r(20),a=r(61),i=r(12),l=r(15),s=r(92),u="twitter-widget-";e.exports=function(){function e(e,r){t.apply(this,arguments),this.id=u+s(),this.sandbox=r}var t=a();return e.prototype=Object.create(t.prototype),i.aug(e.prototype,{selectors:{},hydrate:function(){return n.resolve()},prepForInsertion:function(){},render:function(){return n.resolve()},show:function(){return n.resolve()},resize:function(){return n.resolve()},select:function(e,t){return 1===arguments.length&&(t=e,e=this.el),e?(t=this.selectors[t]||t,i.toRealArray(e.querySelectorAll(t))):[]},selectOne:function(){return this.select.apply(this,arguments)[0]},selectLast:function(){return this.select.apply(this,arguments).pop()},on:function(e,t,r){var n,a=this.el;this.el&&(e=(e||"").split(/\s+/),2===arguments.length?r=t:n=t,n=this.selectors[n]||n,r=l(r,this),e.forEach(n?function(e){o.delegate(a,e,n,r)}:function(e){a.addEventListener(e,r,!1)}))}}),e}},function(e,t){var r=0;e.exports=function(){return String(r++)}},,function(e,t,r){function n(e,t,r){var n,i;return r=function(e){return"dark"===e?"dark":"light"}(r),n=o.isRtlLang(t)?"rtl":"ltr",i=[e,a.css,r,n,"css"].join("."),l.resourceBaseUrl+"/css/"+i}var o=r(95),a=r(98),i=r(15),l=r(75);e.exports={dmButton:function(){return l.resourceBaseUrl+"/css/"+["dm_button",a.css,"css"].join(".")},tweet:i(n,null,"tweet"),timeline:i(n,null,"timeline"),video:i(n,null,"video"),moment:i(n,null,"moment"),grid:i(n,null,"grid"),periscopeOnAir:function(){return l.resourceBaseUrl+"/css/"+["periscope_on_air",a.css,"css"].join(".")}}},function(e,t,r){var n=r(12),o=r(96),a=["ar","fa","he","ur"];e.exports={isRtlLang:function(e){return e=String(e).toLowerCase(),n.contains(a,e)},matchLanguage:function(e){return e=(e=(e||"").toLowerCase()).replace("_","-"),o(e)?e:(e=e.replace(/-.*/,""),o(e)?e:"en")}}},function(e,t,r){var n=r(12),o=r(97);e.exports=function(e){return"en"===e||n.contains(o,e)}},function(e,t){e.exports=["hi","zh-cn","fr","zh-tw","msa","fil","fi","sv","pl","ja","ko","de","it","pt","es","ru","id","tr","da","no","nl","hu","fa","ar","ur","he","th","cs","uk","vi","ro","bn","el","en-gb","gu","kn","mr","ta","bg","ca","hr","sr","sk"]},function(e,t){e.exports={css:"2244cdc1aa6afd59d64cc31948a29dca"}},,function(e,t,r){var n=r(101),o=r(24),a="data-url-ref-attrs-injected";e.exports=function(e){e.define("injectRefUrlParams",function(e){e.getAttribute(a)||(e.setAttribute(a,!0),e.href=n(e.href))}),e.after("render",function(){this.on("click","A",function(e,t){o.isTwitterURL(t.href)&&this.injectRefUrlParams(t)})})}},function(e,t,r){var n=r(25),o=r(47),a="twsrc^tfw";e.exports=function(e){return n.url(e,{ref_src:a,ref_url:o.rootDocumentLocation()})}},function(e,t,r){var n=r(42),o=r(50),a=r(47),i=r(12),l=r(15),s=r(41),u=r(26);e.exports=function(e){e.params({partner:{fallback:l(s.val,s,"partner")}}),e.define("scribeItems",function(){return{}}),e.define("scribeNamespace",function(){return{client:"tfw"}}),e.define("scribeData",function(){return{widget_origin:a.rootDocumentLocation(),widget_frame:a.isFramed()&&a.currentDocumentLocation(),widget_partner:this.params.partner,widget_site_screen_name:s.val("site"),widget_site_user_id:u.asNumber(s.val("site:id")),widget_creator_screen_name:s.val("creator"),widget_creator_user_id:u.asNumber(s.val("creator:id"))}}),e.define("scribe",function(e,t,r){e=i.aug(this.scribeNamespace(),e||{}),t=i.aug(this.scribeData(),t||{}),n.scribe(e,t,!1,r)}),e.define("scribeInteraction",function(e,t,r){var n=o.extractTermsFromDOM(e.target);n.action=e.type,this.scribe(n,t,r)})}},,function(e,t,r){var n=r(22),o=r(89),a=r(105);e.exports=o.couple(r(102),function(e){e.selectors({tweetIdInfo:".js-tweetIdInfo"}),e.define("scribeClickInteraction",function(e,t){var r=n.closest(this.selectors.tweetIdInfo,t,this.el);this.scribeInteraction(e,function(e){var t;if(e)return t=a([e]),{item_ids:Object.keys(t),item_details:t}}(r))}),e.after("render",function(){this.on("click","A",this.scribeClickInteraction),this.on("click","BUTTON",this.scribeClickInteraction)})})},function(e,t,r){var n=r(106);e.exports=function(e){return e?(e=Array.isArray(e)?e:[e]).reduce(function(e,t){var r=t.getAttribute("data-tweet-id"),o=t.getAttribute("data-rendered-tweet-id")||r;return r===o?e[o]={item_type:n.TWEET}:r&&(e[o]={item_type:n.RETWEET,target_type:n.TWEET,target_id:r}),e},{}):{}}},function(e,t){e.exports={TWEET:0,RETWEET:10,CUSTOM_TIMELINE:17,LIVE_VIDEO_EVENT:28}},function(e,t,r){var n=r(108),o=r(53);e.exports=n.isSupported()?n:o},function(e,t,r){var n=r(54),o=r(109);e.exports=n.build([o])},function(e,t,r){var n=r(110),o=r(7),a=r(21),i=r(20),l=r(36),s=r(64),u=r(54),c=r(65),d=r(66),p=r(8),f=r(68),h=r(15),m=r(67),y=r(2),g=r(12),v=50,b={position:"absolute",visibility:"hidden",display:"block",transform:"rotate(0deg)"},w={position:"static",visibility:"visible"},S="twitterwidget",_="SandboxRoot",k=".SandboxRoot { display: none; }";e.exports=u.couple(r(69),function(e){e.defineStatic("isSupported",function(){return!!o.HTMLElement.prototype.createShadowRoot&&d.inlineStyle()&&!p.android()}),e.overrideProperty("id",{get:function(){return this.sandboxEl&&this.sandboxEl.id}}),e.overrideProperty("initialized",{get:function(){return!!this._shadowHost}}),e.overrideProperty("width",{get:function(){return this._width}}),e.overrideProperty("height",{get:function(){return this._height}}),e.overrideProperty("sandboxEl",{get:function(){return this._shadowHost}}),e.define("_updateCachedDimensions",function(){var e=this;return l.read(function(){var t,r=f(e.sandboxEl);"visible"==e.sandboxEl.style.visibility?e._width=r.width:(t=f(e.sandboxEl.parentElement).width,e._width=Math.min(r.width,t)),e._height=r.height})}),e.define("_didResize",function(){var e=this,t=this._resizeHandlers.slice(0);return this._updateCachedDimensions().then(function(){t.forEach(function(t){t(e)})})}),e.override("createElement",function(e){return this.targetGlobal.document.createElement(e)}),e.override("createFragment",function(){return this.targetGlobal.document.createDocumentFragment()}),e.override("htmlToElement",function(e){var t;return(t=this.createElement("div")).innerHTML=e,t.firstElementChild}),e.override("hasSelectedText",function(){return!!s.getSelectedText(this.targetGlobal)}),e.override("addRootClass",function(e){var t=this._shadowRootBody;return e=Array.isArray(e)?e:[e],this.initialized?l.write(function(){e.forEach(function(e){a.add(t,e)})}):y.reject(new Error("sandbox not initialized"))}),e.override("removeRootClass",function(e){var t=this._shadowRootBody;return e=Array.isArray(e)?e:[e],this.initialized?l.write(function(){e.forEach(function(e){a.remove(t,e)})}):y.reject(new Error("sandbox not initialized"))}),e.override("hasRootClass",function(e){return a.present(this._shadowRootBody,e)}),e.override("addStyleSheet",function(e,t){return this.addCss('@import url("'+e+'");',t).then(function(){return c(e)})}),e.override("prependStyleSheet",function(e){var t=this._shadowRoot;return this.addStyleSheet(e,function(e){var r=t.firstElementChild;return r?t.insertBefore(e,r):t.appendChild(e)})}),e.override("appendStyleSheet",function(e){var t=this._shadowRoot;return this.addStyleSheet(e,function(e){return t.appendChild(e)})}),e.override("addCss",function(e,t){var r;return this.initialized?d.inlineStyle()?((r=this.createElement("style")).type="text/css",r.appendChild(this.targetGlobal.document.createTextNode(e)),l.write(h(t,null,r))):y.resolve():y.reject(new Error("sandbox not initialized"))}),e.override("prependCss",function(e){var t=this._shadowRoot;return this.addCss(e,function(e){var r=t.firstElementChild;return r?t.insertBefore(e,r):t.appendChild(e)})}),e.override("appendCss",function(e){var t=this._shadowRoot;return this.addCss(e,function(e){return t.appendChild(e)})}),e.override("makeVisible",function(){return this.styleSelf(w)}),e.override("injectWidgetEl",function(e){var t=this;return this.initialized?this._shadowRootBody.firstElementChild?y.reject(new Error("widget already injected")):l.write(function(){t._shadowRootBody.appendChild(e)}).then(function(){return t._updateCachedDimensions()}).then(function(){var e=m(t._didResize,v,t);new n(t._shadowRootBody,e)}):y.reject(new Error("sandbox not initialized"))}),e.override("matchHeightToContent",function(){return y.resolve()}),e.override("matchWidthToContent",function(){return y.resolve()}),e.override("insert",function(e,t,r,n){var o=this.targetGlobal.document,a=this._shadowHost=o.createElement(S),s=this._shadowRoot=a.createShadowRoot(),u=this._shadowRootBody=o.createElement("div");return g.forIn(t||{},function(e,t){a.setAttribute(e,t)}),a.id=e,s.appendChild(u),i.delegate(u,"click","A",function(e,t){t.hasAttribute("target")||t.setAttribute("target","_blank")}),y.all([this.styleSelf(b),this.addRootClass(_),this.prependCss(k),l.write(n.bind(null,a))])}),e.override("onResize",function(e){this._resizeHandlers.push(e)}),e.after("initialize",function(){this._shadowHost=this._shadowRoot=this._shadowRootBody=null,this._width=this._height=0,this._resizeHandlers=[]}),e.after("styleSelf",function(){return this._updateCachedDimensions()})})},function(e,t){!function(){var t=function(e,r){function n(){var e,t;this.q=[],this.add=function(e){this.q.push(e)},this.call=function(){for(e=0,t=this.q.length;e<t;e++)this.q[e].call()}}function o(e,t){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(t)}else e.resizedAttached=new n,e.resizedAttached.add(t);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var r="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",o="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=r,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+r+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+r+'"><div style="'+o+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),{fixed:1,absolute:1}[function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}(e,"position")]||(e.style.position="relative");var a,i,l=e.resizeSensor.childNodes[0],s=l.childNodes[0],u=e.resizeSensor.childNodes[1],c=(u.childNodes[0],function(){s.style.width=l.offsetWidth+10+"px",s.style.height=l.offsetHeight+10+"px",l.scrollLeft=l.scrollWidth,l.scrollTop=l.scrollHeight,u.scrollLeft=u.scrollWidth,u.scrollTop=u.scrollHeight,a=e.offsetWidth,i=e.offsetHeight});c();var d=function(e,t,r){e.attachEvent?e.attachEvent("on"+t,r):e.addEventListener(t,r)},p=function(){e.offsetWidth==a&&e.offsetHeight==i||e.resizedAttached&&e.resizedAttached.call(),c()};d(l,"scroll",p),d(u,"scroll",p)}var a=Object.prototype.toString.call(e),i="[object Array]"===a||"[object NodeList]"===a||"[object HTMLCollection]"===a||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements;if(i)for(var l=0,s=e.length;l<s;l++)o(e[l],r);else o(e,r);this.detach=function(){if(i)for(var r=0,n=e.length;r<n;r++)t.detach(e[r]);else t.detach(e)}};t.detach=function(e){e.resizeSensor&&(e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)},void 0!==e&&void 0!==e.exports?e.exports=t:window.ResizeSensor=t}()},function(e,t,r){var n=r(24),o=r(12),a=r(80),i=r(82)(),l=r(112),s=r(26),u="a.twitter-follow-button";e.exports=function(e){return i(e,u).map(function(e){return l(function(e){var t=a(e),r={screenName:n.screenName(e.href),showScreenName:"false"!==e.getAttribute("data-show-screen-name"),showCount:"false"!==e.getAttribute("data-show-count"),size:e.getAttribute("data-size"),count:e.getAttribute("data-count"),preview:e.getAttribute("data-preview")};return o.forIn(r,function(e,r){var n=t[e];t[e]=s.hasValue(n)?n:r}),t.screenName=t.screenName||t.screen_name,t}(e),e.parentNode,e)})}},function(e,t,r){var n=r(86),o=r(113),a=r(118);e.exports=function(e,t,r){return new n(o,a,"twitter-follow-button",e,t,r)}},function(e,t,r){var n=r(1);e.exports=function(e,t){var o=new n;return r.e(2,function(n,a){var i;if(n)return o.reject(n);try{i=r(114),o.resolve(new i(e,t))}catch(e){o.reject(e)}}),o.promise}},,,,function(e,t,r){var n=r(26),o=r(12);e.exports=function(e){e.define("widgetDataAttributes",function(){return{}}),e.define("setDataAttributes",function(){var e=this.sandbox.sandboxEl;o.forIn(this.widgetDataAttributes(),function(t,r){n.hasValue(r)&&e.setAttribute("data-"+t,r)})}),e.after("render",function(){this.setDataAttributes()})}},function(e,t,r){var n=r(54),o=r(119);e.exports=n.build([o])},function(e,t,r){var n=r(36),o=r(120),a=r(125),i=r(45),l=r(1),s=r(2),u=r(15),c=r(12),d={position:"absolute",visibility:"hidden",width:"0px",height:"0px"},p={position:"static",visibility:"visible"},f={};o(function(e,t,r){var n=f[e];if(n)return n.styleSelf({width:t+"px",height:r+"px"}).then(function(){n.didResize()})}),e.exports=function(e){e.overrideProperty("id",{get:function(){return this.sandboxEl&&this.sandboxEl.id}}),e.overrideProperty("initialized",{get:function(){return!!this.iframeEl}}),e.overrideProperty("width",{get:function(){return this._width}}),e.overrideProperty("height",{get:function(){return this._height}}),e.overrideProperty("sandboxEl",{get:function(){return this.iframeEl}}),e.defineProperty("iframeEl",{get:function(){return this._iframe}}),e.define("updateCachedDimensions",function(){var e=this;return this.initialized?n.read(function(){e._width=e.sandboxEl.offsetWidth,e._height=e.sandboxEl.offsetHeight}):s.resolve()}),e.define("setTitle",function(e){this.iframeEl.title=e}),e.define("makeVisible",function(){return this.styleSelf(p)}),e.define("didResize",function(){var e=this,t=e._resizeHandlers.length>0;return this.updateCachedDimensions().then(function(){t&&e._resizeHandlers.forEach(function(t){t(e)})})}),e.define("loadDocument",function(e){var t=new l;return this.initialized?this.iframeEl.src?s.reject(new Error("widget already loaded")):(this.iframeEl.addEventListener("load",t.resolve,!1),this.iframeEl.addEventListener("error",t.reject,!1),this.iframeEl.src=e,t.promise):s.reject(new Error("sandbox not initialized"))}),e.after("initialize",function(){this._iframe=null,this._width=this._height=0,this._resizeHandlers=[]}),e.override("insert",function(e,t,r,o){var l=this;return t=c.aug({id:e},t),r=c.aug({},d,r),this._iframe=i(t,r),f[e]=this,this.onResize(a(function(){l.makeVisible()})),n.write(u(o,null,this._iframe))}),e.override("onResize",function(e){this._resizeHandlers.push(e)}),e.after("styleSelf",function(){return this.updateCachedDimensions()})}},function(e,t,r){var n=r(7),o=r(121),a=r(123),i=r(30),l=r(26),s=r(124);e.exports=function(e){(new o).attachReceiver(new a.Receiver(n,"twttr.button")).bind("twttr.private.trigger",function(e,t){var r=s(this);i.trigger(e,{target:r,region:t,type:e,data:{}})}).bind("twttr.private.resizeButton",function(t){var r=s(this),n=r&&r.id,o=l.asInt(t.width),a=l.asInt(t.height);n&&o&&a&&e(n,o,a)})}},function(e,t,r){function n(e){this.registry=e||{}}function o(e){var t,r;return t=s.isType("string",e),r=s.isType("number",e),t||r||null===e}function a(e,t){return{jsonrpc:d,id:o(e)?e:null,error:t}}var i=r(51),l=r(122),s=r(12),u=r(2),c=r(33),d="2.0";n.prototype._invoke=function(e,t){var r,n,o;r=this.registry[e.method],n=e.params||[],n=s.isType("array",n)?n:[n];try{o=r.apply(t.source||null,n)}catch(e){o=u.reject(e.message)}return c.isPromise(o)?o:u.resolve(o)},n.prototype._processRequest=function(e,t){var r;return function(e){var t,r,n;return!!s.isObject(e)&&(t=e.jsonrpc===d,r=s.isType("string",e.method),n=!("id"in e)||o(e.id),t&&r&&n)}(e)?(r="params"in e&&!function(e){return s.isObject(e)&&!s.isType("function",e)}(e.params)?u.resolve(a(e.id,l.INVALID_PARAMS)):this.registry[e.method]?this._invoke(e,{source:t}).then(function(t){return function(e,t){return{jsonrpc:d,id:e,result:t}}(e.id,t)},function(){return a(e.id,l.INTERNAL_ERROR)}):u.resolve(a(e.id,l.METHOD_NOT_FOUND)),null!=e.id?r:u.resolve()):u.resolve(a(e.id,l.INVALID_REQUEST))},n.prototype.attachReceiver=function(e){return e.attachTo(this),this},n.prototype.bind=function(e,t){return this.registry[e]=t,this},n.prototype.receive=function(e,t){var r,n,o=this;try{e=function(e){return s.isType("string",e)?i.parse(e):e}(e)}catch(e){return u.resolve(a(null,l.PARSE_ERROR))}return t=t||null,n=((r=s.isType("array",e))?e:[e]).map(function(e){return o._processRequest(e,t)}),r?function(e){return u.all(e).then(function(e){return(e=e.filter(function(e){return void 0!==e})).length?e:void 0})}(n):n[0]},e.exports=n},function(e,t){e.exports={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INTERNAL_ERROR:{code:-32603,message:"Internal error"}}},function(e,t,r){function n(e,t,r){var n;e&&e.postMessage&&(y?n=(r||"")+c.stringify(t):r?(n={})[r]=t:n=t,e.postMessage(n,"*"))}function o(e){return f.isType("string",e)?e:"JSONRPC"}function a(e,t){return t?f.isType("string",e)&&0===e.indexOf(t)?e.substring(t.length):e[t]?e[t]:void 0:e}function i(e,t){var r=e.document;this.filter=o(t),this.server=null,this.isTwitterFrame=h.isTwitterURL(r.location.href),e.addEventListener("message",m(this._onMessage,this),!1)}function l(e,t){this.pending={},this.target=e,this.isTwitterHost=h.isTwitterURL(s.href),this.filter=o(t),u.addEventListener("message",m(this._onMessage,this),!1)}var s=r(11),u=r(7),c=r(51),d=r(1),p=r(8),f=r(12),h=r(24),m=r(15),y=p.ie9();f.aug(i.prototype,{_onMessage:function(e){var t,r=this;this.server&&(this.isTwitterFrame&&!h.isTwitterURL(e.origin)||(t=a(e.data,this.filter))&&this.server.receive(t,e.source).then(function(t){t&&n(e.source,t,r.filter)}))},attachTo:function(e){this.server=e},detach:function(){this.server=null}}),f.aug(l.prototype,{_processResponse:function(e){var t=this.pending[e.id];t&&(t.resolve(e),delete this.pending[e.id])},_onMessage:function(e){var t;if((!this.isTwitterHost||h.isTwitterURL(e.origin))&&(t=a(e.data,this.filter))){if(f.isType("string",t))try{t=c.parse(t)}catch(e){return}(t=f.isType("array",t)?t:[t]).forEach(m(this._processResponse,this))}},send:function(e){var t=new d;return e.id?this.pending[e.id]=t:t.resolve(),n(this.target,e,this.filter),t.promise}}),e.exports={Receiver:i,Dispatcher:l,_stringifyPayload:function(e){return arguments.length>0&&(y=!!e),y}}},function(e,t,r){var n=r(9);e.exports=function(e){for(var t,r=n.getElementsByTagName("iframe"),o=0;r[o];o++)if((t=r[o]).contentWindow===e)return t}},function(e,t){e.exports=function(e){var t,r=!1;return function(){return r?t:(r=!0,t=e.apply(this,arguments))}}},function(e,t,r){var n=r(26),o=r(12),a=r(24),i=r(80),l=r(82)(),s=r(127),u="a.twitter-grid";e.exports=function(e){return l(e,u).map(function(e){return s(function(e){var t=i(e),r={collectionId:a.collectionId(e.href),chrome:e.getAttribute("data-chrome"),limit:e.getAttribute("data-limit")};return o.forIn(r,function(e,r){var o=t[e];t[e]=n.hasValue(o)?o:r}),t}(e),e.parentNode,e)})}},function(e,t,r){var n=r(86),o=r(128),a=r(53);e.exports=function(e,t,r){return new n(o,a,"twitter-grid",e,t,r)}},function(e,t,r){var n=r(1);e.exports=function(e,t){var o=new n;return r.e(3,function(n,a){var i;if(n)return o.reject(n);try{i=r(129),o.resolve(new i(e,t))}catch(e){o.reject(e)}}),o.promise}},,,,function(e,t,r){function n(){return u+c++}var o=r(9),a=r(18),i=r(1),l=r(12),s=r(25),u="cb",c=0;e.exports={fetch:function(e,t,r,u){var c,d,p;return u=function(e){if(e)return e.replace(/[^\w$]/g,"_")}(u||n()),c=a.fullPath(["callbacks",u]),d=o.createElement("script"),p=new i,t=l.aug({},t,{callback:c,suppress_response_codes:!0}),a.set(["callbacks",u],function(e){var t;e=(t=r(e||!1)).resp,t.success?p.resolve(e):p.reject(e),d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),a.unset(["callbacks",u])}),d.onerror=function(){p.reject(new Error("failed to fetch "+d.src))},d.src=s.url(e,t),d.async="async",o.body.appendChild(d),p.promise}}},function(e,t,r){var n=r(10);e.exports=function(e){var t,r;return t=e.headers&&e.headers.status,!(r=e&&!e.error&&200===t)&&e.headers&&e.headers.message&&n.warn(e.headers.message),{success:r,resp:e}}},function(e,t){e.exports={getTimezoneOffset:function(){var e=(new Date).toString().match(/(GMT[+-]?\d+)/);return e&&e[0]||"GMT"}}},function(e,t){e.exports=function(){return Math.floor(+new Date/9e5)}},function(e,t,r){function n(e,t){var r=[e];return t.forEach(function(e){r.push(function(e){var t=(e||"").toString(),r=function(e){return"/"===e.slice(0,1)}(t)?1:0,n=function(e){return"/"===e.slice(-1)}(t)?-1:void 0;return t.slice(r,n)}(e))}),r.join("/")}var o=r(18),a="https://syndication.twitter.com",i=function(){return o.get("backendHost")||"https://cdn.syndication.twimg.com"},l=function(){return o.get("settingsSvcHost")||a};e.exports={cookieConsent:function(e){var t=e||[];return t.unshift("cookie/consent"),n(l(),t)},disableCDN:function(){o.init("backendHost",a)},enableCDN:function(){o.unset("backendHost",a)},eventVideo:function(e){var t=e||[];return t.unshift("video/event"),n(i(),t)},grid:function(e){var t=e||[];return t.unshift("grid/collection"),n(i(),t)},moment:function(e){var t=e||[];return t.unshift("moments"),n(i(),t)},settings:function(e){var t=e||[];return t.unshift("settings"),n(l(),t)},timeline:function(e){var t=e||[];return t.unshift("timeline"),n(i(),t)},timelinePreconfigured:function(e){var t=e||[];return t.unshift("widgets/timelines"),n(i(),t)},tweetBatch:function(e){var t=e||[];return t.unshift("tweets.json"),n(i(),t)},video:function(e){var t=e||[];return t.unshift("widgets/video"),n(i(),t)}}},function(e,t,r){var n=r(9),o=r(26),a=n.createElement("div");e.exports=function(e){return o.isNumber(e)&&(e+="px"),a.style.width="",a.style.width=e,a.style.width||null}},function(e,t,r){var n=r(36),o=r(139),a=375;e.exports=function(e){e.after("prepForInsertion",function(e){o.sizeIframes(e,this.sandbox.width,a,n.sync)}),e.after("resize",function(){o.sizeIframes(this.el,this.sandbox.width,a,n.write)})}},function(e,t,r){function n(e,t){e.getAttribute("data-image")?i(e,t):s(e,t)}function o(e){var t=e.split(" ");this.url=decodeURIComponent(t[0].trim()),this.width=+t[1].replace(/w$/,"").trim()}function a(e,t,r){var n,a,i,s,u;if(a=l(e),i=t.split(",").map(function(e){return new o(e.trim())}),r)for(u=0;u<i.length;u++)i[u].url===r&&(n=i[u]);return s=i.reduce(function(e,t){return t.width<e.width&&t.width>=a?t:e},i[0]),n&&n.width>s.width?n:s}function i(e,t){var r,n,o,a;((r=y.decodeURL(e.src).name)&&g(P,function(e){if(E[e]===r)return e}))>=(o=l(t)||680)||(n=e.getAttribute("data-image"),a=g(P,function(e){if(e>=o)return e})||4096,e.src=y.url(n,{format:"jpg",name:E[a]}))}function l(e){return f.devicePixelRatio?e*f.devicePixelRatio:e}function s(e,t){var r,n=e.getAttribute("data-srcset"),o=e.src;n&&(r=a(t,n,o),e.src=r.url)}function u(e,t,r){e&&(h.toRealArray(e.querySelectorAll(".NaturalImage-image")).forEach(function(e){r(function(){n(e,t)})}),h.toRealArray(e.querySelectorAll(".CroppedImage-image")).forEach(function(e){r(function(){n(e,t/2)})}),h.toRealArray(e.querySelectorAll("img.autosized-media")).forEach(function(e){r(function(){n(e,t),e.removeAttribute("width"),e.removeAttribute("height")})}))}function c(e,t,r,n){e&&h.toRealArray(e.querySelectorAll("iframe.autosized-media, .wvp-player-container")).forEach(function(e){var o=d(e.getAttribute("data-width"),e.getAttribute("data-height"),b.effectiveWidth(e.parentElement)||t,r);n(function(){e.setAttribute("width",o.width),e.setAttribute("height",o.height),w.present(e,"wvp-player-container")?(e.style.width=o.width,e.style.height=o.height):(e.width=o.width,e.height=o.height)})})}function d(e,t,r,n,o,a){return n=n||t,e>(r=r||e)&&(t*=r/e,e=r),t>n&&(e*=n/t,t=n),e<(o=o||0)&&(t*=o/e,e=o),t<(a=a||0)&&(e*=a/t,t=a),{width:Math.floor(e),height:Math.floor(t)}}function p(e,t,r,n){h.toRealArray(e.querySelectorAll(t)).forEach(function(e){var t=e.getAttribute("style")||e.getAttribute("data-style"),o=n.test(t)&&RegExp.$1;o&&(e.setAttribute("data-csp-fix",!0),e.style[r]=o)})}var f=r(7),h=r(12),m=r(66),y=r(25),g=r(140),v=r(8),b=r(141),w=r(21),S=/max-width:\s*([\d.]+px)/,_=/top:\s*(-?[\d.]+%)/,k=/left:\s*(-?[\d.]+%)/,C=/padding-bottom:\s*([\d.]+%)/,E={64:"tiny",120:"120x120",240:"240x240",360:"360x360",680:"small",900:"900x900",1200:"medium",2048:"large",4096:"4096x4096"},P=Object.keys(E).sort(function(e,t){return e-t});e.exports={scaleDimensions:d,retinize:function(e,t){t=void 0!==t?!!t:v.retina(),h.toRealArray(e.getElementsByTagName("IMG")).forEach(function(e){var r=e.getAttribute("data-src-1x")||e.getAttribute("src"),n=e.getAttribute("data-src-2x");t&&n?e.src=n:r&&(e.src=r)})},setSrcForImgs:u,sizeIframes:c,constrainMedia:function(e,t,r,n){u(e,t,n),c(e,t,r,n)},fixMediaCardLayout:function(e){m.inlineStyle()||(p(e,".MediaCard-widthConstraint","maxWidth",S),p(e,".MediaCard-mediaContainer","paddingBottom",C),p(e,".CroppedImage-image","top",_),p(e,".CroppedImage-image","left",k))},__setSrcFromSet:s,__setSrcFromImage:i,__setImageSrc:n}},function(e,t){e.exports=function(e,t,r){for(var n,o=0;o<e.length;o++)if(n=t.call(r,e[o],o,e))return n}},function(e,t){e.exports={effectiveWidth:function e(t){return t&&1===t.nodeType?t.offsetWidth||e(t.parentNode):0}}},function(e,t,r){function n(e){var t=function(e){return(e||"").split(";").reduce(function(e,t){var r,n;return i.test(t.trim())&&(r=RegExp.$1,n=RegExp.$2,e[function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}(r)]=n),e},{})}(e.getAttribute("data-style"));0!==Object.keys(t).length&&(e.setAttribute("data-csp-fix","true"),a.forIn(t,function(t,r){e.style[t]=r}))}var o=r(66),a=(r(10),r(12)),i=/^([a-zA-Z-]+):\s*(.+)$/;e.exports=function(e){e.selectors({cspForcedStyle:".js-cspForcedStyle"}),e.after("prepForInsertion",function(e){o.inlineStyle()||this.select(e,"cspForcedStyle").forEach(n)})}},function(e,t,r){var n=r(139);e.exports=function(e){e.after("prepForInsertion",function(e){n.retinize(e)})}},function(e,t,r){var n=r(36),o=r(139);e.exports=function(e){e.after("prepForInsertion",function(e){o.setSrcForImgs(e,this.sandbox.width,n.sync)}),e.after("resize",function(){o.setSrcForImgs(this.el,this.sandbox.width,n.write)})}},function(e,t){var r="data-iframe-title";e.exports=function(e){e.after("render",function(){var e=this.el.getAttribute(r);e&&this.sandbox.setTitle&&this.sandbox.setTitle(e)})}},function(e,t,r){function n(e){return e.every(i.isInt)}function o(e){var t=e.map(function(e){return{size:+e,className:l+e}}).sort(function(e,t){return e.size-t.size});return t.unshift({size:0,className:s}),t}var a=r(2),i=r(26),l="env-bp-",s=l+"min";e.exports=function(e){e.params({breakpoints:{required:!0,validate:n,transform:o}}),e.define("getClassForWidth",function(e){var t,r,n;for(r=this.params.breakpoints.length-1;r>=0;r--)if(e>(n=this.params.breakpoints[r]).size){t=n.className;break}return t}),e.after("initialize",function(){this.allBreakpoints=this.params.breakpoints.map(function(e){return e.className})}),e.define("recalculateBreakpoints",function(){var e=this.getClassForWidth(this.sandbox.width);return e&&this.sandbox.hasRootClass(e)?a.resolve():a.all([this.sandbox.removeRootClass(this.allBreakpoints),this.sandbox.addRootClass(e)])}),e.after("render",function(){return this.recalculateBreakpoints()}),e.after("resize",function(){return this.recalculateBreakpoints()})}},,function(e,t,r){function n(e,t){var r,n;if(n={scribeContext:(t=t||{}).scribeContext||{client:"tfw"},languageCode:t.languageCode,hideControls:t.hideControls||!1,addTwitterBranding:t.addBranding||!1,widgetOrigin:t.widgetOrigin,borderRadius:t.borderRadius},(r=a(e,".wvp-player-container")).length>0)return l&&i.setBaseUrl(l),{element:r[0],options:n}}var o=r(1),a=r(83),i=r(149),l=null;e.exports={insertForTweet:function(e,t,r){var a,l=new o,s=n(e,r);if(s)return(a=i.createPlayerForTweet(s.element,t,s.options))?(l.resolve(a),l.promise):l.reject(new Error("unable to create tweet video player"))},insertForEvent:function(e,t,r){var a,l=new o,s=n(e,r);return s?((a=i.createPlayerForLiveVideo(s.element,t,s.options)).on("ready",function(){a.playPreview(),l.resolve(a)}),l.promise):l.reject(new Error("unable to initialize event video player"))},remove:function(e){var t=e.querySelector(".wvp-player-container"),r=t&&i.findPlayerForElement(t);if(r)return r.teardown()},find:function(e){return i.findPlayerForElement(e)}}},function(e,t,r){var n,o;o=this,void 0===(n=function(){return o.TwitterVideoPlayer=function(){function e(e){if(e&&e.data&&e.data.params&&e.data.params[0]){var t=e.data.params[0],r=e.data.id;if(t&&t.context&&"TwitterVideoPlayer"===t.context){var n=t.playerId;delete t.playerId,delete t.context;var o=i[n];o&&o.processMessage(e.data.method,t,r)}}}function t(t,n,o,l,s){var u=t.ownerDocument,c=u.defaultView;c.addEventListener("message",e),this.playerId=a++;var d={embed_source:"clientlib",player_id:this.playerId,rpc_init:1};if(this.scribeParams={},this.scribeParams.suppressScribing=l&&l.suppressScribing,!this.scribeParams.suppressScribing){if(!l.scribeContext)throw"video_player: Missing scribe context";if(!l.scribeContext.client)throw"video_player: Scribe context missing client property";this.scribeParams.client=l.scribeContext.client,this.scribeParams.page=l.scribeContext.page,this.scribeParams.section=l.scribeContext.section,this.scribeParams.component=l.scribeContext.component}this.scribeParams.debugScribe=l&&l.scribeContext&&l.scribeContext.debugScribing,this.scribeParams.scribeUrl=l&&l.scribeContext&&l.scribeContext.scribeUrl,this.promotedLogParams=l.promotedContext,this.adRequestCallback=l.adRequestCallback,l.languageCode&&(d.language_code=l.languageCode),"tfw"===this.scribeParams.client&&(d.use_syndication_guest_id=!0);var p=function(e,t,r){var n=Object.keys(r).filter(function(e){return null!=r[e]}).map(function(e){var t=r[e];return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&");return n&&(n="?"+n),e+t+n}(r,n,d);return this.videoIframe=document.createElement("iframe"),this.videoIframe.setAttribute("src",p),this.videoIframe.setAttribute("allowfullscreen",""),this.videoIframe.setAttribute("id",o),this.videoIframe.setAttribute("style","width: 100%; height: 100%; position: absolute; top: 0; left: 0;"),this.domElement=t,this.domElement.appendChild(this.videoIframe),i[this.playerId]=this,this.eventCallbacks={},this.emitEvent=function(e,t){var r=this.eventCallbacks[e];void 0!==r&&r.forEach(function(e){e.apply(this.playerInterface,[t])}.bind(this))},this.jsonRpc=function(e){var t=this.videoIframe.contentWindow;e.jsonrpc="2.0",t&&t.postMessage&&t.postMessage(JSON.stringify(e),"*")},this.jsonRpcCall=function(e,t){this.jsonRpc({method:e,params:t})},this.jsonRpcResult=function(e,t){this.jsonRpc({result:e,id:t})},this.processMessage=function(e,t,r){switch(e){case"requestPlayerConfig":this.jsonRpcResult({scribeParams:this.scribeParams,promotedLogParams:this.promotedLogParams,squareCorners:l.squareCorners,borderRadius:l.borderRadius,hideControls:l.hideControls,embedded:l.addTwitterBranding,widgetOrigin:l.widgetOrigin,ignoreFineGrainGeoblocking:l.ignoreFineGrainGeoblocking},r);break;case"videoPlayerAdStart":this.emitEvent("adStart",t);break;case"videoPlayerAdEnd":this.emitEvent("adEnd",t);break;case"videoPlayerPlay":this.emitEvent("play",t);break;case"videoPlayerPause":this.emitEvent("pause",t);break;case"videoPlayerMute":this.emitEvent("mute",t);break;case"videoPlayerUnmute":this.emitEvent("unmute",t);break;case"videoPlayerPlaybackComplete":this.emitEvent("playbackComplete",t);break;case"videoPlayerReady":this.emitEvent("ready",t);break;case"videoView":this.emitEvent("view",t);break;case"debugLoggingEvent":this.emitEvent("logged",t);break;case"requestDynamicAd":"function"==typeof this.adRequestCallback?this.jsonRpcResult(this.adRequestCallback(),r):this.jsonRpcResult({},r);break;case"videoPlayerError":t&&"NO_COOKIES_ERROR"===t.error_category?this.emitEvent("noCookiesError",t):t&&"GEOBLOCK_ERROR"===t.error_category&&this.emitEvent("geoblockError",t)}},this.playerInterface={on:function(e,t){return void 0===this.eventCallbacks[e]&&(this.eventCallbacks[e]=[]),this.eventCallbacks[e].push(t),this.playerInterface}.bind(this),off:function(e,t){if(void 0===t)delete this.eventCallbacks[e];else{var r=this.eventCallbacks[e];if(void 0!==r){var n=r.indexOf(t);n>-1&&r.splice(n,1)}}return this.playerInterface}.bind(this),play:function(){return this.jsonRpcCall("play"),this.playerInterface}.bind(this),pause:function(){return this.jsonRpcCall("pause"),this.playerInterface}.bind(this),mute:function(){return this.jsonRpcCall("mute"),this.playerInterface}.bind(this),unmute:function(){return this.jsonRpcCall("unmute"),this.playerInterface}.bind(this),playPreview:function(){return this.jsonRpcCall("autoPlayPreview"),this.playerInterface}.bind(this),pausePreview:function(){return this.jsonRpcCall("autoPlayPreviewStop"),this.playerInterface}.bind(this),updatePosition:function(e){return this.jsonRpcCall("updatePosition",[e]),this.playerInterface}.bind(this),updateLayoutBreakpoint:function(e){return this.jsonRpcCall("updateLayoutBreakpoint",[e]),this.playerInterface}.bind(this),enterFullScreen:function(){return this.jsonRpcCall("enterFullScreen"),this.playerInterface}.bind(this),exitFullScreen:function(){return this.jsonRpcCall("exitFullScreen"),this.playerInterface}.bind(this),teardown:function(){this.eventCallbacks={},t.removeChild(this.videoIframe),this.videoIframe=void 0,delete i[this.playerId]}.bind(this)},this.playerInterface}var r="https://twitter.com",n=/^https?:\/\/([a-zA-Z0-9]+\.)*twitter.com(:\d+)?$/,o={suppressScribing:!1,squareCorners:!1,hideControls:!1,addTwitterBranding:!1},a=0,i={};return{setBaseUrl:function(e){n.test(e)?r=e:window.console.error("newBaseUrl "+e+" not allowed")},createPlayerForTweet:function(e,r,n){var a="/i/videos/tweet/"+r,i="player_tweet_"+r;return new t(e,a,i,n||o)},createPlayerForDm:function(e,r,n){var a="/i/videos/dm/"+r,i="player_dm_"+r;return new t(e,a,i,n||o)},createPlayerForLiveVideo:function(e,r,n){var a="/i/videos/live_video/"+r,i="player_live_video_"+r;return new t(e,a,i,n||o)},findPlayerForElement:function(e){for(var t in i)if(i.hasOwnProperty(t)){var r=i[t];if(r&&r.domElement===e)return r.playerInterface}return null}}}()}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n=r(22),o=r(151),a=r(89),i=r(50),l="data-click-to-open-target";e.exports=a.couple(r(102),function(e){e.selectors({clickToOpen:".js-clickToOpenTarget"}),e.define("shouldOpenTarget",function(e){var t=n.closest("A",e.target,this.el),r=n.closest("BUTTON",e.target,this.el),o=this.sandbox.hasSelectedText();return!t&&!r&&!o}),e.define("openTarget",function(e,t){var r=t&&t.getAttribute(l);r&&(o(r),this.scribeOpenClick(e))}),e.define("attemptToOpenTarget",function(e,t){this.shouldOpenTarget(e)&&this.openTarget(e,t)}),e.define("scribeOpenClick",function(e){var t=i.extractTermsFromDOM(e.target),r={associations:i.formatTweetAssociation(t)};this.scribe({section:"chrome",action:"click"},r)}),e.after("render",function(){this.on("click","clickToOpen",this.attemptToOpenTarget)})})},function(e,t,r){var n=r(7),o=r(101),a=r(24);e.exports=function(e){a.isTwitterURL(e)&&(e=o(e)),n.open(e)}},function(e,t,r){var n=r(22),o=r(41),a=r(23),i=r(47),l=r(25),s=r(24),u=r(15),c="data-url-params-injected";e.exports=function(e){e.params({productName:{required:!0},dataSource:{required:!1},related:{required:!1},partner:{fallback:u(o.val,o,"partner")}}),e.selectors({timeline:".timeline",tweetIdInfo:".js-tweetIdInfo"}),e.define("injectWebIntentParams",function(e){var t=n.closest(this.selectors.timeline,e,this.el),r=n.closest(this.selectors.tweetIdInfo,e,this.el);e.getAttribute(c)||(e.setAttribute(c,!0),e.href=l.url(e.href,{tw_w:this.params.dataSource&&this.params.dataSource.id,tw_i:r&&r.getAttribute("data-tweet-id"),tw_p:this.params.productName,related:this.params.related,partner:this.params.partner,query:t&&t.getAttribute("data-search-query"),profile_id:t&&t.getAttribute("data-profile-id"),original_referer:i.rootDocumentLocation()}))}),e.after("render",function(){this.on("click","A",function(e,t){s.isIntentURL(t.href)&&(this.injectWebIntentParams(t),a.open(t.href,this.sandbox.sandboxEl,e))})})}},function(e,t,r){var n=r(8);e.exports=function(e){e.before("render",function(){n.ios()&&this.sandbox.addRootClass("env-ios"),n.ie9()&&this.sandbox.addRootClass("ie9"),n.touch()&&this.sandbox.addRootClass("is-touch")})}},function(e,t,r){var n=r(155);e.exports=function(e){e.params({pageForAudienceImpression:{required:!0}}),e.before("hydrate",function(){n.scribeAudienceImpression(this.params.pageForAudienceImpression)})}},function(e,t,r){function n(e){i.isHostPageSensitive()||l[e]||(l[e]=!0,o.scribe(a.formatClientEventNamespace({page:e,action:"impression"}),a.formatGenericEventData("syndicated_impression",{}),a.AUDIENCE_ENDPOINT))}var o=r(71),a=r(50),i=r(49),l={};e.exports={scribeAudienceImpression:n,scribePartnerTweetAudienceImpression:function(){n("partnertweet")},scribeTweetAudienceImpression:function(){n("tweet")},scribeTimelineAudienceImpression:function(){n("timeline")},scribeVideoAudienceImpression:function(){n("video")}}},function(e,t,r){var n=r(89),o=r(157),a=1;e.exports=n.couple(r(102),function(e){var t={action:"dimensions"},r=new o(a);e.after("show",function(){var e;r.nextBoolean()&&(e={widget_width:this.sandbox.width,widget_height:this.sandbox.height},this.scribe(t,e))})})},function(e,t){function r(e){this.percentage=e}r.prototype.nextBoolean=function(){return 100*Math.random()<this.percentage},e.exports=r},,function(e,t,r){var n=r(12);e.exports=function(e){var t={transparent:!1,hideBorder:!1,hideHeader:!1,hideFooter:!1,hideScrollBar:!1};return e=e||"",n.contains(e,"transparent")&&(t.transparent=!0),n.contains(e,"noborders")&&(t.hideBorder=!0),n.contains(e,"noheader")&&(t.hideHeader=!0),n.contains(e,"nofooter")&&(t.hideFooter=!0),n.contains(e,"noscrollbar")&&(t.hideScrollBar=!0),t}},function(e,t,r){var n=r(26),o=r(12),a=r(24),i=r(80),l=r(82)(),s=r(161),u="a.twitter-moment";e.exports=function(e){return l(e,u).map(function(e){return s(function(e){var t=i(e),r={momentId:a.momentId(e.href),chrome:e.getAttribute("data-chrome"),limit:e.getAttribute("data-limit")};return o.forIn(r,function(e,r){var o=t[e];t[e]=n.hasValue(o)?o:r}),t}(e),e.parentNode,e)})}},function(e,t,r){var n=r(86),o=r(162),a=r(53);e.exports=function(e,t,r){return new n(o,a,"twitter-moment",e,t,r)}},function(e,t,r){var n=r(1);e.exports=function(e,t){var o=new n;return r.e(4,function(n,a){var i;if(n)return o.reject(n);try{i=r(163),o.resolve(new i(e,t))}catch(e){o.reject(e)}}),o.promise}},,,,function(e,t,r){var n=r(50),o=r(89),a=r(52),i=r(167);e.exports=o.couple(r(102),function(e){e.selectors({inViewportMarker:".js-inViewportScribingTarget"}),e.define("scribeInViewportSeen",function(e,t){var r=n.extractTermsFromDOM(e);r.action="seen",this.scribe(r,t,a.version)}),e.after("show",function(){var e=this.selectors.inViewportMarker;this.select(e).forEach(function(e){e&&i.inViewportOnce(e,this.sandbox.sandboxEl,function(){this.scribeInViewportSeen(e,this.scribeItems())}.bind(this))},this)})})},function(e,t,r){var n=r(168),o=r(67),a=r(169),i=r(7),l=r(8),s=function(e){return(i.requestIdleCallback||i.requestAnimationFrame||function(e){e()})(e)},u=function(){this.observers=[]};u.prototype._register=function(e,t,r){var o,u=this;return l.hasIntersectionObserverSupport()?((o=new i.IntersectionObserver(function(e){e.forEach(function(e){e.intersectionRatio>=1&&(s(r),u._unregister(o))})},{threshold:1})).observe(e),o):(o={update:function(a,i){n(e,{viewportWidth:a,viewportHeight:i,sandboxEl:t})&&(r(),u._unregister(o))}},this.observers.push(o),1===this.observers.length&&(this.unlisten=a.addScrollListener(this._onViewportChange.bind(this))),this._onViewportChange(),o)},u.prototype._unregister=function(e){var t;l.hasIntersectionObserverSupport()&&e instanceof i.IntersectionObserver?e.disconnect():(t=this.observers.indexOf(e))>-1&&(this.observers.splice(t,1),0===this.observers.length&&this.unlisten&&this.unlisten())},u.prototype._onViewportChange=function(){o(s(function(){this._notify(a.getWidth(),a.getHeight())}.bind(this)),50,this)},u.prototype._notify=function(e,t){this.observers.forEach(function(r){r.update(e,t)})},u.prototype.inViewportOnce=function(e,t,r){return this._register(e,t,r)},e.exports=new u},function(e,t,r){var n=r(9),o=r(7);e.exports=function(e,t){var r,a,i,l;return a=(t=t||{}).viewportWidth||o.innerWidth,r=t.viewportHeight||o.innerHeight,i=e.getBoundingClientRect(),e.ownerDocument!==n&&t.sandboxEl&&(l=t.sandboxEl.getBoundingClientRect(),i={top:i.top+l.top,bottom:i.bottom+l.top,left:i.left+l.left,right:i.right+l.left}),i.top>=0&&i.left>=0&&i.bottom<=r&&i.right<=a}},function(e,t,r){var n=r(7),o={_addListener:function(e,t){var r=function(){t()};return n.addEventListener(e,r),function(){n.removeEventListener(e,r)}},addScrollListener:function(e){return this._addListener("scroll",e)},getHeight:function(){return n.innerHeight},getWidth:function(){return n.innerWidth}};e.exports=o},,function(e,t,r){var n=r(12),o=r(80),a=r(82)(),i=r(172),l="a.periscope-on-air",s=/^https?:\/\/(?:www\.)?(?:periscope|pscp)\.tv\/@?([a-zA-Z0-9_]+)\/?$/i;e.exports=function(e){return a(e,l).map(function(e){return i(function(e){var t=o(e),r=e.getAttribute("href"),a=e.getAttribute("data-size"),i=s.exec(r)[1];return n.aug(t,{username:i,size:a})}(e),e.parentNode,e)})}},function(e,t,r){var n=r(86),o=r(173),a=r(53);e.exports=function(e,t,r){return new n(o,a,"periscope-on-air",e,t,r)}},function(e,t,r){var n=r(1);e.exports=function(e,t){var o=new n;return r.e(5,function(n,a){var i;if(n)return o.reject(n);try{i=r(174),o.resolve(new i(e,t))}catch(e){o.reject(e)}}),o.promise}},,,,function(e,t,r){var n=r(26),o=r(12),a=r(178),i=r(193),l=r(80),s=r(82)(),u=r(195),c="a.twitter-timeline,div.twitter-timeline";e.exports=function(e){return s(e,c).map(function(e){return u(function(e){var t=l(e),r=e.getAttribute("data-show-replies"),s={widgetId:e.getAttribute("data-widget-id"),chrome:e.getAttribute("data-chrome"),tweetLimit:e.getAttribute("data-tweet-limit"),ariaLive:e.getAttribute("data-aria-polite"),theme:e.getAttribute("data-theme"),linkColor:e.getAttribute("data-link-color"),borderColor:e.getAttribute("data-border-color"),showReplies:r?n.asBoolean(r):null,profileScreenName:e.getAttribute("data-screen-name"),profileUserId:e.getAttribute("data-user-id"),favoritesScreenName:e.getAttribute("data-favorites-screen-name"),favoritesUserId:e.getAttribute("data-favorites-user-id"),likesScreenName:e.getAttribute("data-likes-screen-name"),likesUserId:e.getAttribute("data-likes-user-id"),listOwnerScreenName:e.getAttribute("data-list-owner-screen-name"),listOwnerUserId:e.getAttribute("data-list-owner-id"),listId:e.getAttribute("data-list-id"),listSlug:e.getAttribute("data-list-slug"),customTimelineId:e.getAttribute("data-custom-timeline-id"),staticContent:e.getAttribute("data-static-content"),url:e.href};return(s=o.aug(s,t)).dataSource=a(s),s.useLegacyDefaults=s.dataSource instanceof i,s}(e),e.parentNode,e)})}},function(e,t,r){function n(e){return o(f,function(t){try{return new t(e)}catch(e){}})}var o=r(140),a=r(179),i=r(183),l=r(185),s=r(187),u=r(189),c=r(191),d=r(193),p={collection:a,event:i,likes:l,list:s,profile:c,widget:d,url:n},f=[d,c,l,a,s,i,u];e.exports=function(e){return e?function(e){var t,r;return t=(e.sourceType+"").toLowerCase(),(r=p[t])?new r(e):null}(e)||n(e):null}},function(e,t,r){var n=r(180);e.exports=n.build([r(181),r(182)])},function(e,t,r){var n=r(55),o=r(59),a=r(15);(n=Object.create(n)).build=a(n.build,null,o),e.exports=n},function(e,t,r){function n(e){if(!e||!e.headers)throw new Error("unexpected response schema");return{html:e.body,config:e.config,pollInterval:1e3*parseInt(e.headers.xPolling,10)||null,maxCursorPosition:e.headers.maxPosition,minCursorPosition:e.headers.minPosition}}function o(e){if(e&&e.headers)throw new Error(e.headers.status);throw e instanceof Error?e:new Error(e)}var a=r(135),i=r(132),l=r(133),s=r(11),u=r(95),c=r(134),d=r(46),p=r(26),f=r(29),h=r(12);e.exports=function(e){e.params({instanceId:{required:!0,fallback:f.deterministic},lang:{required:!0,transform:u.matchLanguage,fallback:"en"},tweetLimit:{transform:p.asInt}}),e.defineProperty("endpoint",{get:function(){throw new Error("endpoint not specified")}}),e.defineProperty("pollEndpoint",{get:function(){return this.endpoint}}),e.define("cbId",function(e){var t=e?"_new":"_old";return"tl_"+this.params.instanceId+"_"+this.id+t}),e.define("queryParams",function(){return{lang:this.params.lang,tz:c.getTimezoneOffset(),t:a(),domain:s.host,tweet_limit:this.params.tweetLimit,dnt:d.enabled()}}),e.define("fetch",function(){return i.fetch(this.endpoint,this.queryParams(),l,this.cbId()).then(n,o)}),e.define("poll",function(e,t){var r,a;return r={since_id:(e=e||{}).sinceId,max_id:e.maxId,min_position:e.minPosition,max_position:e.maxPosition},a=h.aug(this.queryParams(),r),i.fetch(this.pollEndpoint,a,l,this.cbId(t)).then(n,o)})}},function(e,t,r){function n(e,t){return o.collectionId(e)||t}var o=r(24),a=r(12),i=r(136),l="collection:";e.exports=function(e){e.params({id:{},url:{}}),e.overrideProperty("id",{get:function(){var e=n(this.params.url,this.params.id);return l+e}}),e.overrideProperty("endpoint",{get:function(){return i.timeline(["collection"])}}),e.around("queryParams",function(e){return a.aug(e(),{collection_id:n(this.params.url,this.params.id)})}),e.before("initialize",function(){if(!n(this.params.url,this.params.id))throw new Error("one of url or id is required")})}},function(e,t,r){var n=r(180);e.exports=n.build([r(181),r(184)])},function(e,t,r){function n(e,t){return o.eventId(e)||t}var o=r(24),a=r(12),i=r(136),l="event:";e.exports=function(e){e.params({id:{},url:{}}),e.overrideProperty("id",{get:function(){var e=n(this.params.url,this.params.id);return l+e}}),e.overrideProperty("endpoint",{get:function(){return i.timeline(["event"])}}),e.around("queryParams",function(e){return a.aug(e(),{event_id:n(this.params.url,this.params.id)})}),e.before("initialize",function(){if(!n(this.params.url,this.params.id))throw new Error("one of url or id is required")})}},function(e,t,r){var n=r(180);e.exports=n.build([r(181),r(186)])},function(e,t,r){function n(e){return o.likesScreenName(e.url)||e.screenName}var o=r(24),a=r(12),i=r(136),l="likes:";e.exports=function(e){e.params({screenName:{},userId:{},url:{}}),e.overrideProperty("id",{get:function(){var e=n(this.params)||this.params.userId;return l+e}}),e.overrideProperty("endpoint",{get:function(){return i.timeline(["likes"])}}),e.define("_getLikesQueryParam",function(){var e=n(this.params);return e?{screen_name:e}:{user_id:this.params.userId}}),e.around("queryParams",function(e){return a.aug(e(),this._getLikesQueryParam())}),e.before("initialize",function(){if(!n(this.params)&&!this.params.userId)throw new Error("screen name or user id is required")})}},function(e,t,r){var n=r(180);e.exports=n.build([r(181),r(188)])},function(e,t,r){function n(e){var t=o.listScreenNameAndSlug(e.url)||e;return a.compact({screen_name:t.ownerScreenName,user_id:t.ownerUserId,list_slug:t.slug})}var o=r(24),a=r(12),i=r(136),l="list:";e.exports=function(e){e.params({id:{},ownerScreenName:{},ownerUserId:{},slug:{},url:{}}),e.overrideProperty("id",{get:function(){var e,t,r;return this.params.id?l+this.params.id:(t=(e=n(this.params))&&e.list_slug.replace(/-/g,"_"),r=e&&(e.screen_name||e.user_id),l+(r+":")+t)}}),e.overrideProperty("endpoint",{get:function(){return i.timeline(["list"])}}),e.define("_getListQueryParam",function(){return this.params.id?{list_id:this.params.id}:n(this.params)}),e.around("queryParams",function(e){return a.aug(e(),this._getListQueryParam())}),e.before("initialize",function(){var e=n(this.params);if(a.isEmptyObject(e)&&!this.params.id)throw new Error("qualified slug or list id required")})}},function(e,t,r){var n=r(180);e.exports=n.build([r(181),r(190)])},function(e,t,r){var n=r(26),o=r(136);e.exports=function(e){e.params({previewParams:{required:!0,validate:n.isObject}}),e.overrideProperty("id",{get:function(){return"preview"}}),e.overrideProperty("endpoint",{get:function(){return o.timelinePreconfigured(["preview"])}}),e.override("queryParams",function(){return this.params.previewParams})}},function(e,t,r){var n=r(180);e.exports=n.build([r(181),r(192)])},function(e,t,r){function n(e,t){return o.screenName(e)||t}var o=r(24),a=r(26),i=r(12),l=r(136),s="profile:";e.exports=function(e){e.params({showReplies:{fallback:!1,transform:a.asBoolean},screenName:{},userId:{},url:{}}),e.overrideProperty("id",{get:function(){var e=n(this.params.url,this.params.screenName);return s+(e||this.params.userId)}}),e.overrideProperty("endpoint",{get:function(){return l.timeline(["profile"])}}),e.define("_getProfileQueryParam",function(){var e=n(this.params.url,this.params.screenName),t=e?{screen_name:e}:{user_id:this.params.userId};return i.aug(t,{with_replies:this.params.showReplies?"true":"false"})}),e.around("queryParams",function(e){return i.aug(e(),this._getProfileQueryParam())}),e.before("initialize",function(){if(!n(this.params.url,this.params.screenName)&&!this.params.userId)throw new Error("screen name or user id is required")})}},function(e,t,r){var n=r(180);e.exports=n.build([r(181),r(194)])},function(e,t,r){var n=r(26),o=r(12),a=r(136);e.exports=function(e){e.params({widgetId:{required:!0},profileShowReplies:{fallback:!1,transform:n.asBoolean},showReplies:{fallback:!1,transform:n.asBoolean},profileScreenName:{},screenName:{},profileUserId:{},userId:{},favoritesScreenName:{},favoritesUserId:{},listOwnerScreenName:{},listOwnerUserId:{},listOwnerId:{},listId:{},listSlug:{},customTimelineId:{},previewParams:{}}),e.overrideProperty("id",{get:function(){return this.params.widgetId}}),e.overrideProperty("endpoint",{get:function(){return a.timelinePreconfigured([this.params.widgetId])}}),e.overrideProperty("pollEndpoint",{get:function(){return a.timelinePreconfigured(["paged",this.params.widgetId])}}),e.define("_getWidgetQueryParams",function(){var e=this.params.profileScreenName||this.params.screenName,t=this.params.profileUserId||this.params.userId,r=this.params.profileShowReplies||this.params.showReplies,n=this.params.listOwnerUserId||this.params.listOwnerId;return e||t?{override_type:"user",override_id:t,override_name:e,with_replies:r?"true":"false"}:this.params.favoritesScreenName||this.params.favoritesUserId?{override_type:"favorites",override_id:this.params.favoritesUserId,override_name:this.params.favoritesScreenName}:this.params.listOwnerScreenName||n||this.params.listId||this.params.listSlug?{override_type:"list",override_owner_id:n,override_owner_name:this.params.listOwnerScreenName,override_id:this.params.listId,override_name:this.params.listSlug}:this.params.customTimelineId?{override_type:"custom",override_id:this.params.customTimelineId}:void 0}),e.around("queryParams",function(e){return o.aug(e(),this._getWidgetQueryParams())})}},function(e,t,r){var n=r(86),o=r(196),a=r(53);e.exports=function(e,t,r){return new n(o,a,"twitter-timeline",e,t,r)}},function(e,t,r){var n=r(1);e.exports=function(e,t){var o=new n;return r.e(6,function(n,a){var i;if(n)return o.reject(n);try{i=r(197),o.resolve(new i(e,t))}catch(e){o.reject(e)}}),o.promise}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var n=r(21),o=r(24),a=r(12),i=r(80),l=r(82)(),s=r(223),u="blockquote.twitter-tweet",c=/\btw-align-(left|right|center)\b/;e.exports=function(e){return l(e,u).map(function(e){return s(function(e){var t=i(e),r=e.getElementsByTagName("A"),l=r&&r[r.length-1],s=l&&o.status(l.href),u=e.getAttribute("data-conversation"),d="none"==u||"hidden"==u||n.present(e,"tw-hide-thread"),p=e.getAttribute("data-cards"),f="none"==p||"hidden"==p||n.present(e,"tw-hide-media"),h=e.getAttribute("data-align")||e.getAttribute("align"),m=e.getAttribute("data-link-color"),y=e.getAttribute("data-theme");return!h&&c.test(e.className)&&(h=RegExp.$1),a.aug(t,{tweetId:s,hideThread:d,hideCard:f,align:h,linkColor:m,theme:y})}(e),e.parentNode,e)})}},function(e,t,r){var n=r(86),o=r(224),a=r(107);e.exports=function(e,t,r){return new n(o,a,"twitter-tweet",e,t,r)}},function(e,t,r){var n=r(1);e.exports=function(e,t){var o=new n;return r.e(7,function(n,a){var i;if(n)return o.reject(n);try{i=r(225),o.resolve(new i(e,t))}catch(e){o.reject(e)}}),o.promise}},,,,,function(e,t,r){function n(e){return e.input.lang||m}function o(e,t){e.forEach(function(e){var r=t[e.input.id];r?e.taskDoneDeferred.resolve(r):e.taskDoneDeferred.reject(new Error("not found"))})}function a(e){e.forEach(function(e){e.taskDoneDeferred.reject(new Error("request failed"))})}function i(e,t){var r=c(t,n);f.forIn(r,function(t,r){var n=function(e,t){var r={ids:[],lang:e,tz:p.getTimezoneOffset()};return(r=t.reduce(function(e,t){return e.ids.push(t.input.id),e},r)).ids=r.ids.sort().join(","),r}(t,r),i=h(o,null,r),l=h(a,null,r);u.fetch(e,n,s).then(i,l)})}function l(e){this.requestQueue=new d(h(i,null,e))}var s=r(230),u=r(132),c=r(43),d=r(39),p=r(134),f=r(12),h=r(15),m="en";l.prototype.fetch=function(e,t){return this.requestQueue.add({id:e,lang:t})},e.exports=l},function(e,t){e.exports=function(e){return{success:!0,resp:e}}},,,,,,,,function(e,t,r){function n(){o&&o.length===i&&(a.emitter.trigger(a.ALL_WIDGETS_AND_IMAGES_LOADED,o),o=null)}var o,a=r(239),i=0;a.emitter.bind(a.ALL_WIDGETS_RENDERED,function(e){o=e.widgets,n()}),e.exports={reportImagesLoadForAWidget:function(){i++,n()}}},function(e,t,r){var n=r(31).makeEmitter();e.exports={emitter:n,START:"start",ALL_WIDGETS_RENDERED:"all_widgets_rendered",ALL_WIDGETS_AND_IMAGES_LOADED:"all_widgets_and_images_loaded"}},,function(e,t,r){var n=r(21),o=r(12),a=r(80),i=r(82)(),l=r(242),s=r(26),u="a.twitter-share-button, a.twitter-mention-button, a.twitter-hashtag-button",c="twitter-hashtag-button",d="twitter-mention-button";e.exports=function(e){return i(e,u).map(function(e){return l(function(e){var t=a(e),r={screenName:e.getAttribute("data-button-screen-name"),text:e.getAttribute("data-text"),type:e.getAttribute("data-type"),size:e.getAttribute("data-size"),url:e.getAttribute("data-url"),hashtags:e.getAttribute("data-hashtags"),via:e.getAttribute("data-via"),buttonHashtag:e.getAttribute("data-button-hashtag")};return o.forIn(r,function(e,r){var n=t[e];t[e]=s.hasValue(n)?n:r}),t.screenName=t.screenName||t.screen_name,t.buttonHashtag=t.buttonHashtag||t.button_hashtag||t.hashtag,n.present(e,c)&&(t.type="hashtag"),n.present(e,d)&&(t.type="mention"),t}(e),e.parentNode,e)})}},function(e,t,r){var n=r(86),o=r(243),a=r(118);e.exports=function(e,t,r){var i=e&&e.type||"share";return new n(o,a,"hashtag"==i?"twitter-hashtag-button":"mention"==i?"twitter-mention-button":"twitter-share-button",e,t,r)}},function(e,t,r){var n=r(1);e.exports=function(e,t){var o=new n;return r.e(2,function(n,a){var i;if(n)return o.reject(n);try{i=r(244),o.resolve(new i(e,t))}catch(e){o.reject(e)}}),o.promise}},,,function(e,t,r){var n=r(12),o=r(80),a=r(82)(),i=r(247),l=r(252),s="blockquote.twitter-video";e.exports=function(e){return a(e,s).map(function(e){return i(function(e){var t=o(e),r=e.getElementsByTagName("A"),a={url:(r&&r[r.length-1]).href};return(a=n.aug({},a,n.compact(t))).dataSource=l(a),a}(e),e.parentNode,e)})}},function(e,t,r){var n=r(86),o=r(248),a=r(251);e.exports=function(e,t,r){return new n(o,a,"twitter-video",e,t,r)}},function(e,t,r){var n=r(1);e.exports=function(e,t){var o=new n;return r.e(7,function(n,a){var i;if(n)return o.reject(n);try{i=r(249),o.resolve(new i(e,t))}catch(e){o.reject(e)}}),o.promise}},,,function(e,t,r){var n=r(36),o=r(54),a=r(63),i=320,l=500,s="10px 0px";e.exports=o.build([a,function(e){e.overrideProperty("sandboxEl",{get:function(){return this._constrainingWrapper}}),e.override("makeVisible",function(){var e=this.iframeEl;return n.write(function(){e.style.visibility="visible"})}),e.define("setWrapperSize",function(e,t){var r=this,o=e/t,a=100/o+"%",i=l*o+"px";return n.write(function(){r._constrainingWrapper.style.maxWidth=i,r._iframeWrapper.style.paddingBottom=a})}),e.after("initialize",function(){this._constrainingWrapper=this._iframeWrapper=null}),e.around("insert",function(e,t,r,n,o){var a=this.targetGlobal.document,l=this._constrainingWrapper=a.createElement("div"),u=this._iframeWrapper=a.createElement("div");return l.id=t,l.className=(r||{}).class,l.style.minWidth=i+"px",l.style.position="relative",l.style.margin=s,u.style.position="relative",u.style.height="0px",l.appendChild(u),e(void 0,null,null,function(e){e.style.position="absolute",e.style.top="0px",e.style.bottom="0px",e.style.width="100%",e.style.height="100%",u.appendChild(e),o(l)})})}])},function(e,t,r){var n=r(140),o=r(253);e.exports=function(e){return e?function(e){var t,r;return t=(e.sourceType+"").toLowerCase(),(r=o[t])?new r(e):null}(e)||function(e){return n(Object.keys(o),function(t){var r=o[t];try{return new r(e)}catch(e){}})}(e):null}},function(e,t,r){var n=r(254),o=r(257);e.exports={tweet:n,event:o}},function(e,t,r){var n=r(180);e.exports=n.build([r(255),r(256)])},function(e,t,r){var n=r(95);e.exports=function(e){e.params({lang:{required:!0,transform:n.matchLanguage,fallback:"en"}}),e.defineProperty("identifier",{get:function(){throw new Error("identifier not specified")}}),e.defineProperty("name",{get:function(){throw new Error("name not specified")}}),e.defineProperty("scribeItemType",{get:function(){throw new Error("scribeItemType not specified")}}),e.define("fetch",function(){throw new Error("fetch not specified")})}},function(e,t,r){function n(e,t){return t||o.status(e)}var o=r(24),a=r(136),i=new(r(229))(a.video()),l=r(106);e.exports=function(e){e.params({id:{},url:{}}),e.overrideProperty("identifier",{get:function(){return n(this.params.url,this.params.id)}}),e.override("fetch",function(){return i.fetch(this.identifier,this.params.lang)}),e.overrideProperty("scribeItemType",{get:function(){return l.TWEET}}),e.overrideProperty("name",{get:function(){return"tweet"}}),e.before("initialize",function(){if(!n(this.params.url,this.params.id))throw new Error("one of url or id is required")})}},function(e,t,r){var n=r(180);e.exports=n.build([r(255),r(258)])},function(e,t,r){function n(e,t){return o.eventId(e)||t}var o=r(24),a=r(259),i=r(136),l=r(106);e.exports=function(e){e.params({id:{},url:{}}),e.overrideProperty("identifier",{get:function(){return n(this.params.url,this.params.id)}}),e.override("fetch",function(){var e={lang:this.params.lang,event_id:this.identifier};return a.fetch(i.eventVideo(),e)}),e.overrideProperty("scribeItemType",{get:function(){return l.LIVE_VIDEO_EVENT}}),e.overrideProperty("name",{get:function(){return"event"}}),e.before("initialize",function(){if(!n(this.params.url,this.params.id))throw new Error("one of url or id is required")})}},function(e,t,r){function n(e){return{success:!e.error,resp:e}}function o(e){return e.data.html}function a(e){return l.reject(e.error.detail)}var i=r(132),l=r(2);e.exports={fetch:function(e,t){return i.fetch(e,t,n).then(o,a)}}},function(e,t,r){var n=r(12);e.exports=n.aug({},r(261),r(263),r(264),r(265),r(266),r(267),r(268),r(269),r(270))},function(e,t,r){var n=r(85),o=r(262)(["userId"],{},n);e.exports={createDMButton:o}},function(e,t,r){var n=r(2),o=r(34),a=r(46),i=r(26),l=r(12);e.exports=function(e,t,r){var s;return t=t||{},s="ƒ("+(e=e||[]).join(", ")+", target, [options]);",function(){var u,c,d,p,f=Array.prototype.slice.apply(arguments,[0,e.length]),h=Array.prototype.slice.apply(arguments,[e.length]);return h.forEach(function(e){if(e)return e.nodeType===Node.ELEMENT_NODE?void(d=e):l.isType("function",e)?void(u=e):void(l.isType("object",e)&&(c=e))}),f.length!==e.length||0===h.length?(u&&l.async(function(){u(!1)}),n.reject(new Error("Not enough parameters. Expected: "+s))):d?(c=l.aug({},c||{},t),e.forEach(function(e){c[e]=f.shift()}),i.asBoolean(c.dnt)&&a.setOn(),p=o.addWidget(r(c,d)),u&&p.then(u,function(){u(!1)}),p):(u&&l.async(function(){u(!1)}),n.reject(new Error("No target element specified. Expected: "+s)))}}},function(e,t,r){var n=r(112),o=r(262)(["screenName"],{},n);e.exports={createFollowButton:o}},function(e,t,r){var n=r(127),o=r(262)(["collectionId"],{},n);e.exports={createGridFromCollection:o}},function(e,t,r){var n=r(161),o=r(262)(["momentId"],{},n);e.exports={createMoment:o}},function(e,t,r){var n=r(172),o=r(262)(["username"],{},n);e.exports={createPeriscopeOnAirButton:o}},function(e,t,r){var n=r(11),o=r(24),a=r(12),i=r(26),l=r(178),s=r(193),u=r(195),c=r(262)([],{},u),d=r(2),p={createTimeline:function(e){var t,r=a.toRealArray(arguments).slice(1);return a.isObject(e)||i.isString(e)?(e=e||{},r.forEach(function(e){a.isType("object",e)&&function(e){e.ariaLive=e.ariaPolite}(t=e)}),t||(t={},r.push(t)),i.isString(e)&&(e=a.aug({},t,{sourceType:"widget",widgetId:e})),e.lang=t.lang,e.tweetLimit=t.tweetLimit,e.showReplies=t.showReplies,t.dataSource=l(e),t.useLegacyDefaults=t.dataSource instanceof s,c.apply(this,r)):d.reject("data source must be a string or an object.")}};o.isTwitterURL(n.href)&&(p.createTimelinePreview=function(e,t,r){var n={previewParams:e,useLegacyDefaults:!0,isPreviewTimeline:!0};return n.dataSource=l(n),c(t,n,r)}),e.exports=p},function(e,t,r){var n=r(12),o=r(223),a=function(e){return function(){return n.toRealArray(arguments).slice(1).forEach(function(e){n.isType("object",e)&&(e.hideCard="none"==e.cards||"hidden"==e.cards,e.hideThread="none"==e.conversation||"hidden"==e.conversation)}),e.apply(this,arguments)}}(r(262)(["tweetId"],{},o));e.exports={createTweet:a,createTweetEmbed:a}},function(e,t,r){function n(e){return function(){return o.toRealArray(arguments).slice(1).forEach(function(e){o.isType("object",e)&&(e.screenName=e.screenName||e.screen_name,e.buttonHashtag=e.buttonHashtag||e.button_hashtag||e.hashtag)}),e.apply(this,arguments)}}var o=r(12),a=r(242),i=r(262),l=i(["url"],{type:"share"},a),s=i(["buttonHashtag"],{type:"hashtag"},a),u=i(["screenName"],{type:"mention"},a);e.exports={createShareButton:n(l),createHashtagButton:n(s),createMentionButton:n(u)}},function(e,t,r){var n=r(247),o=r(262),a=r(12),i=r(26),l=r(252),s=o([],{},n);e.exports={createVideo:function(e){var t,r=a.toRealArray(arguments).slice(1),n=e||{};return r.forEach(function(e){a.isType("object",e)&&(t=e)}),t||(t={},r.push(t)),(i.isString(e)||i.isNumber(e))&&(n={sourceType:"tweet",id:e}),n.lang=t.lang,t.dataSource=l(n),s.apply(this,r)}}},function(e,t,r){function n(){var e,t;for(u=1,e=0,t=c.length;e<t;e++)c[e]()}var o,a,i,l=r(9),s=r(7),u=0,c=[],d=l.createElement("a");/^loade|c/.test(l.readyState)&&(u=1),l.addEventListener&&l.addEventListener("DOMContentLoaded",a=function(){l.removeEventListener("DOMContentLoaded",a,!1),n()},!1),d.doScroll&&l.attachEvent("onreadystatechange",o=function(){/^c/.test(l.readyState)&&(l.detachEvent("onreadystatechange",o),n())}),i=d.doScroll?function(e){s.self!=s.top?u?e():c.push(e):function(){try{d.doScroll("left")}catch(t){return setTimeout(function(){i(e)},50)}e()}()}:function(e){u?e():c.push(e)},e.exports=i},function(e,t,r){var n=r(52),o=r(18);e.exports=function(){o.set("buildVersion",n.version)}},function(e,t,r){r(274),r(238),r(278)},function(e,t,r){var n=r(275),o=r(239),a=r(277),i=new n;o.emitter.bind(o.START,function(){i.start()}),o.emitter.bind(o.ALL_WIDGETS_RENDERED,function(){i.end(),a(i.duration(),{action:"render"})})},function(e,t,r){function n(){}var o=r(276);n.prototype.start=function(){this._startTime=o()},n.prototype.end=function(){this._duration=o()-this._startTime},n.prototype.duration=function(){return this._duration},e.exports=n},function(e,t,r){var n=r(7);e.exports=function(){return n.performance&&n.performance.now?n.performance.now():Date.now()}},function(e,t,r){var n=r(42),o=r(47),a=r(12);e.exports=function(e,t){var r={widget_origin:o.rootDocumentLocation(),widget_frame:o.isFramed()?o.currentDocumentLocation():null,duration_ms:e},i=a.aug(t,{page:"page",component:"performance"});n.scribe(i,r)}},function(e,t,r){function n(e){return e.performance.getEntriesByType("resource").filter(function(e){return l.isTwimgURL(e.name)||l.isTwitterURL(e.name)}).reduce(function(e,t){return e[t.name]=t.duration,e},{})}var o=r(239),a=r(277),i=r(279),l=r(24),s=r(7),u=r(12),c=r(8),d=r(108);o.emitter.bind(o.ALL_WIDGETS_AND_IMAGES_LOADED,function(e){var t,r,o=[];c.hasPerformanceInformation()&&(t=n(s),d.isSupported()||(o=function(e){return e.reduce(function(e,t){return u.aug(e,n(t.contentDocument.defaultView))},{})}(e)),r=u.aug({},t,o),Object.keys(i).forEach(function(e){!function(e,t,r){var n=Object.keys(e).reduce(function(t,n){return r(n)?t+e[n]:t},0);a(n,{element:t,action:"resource"})}(r,e,i[e])}))})},function(e,t,r){var n=r(24),o={all:function(){return!0},image:function(e){return n.isTwimgURL(e)},settings:function(e){return n.isSettingsURL(e)},widget_iframe:function(e){return n.isWidgetIframeURL(e)}};e.exports=o}]))),t.default={}}.call(this,r("yLpj"))},uwoq:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{}},t.prototype.canGoBack=function(){return!this.state.historyState||this.state.historyState.index>0},t.prototype.canGoForward=function(){return!this.state.historyState||this.state.historyState.index<window.history.length-1},t}(r("LEzx").default);t.default=new a},"v/t1":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",function(){},o)}catch(e){}t.addPassiveEventListener=function(e,t,r,o){n?e.addEventListener(t,r,{passive:!0,capture:Boolean(o)}):e.addEventListener(t,r,Boolean(o))},t.removePassiveEventListener=function(e,t,r,n){e.removeEventListener(t,r,Boolean(n))}},vBRW:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,a,l=this;return function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return n(l,void 0,void 0,function(){return o(this,function(n){return t?(a=s,r?[2,r]:[2,r=t.then(function(){return r=void 0,t=e.apply(void 0,i(a))})]):[2,t=e.apply(void 0,i(s))]})})}}},vCBP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fIr1"),o={table:"token",columnTypes:{id:n.default.UUID,version:n.default.Number,last_version:n.default.Number,user_id:n.default.UUID,timestamp:n.default.Number,revoked:n.default.Boolean}};t.default=o},vJXr:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{online:!0,syncing:!1}},t}(r("LEzx").default);t.default=new a},vTDQ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("hfHo"),l=r("LvDl"),s=r("LEzx"),u=r("njgS"),c=r("IdIf"),d=r("wpmu"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{searchQuery:"",isLoading:!1,isReady:!1,filterMenuOpen:!1,sortMenuOpen:!1,groupMenuOpen:!1,calendarByMenuOpen:!1,propertiesMenuOpen:!1,viewSelectMenuOpen:!1,calendarNoDateMenuOpen:!1,dateRangeStart:i.default().valueOf(),dateRangeEnd:i.default().valueOf(),searchOpen:!1,addItemMenuOpen:!1,currentLimit:0,resultSet:new Set,localCreatedResultSet:new Set,reachedEndOfSearchResults:!1}},t.getLocalViewPreferenceKey=function(e){return"CollectionView:"+e},t.prototype.getCurrentResults=function(){var e=this.state.collectionStore;return e?Array.from(this.state.resultSet.values()).map(function(t){return d.default.createChildStore(e,t)}):[]},t.prototype.createUpdater=function(){var e=this,t=function t(r){e.lastUpdater===t&&e.setState(a({},e.state,r))};return this.lastUpdater=t,t},t.prototype.getNormalizedFormat=function(){var e=this.state,t=e.collectionViewStore,r=e.localResult;if(!t)return{};var n=t.getValue(),o=this.getNormalizedQuery();if(!n||!o)return{};var a=this.getNormalizedSchema(),i=r&&"board"===r.type?r.groupResults.map(function(e){return e.value}):[],s=c.getNormalizedFormat(t.getFormat(),a,"board"===n.type?o.group_by:void 0,i,c.getFormatContextFromCollectionViewType(n.type));return l.isEqual(s,this.lastFormat)||(this.lastFormat=s),this.lastFormat},t.prototype.getNormalizedSchema=function(){var e=this.state.collectionStore;if(!e)return u.systemPropertyTypeMap;var t=e.getSchema();return l.isEqual(t,this.lastSchema)||(this.lastSchema=t),this.lastSchema},t.prototype.getNormalizedQuery=function(){var e=this.state.collectionViewStore;if(e){var t=e.getValue();if(t){var r=this.getNormalizedSchema(),n=u.getNormalizedQuery(t,r);return l.isEqual(n,this.lastQuery)||(this.lastQuery=n),this.lastQuery}}},t.prototype.getViewType=function(){var e=this.state.collectionViewStore;if(e){var t=e.getValue();if(t)return t.type}},t.prototype.reachedEndOfResults=function(){var e=this.state,t=e.searchQuery,r=e.remoteResult,n=e.reachedEndOfSearchResults;return!(!t||!n)||(!(!r||"table"!==r.type||r.blockIds.length!==r.total)||!(!r||"board"!==r.type||!r.groupResults.every(function(e){return e.blockIds.length===e.total})))},t.prototype.reachedEndOfTableResults=function(){var e=this.state,t=e.remoteResult,r=e.searchQuery,n=e.reachedEndOfSearchResults;return!(!r||!n)||!(!t||"table"!==t.type)&&t.blockIds.length===t.total},t.prototype.reachedEndOfBoardGroupResults=function(e){var t=this.state,r=t.remoteResult,n=t.searchQuery,o=t.reachedEndOfSearchResults;if(n&&o)return!0;if(!r||"board"!==r.type)return!1;if(e&&e.hidden)return!0;var a=r.groupResults.find(function(t){return c.groupValuesEqual(e.value,t.value)});return!a||a.blockIds.length===a.total},t.prototype.getCurrentAggregationValueResult=function(){var e=this.state,t=e.localResult,r=e.remoteResult;return this.reachedEndOfResults()?t:r},t.prototype.currentViewHasSort=function(){var e=this.getNormalizedQuery();return Boolean(e&&e.sort&&e.sort.length>0)},t.tableIncrementChunkSize=70,t.boardIncrementChunkSize=20,t.incrementScrollOffset=600,t}(s.default);t.default=p},vX3W:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("6rsX"),a=r("cX/5");t.show=function(e){o.clear(),a.default.setState(n({},e,{isActive:!0}))},t.clear=function(){var e=a.default.state;e.isActive&&e.onCancel&&e.onCancel(),a.default.reset()}},"vgb/":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s=r("r8oj"),u=r("KcXv"),c=r("/YYm"),d=r("Sb6f"),p=r("bFnu"),f=r("OxuQ"),h=r("t+pW"),m=r("OWVv"),y=r("Oy36"),g=r("6fCZ"),v=r("LeVO"),b=r("N34Z"),w=r("MBf9"),S=r("IdSf"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRecordIconChange=function(e){var r=t.props.store.getIconStore();r&&w.createAndCommit(function(t){b.setValue({store:r,value:e,transaction:t})})},t.onMouseMove=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.onMouseLeave=function(){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,r=e.store,n=e.onClick,o=c.default({store:r,fullyQualified:!1});return i.createElement(S.default,{href:o,external:!1,onClick:n,style:this.props.style},i.createElement(m.default,{left:this.renderIcon(),childrenStyle:t.childrenStyle,alignment:m.Alignment.Center,right:this.renderActionButton(),onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},i.createElement("div",{style:{display:"flex",alignItems:"center"}},this.props.isAlias&&this.renderAliasIcon(),i.createElement(f.default,{store:r,style:this.getTitleStyle()}))))},t.prototype.renderAliasIcon=function(){return i.createElement(v.default,{renderTooltip:function(){return"This is a link to the original page"},render:function(e){return i.createElement("div",a({style:{marginRight:"0.2em"}},e),l.default.alias({width:"1em",height:"1em",marginRight:4}))}})},t.prototype.renderIcon=function(){var e=this,t=this.props,r=t.store,n=t.disabled;return i.createElement(v.default,{renderTooltip:function(){return"Change icon"},placement:v.default.Placement.Top,disableTooltip:n||!this.canEdit(),render:function(t){return n||!e.canEdit()?i.createElement(y.default,a({disabled:!0,icon:r.getIcon(),isEmptyPage:r.isEmptyPage(),size:22,style:{width:24,height:24}},t)):i.createElement(y.default,a({disabled:!1,bucket:"secure",icon:r.getIcon(),isEmptyPage:r.isEmptyPage(),size:22,style:{width:24,height:24},onChange:e.handleRecordIconChange},t))}})},t.prototype.renderActionButton=function(){if(this.canEdit()&&(this.stores.mouseStore.state.mouseEntered||s.default.isMobile))return i.createElement(g.default,{store:this.props.store,tooltipContent:"Rename, delete, and more...",style:{marginRight:4},fadeIn:!0})},t.prototype.canEdit=function(){return this.props.store.canEdit()&&!this.props.disabled},t.prototype.getTitleStyle=function(){return{fontWeight:d.default.fontWeight.medium,lineHeight:1.3,borderBottom:"1px solid "+this.theme.darkDividerColor}},t.stores={mouseStore:p.default},t.childrenStyle={paddingTop:u.itemStyle.paddingTop,paddingBottom:u.itemStyle.paddingBottom,paddingLeft:u.itemStyle.paddingLeft},t}(h.default);t.default=_},vio7:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("wldR"),u=r("u+/N"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastRenderedItems=[],t.removedItems=[],t}return o(t,e),t.prototype.willMountOrUpdate=function(e){var t,r,n=this,o=e.render();this.removedItems=l.reject(this.removedItems,function(e){return l.findIndex(o,function(t){return e.key===t.key})>=0});var i=function(e){if(l.findIndex(o,function(t){return e.key===t.key})<0){var t={isVisible:!1,onAnimationEnd:function(){n.removedItems=l.without(n.removedItems,r),n.enqueueForceUpdate()}},r=u.default(e,t);s.removedItems.push(r)}},s=this;try{for(var c=a(this.lastRenderedItems),d=c.next();!d.done;d=c.next()){i(d.value)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}this.lastRenderedItems=o},t.prototype.renderComponent=function(){return i.createElement("div",null,this.removedItems.concat(this.lastRenderedItems))},t}(s.default);t.default=c},vk1c:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("vX3W"),s=r("wldR"),u=r("Hj3C"),c=r("wXH4"),d=r("r8oj"),p=r("cX/5"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCloseOverlay=function(){l.clear()},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=p.default.state;return i.createElement(c.default,{popupType:d.default.isMobile?c.default.PopupType.SlideUp:c.default.PopupType.Popup,open:t.isActive,originRect:t.isActive?t.originRect:void 0,originGap:t.isActive?t.originGap:void 0,placementToOrigin:c.default.Placement.Bottom,alignmentToOrigin:c.default.Alignment.Center,preventScaleTransition:!0,onDismiss:this.handleCloseOverlay,render:function(){if(t.isActive)return i.createElement(u.default,a({},t,{onCancel:e.handleCloseOverlay}))}})},t}(s.default);t.default=f},vl6i:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("xEkU"),s=r("i8i4"),u=r("q1tI"),c=r("t+pW"),d=r("WgIs"),p=r("2Y+N"),f=r("wpmu"),h=r("OxuQ"),m=r("AlLG"),y=r("axOw"),g=r("r8oj"),v=r("8fuX"),b=r("mF3+"),w=r("SR/M"),S=r("Gjxv"),_=r("RQ1t"),k=r("0lqH"),C=r("Oy36"),E=r("g8hj"),P=r("xqms"),x=r("EsXS"),T=r("wlCD"),O=r("KTXS"),M=r("qqdV"),I=r("cYwG"),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tableRowsScroller=null,t.renderRowActionButton=function(e,r){var n=t.stores.menuListStore;if(e.type===x.RelationResultType.SearchPage||e.type===x.RelationResultType.SelectedPage){var o=n.state.focusedIndex;return i.createElement(S.default,{isFocused:r===o,isSelected:e.type===x.RelationResultType.SelectedPage,key:e.pageId,onClick:function(){t.props.onClickActionButton(e)}})}},t.handleTableHeaderMount=function(e){t.tableHeaderEl=e||void 0},t.handleTableRowsScrollerMount=function(e){if(t.tableRowsScroller=e,t.tableRowsScroller){var r=s.findDOMNode(t.tableRowsScroller);r&&(t.tableRowsScrollerEl=r,r.addEventListener("scroll",t.handleScroll))}else t.tableRowsScrollerEl&&t.tableRowsScrollerEl.removeEventListener("scroll",t.handleScroll)},t.handleScroll=function(){t.scrollUpdateIsQueued||(t.scrollUpdateIsQueued=!0,l(function(){if(t.tableRowsScrollerEl&&t.tableHeaderEl){var e=t.tableRowsScrollerEl.scrollLeft;t.tableHeaderEl.style.transform="translate3d("+-e+"px, 0, 0)"}t.scrollUpdateIsQueued=!1}))},t.handleDraggableListDrop=function(e){(0,t.props.onDrag)(e)},t.isDragging=t.createComputedStore(function(){return t.stores.draggableListStore.state.isDragging}),t}return o(t,e),t.prototype.renderComponent=function(){return g.default.isMobile?this.renderMobileResults():this.renderDesktopResults()},t.prototype.renderDesktopResults=function(){var e=this.props,r=e.results,n=e.disabled,o=e.loading,l=e.shouldShowHelpButton,s=e.onScrollOffsetChange,c=0===r.length;return i.createElement(u.Fragment,null,!c&&this.renderTableHeaderRow(),i.createElement(v.default,{style:a({},t.verticalScollerStyle,c&&{marginTop:0}),type:v.OverflowType.Y},i.createElement(v.default,{type:v.OverflowType.X,ref:this.handleTableRowsScrollerMount,style:this.getResultsAreaStyle()},c&&!o?this.renderEmptyState():this.renderRowsMenuList(r),o&&this.renderLoadingIndicator(),s&&i.createElement(I.default,{onChange:s})),!n&&this.renderRowActionButtons(r)),l&&i.createElement(p.default,{topBorder:!0,disableDesktopPadding:!0},i.createElement(O.default,{title:"Learn about relations and rollups",href:M.guides.relations,analyticsFrom:"relation_menu"})))},t.prototype.renderMobileResults=function(){var e=this.props,t=e.results,r=e.loading,n=0===t.length;return i.createElement(u.Fragment,null,n&&!r?this.renderEmptyState():this.renderRowsMenuList(t),r&&this.renderLoadingIndicator())},t.prototype.renderTableHeaderRow=function(){var e=this,r=this.props,n=r.showProperties,o=r.targetCollectionStore.getSchema();return i.createElement("div",{style:this.getTableHeaderRowWrapStyle(),ref:this.handleTableHeaderMount},n.map(function(r){var n=o[r];if(n){var l="title"===r?t.titleColumnWidth:t.columnWidth;return i.createElement(m.default,{key:r,propertySchema:n,showIcon:!0,style:a({width:l,color:e.theme.mediumTextColor},k.default.cellLeftPaddingStyle)})}}))},t.prototype.renderRowsMenuList=function(e){var t=this,r=this.props.canDrag,n=e.map(function(e){return e.key});return i.createElement(d.default,{store:this.stores.menuListStore,initialFocus:0,sections:[{key:"results",render:function(e){return i.createElement(p.default,a({},e,{disableDesktopPadding:!0,children:r?i.createElement(E.default,{direction:E.DraggableListDirection.Vertical,keys:n,renderKey:function(t){return e.children[n.indexOf(t)]},onDrop:t.handleDraggableListDrop,store:t.stores.draggableListStore}):e.children}))},items:e.map(function(e){return e.type===x.RelationResultType.SearchPage||e.type===x.RelationResultType.SelectedPage?t.renderRowMenuItem(e):t.renderCreateRowMenuItem(e)})}]})},t.prototype.renderRowMenuItem=function(e){var t=this,r=this.props,n=r.parentStore,o=r.blockPropertyValueOverlayStore,l=r.showProperties,s=r.targetCollectionStore,u=r.onAccept,c=s.getSchema(),d=f.default.createChildStore(n,e.pageId);return{key:d.id,render:function(r){return i.createElement(y.default,a({},r,{isSelected:e.type===x.RelationResultType.SelectedPage,store:d,showProperties:l,schema:c,blockPropertyValueOverlayStore:o,onClickRemove:function(){return t.props.onClickActionButton(e)}}))},action:function(t){var r=t.event.metaKey||t.event.ctrlKey;u(e,r)}}},t.prototype.renderCreateRowMenuItem=function(e){var r=this,n=this.props,o=n.onAccept,l=n.targetCollectionStore;return{key:"create-row",render:function(n,o){return i.createElement(w.default,a({},n,{icon:b.default.plus({width:16,fill:r.theme.mediumIconColor,marginRight:4,marginLeft:-2}),style:r.getCreateNewRowStyle(),title:i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("span",{style:{color:r.theme.mediumTextColor}},"Create new page"),i.createElement("span",null," ",e.name," "),i.createElement("span",{style:{color:r.theme.mediumTextColor}},"in"),i.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:t.recordTitleMargin}},i.createElement(C.default,{disabled:!0,icon:l.getIcon(),isEmptyPage:!1,size:g.default.isMobile?24:20}),i.createElement(h.default,{store:l,style:{marginLeft:t.recordTitleMargin*(g.default.isRetina?.5:1)}})))}))},action:function(t){var r=t.event.metaKey||t.event.ctrlKey;o(e,r)}}},t.prototype.renderRowActionButtons=function(e){return i.createElement("div",{style:t.rowActionButtonsWrapStyle},!this.isDragging.state&&e.map(this.renderRowActionButton))},t.prototype.renderEmptyState=function(){if(!g.default.isMobile)return i.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:70,fontSize:14,color:this.theme.mediumTextColor}},"Search to find and link pages")},t.prototype.renderLoadingIndicator=function(){return i.createElement("div",{style:{height:"100%",padding:t.rowHeight,display:"flex",alignItems:"center",justifyContent:"center"}},i.createElement(T.default,{style:{margin:"0 auto"}}))},t.prototype.getResultsAreaStyle=function(){return{minHeight:"auto",paddingBottom:16}},t.prototype.getTableHeaderRowWrapStyle=function(){return{position:"absolute",display:"inline-flex",minWidth:"100%",height:t.rowHeight,zIndex:1,background:this.theme.popoverBackground,boxShadow:"\n\t\t\t\t0 1px 0 "+this.theme.regularDividerColor+"\n\t\t\t",paddingLeft:32}},t.prototype.getCreateNewRowStyle=function(){return{fontSize:g.default.isMobile?16:14,minHeight:g.default.isMobile?44:t.rowHeight}},t.stores={menuListStore:_.default,draggableListStore:P.default},t.width=600,t.titleColumnWidth=300,t.columnWidth=150,t.rowHeight=32,t.recordTitleMargin=4,t.verticalScollerStyle={width:"100%",maxHeight:300,position:"relative",marginTop:t.rowHeight},t.rowActionButtonsWrapStyle={position:"absolute",top:0,left:0},t}(c.default);t.default=A},vmq8:function(e,t,r){"use strict";var n,o,a,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s,u,c=r("q1tI"),d=r("LvDl"),p=r("i8i4"),f=r("udrG"),h=r("5w/s"),m=r("XBB3"),y=r("6rsX"),g=r("jmjn"),v=r("wpmu"),b=r("wldR"),w=r("iVjn"),S=r("MBf9"),_=r("VpIZ"),k=r("y6Dp"),C=r("HRSx"),E=r("sjR4"),P=r("3k5a"),x=r("dccM"),T=r("O93j"),O=r("F1uM"),M=r("7M94"),I=r("lBar");!function(e){e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e[e.Corner=2]="Corner"}(s=t.ResizerType||(t.ResizerType={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(u=t.ResizerAlignment||(t.ResizerAlignment={}));var A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRef=function(e){t.domElm=e},t.handleDragStart=function(e){e.preventDefault();var r=p.findDOMNode(t.props.resizeComponent);if(r&&r instanceof Element){var n=0;if(t.domElm){var o=I.getVerticalScrollableAncestor(t.domElm);o&&(n=o.getBoundingClientRect().width)}var a=0,i=t.props.store.recordStoreParent(),s=i&&i.findRecordStoreAncestor(function(e){return e instanceof v.default}).ancestor;if(s){var u=P.default.getRect(s);u&&(a=u.width)}var c,f=t.getPageViewWrapWidth()||0,h=E.default.state.stores.filter(function(e){return t.isResizable(e)});c=d.includes(h,t.props.store)?h:[t.props.store];var m=t.props.store.getFormat(),g=m.block_width,b=m.block_height,w=m.block_full_width,S=m.block_page_width;t.stores.blockResizerStore.setState(l({},t.stores.blockResizerStore.state,{dragging:!0,temporaryHeight:b,temporaryWidth:g,temporaryFullWidth:w,temporaryPageWidth:S})),T.default.setState(l({},T.default.state,{isResizing:!0})),y.clear();var _=r.getBoundingClientRect();t.dragState={resizingBlocks:c,startWidth:_.width,startHeight:_.height,parentWidth:a,pageWidth:f,isRootChild:t.props.store.isRootChild(),startScrollerWidth:n,didDragMove:!1}}},t.handleHorizontalDragMove=function(e){var r=e.diffX;if(t.dragState){t.dragState.didDragMove=!0;var n=t.stores.blockResizerStore.state.temporaryHeight,o=t.getNewWidthStyleValue(r),a=o.width,i=o.isFullWidth,s=o.isPageWidth;if(t.props.preserveScale){var u=i?n||O.defaultFullWidthHeight:n;t.stores.blockResizerStore.setState(l({},t.stores.blockResizerStore.state,{temporaryWidth:a,temporaryFullWidth:i,temporaryPageWidth:s,temporaryHeight:u}))}else t.stores.blockResizerStore.setState(l({},t.stores.blockResizerStore.state,{temporaryWidth:a,temporaryFullWidth:i,temporaryPageWidth:s}))}},t.handleVerticalDragMove=function(e){var r=e.diffY;if(t.dragState){t.dragState.didDragMove=!0;var n=t.getNewHeightStyleValue(r).height;t.stores.blockResizerStore.setState(l({},t.stores.blockResizerStore.state,{temporaryHeight:n}))}},t.handleCornerDragMove=function(e){var r=e.diffX,n=e.diffY;if(t.dragState){t.dragState.didDragMove=!0;var o=t.getNewWidthStyleValue(r),a=o.width,i=o.isFullWidth,s=o.isPageWidth,u=t.getNewHeightStyleValue(n).height;t.stores.blockResizerStore.setState(l({},t.stores.blockResizerStore.state,{temporaryWidth:a,temporaryHeight:u,temporaryFullWidth:i,temporaryPageWidth:s}))}},t.handleDragMove=function(e){return t.props.resizerType===s.Horizontal?t.handleHorizontalDragMove(e):t.props.resizerType===s.Vertical?t.handleVerticalDragMove(e):t.props.resizerType===s.Corner?t.handleCornerDragMove(e):void 0},t.handleDragEnd=function(e){if(t.dragState){var r=t.stores.blockResizerStore.state;if(t.dragState.didDragMove&&r.dragging){var n=t.stores.blockResizerStore.state,o=n.temporaryPageWidth,a=n.temporaryFullWidth,i=n.temporaryWidth,l=n.temporaryHeight;S.createAndCommit(function(e){t.dragState&&h.updateFormat({stores:t.dragState.resizingBlocks,update:{block_height:l,block_width:i,block_full_width:a,block_page_width:o},transaction:e})});var s=t.props.store.getType();s&&k.trackEmbedBlockResize({block_type:s,block_height:l,block_width:i,block_full_width:a,block_page_width:o})}t.endDrag()}},t.handleDragCancel=function(e){return t.endDrag()},t}return i(t,e),t.prototype.renderComponent=function(){var e=this;return c.createElement(w.default,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,render:function(r){return c.createElement("div",l({ref:e.handleRef,style:t.style,className:M.blockResizer},r),e.props.children)}})},t.prototype.isResizable=function(e){var t=e&&e.getType();return t&&C.mediaTypes[t]},t.prototype.isCenterAligned=function(){var e=this.props.store.getValue();return this.props.store.isRootChild()&&e&&_.isRootChildCenterAlignBlockType(e)},t.prototype.endDrag=function(){this.stores.blockResizerStore.setState(l({},this.stores.blockResizerStore.state,{dragging:!1,temporaryPageWidth:void 0,temporaryFullWidth:void 0,temporaryWidth:void 0,temporaryHeight:void 0})),y.clear(),T.default.setState(l({},T.default.state,{isResizing:!1})),this.dragState=void 0},t.prototype.getNewHeightStyleValue=function(e){var t=this.getNewPixelHeight(e);return{height:Math.min(t,O.maxFullWidthHeight)}},t.prototype.getNewPixelHeight=function(e){if(this.dragState){if(this.props.resizeVertically){var r=this.props.store.getType(),n=r&&t.minHeightMap[r]||t.defaultMinHeight;return Math.max(this.dragState.startHeight+e,n)}return this.dragState.startHeight}return 0},t.prototype.getNewWidthStyleValue=function(e){var t=this.getNewPixelWidth(e),r=this.getRound(t),n=Math.round(t/r)*r,o=this.isPageWidth(t,r);return{width:n,isFullWidth:this.isFullWidth(t,r),isPageWidth:o}},t.prototype.isPageWidth=function(e,t){return!!this.dragState&&(this.dragState.isRootChild?this.dragState.pageWidth<e+t&&this.dragState.pageWidth>e-t:this.dragState.parentWidth<e+t)},t.prototype.isFullWidth=function(e,t){if(this.dragState&&this.dragState.isRootChild){var r=this.dragState.startScrollerWidth,n=this.props.store.getValue();return n&&!_.canOverflowEdgeType(n)&&(r-=2*m.default.defaultPaddingLeftRight),r<e+t}return!1},t.prototype.getNewPixelWidth=function(e){if(!this.dragState)throw new Error("No start rect.");this.isCenterAligned()&&(e*=2);var r=this.dragState.startWidth;this.props.resizeHorizontally&&(this.props.resizerAlignment===u.Left?r-=e:this.props.resizerAlignment===u.Right&&(r+=e));var n=this.props.store.getType(),o=n&&t.minWidthMap[n]||t.defaultMinWidth;return o&&r<o&&(r=o),r},t.prototype.getRound=function(e){return e<144?12:48},t.prototype.getPageViewWrapWidth=function(){var e=this.props.store.getRoot(),t=x.default.findComponent(function(t){return t.props.store===e});if(t)return t.getContentInnerWidth()},t.defaultMinWidth=96,t.minWidthMap=((o={})[f.default.image]=36,o[f.default.video]=96,o[f.default.embed]=246,o[f.default.maps]=96,o[f.default.framer]=96,o[f.default.tweet]=250,o[f.default.gist]=96,o[f.default.audio]=96,o[f.default.drive]=300,o[f.default.invision]=96,o[f.default.pdf]=96,o),t.defaultMinHeight=96,t.minHeightMap=((a={})[f.default.image]=36,a[f.default.audio]=24,a[f.default.video]=96,a[f.default.embed]=96,a[f.default.drive]=96,a[f.default.tweet]=96,a[f.default.framer]=96,a[f.default.maps]=96,a[f.default.gist]=96,a[f.default.invision]=96,a[f.default.pdf]=96,a),t.stores={blockResizerStore:g.default},t.style={display:"block",height:"100%"},t}(b.default);t.default=A},"vo/r":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("q1tI"),s=r("17x9"),u=r("i8i4"),c=r("LvDl"),d=r("q1tI"),p=r("8fuX"),f=r("tzV5"),h=r("N34Z"),m=r("r8oj"),y=r("zok3"),g=r("n8tN"),v=r("/IOv"),b=r("OeJx"),w=r("NOLh"),S=r("wLfb"),_=r("kCTz"),k=r("97Dj"),C=r("KvU1"),E=r("MBf9"),P=r("bFnu"),x=r("XBB3"),T=r("WM0W"),O=r("g4rC"),M=r("fJHT"),I=r("Oy36"),A=r("H4VD"),D=r("XDBA"),L=r("RvCr"),R=r("6rsX"),B=r("yRPC"),j=r("wlCD"),V=r("i3uR"),F=r("ttM1"),N=r("Sb6f"),U=r("bjn0"),W=r("nFzZ"),z=r("lBar"),H=r("v/t1"),q=r("mvTP"),G=r("EZe4"),Z=r("FmD2"),Y=r("y6Dp"),K=r("unoy"),J=r("LeVO"),Q=r("wpmu"),X=r("dQiq"),$=r("IdSf"),ee=r("/YYm"),te=r("mF3+"),re=r("XH/p"),ne=r("1QGs"),oe=r("X6Ne"),ae=r("nM47"),ie=r("TmDR"),le=r("QcDD"),se=r("Or6X"),ue=r("4ZmC"),ce=r("qHvo"),de=r("nZ1u"),pe=r("UcZb"),fe=r("0zNc"),he=r("w5u6"),me=r("+UXM"),ye=r("wS9/"),ge=r("fbat"),ve=r("PuL6"),be=r("EmAo"),we=r("szb2"),Se=r("JuT7"),_e=r("vTDQ"),ke=r("HTHG"),Ce=r("d9nj"),Ee=r("uSCg"),Pe=r("bB9B"),xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.collectionDidEmit=!1,t.queuedLocalUpdate=!1,t.handleCollectionViewSelectChange=function(e){var r=t.props.store,n=E.create();if(W.isNotDefined(e.viewIds)||h.updateValue({store:r,data:{view_ids:e.viewIds},transaction:n}),e.updateViewId&&e.updateView){var o=y.default.createChildStore(r,e.updateViewId);o&&f.updateCollectionView({collectionViewStore:o,collectionViewLocalStore:t.stores.collectionViewLocalStore,update:e.updateView,transaction:n})}if(W.isNotDefined(e.currentViewId)||e.currentViewId===t.getCurrentViewId()||t.setCurrentView(e.currentViewId),e.newSchema){var i=t.getCollectionStore();i&&f.updateCollection({collectionStore:i,update:{schema:e.newSchema},transaction:n})}e.newView&&(f.createCollectionView({collectionViewBlockStore:t.props.store,collectionView:e.newView,transaction:n}),t.setCurrentView(e.newView.id),t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{viewSelectMenuOpen:!1}))),E.commit({transaction:n})},t.handleCollectionCreateViewMenuAccept=function(e){var r=E.create();if(e.newSchema){var n=t.getCollectionStore();n&&f.updateCollection({collectionStore:n,update:{schema:e.newSchema},transaction:r})}e.newView&&(f.createCollectionView({collectionViewBlockStore:t.props.store,collectionView:e.newView,transaction:r}),t.setCurrentView(e.newView.id),t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{viewSelectMenuOpen:!1}))),t.stores.createViewButtonPopupStore.setState(a({},t.stores.createViewButtonPopupStore.state,{open:!1})),E.commit({transaction:r})},t.handleCollectionMobileSearchChange=function(e){f.updateSearchQuery({searchQuery:e.searchQuery,collectionViewLocalStore:t.stores.collectionViewLocalStore})},t.handleCollectionViewActionBarChange=function(e){var r=E.create();if(e.newView&&(f.createCollectionView({collectionViewBlockStore:t.props.store,collectionView:e.newView,transaction:r}),t.setCurrentView(e.newView.id),t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{viewSelectMenuOpen:!1}))),W.isNotDefined(e.searchQuery)||f.updateSearchQuery({searchQuery:e.searchQuery,collectionViewLocalStore:t.stores.collectionViewLocalStore}),e.updateViewId&&e.updateView){var n=t.getViewStores().find(function(t){return t.id===e.updateViewId});n&&f.updateCollectionView({collectionViewStore:n,collectionViewLocalStore:t.stores.collectionViewLocalStore,update:e.updateView,transaction:r})}if(!W.isNotDefined(e.viewIds)){var o=t.props.store;h.updateValue({store:o,data:{view_ids:e.viewIds},transaction:r})}if(W.isNotDefined(e.currentViewId)||t.setCurrentView(e.currentViewId),e.newSchema){var i=t.getCollectionStore();i&&f.updateCollection({collectionStore:i,update:{schema:e.newSchema},transaction:r})}e.otherCollectionId&&e.otherCollectionSchema&&f.updateCollection({collectionStore:U.default.createChildStore(t.props.store,e.otherCollectionId),update:{schema:e.otherCollectionSchema},transaction:r}),E.commit({transaction:r})},t.handleCollectionViewActionBarAddItem=function(){ae.validateCanCreate()&&t.createItem(!0)},t.handleViewSelectMenuOpen=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{viewSelectMenuOpen:!0}))},t.handleEditViewMenuClose=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{viewSelectMenuOpen:!1}))},t.handleCollectionNameBlur=function(){R.clear()},t.handleOpenPropertiesMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{propertiesMenuOpen:!0}))},t.handleClosePropertiesMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{propertiesMenuOpen:!1}))},t.handleOpenAddItemMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{addItemMenuOpen:!0}))},t.handleCloseAddItemMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{addItemMenuOpen:!1}))},t.handleOpenFilterMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{filterMenuOpen:!0}))},t.handleCloseFilterMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{filterMenuOpen:!1}))},t.handleOpenSortMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{sortMenuOpen:!0}))},t.handleCloseSortMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{sortMenuOpen:!1}))},t.handleOpenGroupMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{groupMenuOpen:!0}))},t.handleCloseGroupMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{groupMenuOpen:!1}))},t.handleOpenCalendarByMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{calendarByMenuOpen:!0}))},t.handleCloseCalendarByMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{calendarByMenuOpen:!1}))},t.handleOpenSearch=function(){R.clear(),K.clear(),t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{searchOpen:!0}))},t.handleCloseSearch=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{searchOpen:!1})),f.updateSearchQuery({searchQuery:"",collectionViewLocalStore:t.stores.collectionViewLocalStore})},t.handleCollectionEmit=function(e){var r=t.stores.collectionViewLocalStore;t.collectionDidEmit&&f.fetchRemoteResults({collectionViewLocalStore:r}),t.collectionDidEmit=!0},t.handleCollectionEmitThrottled=c.throttle(t.handleCollectionEmit,2e3),t.handleRecordIconChange=function(e){var r=t.getCollectionStore(),n=r&&r.getIconStore();n&&E.createAndCommit(function(t){h.setValue({store:n,value:e,transaction:t})})},t.handleScrollerMount=function(e){e&&(t.node=u.findDOMNode(e))},t.handleScroll=function(){var e=t.stores.collectionViewLocalStore.state.collectionViewStore;if(e){var r=e.getValue();if(r&&t.scrollableAncestor&&t.node){var n=t.scrollableAncestor.getBoundingClientRect(),o=t.node.getBoundingClientRect(),i=n.height,l=Math.floor(n.top-o.top),s=Math.floor(n.top+i-o.top),u=Math.floor(o.height)+(t.isFullScreen()?le.default.scrollbarWidth:0)-t.getPaddingBottom(r);t.node.scrollHeight!==u&&!t.isFullScreen()&&(u-=le.default.scrollbarWidth);var c=t.getHeaderPosition(l,u),d=t.getAggregationsPosition(s,u),p=t.getScrollOffsetTop(l,u),f=t.getScrollOffsetBottom(s,u);t.stores.collectionViewScrollStore.setState(a({},t.stores.collectionViewScrollStore.state,{topPosition:c,bottomPosition:d,offsetTop:p,offsetBottom:f}))}}},t.handleResizeThrottled=c.throttle(t.handleScroll,100),t.handleLocalUpdate=function(){t.queuedLocalUpdate||(t.queuedLocalUpdate=!0,he.default.afterNextFlush(function(){t.handleScroll(),t.queuedLocalUpdate=!1}))},t.handleEditorMouseDown=function(e){m.default.isMobile||G.default({event:e,context:G.EventContext.EditorMouseDown,callback:function(){e.preventDefault(),Z.startRectangularSelection({target:e.target,startX:e.clientX,startY:e.clientY,showSelectionRect:!0,preventSelectStores:[]})}})},t.handleEditorClick=function(e){G.default({event:e,context:G.EventContext.EditorClick,callback:function(){}})},t.handleOpenCalendarNoDateMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{calendarNoDateMenuOpen:!0}))},t.handleCloseCalendarNoDateMenu=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{calendarNoDateMenuOpen:!1}))},t.handleCalendarAddBlock=function(e){var r=t.stores.collectionViewLocalStore,n=t.getCollectionStore();n&&E.createAndCommit(function(t){var o=ne.addBlockToView({store:e,collectionStore:n,collectionViewLocalStore:r,startDayOfWeek:ke.userSettingsStartOfWeekStore.state,transaction:t});o&&R.setSelection({stores:[o]})})},t.handleTemplateClick=function(e){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{addItemMenuOpen:!1}));var r=t.createItem(!1);Pe.initializeCollectionTemplate({store:r,templateStore:e.templateStore,isKeyboard:e.isKeyboard})},t.handleTemplateEmptyPageClick=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{addItemMenuOpen:!1})),t.handleCollectionViewActionBarAddItem()},t.handleTemplateCancelClick=function(){t.stores.collectionViewLocalStore.setState(a({},t.stores.collectionViewLocalStore.state,{addItemMenuOpen:!1}))},t.handleMouseMove=function(e){ce.default.state.isDragging||fe.default.state.isDragging||de.default.state.isActive||t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!0}))},t.handleMouseLeave=function(e){t.stores.mouseStore.setState(a({},t.stores.mouseStore.state,{mouseEntered:!1}))},t.handleHeaderMouseMove=function(e){ce.default.state.isDragging||fe.default.state.isDragging||de.default.state.isActive||t.stores.headerMouseStore.setState(a({},t.stores.headerMouseStore.state,{mouseEntered:!0}))},t.handleHeaderMouseLeave=function(e){t.stores.headerMouseStore.setState(a({},t.stores.headerMouseStore.state,{mouseEntered:!1}))},t.handleStartOfWeekChange=function(e){var r=t.props.store,n=t.stores.collectionViewLocalStore,o=n.state,a=o.collectionViewStore,i=o.collectionStore;a&&i&&f.reset({collectionViewBlockStore:r,collectionViewStore:a,collectionStore:i,collectionViewLocalStore:n,emitRender:t.handleLocalUpdate,isFullScreen:t.isFullScreen()})},t}return o(t,e),t.prototype.editView=function(){this.stores.collectionViewLocalStore.setState(a({},this.stores.collectionViewLocalStore.state,{viewSelectMenuOpen:!0}))},t.prototype.openFilterMenu=function(){this.stores.collectionViewLocalStore.setState(a({},this.stores.collectionViewLocalStore.state,{filterMenuOpen:!0}))},t.prototype.openSortMenu=function(){this.stores.collectionViewLocalStore.setState(a({},this.stores.collectionViewLocalStore.state,{sortMenuOpen:!0}))},t.prototype.openGroupMenu=function(){this.stores.collectionViewLocalStore.setState(a({},this.stores.collectionViewLocalStore.state,{groupMenuOpen:!0}))},t.prototype.openPropertiesMenu=function(){this.stores.collectionViewLocalStore.setState(a({},this.stores.collectionViewLocalStore.state,{propertiesMenuOpen:!0}))},t.prototype.openCalendarByMenu=function(){this.stores.collectionViewLocalStore.setState(a({},this.stores.collectionViewLocalStore.state,{calendarByMenuOpen:!0}))},t.prototype.openCalendarNoDateMenu=function(){this.stores.collectionViewLocalStore.setState(a({},this.stores.collectionViewLocalStore.state,{calendarNoDateMenuOpen:!0}))},t.prototype.openAddItemMenu=function(){this.stores.collectionViewLocalStore.setState(a({},this.stores.collectionViewLocalStore.state,{addItemMenuOpen:!0}))},t.prototype.insertBlocks=function(e,t){var r,n,o=this.getCollectionStore();if(o)try{for(var a=i(e),l=a.next();!l.done;l=a.next()){var s=l.value;L.addBlockToGroup({store:s,collectionStore:o,collectionViewLocalStore:this.stores.collectionViewLocalStore,coerce:!0,transaction:t})}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return[]},t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t);var r,n=t.store,o=n.id,a=this.stores.collectionViewLocalStore,i=a.state.collectionViewStore,l=i?i.id:void 0,s=this.getViewStores().map(function(e){return e.id}),u=this.getDefaultCollectionViewStore(),c=me.default.get(_e.default.getLocalViewPreferenceKey(o));if(t.viewId&&s.indexOf(t.viewId)>=0?r=t.viewId:i&&s.indexOf(i.id)>=0?r=i.id:c&&s.indexOf(c)>=0?r=c:u&&s.indexOf(u.id)>=0&&(r=u.id),r&&(r!==c&&me.default.set(_e.default.getLocalViewPreferenceKey(o),r),r!==l)){var d=y.default.createChildStore(n,r),p=n.getCollectionViewCollectionStore();p&&f.reset({collectionViewBlockStore:n,collectionViewStore:d,collectionStore:p,collectionViewLocalStore:a,emitRender:this.handleLocalUpdate,isFullScreen:this.isFullScreen()})}var h=a.state.collectionStore;h&&h.getTemplatePagesStores().map(function(e){return e.getValue()})},t.prototype.didMount=function(){e.prototype.didMount.call(this);var t=this.getCollectionStore();if(ke.userSettingsStartOfWeekStore.addListener(this.handleStartOfWeekChange),t){var r="collection/"+t.id;this.collectionListenerReference=Se.default.addListener(r,this.handleCollectionEmitThrottled,void 0)}var n=this.node;if(n&&n.parentElement&&z.browserSupportsPositionSticky()){this.node=n;var o=z.getVerticalScrollableAncestor(n.parentElement);o&&(this.scrollableAncestor=o,H.addPassiveEventListener(o,"scroll",this.handleScroll),H.addPassiveEventListener(window,"resize",this.handleResizeThrottled))}},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),ke.userSettingsStartOfWeekStore.removeListener(this.handleStartOfWeekChange);var t=this.stores.collectionViewLocalStore;f.destroy({collectionViewLocalStore:t}),this.collectionListenerReference&&(Se.default.removeListener(this.collectionListenerReference),this.collectionListenerReference=void 0),this.scrollableAncestor&&(H.removePassiveEventListener(this.scrollableAncestor,"scroll",this.handleScroll),H.removePassiveEventListener(window,"resize",this.handleResizeThrottled))},t.prototype.getOverrideLinkClick=function(){return this.context.overrideLinkClick},t.prototype.renderPersisted=function(){var e=this.stores.collectionViewLocalStore,t=this.getCurrentCollectionViewStore(),r=this.getCollectionStore(),n=e.getNormalizedSchema(),o=e.getNormalizedQuery(),i=e.getNormalizedFormat();if(t&&r&&r.getValue()&&n&&o&&i){var s=t.getValue(),u=r.getValue();if(s&&u)return l.createElement(d.Fragment,null,this.renderHeader(r,u,t,s,n,o,i),l.createElement(p.default,{type:this.useSeparateHorizontalScroller()?p.default.OverflowType.X:p.default.OverflowType.None,ref:this.handleScrollerMount,onMouseDown:this.handleEditorMouseDown,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,disableScroll:oe.shouldDisableScroll(),onClick:this.handleEditorClick,style:a({flexGrow:1,flexShrink:0,zIndex:1},this.props.store.isLocked()&&{cursor:"default"})},this.renderView(r,t,s,n,o,i)))}},t.prototype.renderHeader=function(e,r,n,o,a,i,s){var u=this.props.store,c=this.stores,d=c.hoverMenuButtonPopupStore,p=c.collectionViewLocalStore,f=c.headerMouseStore,h=c.createViewButtonPopupStore,y=this.isFullScreen(),g=p.state,v=g.viewSelectMenuOpen,_=g.searchQuery,k=this.getViewValues(),C=ge.default.state,E=y||this.isRootChild()?f.state.mouseEntered||d.state.open:C.currentStore===u;return l.createElement("div",{style:this.getHeaderWrapStyle(),onMouseDown:this.handleEditorMouseDown,onMouseMove:this.handleHeaderMouseMove,onMouseLeave:this.handleHeaderMouseLeave},l.createElement("div",{style:t.collectionHeaderHoverMenuWrapStyle},!y&&!m.default.isMobile&&this.canEdit()&&l.createElement(w.default,{isVisible:E,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},render:function(){return l.createElement("div",{style:{position:"absolute",zIndex:1}},l.createElement(B.default,{store:u,buttonPopupStore:d,offsetTop:8}),l.createElement(X.default,{store:u,offsetTop:8}))}}),m.default.isMobile?l.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:8}},!y&&this.renderCollectionName(e,r),l.createElement("div",{style:{display:"flex",marginTop:8,marginBottom:8}},k.length>1&&l.createElement(S.default,{schema:a,query:i,disabled:!this.canEdit()||this.props.store.isLocked(),currentViewValue:o,currentFormat:s,collectionViewBlockStore:u,viewSelectMenuOpen:v,onViewSelectMenuOpen:this.handleViewSelectMenuOpen,onEditViewMenuClose:this.handleEditViewMenuClose,views:k,onChange:this.handleCollectionViewSelectChange,createViewButtonPopupStore:h}),h.state.open&&1===k.length||k.length<=1&&this.canEdit()&&!this.props.store.isLocked()?this.renderAddViewButton(o,a,s):void 0,this.renderActionBar(e,r,o,i,s))):l.createElement("div",{style:t.collectionHeaderStyle},!y&&this.renderCollectionName(e,r),k.length>1&&l.createElement(S.default,{schema:a,query:i,disabled:!this.canEdit()||this.props.store.isLocked(),currentViewValue:o,currentFormat:s,collectionViewBlockStore:u,viewSelectMenuOpen:v,onViewSelectMenuOpen:this.handleViewSelectMenuOpen,onEditViewMenuClose:this.handleEditViewMenuClose,views:k,onChange:this.handleCollectionViewSelectChange,createViewButtonPopupStore:h}),h.state.open&&1===k.length||k.length<=1&&(!m.default.isMobile||y)&&this.canEdit()&&!this.props.store.isLocked()?this.renderAddViewButton(o,a,s):void 0,this.renderActionBar(e,r,o,i,s))),m.default.isMobile&&l.createElement(b.default,{searchQuery:_,onChange:this.handleCollectionMobileSearchChange}))},t.prototype.renderCollectionName=function(e,r){var n=this,o=this.props.disabled,i=e.getNameStore(),s=this.getOriginalCollectionViewBlockStore();if(s&&s.id!==this.props.store.id){var u=ee.default({store:s,fullyQualified:!1});return l.createElement(J.default,{renderTooltip:function(){return"Click to navigate to the original database."},render:function(o){return l.createElement($.default,a({style:n.getCollectionNameWrapStyle(),innerStyle:{display:"flex",alignItems:"center",height:28,paddingLeft:6,paddingRight:8,borderRadius:3},href:u},o),l.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:6}},te.default.alias({width:14,height:14})),r.icon&&l.createElement(I.default,{disabled:!0,icon:e.getIcon(),isEmptyPage:!1,title:void 0,style:t.collectionIconStyle,size:24}),l.createElement(M.default,{store:i,style:n.getLinkedCollectionNameStyle(),disabled:!0,disableSlashCommands:!0,placeholder:"Untitled",onEnter:n.handleCollectionNameBlur,onEsc:n.handleCollectionNameBlur,disableShiftEnter:!0}),n.renderLockIndicator())}})}var c=void 0;return r.icon&&(c=o?l.createElement(I.default,{disabled:!0,icon:e.getIcon(),isEmptyPage:!1,style:t.collectionIconStyle,size:24}):l.createElement(I.default,{disabled:!1,bucket:"secure",icon:e.getIcon(),isEmptyPage:!1,style:t.collectionIconStyle,size:24,onChange:this.handleRecordIconChange})),l.createElement("div",{style:a({},this.getCollectionNameWrapStyle(),{padding:r.icon?"4px 3px":"4px 2px",marginRight:4})},c,l.createElement(M.default,{store:i,style:this.getCollectionNameStyle(),disabled:o,disableSlashCommands:!0,placeholder:"Untitled",onEnter:this.handleCollectionNameBlur,onEsc:this.handleCollectionNameBlur,disableShiftEnter:!0}),this.renderLockIndicator())},t.prototype.renderActionBar=function(e,t,r,n,o){var a=this,i=this.props.store,s=this.stores,u=s.collectionViewLocalStore,c=s.mouseStore,d=s.headerMouseStore,p=u.state,f=p.searchQuery,h=p.viewSelectMenuOpen,y=p.filterMenuOpen,g=p.sortMenuOpen,v=p.groupMenuOpen,b=p.propertiesMenuOpen,S=p.searchOpen,k=p.calendarByMenuOpen,C=p.calendarNoDateMenuOpen,E=p.addItemMenuOpen,P=p.remoteResult,x=this.getViewValues(),T=r.type,O=this.isFullScreen(),M=c.state.mouseEntered||d.state.mouseEntered||b||y||g||v||S||O||m.default.isMobile||E;return l.createElement(w.default,{isVisible:!0,animationStyle:{opacity:M?1:0},render:function(){return l.createElement(_.default,{disabled:!a.canEdit(),locked:a.props.store.isLocked(),collectionStore:e,collectionValue:t,currentViewId:r.id,currentViewType:T,currentViewFormat:o,currentViewQuery:n,views:x,searchQuery:f,collectionViewBlockStore:i,viewSelectMenuOpen:h,filterMenuOpen:y,sortMenuOpen:g,groupMenuOpen:v,propertiesMenuOpen:b,isFullScreen:O,searchOpen:S,calendarByMenuOpen:k,calendarNoDateMenuOpen:C,calendarNodeDateTotal:P&&"calendar"===P.type?P.noDateTotal:void 0,addItemMenuOpen:E,onChange:a.handleCollectionViewActionBarChange,onAddItem:a.handleCollectionViewActionBarAddItem,onOpenAddItemMenu:a.handleOpenAddItemMenu,onCloseAddItemMenu:a.handleCloseAddItemMenu,onOpenPropertiesMenu:a.handleOpenPropertiesMenu,onClosePropertiesMenu:a.handleClosePropertiesMenu,onOpenFilterMenu:a.handleOpenFilterMenu,onCloseFilterMenu:a.handleCloseFilterMenu,onOpenSortMenu:a.handleOpenSortMenu,onCloseSortMenu:a.handleCloseSortMenu,onOpenGroupMenu:a.handleOpenGroupMenu,onCloseGroupMenu:a.handleCloseGroupMenu,onOpenCalendarByMenu:a.handleOpenCalendarByMenu,onCloseCalendarByMenu:a.handleCloseCalendarByMenu,onOpenCalendarNoDateMenu:a.handleOpenCalendarNoDateMenu,onCloseCalendarNoDateMenu:a.handleCloseCalendarNoDateMenu,onOpenSearch:a.handleOpenSearch,onCloseSearch:a.handleCloseSearch,onCalendarAddBlock:a.handleCalendarAddBlock,blockPropertyValueOverlayStore:a.getBlockPropertyValueOverlayStore(),onTemplateClick:a.handleTemplateClick,onTemplateEmptyPageClick:a.handleTemplateEmptyPageClick,onTemplateCancelClick:a.handleTemplateCancelClick,overrideLinkClick:a.getOverrideLinkClick()})}})},t.prototype.renderLockIndicator=function(){if(!this.isFullScreen()&&!m.default.isMobile&&this.props.store.canEdit())return l.createElement(ie.default,{store:this.props.store,isMobile:m.default.isMobile,isInlineCollection:!0,disableTooltip:!0})},t.prototype.renderAddViewButton=function(e,t,r){var n=this,o=this.props,i=o.store,s=o.isFullScreen,u=o.disabled,c=this.stores,d=c.mouseStore,p=c.headerMouseStore,f=c.createViewButtonPopupStore,h=this.stores.createViewButtonPopupStore.state.open,y=Boolean(d.state.mouseEntered||p.state.mouseEntered||h||s);return l.createElement(w.default,{isVisible:!0,animationStyle:{opacity:y?1:0},render:function(){return l.createElement(V.default,{popupType:m.default.isMobile?V.default.PopupType.SlideUp:V.default.PopupType.Popup,buttonPopupStore:f,renderOrigin:function(e){return l.createElement(J.default,{renderTooltip:function(){return"A View lets you see the same Database in multiple ways"},render:function(t){return l.createElement(Ce.default,a({icon:te.default.plus,isSmall:!0,isGray:!0},Ee.default(e,t)),"Add a View")}})},render:function(){return l.createElement(k.default,{schema:t,disabled:u,collectionViewBlockStore:i,currentViewValue:e,currentFormat:r,onAccept:n.handleCollectionCreateViewMenuAccept,onCancel:function(){return f.reset()}})}})}})},t.prototype.renderView=function(e,t,r,n,o,i){var s=this.props,u=s.store,c=s.disabled,d=this.stores,p=d.collectionViewLocalStore,f=d.mouseStore,h=d.collectionViewScrollStore;if(!p.state.isReady)return this.renderLoadingSpinner();var m=this.isFullScreen(),y=r.type,g=f.state.mouseEntered,b=this.isInPeekRenderer(),w=this.getBlockPropertyValueOverlayStore();return"table"===y?l.createElement(C.default,a({key:t.id,schema:n,format:i,query:o,store:u,collectionStore:e,collectionViewStore:t,collectionViewLocalStore:p,isFullScreen:m,isInPeekRenderer:b,mouseEntered:g},this.getLeftRightPadding(),{minWidth:this.getMinWidth(),paddingBottom:this.getPaddingBottom(r),collectionViewScrollStore:h,disabled:c,blockPropertyValueOverlayStore:w})):"board"===y?l.createElement(v.default,a({key:t.id,schema:n,format:i,query:o,store:u,collectionStore:e,collectionViewStore:t,collectionViewLocalStore:p,isFullScreen:m,isInPeekRenderer:b},this.getLeftRightPadding(),{paddingBottom:this.getPaddingBottom(r),collectionViewScrollStore:h,disabled:c,blockPropertyValueOverlayStore:w})):"calendar"===y?l.createElement(re.default,a({key:t.id,schema:n,format:i,query:o,store:u,collectionStore:e,collectionViewStore:t,collectionViewLocalStore:p,isFullScreen:m,isInPeekRenderer:b},this.getLeftRightPadding(),{paddingBottom:this.getPaddingBottom(r),collectionViewScrollStore:h,disabled:c,blockPropertyValueOverlayStore:w})):"list"===y?l.createElement(se.default,a({key:t.id,schema:n,format:i,query:o,store:u,collectionStore:e,collectionViewStore:t,collectionViewLocalStore:p,isFullScreen:m,isInPeekRenderer:b,mouseEntered:g},this.getLeftRightPadding(),{paddingBottom:this.getPaddingBottom(r),collectionViewScrollStore:h,disabled:c,blockPropertyValueOverlayStore:w})):"gallery"===y?l.createElement(ue.default,a({key:t.id,schema:n,format:i,query:o,store:u,collectionStore:e,collectionViewStore:t,collectionViewLocalStore:p,isFullScreen:m,isInPeekRenderer:b,mouseEntered:g},this.getLeftRightPadding(),{paddingBottom:this.getPaddingBottom(r),collectionViewScrollStore:h,disabled:c,blockPropertyValueOverlayStore:w})):void 0},t.prototype.renderLoadingSpinner=function(){var e=this.stores.collectionViewLocalStore.state.isLoading;return l.createElement(F.default,{key:"loading-spinner",show:e,showDelay:500,showHold:200,render:function(e){return e?l.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},l.createElement(j.default,{style:{margin:8,width:18,height:18}})):void 0}})},t.prototype.getOriginalCollectionViewBlockStore=function(){var e=this.getCollectionStore();if(e){var t=e.getValue();if(t)return Q.default.createChildStore(this.props.store,t.parent_id)}},t.prototype.getViewStores=function(){var e=this.props.store,t=e.getValue();return t?(t.view_ids||[]).map(function(t){return y.default.createChildStore(e,t)}):[]},t.prototype.getViewValues=function(){var e=this.getViewStores().map(function(e){return e.getValue()});return W.compact(e)},t.prototype.getCurrentCollectionViewStore=function(){return this.stores.collectionViewLocalStore.state.collectionViewStore},t.prototype.getCurrentViewId=function(){var e=this.getCurrentCollectionViewStore();return e?e.id:void 0},t.prototype.getDefaultCollectionViewStore=function(){var e=this.getViewStores();if(e[0]&&e[0].getValue())return e[0]},t.prototype.getCollectionStore=function(){return this.stores.collectionViewLocalStore.state.collectionStore},t.prototype.getLeftRightPadding=function(){var e=le.default.state.currentBlockStore,r=this.isInPeekRenderer(),n=this.isInHistoryModal(),o=!!e&&e.isFullWidth(),a=m.default.isMobile,i=this.isFullScreen(),l=this.isInColumn(),s=ye.default.state.width-(ke.sidebarIsExpanded()?pe.default.state.width:0)<900;if(l&&!m.default.isMobile)return{paddingLeft:t.nestedInlineLeftRightPadding,paddingRight:t.nestedInlineLeftRightPadding};if(a)return{paddingLeft:ye.default.calcPaddingLeft(x.default.defaultPaddingLeftRight),paddingRight:ye.default.calcPaddingRight(x.default.defaultPaddingLeftRight)};if(n)return{paddingLeft:x.default.defaultPaddingLeftRight,paddingRight:x.default.defaultPaddingLeftRight};if(r)return{paddingLeft:T.default.paddingLeftRight,paddingRight:T.default.paddingLeftRight};if(i)return{paddingLeft:x.default.fullScreenCollectionPaddingLeftRight,paddingRight:x.default.fullScreenCollectionPaddingLeftRight};if(o||s)return{paddingLeft:x.default.defaultPaddingLeftRight,paddingRight:x.default.defaultPaddingLeftRight};var u="calc((100% - "+(x.default.defaultWidth-2*x.default.defaultPaddingLeftRight)+"px) / 2)";return{paddingLeft:u,paddingRight:u}},t.prototype.getMinWidth=function(){var e=le.default.state.currentBlockStore,r=this.isInPeekRenderer(),n=!!e&&e.isFullWidth(),o=m.default.isMobile,a=this.isFullScreen();return a||this.isRootChild()?o?"calc((100% - "+2*x.default.defaultPaddingLeftRight+"px":r?"calc((100% - "+2*T.default.paddingLeftRight+"px":a?"calc((100% - "+2*x.default.fullScreenCollectionPaddingLeftRight+"px":n?"calc((100% - "+2*x.default.defaultPaddingLeftRight+"px":x.default.defaultWidth-2*x.default.defaultPaddingLeftRight:"calc(100% - "+2*t.nestedInlineLeftRightPadding+"px)"},t.prototype.isInPeekRenderer=function(){var e=we.default.state;return Boolean(e.open&&this.props.store.findRecordStoreAncestor(function(t){return t===e.target}).ancestor)},t.prototype.isInHistoryModal=function(){return Boolean(this.props.store.recordCacheStore.snapshotData)},t.prototype.getBlockPropertyValueOverlayStore=function(){return this.isInPeekRenderer()?ve.default:be.default},t.prototype.isInColumn=function(){return!this.isFullScreen()&&!this.isRootChild()},t.prototype.setCurrentView=function(e){var t=this.props.store;if(this.isCurrentBlock())A.navigateToBlock({store:t,collectionViewId:e});else{var r=this.stores.collectionViewLocalStore,n=new y.default(e,t.recordCacheStore),o=n.getCollectionStore();o&&f.reset({collectionViewBlockStore:t,collectionViewStore:n,collectionStore:o,collectionViewLocalStore:r,emitRender:this.handleLocalUpdate,isFullScreen:this.isFullScreen()}),me.default.set(_e.default.getLocalViewPreferenceKey(t.id),e)}},t.prototype.getHeaderPosition=function(e,t){var r=this.getStickyHeaderHeight();return e<0||e>t?q.HeaderPosition.Regular:e>=t-r?q.HeaderPosition.Sticky:q.HeaderPosition.Fixed},t.prototype.getAggregationsPosition=function(e,t){var r=this.getStickyHeaderHeight();return e-r+C.default.aggregationRowHeight<0||e>t?q.HeaderPosition.Regular:e<=r?q.HeaderPosition.Sticky:q.HeaderPosition.Fixed},t.prototype.getStickyHeaderHeight=function(){return C.default.tableHeaderRowHeight+C.default.aggregationRowHeight},t.prototype.getScrollOffsetTop=function(e,t){var r=this.getStickyHeaderHeight();return e<0||e>t?0:e>=t-r?t-r:e},t.prototype.getScrollOffsetBottom=function(e,t){var r=this.getStickyHeaderHeight();return e-r+C.default.aggregationRowHeight<0||e>t?0:e<r?r-t:e-t},t.prototype.useSeparateHorizontalScroller=function(){return!this.isFullScreen()||!z.browserSupportsPositionSticky()},t.prototype.isCurrentBlock=function(){return this.props.store===le.default.state.currentBlockStore},t.prototype.isFullScreen=function(){return Boolean(this.props.isFullScreen)},t.prototype.createItem=function(e){var t=this,r=this.stores.collectionViewLocalStore,n=r.state.collectionStore;if(!n)throw new Error("No collection store.");var o=D.getGroupResultStores(void 0,r,n);return E.createAndCommit(function(a){var i=L.createBlockInGroup({parentStore:n,collectionViewLocalStore:r,group:void 0,results:o,insertAtStart:!0,coerce:e,transaction:a}),l=le.default.state.currentBlockStore,s=l?ee.default({store:l,peekViewBlockId:i.id,fullyQualified:!1}):ee.default({store:i,fullyQualified:!1}),u=t.getOverrideLinkClick();return u?u(s):A.navigate({url:s}),Y.trackCreateBlock({from:"collection_view_new_item",type:"page"}),i})},t.prototype.getPaddingBottom=function(e){var t=e.type;return this.props.isFullScreen?180:le.default.scrollbarWidth||"gallery"===t?12:0},t.prototype.getCollectionNameWrapStyle=function(){return{display:"flex",whiteSpace:"nowrap",overflow:"hidden",flexShrink:0,minWidth:0}},t.prototype.getCollectionNameStyle=function(){return{display:"flex",alignItems:"center",fontSize:18,fontWeight:N.default.fontWeight.semibold,lineHeight:1.2,whiteSpace:"pre-wrap",color:this.theme.regularTextColor}},t.prototype.getLinkedCollectionNameStyle=function(){return a({},this.getCollectionNameStyle(),{pointerEvents:"none",display:"block",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"})},t.prototype.getHeaderWrapStyle=function(){var e=this.getLeftRightPadding(),r=e.paddingLeft,n=e.paddingRight,o=m.default.isMobile?this.props.isFullScreen?t.collectionHeaderHeightMobileFullpage:t.collectionHeaderHeightMobileInline:t.collectionHeaderHeightDesktop;return a({height:o,paddingLeft:r,paddingRight:n,flexShrink:0,zIndex:1,overflow:this.isInColumn()?"hidden":"visible"},this.isFullScreen()&&z.browserSupportsPositionSticky()&&{position:"sticky",left:0},this.props.store.isLocked()&&{cursor:"default"})},t.stores={collectionViewLocalStore:_e.default,collectionViewScrollStore:q.default,mouseStore:P.default,headerMouseStore:P.default,createViewButtonPopupStore:O.default,hoverMenuButtonPopupStore:O.default},t.contextTypes={overrideLinkClick:s.any},t.collectionHeaderHeightDesktop=42,t.collectionHeaderHeightMobileFullpage=98,t.collectionHeaderHeightMobileInline=126,t.nestedInlineLeftRightPadding=46,t.collectionIconStyle={marginRight:6,width:24,height:24},t.collectionHeaderHoverMenuWrapStyle={position:"relative"},t.collectionHeaderStyle={display:"flex",alignItems:"center",height:t.collectionHeaderHeightDesktop,paddingBottom:2},t}(g.default);t.default=xe},vs8F:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("SR/M"),s=r("wpmu"),u=r("G4cA"),c=r("OxuQ"),d=r("Oy36"),p=r("t+pW"),f=r("aw/t"),h=r("gbGO"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.store,r=e.placeholder,n=e.hidePath;return i.createElement(l.default,a({},this.props,{title:i.createElement(c.default,{store:t,placeholder:r}),icon:i.createElement(d.default,{disabled:!0,icon:t.getIcon(),isEmptyPage:t instanceof s.default&&t.isEmptyPage(),title:t instanceof u.default?t.getName():void 0,size:this.context.isMobile?24:20,style:a({},f.hasPath(t)&&!this.context.isMobile&&{marginTop:3})}),caption:!n&&f.hasPath(t)&&i.createElement(f.default,{store:t}),style:a({},!this.props.isFirst&&{borderTop:"1px solid "+this.theme.regularDividerColor},{boxShadow:"none",marginBottom:"none"},!this.context.isMobile&&{height:f.hasPath(t)&&!n?52:44})}))},t.contextTypes=a({},h.menuContextTypes),t}(p.default);t.default=m},vuDB:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,i=r("LEzx");!function(e){e[e.AllPages=0]="AllPages",e[e.FollowedPages=1]="FollowedPages",e[e.Mentions=2]="Mentions",e[e.ThisPage=3]="ThisPage"}(a=t.SpaceUpdatesTab||(t.SpaceUpdatesTab={}));var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{currentTab:a.AllPages}},t}(i.default);t.default=new l},w4GY:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("hfHo"),s=r("5/h/"),u=r("t+pW"),c=r("ZYTv"),d=r("r8oj"),p=r("aw/t"),f=r("wpmu"),h=r("LeVO"),m=r("mF3+"),y=r("gicP"),g=r("wS9/"),v=r("zmp8"),b=r("Sb6f"),w=r("lCCU"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOpenSnapshot=function(){if(t.props.navigableBlockId){var e=f.default.createChildStore(t.props.rootStore,t.props.navigableBlockId);y.openHistoryModal({blockStore:e,openSnapshotNearTimestamp:t.props.timestamp.toString(),from:"activity"})}},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.children;return i.createElement("div",null,i.createElement("div",{style:a({},t.wrapStyle,{paddingBottom:e?0:8,paddingLeft:d.default.isMobile?g.default.paddingLeft:0,paddingRight:d.default.isMobile?g.default.paddingRight:0})},i.createElement("div",{style:this.getHeaderAndAvatarStyle()},this.props.icon,this.renderHeader(),this.renderSnapshotButton(),this.renderStatusLabelContainer()),e&&this.renderChildren()),this.renderDivider())},t.prototype.renderDivider=function(){if(!this.props.isLast)return i.createElement("div",{style:this.getBorderBottomStyle()})},t.prototype.renderHeader=function(){var e=this.props,r=e.timestamp,n=e.header,o=l.default(Math.min(r,Date.now())).calendar();return i.createElement("div",{style:t.headerStyle},i.createElement("div",null,n),i.createElement("div",{style:{display:"flex",marginTop:4,marginBottom:this.props.children?8:4}},i.createElement("div",{style:this.getTimeStyle()},o),this.props.navigableBlockId&&i.createElement(p.default,{isLink:!0,innerStyle:this.getPathStyle(),store:f.default.createChildStore(this.props.rootStore,this.props.navigableBlockId),left:i.createElement("div",{style:this.getSeparatorDotStyle()},"·")})))},t.prototype.renderSnapshotButton=function(){var e=this;if(this.props.showSnapshotButton&&!(this.props.timestamp<new Date("2018-10-26").getTime()))return this.props.navigableBlockId?i.createElement(h.default,{renderTooltip:function(){return"View version for this update"},render:function(t){return i.createElement(w.default,a({onClick:e.handleOpenSnapshot,icon:m.default.versionHistoryThick},t))}}):void 0},t.prototype.renderStatusLabelContainer=function(){return this.props.unread?i.createElement(h.default,{renderTooltip:function(){return"New notification"},render:function(e){return i.createElement("div",a({style:t.statusLabelContainerStyle},e),i.createElement("div",{style:t.centeredContainerStyle},i.createElement("div",{style:t.statusDotStyle}),i.createElement("span",{style:t.statusLabelStyle},"New")))}}):this.props.unvisited?i.createElement(h.default,{renderTooltip:function(){return i.createElement("div",{style:{textAlign:"center"}},"You have seen this notification",i.createElement("br",null),"but have not visited the page.")},render:function(e){return i.createElement("div",a({style:a({},t.statusLabelContainerStyle,t.statusLabelContainerTransparentStyle)},e),i.createElement("div",{style:t.centeredContainerStyle},i.createElement("div",{style:t.statusDotStyle}),i.createElement("span",{style:t.statusLabelStyle},"Seen")))}}):this.props.isPrivate?i.createElement(h.default,{renderTooltip:function(){return"Only you have access to this page"},render:function(e){return i.createElement("div",a({style:t.statusLabelContainerStyle},e),i.createElement("div",{style:t.centeredContainerStyle},i.createElement("div",{style:t.statusIconStyle},m.default.locked({width:8})),i.createElement("span",{style:t.statusLabelAlertStyle},"Private")))}}):void 0},t.prototype.renderChildren=function(){return i.createElement("div",null,this.props.children)},t.prototype.getHeaderAndAvatarStyle=function(){return{display:"flex",paddingLeft:16,paddingRight:16}},t.prototype.getBorderBottomStyle=function(){return{borderBottom:"1px solid "+this.theme.regularDividerColor}},t.prototype.getPathStyle=function(){return{fontSize:12,color:this.theme.lightTextColor}},t.prototype.getTimeStyle=function(){return{fontSize:12,color:this.theme.lightTextColor,whiteSpace:"nowrap"}},t.prototype.getSeparatorDotStyle=function(){return{fontSize:12,color:this.theme.lightTextColor,marginLeft:4,marginRight:4}},t.wrapStyle={paddingTop:12},t.headerStyle={fontSize:14,lineHeight:1.4,flexGrow:1,minWidth:0},t.centeredContainerStyle={display:"flex",alignItems:"center"},t.statusLabelContainerStyle={display:"flex",alignItems:"flex-start",marginTop:1,marginBottom:4,marginLeft:8},t.statusLabelContainerTransparentStyle={opacity:.5},t.statusIconStyle={flexShrink:0,marginTop:-1,marginRight:6,fill:v.default.red},t.statusDotStyle={height:6,width:6,flexShrink:0,marginRight:4,background:v.default.blue,borderRadius:"100%"},t.statusLabelStyle={fontSize:12,fontWeight:b.default.fontWeight.semibold,color:v.default.blue},t.statusLabelAlertStyle=a({},t.statusLabelStyle,{color:v.default.red}),t}(u.default);t.default=S;var _={fontWeight:b.default.fontWeight.semibold},k={marginTop:2,marginRight:8,flexShrink:0};t.AuthorIcon=function(e){var t=e.authors,r=t.find(function(e){return Boolean(e&&e.profile_photo)}),n=t.find(function(e){return Boolean(e&&(e.given_name||e.family_name))});return i.createElement(c.default,{userValue:r||n,format:c.default.Format.AvatarOnly,style:k,avatarSize:28,disableAvatarTooltip:!0,disableAvatarPlaceholder:!1,avatarShouldShowShadow:!0})},t.ReminderIcon=function(){return i.createElement("div",{style:a({backgroundColor:v.default.red,height:28,width:28,borderRadius:"100%"},k)},m.default.alarmClock({height:16,width:16,fill:v.default.white,marginLeft:6,marginTop:5}))},t.AuthorPhrase=function(e){var t=e.authors.map(function(e){return s.getFullName(e)});if(1===t.length)return i.createElement("span",{style:_},t[0]);if(2===t.length)return i.createElement("span",null,i.createElement("span",{style:_},t[0])," and ",i.createElement("span",{style:_},t[1]));if(t.length>2){var r=t.length-2;return i.createElement("span",null,i.createElement("span",{style:_},t[0]),", ",i.createElement("span",{style:_},t[1])," and "+r+" other"+(r>1?"s":""))}return i.createElement("span",{style:_},"Nobody")}},w5Oa:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("C7oc"),u=r("Oy36"),c=r("ZQ9l"),d=r("YIRN"),p=r("gbGO"),f=r("mF3+"),h=r("wS9/"),m=r("MeYt"),y=r("r8oj"),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.onClick,r=e.focused,n=e.isAddButton,o=e.title,l=e.caption,s=e.shortcut,u=e.isOnlySpace,d=this.context.isMobile,p=this.props.isCheck;return i.createElement(m.default,{mobileFeedback:this.context.isMobile,onClick:t,hovered:r,style:this.getStyle()},!u&&!d&&this.renderDragHandle(),n?this.renderAddIcon():this.renderIcon(),i.createElement("div",{style:{marginLeft:12,marginRight:s||p?12:0,minWidth:0}},i.createElement("div",{style:c.default.textOverflowStyle},o),l&&i.createElement("div",{style:a({},d?this.getMobileCaptionStyle():this.getDesktopCaptionStyle(),{color:this.theme.mediumTextColor})},l)),p&&f.default.check({width:16,height:16,marginLeft:"auto"}),s&&!d&&!p&&i.createElement("div",{style:this.getShortcutStyle()},s))},t.prototype.renderDragHandle=function(){return i.createElement(d.default,{iconSize:12,style:{marginLeft:-6,marginRight:4,visibility:this.props.isAddButton?"hidden":"visible"}})},t.prototype.renderIcon=function(){var e=this.context.isMobile;return i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("div",{style:{position:"relative"}},this.props.id&&i.createElement(u.default,{disabled:!0,icon:this.props.icon,isEmptyPage:!1,title:this.props.title,size:e?t.mobileIconSize:t.desktopIconSize,isLarge:!0}),this.props.unreadMentions&&i.createElement(s.default,{color:s.default.Color.Red,count:this.props.unreadMentions,style:{position:"absolute",top:-5,right:-5}})))},t.prototype.renderAddIcon=function(){var e=this.context.isMobile?t.mobileIconSize:t.desktopIconSize;return i.createElement("div",{style:a({},this.getIconWrapStyle(),{width:e,height:e})},this.getPlusIcon())},t.prototype.getStyle=function(){var e=this.context.isMobile;return a({display:"flex",alignItems:"center",lineHeight:"120%",width:"100%",paddingTop:e?16:10,paddingBottom:e?16:10,paddingLeft:e?h.default.calcPaddingLeft(16):14,paddingRight:e?h.default.calcPaddingRight(16):14,boxShadow:"0 1px 0 "+this.theme.regularDividerColor,marginBottom:1,fontSize:e?16:14},e&&{background:this.theme.popoverBackground},{height:54},this.props.isAddButton&&!y.default.isMobile&&{boxShadow:"none",marginBottom:0})},t.prototype.getPlusIcon=function(){return f.default.plus({flexGrow:0,flexShrink:0,width:16,height:16,fill:this.theme.popoverBackground})},t.prototype.getIconWrapStyle=function(){return{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",background:this.theme.lightIconColor,borderRadius:3,flexShrink:0}},t.prototype.getShortcutStyle=function(){return{color:this.theme.lightTextColor,fontSize:12,whiteSpace:"nowrap",marginLeft:"auto",flexShrink:0}},t.prototype.getDesktopCaptionStyle=function(){return a({},c.default.textOverflowStyle,{color:this.theme.mediumTextColor,marginTop:2,fontSize:12})},t.prototype.getMobileCaptionStyle=function(){return a({},c.default.textOverflowStyle,{color:this.theme.mediumTextColor,marginTop:2,fontSize:14})},t.contextTypes=a({},p.menuContextTypes),t.mobileIconSize=36,t.desktopIconSize=32,t.dragHandleEffectiveWidth=16,t}(l.default);t.default=g},w5u6:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("xEkU"),i=function(){function e(){var e=this;this.pauseCount=0,this.renderIsQueued=!1,this.renderQueue=[],this.flushQueue=[],this.renderRemovedQueue=new Set,this.flush=function(){return n(e,void 0,void 0,function(){var e,t,r=this;return o(this,function(a){switch(a.label){case 0:return this.renderRemovedQueue=new Set,e=this.renderQueue,this.renderQueue=[],[4,Promise.all(e.map(function(e){return n(r,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:if(this.renderRemovedQueue.has(e))return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e()];case 2:return t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}})})}))];case 1:return a.sent(),t=this.flushQueue,this.flushQueue=[],[4,Promise.all(t.map(function(e){return n(r,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e()];case 1:return t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}})})}))];case 2:return a.sent(),this.renderQueue.length>0||this.flushQueue.length>0?[4,this.flush()]:[3,4];case 3:return a.sent(),[3,5];case 4:this.renderIsQueued=!1,a.label=5;case 5:return[2]}})})}}return e.prototype.enqueue=function(e){e&&this.renderQueue.push(e),this.renderIsQueued||0!==this.pauseCount||(this.renderIsQueued=!0,a(this.flush))},e.prototype.removeFromQueue=function(e){this.renderRemovedQueue.delete(e)},e.prototype.afterNextFlush=function(e){var t=this;return new Promise(function(r){t.flushQueue.push(function(){e&&e(),r()}),t.enqueue()})},e.prototype.pause=function(){var e=this;this.afterNextFlush(function(){e.pauseCount++})},e.prototype.unpause=function(){this.pauseCount--,0!==this.pauseCount||this.renderIsQueued||(this.renderIsQueued=!0,a(this.flush))},e}();t.default=new i},w8E2:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("YUnZ"),l=r("t+pW"),s=r("8fuX"),u=r("Sb6f"),c=r("wlCD"),d=r("H4VD"),p=r("HSWF"),f=r("0GcB"),h=r("d9nj"),m=r("RrFw"),y=r("7M94"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCloseClick=function(){var e=p.getLastVisitedRouteUrl();e&&d.navigate({url:e})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.onboardingState,r={desktop_profile:y.onboardingProfile,desktop_workspace:y.onboardingWorkspace,desktop_import:y.onboardingImport,desktop_download:y.onboardingDownload,desktop_gdpr:y.onboardingGdpr}[e.currentStage];return a.createElement(s.default,{className:r,style:this.getScrollerStyle(),type:s.default.OverflowType.Y},this.renderHeader(),this.renderDesktopIllustration(),a.createElement("div",{style:t.wrapStyle},this.props.children),e.isCreateOrJoinMenu&&this.renderCloseButton())},t.prototype.renderHeader=function(){var e=this.props,t=e.title,r=e.subtitle;return a.createElement("div",{style:this.getHeaderStyle()},a.createElement("div",null,a.createElement("div",{style:this.getTitleStyle()},t),r&&a.createElement("div",{style:this.getSubtitleStyle()},r),this.renderStepper()),this.renderButton())},t.prototype.renderButton=function(){var e=this.props,t=e.onClickNext,r=e.nextButtonTitle,n=e.onboardingState;if(t)return a.createElement("div",{style:{position:"absolute",top:50,right:0}},a.createElement(m.default,{disabled:n.isLoading,onClick:t},n.isLoading&&a.createElement(c.default,{style:{marginRight:6}}),r||"Next"))},t.prototype.renderDesktopIllustration=function(){var e=this.props.illustrationUrl;if(e)return a.createElement("div",{style:t.illustrationWrapStyle},a.createElement("img",{src:e,style:{height:220}}))},t.prototype.renderStepper=function(){var e=this,r=this.props.onboardingState.flow,n=this.getCurrentStageIndex();return a.createElement("div",{style:t.flowWrapStyle},r.getSteps().map(function(t,r,o){var i=r===n,l=o.length-1===r;return a.createElement("div",{key:t,style:{display:"flex",marginRight:l?0:8}},a.createElement("div",{style:{width:32,height:4,borderRadius:3,background:i?e.theme.regularTextColor:e.theme.lightTextColor}}))}))},t.prototype.renderCloseButton=function(){return a.createElement(h.default,{isLarge:!0,style:this.getCloseButtonStyle(),onClick:this.handleCloseClick},"Close")},t.prototype.getCurrentStageIndex=function(){var e=this.props.onboardingState,t=e.flow,r=e.currentStage;return t.getSteps().indexOf(r)},t.prototype.getScrollerStyle=function(){return{height:"100vh",paddingBottom:60,background:"dark"===f.default.state.mode?this.theme.contentBackground:i(this.theme.sidebarBackground).brighten(.15).css()}},t.prototype.getHeaderStyle=function(){return{position:"relative",textAlign:"center",paddingTop:42,paddingBottom:24,marginBottom:48,marginLeft:"auto",marginRight:"auto",maxWidth:900,borderBottom:"1px solid "+this.theme.regularDividerColor}},t.prototype.getTitleStyle=function(){return{fontWeight:u.default.fontWeight.bold,fontSize:28,color:this.theme.regularTextColor}},t.prototype.getSubtitleStyle=function(){return{fontSize:18,color:this.theme.mediumTextColor}},t.prototype.getCloseButtonStyle=function(){return{position:"absolute",top:18,right:18}},t.wrapStyle={display:"flex",flexDirection:"column",alignItems:"center"},t.illustrationWrapStyle={position:"fixed",bottom:0,left:30},t.flowWrapStyle={display:"inline-flex"},t}(l.default);t.default=g},wF3w:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return String.fromCharCode(33+94*Math.random())+String.fromCharCode(33+94*Math.random())+String.fromCharCode(33+94*Math.random())+String.fromCharCode(33+94*Math.random())}},wHWa:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("N34Z"),i=r("bkwR"),l=r("hvW1"),s=r("VBxf"),u=r("frzs"),c=r("QcDD");t.updateUserData=function(e){var t=e.userStore,r=e.data,n=e.transaction,o={};r.givenName&&(o.given_name=r.givenName),r.familyName&&(o.family_name=r.familyName),r.profilePhoto&&(o.profile_photo=r.profilePhoto),a.updateValue({store:t,data:o,transaction:n})},t.deleteAccount=function(){return n(this,void 0,void 0,function(){var e,t,r;return o(this,function(n){switch(n.label){case 0:return l.display({message:"Deleting your account..."}),e=c.default.state,t=e.userRootStore,r=e.userStore,t&&r?[4,i.deleteUser({}).next()]:(l.close(),s.showError({error:new Error("No user.")}),[2]);case 1:return n.sent(),u.logout(),[2]}})})}},wI8D:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("LvDl"),s=r("wldR"),u=r("mcFc"),c=r("bPtJ"),d=r("7TLZ"),p=r("bkwR"),f=r("AvkE"),h=r("tC8O"),m=r("A9TN"),y=r("H4VD"),g=r("OUVA"),v=r("oqYu"),b=r("oWRT"),w=r("bK/N"),S=r("D2XV"),_=r("QcDD"),k=r("Wae9"),C=r("CpD0"),E=r("JuT7"),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleNotificationEmit=function(){return a(t,void 0,void 0,function(){var e,t,r;return i(this,function(n){switch(n.label){case 0:return[4,p.getUserNotifications({size:21})];case 1:return"failed"===(e=n.sent()).type?[2]:(t=e.data.results,k.default.setState({results:t}),this.syncInitialBadgeNumber(),r=l.union.apply(null,t.map(function(e){return e.unreceived.notificationIds})),this.displayNotifications(r),[2])}})})},t.handleNotificationEmitThrottled=l.throttle(t.handleNotificationEmit,1e3),t.handleNotificationEmitWhenActive=function(){C.default.whenActive(t.handleNotificationEmitThrottled)},t.updateBadgeNumbers=function(){var e=k.default.state.results.reduce(function(e,t){return e+t.unread.mentions},0);v.setBadgeNumber(e),b.setBadgeNumber(e),e>0?w.setBadge(""+e):w.setBadge("")},t.syncInitialBadgeNumber=l.once(t.updateBadgeNumbers),t}return o(t,e),t.prototype.willMount=function(){this.startMessageListeners(),k.default.addListener(this.updateBadgeNumbers)},t.prototype.willUnmount=function(){this.stopMessageListeners(),k.default.removeListener(this.updateBadgeNumbers)},t.prototype.startMessageListeners=function(){var e=_.default.state.userStore;if(e){var t=u.getMessageKey(e.id);this.listenerReference=E.default.addListener(t,this.handleNotificationEmitWhenActive,void 0)}},t.prototype.stopMessageListeners=function(){this.listenerReference&&E.default.removeListener(this.listenerReference)},t.prototype.displayNotifications=function(e){var t=this;e.forEach(function(e){var r=c.createRecordStore(t.props.rootStore,u.default.table,e),n=d.getActivityStore(r),o=n&&n.getValue(),a=_.default.state,i=a.userStore,l=a.currentSpaceViewStore;if(i&&l&&o&&!o.invalid&&!f.isAuthoredByUser(o,i.id)&&w.shouldSendNotification()&&"undefined"!=typeof Notification){var s=l.getValue();if(!s)return;if(!f.isMentionType(o))return;if(!s.notify_desktop)return;var p=h.default({activity:o,getRecordValue:function(e,t){return c.createRecordStore(r,e,t).getValue()},userTimeZone:S.currentTimeZone});if(!p)return;var v=p.subject,b=p.body;new Notification(v,{body:b,silent:!0}).addEventListener("click",function(){var e=f.getUrlForActivity({activity:o,getRecordValue:function(e,t){return c.createRecordStore(r,e,t).getValue()},baseUrl:m.default.baseURL}),t=f.getAnalyticsTagForActivity(o),n=g.injectUrlAnalytics(e,[t,"desktop_push"]);y.navigate({url:n})})}})},t}(s.default);t.default=P},wLfb:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("njgS"),u=r("t+pW"),c=r("wXH4"),d=r("Z1H8"),p=r("AlpE"),f=r("97Dj"),h=r("mF3+"),m=r("r8oj"),y=r("g4rC"),g=r("WgIs"),v=r("2Y+N"),b=r("SR/M"),w=r("g8hj"),S=r("gbGO"),_=r("nObc"),k=r("y6Dp"),C=r("Sb6f"),E=r("d9nj"),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderViewsSection=function(e){if(t.isDraggable()){var r=t.props.views.map(function(e){return e.id});return i.createElement(v.default,a({},e,{children:i.createElement(w.default,{direction:w.DraggableListDirection.Vertical,keys:r,renderKey:function(t,n){return e.children[r.indexOf(t)]},onDrop:t.handleViewsDrop})}))}return i.createElement(v.default,a({},e))},t.renderViewMenuItem=function(e,r){return i.createElement(b.default,a({title:e.name||"Untitled View",icon:t.renderViewIcon(e.type),showDragHandle:t.isDraggable(),right:!t.props.disabled&&i.createElement(p.default,{schema:t.props.schema,query:t.props.query,viewValue:e,collectionViewBlockStore:t.props.collectionViewBlockStore,views:t.props.views,onChange:t.props.onChange})},r))},t.renderCreateCollectionViewMenuItem=function(e){return i.createElement(c.default,{popupType:m.default.isMobile?c.default.PopupType.SlideUp:c.default.PopupType.Popup,placementToOrigin:c.default.Placement.Right,key:e.key,open:t.stores.createViewButtonPopupStore.state.open,onDismiss:function(){return t.stores.createViewButtonPopupStore.setState({open:!1})},origin:i.createElement(_.default,a({title:"Add a View"},e)),render:function(){return i.createElement(f.default,{disabled:t.props.disabled,schema:t.props.schema,collectionViewBlockStore:t.props.collectionViewBlockStore,currentViewValue:t.props.currentViewValue,currentFormat:t.props.currentFormat,onAccept:t.handleCollectionCreateViewMenuAccept,onCancel:function(){t.stores.createViewButtonPopupStore.setState({open:!1})}})}})},t.getMenuListSections=function(){var e=[];return e.push({key:"views",render:t.renderViewsSection,items:t.props.views.map(function(e){return{key:e.id,render:function(r){return t.renderViewMenuItem(e,r)},action:function(){t.props.onChange({currentViewId:e.id})}}})}),t.props.disabled||e.push({key:"create section",render:function(e){return i.createElement(v.default,a({},e,{topBorder:!0}))},items:[{key:"create button",render:t.renderCreateCollectionViewMenuItem,action:function(){t.stores.createViewButtonPopupStore.setState({open:!0})}}]}),e},t.renderPopup=function(){return i.createElement(d.default,{capture:!0,allowEsc:!0,render:function(e){var r;return r=m.default.isMobile?a({menuType:S.default.MenuType.Modal,title:"Select View",right:"Done",onClickRight:t.props.onEditViewMenuClose},e):a({menuType:S.default.MenuType.Popup,minWidth:220,maxWidth:340},e),i.createElement(S.default,a({},r),i.createElement(g.default,{initialFocus:l.findIndex(t.props.views,function(e){return e.id===t.props.currentViewValue.id}),sections:t.getMenuListSections(),preserveReorderedFocus:!0}))}})},t.handleClick=function(){k.trackOpenCollectionViewSelect({view_type:t.props.currentViewValue.type}),t.props.onViewSelectMenuOpen()},t.handleViewsDrop=function(e){(0,t.props.onChange)({viewIds:e})},t.handleCollectionCreateViewMenuAccept=function(e){(0,t.props.onChange)(e),t.stores.createViewButtonPopupStore.setState(a({},t.stores.createViewButtonPopupStore.state,{open:!1}))},t}return o(t,e),t.prototype.renderComponent=function(){var e=this.props,t=e.viewSelectMenuOpen,r=e.onEditViewMenuClose;return i.createElement(c.default,{popupType:m.default.isMobile?c.default.PopupType.SlideUp:c.default.PopupType.Popup,open:t,onDismiss:r,origin:this.renderOrigin(),originGap:8,render:this.renderPopup})},t.prototype.renderOrigin=function(){var e=this.props.currentViewValue;return i.createElement(E.default,{onClick:this.handleClick,isSmall:!0,shouldShrink:!0,mobileFeedback:m.default.isMobile,style:{marginRight:8,paddingRight:6}},!m.default.isMobile&&this.renderViewIcon(this.props.currentViewValue.type),i.createElement("div",{style:{marginLeft:m.default.isMobile?0:6,marginRight:4,fontWeight:C.default.fontWeight.semibold,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},e.name||"Untitled View"),h.default.chevronDown({width:10}))},t.prototype.isDraggable=function(){return!m.default.isMobile&&!this.props.disabled},t.prototype.renderViewIcon=function(e){return s.collectionViewTypeIconMap[e]({width:m.default.isMobile?16:14})},t.stores={createViewButtonPopupStore:y.default},t}(u.default);t.default=P},wPEN:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("i8i4"),c=r("LvDl"),d=r("okm4"),p=r("wldR"),f=r("cYwG"),h=r("vJXr"),m=r("w5u6"),y=r("bkwR"),g=r("8N42"),v=r("r8oj"),b=r("KSnN"),w=r("AmMh"),S=r("lBar"),_=r("Fe7V"),k=r("l+8X"),C=r("BMY5"),E=r("yUnD"),P=r("j76I"),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOffsetListenerMount=function(e){e&&(t.scrollOffsetListener=e)},t.handleScrollOffsetListenerChange=function(e){e<t.props.incrementScrollOffset&&!t.stores.store.state.endOfResultsReached&&t.requestNextChunk()},t.handleConnectionStateChange=function(){var e=t.stores.store,r=h.default.state.online;r&&!t.lastOnlineState&&e.state.error&&(e.reset(),t.requestNextChunk()),t.lastOnlineState=r},t.onReady=c.once(t.props.onReady?t.props.onReady:function(){}),t.requestNextChunk=function(){return i(t,void 0,void 0,function(){var e,t,r,n,o;return l(this,function(i){switch(i.label){case 0:if(this.stores.store.state.loading||this.stores.store.state.endOfResultsReached)return[2];this.stores.store.setState(a({},this.stores.store.state,{loading:!0})),e=this.stores.store.state.initialRequestCompleted?this.props.incrementChunkSize:this.props.initialChunkSize,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this.requestPageChunk(e,this.stores.store.state.currentCursor,this.stores.store.state.currentChunkNumber||0)];case 2:return t=i.sent(),[4,m.default.afterNextFlush()];case 3:return i.sent(),r=this.isScrolledToPosition()&&this.scrollToBlocksAreRendered(),n=this.stores.store.state.ready||!t||r,!this.stores.store.state.ready&&n&&m.default.afterNextFlush(this.onReady),this.stores.store.setState(a({},this.stores.store.state,{ready:n,loading:!1,currentCursor:t?t.cursor:void 0,currentChunkNumber:t?t.chunkNumber:void 0,endOfResultsReached:!t,error:void 0})),!n||this.shouldLoadMoreFromScrollOffset()?m.default.afterNextFlush(this.requestNextChunk):n&&this.props.loadNextChunkTimeout&&(this.lastTimeout=window.setTimeout(this.requestNextChunk,this.props.loadNextChunkTimeout)),[3,5];case 4:return o=i.sent(),this.stores.store.setState(a({},this.stores.store.state,{ready:!0,initialRequestCompleted:!0,loading:!1,error:o})),[3,5];case 5:return[2]}})})},t.requestPageChunk=function(e,r,n){return i(t,void 0,void 0,function(){var t,o,a,i,s,u,c;return l(this,function(l){switch(l.label){case 0:t=this.props.pageStore,o={pageId:t.id,limit:e,cursor:r||{stack:[]},chunkNumber:n,verticalColumns:v.default.isMobile},a=r?void 0:this.loadScrollToBlocks(),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.performLocalLoadPageChunk(o)];case 2:return s=l.sent(),_.setRecordMap({recordCacheStore:t.recordCacheStore,recordMap:s.recordMap}),i=s.cursor,[3,4];case 3:return l.sent(),[3,4];case 4:return i?[3,6]:[4,y.loadPageChunk(o)];case 5:"success"===(u=l.sent()).type&&(i=u.data.cursor),l.label=6;case 6:if(!i)throw new Error("Result cursor not created.");return[4,a];case 7:return l.sent(),g.setLimitParentsFromPageChunkCursors({rootStore:t,cursors:[i]}),(c=i.stack.length>0?i:void 0)?[2,{cursor:c,chunkNumber:n+1}]:[2]}})})},t}return o(t,e),t.prototype.shouldComponentUpdate=function(){return!0},t.prototype.didMount=function(){e.prototype.didMount.call(this),this.lastOnlineState=h.default.state.online,this.node=u.findDOMNode(this),this.scrollableAncestor=S.getVerticalScrollableAncestor(this.node),h.default.addListener(this.handleConnectionStateChange),this.requestNextChunk()},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),this.lastTimeout&&window.clearTimeout(this.lastTimeout),h.default.removeListener(this.handleConnectionStateChange)},t.prototype.renderComponent=function(){return s.createElement(f.default,{onChange:this.handleScrollOffsetListenerChange,ref:this.handleOffsetListenerMount},this.renderChildren())},t.prototype.renderChildren=function(){var e=this.stores.store.state,t=e.ready,r=e.error;return this.props.render({error:r,ready:t})},t.prototype.loadScrollToBlocks=function(){return i(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return this.props.scrollToBlockIds?[4,b.loadScrollToBlocks(this.props.pageStore,this.props.scrollToBlockIds)]:[3,2];case 1:return e.sent(),[3,3];case 2:return[2,!0];case 3:return[2]}})})},t.prototype.scrollToBlocksAreRendered=function(){var e=this.props.scrollToBlockIds;return!e||w.default.findSelectablesFromIds(e).length===e.length},t.prototype.isScrolledToPosition=function(){var e=this.props.scrollToPosition;return!this.scrollableAncestor||!c.isNumber(e)||e<=this.scrollableAncestor.scrollHeight-this.scrollableAncestor.clientHeight},t.prototype.shouldLoadMoreFromScrollOffset=function(){return!!this.scrollOffsetListener&&this.scrollOffsetListener.getOffsetFromBottom()<this.props.incrementScrollOffset},t.prototype.performLocalLoadPageChunk=function(e){return i(this,void 0,void 0,function(){var t,r,n=this;return l(this,function(o){switch(o.label){case 0:if(!k.default)throw new Error("No local database found.");return t={},[4,C.loadPageChunk(e,function(e,r){return i(n,void 0,void 0,function(){var n;return l(this,function(o){switch(o.label){case 0:return[4,E.getLocalRecord({table:e,id:r})];case 1:if(n=o.sent())return P.setRecordMapWithRole(t,e,r,n),[2,n.value];throw new Error("Record not found: "+e+","+r)}})})})];case 1:return r=o.sent(),[2,{recordMap:t,cursor:r.cursorValue}]}})})},t.scrollThrottle=200,t.stores={store:d.default},t}(p.default);t.default=x},"wS9/":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("r8oj"),l=r("LEzx"),s=CSS.supports("padding","env(safe-area-inset-top)"),u=i.default.isIOS&&i.default.isMobileBrowser&&!i.default.isSafari,c=s&&!u,d=function(e){function t(){var t=e.call(this)||this;if(t.mobileTopbarHeight=44,t.paddingTop=c?"env(safe-area-inset-top)":"0px",t.paddingLeft=c?"env(safe-area-inset-left)":"0px",t.paddingRight=c?"env(safe-area-inset-right)":"0px",t.updateWindowSize=function(){if(i.default.isMobileBrowser){t.setState({width:window.innerWidth,mobileBrowserPaddingBottom:t.fullWindow.getBoundingClientRect().height-window.innerHeight}),document.body.style.height=window.innerHeight+"px";var e=document.querySelector("html");e&&(e.style.height=window.innerHeight+"px");var r=document.querySelector("body");r&&(r.style.height=window.innerHeight+"px");var n=document.querySelector("#notion-app");n&&n instanceof HTMLElement&&(n.style.height=window.innerHeight+"px")}else t.setState({width:window.innerWidth,mobileBrowserPaddingBottom:0})},t.updateWindowSizeDebounced=a.debounce(t.updateWindowSize,300),i.default.isMobileBrowser){var r=document.createElement("div");r.style.position="fixed",r.style.height="100vh",r.style.top="0px",r.style.pointerEvents="none",document.body.appendChild(r),t.fullWindow=r}return window.addEventListener("resize",t.updateWindowSizeDebounced),window.addEventListener("orientationchange",t.updateWindowSize),t.updateWindowSize(),t}return o(t,e),t.prototype.calcPaddingTop=function(e){return c&&i.default.isMobile?"calc( env(safe-area-inset-top) + "+e+"px )":e+"px"},t.prototype.calcPaddingLeft=function(e){return c&&i.default.isMobile?"calc( env(safe-area-inset-left) + "+e+"px )":e+"px"},t.prototype.calcPaddingRight=function(e){return c&&i.default.isMobile?"calc( env(safe-area-inset-right) + "+e+"px )":e+"px"},Object.defineProperty(t.prototype,"paddingBottom",{get:function(){return i.default.isMobileBrowser?this.state.mobileBrowserPaddingBottom+"px":c&&i.default.isMobile?"env(safe-area-inset-bottom)":"0px"},enumerable:!0,configurable:!0}),t.prototype.calcPaddingBottom=function(e){return i.default.isMobile?"calc( "+this.paddingBottom+" + "+e+"px )":e+"px"},t.prototype.measurePaddingBottom=function(){if(i.default.isMobileBrowser)return this.state.mobileBrowserPaddingBottom;var e=document.createElement("div");e.style.visibility="hidden",document.body.appendChild(e),e.style.width="0px",e.style.paddingLeft="env(safe-area-inset-bottom)";var t=e.offsetWidth;return document.body.removeChild(e),t},t.prototype.getInitialState=function(){return{width:0,mobileBrowserPaddingBottom:0}},t}(l.default);t.default=new d},wXH4:function(e,t,r){"use strict";var n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l,s=r("q1tI"),u=r("LvDl"),c=r("i8i4"),d=r("f95e"),p=r("r8oj"),f=r("x0lk"),h=r("RBMm"),m=r("DNfA"),y=r("NOLh"),g=r("t+pW"),v=r("VyA+"),b=r("fHgN"),w=r("F9et"),S=r("LoBg"),_=r("nFzZ"),k=r("zmp8"),C=r("uLZi"),E=r("0GcB"),P=r("enKW");!function(e){e[e.Popup=0]="Popup",e[e.SlideUp=1]="SlideUp"}(l=t.PopupType||(t.PopupType={}));var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popupEl=null,t.isAnimating=!1,t.renderSlideUpContent=function(){var e=t.props.open;return s.createElement(w.default,{capture:Boolean(t.props.keepFocus),render:function(r){return s.createElement(v.default,{capture:!t.props.preventCaptureEsc,onEsc:t.handleEsc,onBackButton:t.handleEsc},s.createElement("div",i({},r,{style:i({position:"absolute",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",pointerEvents:e?"auto":"none"},t.props.cordovaWrapStyle)}),s.createElement(y.default,{blocking:!t.props.preventBlockingAnimation,isVisible:e,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},onAnimationStart:t.handleAnimatedAnimationStart,onAnimationEnd:t.handleAnimatedAnimationEnd,useCompositeLayer:!0,springConfig:{translateYPercent:{stiffness:60,damping:12,precision:.1}},render:function(){return s.createElement("div",{style:t.getOverlayBgStyle(),onMouseDown:t.handleBgMouseDown,onClick:t.handleBgClick})}}),s.createElement(y.default,{blocking:!t.props.preventBlockingAnimation,isVisible:e,animationStyle:{translateYPercent:0},enterAnimationStyle:{translateYPercent:100},exitAnimationStyle:{translateYPercent:100},springConfig:{translateYPercent:{stiffness:60,damping:12,precision:.1}},useCompositeLayer:!0,render:function(){return s.createElement("div",{style:i({position:"absolute",bottom:0,left:0,background:t.theme.popoverBackground,boxShadow:P.getShadow({elevation:4,color:t.theme.shadowColor,opacity:t.theme.shadowOpacity})},t.props.style,{width:"100%"})},t.props.render())}})))}})},t.renderPopupContentWrapped=function(){return s.createElement(w.default,{capture:Boolean(t.props.keepFocus),render:function(e){return s.createElement(v.default,{capture:!t.props.preventCaptureEsc,onEsc:t.handleEsc,onBackButton:t.handleEsc},t.renderPopupContent(e))}})},t.handlePopupMount=function(e){t.popupEl=e,e?(t.observer||t.props.disableMutationObserver||(t.observer=new MutationObserver(t.handleObserverChangeThrottled),t.observer.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),t.keepInBound()):t.observer&&(t.observer.disconnect(),t.observer=void 0,t.popupRect=void 0)},t.handleObserverChange=function(){t.isAnimating||t.keepInBound()},t.handleObserverChangeThrottled=u.throttle(t.handleObserverChange,10),t.handleAnimatedAnimationStart=function(){t.isAnimating=!0},t.handleAnimatedAnimationEnd=function(){t.isAnimating=!1,t.props.open||t.setClosedStoreState(),t.props.onAnimationEnd&&t.props.onAnimationEnd(),t.keepInBound()},t.handleEsc=function(e){t.props.onDismiss&&t.props.onDismiss(e)},t.handleResize=function(){t.props.open&&t.enqueueForceUpdate()},t.handleBgMouseDown=function(e){e.preventDefault()},t.handleBgClick=function(e){t.props.onDismiss&&t.props.onDismiss(e)},t.handleResizeDebounced=u.debounce(t.handleResize,100),t}return a(t,e),t.prototype.componentWillReceiveProps=function(t){e.prototype.componentWillReceiveProps.call(this,t);var r=!this.props.open&&t.open,n=this.props.open&&!t.open;r&&!this.isSlideUp(t)&&this.measureOriginRect(),t.preventPointerEvents||(r&&(C.default.state.openPopups.add(this),C.default.emit()),n&&(C.default.state.openPopups.delete(this),C.default.emit()))},t.prototype.willUpdate=function(t){e.prototype.willUpdate.call(this,t);var r=this.stores.store.state;t.open&&!r.open&&this.stores.store.setState(i({},r,{open:!0}))},t.prototype.didMount=function(){e.prototype.didMount.call(this),p.default.isMobile||window.addEventListener("resize",this.handleResizeDebounced),this.props.open&&(this.isSlideUp(this.props)||this.measureOriginRect(),this.stores.store.setState(i({},this.stores.store.state,{open:!0})))},t.prototype.didUpdate=function(t){e.prototype.didUpdate.call(this,t),!this.props.open&&this.stores.store.state.open&&!this.isSlideUp(this.props)&&this.isNoAnimation()&&this.setClosedStoreState()},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),p.default.isMobile||window.removeEventListener("resize",this.handleResizeDebounced),this.props.open&&!this.props.preventPointerEvents&&(C.default.state.openPopups.delete(this),C.default.emit())},t.prototype.renderComponent=function(){var e=this.stores.store.state.open;return s.createElement(S.default,{capture:Boolean(this.props.open&&this.props.disableContentScroll)},s.createElement(b.default,{open:e,origin:this.renderOrigin(),render:this.isSlideUp(this.props)?this.renderSlideUpContent:this.renderPopupContentWrapped,useCompositeLayer:p.default.isMobile&&!this.props.disableCompositeLayer,overlayContainerStore:this.props.overlayContainerStore}))},t.prototype.renderPopupContent=function(e){var t=this;return s.createElement("div",i({},e),this.props.open&&!this.props.disableMouseCapture&&s.createElement("div",{style:this.getOverlayBgStyle(),onMouseDown:this.handleBgMouseDown,onClick:this.handleBgClick,onContextMenu:this.props.onDismiss}),s.createElement(m.default,{style:this.getAlignPositionStyle(),origin:s.createElement("div",{style:this.getAlignOriginStyle()}),placement:this.getCurrentPlacementToOrigin(),alignment:this.getAlignmentToOrigin(),childrenWrapStyle:{pointerEvents:this.props.open&&!this.props.preventPointerEvents?"auto":"none"}},s.createElement(y.default,{blocking:!this.props.preventBlockingAnimation,isVisible:this.props.open,animationStyle:this.getScaledPopupAnimationStyle(),enterAnimationStyle:this.getScaledPopupHiddenAnimationStyle(),exitAnimationStyle:this.getScaledPopupHiddenAnimationStyle(),springConfig:this.getScaledPopupAnimationSpringConfig(),onAnimationStart:this.handleAnimatedAnimationStart,onAnimationEnd:this.handleAnimatedAnimationEnd,render:function(){return s.createElement("div",{style:t.getScaledPopupStyle()},s.createElement("div",{style:t.getBoxWrapStyle(),ref:t.handlePopupMount},t.props.render()))}})))},t.prototype.renderOrigin=function(){return this.props.originRect&&(this.originRect=this.props.originRect),this.props.origin},t.prototype.getOverlayBgStyle=function(){var e,t=E.default.state.mode;return this.isSlideUp(this.props)?(e={position:"absolute",top:0,left:0,bottom:0,right:0},this.props.disableDarkOverlayBackground||(e.background=k.grayscale[t].black.alpha(.6).css())):e={position:"fixed",top:0,left:0,width:"100vw",height:"100vh"},e},t.prototype.getAlignPositionStyle=function(){return this.originRect&&f.isRect(this.originRect)?{position:"fixed",left:this.props.disableRounding?this.originRect.left:Math.round(this.originRect.left),top:this.props.disableRounding?this.originRect.top:Math.round(this.originRect.top),pointerEvents:"none"}:{}},t.prototype.getAlignOriginStyle=function(){var e={};return this.originRect&&(e.width=Math.round(this.originRect.width),e.height=Math.round(this.originRect.height)),e},t.prototype.getScaledPopupStyle=function(){var e=this.stores.store.state,r=e.offsetX,n=e.offsetY,o=this.getCurrentPlacementToOrigin(),a=this.getAlignmentToOrigin(),i=t.alignmentToTransform[a],l=t.alignmentToTransform[a],s={display:"flex",alignItems:"center",position:"relative"},u=this.props.originGap||0;return o===m.Placement.Top?(s.flexDirection="column",s.transformOrigin=i+" bottom",s.left=r,s.bottom=u-n):o===m.Placement.Bottom?(s.flexDirection="column-reverse",s.transformOrigin=i+" top",s.left=r,s.top=u+n):o===m.Placement.Left?(s.flexDirection="row",s.transformOrigin="right "+l,s.right=u-r,s.top=n):o===m.Placement.Right&&(s.flexDirection="row-reverse",s.transformOrigin="left "+l,s.left=u+r,s.top=n),a===m.Alignment.End&&o===m.Placement.Bottom&&(s.left=r-u,s.top=n),s},t.prototype.isNoAnimation=function(){return this.props.preventScaleTransition&&this.props.preventOpacityTransition},t.prototype.getScaledPopupAnimationStyle=function(){var e={};return this.props.preventScaleTransition||(e.scaleX=this.props.open?1:t.popupHiddenScale,e.scaleY=this.props.open?1:t.popupHiddenScale),this.props.preventOpacityTransition||(e.opacity=this.props.open?1:0),e},t.prototype.getScaledPopupHiddenAnimationStyle=function(){var e={};return this.props.preventOpacityTransition||(e.opacity=0),this.props.preventScaleTransition||this.isSlideUp(this.props)||(e.scaleX=t.popupHiddenScale,e.scaleY=t.popupHiddenScale),e},t.prototype.getScaledPopupAnimationSpringConfig=function(){return{opacity:{stiffness:t.popupOpacityStiffness,damping:t.popupOpacityDamping,precision:1e-4},scaleX:this.getScaleSpring(!0),scaleY:this.getScaleSpring(!1)}},t.prototype.getScaleSpring=function(e){void 0===e&&(e=!0);var r=m.Placement.Top,n=m.Placement.Bottom,o=this.getCurrentPlacementToOrigin(),a=u.includes([r,n],o);return a&&e||!a&&!e?{stiffness:t.popupStiffness,damping:t.popupDamping}:{stiffness:t.popupSpreadStiffness,damping:t.popupSpreadDamping}},t.prototype.getBoxWrapStyle=function(){var e={borderRadius:3,background:this.theme.popoverBackground,boxShadow:this.theme.popoverBoxShadow,position:"relative",maxWidth:"calc(100vw - 24px)"};return this.props.sameWidthAsOrigin&&this.originRect&&(e.width=Math.round(this.originRect.width)),this.props.isFullWidthOnMobile&&p.default.isMobile&&(e.minWidth=e.maxWidth),i({},e,this.props.style)},t.prototype.setClosedStoreState=function(){this.stores.store.setState(i({},this.stores.store.state,{open:!1,placementFlipped:!1}))},t.prototype.getCurrentPlacementToOrigin=function(){var e=this.getDesiredPlacementToOrigin();return this.stores.store.state.placementFlipped?h.getFlippedPlacement(e):e},t.prototype.getDesiredPlacementToOrigin=function(){return _.isNotDefined(this.props.placementToOrigin)?m.Placement.Bottom:this.props.placementToOrigin},t.prototype.getAlignmentToOrigin=function(){return _.isNotDefined(this.props.alignmentToOrigin)?m.Alignment.Center:this.props.alignmentToOrigin},t.prototype.measureOriginRect=function(){if(this.props.originRect)this.originRect=this.props.originRect;else if(this.componentIsMounted){var e=c.findDOMNode(this);e&&e instanceof Element&&(this.originRect=e.getBoundingClientRect())}},t.prototype.keepInBound=function(){if(this.popupEl){var e=this.popupEl.getBoundingClientRect();this.props.open&&this.originRect&&e.height>0&&(!this.popupRect||this.popupRect.height!==e.height||this.popupRect.width!==e.width)&&d.keepInBound({store:this.stores.store,placementToOrigin:this.getDesiredPlacementToOrigin(),alignmentToOrigin:this.getAlignmentToOrigin(),originRect:this.originRect,popupRect:e,placementFlipped:this.stores.store.state.placementFlipped,viewportPadding:this.props.viewportPadding||12}),this.popupRect=e}},t.prototype.isSlideUp=function(e){return e.popupType===l.SlideUp},t.Placement=m.Placement,t.Alignment=m.Alignment,t.PopupType=l,t.stores={store:h.default},t.popupHiddenScale=.96,t.popupOpacityStiffness=100,t.popupOpacityDamping=10,t.popupStiffness=58,t.popupDamping=4.3,t.popupSpreadStiffness=70,t.popupSpreadDamping=4,t.alignmentToTransform=((o={})[m.Alignment.Start]="0%",o[m.Alignment.Center]="50%",o[m.Alignment.End]="100%",o),t}(g.default);t.Popup=x,t.default=x},"wZk+":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("i8i4"),s=r("mF3+"),u=r("y6Dp"),c=r("i3uR"),d=r("LeVO"),p=r("t+pW"),f=r("uSCg"),h=r("VOS9"),m=r("u+oF"),y=r("r8oj"),g=r("BJyN"),v=r("gbGO"),b=r("ZQ9l"),w=r("2Y+N"),S=r("0hFN"),_=r("QcDD"),k=r("MeYt"),C=r("6rsX"),E=r("7M94"),P=r("KTXS"),x=r("qqdV"),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderOrigin=function(e){return i.createElement(d.default,{renderTooltip:function(){return"Style, Export, and more..."},placement:d.default.Placement.Bottom,delayThreshold:400,render:function(r){return i.createElement(k.default,a({ref:t.handleButtonMount,style:t.getButtonStyle(),mobileFeedback:y.default.isMobile,className:E.topbarMoreButton},f.default(e,r)),s.default.dots({width:18,height:18}))}})},t.renderPopup=function(){var e,r=t.props.store,n={blocks:[r],originRect:t.onClickOriginRect},o=!r.isCollectionView()&&r.canEdit()&&r.getContentIds().length>0&&i.createElement(w.default,{topBorder:!0},i.createElement(b.default,{caption:i.createElement("span",{style:{color:t.theme.lightTextColor}},"Word Count: ",i.createElement(m.default,{store:r}))}));return e=y.default.isMobile?{menuType:v.default.MenuType.Modal,title:"Actions",right:"Done",onClickRight:t.handleDismiss}:{menuType:v.default.MenuType.Popup,width:210,maxHeight:"80vh"},i.createElement(v.default,a({},e),i.createElement(h.default,{sections:g.topbarMoreActions,onAccept:t.handleAccept,context:n}),o,r.canEdit()&&t.renderBlockAuthorInfo(),r.canEdit()&&r.isCollectionView()&&t.renderCollectionHelpButton())},t.handleButtonMount=function(e){e&&(t.originEl=l.findDOMNode(e))},t.handleClick=function(){C.clear(),t.originEl&&(t.onClickOriginRect=t.originEl.getBoundingClientRect()),u.trackOpenMoreMenu()},t.handleDismiss=function(){t.props.buttonPopupStore.setState(a({},t.props.buttonPopupStore.state,{open:!1}))},t.handleAccept=function(e){var r=_.default.state.currentBlockStore;if(r&&e.name){var n=r.getType();n&&u.trackBlockAction({name:e.name,from:"topbar_more_menu",block_type:n})}e.closeParentMenu&&t.handleDismiss()},t}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(c.default,{popupType:y.default.isMobile?c.default.PopupType.SlideUp:c.default.PopupType.Popup,buttonPopupStore:this.props.buttonPopupStore,renderOrigin:this.renderOrigin,onClick:this.handleClick,render:this.renderPopup,originGap:8})},t.prototype.renderBlockAuthorInfo=function(){var e=this.props.store;return i.createElement(S.default,{store:e,isPageMoreButton:!e.isCollectionView()})},t.prototype.renderCollectionHelpButton=function(){return i.createElement(w.default,{topBorder:!0,disableDesktopPadding:!0},i.createElement(P.default,{title:"Learn about databases",href:x.guides.database,analyticsFrom:"topbar_more_button"}))},t.prototype.getButtonStyle=function(){return y.default.isMobile?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",marginLeft:8,marginRight:8}:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:3}},t}(p.default);t.default=T},wgT4:function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.StatusExpiredToken="ExpiredToken",t.isUnauthenticatedResponse=function(e,r){return 401===e&&"object"===(void 0===r?"undefined":n(r))&&r.status===t.StatusExpiredToken}},wlCD:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("5Nka"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return a.createElement("img",{className:"loading-spinner",style:this.props.style,src:this.props.isWhite?l.default.images.loadingSpinnerWhiteSvg:l.default.images.loadingSpinnerSvg})},t}(i.default);t.default=s},wldR:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("q1tI"),s=r("hN5C"),u=r("YMM9"),c=r("d933"),d=r("mgru"),p=r("LEzx"),f=r("E5KU"),h=r("LqYT"),m=r("w5u6"),y=function(e){function t(t){var r=e.call(this,t)||this;return r.debug=!1,r.stores={},r.registries=[],r.componentIsMounted=!1,r.componentIsUpdating=!1,r.updateIsQueued=!1,r.computedStores=[],r.enqueueForceUpdate=function(e){r.isDebug()&&f.log(r.constructor.name+".enqueueForceUpdate(queued:"+r.updateIsQueued+")",e),r.updateIsQueued||(r.updateIsQueued=!0,u.logComponentForceUpdate(r,e),m.default.enqueue(r.dequeueForceUpdate))},r.dequeueForceUpdate=function(){return new Promise(function(e){r.componentIsMounted&&!r.componentIsUpdating?r.forceUpdate(e):e(),r.updateIsQueued=!1})},r.autoListener=new c.default({onChange:r.enqueueForceUpdate}),r}return o(t,e),t.prototype.willMount=function(e){},t.prototype.willUpdate=function(e){},t.prototype.willMountOrUpdate=function(e){},t.prototype.didMount=function(){},t.prototype.didUpdate=function(e){},t.prototype.didMountOrUpdate=function(){},t.prototype.willUnmount=function(){},t.prototype.renderComponent=function(){return null},t.prototype.componentWillMount=function(){var e,t;this.isDebug()&&(f.log(this.constructor.name+".willMount()"),this.autoListener.debug=!0),this.createStores();try{for(var r=a(this.registries),n=r.next();!n.done;n=r.next()){var o=n.value;s.registerComponent({component:this,registry:o})}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.autoListener.startListener(!0),this.componentIsUpdating=!0,this.willMount(this.props),this.willMountOrUpdate(this.props),this.autoListener.stopListener()},t.prototype.componentDidMount=function(){this.isDebug()&&f.log(this.constructor.name+".didMount()"),this.componentIsMounted=!0,this.componentIsUpdating=!1,u.logComponentRender(this),this.didMount(),this.didMountOrUpdate()},t.prototype.componentWillReceiveProps=function(e){var t,r;try{for(var n=a(this.computedStores),o=n.next();!o.done;o=n.next()){o.value.setShouldRecompute()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},t.prototype.shouldComponentUpdate=function(e){return!d.default(this.props,e)},t.prototype.componentWillUpdate=function(e){var t=this;if(this.isDebug()){f.log(this.constructor.name+".willUpdate()",e);var r=i.uniq(Object.keys(e).concat(Object.keys(this.props))).filter(function(r){return e[r]!==t.props[r]});r.length&&f.log("changed:",r)}m.default.removeFromQueue(this.dequeueForceUpdate),this.updateIsQueued=!1,this.autoListener.startListener(!0),this.componentIsUpdating=!0,this.willUpdate(e),this.willMountOrUpdate(e),this.autoListener.stopListener()},t.prototype.componentDidUpdate=function(e){this.isDebug()&&f.log(this.constructor.name+".didUpdate()"),this.componentIsUpdating=!1,u.logComponentRender(this),this.didUpdate(e),this.didMountOrUpdate()},t.prototype.componentWillUnmount=function(){var e,t;this.isDebug()&&f.log(this.constructor.name+".willUnmount()"),this.componentIsMounted=!1,this.componentIsUpdating=!1;try{for(var r=a(this.registries),n=r.next();!n.done;n=r.next()){var o=n.value;s.unregisterComponent({component:this,registry:o})}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.autoListener.destroy(),this.computedStores=[],this.willUnmount()},t.prototype.render=function(){this.isDebug()&&f.log(this.constructor.name+".render()"),this.autoListener.startListener(!1);var e=this.renderComponent();return this.autoListener.stopListener(),e||null},t.prototype.createComputedStore=function(e){var t=new h.default(e);return this.computedStores.push(t),t},t.prototype.createStores=function(){var e=this.constructor.stores||{};for(var t in e)this.props[t]?this.stores[t]=this.props[t]:e[t]instanceof p.default?this.stores[t]=e[t]:e[t]&&(this.stores[t]=new e[t])},t.prototype.isDebug=function(){return this.debug||this.props.debug},t.stores={},t}(l.Component);t.default=y},wo7W:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("r8oj"),l=r("aF0I"),s="ASYNCLRU:";t.initializeStorage=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return i.default.isReactNative&&l.reactNativeSendApi.execSql?[4,l.reactNativeSendApi.execSql("create table if not exists notion (id integer primary key, key unique, value)",[])]:[3,2];case 1:if((e=t.sent()).error)throw new Error(e.error.message);t.label=2;case 2:return[2]}})})},t.getItem=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){switch(n.label){case 0:return i.default.isReactNative&&l.reactNativeSendApi.execSql?[4,l.reactNativeSendApi.execSql("select * from notion where key = ? limit 1",[e])]:[3,2];case 1:if((r=n.sent()).error)throw new Error(r.error.message);return r.value.length>0?(t=r.value[0],[2,JSON.parse(t.value)]):[3,3];case 2:if(r=localStorage.getItem(s+e))return[2,JSON.parse(r)];n.label=3;case 3:return[2]}})})},t.setItem=function(e,t){return n(this,void 0,void 0,function(){var r;return o(this,function(n){switch(n.label){case 0:return i.default.isReactNative&&l.reactNativeSendApi.execSql?[4,l.reactNativeSendApi.execSql("insert or replace into notion (key, value) values (?, ?)",[e,JSON.stringify(t).replace(/\u2028/g,"").replace(/\u2029/g,"")])]:[3,2];case 1:if((r=n.sent()).error)throw new Error(r.error.message);return[3,3];case 2:localStorage.setItem(s+e,JSON.stringify(t)),n.label=3;case 3:return[2]}})})},t.removeItem=function(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return i.default.isReactNative&&l.reactNativeSendApi.execSql?[4,l.reactNativeSendApi.execSql("delete from notion where key = ?",[e])]:[3,2];case 1:if((t=r.sent()).error)throw new Error(t.error.message);return[3,3];case 2:localStorage.removeItem(s+e),r.label=3;case 3:return[2]}})})},t.scanItems=function(e){return n(this,void 0,void 0,function(){var t,r,n,u,c,d,p,f,h;return o(this,function(o){switch(o.label){case 0:return i.default.isReactNative&&l.reactNativeSendApi.execSql?[4,l.reactNativeSendApi.execSql("select * from notion",[])]:[3,2];case 1:if((f=o.sent()).error)throw new Error(f.error.message);try{for(n=a(f.value),u=n.next();!u.done;u=n.next())c=u.value,e(c.key,JSON.parse(c.value))}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return[3,3];case 2:for(d=0;d<localStorage.length;d++)(p=localStorage.key(d))&&p.startsWith(s)&&(f=localStorage.getItem(p))&&(h=JSON.parse(f),e(p.slice(s.length),h));o.label=3;case 3:return[2]}})})},t.getSize=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return i.default.isReactNative&&l.reactNativeSendApi.execSql?[4,l.reactNativeSendApi.execSql("select count(key) as count from notion",[])]:[3,2];case 1:if((e=t.sent()).error)throw new Error(e.error.message);return 0===e.value.length?[2,0]:[2,e.value[0].count];case 2:return[2,localStorage.length];case 3:return[2]}})})},t.clearStorage=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return i.default.isReactNative&&l.reactNativeSendApi.execSql?[4,l.reactNativeSendApi.execSql("delete from notion",[])]:[3,2];case 1:if((e=t.sent()).error)throw new Error(e.error.message);return[3,3];case 2:return[2,localStorage.clear()];case 3:return[2]}})})}},wpmu:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl"),i=r("2Yor"),l=r("bjn0"),s=r("zok3"),u=r("bPtJ"),c=r("G4cA"),d=r("T1hA"),p=r("hbKx"),f=r("RJuv"),h=r("VpIZ"),m=r("HRSx"),y=r("udrG"),g=r("6SEd"),v=r("njgS"),b=r("z22Z"),w=r("FUUC"),S=function(e){function t(t,r){return e.call(this,m.default.table,t,[],r)||this}return o(t,e),t.createChildStore=function(e,r){var n=u.default.getChildStoreKey(m.default.table,r,t.keyName),o=e.getRecordStoreChildStore(n),a=o||new t(r,e.recordCacheStore);return o||a.setRecordStoreParent(e,n),a},t.fromRecordStore=function(e){return t.createChildStore(e,e.id)},t.prototype.clone=function(){return new t(this.id,this.recordCacheStore)},t.prototype.getType=function(){var e=this.getValue();if(e&&e.type)return e.type},t.prototype.getProperties=function(){var e=this.getValue();return e&&e.properties?e.properties:{}},t.prototype.getPropertiesStore=function(){return u.createRecordKeyStore(this,m.default.table,this.id,"properties")},t.prototype.getPermissionsStore=function(){return u.createRecordKeyStore(this,m.default.table,this.id,"permissions")},t.prototype.getPermissionItems=function(){var e=this.getValue();return e&&e.permissions&&e.permissions?e.permissions:[]},t.prototype.isTopLevelWorkspacePage=function(e){var t=this.getValue();return!(!t||t.parent_table!==w.default.table||t.parent_id!==e)&&h.hasSpacePermission(t)},t.prototype.isTopLevelSharedPage=function(){var e=this.getValue(),t=d.default.state.userId;if(e&&e.parent_table===w.default.table&&t&&!h.hasSpacePermission(e)&&e.permissions){var r=e.permissions.filter(b.isUserPermission);return a.uniq(r.map(function(e){return e.user_id})).length>1||h.hasGroupPermission(e)}return!1},t.prototype.isTopLevelPrivatePage=function(e){var t=this.getValue(),r=d.default.state.userId;if(t&&t.parent_table===w.default.table&&t.parent_id===e&&r&&!h.hasSpacePermission(t)&&!h.hasGroupPermission(t)&&t.permissions){var n=t.permissions.some(function(e){return"public_permission"===e.type&&!("reader"===e.role||"comment_only"===e.role)}),o=a.uniq(t.permissions.filter(b.isUserPermission).map(function(e){return e.user_id}));return Boolean(1===o.length&&o[0]===r||0===o.length&&n)}return!1},t.prototype.isSharedWithCurrentUserViaExplicitPermission=function(){if(!this.getValue())return!1;var e=d.default.state.userId;if(!e)return!1;var t=this.getPermissionItems();return Boolean(t.filter(b.isUserPermission).find(function(t){return t.user_id===e}))},t.prototype.isSharedWithCurrentUserViaPermissionGroup=function(e){if(!this.getValue())return!1;var t=d.default.state.userId;if(!t)return!1;var r=this.getPermissionItems(),n=e.getPermissionGroups().filter(function(e){return e.user_ids&&e.user_ids.indexOf(t)>=0});return Boolean(r.filter(b.isGroupPermission).find(function(e){return n.findIndex(function(t){return t.id===e.group_id})>=0}))},t.prototype.getContentIds=function(){var e=this.getValue();return e?h.getBlockChildren(e):[]},t.prototype.isEmptyPage=function(){var e=this.getValue();return Boolean(e&&"page"===e.type&&(!e.content||0===e.content.length))},t.prototype.isEmptyEditableBlock=function(){var e=this.getType();return e&&m.titleTypes[e]&&!this.getProperties().title},t.prototype.isEmptyTitle=function(){var e=this.getTitleStore();return Boolean(e&&!e.getValue())},t.prototype.getContentStore=function(){return u.createRecordKeyStore(this,m.default.table,this.id,"content")},t.prototype.getContentStores=function(){var e=this.getContentStore(),r=e.getValue()||[];return a.map(r,function(r){return t.createChildStore(e,r)})},t.prototype.isPageBlock=function(){return this.getType()===y.default.page},t.prototype.isNavigableBlock=function(){var e=this.getValue();return!!e&&h.isNavigableType(e)},t.prototype.getTitleStore=function(){if(!this.isCollectionView())return this.getPropertyStore("title");var e=this.getCollectionViewCollectionStore();return e&&e.getValue()?e.getNameStore():void 0},t.prototype.getCollectionTitleStore=function(){if(this.isCollectionView()){var e=this.getCollectionViewCollectionStore();if(e)if(e.getValue())return e.getNameStore()}},t.prototype.getBlockTitleStore=function(){return this.getPropertyStore("title")},t.prototype.getTitleValue=function(){var e=this.getTitleStore();return e&&e.getValue()||[]},t.prototype.getPropertyStore=function(e){return u.createRecordPathStore(this,m.default.table,this.id,["properties",e])},t.prototype.getPropertyValue=function(e){var t=this.getValue();if(t&&t.properties)return t.properties[e]},t.prototype.isType=function(e){return this.getType()===e},t.prototype.getColumnRatio=function(){var e=this.getFormat().column_ratio;return i.default(e,0,1,1)},t.prototype.isAlias=function(){var e=this.getValue();if(e){var t=e.parent_id,r=this.recordStoreParent();if(r)return t!==r.id}return!1},t.prototype.isTemplate=function(){var e=this.getValue();return!!e&&Boolean(e.is_template)},t.prototype.isCollectionViewAlias=function(){var e=this.getCollectionViewCollectionStore();if(e){var t=e.getValue();return Boolean(t&&t.parent_id!==this.id)}return!1},t.prototype.isColumnChild=function(){var e=this.recordStoreAncestor(2);if(e){var t=e.getValue();return t&&t.type===y.default.column}return!1},t.prototype.getParentId=function(){var e=this.getValue();if(e&&e.parent_id)return e.parent_id},t.prototype.getParentTable=function(){var e=this.getValue();if(e&&e.parent_table)return e.parent_table},t.prototype.isTopLevel=function(){return this.getParentTable()===w.default.table},t.prototype.getParentBlockStore=function(){var e=this.getParentId(),r=this.getParentTable();if(e&&r===m.default.table)return t.createChildStore(this,e)},t.prototype.getParentCollectionStore=function(){var e=this.getParentId(),t=this.getParentTable();if(e&&t===g.default.table)return l.default.createChildStore(this,e)},t.prototype.getParentCollectionTemplateStores=function(){var e=this.getParentCollectionStore();if(e)return e.getTemplatePagesStores()},t.prototype.getParentSpaceStore=function(){var e=this.getParentId(),t=this.getParentTable();if(e&&t===w.default.table)return c.default.createChildStore(this,e)},t.prototype.getParentStore=function(){var e=this.getParentId(),r=this.getParentTable();if(e){if(r===g.default.table)return l.default.createChildStore(this,e);if(r===w.default.table)return c.default.createChildStore(this,e);if(r===m.default.table)return t.createChildStore(this,e)}},t.prototype.getParentCollectionId=function(){var e=this.getParentCollectionStore();if(e)return e.id},t.prototype.getFormatStore=function(){return u.createRecordKeyStore(this,m.default.table,this.id,"format")},t.prototype.getFormat=function(){var e=this.getValue();return e&&e.format?e.format:{}},t.prototype.getSchema=function(){var e=this.getParentCollectionStore();return e?e.getSchema():v.systemPropertyTypeMap},t.prototype.isFullWidth=function(){return Boolean(this.getFormat().page_full_width)},t.prototype.hasIcon=function(){return Boolean(this.getIcon())},t.prototype.getIcon=function(){var e=this,t=this.getValue();if(t)return h.getRecordIcon({table:"block",value:t,getRecordValue:function(t,r){return u.createRecordStore(e,t,r).getValue()}})},t.prototype.getBlockIconStore=function(){return u.createRecordPathStore(this,m.default.table,this.id,["format","page_icon"])},t.prototype.getIconStore=function(){if(!this.isCollectionView())return this.getBlockIconStore();var e=this.getCollectionViewCollectionStore();return e&&e.getValue()?e.getIconStore():void 0},t.prototype.hasCover=function(){return Boolean(this.getCover())},t.prototype.getCover=function(){var e=this,t=this.getValue();if(t)return h.getRecordCover({table:"block",value:t,getRecordValue:function(t,r){return u.createRecordStore(e,t,r).getValue()}})},t.prototype.getBlockCoverStore=function(){return u.createRecordPathStore(this,m.default.table,this.id,["format","page_cover"])},t.prototype.getCoverStore=function(){if(!this.isCollectionView())return this.getBlockCoverStore();var e=this.getCollectionViewCollectionStore();return e&&e.getValue()?e.getCoverStore():void 0},t.prototype.getNavigableBlockStore=function(){return p.getNavigablePath(this)[0]},t.prototype.isNavigableAncestorLocked=function(){var e=this,t=p.getNavigablePath(this).filter(function(t){return t.id!==e.id})[0];return!!t&&t.isLocked()},t.prototype.isLocked=function(){var e=this.getValue();return Boolean(e&&e.format&&e.format.block_locked)},t.prototype.getNavigableAncestorFormat=function(){var e=this;return p.getNavigablePath(this).filter(function(t){return t.id!==e.id})[0].getFormat()},t.prototype.isInlineCollectionView=function(){var e=this.getValue();return!!e&&h.isInlineCollectionView(e)},t.prototype.isCollectionView=function(){var e=this.getValue();return!!e&&h.isCollectionView(e)},t.prototype.isInsideCollection=function(){var e=this,t=p.getNavigablePath(this).filter(function(t){return t.id!==e.id})[0];return!!t&&t.isCollectionView()},t.prototype.getCollectionViewStores=function(){var e=this,t=this.getValue();return t&&t.view_ids?a.map(t.view_ids,function(t){return s.default.createChildStore(e,t)}):[]},t.prototype.getCollectionViewCollectionStore=function(){var e=this.getValue();if(e&&e.collection_id)return l.default.createChildStore(this,e.collection_id)},t.prototype.getFollowStore=function(){var e=d.default.state.userId;if(e){var t=f.getFollowId({navigable_block_id:this.id,user_id:e});return u.createRecordStore(this,f.default.table,t)}},t.prototype.isFollowing=function(){var e=this.getFollowStore();if(e){var t=e.getValue();return!!t&&t.following}return!1},t.keyName="BlockStore",t}(u.default);t.default=S},wvIE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0GcB"),o=r("78yG"),a=r("oqYu"),i=r("oWRT"),l=r("bK/N"),s=r("+UXM");t.setTheme=function(e){var t,r={mode:e.mode};n.default.setState(r),a.setTheme(e.mode),i.setTheme(e.mode),l.setTheme(o.getElectronTheme(e.mode)),t=r,s.default.set(u,t)};var u="theme";t.startListeners=function(){var e=s.default.get(u)||{mode:"light"};t.setTheme(e)}},wweX:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("i8i4"),a=r("STAJ"),i=r("6rsX"),l=r("unoy"),s=r("njgS"),u=r("MBf9"),c=r("Ajfl"),d=r("cBa6"),p=r("+575"),f=r("N34Z"),h=r("X6Ne"),m=r("ouJW"),y=r("w5u6");t.open=function(e){var t=e.blockPropertyValueOverlayStore,r=e.store,n=e.additionalStores,p=e.property,f=e.format,g=e.preventClearSelection,v=e.insertChar,b=e.uploadFiles,w=(r.getSchema()||{})[p],S=m.default.findBlockPropertyValue(r,p),_=e.rect;if(S&&(h.scrollIntoView({component:S}),!_)){var k=o.findDOMNode(S);k instanceof Element&&(_=k.getBoundingClientRect())}if(_){var C=r.clone();if(t.setState({isOpen:!0,store:r,clonedStore:C,additionalStores:n||[],property:p,format:f,rect:_,preventClearSelection:g,insertChar:v,uploadFiles:b}),w&&a.contains(w.type,s.textEditableTypes)){g||i.clear();var E=C.getPropertyStore(p);v&&u.createAndCommit(function(e){c.setValue({store:E,value:d.createTextValue(v),transaction:e})}),y.default.afterNextFlush(function(){y.default.afterNextFlush(function(){y.default.afterNextFlush(function(){l.setSelectionAtEnd({store:E})})})})}else g||i.clear(),l.clear()}},t.close=function(e){var t=e.blockPropertyValueOverlayStore,r=t.state;r.isOpen&&(r.preventClearSelection||i.clear(),t.reset())},t.toggleCheckbox=function(e){var t,r,o=e.stores,a=e.property,i=e.transaction,l=o[0].getPropertyStore(a),s=p.toCheckboxValue(l.getValue());try{for(var u=n(o),c=u.next();!c.done;c=u.next()){var d=c.value;f.setValue({store:d.getPropertyStore(a),value:p.fromCheckboxValue(!s),transaction:i})}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}},t.onTab=function(e){var r=e.blockPropertyValueOverlayStore.state;if(r.isOpen){var n=r.store,o=r.property,a=m.default.findBlockPropertyValue(n,o);a&&a.props.onTab?a.props.onTab():t.close(e)}},t.onUntab=function(e){var r=e.blockPropertyValueOverlayStore.state;if(r.isOpen){var n=r.store,o=r.property,a=m.default.findBlockPropertyValue(n,o);a&&a.props.onUntab?a.props.onUntab():t.close(e)}},t.onEnter=function(e){var r=e.blockPropertyValueOverlayStore.state;if(r.isOpen){var n=r.store,o=r.property,a=m.default.findBlockPropertyValue(n,o);a&&a.props.onEnter?a.props.onEnter():t.close(e)}},t.onClick=function(e){var r=e.blockPropertyValueOverlayStore.state;if(r.isOpen){var n=r.store,o=r.property,a=m.default.findBlockPropertyValue(n,o);a&&a.props.onClick?a.props.onClick():t.close(e)}},t.onEsc=function(e){var r=e.blockPropertyValueOverlayStore.state;if(r.isOpen){var n=r.store,o=r.property,a=m.default.findBlockPropertyValue(n,o);a&&a.props.onEsc?a.props.onEsc():t.close(e)}},t.onBgClick=function(e){var r=e.blockPropertyValueOverlayStore.state;if(r.isOpen){var n=r.store,o=r.property,a=m.default.findBlockPropertyValue(n,o);a&&a.props.onBgClick?a.props.onBgClick():t.close(e)}},t.onOpenProperty=function(e){var r=e.blockPropertyValueOverlayStore,n=e.openProperty,o=r.state;if(o.isOpen){var a=o.store,i=o.property,l=m.default.findBlockPropertyValue(a,i);l&&l.props.onOpenProperty?l.props.onOpenProperty(n):t.close(e)}}},wy14:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("udrG"),a=r("wpmu"),i=r("y6Dp"),l=r("jZoB"),s=r("N34Z"),u=r("5w/s"),c=function(e){var t=e.recordStoreAncestor(2);if(t&&t instanceof a.default&&t.isType(o.default.columnList))return t},d=function(e){return e&&e instanceof a.default&&e.isType(o.default.column)};t.wrapInColumnList=function(e){var t,r,a=e.targets,u=e.recordCacheStore,c=e.transaction,d=s.createBlock({type:o.default.columnList,properties:{},recordCacheStore:u,transaction:c}),p=d.getContentStore();try{for(var f=n(a),h=f.next();!h.done;h=f.next()){var m=h.value;l.append({parent:p,append:m,transaction:c})}}catch(e){t={error:e}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}return i.trackCreateColumnList(),d},t.wrapInColumn=function(e){var t,r,a=e.targets,i=e.recordCacheStore,u=e.transaction,c=s.createBlock({type:o.default.column,format:{column_ratio:1},recordCacheStore:i,transaction:u}),d=c.getContentStore();try{for(var p=n(a),f=p.next();!f.done;f=p.next()){var h=f.value;l.append({parent:d,append:h,transaction:u})}}catch(e){t={error:e}}finally{try{f&&!f.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return c},t.insertLeft=function(e){var r,n,o=e.parent,s=e.insertStores,u=e.left,p=e.transaction;if(i.trackInsertColumn({side:"left"}),d(u))r=u,n=c(u);else{r=t.wrapInColumn({targets:[u],recordCacheStore:o.recordCacheStore,transaction:p});var f=t.wrapInColumnList({targets:[r],recordCacheStore:o.recordCacheStore,transaction:e.transaction});n=l.replaceChild({parent:o,oldChild:u,newChild:f,transaction:p}).child}var h=t.wrapInColumn({targets:s,recordCacheStore:o.recordCacheStore,transaction:p});if(n){var m=n.getContentStore();return l.insertBefore({parent:m,insert:h,before:r,transaction:e.transaction}),t.updateRatiosForAddedColumn({columnList:n,addedColumn:h,transaction:p}),a.default.createChildStore(m,h.id).getContentStores()}return[]},t.insertRight=function(e){var r,n,o=e.parent,s=e.insertStores,u=e.right,p=e.transaction;if(i.trackInsertColumn({side:"right"}),d(u))r=u,n=c(u);else{r=t.wrapInColumn({targets:[u],recordCacheStore:o.recordCacheStore,transaction:p});var f=t.wrapInColumnList({targets:[r],recordCacheStore:o.recordCacheStore,transaction:e.transaction});n=l.replaceChild({parent:o,oldChild:u,newChild:f,transaction:p}).child}var h=t.wrapInColumn({targets:s,recordCacheStore:o.recordCacheStore,transaction:p});if(n){var m=n.getContentStore();return l.insertAfter({parent:m,insert:h,after:r,transaction:e.transaction}),t.updateRatiosForAddedColumn({columnList:n,addedColumn:h,transaction:p}),a.default.createChildStore(m,h.id).getContentStores()}return[]},t.updateRatiosForAddedColumn=function(e){var t,r,o=e.columnList,a=e.addedColumn,i=e.transaction,l=o.getContentStores(),s=1/l.length;u.updateFormat({stores:[a],update:{column_ratio:s},transaction:i});try{for(var c=n(l),d=c.next();!d.done;d=c.next()){var p=d.value;if(p.id!==a.id){var f=p.getColumnRatio();u.updateFormat({stores:[p],update:{column_ratio:(1-s)*f},transaction:i})}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}},t.updateRatiosForRemovedColumn=function(e){var t,r,o=e.columnList,a=e.removedColumn,i=e.transaction,l=o.getContentStores(),s=a.getColumnRatio();try{for(var c=n(l),d=c.next();!d.done;d=c.next()){var p=d.value,f=p.getColumnRatio();u.updateFormat({stores:[p],update:{column_ratio:f/(1-s)},transaction:i})}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}},t.garbageCollectColumn=function(e){var r,o,a,i,s,u=e.parent,p=e.transaction,f=u.recordStoreParent();if(d(f)&&(s=c(f)),s){var h=s.getContentStore(),m=s.getContentStores();try{for(var y=n(m),g=y.next();!g.done;g=y.next()){var v=g.value;0===v.getContentIds().length&&(l.remove({parent:h,remove:v,shouldGarbageCollect:!1,transaction:p}),t.updateRatiosForRemovedColumn({columnList:s,removedColumn:v,transaction:p}))}}catch(e){r={error:e}}finally{try{g&&!g.done&&(o=y.return)&&o.call(y)}finally{if(r)throw r.error}}var b=s.getContentStores();if(0===b.length)(w=s.recordStoreParent())&&l.remove({parent:w,remove:s,transaction:p,shouldGarbageCollect:!1});else if(1===b.length){var w=s.recordStoreParent(),S=b[0],_=S.getContentStore(),k=S.getContentStores();if(k.reverse(),w){try{for(var C=n(k),E=C.next();!E.done;E=C.next()){var P=E.value;l.remove({parent:_,remove:P,shouldGarbageCollect:!1,transaction:p}),l.insertAfter({parent:w,insert:P,after:s,transaction:p})}}catch(e){a={error:e}}finally{try{E&&!E.done&&(i=C.return)&&i.call(C)}finally{if(a)throw a.error}}l.remove({parent:w,remove:s,transaction:p,shouldGarbageCollect:!1})}}}}},wypy:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r("xEkU");var a=!1;function i(){a||(a=!0,o(function(){a=!1,(n||((n=document.createElement("div")).style.position="fixed",n.style.top="-9999px",n.style.left="-9999px",n.style.zIndex="-9999",document.body.appendChild(n)),n).style.height=Math.random()+"px"}))}t.rerenderSelectionCaret=function(){var e=window.getSelection();e&&e.anchorNode&&i()}},x0lk:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("LvDl");t.zero={left:0,top:0,width:0,height:0,bottom:0,right:0},t.isRect=function(e){return e&&(n.isNumber(e.top)||n.isNumber(e.left))},t.within=function(e,t,r){return e.left<=t&&t<=e.right&&e.top<=r&&r<=e.bottom},t.withinRect=function(e,t){return e.left<=t.left&&e.right>=t.right&&e.top<=t.top&&e.bottom>=t.bottom},t.intersects=function(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)},t.intersectsHorizontally=function(e,t){return!(e.right<=t.left||t.right<=e.left)},t.offset=function(e,t,r){return{left:e.left+t,right:e.right+t,top:e.top+r,bottom:e.bottom+r,width:e.width,height:e.height}},t.expand=function(e,t){return{left:e.left-t,right:e.right+t,top:e.top-t,bottom:e.bottom+t,width:e.width+2*t,height:e.height+2*t}}},x4bP:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("t+pW"),u=r("YIRN"),c=r("LeVO"),d=r("mF3+"),p=r("MeYt"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTooltip=function(){return i.createElement("div",{style:{textAlign:"center"}},"Drag"," ",i.createElement("span",{style:{color:t.theme.mediumInvertedTextColor}},"to move"),!t.props.hideClickMessage&&i.createElement(l.Fragment,null,i.createElement("br",null),"Click"," ",i.createElement("span",{style:{color:t.theme.mediumInvertedTextColor}},"to open menu")))},t}return o(t,e),t.prototype.renderComponent=function(){var e=this;return i.createElement(c.default,{placement:c.default.Placement.Bottom,delayThreshold:300,renderTooltip:this.renderTooltip,render:function(t){return i.createElement(p.default,a({style:e.getStyle(),onClick:e.props.onClick},t),d.default.dragHandle({width:14,height:14}))}})},t.prototype.getStyle=function(){return{display:"flex",alignItems:"center",justifyContent:"center",cursor:"grab",width:u.default.width,height:24,borderRadius:3,fill:this.theme.lightIconColor}},t.width=u.default.width,t.height=u.default.height,t}(s.default);t.default=f},x5ZY:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("5FB0"),i=function(e,t){return a.default({url:"/__admin/"+e,method:"POST",data:t,json:!0})};t.loginAsUser=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){return[2,i("loginAsUser",e)]})})}},xAD1:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r("Uv1v").default);t.default=new a},xPNA:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("mF3+"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.size*(this.props.isLarge?1:.9),t=a({width:e,height:e,fill:this.theme.regularIconColor},this.props.pageIconStyle);return this.props.isEmptyPage?i.default.pageEmpty(t):i.default.page(t)},t}(r("t+pW").default);t.default=l},xRf7:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("r8oj"),l=r("t+pW"),s=r("/6eU"),u=r("wXH4"),c=r("AjLL"),d=r("enKW"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.default.isMobile?a.createElement(u.default,{popupType:i.default.isMobile?u.default.PopupType.SlideUp:u.default.PopupType.Popup,open:this.props.open,render:this.props.renderContent,onDismiss:this.props.onDismiss,origin:this.props.origin}):a.createElement(s.default,{open:this.props.open,preventHideChildrenWhileOpening:!0,style:{alignItems:"flex-start"},innerStyle:this.getModalStyle(),onDismiss:this.props.onDismiss,render:this.props.renderContent,origin:this.props.origin})},t.prototype.getTopbarHeight=function(){return i.default.isElectronMac?c.default.desktopMacHeight:c.default.defaultHeight},t.prototype.getModalStyle=function(){return{top:2*this.getTopbarHeight(),borderRadius:3,overflow:"hidden",boxShadow:d.getShadow({elevation:5,color:this.theme.shadowColor,opacity:this.theme.shadowOpacity}),background:this.theme.contentBackground}},t}(l.default);t.default=p},xVnP:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("wldR"),c=r("DlEO"),d=r("yNyh"),p=r("62KP"),f=r("1Imc"),h=r("zmp8"),m=r("enKW"),y=r("y6Dp"),g=r("bkwR"),v=r("frzs"),b=r("H4VD"),w=r("qqdV"),S=r("4VgC"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleLoginClick=function(){return i(t,void 0,void 0,function(){var e,t;return l(this,function(r){switch(r.label){case 0:return e=this.stores.loginStore.state.email,this.props.analyticsName&&y.trackConfirmSignupInput({from:this.props.analyticsName}),[4,g.isGoogleAppsEmail({email:e})];case 1:return"failed"===(t=r.sent()).type?[2]:t.data.isGoogleAppsEmail?(v.requestLoginWithGoogle({store:this.stores.loginStore,email:e,permissionsStore:this.stores.loginPermissionsStore}),[3,4]):[3,2];case 2:return b.navigate({url:w.signup}),c.default.setState({email:e,password:"",showEmail:!0,sentPasswordState:void 0,showPermissions:!1,emailInputFocused:!1}),[4,v.sendTemporaryPassword({store:c.default})];case 3:r.sent(),this.stores.loginStore.reset(),r.label=4;case 4:return[2]}})})},t.handleInputChange=function(e){""===e.target.value&&t.stores.loginStore.setState(a({},t.stores.loginStore.state,{email:"",password:"",alert:void 0,sentPasswordState:void 0})),t.stores.loginStore.setState(a({},t.stores.loginStore.state,{email:e.target.value}))},t.handleInputFocus=function(e){t.stores.loginStore.setState(a({},t.stores.loginStore.state,{emailInputFocused:!0}))},t.handleInputBlur=function(e){t.stores.loginStore.setState(a({},t.stores.loginStore.state,{emailInputFocused:!1}))},t}return o(t,e),t.prototype.renderComponent=function(){return s.createElement("div",{style:a({},t.wrapStyle,this.props.style)},s.createElement(d.default,{style:t.inputStyle,value:this.stores.loginStore.state.email,type:"email",format:d.default.Format.Large,autoFocus:!1,autoComplete:"off",placeholder:"Enter your email...",onSubmit:this.handleLoginClick,showClearButton:!0,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleInputChange}),s.createElement(S.default,{onClick:this.handleLoginClick},this.props.buttonTitle||"Sign Up"))},t.stores={loginStore:f.default,loginPermissionsStore:p.default},t.wrapStyle={display:"flex",alignItems:"center",maxWidth:340,fontSize:15,height:36},t.inputStyle={height:"100%",fontSize:"inherit",flex:1,background:h.default.white,boxShadow:m.default.frontInputShadow,marginRight:8},t}(u.default);t.default=_},xb3e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("g4rC");t.default=new n.default},xboH:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("r8oj"),s=r("wldR"),u=r("wXH4"),c=r("Gw5o"),d=r("qE2X"),p=r("gbGO"),f=r("SYQx"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderDiscussion=function(){if(f.default.state.open){var e=f.default.state,t=e.discussionStore,r=e.discussionInputStore,n=e.blockStore,o=void 0;return o=l.default.isMobile?{menuType:p.default.MenuType.Modal,title:"Discussion",right:"Close",onClickRight:d.closeReplyDiscussionMenu,whiteBackground:!0}:{menuType:p.default.MenuType.Popup,width:420,maxWidth:l.default.isMobileBrowser?"80vw":"100%"},i.createElement(p.default,a({},o),i.createElement(c.default,{store:t,discussionInputStore:r,onDismiss:d.closeReplyDiscussionMenu,format:c.default.Format.Menu,isFirst:!0,isOnly:!0,discussionLocation:"reply_menu",alwaysShowResolve:!0,blockStore:n}))}},t}return o(t,e),t.prototype.renderComponent=function(){var e=f.default.state,t=e.open,r=e.rect;return i.createElement(u.default,{popupType:l.default.isMobile?u.default.PopupType.SlideUp:u.default.PopupType.Popup,open:t,originRect:r,placementToOrigin:u.default.Placement.Bottom,alignmentToOrigin:u.default.Alignment.Center,originGap:4,onDismiss:d.closeReplyDiscussionMenu,render:this.renderDiscussion})},t}(s.default);t.default=h},xcVA:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var c=r("q1tI"),d=r("VBxf"),p=r("AXyr"),f=r("sdlW"),h=r("y6Dp"),m=r("r8oj"),y=r("TzxI"),g=r("IwFn"),v=r("t+pW"),b=r("yNyh"),w=r("2A6Q"),S=r("rQb/"),_=r("Oy36"),k=r("fw5W"),C=r("7Q97"),E=r("N34Z"),P=r("MBf9"),x=r("LeVO"),T=r("aZ00"),O=r("wXH4"),M=r("gbGO"),I=r("WgIs"),A=r("SR/M"),D=r("hU3F"),L=r("2Y+N"),R=r("bkwR"),B=r("D2XV"),j=r("Cycz"),V=r("A9TN"),F=r("q1tI"),N=r("lEhh"),U=r("BfkC"),W=r("7ovu"),z=r("QcDD"),H=r("vJXr"),q=r("r8MX"),G=r("toub"),Z=r("IYZQ"),Y=r("Ng05"),K=r("IULH"),J=r("YoD2"),Q=r("WLsh"),X=r("sSHh"),$=r("qqdV"),ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSpaceNameChange=function(e){t.stores.spaceBasicSettingsStore.setState(a({},t.stores.spaceBasicSettingsStore.state,{name:e.target.value}))},t.handleSpaceUrlChange=function(e){t.stores.spaceBasicSettingsStore.setState(a({},t.stores.spaceBasicSettingsStore.state,{domain:f.validateSpaceDomain(e.target.value)})),t.forceUpdate()},t.handleConfirm=function(){var e=t.props.spaceStore,r=t.stores.spaceBasicSettingsStore.state,n=r.name,o=r.domain,i=r.emailDomains,l=r.disablePublicAccess,s=r.disableGuests,u=r.disableMoveToSpace,c=r.disableExport;P.createAndCommit(function(t){f.updateSpaceSettings({spaceStore:e,name:n,domain:o||void 0,emailDomains:i,disablePublicAccess:l,disableGuests:s,disableMoveToSpace:u,disableExport:c}).then(function(){G.default.setState(a({},G.default.state,{open:!1}))}).catch(function(e){d.showError({error:e})})})},t.handleCancelClick=function(){G.default.setState(a({},G.default.state,{open:!1}))},t.handleExportClick=function(){var e=z.default.state,t=e.currentSpaceStore,r=e.userStore;if(t&&R.exportSpace({spaceId:t.id,timeZone:B.currentTimeZone}).next(),r){var n=r.getValue();n&&d.showDialog({message:c.createElement("div",null,"We are preparing your export now. When it's ready, we'll send an email to ",c.createElement("b",null,n.email),"."),showCancel:!1,keepFocus:!0,items:[{label:"Okay",onAccept:function(){}}]})}},t.handleLeaveClick=function(){var e=t.props.spaceStore,r=z.default.state.userSettingsStore;r&&d.showDialog({message:"Are you sure you want to leave this workspace?",showCancel:!0,keepFocus:!0,items:[{label:"Leave",color:"red",onAccept:function(){f.leaveSpace({spaceId:e.id,userSettingsStore:r}),h.trackLeaveSpace(),G.default.setState(a({},G.default.state,{open:!1}))}}]})},t.handleDeleteClick=function(){return i(t,void 0,void 0,function(){var e,t,r;return l(this,function(n){switch(n.label){case 0:return(e=z.default.state.userSettingsStore)?(t=this.props.spaceStore,r=t.getName()||"Untitled Workspace",[4,p.open({message:c.createElement("div",null,c.createElement("div",null,"This action cannot be undone. This will permanently delete the workspace, including all pages and files. Please type the name of the workspace to confirm."),c.createElement(J.default,{style:{marginTop:16},translations:{es:"Esta acción no se puede deshacer. Esto eliminará permanentemente el espacio de trabajo, incluidas todas las páginas y archivos. Por favor escriba el nombre del espacio de trabajo para confirmar.",ru:"Это действие не может быть отменено. Это навсегда удалит рабочее пространство, включая все страницы и файлы. Пожалуйста, введите название рабочей области для подтверждения.",zh:"此操作无法撤消。 这将永久删除工作区，包括所有页面和文件。 请输入要确认的工作空间的名称。",ko:"이 작업은 실행 취소 할 수 없습니다. 이렇게하면 모든 페이지와 파일을 포함하여 작업 영역이 영구적으로 삭제됩니다. 확인을 위해 작업 공간의 이름을 입력하십시오.",de:"Diese Aktion kann nicht rückgängig gemacht werden. Dadurch wird der Arbeitsbereich einschließlich aller Seiten und Dateien dauerhaft gelöscht. Bitte geben Sie den Namen des Arbeitsbereichs zur Bestätigung ein.",fr:"Cette action ne peut pas être annulée. Cela supprimera définitivement l'espace de travail, y compris toutes les pages et tous les fichiers. Veuillez saisir le nom de l'espace de travail pour confirmer.",ja:"この操作を元に戻すことはできません。 これにより、すべてのページとファイルを含むワークスペースが完全に削除されます。 確認するワークスペースの名前を入力してください。",it:"Questa azione non può essere annullata. Questo eliminerà definitivamente l'area di lavoro, incluse tutte le pagine e i file. Digita il nome dell'area di lavoro per confermare.",pt:"Essa ação não pode ser desfeita. Isso excluirá permanentemente o espaço de trabalho, incluindo todas as páginas e arquivos. Por favor, digite o nome do espaço de trabalho para confirmar.",nl:"Deze actie kan niet ongedaan gemaakt worden. Hiermee wordt de werkruimte permanent verwijderd, inclusief alle pagina's en bestanden. Typ de naam van de werkruimte om te bevestigen.",pl:"Tego działania nie można cofnąć. Spowoduje to trwałe usunięcie obszaru roboczego, w tym wszystkich stron i plików. Wpisz nazwę obszaru roboczego, aby potwierdzić.",sv:"Den här åtgärden kan inte ångras. Detta tar bort arbetsytan permanent, inklusive alla sidor och filer. Vänligen skriv in arbetsplatsens namn för att bekräfta.",uk:"Цю дію не можна скасувати. Це дозволить остаточно видалити робочу область, включаючи всі сторінки та файли. Введіть назву робочої області для підтвердження.",no:"Denne handlingen kan ikke fortrykkes. Dette vil permanent slette arbeidsområdet, inkludert alle sider og filer. Vennligst skriv navnet på arbeidsområdet for å bekrefte.",tr:"Bu işlem geri alınamaz. Bu, tüm sayfaları ve dosyaları içeren çalışma alanını kalıcı olarak siler. Lütfen onaylamak için çalışma alanının adını yazın.",cs:"Tuto akci nelze vrátit zpět. Tím se trvale odstraní pracovní prostor včetně všech stránek a souborů. Zadejte prosím název pracovního prostoru, který chcete potvrdit.",vi:"Hành động này không thể được hoàn tác. Điều này sẽ xóa vĩnh viễn không gian làm việc, bao gồm tất cả các trang và tệp. Vui lòng nhập tên của không gian làm việc để xác nhận.",da:"Denne handling kan ikke fortrydes. Dette vil permanent slette arbejdsområdet, inklusive alle sider og filer. Indtast navnet på arbejdsområdet for at bekræfte.",hu:"Ez a művelet nem visszavonható. Ez véglegesen törli a munkaterületet, beleértve az összes oldalt és fájlt. Kérjük, írja be a munkaterület nevét a megerősítéshez.",ar:"لا يمكن التراجع عن هذا الإجراء. سيؤدي ذلك إلى حذف مساحة العمل كليا ، بما يشمل جميع الصفحات والملفات. يرجى كتابة اسم مساحة العمل للتأكيد.",th:"การกระทำนี้ไม่สามารถยกเลิกได้ นี่จะเป็นการลบพื้นที่ทำงานอย่างถาวรรวมถึงหน้าและไฟล์ทั้งหมด โปรดพิมพ์ชื่อของพื้นที่ทำงานเพื่อยืนยัน",he:"לא ניתן לבטל פעולה זו. פעולה זו תמחק לצמיתות את סביבת העבודה, כולל כל הדפים והקבצים. הקלד את שם מרחב העבודה כדי לאשר.",fi:"Tätä toimintoa ei voi peruuttaa. Tämä poistaa työtilan pysyvästi, mukaan lukien kaikki sivut ja tiedostot. Vahvista kirjoittamalla työtilan nimi.",id:"Tindakan ini tidak bisa dibatalkan. Ini akan secara permanen menghapus ruang kerja, termasuk semua halaman dan file. Silakan ketik nama ruang kerja untuk mengonfirmasi."}})),acceptLabel:"Permanently Delete Workspace",requiredInputValue:r})]):[2];case 1:return n.sent()&&(f.deleteSpace({spaceId:t.id,userSettingsStore:e}),h.trackDeleteSpace(),G.default.setState(a({},G.default.state,{open:!1}))),[2]}})})},t.handleRecordIconChange=function(e){var r=t.props.spaceStore;P.createAndCommit(function(t){E.setValue({store:r.getIconStore(),value:e,transaction:t})})},t.handleDisablePublicAccessSwitcherClick=function(){var e=t.stores.spaceBasicSettingsStore;e.setState(a({},e.state,{disablePublicAccess:!e.state.disablePublicAccess}))},t.handleAllowDisableGuestsSwitcherClick=function(){var e=t.stores.spaceBasicSettingsStore;e.setState(a({},e.state,{disableGuests:!e.state.disableGuests}))},t.handleDisableMoveToSwitcherClick=function(){var e=t.stores.spaceBasicSettingsStore;e.setState(a({},e.state,{disableMoveToSpace:!e.state.disableMoveToSpace}))},t.handleDisableExportClick=function(){var e=t.stores.spaceBasicSettingsStore;e.setState(a({},e.state,{disableExport:!e.state.disableExport}))},t.handleUpgradeClick=function(){W.openPlans()},t}return o(t,e),t.prototype.willMount=function(t){e.prototype.willMount.call(this,t);var r=this.props.spaceStore,n=this.stores.spaceBasicSettingsStore,o=n.getValueForSpace(r);o&&n.setState(o)},t.prototype.renderComponent=function(){return H.default.state.online?this.renderSettings():this.renderOfflineMessage()},t.prototype.renderOfflineMessage=function(){return c.createElement(w.default,null,c.createElement(g.default,{style:{textAlign:"center"}},"Please go online to manage settings."))},t.prototype.renderSettings=function(){var e=this.props.spaceStore,r=this.stores.spaceBasicSettingsStore,n=r.state,o=n.name,i=n.domain,l=q.default.state.data;if(l){var s=e.canAdmin(),u=!e.canRead(),d=e.getPermissionItems(),p=j.isSubscribed(l),f=j.isSubscribed(l)&&l.productId===V.default.pricing.personal.productId,h=e.getValue(),m=s&&h&&!h.disable_export;return c.createElement(w.default,{controlRow:s&&this.renderControlRow()},u&&c.createElement(g.default,{style:{textAlign:"center"}},"You are currently a guest in this Workspace. Ask an admin to add you as a member in order to see other pages and Workspace settings."),u&&w.default.renderDivider(),s&&c.createElement(F.Fragment,null,c.createElement(S.default,null,"Name"),c.createElement(b.default,{value:o,placeholder:"E.g. Company Name",readOnly:!s,onChange:this.handleSpaceNameChange}),c.createElement(g.default,{hasMarginTop:!0},t.renderNameCaption()),w.default.renderDivider()),s&&c.createElement(F.Fragment,null,c.createElement(S.default,null,"Icon"),c.createElement("div",{style:{width:72,height:72,border:"1px solid "+this.theme.regularDividerColor,borderRadius:6,display:"flex",justifyContent:"center",alignItems:"center"}},s?c.createElement(_.default,{bucket:"public",disabled:!1,icon:e.getIcon(),isEmptyPage:!1,title:o,size:64,onChange:this.handleRecordIconChange}):c.createElement(_.default,{disabled:!0,icon:e.getIcon(),isEmptyPage:!1,title:o,size:64})),c.createElement(g.default,{hasMarginTop:!0},"Upload an image or pick an emoji. It will show up in your sidebar and notifications."),w.default.renderDivider()),s&&c.createElement("div",null,c.createElement(S.default,null,"Domain"),c.createElement("div",{style:{display:"flex",alignItems:"center"}},c.createElement("div",null,window.location.host,"/"),c.createElement(b.default,{value:i,placeholder:"URL",readOnly:!s,onChange:this.handleSpaceUrlChange})),c.createElement(g.default,{hasMarginTop:!0},t.renderDomainCaption(i,!0,this.theme)),w.default.renderDivider()),s&&!f&&c.createElement(F.Fragment,null,c.createElement(S.default,null,"Allowed Email Domains"),this.renderAllowedEmailDomains(),c.createElement(g.default,{hasMarginTop:!0},t.renderAllowEmailDomainsCaption()),w.default.renderDivider()),s&&h&&c.createElement(F.Fragment,null,c.createElement(S.default,{style:{display:"flex",alignItems:"center"}},c.createElement("span",{style:{marginRight:8}},"Security"),!p&&c.createElement(U.default,{analyticsName:"space_security",onClick:this.handleUpgradeClick,desktopStyle:{marginTop:-1}})),c.createElement("div",{style:a({display:"flex",alignItems:"flex-start",marginBottom:12},p&&{cursor:"pointer"}),onClick:p?this.handleDisablePublicAccessSwitcherClick:void 0},c.createElement("div",{style:{marginRight:8,flexGrow:1}},"Prevent members from sharing pages publicly",c.createElement(g.default,{style:{marginTop:2,width:"80%"}},"This will disable the Public Access option in the Share menu on every page in this workspace.")),c.createElement("div",{style:{marginTop:5}},c.createElement(N.default,{on:r.state.disablePublicAccess,disabled:!p}))),c.createElement("div",{style:a({display:"flex",alignItems:"flex-start",marginBottom:12},p&&{cursor:"pointer"}),onClick:p?this.handleAllowDisableGuestsSwitcherClick:void 0},c.createElement("div",{style:{marginRight:8,flexGrow:1}},"Disable guests",c.createElement(g.default,{style:{marginTop:2,width:"80%"}},"This prevents anyone from inviting people outside the workspace to any page.")),c.createElement("div",{style:{marginTop:5}},c.createElement(N.default,{on:r.state.disableGuests,disabled:!p}))),c.createElement("div",{style:a({display:"flex",alignItems:"flex-start",marginBottom:12},p&&{cursor:"pointer"}),onClick:p?this.handleDisableMoveToSwitcherClick:void 0},c.createElement("div",{style:{marginRight:8,flexGrow:1}},"Disable moving pages to other workspaces",c.createElement(g.default,{style:{marginTop:2,width:"80%"}},"This prevents anyone from moving pages to other workspaces via the Move To action.")),c.createElement("div",{style:{marginTop:5}},c.createElement(N.default,{on:r.state.disableMoveToSpace,disabled:!p}))),c.createElement("div",{style:a({display:"flex",alignItems:"flex-start"},p&&{cursor:"pointer"}),onClick:p?this.handleDisableExportClick:void 0},c.createElement("div",{style:{marginRight:8,flexGrow:1}},"Disable export",c.createElement(g.default,{style:{marginTop:2,width:"80%"}},"This prevents anyone from exporting as Markdown, CSV, or PDF.")),c.createElement("div",{style:{marginTop:5}},c.createElement(N.default,{on:r.state.disableExport,disabled:!p}))),w.default.renderDivider()),m&&c.createElement(F.Fragment,null,c.createElement(S.default,null,"Export"),c.createElement("div",{style:{display:"flex"}},c.createElement(K.default,{isLarge:!0,onClick:this.handleExportClick},"Export Entire Workspace"))),m&&c.createElement(F.Fragment,null,c.createElement("div",{style:{height:12}}),c.createElement(X.default,{title:"Learn about exporting workspaces.",href:$.guides.exportOrDeleteWorkspace,analyticsFrom:"space_settings"})),m&&w.default.renderDivider(),c.createElement(S.default,null,"Danger Zone"),c.createElement("div",{style:{display:"flex"}},(d.length>1||u)&&c.createElement(K.default,{isLarge:!0,onClick:this.handleLeaveClick,style:{marginRight:s?12:void 0}},"Leave Workspace"),s&&c.createElement(K.default,{isLarge:!0,isRed:!0,onClick:this.handleDeleteClick},"Delete Entire Workspace")),s&&c.createElement(F.Fragment,null,c.createElement("div",{style:{height:12}}),c.createElement(X.default,{title:"Learn about deleting workspaces.",href:$.guides.exportOrDeleteWorkspace,analyticsFrom:"space_settings"})))}},t.prototype.renderControlRow=function(){return c.createElement("div",{style:{display:"flex"}},c.createElement(Y.default,{isLarge:!0,onClick:this.handleConfirm},"Update"),c.createElement(K.default,{isLarge:!0,style:{marginLeft:12},onClick:this.handleCancelClick},"Cancel"))},t.prototype.renderAllowedEmailDomains=function(){var e=this,t=this.props.spaceStore,r=this.stores.spaceBasicSettingsStore,n=r.state.emailDomains,o=t.canAdmin();return c.createElement(O.default,{popupType:m.default.isMobile?O.default.PopupType.SlideUp:O.default.PopupType.Popup,sameWidthAsOrigin:!0,disableMouseCapture:!0,open:this.stores.tokenQuery.get().length>0,origin:c.createElement(k.default,{placeholder:"Type an email domain...",value:this.stores.tokenQuery.get(),onChange:function(t){return e.stores.tokenQuery.set(t.target.value)},readOnly:!o,onRemoveLastToken:function(){var e=n.slice(0,n.length-1);r.setState(a({},r.state,{emailDomains:e}))},tokens:n.map(function(e){return c.createElement(C.default,{showRemoveButton:!0,isSingle:!1,format:C.default.Format.Medium,key:e,onClickRemove:function(){var t=n.filter(function(t){return t!==e});r.setState(a({},r.state,{emailDomains:t}))},value:e})})}),render:function(){var t,o=e.stores.tokenQuery.get().trim(),i=o&&Q.validateEmail("x@"+o),l=[];return i&&l.push({key:0,render:function(e){return c.createElement(A.default,a({},e,{title:o}))},action:function(){var t=u(n,[o.trim()]);r.setState(a({},r.state,{emailDomains:t})),e.stores.tokenQuery.set("")}}),t=m.default.isMobile?{menuType:M.default.MenuType.ActionSheet}:{menuType:M.default.MenuType.Popup,width:"100%"},c.createElement(M.default,a({},t),c.createElement(I.default,{initialFocus:0,sections:[{key:0,render:function(e){return c.createElement(L.default,a({},e,{disableDesktopPadding:!0,title:"Type an email domain..."}))},items:l}]}))}})},t.stores={spaceBasicSettingsStore:y.default,tokenQuery:D.default.of("")},t.getDomainTokens=function(e){return(e=e.trim())&&Q.validateEmail("x@"+e)?[{key:e,value:e}]:[]},t.renderNameCaption=function(){return"The name of your workspace. Keep it simple."},t.renderDomainCaption=function(e,t,r){void 0===t&&(t=!1);var n,o=window.location.host+"/"+e;return e&&(n=t?c.createElement(x.default,{delayThreshold:0,renderTooltip:function(){return"Click to copy link"},render:function(e){return c.createElement(Z.default,a({onClick:function(){T.copyString({stringValue:o})}},e),o)}}):c.createElement("span",{style:{color:r.regularTextColor}},o)),c.createElement("div",null,"Share the link ",n," to add anyone with an allowed email domain to your workspace.")},t.renderAllowEmailDomainsCaption=function(){return"Anyone with email addresses at these domains can automatically join your workspace."},t}(v.default);t.default=ee},xcfP:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("wlCD"),s=r("fVGD"),u=r("t+pW"),c=r("2m/B"),d=r("1y3T"),p=r("622O"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e,t=this.props,r=t.imageURL,n=t.dataURL,o=t.isLoading,u=t.progressPercent,f=r&&"svg"===p.getFileExtension(r),h=this.props.size*(this.props.isLarge?1:.888),m=a({width:h,height:h,objectFit:f?"fill":"cover",borderRadius:3,transition:"opacity 100ms ease-out"},f&&{padding:.05*this.props.size});return(o||n)&&(m.opacity=.3),e=n?i.createElement(c.default,{src:n,style:m}):r?i.createElement(d.default,{url:r,permissionRecord:this.props.permissions,width:h,render:function(e,t){return i.createElement(c.default,{src:t,style:m})}}):i.createElement(c.default,{src:void 0,style:m}),i.createElement("div",null,e,o&&i.createElement("div",{style:c.default.loadingContainerStyle},i.createElement(l.default,{style:{width:16,height:16,marginRight:4}}),i.createElement("div",{style:{width:26,textAlign:"right"}},i.createElement(s.default,{percentage:u||0}))))},t}(u.default);t.default=f},xfty:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("LvDl"),c=r("STAJ"),d=r("P8+q"),p=r("IdIf"),f=r("wldR"),h=r("gbGO"),m=r("N+rL"),y=r("DrHl"),g=r("g90h"),v=r("g8hj"),b=r("wF3w"),w=r("r8oj"),S=r("y6Dp"),_=r("WgIs"),k=r("2Y+N"),C=r("SR/M"),E=r("nFzZ"),P=r("W3at"),x=r("zTdN"),T=r("Nn0J"),O=r("zmp8"),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSelectPropertyMenuItemChange=function(e){var r=t.getOptions(),n=e[t.props.property].options||[],o={},a=t.props.value.filter(function(e){var t=r.find(function(t){return p.groupValuesEqual(t.value,e)});return!t||n.some(function(e){return e.id===t.id})});o.schema=e,u.isEqual(a,t.props.value)||(o.value=a),t.props.onChange(o)},t.handleCloseActionMenu=function(){t.stores.store.setState(a({},t.stores.store.state,{openPropertyActionMenu:void 0}))},t.handleOpenActionMenu=function(e){t.stores.store.setState(a({},t.stores.store.state,{openPropertyActionMenu:e}))},t.handleTokenInputChange=function(e){t.stores.store.setState(a({},t.stores.store.state,{inputValue:""}));var r,n=t.props,o=n.allowMultiple,i=n.property,l=n.schema,s=n.onChange,d=n.analyticsFrom,f=t.getOptions();r=o?e:e.length>0?[e[e.length-1]]:[];var h=u.uniq(E.compact(r.map(function(e){var t=f.find(function(t){return p.groupValuesEqual(t.value,e)});if(t)return t.value}))),m=r.find(function(e){return!f.find(function(t){return p.groupValuesEqual(t.value,e)})}),y={value:h.concat(E.compact([m]))};if(m){var v={id:g.default(),value:m,color:t.createSelectColor},b=c.append(v,f),w=c.lensPath([i,"options"]);y.schema=c.set(w,b,l),t.setRandomCreateSelectColor();var _=l[i];_&&S.trackConfigureProperty({property_type:_.type,action:"select_add_option",from:d})}s(y)},t.handleDraggableListDrop=function(e){var r=t.props,n=r.property,o=r.schema,a=r.onChange,i=t.getOptions(),l={},s=u.sortBy(i,function(t){return e.indexOf(t.value)}),d=c.lensPath([n,"options"]);l.schema=c.set(d,s,o),a(l)},t.getTokenResults=function(e){var r,n=t.getOptions(),o=n.map(function(e){return e.value});e?(r=d.filter(e,o).map(function(e){return e.original}),!c.find(function(t){return p.groupValuesEqual(t.value,e)},n)&&e.trim().length>0&&!t.props.locked&&r.push(e.trim().replace(/,/g,""))):r=o;return r},t}return o(t,e),t.prototype.willMount=function(t){if(e.prototype.willMount.call(this,t),this.setRandomCreateSelectColor(),t.insertChar){var r=t.insertChar;this.stores.store.setState(a({},this.stores.store.state,{inputValue:r}))}},t.prototype.renderComponent=function(){var e=this,t=this.props,r=t.disabled,n=t.locked,o=this.renderCurrentTokens(),i=this.getTokenResults(this.stores.store.state.inputValue),l=this.props.schema[this.props.property];if(l){var u,c=0===i.length,d=s.createElement(P.default,{focus:w.default.isMobile?void 0:!this.stores.store.state.openPropertyActionMenu,focusAfterAnimation:!0,format:P.default.Format.Select,tokens:o,placeholder:"Search for an option...",onRemoveLastToken:function(){e.handleTokenInputChange(e.props.value.slice(0,e.props.value.length-1))},value:this.stores.store.state.inputValue,disabled:r,onChange:function(t){return e.stores.store.setState(a({},e.stores.store.state,{inputValue:t.target.value}))},dontShowBorderBottom:w.default.isAndroid});return u=w.default.isMobile?{menuType:h.default.MenuType.Modal,title:l.name,right:"Done",onClickRight:this.props.onDismiss,header:d}:{menuType:h.default.MenuType.Popup,header:d},r?s.createElement(h.default,a({},u)):s.createElement(h.default,a({},u),c?s.createElement(k.default,{title:n?"No options found":"Select an option or create one"},w.default.isReactNative||w.default.isCordova&&s.createElement(x.default,{title:"No options found"})):s.createElement(_.default,{initialFocus:this.stores.store.state.inputValue.length>0?0:void 0,sections:[{key:0,render:function(t){return e.renderMenuListSection(t,i)},items:this.getSelectMenuListItems(i)}],preserveReorderedFocus:!0,onAccept:function(t,r,n){e.props.onAccept(n)}}))}},t.prototype.renderMenuListSection=function(e,t){var r=this.props.locked;return w.default.isMobile?s.createElement(k.default,a({},e,{title:r?"Select an option":"Select an option or create one"})):r?s.createElement(k.default,a({},e,{title:"Select an option",children:e.children})):s.createElement(k.default,a({},e,{title:"Select an option or create one",children:s.createElement(v.default,{direction:v.DraggableListDirection.Vertical,keys:t,renderKey:function(r){return e.children[t.indexOf(r)]},onDrop:this.handleDraggableListDrop})}))},t.prototype.renderFoundSelectPropertyMenuItem=function(e,t){return s.createElement(m.default,a({},e,{id:t.id,value:t.value,showDragHandle:!w.default.isMobile&&!this.props.locked,locked:this.props.locked,property:this.props.property,schema:this.props.schema,analyticsFrom:this.props.analyticsFrom,onChange:this.handleSelectPropertyMenuItemChange,actionMenuOpen:this.stores.store.state.openPropertyActionMenu===t.value,onCloseActionMenu:this.handleCloseActionMenu,onOpenActionMenu:this.handleOpenActionMenu}))},t.prototype.renderCreateSelectPropertyMenuItem=function(e,t,r){return s.createElement(C.default,a({},e,{title:s.createElement("div",{style:{display:"flex",minWidth:0}},s.createElement("div",{style:{marginRight:6,lineHeight:1.3}},"Create"),s.createElement(y.default,{value:r,options:[t],showRemoveButton:!1,isSingle:!0,format:w.default.isMobile?y.default.Format.Large:y.default.Format.Medium})),isTokenTitle:!0}))},t.prototype.getSelectMenuListItems=function(e){var t=this;return e.map(function(e){var r=t.getOptions(),n=c.find(function(t){return p.groupValuesEqual(t.value,e)},r);return{key:e,render:function(r){if(n)return t.renderFoundSelectPropertyMenuItem(r,n);var o={id:b.default(),value:e,color:t.createSelectColor};return t.renderCreateSelectPropertyMenuItem(r,o,e)},action:function(){t.handleTokenInputChange(l(t.props.value,[e]))}}})},t.prototype.renderCurrentToken=function(e,t,r){var n=this,o=this.props.disabled;return s.createElement(y.default,{key:e.id,value:t,options:r,showRemoveButton:!o,isSingle:!1,format:w.default.isMobile?y.default.Format.Large:y.default.Format.Medium,shouldShrink:!0,onClickRemove:function(){n.handleTokenInputChange(n.props.value.filter(function(e){return e!==t}))}})},t.prototype.renderCurrentTokens=function(){var e=this,t=this.getOptions();return E.compact(this.props.value.map(function(r){var n=t.find(function(e){return p.groupValuesEqual(e.value,r)});if(n)return e.renderCurrentToken(n,r,t)}))},t.prototype.getOptions=function(){var e=this.props,t=e.property,r=e.schema[t];return r&&r.options?r.options:[]},t.prototype.setRandomCreateSelectColor=function(){var e=O.getRandomSelectColor(this.getOptions());this.createSelectColor=e},t.stores={store:T.default},t}(f.default);t.default=M},xqms:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{isDragging:!1,willDrag:!1}},t}(r("LEzx").default);t.default=a},y1eX:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},y4kc:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("q1tI"),s=r("gRnv"),u=r("r8oj"),c=r("t+pW"),d=r("LeVO"),p=r("TDb4"),f=r("mF3+"),h=r("y6Dp"),m=r("DNgp"),y=r("MeYt"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var r=m.default.state;if(r.editing){var n=r.store;s.openNewInlineDiscussionMenu({textStore:n,blockStore:t.props.blockStore,selection:r.selection})}h.trackRichTextMenuClick({action:"comment"})},t}return o(t,e),t.prototype.renderComponent=function(){var e=this,t=u.default.isMobile;return i.createElement(d.default,{renderTooltip:function(){return i.createElement(l.Fragment,null,i.createElement("div",null,"Comment on selected text"),i.createElement("div",null,i.createElement(p.default,{style:{color:e.theme.mediumInvertedTextColor},name:"comment"})))},render:function(r){return i.createElement(y.default,a({style:a({display:"flex",alignItems:"center",padding:"0 8px"},e.props.style),onClick:e.handleClick},r),f.default.speechBubbleThin({width:t?18:16,height:t?18:16,marginTop:t?0:1,marginRight:4}),!t&&"Comment")}})},t}(c.default);t.default=g},y6Dp:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r("+LO1"),a=r("g90h");function i(e){return Date.now()-parseInt(e.timestamp)}t.identifyNewUser=function(e){o.identifyUser(a.getAnalyticsId(e.user_id),n({},e,e.tags?{original_tags:e.tags}:void 0,{user_id:a.getAnalyticsId(e.user_id)}))},t.identifyCurrentUser=function(e){o.identifyUser(a.getAnalyticsId(e.user_id),n({},e,{user_id:a.getAnalyticsId(e.user_id)}))},t.deidentifyCurrentUser=function(){o.deidentifyCurrentUser()},t.trackDownloadDesktopApp=function(e){o.track("download_desktop_app",e)},t.trackDownloadMobileApp=function(e){o.track("download_mobile_app",e)},t.trackDownloadiOSApp=function(e){o.track("download_ios_app",e)},t.trackDownloadAndroidApp=function(e){o.track("download_android_app",e)},t.trackDownloadWebClipper=function(e){o.track("download_web_clipper",e)},t.trackClickSignupButton=function(e){o.track("click_signup_button",e)},t.trackClickLoginButton=function(e){o.track("click_login_button",e)},t.trackPlayProductVideo=function(e){o.track("play_product_video",e)},t.trackConfirmSignupInput=function(e){o.track("click_confirm_signup_input",e)},t.trackClickLink=function(e){o.track("click_link",e)},t.trackClickSendAppLink=function(e){o.track("click_send_app_link",e)},t.trackClickFrontHeroButton=function(e){o.track("click_from_hero_button",e)},t.trackActivateFrontPageTemplate=function(){o.track("activate_front_page_template")},t.trackClickFrontPageTemplateItem=function(e){o.track("click_front_page_template_item",e)},t.trackSignupWithFrontPageTemplateItem=function(e){o.track("signup_with_front_page_template_item",e)},t.trackScroll=function(e){o.track("scroll",e)},t.trackFrontPageReferralSignupClick=function(){o.track("front_page_referral_signup_click")},t.trackClickFrontPageGalleryItem=function(e){o.track("click_front_page_gallery_item",e)},t.trackPageVisit=function(e){o.track("page_visit",e)},t.trackVisit=function(e){o.track("visit",e)},t.trackPageError=function(e){o.track("page_error",e)},t.trackReorderWorkspaces=function(e){o.track("reorder_workspaces",e)},t.trackLoginWithGoogle=function(){o.track("request_login_with_google")},t.trackLoginRequestWithEmail=function(){o.track("send_temporary_password")},t.trackSignup=function(e){o.track("sign_up",{user_id:a.getAnalyticsId(e.user_id)})},t.trackOnboardingShow=function(e){o.track("onboarding_show",e)},t.trackOnboardingStage=function(e){o.track("onboarding_stage",e)},t.trackOnboardingUploadProfilePhoto=function(e){o.track("onboarding_upload_profile_photo",e)},t.trackOnboardingJoinSpace=function(e){o.track("onboarding_join_space",e)},t.trackOnboardingCreateSpace=function(e){o.track("onboarding_create_space",e)},t.trackOnboardingUpdateSpaceName=function(e){o.track("onboarding_update_space_name",e)},t.trackOnboardingUpdateSpaceUrl=function(e){o.track("onboarding_update_space_url",e)},t.trackOnboardingUpdateSpaceEmailDomains=function(e){o.track("onboarding_update_space_email_domains",e)},t.trackOnboardingComplete=function(e){o.track("onboarding_complete",e)},t.trackGDPRConsent=function(e){o.track("gdpr_consent",e)},t.trackClickImportButton=function(e){o.track("import_button_click",e)},t.trackOpenImportModal=function(){o.track("open_import_modal")},t.trackAuthIntegration=function(e){o.track("auth_integration",e)},t.trackIntegrationSelectAll=function(e){o.track("integration_select_all",e)},t.trackIntegrationDeselectAll=function(e){o.track("integration_deselect_all",e)},t.trackIntegrationSelectItem=function(e){o.track("integration_select_item",e)},t.trackIntegrationDeselectItem=function(e){o.track("integration_deselect_item",e)},t.trackImportIntegration=function(e){o.track("import_integration",e)},t.trackRemoveIntegration=function(e){o.track("remove_integration",e)},t.trackCreateSubscription=function(e){o.track("create_subscription",e)},t.trackSubscriptionUpdatePlan=function(e){o.track("subscription_update_plan",e)},t.trackSubscriptionUpdateBilling=function(e){o.track("subscription_update_billing",e)},t.trackSubscriptionUpdateBillingEmail=function(){o.track("subscription_update_billing_email")},t.trackSubscriptionApplyCredit=function(e){o.track("subscription_apply_credit",e)},t.trackCancelSubscription=function(e){o.track("cancel_subscription",e)},t.trackClickUpgradeInfoButton=function(e){o.track("click_upgrade_button",e)},t.trackReachBlockLimit=function(){o.track("reach_block_limit")},t.trackCurrentlySubscribed=function(){o.track("currently_subscribed")},t.trackPlansEarnCreditClick=function(){o.track("plans_earn_credit_click")},t.trackReferralInvite=function(){o.track("referral_invite")},t.trackReferralTweetClick=function(){o.track("referral_tweet_click")},t.trackReferralCopyLinkClick=function(){o.track("referral_copy_link_click")},t.trackActivateReferral=function(){o.track("activate_referral")},t.trackApplyCreditClick=function(){o.track("apply_credit_click")},t.trackCreditItemActionClick=function(e){o.track("credit_item_action_click",e)},t.trackInvitedByCreditClick=function(){o.track("invited_by_credit_click")},t.trackInvitedByCreditCloseClick=function(){o.track("invited_by_credit_close_click")},t.trackCreateBlock=function(e){o.track("create_block",e),"page"===e.type&&o.track("create_page",{from:e.from})},t.trackSelectTemplate=function(e){o.track("select_template",e)},t.trackOutlinerTemplateItemClick=function(e){o.track("outliner_template_item_click",e)},t.trackOutlinerTemplateItemClose=function(e){o.track("outliner_template_item_close",e)},t.trackTemplateModalOpen=function(e){o.track("template_modal_open",e)},t.trackTemplateModalItemClick=function(e){o.track("template_modal_item_click",e)},t.trackTemplateModalAccept=function(e){o.track("template_modal_accept",e)},t.trackCreateCollectionTemplate=function(){o.track("create_collection_template")},t.trackActivateCollectionTemplate=function(e){o.track("activate_collection_template",e)},t.trackCollectionTemplateAction=function(e){o.track("collection_template_action",e)},t.trackCreateCollectionTemplateBack=function(){o.track("create_collection_template_back")},t.trackEditBlockText=function(e){l[e.block_id]||(l[e.block_id]=!0,o.track("edit_block_text_60",e))},t.trackTodoBlockCheck=function(e){o.track("todo_block_check",e)},t.trackToggleBlockToggle=function(e){o.track("toggle_block_toggle")},t.trackEmbedBlockAction=function(e){o.track("embed_block_action",e)},t.trackEmbedBlockResize=function(e){o.track("embed_block_resize",e)},t.trackBlockAction=function(e){o.track("block_action",e)},t.trackOpenBlockMenu=function(e){o.track("open_block_menu",e)},t.trackOpenSlashMenu=function(){o.track("open_slash_menu")},t.trackOpenEmbedMenu=function(e){o.track("open_embed_menu",e)},t.trackConfigureTemplateButton=function(e){o.track("configure_template_button",e)},t.trackChangeFontType=function(e){o.track("change_font_type",e)},t.trackChangeFontSize=function(e){o.track("change_font_size",e)},t.trackChangePageWidth=function(e){o.track("change_page_width",e)},t.trackClickAddMenu=function(){o.track("click_add_menu")},t.trackAddSlackIntegration=function(){o.track("add_slack_integration")},t.trackRemoveSlackIntegration=function(){o.track("remove_slack_integration")},t.trackMoveTo=function(e){o.track("move_to",e)},t.trackEditLockToggle=function(e){o.track("edit_lock_toggle",e)},t.trackRichTextMenuClick=function(e){o.track("rich_text_menu_click",e)},t.trackMove=function(e){o.track("create_block",e),"page"===e.type&&o.track("create_page",{from:e.from})},t.trackExpandBlock=function(e){o.track("expand_block",e)},t.trackChangeTableWrap=function(e){o.track("change_table_wrap",e)},t.trackEditBlockProperty=function(e){var t=s[e.block_id]||{};s[e.block_id]=t,t[e.property]||(t[e.property]=!0,o.track("edit_block_property_60",e))},t.trackCreateProperty=function(e){o.track("create_property",e)},t.trackConfigureProperty=function(e){o.track("configure_property",e)},t.trackDeleteProperty=function(e){o.track("delete_property",e)},t.trackCreateView=function(e){o.track("create_view",e)},t.trackConfigureView=function(e){o.track("configure_view",e)},t.trackDeleteView=function(e){o.track("delete_view",e)},t.trackCollectionActionBarClick=function(e){o.track("collection_action_bar_click",e)},t.trackCollectionSearch=function(e){o.track("collection_search",e)},t.trackOpenCollectionViewSelect=function(e){o.track("collection_view_select",e)},t.trackOpenCollectionAsPage=function(e){o.track("open_collection_as_page",e)},t.trackCalendarNoDateMenuAdd=function(){o.track("calendar_no_date_menu_add")},t.trackCalendarNoDateMenuView=function(){o.track("calendar_no_date_menu_view")},t.trackRelationDatabaseClick=function(e){o.track("relation_database_click")},t.trackRelationNewRollup=function(e){o.track("relation_new_rollup")},t.trackRelationReorder=function(e){o.track("relation_reorder")},t.trackRelationAddBlock=function(e){o.track("relation_add_block")},t.trackRelationRemoveBlock=function(e){o.track("relation_remove_block")},t.trackRelationCreateBlock=function(e){o.track("relation_create_block")},t.trackRelationPeekBlock=function(e){o.track("relation_peek_block")},t.trackConfigureRelation=function(e){o.track("configure_relation",e)},t.trackConfigureRollupRelation=function(e){o.track("configure_rollup_relation",e)},t.trackConfigureRollupTargetProperty=function(e){o.track("configure_rollup_target_property",e)},t.trackConfigureRollupAggregation=function(e){o.track("configure_rollup_aggregation",e)},t.trackCreateSpace=function(e){o.track("create_space")},t.trackJoinSpace=function(e){o.track("join_space",e)},t.trackLeaveSpace=function(){o.track("leave_space")},t.trackDeleteSpace=function(){o.track("delete_space")},t.trackEditorDrag=function(e){var t={from:e.from,block_types:e.draggedTypes,block_count:e.draggedTypes.length,as_copy:e.asCopy||!1};o.track("drag",t),e.asCopy&&o.track("drag_as_copy",t),"selection_menu"===e.from&&o.track("drag_selection_menu",t)},t.trackEditorClickSelectionMenu=function(e){o.track("click_selection_menu",{block_type:e.blockType})},t.trackOpenMentionMenu=function(){o.track("open_mention_menu")},t.trackMentionUser=function(e){o.track("mention_user",{user_id:a.getAnalyticsId(e.user_id),from:e.from,block_type:e.block_type})},t.trackMentionDate=function(e){o.track("mention_date",{date:e.date,from:e.from,block_type:e.block_type})},t.trackMentionPage=function(e){o.track("mention_page",{page_id:a.getAnalyticsId(e.page_id),from:e.from,block_type:e.block_type})},t.trackSetReminder=function(e){o.track("set_reminder",{date:e.date,reminder:e.reminder})},t.trackResizeColumn=function(){o.track("resize_column")},t.trackCreateColumnList=function(){o.track("create_column_list")},t.trackInsertColumn=function(e){o.track("insert_column",e)},t.trackEditorDragNearEdgeScroll=function(e){o.track("drag_near_edge_scroll",e)},t.trackTransformTextBlockFilter=function(e){o.track("transform_text_block_filter",e)},t.trackUnicodeFilter=function(e){o.track("unicode_filter",e)},t.trackAnnotationFilter=function(e){o.track("annotation_filter",e)},t.trackLinkFilter=function(e){o.track("link_filter",e)},t.trackEmailInvite=function(e){var t=e.invite_users.filter(function(e){return!e.userId}),r=e.invite_users.length,n=t.length;o.track("invite",{role:e.role,is_space:e.is_space,user_count:r,new_user_count:n}),e.is_space?o.track("space_invite",{role:e.role,user_count:r,new_user_count:n}):o.track("page_invite",{role:e.role,user_count:r,new_user_count:n})},t.trackUpdatePagePermission=function(e){o.track("update_page_permission",e)},t.trackUpdateSpacePermission=function(e){o.track("update_space_permission",e)},t.trackConvertGuestToMember=function(){o.track("convert_guest_to_member")},t.trackRemoveGuest=function(){o.track("remove_guest")},t.trackPermissionGroupCreate=function(){o.track("permission_group_create")},t.trackPermissionGroupRename=function(){o.track("permission_group_rename")},t.trackPermissionGroupSetIcon=function(e){o.track("permission_group_set_icon",e)},t.trackPermissionGroupAddMembers=function(e){o.track("permission_group_add_members",e)},t.trackPermissionGroupRemoveMember=function(){o.track("permission_group_remove_member")},t.trackPermissionGroupDelete=function(){o.track("permission_group_delete")},t.trackPermissionGroupReorder=function(){o.track("permission_group_reorder")},t.trackToggleAllowSearchEngineIndexing=function(e){o.track("toggle_allow_search_engine_indexing",e)},t.trackToggleAllowDuplicate=function(e){o.track("toggle_allow_duplicate",e)},t.trackSidebarExpand=function(){o.track("sidebar_expand")},t.trackSidebarUnexpand=function(){o.track("sidebar_unexpand")},t.trackBookmark=function(e){o.track("bookmark",e)},t.trackUnbookmark=function(e){o.track("unbookmark",e)},t.trackOpenSettings=function(){o.track("open_settings")},t.trackToggleSettingsTab=function(e){o.track("toggle_settings_tab",e)},t.trackOpenTrash=function(){o.track("open_trash")},t.trackToggleTrashTab=function(e){o.track("toggle_trash_tab",e)},t.trackRestoreTrashPage=function(){o.track("restore_trash_page")},t.trackDeleteTrashPage=function(){o.track("delete_trash_page")},t.trackOpenBreadcrumbCurrentPageMenu=function(){o.track("open_breadcrumb_current_page_menu")},t.trackOpenPageShare=function(){o.track("open_page_share")},t.trackOpenPageShareInvite=function(){o.track("open_page_share_invite")},t.trackOpenSpaceInvite=function(){o.track("open_space_invite")},t.trackOpenMoreMenu=function(){o.track("open_more_menu")},t.trackOpenPublicMoreMenu=function(){o.track("open_public_more_menu")},t.trackConfirmAppUpdate=function(){o.track("confirm_app_update")},t.trackExport=function(e){o.track("export",e)},t.trackOpenQuickFind=function(e){o.track("open_quick_find",e)},t.trackSelectQuickFindItem=function(e){o.track("select_quick_find_item",e)},t.trackClickOutlinerItem=function(e){o.track("click_outliner_item",e)},t.trackOutlinerItemToggle=function(e){o.track("outliner_item_toggle",e)},t.trackClickNestedChildPage=function(){o.track("click_nested_child_page")},t.trackClickDesktopNavigator=function(e){o.track("click_desktop_navigator",e)},t.trackOpenSpaceSwitcher=function(){o.track("open_space_switcher")},t.trackSpaceSwitcherSelectSpace=function(){o.track("space_switcher_select_space")},t.trackSpaceSwitcherLogoutClick=function(){o.track("space_switcher_logout_click")},t.trackToggleThemeMode=function(e){o.track("toggle_dark_mode",e)},t.trackOpenSupportChat=function(e){o.track("open_support_chat",e)},t.trackClickHelp=function(){o.track("click_help")},t.trackClickHelpItem=function(e){o.track("click_help_item",e)},t.trackClickHelpButton=function(e){o.track("global_click_learn",e)},t.trackTapMobileActionBarItem=function(e){o.track("tap_mobile_action_bar_item",{item_name:e.itemName})},t.trackActionBarScroll=function(){o.track("scroll_mobile_action_bar")},t.trackOpenMobileSidebar=function(){o.track("open_mobile_sidebar")},t.trackOpenNotificationSettingsFromAllUpdates=function(){o.track("open_notification_settings_from_all_updates")},t.trackOpenAllUpdates=function(e){o.track("open_sidebar_updates",e)},t.trackOpenPageUpdates=function(){o.track("open_page_updates")},t.trackActivityAction=function(e,t){o.track(e,t)},t.trackSetMobileNotification=function(e){o.track("set_mobile_notification",e)},t.trackSetDesktopNotification=function(e){o.track("set_desktop_notification",e)},t.trackSetEmailNotification=function(e){o.track("set_email_notification",e)},t.trackFollowPage=function(e){o.track("follow_page",e)},t.trackUnfollowPage=function(e){o.track("unfollow_page",e)},t.trackOpenBlockDiscussionMenu=function(e){o.track("open_block_dicussion_menu",e)},t.trackOpenReplyDiscussionMenu=function(){o.track("open_reply_dicussion_menu")},t.trackOpenNewBlockDiscussion=function(){o.track("open_new_block_discussion")},t.trackOpenNewInlineDiscussion=function(){o.track("open_new_inline_discussion")},t.trackCreateBlockDiscussion=function(){o.track("create_block_discussion")},t.trackCreateInlineDiscussion=function(){o.track("create_inline_discussion")},t.trackAddComment=function(e){o.track("add_comment",{from:e})},t.trackAddCommentAppend=function(e){o.track("add_comment_append",{from:e})},t.trackDeleteComment=function(e){o.track("delete_comment",{from:e})},t.trackEditComment=function(e){o.track("edit_comment",{from:e})},t.trackResolveDiscussion=function(e){o.track("resolve_discussion",{from:e})},t.trackReopenDiscussion=function(e){o.track("reopen_discussion",{from:e})},t.trackOpenVersionHistory=function(e){o.track("open_history",{from:e})},t.trackSelectSnapshot=function(e){o.track("select_snapshot",{ageMs:i(e)})},t.trackCopyFromHistory=function(e){o.track("history_copy",{ageMs:i(e)})},t.trackRestoreSnapshot=function(e){o.track("restore_snapshot",{ageMs:i(e)})},t.trackClickForkPage=function(e){o.track("fork_page",{blockId:e})};var l={},s={};setInterval(function(){l={},s={}},6e4)},yCCI:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{name:"",viewType:"table"}},t}(r("LEzx").default);t.default=a},yFBc:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("dP7y");t.default=function(e){var t=n.find(e);return t[0]?t[0].href:e}},yLOv:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("LvDl"),s=r("q1tI"),u=r("mF3+"),c=r("ikHm"),d=r("Sb6f"),p=r("r8oj"),f=r("wldR"),h=r("zmp8"),m=r("IdSf"),y=r("i3uR"),g=r("xVnP"),v=r("y6Dp"),b=r("H4VD"),w=r("gbGO"),S=r("SR/M"),_=r("2Y+N"),k=r("WgIs"),C=r("1Imc"),E=r("GRWW"),P=r("qqdV"),x=r("FGgp"),T=r("HSWF"),O=r("4NII"),M=r("nFzZ"),I=r("0KcA"),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleScrolled=function(e){t.stores.scrollerStore.setState(a({},t.stores.scrollerStore.state,{scrollTop:window.scrollY}))},t.handleScrolledThrotted=l.throttle(t.handleScrolled,15),t}return o(t,e),t.prototype.willMountOrUpdate=function(t){e.prototype.willMountOrUpdate.call(this,t),window.addEventListener("scroll",this.handleScrolledThrotted)},t.prototype.willUnmount=function(){window.removeEventListener("scroll",this.handleScrolledThrotted),e.prototype.willUnmount.call(this)},t.prototype.renderComponent=function(){var e=T.getReferralUserId();return i.createElement("nav",{style:{fontSize:t.headerFontSize,position:"fixed",whiteSpace:"nowrap",top:0,width:"100vw",background:h.default.frontBackground,height:t.headerHeight+(e?x.default.height:0),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:c.frontTopbar}},e&&i.createElement(x.default,{referralUserId:e}),i.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",paddingLeft:t.headerPaddingLeftRight,paddingRight:t.headerPaddingLeftRight,width:t.width,maxWidth:"100vw",position:"relative",overflow:"hidden"}},this.renderLogo(),i.createElement("div",{style:{flex:"1",display:"flex",justifyContent:O.default()?"flex-end":"center"}}),!O.default()&&this.renderLinks(),O.default()&&this.renderSmallScreenLinkPopup()),i.createElement("div",{style:{width:t.width,height:2,position:"relative",top:2,opacity:this.pageHasScrolled()?1:0,transform:"translate3d(0, 0, 0)",transition:"opacity 200ms",background:"linear-gradient(to bottom,  rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0))"}}))},t.prototype.renderLinks=function(){var e=this.pageHasScrolled();return i.createElement(s.Fragment,null,i.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",transform:e?"translateX(0px) translateZ(0)":"translateX("+(this.getSignupLinkWidth()+t.signupLinkTransformDiff)+"px) translateZ(0)",transition:"transform 200ms"}},!this.props.hideProductLink&&i.createElement(m.default,{href:P.product,innerStyle:t.headerButtonStyle,onClick:function(){return v.trackClickLink({from:"front_header",href:P.product})}},"Product"),!this.props.hidePricingLink&&i.createElement(m.default,{href:P.pricing,innerStyle:t.headerButtonStyle,onClick:function(){return v.trackClickLink({from:"front_header",href:P.pricing})}},"Pricing"),!this.props.hideMobileLink&&i.createElement(m.default,{href:P.mobile,innerStyle:t.headerButtonStyle,onClick:function(){return v.trackClickLink({from:"front_header",href:P.mobile})}},"iOS & Android"),!this.props.hideDesktopLink&&i.createElement(m.default,{href:P.desktop,innerStyle:t.headerButtonStyle,onClick:function(){return v.trackClickLink({from:"front_header",href:P.desktop})}},"Desktop"),!this.props.hideEvernoteLink&&i.createElement(m.default,{href:P.evernote,onClick:function(){return v.trackClickLink({from:"front_header",href:P.evernote})},innerStyle:a({},t.headerButtonStyle,{display:"flex",alignItems:"center"})},i.createElement("div",null,"Switch from Evernote"),i.createElement(I.default,null)),!this.props.hideLoginLinkDivier&&i.createElement("div",{style:t.dividerStyle}),!this.props.hideLoginLink&&i.createElement(m.default,{href:P.login,innerStyle:t.headerButtonStyle,onClick:function(){return v.trackClickLink({from:"front_header",href:P.login})}},"Log in")),this.renderSignupLink())},t.prototype.renderSignupLink=function(){if(!this.props.hideSignupLink){var e=this.pageHasScrolled();return i.createElement("div",{style:{width:this.getSignupLinkWidth(),marginLeft:8,transform:e?"translateX(0px) translateZ(0)":"translateX("+(this.getSignupLinkWidth()+t.signupLinkTransformDiff)+"px) translateZ(0)",transition:"transform 200ms, width 200ms"}},i.createElement(g.default,{analyticsName:this.props.analyticsName,loginStore:this.stores.loginStore}))}},t.prototype.renderLogo=function(){return i.createElement("div",{style:{flexShrink:0}},i.createElement(m.default,{href:P.product,onClick:function(){return v.trackClickLink({from:"front_header",href:P.product})},innerStyle:{borderRadius:3}},i.createElement("div",{style:{display:"flex",alignItems:"center",padding:4}},u.default.notionLogo({width:O.default()?28:30,height:O.default()?28:30,marginRight:10,flexShrink:0}),i.createElement("div",{style:{fontWeight:d.default.fontWeight.medium,fontSize:16}},"Notion"))))},t.prototype.renderSmallScreenLinkPopup=function(){return i.createElement(y.default,{popupType:y.default.PopupType.Popup,renderOrigin:function(e){return i.createElement("div",a({},e,{style:{marginRight:6}}),u.default.menu({width:22}))},cordovaWrapStyle:{position:"fixed"},disableCompositeLayer:!0,render:function(){var e=function(e){return function(){v.trackClickLink({from:"front_header",href:e}),b.navigate({url:e})}},r={menuType:w.default.MenuType.Popup,width:240,maxWidth:"90vw"};return i.createElement(w.default,a({},r),i.createElement(k.default,{initialFocus:0,sections:[{key:"bottom",render:function(e){return i.createElement(_.default,a({},e))},items:[{key:"login",render:function(e){return i.createElement(S.default,a({},e,{title:"Login",style:t.menuItemStyle}))},action:e(P.login)}]},{key:"top",render:function(e){return i.createElement(_.default,a({},e,{topBorder:!0}))},items:M.compact([{key:"product",render:function(e){return i.createElement(S.default,a({},e,{title:"Product",style:t.menuItemStyle}))},action:e(P.product)},{key:"pricing",render:function(e){return i.createElement(S.default,a({},e,{title:"Pricing",style:t.menuItemStyle}))},action:e(P.pricing)},{key:"evernote",render:function(e){return i.createElement(S.default,a({},e,{title:"Switch from Evernote",style:t.menuItemStyle}))},action:e(P.evernote)},{key:"about",render:function(e){return i.createElement(S.default,a({},e,{title:"About",style:t.menuItemStyle}))},action:e(P.about)}])},{key:"middle",render:function(e){return i.createElement(_.default,a({},e,{topBorder:!0}))},items:[{key:"mobile",render:function(e){return i.createElement(S.default,a({},e,{title:"Mobile App",style:t.menuItemStyle}))},action:e(P.mobile)},{key:"desktop",render:function(e){return i.createElement(S.default,a({},e,{title:"Desktop App",style:t.menuItemStyle}))},action:e(P.desktop)},{key:"web-clipper",render:function(e){return i.createElement(S.default,a({},e,{title:"Web Clipper",style:t.menuItemStyle}))},action:e(P.webClipper)}]}]}))}})},t.prototype.getSignupLinkWidth=function(){return this.stores.loginStore.state.emailInputFocused?this.getSignupInputAndButtonWidth()+60:this.getSignupInputAndButtonWidth()},t.prototype.getSignupInputAndButtonWidth=function(){return this.props.signupInputAndButtonWidth||240},t.prototype.pageHasScrolled=function(){var e=p.default.isMobile?t.headerShadowRevealDistanceMobile:t.headerShadowRevealDistance;return this.stores.scrollerStore.state.scrollTop>e},t.headerShadowRevealDistance=150,t.headerShadowRevealDistanceMobile=70,t.stores={loginStore:C.default,scrollerStore:E.default},t.menuItemStyle={fontSize:18,paddingTop:12,paddingBottom:12},t.headerHeight=54,t.headerFontSize=15,t.headerPaddingLeftRight=8,t.width=960+2*t.headerPaddingLeftRight,t.signupLinkTransformDiff=16,t.headerButtonStyle={padding:"4px 10px",borderRadius:3,flexShrink:0,fontSize:15,marginLeft:2,marginRight:2,fontWeight:d.default.fontWeight.medium,width:"auto"},t.dividerStyle={borderRight:"1px solid #DDD",height:14,marginLeft:10,marginRight:10},t}(f.default);t.default=A},yNyh:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r("q1tI"),s=r("mF3+"),u=r("rlmE"),c=r("t+pW"),d=r("r8oj"),p=r("w5u6"),f=r("iICV"),h=r("zmp8"),m=r("MeYt");!function(e){e[e.Default=0]="Default",e[e.Transparent=1]="Transparent",e[e.Small=2]="Small",e[e.Large=3]="Large"}(i=t.InputFormat||(t.InputFormat={}));var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyDown=function(e){f.default.setKeyboardMode(!0),t.props.onKeyDown&&t.props.onKeyDown(e),u.default(e,"enter")&&t.props.onSubmit&&(!t.props.textarea||e.metaKey)&&t.props.onSubmit(e),u.default(e,"esc")&&t.props.onCancel&&t.props.onCancel(e)},t.handleClearButtonClick=function(e){t.props.onClearButtonClick?t.props.onClearButtonClick():(e.target.value="",t.props.onChange&&t.props.onChange(e),t.focusInput())},t.transparentStyle={display:"flex",alignItems:"center",border:"none",padding:0,width:"100%",background:h.default.transparent,fontSize:"inherit",lineHeight:"inherit"},t}return o(t,e),t.prototype.focusInput=function(){this.textInput.focus()},t.prototype.selectAllInput=function(){d.default.isAndroid&&this.textInput.focus(),this.textInput.select()},t.prototype.shouldComponentUpdate=function(){return!0},t.prototype.didMount=function(){this.props.value!==this.textInput.value&&(this.textInput.value=this.props.value||""),(this.props.focusInitial||this.props.focus)&&this.handleFocus()},t.prototype.didUpdate=function(){this.props.value!==this.textInput.value&&(this.textInput.value=this.props.value||""),void 0!==this.props.focus&&(this.props.focus?this.handleFocus():this.handleBlur())},t.prototype.renderComponent=function(){var e=this.props.forceShowClearButton||this.props.showClearButton&&this.props.value&&this.props.value.length>0;return l.createElement("div",{style:this.getStyle()},this.props.left,this.renderInput(),e&&l.createElement(m.default,{onClick:this.handleClearButtonClick,style:{flexShrink:0,flexGrow:0,borderRadius:20}},s.default.clearInput({width:14,height:14,fill:this.theme.lightIconColor})))},t.prototype.renderInput=function(){var e=this,t={ref:function(t){t&&(e.textInput=t)},style:this.getInputStyle(),onMouseDown:this.props.onMouseDown,onClick:this.props.onClick,onKeyDown:this.handleKeyDown,placeholder:this.props.placeholder,readOnly:this.props.readOnly,onChange:this.props.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,type:this.props.type||"text",autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,autoCapitalize:this.props.autoCapitalize,spellCheck:this.props.spellCheck,autoFocus:this.props.autoFocus,disabled:this.props.disabled,size:this.props.size};return this.props.textarea?l.createElement("textarea",a({},t,{rows:3})):l.createElement("input",a({},t))},t.prototype.handleBlur=function(){document.activeElement===this.textInput&&this.textInput.blur()},t.prototype.handleFocus=function(){var e=this;document.activeElement!==this.textInput&&(d.default.isMobile&&this.props.focusAfterAnimation?window.setTimeout(function(){p.default.afterNextFlush(function(){e.props.selectAll?e.selectAllInput():e.focusInput()})},10):this.props.selectAll?this.selectAllInput():this.focusInput())},t.prototype.getBaseStyle=function(){return{display:"flex",alignItems:"center",width:"100%",fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10,position:"relative",borderRadius:3,boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,cursor:"text"}},t.prototype.getLargeStyle=function(){return a({},this.getBaseStyle(),{fontSize:15,lineHeight:"26px"})},t.prototype.getSmallStyle=function(){return a({},this.getBaseStyle(),{fontSize:12,lineHeight:"16px"})},t.prototype.getStyle=function(){var e;return this.props.format!==i.Default&&this.props.format?this.props.format===i.Small?e=this.getSmallStyle():this.props.format===i.Large?e=this.getLargeStyle():this.props.format===i.Transparent&&(e=this.transparentStyle):e=this.getBaseStyle(),a({},e,this.props.style)},t.prototype.getInputStyle=function(){var e=this.props.inputStyle,r={};return this.props.readOnly&&(r.opacity=.5),a({},t.inputStyle,r,e)},t.Format=i,t.inputStyle={fontSize:"inherit",lineHeight:"inherit",border:"none",background:"none",width:"100%",display:"block",resize:"none",padding:0},t}(c.default);t.default=y},yP71:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("q1tI"),u=r("t+pW"),c=r("A9TN"),d=r("nM47"),p=r("8fuX"),f=r("q1tI"),h=r("VBxf"),m=r("0ke/"),y=r("/6eU"),g=r("hfHo"),v=r("Sb6f"),b=r("+P8o"),w=r("7eQs"),S=r("Cycz"),_=r("1XJz"),k=r("toub"),C=r("2A6Q"),E=r("IwFn"),P=r("LeVO"),x=r("5Nka"),T=r("6BTz"),O=r("y6Dp"),M=r("QcDD"),I=r("vJXr"),A=r("Ng05"),D=r("IULH"),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderUpgradeModal=function(){var e=t.props,r=e.spaceStore,n=e.data,o=t.stores.store.state;if(o.upgradeModalOpen)return s.createElement(_.default,{spaceStore:r,data:n,productId:o.upgradeProductId,onClose:t.handleModalClose})},t.handleApplyCreditClick=function(){k.default.setState({open:!0,currentTab:"credit"}),O.trackPlansEarnCreditClick()},t.handleFreeClick=function(){return i(t,void 0,void 0,function(){var e,t;return l(this,function(r){switch(r.label){case 0:return(e=this.props.data)&&"subscribed_admin"===e.type?(t=g.default(e.periodEnd).format("MMMM Do, YYYY"),[4,new Promise(function(e,r){h.showDialog({showCancel:!0,keepFocus:!1,message:"You're about to downgrade. You'll still have access to your plan's features until "+t+".",items:[{label:"Downgrade",color:"red",onAccept:function(){e(!0)}}],handleCancel:function(){e(!1)}})})]):[3,3];case 1:return r.sent()?[4,d.cancelSubscription({spaceStore:this.props.spaceStore})]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.handlePersonalClick=function(){return i(t,void 0,void 0,function(){var e,t,r,n;return l(this,function(o){switch(o.label){case 0:return e=this.props.spaceStore,t=this.props.data,"subscribed_admin"===t.type&&(r="With the Personal plan, you will not be able to add members to this workspace."),r?[4,h.confirmUserAction({message:r,acceptLabel:"Switch to Personal"})]:[3,2];case 1:if(!o.sent())return[2];o.label=2;case 2:return"subscribed_admin"!==t.type?[3,4]:(n="year"===t.interval?"personal_yearly_48":"personal_monthly_5",[4,d.updateSubscription({spaceStore:e,plan:n,billing:t.billing})]);case 3:return o.sent(),[3,5];case 4:this.stores.store.setState({upgradeModalOpen:!0,upgradeProductId:c.default.pricing.personal.productId}),o.label=5;case 5:return[2]}})})},t.handleTeamClick=function(){return i(t,void 0,void 0,function(){var e,t,r,n;return l(this,function(o){switch(o.label){case 0:return e=this.props.spaceStore,t=this.props.data,"subscribed_admin"===t.type&&(r="You will be charged a prorated amount based on your current billing interval and account balance."),r?[4,h.confirmUserAction({message:r,acceptLabel:"Switch to Team"})]:[3,2];case 1:if(!o.sent())return[2];o.label=2;case 2:return"subscribed_admin"!==t.type?[3,4]:(n="year"===t.interval?"team_yearly_96":"team_monthly_10",[4,d.updateSubscription({spaceStore:e,plan:n,billing:t.billing})]);case 3:return o.sent(),[3,5];case 4:this.stores.store.setState({upgradeModalOpen:!0,upgradeProductId:c.default.pricing.team.productId}),o.label=5;case 5:return[2]}})})},t.handleEnterpriseClick=function(){return i(t,void 0,void 0,function(){var e,t,r,n;return l(this,function(o){switch(o.label){case 0:return e=this.props.spaceStore,t=this.props.data,"subscribed_admin"===t.type&&(r="You will be charged a prorated amount based on your current billing interval and account balance."),r?[4,h.confirmUserAction({message:r,acceptLabel:"Switch to Enterprise"})]:[3,2];case 1:if(!o.sent())return[2];o.label=2;case 2:return"subscribed_admin"!==t.type?[3,4]:(n="year"===t.interval?"enterprise_yearly_240":"enterprise_monthly_25",[4,d.updateSubscription({spaceStore:e,plan:n,billing:t.billing})]);case 3:return o.sent(),[3,5];case 4:this.stores.store.setState({upgradeModalOpen:!0,upgradeProductId:c.default.pricing.enterprise.productId}),o.label=5;case 5:return[2]}})})},t.handleModalClose=function(){t.stores.store.reset()},t}return o(t,e),t.prototype.willMount=function(){d.refresh()},t.prototype.renderComponent=function(){return I.default.state.online?this.renderPlans():this.renderOfflineMessage()},t.prototype.renderOfflineMessage=function(){return s.createElement(C.default,null,s.createElement(E.default,{style:{textAlign:"center"}},"Please go online to manage your plan."))},t.prototype.renderPlans=function(){var e=this.props.data,r=this.stores.store.state.upgradeModalOpen;return s.createElement("div",{style:t.wrapStyle},s.createElement(p.default,{style:t.scrollerStyle,type:p.OverflowType.Y},this.renderUpgradeWithCredit(),this.renderBillingInfo(),s.createElement("div",{style:{display:"flex"}},this.renderFreePlan(e),this.renderPlanSeparator(),this.renderPersonalPlan(e),this.renderPlanSeparator(),this.renderTeamPlan(e),this.renderPlanSeparator(),this.renderEnterprisePlan(e)),this.renderPriceDisclaimer(),this.renderFAQ(),s.createElement(y.default,{open:r,render:this.renderUpgradeModal,onDismiss:this.handleModalClose})))},t.prototype.renderUpgradeWithCredit=function(){var e=this.props.data,t=e.availableCredit,r=M.default.state.currentSpaceStore;return S.isSubscribed(e)&&r&&!r.canAdmin()&&t?s.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,color:this.theme.mediumTextColor,marginBottom:24,padding:"0 12px 16px",borderBottom:"1px solid "+this.theme.regularDividerColor}},"You must be an admin to manage or apply credit to this workspace."):!S.isSubscribed(e)&&e.creditEnabled?s.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24,paddingBottom:16,borderBottom:"1px solid "+this.theme.regularDividerColor,fontSize:14}},s.createElement("div",null,"Want to upgrade for free? Refer friends or use Notion on other platforms to earn credit. Current credit balance:"," ",s.createElement("b",{style:{color:this.theme.regularTextColor}},T.formatHumanReadableCurrency(t,"dollar"))),s.createElement(D.default,{onClick:this.handleApplyCreditClick,isLarge:!0,style:{marginLeft:16,paddingLeft:10}},s.createElement("img",{src:x.default.images.sidebarCreditPng,style:{marginRight:6},width:"20"}),"Earn credit")):void 0},t.prototype.renderBillingInfo=function(){var e=this.props.spaceStore,t=this.props.data;if("subscribed_admin"===t.type)return s.createElement("div",{style:{textAlign:"center",marginBottom:24,fontSize:14,borderBottom:"1px solid "+this.theme.regularDividerColor,paddingBottom:16}},S.renderSubscriptionStatus(e.id,t))},t.prototype.renderFreePlan=function(e){var t,r;return"unsubscribed"===e.type||"subscribed_admin"===e.type&&e.canceledAt?(t="Current Plan",r=!0):(t="Downgrade",r=!1),s.createElement(b.default,{title:"Free",price:S.price.free,features:S.getFreeFeatures(),button:this.renderButton(t,r,void 0,this.handleFreeClick),isSettings:!0,isSmallScreen:!1})},t.prototype.renderPersonalPlan=function(e){var t,r,n,o=this.getMemberCount();return"unsubscribed"===e.type||"subscribed_admin"===e.type&&e.canceledAt?(t="Upgrade",r=!1):e.productId===c.default.pricing.personal.productId?(t="Current Plan",r=!0):(t="Change Plan",r=!1),o>1&&(n=s.createElement(f.Fragment,null,"The personal plan is only available if your workspace has one member. If you'd like to use it, please remove the other members in this workspace.")),s.createElement(b.default,{title:"Personal",price:S.price.personal,caption:S.priceCaption.personal,features:S.getPersonalFeatures(),button:this.renderButton(t,r,n,this.handlePersonalClick),isSettings:!0,isSmallScreen:!1})},t.prototype.renderTeamPlan=function(e){var t,r;return"unsubscribed"===e.type||"subscribed_admin"===e.type&&e.canceledAt?(t="Upgrade",r=!1):e.productId===c.default.pricing.team.productId?(t="Current Plan",r=!0):(t="Change Plan",r=!1),s.createElement(b.default,{title:"Team",price:S.price.team,caption:S.priceCaption.team,features:S.getTeamFeatures(),button:this.renderButton(t,r,void 0,this.handleTeamClick),isSettings:!0,isSmallScreen:!1})},t.prototype.renderEnterprisePlan=function(e){var t,r;return"unsubscribed"===e.type||"subscribed_admin"===e.type&&e.canceledAt?(t="Upgrade",r=!1):e.productId===c.default.pricing.enterprise.productId?(t="Current Plan",r=!0):(t="Change Plan",r=!1),s.createElement(b.default,{title:"Enterprise",price:S.price.enterprise,caption:S.priceCaption.enterprise,features:S.getEnterpriseFeatures(),button:this.renderButton(t,r,void 0,this.handleEnterpriseClick),isSettings:!0,isSmallScreen:!1})},t.prototype.renderButton=function(e,t,r,n){return r?s.createElement(P.default,{style:{width:320},textWrap:!0,renderTooltip:function(){return r},render:function(t){return s.createElement(A.default,a({isLarge:!0,disabled:!0},t),e)}}):t?s.createElement(A.default,{isLarge:!0,disabled:!0},"Current Plan"):s.createElement(A.default,{isLarge:!0,onClick:n,disabled:!this.canSwitchPlans()},e)},t.prototype.renderPlanSeparator=function(){return s.createElement("div",{style:{flex:"none",width:12}})},t.prototype.renderPriceDisclaimer=function(){return s.createElement("div",{style:{color:this.theme.mediumTextColor,textAlign:"center",fontSize:12,marginTop:18,marginBottom:48,marginRight:"auto",marginLeft:"auto",width:"72%"}},S.priceDisclaimer)},t.prototype.renderFAQ=function(){return s.createElement("div",{style:{fontSize:14}},s.createElement("div",{style:{fontSize:20,fontWeight:v.default.fontWeight.bold,marginBottom:12}},"FAQ"),s.createElement(w.default,null))},t.prototype.getMemberCount=function(){return S.getMemberCount(this.props.data)},t.prototype.canSwitchPlans=function(){return this.props.spaceStore.canAdmin()},t.stores={store:m.default},t.wrapStyle={display:"flex",flexDirection:"column",height:"100%"},t.scrollerStyle={transform:"translateZ(0px)",flexGrow:1,padding:30},t}(u.default);t.default=L},yRPC:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("i8i4"),s=r("y6Dp"),u=r("6rsX"),c=r("r8oj"),d=r("hU3F"),p=r("g4rC"),f=r("VOS9"),h=r("i3uR"),m=r("t+pW"),y=r("AOw3"),g=r("x4bP"),v=r("BJyN"),b=r("gbGO"),w=r("dXb3"),S=r("2Y+N"),_=r("0hFN"),k=r("sjR4"),C=r("fbat"),E=r("KTXS"),P=r("qqdV"),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.query=new d.default(""),t.renderPopupContent=function(){!t.rect&&t.node&&(t.rect=t.node.getBoundingClientRect());var e,r={blocks:k.default.state.stores,originRect:t.rect},n=t.query.get(),o=i.createElement(S.default,{isInput:!0},i.createElement(w.default,{value:n,onChange:function(e){return t.query.set(e.target.value)},focus:!0,focusAfterAnimation:!0,placeholder:"Filter actions...",allowDelete:!0}));return e=c.default.isMobile?{menuType:b.default.MenuType.ActionSheet,header:o}:{menuType:b.default.MenuType.Popup,width:200,header:o},i.createElement(b.default,a({},e),i.createElement(f.default,{filter:n,initialFocus:n?0:void 0,sections:v.blockActions,context:r,onAccept:t.handleOnAccept}),!n&&t.renderBlockAuthorInfo(),!n&&t.props.store.isCollectionView()&&t.renderCollectionHelpButton())},t.handleOnAccept=function(e){t.stores.buttonPopupStore.setState(a({},t.stores.buttonPopupStore.state,{open:!1}));var r=k.default.state.stores[0],n=r?r.getValue():void 0;n&&e.name&&s.trackBlockAction({name:e.name,from:"selection_menu",block_type:n.type})},t.handlePopupAnimationEnd=function(){t.stores.buttonPopupStore.state.open||C.default.setState(a({},C.default.state,{isActive:!1}))},t.handleButtonDraggableDragStart=function(){C.default.setState(a({},C.default.state,{isActive:!1}))},t.handleSelectableHoverMenuButtonClick=function(){t.rect=void 0,t.query.set(""),C.default.setState(a({},C.default.state,{isActive:!0})),u.select({store:t.props.store});var e=t.props.store.getType();e&&s.trackEditorClickSelectionMenu({blockType:e})},t}return o(t,e),t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this);var t=C.default.state,r=t.currentStore;t.isActive&&r===this.props.store&&C.default.setState(a({},C.default.state,{isActive:!1,currentStore:void 0}))},t.prototype.didMount=function(){var e=l.findDOMNode(this);e&&e instanceof Element&&(this.node=e)},t.prototype.renderComponent=function(){if(!c.default.isMobile)return i.createElement("div",{style:this.getStyle()},this.renderMenuPopup())},t.prototype.renderMenuPopup=function(){var e=this;return i.createElement(h.default,{popupType:c.default.isMobile?h.default.PopupType.SlideUp:h.default.PopupType.Popup,onClick:this.handleSelectableHoverMenuButtonClick,buttonPopupStore:this.stores.buttonPopupStore,onAnimationEnd:this.handlePopupAnimationEnd,placementToOrigin:h.default.Placement.Left,alignmentToOrigin:h.default.Alignment.Center,renderOrigin:function(t){return i.createElement(y.default,{store:e.props.store,canDrag:!0,canSelect:!1,onDraggableDragStart:e.handleButtonDraggableDragStart,analyticsName:"selection_menu"},i.createElement(g.default,a({},t)))},originGap:5,render:this.renderPopupContent})},t.prototype.renderBlockAuthorInfo=function(){return i.createElement(_.default,{store:this.props.store,isPageMoreButton:!1})},t.prototype.renderCollectionHelpButton=function(){return i.createElement(S.default,{topBorder:!0,disableDesktopPadding:!0},i.createElement(E.default,{title:"Learn about databases",href:P.guides.database,analyticsFrom:"selectable_hover_menu"}))},t.prototype.getStyle=function(){return{position:"absolute",top:this.props.offsetTop,left:-t.width-2,width:t.width,height:t.height,pointerEvents:"auto",cursor:"-webkit-grab"}},t.stores={buttonPopupStore:p.default},t.width=g.default.width,t.height=g.default.height,t}(m.default);t.default=x},yUnD:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("LvDl"),l=r("JU1L"),s=r("+DAh"),u=r("j76I"),c=r("l+8X");t.generateLocalRecordMap=function(e,t){return n(this,void 0,void 0,function(){var r,d,p,f;return o(this,function(h){return r=e,d={},p={},[2,(f=function(){return n(this,void 0,void 0,function(){var e,n,h,m,y,g,v,b,w,S,_,k;return o(this,function(o){switch(o.label){case 0:return[4,Promise.all(i.map(r,function(e){var t=s.default.getRecord(e.table,e.id);return t?Promise.resolve(t):c.default?c.default.get(l.getCombinedId(e.table,e.id)):void 0}))];case 1:for(h=o.sent(),m=r,r=[],y=0;y<h.length;y++){if(g=h[y],v=m[y],u.setRecordMapWithRole(p,v.table,v.id,g),!g)throw new Error("Tried to request a local value that does not exist.");b=t(v.table,v.id,g);try{for(w=a(b),S=w.next();!S.done;S=w.next())_=S.value,k=l.getCombinedId(_.table,_.id),d[k]||(d[k]=!0,r.push(_))}catch(t){e={error:t}}finally{try{S&&!S.done&&(n=w.return)&&n.call(w)}finally{if(e)throw e.error}}}return 0!==r.length?[3,2]:[2,p];case 2:return[4,f()];case 3:return[2,o.sent()]}})})})()]})})},t.getLocalRecord=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){return c.default&&!e.recordCacheStore?[2,c.default.get(l.getCombinedId(e.table,e.id))]:[2,(e.recordCacheStore||s.default).getRecord(e.table,e.id)]})})},t.scanLocalRecords=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){return t=e.recordCacheStore,r=e.callback,c.default&&t===s.default?[2,c.default.scan(function(e,t){var n=l.extractCombinedId(e),o=n.table,a=n.id;r(o,a,t)})]:(i.forOwn(t.state.cache,function(e,t){if(t){var n=l.extractCombinedId(t),o=n.table,a=n.id;r(o,a,e)}}),[2])})})}},yeum:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("r8oj"),s=r("wldR"),u=r("prF1"),c=r("bxQm"),d=r("9M6r"),p=r("1Imc"),f=r("T1hA"),h=r("62KP"),m=r("sZEU"),y=r("H4VD"),g=r("qqdV"),v=r("5Nka"),b=r("zmp8"),w=r("Sb6f"),S=r("hfHo"),_=r("A9TN"),k=r("bK/N"),C=r("VMJe"),E=r("IYZQ"),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openIntercom=function(){m.openIntercomMessages({from:"desktop_login"})},t}return o(t,e),t.prototype.didMount=function(){f.default.isLoggedIn()&&y.navigate({url:"/",redirect:!0})},t.prototype.renderComponent=function(){var e=l.default.isMac?"Mac":"Windows";return i.createElement("div",{style:t.style},i.createElement("div",{style:{display:"flex",width:440}},i.createElement("img",{src:v.default.images.notionLogoPng,style:{width:64,height:64,display:"block",flexGrow:0,flexShrink:0,marginTop:4}}),i.createElement("div",{style:{flexGrow:1,marginLeft:24,lineHeight:1.4}},i.createElement("div",{style:{fontWeight:w.default.fontWeight.semibold,fontSize:21}},"Welcome to Notion for ",e,"."),i.createElement("div",{style:{color:b.default.FrontBaseSecondaryColor,fontSize:18}},"Notion works fully offline, but you need to log in or sign up to sync your content."))),this.shouldRenderUpgradeWarning()?this.renderUpgradeWarning():this.renderLoginAction(),this.renderFooter())},t.prototype.renderUpgradeWarning=function(){return i.createElement("div",{style:{maxWidth:440,paddingTop:20,textAlign:"center"}},i.createElement("span",{style:{marginRight:4}},"⚠️"),"Your ",l.default.isMac?"Mac":"Windows"," app is out of date.",i.createElement("span",{style:{marginLeft:4}},"⚠️"),i.createElement("br",null),i.createElement(E.default,{href:l.default.isMac?g.guides.reinstallMac:g.guides.reinstallWindows,external:!0},"Please download and reinstall your"," ",l.default.isMac?"Mac":"Windows"," app."))},t.prototype.renderLoginAction=function(){return i.createElement(d.default,a({style:{width:320,marginTop:24},emailPasscodePlaceholder:"Enter login code",emailLabel:"Email",emailInputAutoFocus:!0},this.stores))},t.prototype.renderFooter=function(){return i.createElement("div",{style:t.footerStyle},i.createElement(u.default,{onClick:this.openIntercom},i.createElement(c.default,null,"Need Help?")),i.createElement(u.default,{style:{marginLeft:4},href:g.termsAndPrivacy,external:!0},i.createElement(c.default,null,"Privacy & Terms")),i.createElement(c.default,{style:{marginLeft:4},disabled:!0},"© ",S.default().year()," Notion Labs, Inc."))},t.prototype.shouldRenderUpgradeWarning=function(){if("production"===_.default.env){var e=k.getDesktopVersion();if(l.default.isElectron&&e&&(C.isLessThanVersion(e,[0,3,0])||C.isEqualVersion(e,[0,3,0])))return!0}return!1},t.stores={loginStore:p.default,loginPermissionsStore:h.default},t.style={width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",userSelect:"none",WebkitUserSelect:"none"},t.footerStyle={display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1.2,position:"fixed",bottom:16,left:0,right:0},t}(s.default);t.default=P},"yi/I":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("q1tI"),i=r("wldR"),l=r("r8oj"),s=r("xVnP"),u=r("NV/j"),c=r("4NII"),d=r("zmp8"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return c.default()?this.renderMobile():this.renderDesktop()},t.prototype.renderDesktop=function(){var e=this.props.analyticsName;return a.createElement("div",{style:t.wrapStyle},a.createElement("div",null,a.createElement("div",{style:t.callToActionCaptionStyle},"Use it right now in your browser"),a.createElement(s.default,{analyticsName:e})),a.createElement("div",{style:t.callToActionSeparatorStyle}),a.createElement("div",null,a.createElement("div",{style:t.callToActionCaptionStyle},"Or download one of the apps"),a.createElement("div",{style:{display:"flex"}},a.createElement(u.default,{format:u.default.Format.Mac,analyticsName:e}),a.createElement(u.default,{format:u.default.Format.Mobile,analyticsName:e,style:{marginLeft:16}}))))},t.prototype.renderMobile=function(){var e=this.props.analyticsName;return l.default.isAndroid?a.createElement(u.default,{title:"Get it On Google Play",format:u.default.Format.PlayStore,analyticsName:e}):a.createElement(u.default,{title:"Download from App Store",format:u.default.Format.AppStore,analyticsName:e})},t.wrapStyle={display:"flex",alignItems:"center",justifyContent:"center"},t.callToActionCaptionStyle={color:d.default.FrontBaseGrayTextColor,marginBottom:12,textAlign:"center"},t.callToActionSeparatorStyle={flexShrink:0,width:1,height:90,marginLeft:36,marginRight:36,background:d.default.FrontDividerColor},t}(i.default);t.default=p},yisX:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("z22Z"),s=r("VBxf"),u=r("r8oj"),c=r("t+pW"),d=r("BfkC"),p=r("WgIs"),f=r("2Y+N"),h=r("i3uR"),m=r("RBMm"),y=r("gbGO"),g=r("SR/M"),v=r("g4rC"),b=r("T1hA"),w=r("zmp8"),S=r("d9nj"),_=r("mF3+"),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isRemovingSelfRole=function(e){var r=l.rolePrecedence.indexOf(t.props.role),n=l.rolePrecedence.indexOf(e);return t.props.isUserPermission&&n<r},t.handleSelectChange=function(e){var r=t.props.isSpace,n=function(){t.props.onChange&&t.props.onChange(e)};t.isItemDisabled(e)?t.props.onUpgradeButtonClick&&t.props.onUpgradeButtonClick():t.isRemovingSelfRole(e)?s.showDialog({showCancel:!0,keepFocus:!1,message:r?"Are you sure you want to remove your own access? You will lose access to the workspace, and any private pages will be deleted.":"Are you sure you want to remove your own access?",items:[{label:"Remove",color:"red",onAccept:n}]}):t.isRemovingSpaceUser(e)?s.showDialog({showCancel:!0,keepFocus:!1,message:r?"Are you sure you want to remove this person? They will lose access to the workspace, and any private pages will be deleted.":"Are you sure you want to remove this person?",items:[{label:"Remove",color:"red",onAccept:n}]}):n()},t}return o(t,e),t.permissionItemIsUserItem=function(e,t){var r=b.default.state.userId;return"user_permission"===e.type&&e.user_id===r},t.prototype.renderComponent=function(){var e=this;return i.createElement(h.default,{popupType:u.default.isMobile?h.default.PopupType.SlideUp:h.default.PopupType.Popup,buttonPopupStore:this.stores.buttonPopupStore,renderOrigin:function(t){return e.props.isMenuItem?i.createElement(g.default,a({},t,{title:e.getItemLabel(e.props.role),focused:!1,showExtensionArrow:!0})):i.createElement(S.default,a({disabled:e.props.disabled,disabledFeedback:!0,style:a({marginRight:8},e.props.buttonStyle)},t),e.getItemLabel(e.props.role),_.default.chevronDown({width:10,marginLeft:4,fill:e.theme.lightIconColor}))},placementToOrigin:m.PopupPlacement.Bottom,render:function(t){var r,n=[{key:"roles",render:function(e){return i.createElement(f.default,a({},e,{topBorder:0!==e.index}))},items:e.getAvailableRoles().map(function(r){return{key:r,render:function(t){return e.getItem(r,t.focused,t)},action:function(){e.handleSelect(r),t.close()}}})}];return r=u.default.isMobile?{menuType:y.default.MenuType.Modal,title:"Select Role",right:"Done",onClickRight:t.close}:{menuType:y.default.MenuType.Popup,width:260},i.createElement(y.default,a({},r),i.createElement(p.default,{initialFocus:void 0,sections:n}))}})},t.prototype.getItemLabel=function(e){return"editor"===e?this.props.isSpace?"Admin":"Full Access":"read_and_write"===e?this.props.isSpace?"Member":"Can Edit":"reader"===e?"Can Read":"comment_only"===e?"Can Comment":"none"===e?"Disabled":void 0},t.prototype.getItem=function(e,t,r){var n=this.isItemDisabled(e);return"editor"===e?this.props.isSpace?this.renderItem({label:"Admin",caption:"Can change workspace settings and invite new members to the workspace.",disabled:n,focused:t,props:r}):this.renderItem({label:"Full Access",caption:"Can edit and share with others.",disabled:n,focused:t,props:r}):"read_and_write"===e?this.props.isSpace?this.renderItem({label:"Member",caption:"Cannot change workspace settings or invite new members to the workspace.",disabled:n,focused:t,props:r}):this.renderItem({label:"Can Edit",caption:"Can edit, but not share with others.",disabled:n,focused:t,props:r}):"reader"===e?this.renderItem({label:"Can Read",caption:"Cannot edit or share with others.",disabled:n,focused:t,props:r}):"comment_only"===e?this.renderItem({label:"Can Comment",caption:"Can read and comment, but not edit.",disabled:n,focused:t,props:r}):"none"===e?this.props.isUser?this.props.isSpace?this.props.isUserPermission?this.renderItem({label:i.createElement("span",{style:{color:w.default.red}},"Leave Team"),focused:t,props:r}):this.renderItem({label:i.createElement("span",{style:{color:w.default.red}},"Remove from Team"),focused:t,props:r}):this.renderItem({label:i.createElement("span",{style:{color:w.default.red}},"Remove"),focused:t,props:r}):this.renderItem({label:"Disabled",focused:t,props:r}):void 0},t.prototype.renderItem=function(e){return i.createElement(g.default,a({focused:e.focused},e.props,{title:i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("div",{style:{marginRight:e.disabled?6:0}},e.label),e.disabled&&i.createElement(d.default,{analyticsName:this.props.upgradeButtonName,onClick:this.props.onUpgradeButtonClick})),caption:e.caption&&i.createElement("span",{style:{color:this.theme.mediumTextColor}},e.caption),shouldWrapCaption:!0,disabled:!!u.default.isMobile&&e.disabled}))},t.prototype.isItemDisabled=function(e){return"read_and_write"===e&&!this.props.isSubscribed},t.prototype.getAvailableRoles=function(){var e=[];return this.props.isPublic||(e.push("editor"),e.push("read_and_write")),this.props.isSpace||(e.push("comment_only"),e.push("reader")),this.props.isInvite||e.push("none"),e},t.prototype.isRemovingSpaceUser=function(e){return this.props.isSpace&&"none"===e},t.prototype.handleSelect=function(e){this.props.role!==e&&this.handleSelectChange(e)},t.stores={buttonPopupStore:v.default},t}(c.default);t.default=k},yjqD:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("LvDl");function i(e){return new Promise(function(t){setTimeout(function(){t()},e)})}function l(){var e,t,r=new Promise(function(r,n){e=r,t=n});return{resolve:e,reject:t,promise:r}}function s(e,t){return new Promise(function(r,n){i(t).then(function(){return r({result:void 0,timeout:!0})}),e.then(function(e){return r({result:e,timeout:!1})}).catch(n)})}t.batch=function(e,t,r){return new Promise(function(n,o){var i=0;!function l(){var s=a.slice(e,i,i+t);i+=t,s.length>0?r(s).then(function(){setImmediate(l)}).catch(o):n()}()})},t.timeout=i,t.timeoutResolve=function(e,t){return new Promise(function(r){setTimeout(function(){r(t)},e)})},t.race=function(e){return n(this,void 0,void 0,function(){var t,r,a=this;return o(this,function(i){switch(i.label){case 0:return t=l(),r=Promise.all(e.map(function(e,r){return n(a,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,e];case 1:return n.sent(),t.resolve(r),[2]}})})})),[4,t.promise];case 1:return[2,{winner:i.sent(),rest:r}]}})})},t.deferred=l,t.requestTimeout=s,t.retryTimeout=function e(t,r,a){return n(this,void 0,void 0,function(){var n;return o(this,function(o){switch(o.label){case 0:return[4,s(a(),r)];case 1:return n=o.sent(),t<=1||!n.timeout?[2,n]:[2,e(t-1,r,a)]}})})},t.timeAll=function(e){return n(this,void 0,void 0,function(){var t,r,a=this;return o(this,function(i){return t=Date.now(),r=e.map(function(e){return n(a,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return e?[4,e]:[3,2];case 1:return r.sent(),[2,Date.now()-t];case 2:return[2,0]}})})}),[2,Promise.all(r)]})})}},z22Z:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("LvDl"),a=r("FUUC");function i(e){return"deleted_permission"===e.type}function l(e){return"user_permission"===e.type}function s(e){return"space_permission"===e.type}function u(e){return"group_permission"===e.type}function c(e){return"public_permission"===e.type}function d(e){return"deleted_permission"===e.type?"none":e.role}function p(e,t){return!(!e||!e)&&(l(e)&&l(t)?e.user_id===t.user_id:u(e)&&u(t)?e.group_id===t.group_id:e.type===t.type)}function f(e){return o.compact(e.map(function(e){if("block"===e.table){var t=e.value;if(t&&t.permissions&&t.permissions.length>0)return{blockId:t.id,permissions:t.permissions}}}))}function h(e,r){var n=t.rolePrecedence.indexOf(e),o=t.rolePrecedence.indexOf(r);return-1===n&&-1===o?"none":-1===n?r:-1===o?e:o>n?r:e}function m(e,t){return void 0!==e&&e||void 0!==t&&t}function y(e){var t=o.flatten(e.map(function(e){var t=e.blockId;return e.permissions.map(function(e){return{blockId:t,permissionItem:e}})}));t.reverse();var r=t.reduce(function(e,t){var r,a,d,f,y,g,v,b;if(l(t.permissionItem)||s(t.permissionItem)||u(t.permissionItem))try{for(var w=n(e),S=w.next();!S.done;S=w.next()){var _=S.value;if(p(t.permissionItem,_.permissionItem))return _.permissionItem.role=h(_.permissionItem.role,t.permissionItem.role),_.blockIds.push(t.blockId),e}}catch(e){r={error:e}}finally{try{S&&!S.done&&(a=w.return)&&a.call(w)}finally{if(r)throw r.error}}if(c(t.permissionItem))try{for(var k=n(e),C=k.next();!C.done;C=k.next()){_=C.value;if(p(t.permissionItem,_.permissionItem))return _.permissionItem.role=h(_.permissionItem.role,t.permissionItem.role),_.permissionItem.allow_duplicate=(v=_.permissionItem.allow_duplicate,b=t.permissionItem.allow_duplicate,void 0===v||v||void 0===b||b),_.permissionItem.allow_search_engine_indexing=m(_.permissionItem.allow_search_engine_indexing,t.permissionItem.allow_search_engine_indexing),_.blockIds.push(t.blockId),e}}catch(e){d={error:e}}finally{try{C&&!C.done&&(f=k.return)&&f.call(k)}finally{if(d)throw d.error}}if(i(t.permissionItem))try{for(var E=n(e),P=E.next();!P.done;P=E.next()){_=P.value;if(p(t.permissionItem,_.permissionItem))return _.blockIds.push(t.blockId),e}}catch(e){y={error:e}}finally{try{P&&!P.done&&(g=E.return)&&g.call(E)}finally{if(y)throw y.error}}return e.push({blockIds:[t.blockId],permissionItem:o.cloneDeep(t.permissionItem)}),e},[]),a=r.find(function(e){return i(e.permissionItem)});return a?[a]:r}t.rolePrecedence=["none","reader","comment_only","read_and_write","editor"],t.canRead=function(e){return"reader"===e||"comment_only"===e||"read_and_write"===e||"editor"===e},t.isMemberOrAdmin=function(e){return"read_and_write"===e||"editor"===e},t.canComment=function(e){return"comment_only"===e||"read_and_write"===e||"editor"===e},t.canEdit=function(e){return"read_and_write"===e||"editor"===e},t.canAdmin=function(e){return"editor"===e},t.isDeletedPermission=i,t.isUserPermission=l,t.isSpacePermission=s,t.isGroupPermission=u,t.isPublicPermission=c,t.getRole=d,t.permissionItemsAreSameTarget=p,t.getInheritedBlockPermissions=f,t.getMostPermissiveBlockPermissions=y,t.getRecordPermissionsForUser=function(e){var r=e.userId,n=e.ancestors,o=e.ignorePublicPermissions,d=n.find(function(e){return e.table===a.default.table}),p=d?d.value:null,h=p&&p.permissions||[];if(h.some(i))return[];var m=y(f(n));if(m.some(function(e){return i(e.permissionItem)}))return[];var g=p&&p.permission_groups?p.permission_groups:[],v=h.some(function(e){return l(e)&&e.user_id===r&&t.canEdit(e.role)});return m.filter(function(e){var t=e.permissionItem;if(l(t)&&t.user_id===r)return!0;if(s(t)&&v)return!0;if(!o&&c(t))return!0;if(u(t)&&r&&v){var n=g.find(function(e){return e.id===t.group_id});if(n&&n.user_ids&&n.user_ids.includes(r))return!0}return!1})},t.getRecordPermissionItems=function(e){return e&&e.permissions?e.permissions:[]},t.performSetPermissionItem=function(e,t,r){var n=t||[];return(n=n.filter(function(t){return!p(t,e)})).push(e),n=n.filter(function(e){return"none"!==d(e)})}},z2pi:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("bkwR"),i=r("VkkH"),l=r("S26v"),s=r("tP7q"),u=r("A9TN"),c=r("Wnyic");t.authWithSlack=function(e){return n(this,void 0,void 0,function(){var t,r,n,d,p,f;return o(this,function(o){switch(o.label){case 0:return t=c.getAuthType(),r=s.createSlackPopupRedirect(u.default.baseURL,{blockId:e.blockId,authType:t}),t.redirectToAuth?(n=r,[3,3]):[3,1];case 1:return[4,c.loadAuthUrl(r)];case 2:n=o.sent(),o.label=3;case 3:return r=n,[4,i.openPopup({width:530,height:530,url:r,title:"Slack Login"})];case 4:return(d=o.sent())&&(p=l.parse(d)).query.code&&p.query.state?[4,a.authWithSlack({code:p.query.code,encryptedState:p.query.state})]:[2,new Error("Something went wrong.")];case 5:return"failed"===(f=o.sent()).type?[2,f.error]:[2]}})})}},z6D9:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("QTGx"),u=r("gbGO"),c=r("MeYt"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){var e=this.props.store,t=s.getBlockRenderer(e);if(t)return i.createElement(c.default,{hovered:this.props.focused,onMouseEnter:this.props.onMouseEnter,onClick:this.props.onClick,style:this.getButtonStyle(),mobileFeedback:this.context.isMobile},i.createElement("div",{style:this.getWrapStyle()},i.createElement(t,{store:this.props.store,disabled:!0,hideContent:!0,style:{pointerEvents:"none",fontSize:14,opacity:.5},isQuickFind:!0})))},t.prototype.getWrapStyle=function(){return{maxHeight:this.context.isMobile?65:52,padding:this.context.isMobile?"12px 0":"9px 0",borderTop:"1px solid "+this.theme.regularDividerColor}},t.prototype.getButtonStyle=function(){return a({overflow:"hidden",paddingLeft:this.context.isMobile?48:42},this.context.isMobile&&{background:this.theme.contentBackground})},t.contextTypes=a({},u.menuContextTypes),t}(l.default);t.default=d},z8HZ:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{open:!1}},t}(r("LEzx").default);t.default=new a},zEGb:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("mF3+"),s={text:l.default.typesText,number:l.default.typesNumber,url:l.default.typesUrl,file:l.default.typesFile,date:l.default.typesDate,person:l.default.typesPerson,email:l.default.typesEmail,phone_number:l.default.typesPhoneNumber,checkbox:l.default.typesCheckbox,select:l.default.typesSelect,multi_select:l.default.typesMultipleSelect,relation:l.default.typesRelation,rollup:l.default.typesRollup,formula:l.default.typesFormula,created_time:l.default.typesCreatedAt,created_by:l.default.typesCreatedBy,title:l.default.typesTitle,last_edited_time:l.default.typesCreatedAt,last_edited_by:l.default.typesCreatedBy},u=l.default.typesUnknownType,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.type,r=e.size,n=a({width:r,height:r,fill:this.props.isDark?this.props.theme.regularTextColor:this.props.theme.mediumIconColor},this.props.style);return s[t]?s[t](n):u(n)},t.defaultWrapStyle={display:"flex",alignItems:"center",justifyContent:"center",width:22,height:22},t}(i.PureComponent);t.default=c},zK7c:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("17x9"),l=r("q1tI"),s=r("i8i4"),u=r("FmD2"),c=r("6rsX"),d=r("unoy"),p=r("r8oj"),f=r("EZe4"),h=r("DkKf"),m=r("wldR"),y=r("fHgN"),g=r("JZPr"),v=r("sjR4"),b=r("nZ1u"),w=r("fYc2"),S=r("w5u6"),_=r("zmp8"),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registries=[w.default],t.renderRectangularSelectionRect=function(){var e=b.default.state;if(e.isActive&&e.showSelectionRect&&t.props.isDefaultContainer)return l.createElement("div",{style:t.getRectangularSelectionStyle()})},t.handleMouseDown=function(e){t.props.disableRectangularSelection||(p.default.isMobile?f.default({event:e,context:f.EventContext.EditorMouseDown,callback:function(){c.clear(),g.clearSelection()}}):f.default({event:e,context:f.EventContext.EditorMouseDown,callback:function(){1!==e.button&&(e.preventDefault(),u.startRectangularSelection({target:e.target,startX:e.clientX,startY:e.clientY,showSelectionRect:!0,preventSelectStores:[]}))}}))},t.handleClick=function(e){t.props.store.canEdit()&&f.default({event:e,context:f.EventContext.EditorClick,callback:function(){if(!h.mouseDidMoveAfterLastMouseDown()&&!t.props.disableEditNearestBlock){var r=e.clientX,n=e.clientY;S.default.afterNextFlush(function(){d.editNearestBlock({x:r,y:n})})}}})},t}return o(t,e),t.prototype.getNode=function(){return s.findDOMNode(this)},t.prototype.didMount=function(){e.prototype.didMount.call(this),this.props.isDefaultContainer&&(this.lastDefaultContainer=v.default.state.defaultContainer,v.default.setState(a({},v.default.state,{defaultContainer:this,pivot:void 0,anchor:void 0}))),c.recomputeSelectableRects();var t=s.findDOMNode(this);t&&(this.observer=new MutationObserver(c.recomputeSelectableRectsThrottled),this.observer.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))},t.prototype.willUnmount=function(){e.prototype.willUnmount.call(this),this.props.isDefaultContainer&&v.default.state.defaultContainer===this&&v.default.setState(a({},v.default.state,{defaultContainer:this.lastDefaultContainer,pivot:void 0,anchor:void 0})),this.observer&&this.observer.disconnect()},t.prototype.getChildContext=function(){return{selectableContainer:this}},t.prototype.renderComponent=function(){var e=this.props.render;return l.createElement(y.default,{open:b.default.state.isActive,origin:e({onMouseDown:this.handleMouseDown,onClick:this.handleClick}),render:this.renderRectangularSelectionRect})},t.prototype.getRectangularSelectionStyle=function(){var e=b.default.state;if(e.isActive){var t=e.currentRect;if(t)return{position:"absolute",pointerEvents:"none",backgroundColor:_.default.blueWithAlpha(.2),border:"1px solid transparent",left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top}}},t.childContextTypes={selectableContainer:i.any},t}(m.default);t.default=k},zTdN:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),l=r("t+pW"),s=r("ZQ9l"),u=r("gbGO"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderComponent=function(){return i.createElement(s.default,{title:i.createElement("span",{style:{color:this.theme.mediumTextColor}},this.props.title),right:this.props.right})},t.contextTypes=a({},u.menuContextTypes),t}(l.default);t.default=c},zYZA:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{justUnlocked:!1}},t}(r("LEzx").default);t.default=a},zb5D:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},l=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var u=r("LvDl"),c=["name","message","stack","reason","data","info"];function d(e,t,r){var n,o,a,l;if(void 0===t&&(t=10),void 0===r&&(r=new Set),!(t<=0)){if(u.isString(e)||u.isNumber(e)||u.isBoolean(e))return e;if(u.isArray(e)){if(r.has(e))return;return r.add(e),e.map(function(e){return d(e,t-1,r)})}if(u.isError(e)||u.isObjectLike(e)){if(r.has(e))return;r.add(e);var s={};try{for(var p=i(Object.keys(e)),f=p.next();!f.done;f=p.next()){if(!s[g=f.value])if("string"==typeof g&&g.length>0&&"_"===g[0])s[g]="[omitted]";else{var h=e[g];s[g]=d(h,t-1,r)}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}try{for(var m=i(c),y=m.next();!y.done;y=m.next()){var g;if(!s[g=y.value])(h=e[g])&&(s[g]=d(h,t-1,r))}}catch(e){a={error:e}}finally{try{y&&!y.done&&(l=m.return)&&l.call(m)}finally{if(a)throw a.error}}return s}}}t.serializeObject=d;var p=["silent","error","warning","info","debug"];t.shouldLogToConsole=function(e){return p.indexOf(e.logLevel)<=p.indexOf(e.consoleLogLevel)};var f=function(){function e(e){var t=this;this.args=e,this.logglyData={},this.queue=[],this.flushing=!1,this.flush=function(){return o(t,void 0,void 0,function(){var e,t,r,o,i,l,u,c=this;return a(this,function(a){switch(a.label){case 0:if(this.flushing||!(this.queue.length>0))return[3,6];this.flushing=!0,t=this.queue.splice(0,this.queue.length),r=t.map(function(e){return JSON.stringify(n({},d(e),c.logglyData,c.deviceInfo))}).join("\n"),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,fetch(this.url,{method:"post",headers:{"content-type":"text/plain"},body:r})];case 2:return 200===(o=a.sent()).status?[3,4]:(l=(i=this.args.logger).log,u=["Could not reach loggly!",o.status,o.statusText],[4,o.text()]);case 3:l.apply(i,u.concat([a.sent()])),a.label=4;case 4:return this.flushing=!1,[3,6];case 5:return a.sent(),this.flushing=!1,(e=this.queue).splice.apply(e,s([0,0],t)),setTimeout(this.flush,6e4),[3,6];case 6:return[2]}})})};var r=e.token,i=e.platform+"-"+e.env;this.url="http://logs-01.loggly.com/bulk/"+r+"/tag/"+i+"/",this.deviceInfo={os:e.os,platform:e.platform}}return e.prototype.log=function(e){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.args.logger.log(e),"local"===this.args.env?[3,2]:(this.queue.push(e),[4,this.flush()]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},e}();t.Loggly=f},zmp8:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("YUnZ"),i=r("enKW"),l=r("LvDl"),s=function(e){return"rgba(55, 53, 47, "+e+")"},u=function(e){return"rgba(255, 255, 255, "+e+")"},c=function(e,t){return a(e).darken(t).css()},d=function(e,t){return a(e).brighten(t).css()};function p(e){var t=function(t,r){return e>=0&&e<360?t.set("hsl.s",r).set("hsl.h",e):t.set("hsl.s",0)};return{black:t(a.hsl(0,.01,.07),.16),darkgray:t(a.hsl(0,.01,.2),.08),gray:t(a.hsl(0,.01,.5),.06),lightgray:t(a.hsl(0,.01,.8),.04),white:t(a.hsl(0,.01,1),.02)}}t.grayscale={light:p(45),dark:p(205)};var f={whiteWithAlpha:function(e){return void 0===e&&(e=1),"rgba(255, 255, 255, "+e+")"},blackWithAlpha:function(e){return void 0===e&&(e=1),"rgba(0, 0, 0, "+e+")"},redWithAlpha:function(e){return void 0===e&&(e=1),"rgba(235, 87, 87, "+e+")"},blueWithAlpha:function(e){return void 0===e&&(e=1),"rgba(46, 170, 220, "+e+")"}},h={blue:"#2EAADC",red:"#EB5757",contentBorder:"#E4E3E2",contentGrayBackground:"#F7F6F5",contentPlaceholder:"#C4C4C4",defaultText:"rgb(66, 66, 65)",frontBackground:"#FFFEFC",frontBorderColor:"#F2EBE6",uiBlack:"#333",uiExtraLightGray:"#E2E2E2",uiGray:"#A5A5A5",uiLightBlack:"#888",uiLightBorder:"#F2F1F0",uiLightGray:"#C4C4C4"},m={regularTextColor:s(1),mediumTextColor:s(.6),lightTextColor:s(.3),regularIconColor:t.grayscale.light.darkgray.alpha(.8).css(),mediumIconColor:t.grayscale.light.darkgray.alpha(.4).css(),lightIconColor:t.grayscale.light.darkgray.alpha(.2).css(),dividerColor:t.grayscale.light.darkgray.alpha(.09).css(),invertedTextColor:a("white").alpha(.9).css(),redButtonBackground:f.redWithAlpha(.06),redButtonHoveredBackground:f.redWithAlpha(.12),redButtonPressedBackground:f.redWithAlpha(.16)},y={halfWhite:"rgba(255, 255, 255, 0.5)",diffTextColor:h.blue,diffBackground:a(h.blue).alpha(.1).css()},g=n({},{inherit:"inherit",transparent:"transparent",black:"black",white:"white"},f,h,{DismissKeyboardBarBackground:"#F0F1F2",EmailBaseColor:"#333333",EmailBorderColor:"#EEEEEE",EmailCaptionColor:"#AAAAAA",EmailPasswordBackground:"#F4F4F4",FAQListAnswerColor:"#989898",FrontAboutDescriptionColor:"#999",FrontAboutStoryH2Color:"#B3B3B3",FrontBaseGrayTextColor:"#999",FrontBaseSecondaryColor:"#444",FrontBaseTitleColor:"#111",FrontCallToActionsColor:"#989898",FrontColor:"#040402",FrontDesktopHeaderColor:"#040404",FrontDividerColor:"rgba(55, 53, 47, 0.09)",FrontGrayTextColor:"rgba(55, 53, 47, 0.6)",FrontHeaderTextColor:"rgb(55, 53, 47)",FrontIconFill:"rgba(55, 53, 47, 0.2)",FrontMobileHeaderColor:"#040404",FrontMobilePhoneBackground:"#1d1d1d",FrontPageTemplateSidebarLabelTextColor:"rgba(55, 53, 47, 0.3)",FrontPricingDividerColor:"#F5EFE4",FrontPricingPlanFeatureStyle:"#8F8274",FrontProductSectionHeaderColor:"#555",FrontProductTemplatesBackground:"#fcf8f3",FrontProductTestimonialItemColor:"#040404",FrontTemplateSidebarText:"#777",FrontTestimonialAuthorColor:"#D2CDC7",FrontTestimonialQuoteColor:"#7B6E60",twitterBrandBlueColor:"#1da1f2",UIDocNotificationsDarkGrayColor:"#6A6A6A",UIDocNotificationsLightGrayBackground:"#F1F1F1",UIDocNotificationsMediumGrayBackground:"#D7D7D7",UIDocNotificationsMediumLightGrayBackground:"#E9E9E9"},m,y),v={mode:{light:"light",dark:"dark"},regularTextColor:{light:s(1),dark:u(.9)},mediumTextColor:{light:s(.6),dark:u(.6)},lightTextColor:{light:s(.4),dark:u(.4)},pageTitlePlaceholderTextColor:{light:"rgba(55, 53, 47, 0.15)",dark:"rgba(255, 255, 255, 0.2)"},headerBlockPlaceholderTextColor:{light:"rgba(55, 53, 47, 0.2)",dark:"rgba(255, 255, 255, 0.25)"},regularInvertedTextColor:{light:t.grayscale.light.white.alpha(.9).css(),dark:t.grayscale.dark.black.alpha(1).css()},mediumInvertedTextColor:{light:t.grayscale.light.lightgray.alpha(.6).css(),dark:t.grayscale.dark.darkgray.alpha(.6).css()},regularIconColor:{light:s(.8),dark:t.grayscale.dark.lightgray.alpha(1).css()},mediumIconColor:{light:s(.4),dark:t.grayscale.dark.lightgray.alpha(.6).css()},lightIconColor:{light:s(.3),dark:t.grayscale.dark.lightgray.alpha(.4).css()},regularDividerColor:{light:t.grayscale.light.darkgray.alpha(.09).css(),dark:t.grayscale.dark.white.alpha(.07).css()},darkDividerColor:{light:t.grayscale.light.darkgray.alpha(.16).css(),dark:t.grayscale.dark.white.alpha(.14).css()},sidebarTextColor:{light:"rgba(25, 23, 17, 0.6)",dark:"rgba(255, 255, 255, 0.6)"},sidebarBackground:{light:"rgb(247, 246, 243)",dark:"rgb(55, 60, 63)"},floatingSidebarBackground:{light:g.white,dark:"rgb(55, 60, 63)"},sidebarItemSelectedBackground:{light:"#E8E7E4",dark:"#454A4D"},sidebarHideButtonHoveredBackground:{light:c("#E8E7E4",.3),dark:d("#454A4D",.4)},sidebarHideButtonPressedBackground:{light:c("#E8E7E4",.6),dark:d("#454A4D",.6)},mobileSidebarIOSBackground:{light:"rgb(247, 246, 243)",dark:a("rgb(55, 60, 63)").darken(.4).css()},mobileSidebarAndroidBackground:{light:g.white,dark:"rgb(55, 60, 63)"},contentBackground:{light:g.white,dark:t.grayscale.dark.darkgray.css()},dialogBackground:{light:g.white,dark:t.grayscale.dark.darkgray.brighten(.4).css()},popoverBackground:{light:g.white,dark:t.grayscale.dark.darkgray.brighten(.4).css()},modalBackground:{light:t.grayscale.light.black.alpha(.6).css(),dark:t.grayscale.dark.black.alpha(.6).css()},tooltipBackground:{light:t.grayscale.light.black.css(),dark:t.grayscale.dark.lightgray.css()},beigeBannerBackground:{light:"#FBF8F3",dark:"rgb(55, 60, 63)"},codeBlockBackground:{light:"rgb(247, 246, 243)",dark:"rgb(63, 68, 71)"},embedPlaceholderBackground:{light:a("rgb(247, 246, 243)").darken(.1).css(),dark:a("rgb(55, 60, 63)").brighten(.2).css()},inputBackground:{light:t.grayscale.light.lightgray.brighten(.7).alpha(.6).css(),dark:t.grayscale.dark.black.alpha(.3).css()},focusDiscussionBackground:{light:t.grayscale.light.gray.alpha(.1).css(),dark:t.grayscale.dark.darkgray.alpha(.4).css()},onboardingInputBackground:{light:g.white,dark:t.grayscale.dark.black.alpha(.3).css()},mobileBarBackground:{light:g.white,dark:t.grayscale.dark.darkgray.brighten(.2).css()},mobileCellBackground:{light:g.white,dark:t.grayscale.dark.darkgray.brighten(.2).css()},mobileViewBackground:{light:t.grayscale.light.lightgray.brighten(.8).css(),dark:t.grayscale.dark.darkgray.css()},blueColor:{light:"rgb(46, 170, 220)",dark:u(.9)},buttonBackground:{light:g.white,dark:t.grayscale.dark.darkgray.brighten(.8).css()},buttonHoveredBackground:{light:t.grayscale.light.darkgray.alpha(.08).css(),dark:t.grayscale.dark.darkgray.brighten(.6).css()},buttonPressedBackground:{light:t.grayscale.light.darkgray.alpha(.16).css(),dark:t.grayscale.dark.darkgray.brighten(.4).css()},cardHoveredBackground:{light:t.grayscale.light.darkgray.alpha(.03).css(),dark:t.grayscale.dark.darkgray.brighten(.6).css()},cardPressedBackground:{light:t.grayscale.light.darkgray.alpha(.06).css(),dark:t.grayscale.dark.darkgray.brighten(.4).css()},blueButtonHoveredBackground:{light:c(g.blue,.3),dark:c(g.blue,.3)},blueButtonPressedBackground:{light:c(g.blue,.6),dark:c(g.blue,.6)},whiteButtonBackground:{light:g.white,dark:t.grayscale.dark.darkgray.css()},whiteButtonHoveredBackground:{light:"rgb(239, 239, 238)",dark:"rgb(98, 102, 104)"},whiteButtonPressedBackground:{light:"rgb(223, 223, 222)",dark:"rgb(120, 123, 123)"},outlineBlueButtonHoveredBackground:{light:"rgba(46, 170, 220, 0.1)",dark:u(.1)},outlineBlueButtonPressedBackground:{light:"rgba(46, 170, 220, 0.2)",dark:u(.2)},outlineRedButtonBorder:{light:g.redWithAlpha(.5),dark:g.redWithAlpha(.5)},outlineRedButtonHoveredBackground:{light:g.redWithAlpha(.1),dark:g.redWithAlpha(.1)},outlineRedButtonPressedBackground:{light:g.redWithAlpha(.2),dark:g.redWithAlpha(.2)},outlineButtonBorder:{light:t.grayscale.light.darkgray.alpha(.16).css(),dark:t.grayscale.dark.white.alpha(.14).css()},radioButtonBorder:{light:g.blackWithAlpha(.2),dark:g.whiteWithAlpha(.5)},accordeonBackground:{light:g.blackWithAlpha(.03),dark:"rgb(55, 60, 63)"},blockColors:{light:{default:{},gray:{color:s(.6)},brown:{color:"rgb(100,71,58)"},orange:{color:"rgb(217,115,13)"},yellow:{color:"rgb(223,171,1)"},teal:{color:"rgb(15,123,108)"},blue:{color:"rgb(11,110,153)"},purple:{color:"rgb(105,64,165)"},pink:{color:"rgb(173,26,114)"},red:{color:"rgb(224,62,62)"},gray_background:{background:"rgb(235,236,237)"},brown_background:{background:"rgb(233,229,227)"},orange_background:{background:"rgb(250,235,221)"},yellow_background:{background:"rgb(251,243,219)"},teal_background:{background:"rgb(221,237,234)"},blue_background:{background:"rgb(221,235,241)"},purple_background:{background:"rgb(234,228,242)"},pink_background:{background:"rgb(244,223,235)"},red_background:{background:"rgb(251,228,228)"}},dark:{default:{},gray:{color:u(.6)},brown:{color:"rgb(147,114,100)"},orange:{color:"rgb(255,163,68)"},yellow:{color:"rgb(255,220,73)"},teal:{color:"rgb(77,171,154)"},blue:{color:"rgb(82,156,202)"},purple:{color:"rgb(154,109,215)"},pink:{color:"rgb(226,85,161)"},red:{color:"rgb(255,115,105)"},gray_background:{background:"rgb(69,75,78)"},brown_background:{background:"rgb(67,64,64)"},orange_background:{background:"rgb(89,74,58)"},yellow_background:{background:"rgb(89,86,59)"},teal_background:{background:"rgb(53,76,75)"},blue_background:{background:"rgb(54,73,84)"},purple_background:{background:"rgb(68,63,87)"},pink_background:{background:"rgb(83,59,76)"},red_background:{background:"rgb(89,65,65)"}}},selectColors:{light:{default:t.grayscale.light.lightgray.alpha(.5).css(),gray:"rgba(155,154,151, 0.4)",brown:"rgba(140,46,0,0.2)",orange:"rgba(245,93,0,0.2)",yellow:"rgba(233,168,0,0.2)",green:"rgba(0,135,107,0.2)",blue:"rgba(0,120,223,0.2)",purple:"rgba(103,36,222,0.2)",pink:"rgba(221,0,129,0.2)",red:"rgba(255,0,26,0.2)"},dark:{default:t.grayscale.dark.darkgray.brighten(.8).css(),gray:"rgba(151,154,155,0.5)",brown:"rgba(147,114,100, 0.5)",orange:"rgba(255,163,68, 0.5)",yellow:"rgba(255,220,73, 0.5)",green:"rgba(77,171,154, 0.5)",blue:"rgba(82,156,202, 0.5)",purple:"rgba(154,109,215, 0.5)",pink:"rgba(226,85,161, 0.5)",red:"rgba(255,115,105, 0.5)"}},highlightColors:{light:{default:{},gray:{color:"rgb(155,154,151)"},brown:{color:"rgb(100,71,58)"},orange:{color:"rgb(217,115,13)"},yellow:{color:"rgb(223,171,1)"},teal:{color:"rgb(15,123,108)"},blue:{color:"rgb(11,110,153)"},purple:{color:"rgb(105,64,165)"},pink:{color:"rgb(173,26,114)"},red:{color:"rgb(224,62,62)"},gray_background:{background:"rgb(235,236,237)"},brown_background:{background:"rgb(233,229,227)"},orange_background:{background:"rgb(250,235,221)"},yellow_background:{background:"rgb(251,243,219)"},teal_background:{background:"rgb(221,237,234)"},blue_background:{background:"rgb(221,235,241)"},purple_background:{background:"rgb(234,228,242)"},pink_background:{background:"rgb(244,223,235)"},red_background:{background:"rgb(251,228,228)"}},dark:{default:{},gray:{color:"rgba(151,154,155,0.95)"},brown:{color:"rgb(147,114,100)"},orange:{color:"rgb(255,163,68)"},yellow:{color:"rgb(255,220,73)"},teal:{color:"rgb(77,171,154)"},blue:{color:"rgb(82,156,202)"},purple:{color:"rgb(154,109,215)"},pink:{color:"rgb(226,85,161)"},red:{color:"rgb(255,115,105)"},gray_background:{background:"rgb(69,75,78)"},brown_background:{background:"rgb(67,64,64)"},orange_background:{background:"rgb(89,74,58)"},yellow_background:{background:"rgb(89,86,59)"},teal_background:{background:"rgb(53,76,75)"},blue_background:{background:"rgb(54,73,84)"},purple_background:{background:"rgb(68,63,87)"},pink_background:{background:"rgb(83,59,76)"},red_background:{background:"rgb(89,65,65)"}}},shadowColor:{light:t.grayscale.light.black,dark:t.grayscale.dark.black},shadowOpacity:{light:.1,dark:.2},inputBoxShadow:{light:i.getShadow({elevation:1,color:t.grayscale.light.black,opacity:.1,inner:!0}),dark:i.getShadow({elevation:1,color:t.grayscale.dark.black,opacity:.2,inner:!0})},popoverBoxShadow:{light:i.getShadow({elevation:3,color:t.grayscale.light.black,opacity:.1}),dark:i.getShadow({elevation:3,color:t.grayscale.dark.black,opacity:.2})},dialogBoxShadow:{light:i.getShadow({elevation:5,color:t.grayscale.light.black,opacity:.1}),dark:i.getShadow({elevation:5,color:t.grayscale.dark.black,opacity:.2})},templatePickerItemShadow:{light:i.getShadow({elevation:2,color:t.grayscale.light.black,opacity:.1}),dark:i.getShadow({elevation:2,color:t.grayscale.dark.black,opacity:.2})},sidebarResizerBoxShadow:{light:"inset -2px 0px 0px 0px rgba(0, 0, 0, 0.1)",dark:"inset -2px 0px 0px 0px rgba(255, 255, 255, 0.1)"}};t.getTheme=l.memoize(function(e){var t,r,n={},a=Object.keys(v);try{for(var i=o(a),l=i.next();!l.done;l=i.next()){var s=l.value;n[s]=v[s][e]}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n});var b=Object.keys(v.blockColors.light);function w(e,t){var r=Object.keys(t).map(function(r){var n=t[r];try{return{name:r,distance:a.distance(e,n)}}catch(e){return{name:r,distance:360}}});return l.minBy(r,function(e){return e.distance}).name}t.blockTextColors=b.filter(function(e){return-1===e.indexOf("background")}),t.blockBackgroundColors=b.filter(function(e){return-1!==e.indexOf("background")}),t.getBlockColorName=function(e){return e.split("_").map(function(e){return"teal"===e?"green":e}).map(l.capitalize).join(" ")},t.getBlockColorStyle=function(e,t){return"default"===e?{color:t.regularTextColor}:t.blockColors[e]},t.selectColors=Object.keys(v.selectColors.light),t.getHighlightColorStyle=function(e,t){return"default"===e?{color:t.regularTextColor}:t.highlightColors[e]},t.commentUnderlineColor="rgb(255, 212, 0)",t.temporaryCommentBackground="rgba(255, 212, 0, 0.14)",t.commentContextBarBackground="rgba(255, 212, 0, 0.8)",t.commentBackgroundWithLevel=function(e,r){return a(t.commentUnderlineColor).alpha(.14*(1===e?e:2*e)).css()},t.getDefaultTheme=function(){return t.getTheme("light")},t.findClosestColor=w,t.findClosestSelectColor=function(e){return w(e,t.getTheme("light").selectColors)},t.getRandomSelectColor=function(e){var r=t.selectColors.filter(function(t){return!e.find(function(e){return e.color===t})}),n=r.length>0?r:t.selectColors;return n[l.random(0,n.length-1)]},t.default=g},zok3:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("njgS"),i=r("NoAG"),l=r("bPtJ"),s=r("wpmu"),u=r("HRSx"),c=function(e){function t(t,r){return e.call(this,i.default.table,t,[],r)||this}return o(t,e),t.createChildStore=function(e,r){var n=l.default.getChildStoreKey(i.default.table,r,t.keyName),o=e.getRecordStoreChildStore(n),a=o||new t(r,e.recordCacheStore);return o||a.setRecordStoreParent(e,n),a},t.prototype.clone=function(){return new t(this.id,this.recordCacheStore)},t.prototype.getFormatStore=function(){return l.createRecordKeyStore(this,i.default.table,this.id,"format")},t.prototype.getFormat=function(){var e=this.getValue();return e&&e.format?e.format:{}},t.prototype.getPageSortStore=function(){return l.createRecordKeyStore(this,i.default.table,this.id,"page_sort")},t.prototype.getPageSort=function(){var e=this.getValue();return e&&e.page_sort?e.page_sort:[]},t.prototype.getCollectionStore=function(){var e=this.getValue();if(e&&e.parent_id&&e.parent_table===u.default.table)return s.default.createChildStore(this,e.parent_id).getCollectionViewCollectionStore()},t.prototype.getQuery=function(){var e=this.getValue();if(e){var t=this.getCollectionStore();if(t){var r=t.getSchema();return a.getNormalizedQuery(e,r)}}},t.prototype.getIcon=function(){var e=this.getIconStore();if(e)return e.getValue()},t.prototype.getIconStore=function(){return l.createRecordKeyStore(this,i.default.table,this.id,"icon")},t.prototype.getType=function(){var e=this.getValue();return e?e.type:void 0},t.prototype.getParentBlockStore=function(){var e=this.getValue();if(e&&e.parent_id&&e.parent_table===u.default.table)return s.default.createChildStore(this,e.parent_id)},t.keyName="CollectionViewStore",t}(l.default);t.default=c},zttk:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("LEzx");!function(e){e.Red="red",e.Blue="blue",e.Gray="gray",e.Beige="beige"}(t.BannerType||(t.BannerType={}));var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getInitialState=function(){return{banners:[]}},t}(a.default);t.default=i}});